const __vite__fileDeps=["assets/c4Diagram-ae766693-g5Ik2ITI.js","assets/svgDrawCommon-5e1cfd1d-Co5AuJIU.js","assets/flowDiagram-b222e15a-DYeo4abt.js","assets/flowDb-c1833063-D-OQGdIn.js","assets/graph-BMMbrnS6.js","assets/layout-D3TnNHVs.js","assets/styles-483fbfea-DrOkDVla.js","assets/index-01f381cb-jF6m1AOB.js","assets/clone-CP8tZNSg.js","assets/edges-066a5561-BqEEfNFM.js","assets/createText-ca0c5216-COMuuOtQ.js","assets/line-BtM29xAO.js","assets/array-BKyUJesY.js","assets/path-CbwjOpE9.js","assets/channel-DiiyN7NL.js","assets/flowDiagram-v2-13329dc7-gmlls2It.js","assets/erDiagram-09d1c15f-BDmAsyaO.js","assets/ganttDiagram-b62c793e-DtdBemkE.js","assets/linear-yaMFXtc3.js","assets/init-Gi6I4Gst.js","assets/pieDiagram-bb1d19e5-CXRsEBIg.js","assets/arc-gtYvWDs2.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-c759a472-BAdUMEjP.js","assets/xychartDiagram-f11f50a6-Ce0W0ywf.js","assets/requirementDiagram-87253d64-BdjqaeTl.js","assets/sequenceDiagram-6894f283-CNOjFc15.js","assets/classDiagram-fb54d2a0-BhHSfSaZ.js","assets/styles-b83b31c9-CQ1EgPle.js","assets/classDiagram-v2-a2b738ad-Ds1gcV-b.js","assets/stateDiagram-5dee940d-DyCGUrG7.js","assets/styles-0784dbeb-DB4Pkvpw.js","assets/stateDiagram-v2-1992cada-DoLVwNaT.js","assets/journeyDiagram-6625b456-DtBKl7Vd.js","assets/flowchart-elk-definition-ae0efee6-grqLj5t-.js","assets/timeline-definition-bf702344-DeUpEkVP.js","assets/mindmap-definition-307c710a-D5ROqsbV.js","assets/sankeyDiagram-707fac0f-BsBCRcGB.js","assets/Tableau10-B-NsZVaP.js","assets/blockDiagram-9f4a6865-DZAJ2pgP.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var _i=Object.defineProperty;var eo=(b,$,_e)=>$ in b?_i(b,$,{enumerable:!0,configurable:!0,writable:!0,value:_e}):b[$]=_e;var Hn=(b,$,_e)=>(eo(b,typeof $!="symbol"?$+"":$,_e),_e),to=(b,$,_e)=>{if(!$.has(b))throw TypeError("Cannot "+_e)};var Gr=(b,$,_e)=>{if($.has(b))throw TypeError("Cannot add the same private member more than once");$ instanceof WeakSet?$.add(b):$.set(b,_e)};var Hr=(b,$,_e)=>(to(b,$,"access private method"),_e);function _mergeNamespaces(b,$){for(var _e=0;_e<$.length;_e++){const et=$[_e];if(typeof et!="string"&&!Array.isArray(et)){for(const tt in et)if(tt!=="default"&&!(tt in b)){const nt=Object.getOwnPropertyDescriptor(et,tt);nt&&Object.defineProperty(b,tt,nt.get?nt:{enumerable:!0,get:()=>et[tt]})}}}return Object.freeze(Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}))}(function(){const $=document.createElement("link").relList;if($&&$.supports&&$.supports("modulepreload"))return;for(const tt of document.querySelectorAll('link[rel="modulepreload"]'))et(tt);new MutationObserver(tt=>{for(const nt of tt)if(nt.type==="childList")for(const rt of nt.addedNodes)rt.tagName==="LINK"&&rt.rel==="modulepreload"&&et(rt)}).observe(document,{childList:!0,subtree:!0});function _e(tt){const nt={};return tt.integrity&&(nt.integrity=tt.integrity),tt.referrerPolicy&&(nt.referrerPolicy=tt.referrerPolicy),tt.crossOrigin==="use-credentials"?nt.credentials="include":tt.crossOrigin==="anonymous"?nt.credentials="omit":nt.credentials="same-origin",nt}function et(tt){if(tt.ep)return;tt.ep=!0;const nt=_e(tt);fetch(tt.href,nt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(b){return b&&b.__esModule&&Object.prototype.hasOwnProperty.call(b,"default")?b.default:b}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$6=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(b){return b===null||typeof b!="object"?null:(b=z$1&&b[z$1]||b["@@iterator"],typeof b=="function"?b:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(b,$,_e){this.props=b,this.context=$,this.refs=D$1,this.updater=_e||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(b,$){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,$,"setState")};E$1.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(b,$,_e){this.props=b,this.context=$,this.refs=D$1,this.updater=_e||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(b,$,_e){var et,tt={},nt=null,rt=null;if($!=null)for(et in $.ref!==void 0&&(rt=$.ref),$.key!==void 0&&(nt=""+$.key),$)J.call($,et)&&!L$1.hasOwnProperty(et)&&(tt[et]=$[et]);var ot=arguments.length-2;if(ot===1)tt.children=_e;else if(1<ot){for(var st=Array(ot),ct=0;ct<ot;ct++)st[ct]=arguments[ct+2];tt.children=st}if(b&&b.defaultProps)for(et in ot=b.defaultProps,ot)tt[et]===void 0&&(tt[et]=ot[et]);return{$$typeof:l$2,type:b,key:nt,ref:rt,props:tt,_owner:K$1.current}}function N$1(b,$){return{$$typeof:l$2,type:b.type,key:$,ref:b.ref,props:b.props,_owner:b._owner}}function O$1(b){return typeof b=="object"&&b!==null&&b.$$typeof===l$2}function escape$3(b){var $={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(_e){return $[_e]})}var P$1=/\/+/g;function Q$1(b,$){return typeof b=="object"&&b!==null&&b.key!=null?escape$3(""+b.key):$.toString(36)}function R$1(b,$,_e,et,tt){var nt=typeof b;(nt==="undefined"||nt==="boolean")&&(b=null);var rt=!1;if(b===null)rt=!0;else switch(nt){case"string":case"number":rt=!0;break;case"object":switch(b.$$typeof){case l$2:case n$3:rt=!0}}if(rt)return rt=b,tt=tt(rt),b=et===""?"."+Q$1(rt,0):et,I$1(tt)?(_e="",b!=null&&(_e=b.replace(P$1,"$&/")+"/"),R$1(tt,$,_e,"",function(ct){return ct})):tt!=null&&(O$1(tt)&&(tt=N$1(tt,_e+(!tt.key||rt&&rt.key===tt.key?"":(""+tt.key).replace(P$1,"$&/")+"/")+b)),$.push(tt)),1;if(rt=0,et=et===""?".":et+":",I$1(b))for(var ot=0;ot<b.length;ot++){nt=b[ot];var st=et+Q$1(nt,ot);rt+=R$1(nt,$,_e,st,tt)}else if(st=A$1(b),typeof st=="function")for(b=st.call(b),ot=0;!(nt=b.next()).done;)nt=nt.value,st=et+Q$1(nt,ot++),rt+=R$1(nt,$,_e,st,tt);else if(nt==="object")throw $=String(b),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return rt}function S$1(b,$,_e){if(b==null)return b;var et=[],tt=0;return R$1(b,et,"","",function(nt){return $.call(_e,nt,tt++)}),et}function T$1(b){if(b._status===-1){var $=b._result;$=$(),$.then(function(_e){(b._status===0||b._status===-1)&&(b._status=1,b._result=_e)},function(_e){(b._status===0||b._status===-1)&&(b._status=2,b._result=_e)}),b._status===-1&&(b._status=0,b._result=$)}if(b._status===1)return b._result.default;throw b._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$1,forEach:function(b,$,_e){S$1(b,function(){$.apply(this,arguments)},_e)},count:function(b){var $=0;return S$1(b,function(){$++}),$},toArray:function(b){return S$1(b,function($){return $})||[]},only:function(b){if(!O$1(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};react_production_min.Component=E$1;react_production_min.Fragment=p$6;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(b,$,_e){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var et=C$1({},b.props),tt=b.key,nt=b.ref,rt=b._owner;if($!=null){if($.ref!==void 0&&(nt=$.ref,rt=K$1.current),$.key!==void 0&&(tt=""+$.key),b.type&&b.type.defaultProps)var ot=b.type.defaultProps;for(st in $)J.call($,st)&&!L$1.hasOwnProperty(st)&&(et[st]=$[st]===void 0&&ot!==void 0?ot[st]:$[st])}var st=arguments.length-2;if(st===1)et.children=_e;else if(1<st){ot=Array(st);for(var ct=0;ct<st;ct++)ot[ct]=arguments[ct+2];et.children=ot}return{$$typeof:l$2,type:b.type,key:tt,ref:nt,props:et,_owner:rt}};react_production_min.createContext=function(b){return b={$$typeof:u$1,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:t$2,_context:b},b.Consumer=b};react_production_min.createElement=M$1;react_production_min.createFactory=function(b){var $=M$1.bind(null,b);return $.type=b,$};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(b){return{$$typeof:v$2,render:b}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(b){return{$$typeof:y,_payload:{_status:-1,_result:b},_init:T$1}};react_production_min.memo=function(b,$){return{$$typeof:x,type:b,compare:$===void 0?null:$}};react_production_min.startTransition=function(b){var $=V$1.transition;V$1.transition={};try{b()}finally{V$1.transition=$}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(b,$){return U$1.current.useCallback(b,$)};react_production_min.useContext=function(b){return U$1.current.useContext(b)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(b){return U$1.current.useDeferredValue(b)};react_production_min.useEffect=function(b,$){return U$1.current.useEffect(b,$)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(b,$,_e){return U$1.current.useImperativeHandle(b,$,_e)};react_production_min.useInsertionEffect=function(b,$){return U$1.current.useInsertionEffect(b,$)};react_production_min.useLayoutEffect=function(b,$){return U$1.current.useLayoutEffect(b,$)};react_production_min.useMemo=function(b,$){return U$1.current.useMemo(b,$)};react_production_min.useReducer=function(b,$,_e){return U$1.current.useReducer(b,$,_e)};react_production_min.useRef=function(b){return U$1.current.useRef(b)};react_production_min.useState=function(b){return U$1.current.useState(b)};react_production_min.useSyncExternalStore=function(b,$,_e){return U$1.current.useSyncExternalStore(b,$,_e)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$2=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q(b,$,_e){var et,tt={},nt=null,rt=null;_e!==void 0&&(nt=""+_e),$.key!==void 0&&(nt=""+$.key),$.ref!==void 0&&(rt=$.ref);for(et in $)m$3.call($,et)&&!p$5.hasOwnProperty(et)&&(tt[et]=$[et]);if(b&&b.defaultProps)for(et in $=b.defaultProps,$)tt[et]===void 0&&(tt[et]=$[et]);return{$$typeof:k$1,type:b,key:nt,ref:rt,props:tt,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(b){function $($t,Ot){var Rt=$t.length;$t.push(Ot);e:for(;0<Rt;){var Nt=Rt-1>>>1,Ft=$t[Nt];if(0<tt(Ft,Ot))$t[Nt]=Ot,$t[Rt]=Ft,Rt=Nt;else break e}}function _e($t){return $t.length===0?null:$t[0]}function et($t){if($t.length===0)return null;var Ot=$t[0],Rt=$t.pop();if(Rt!==Ot){$t[0]=Rt;e:for(var Nt=0,Ft=$t.length,Ht=Ft>>>1;Nt<Ht;){var zt=2*(Nt+1)-1,an=$t[zt],Jt=zt+1,Zt=$t[Jt];if(0>tt(an,Rt))Jt<Ft&&0>tt(Zt,an)?($t[Nt]=Zt,$t[Jt]=Rt,Nt=Jt):($t[Nt]=an,$t[zt]=Rt,Nt=zt);else if(Jt<Ft&&0>tt(Zt,Rt))$t[Nt]=Zt,$t[Jt]=Rt,Nt=Jt;else break e}}return Ot}function tt($t,Ot){var Rt=$t.sortIndex-Ot.sortIndex;return Rt!==0?Rt:$t.id-Ot.id}if(typeof performance=="object"&&typeof performance.now=="function"){var nt=performance;b.unstable_now=function(){return nt.now()}}else{var rt=Date,ot=rt.now();b.unstable_now=function(){return rt.now()-ot}}var st=[],ct=[],lt=1,at=null,it=3,ut=!1,dt=!1,ht=!1,ft=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function gt($t){for(var Ot=_e(ct);Ot!==null;){if(Ot.callback===null)et(ct);else if(Ot.startTime<=$t)et(ct),Ot.sortIndex=Ot.expirationTime,$(st,Ot);else break;Ot=_e(ct)}}function vt($t){if(ht=!1,gt($t),!dt)if(_e(st)!==null)dt=!0,Et(yt);else{var Ot=_e(ct);Ot!==null&&Tt(vt,Ot.startTime-$t)}}function yt($t,Ot){dt=!1,ht&&(ht=!1,pt(_t),_t=-1),ut=!0;var Rt=it;try{for(gt(Ot),at=_e(st);at!==null&&(!(at.expirationTime>Ot)||$t&&!Pt());){var Nt=at.callback;if(typeof Nt=="function"){at.callback=null,it=at.priorityLevel;var Ft=Nt(at.expirationTime<=Ot);Ot=b.unstable_now(),typeof Ft=="function"?at.callback=Ft:at===_e(st)&&et(st),gt(Ot)}else et(st);at=_e(st)}if(at!==null)var Ht=!0;else{var zt=_e(ct);zt!==null&&Tt(vt,zt.startTime-Ot),Ht=!1}return Ht}finally{at=null,it=Rt,ut=!1}}var bt=!1,xt=null,_t=-1,wt=5,At=-1;function Pt(){return!(b.unstable_now()-At<wt)}function jt(){if(xt!==null){var $t=b.unstable_now();At=$t;var Ot=!0;try{Ot=xt(!0,$t)}finally{Ot?kt():(bt=!1,xt=null)}}else bt=!1}var kt;if(typeof mt=="function")kt=function(){mt(jt)};else if(typeof MessageChannel<"u"){var St=new MessageChannel,Ct=St.port2;St.port1.onmessage=jt,kt=function(){Ct.postMessage(null)}}else kt=function(){ft(jt,0)};function Et($t){xt=$t,bt||(bt=!0,kt())}function Tt($t,Ot){_t=ft(function(){$t(b.unstable_now())},Ot)}b.unstable_IdlePriority=5,b.unstable_ImmediatePriority=1,b.unstable_LowPriority=4,b.unstable_NormalPriority=3,b.unstable_Profiling=null,b.unstable_UserBlockingPriority=2,b.unstable_cancelCallback=function($t){$t.callback=null},b.unstable_continueExecution=function(){dt||ut||(dt=!0,Et(yt))},b.unstable_forceFrameRate=function($t){0>$t||125<$t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):wt=0<$t?Math.floor(1e3/$t):5},b.unstable_getCurrentPriorityLevel=function(){return it},b.unstable_getFirstCallbackNode=function(){return _e(st)},b.unstable_next=function($t){switch(it){case 1:case 2:case 3:var Ot=3;break;default:Ot=it}var Rt=it;it=Ot;try{return $t()}finally{it=Rt}},b.unstable_pauseExecution=function(){},b.unstable_requestPaint=function(){},b.unstable_runWithPriority=function($t,Ot){switch($t){case 1:case 2:case 3:case 4:case 5:break;default:$t=3}var Rt=it;it=$t;try{return Ot()}finally{it=Rt}},b.unstable_scheduleCallback=function($t,Ot,Rt){var Nt=b.unstable_now();switch(typeof Rt=="object"&&Rt!==null?(Rt=Rt.delay,Rt=typeof Rt=="number"&&0<Rt?Nt+Rt:Nt):Rt=Nt,$t){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=Rt+Ft,$t={id:lt++,callback:Ot,priorityLevel:$t,startTime:Rt,expirationTime:Ft,sortIndex:-1},Rt>Nt?($t.sortIndex=Rt,$(ct,$t),_e(st)===null&&$t===_e(ct)&&(ht?(pt(_t),_t=-1):ht=!0,Tt(vt,Rt-Nt))):($t.sortIndex=Ft,$(st,$t),dt||ut||(dt=!0,Et(yt))),$t},b.unstable_shouldYield=Pt,b.unstable_wrapCallback=function($t){var Ot=it;return function(){var Rt=it;it=Ot;try{return $t.apply(this,arguments)}finally{it=Rt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$4(b){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+b,_e=1;_e<arguments.length;_e++)$+="&args[]="+encodeURIComponent(arguments[_e]);return"Minified React error #"+b+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(b,$){ha(b,$),ha(b+"Capture",$)}function ha(b,$){for(ea[b]=$,b=0;b<$.length;b++)da.add($[b])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(b){return ja.call(ma,b)?!0:ja.call(la,b)?!1:ka.test(b)?ma[b]=!0:(la[b]=!0,!1)}function pa(b,$,_e,et){if(_e!==null&&_e.type===0)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return et?!1:_e!==null?!_e.acceptsBooleans:(b=b.toLowerCase().slice(0,5),b!=="data-"&&b!=="aria-");default:return!1}}function qa(b,$,_e,et){if($===null||typeof $>"u"||pa(b,$,_e,et))return!0;if(et)return!1;if(_e!==null)switch(_e.type){case 3:return!$;case 4:return $===!1;case 5:return isNaN($);case 6:return isNaN($)||1>$}return!1}function v$1(b,$,_e,et,tt,nt,rt){this.acceptsBooleans=$===2||$===3||$===4,this.attributeName=et,this.attributeNamespace=tt,this.mustUseProperty=_e,this.propertyName=b,this.type=$,this.sanitizeURL=nt,this.removeEmptyString=rt}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(b){z[b]=new v$1(b,0,!1,b,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(b){var $=b[0];z[$]=new v$1($,1,!1,b[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(b){z[b]=new v$1(b,2,!1,b.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(b){z[b]=new v$1(b,2,!1,b,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(b){z[b]=new v$1(b,3,!1,b.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(b){z[b]=new v$1(b,3,!0,b,null,!1,!1)});["capture","download"].forEach(function(b){z[b]=new v$1(b,4,!1,b,null,!1,!1)});["cols","rows","size","span"].forEach(function(b){z[b]=new v$1(b,6,!1,b,null,!1,!1)});["rowSpan","start"].forEach(function(b){z[b]=new v$1(b,5,!1,b.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(b){return b[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(b){var $=b.replace(ra,sa);z[$]=new v$1($,1,!1,b,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(b){var $=b.replace(ra,sa);z[$]=new v$1($,1,!1,b,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(b){var $=b.replace(ra,sa);z[$]=new v$1($,1,!1,b,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(b){z[b]=new v$1(b,1,!1,b.toLowerCase(),null,!1,!1)});z.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(b){z[b]=new v$1(b,1,!1,b.toLowerCase(),null,!0,!0)});function ta(b,$,_e,et){var tt=z.hasOwnProperty($)?z[$]:null;(tt!==null?tt.type!==0:et||!(2<$.length)||$[0]!=="o"&&$[0]!=="O"||$[1]!=="n"&&$[1]!=="N")&&(qa($,_e,tt,et)&&(_e=null),et||tt===null?oa($)&&(_e===null?b.removeAttribute($):b.setAttribute($,""+_e)):tt.mustUseProperty?b[tt.propertyName]=_e===null?tt.type===3?!1:"":_e:($=tt.attributeName,et=tt.attributeNamespace,_e===null?b.removeAttribute($):(tt=tt.type,_e=tt===3||tt===4&&_e===!0?"":""+_e,et?b.setAttributeNS(et,$,_e):b.setAttribute($,_e))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(b){return b===null||typeof b!="object"?null:(b=Ja&&b[Ja]||b["@@iterator"],typeof b=="function"?b:null)}var A=Object.assign,La;function Ma(b){if(La===void 0)try{throw Error()}catch(_e){var $=_e.stack.trim().match(/\n( *(at )?)/);La=$&&$[1]||""}return`
`+La+b}var Na=!1;function Oa(b,$){if(!b||Na)return"";Na=!0;var _e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($)if($=function(){throw Error()},Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(ct){var et=ct}Reflect.construct(b,[],$)}else{try{$.call()}catch(ct){et=ct}b.call($.prototype)}else{try{throw Error()}catch(ct){et=ct}b()}}catch(ct){if(ct&&et&&typeof ct.stack=="string"){for(var tt=ct.stack.split(`
`),nt=et.stack.split(`
`),rt=tt.length-1,ot=nt.length-1;1<=rt&&0<=ot&&tt[rt]!==nt[ot];)ot--;for(;1<=rt&&0<=ot;rt--,ot--)if(tt[rt]!==nt[ot]){if(rt!==1||ot!==1)do if(rt--,ot--,0>ot||tt[rt]!==nt[ot]){var st=`
`+tt[rt].replace(" at new "," at ");return b.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",b.displayName)),st}while(1<=rt&&0<=ot);break}}}finally{Na=!1,Error.prepareStackTrace=_e}return(b=b?b.displayName||b.name:"")?Ma(b):""}function Pa(b){switch(b.tag){case 5:return Ma(b.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return b=Oa(b.type,!1),b;case 11:return b=Oa(b.type.render,!1),b;case 1:return b=Oa(b.type,!0),b;default:return""}}function Qa(b){if(b==null)return null;if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b;switch(b){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof b=="object")switch(b.$$typeof){case Ca:return(b.displayName||"Context")+".Consumer";case Ba:return(b._context.displayName||"Context")+".Provider";case Da:var $=b.render;return b=b.displayName,b||(b=$.displayName||$.name||"",b=b!==""?"ForwardRef("+b+")":"ForwardRef"),b;case Ga:return $=b.displayName||null,$!==null?$:Qa(b.type)||"Memo";case Ha:$=b._payload,b=b._init;try{return Qa(b($))}catch{}}return null}function Ra(b){var $=b.type;switch(b.tag){case 24:return"Cache";case 9:return($.displayName||"Context")+".Consumer";case 10:return($._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return b=$.render,b=b.displayName||b.name||"",$.displayName||(b!==""?"ForwardRef("+b+")":"ForwardRef");case 7:return"Fragment";case 5:return $;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa($);case 8:return $===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $}return null}function Sa(b){switch(typeof b){case"boolean":case"number":case"string":case"undefined":return b;case"object":return b;default:return""}}function Ta(b){var $=b.type;return(b=b.nodeName)&&b.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function Ua(b){var $=Ta(b)?"checked":"value",_e=Object.getOwnPropertyDescriptor(b.constructor.prototype,$),et=""+b[$];if(!b.hasOwnProperty($)&&typeof _e<"u"&&typeof _e.get=="function"&&typeof _e.set=="function"){var tt=_e.get,nt=_e.set;return Object.defineProperty(b,$,{configurable:!0,get:function(){return tt.call(this)},set:function(rt){et=""+rt,nt.call(this,rt)}}),Object.defineProperty(b,$,{enumerable:_e.enumerable}),{getValue:function(){return et},setValue:function(rt){et=""+rt},stopTracking:function(){b._valueTracker=null,delete b[$]}}}}function Va(b){b._valueTracker||(b._valueTracker=Ua(b))}function Wa(b){if(!b)return!1;var $=b._valueTracker;if(!$)return!0;var _e=$.getValue(),et="";return b&&(et=Ta(b)?b.checked?"true":"false":b.value),b=et,b!==_e?($.setValue(b),!0):!1}function Xa(b){if(b=b||(typeof document<"u"?document:void 0),typeof b>"u")return null;try{return b.activeElement||b.body}catch{return b.body}}function Ya(b,$){var _e=$.checked;return A({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_e??b._wrapperState.initialChecked})}function Za(b,$){var _e=$.defaultValue==null?"":$.defaultValue,et=$.checked!=null?$.checked:$.defaultChecked;_e=Sa($.value!=null?$.value:_e),b._wrapperState={initialChecked:et,initialValue:_e,controlled:$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null}}function ab(b,$){$=$.checked,$!=null&&ta(b,"checked",$,!1)}function bb(b,$){ab(b,$);var _e=Sa($.value),et=$.type;if(_e!=null)et==="number"?(_e===0&&b.value===""||b.value!=_e)&&(b.value=""+_e):b.value!==""+_e&&(b.value=""+_e);else if(et==="submit"||et==="reset"){b.removeAttribute("value");return}$.hasOwnProperty("value")?cb(b,$.type,_e):$.hasOwnProperty("defaultValue")&&cb(b,$.type,Sa($.defaultValue)),$.checked==null&&$.defaultChecked!=null&&(b.defaultChecked=!!$.defaultChecked)}function db(b,$,_e){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var et=$.type;if(!(et!=="submit"&&et!=="reset"||$.value!==void 0&&$.value!==null))return;$=""+b._wrapperState.initialValue,_e||$===b.value||(b.value=$),b.defaultValue=$}_e=b.name,_e!==""&&(b.name=""),b.defaultChecked=!!b._wrapperState.initialChecked,_e!==""&&(b.name=_e)}function cb(b,$,_e){($!=="number"||Xa(b.ownerDocument)!==b)&&(_e==null?b.defaultValue=""+b._wrapperState.initialValue:b.defaultValue!==""+_e&&(b.defaultValue=""+_e))}var eb=Array.isArray;function fb(b,$,_e,et){if(b=b.options,$){$={};for(var tt=0;tt<_e.length;tt++)$["$"+_e[tt]]=!0;for(_e=0;_e<b.length;_e++)tt=$.hasOwnProperty("$"+b[_e].value),b[_e].selected!==tt&&(b[_e].selected=tt),tt&&et&&(b[_e].defaultSelected=!0)}else{for(_e=""+Sa(_e),$=null,tt=0;tt<b.length;tt++){if(b[tt].value===_e){b[tt].selected=!0,et&&(b[tt].defaultSelected=!0);return}$!==null||b[tt].disabled||($=b[tt])}$!==null&&($.selected=!0)}}function gb(b,$){if($.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A({},$,{value:void 0,defaultValue:void 0,children:""+b._wrapperState.initialValue})}function hb(b,$){var _e=$.value;if(_e==null){if(_e=$.children,$=$.defaultValue,_e!=null){if($!=null)throw Error(p$4(92));if(eb(_e)){if(1<_e.length)throw Error(p$4(93));_e=_e[0]}$=_e}$==null&&($=""),_e=$}b._wrapperState={initialValue:Sa(_e)}}function ib(b,$){var _e=Sa($.value),et=Sa($.defaultValue);_e!=null&&(_e=""+_e,_e!==b.value&&(b.value=_e),$.defaultValue==null&&b.defaultValue!==_e&&(b.defaultValue=_e)),et!=null&&(b.defaultValue=""+et)}function jb(b){var $=b.textContent;$===b._wrapperState.initialValue&&$!==""&&$!==null&&(b.value=$)}function kb(b){switch(b){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(b,$){return b==null||b==="http://www.w3.org/1999/xhtml"?kb($):b==="http://www.w3.org/2000/svg"&&$==="foreignObject"?"http://www.w3.org/1999/xhtml":b}var mb,nb=function(b){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function($,_e,et,tt){MSApp.execUnsafeLocalFunction(function(){return b($,_e,et,tt)})}:b}(function(b,$){if(b.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in b)b.innerHTML=$;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+$.valueOf().toString()+"</svg>",$=mb.firstChild;b.firstChild;)b.removeChild(b.firstChild);for(;$.firstChild;)b.appendChild($.firstChild)}});function ob(b,$){if($){var _e=b.firstChild;if(_e&&_e===b.lastChild&&_e.nodeType===3){_e.nodeValue=$;return}}b.textContent=$}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(b){qb.forEach(function($){$=$+b.charAt(0).toUpperCase()+b.substring(1),pb[$]=pb[b]})});function rb(b,$,_e){return $==null||typeof $=="boolean"||$===""?"":_e||typeof $!="number"||$===0||pb.hasOwnProperty(b)&&pb[b]?(""+$).trim():$+"px"}function sb(b,$){b=b.style;for(var _e in $)if($.hasOwnProperty(_e)){var et=_e.indexOf("--")===0,tt=rb(_e,$[_e],et);_e==="float"&&(_e="cssFloat"),et?b.setProperty(_e,tt):b[_e]=tt}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(b,$){if($){if(tb[b]&&($.children!=null||$.dangerouslySetInnerHTML!=null))throw Error(p$4(137,b));if($.dangerouslySetInnerHTML!=null){if($.children!=null)throw Error(p$4(60));if(typeof $.dangerouslySetInnerHTML!="object"||!("__html"in $.dangerouslySetInnerHTML))throw Error(p$4(61))}if($.style!=null&&typeof $.style!="object")throw Error(p$4(62))}}function vb$2(b,$){if(b.indexOf("-")===-1)return typeof $.is=="string";switch(b){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(b){return b=b.target||b.srcElement||window,b.correspondingUseElement&&(b=b.correspondingUseElement),b.nodeType===3?b.parentNode:b}var yb=null,zb=null,Ab=null;function Bb(b){if(b=Cb(b)){if(typeof yb!="function")throw Error(p$4(280));var $=b.stateNode;$&&($=Db($),yb(b.stateNode,b.type,$))}}function Eb(b){zb?Ab?Ab.push(b):Ab=[b]:zb=b}function Fb(){if(zb){var b=zb,$=Ab;if(Ab=zb=null,Bb(b),$)for(b=0;b<$.length;b++)Bb($[b])}}function Gb(b,$){return b($)}function Hb(){}var Ib=!1;function Jb(b,$,_e){if(Ib)return b($,_e);Ib=!0;try{return Gb(b,$,_e)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(b,$){var _e=b.stateNode;if(_e===null)return null;var et=Db(_e);if(et===null)return null;_e=et[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(et=!et.disabled)||(b=b.type,et=!(b==="button"||b==="input"||b==="select"||b==="textarea")),b=!et;break e;default:b=!1}if(b)return null;if(_e&&typeof _e!="function")throw Error(p$4(231,$,typeof _e));return _e}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(b,$,_e,et,tt,nt,rt,ot,st){var ct=Array.prototype.slice.call(arguments,3);try{$.apply(_e,ct)}catch(lt){this.onError(lt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(b){Ob=!0,Pb=b}};function Tb(b,$,_e,et,tt,nt,rt,ot,st){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(b,$,_e,et,tt,nt,rt,ot,st){if(Tb.apply(this,arguments),Ob){if(Ob){var ct=Pb;Ob=!1,Pb=null}else throw Error(p$4(198));Qb||(Qb=!0,Rb=ct)}}function Vb$1(b){var $=b,_e=b;if(b.alternate)for(;$.return;)$=$.return;else{b=$;do $=b,$.flags&4098&&(_e=$.return),b=$.return;while(b)}return $.tag===3?_e:null}function Wb(b){if(b.tag===13){var $=b.memoizedState;if($===null&&(b=b.alternate,b!==null&&($=b.memoizedState)),$!==null)return $.dehydrated}return null}function Xb(b){if(Vb$1(b)!==b)throw Error(p$4(188))}function Yb(b){var $=b.alternate;if(!$){if($=Vb$1(b),$===null)throw Error(p$4(188));return $!==b?null:b}for(var _e=b,et=$;;){var tt=_e.return;if(tt===null)break;var nt=tt.alternate;if(nt===null){if(et=tt.return,et!==null){_e=et;continue}break}if(tt.child===nt.child){for(nt=tt.child;nt;){if(nt===_e)return Xb(tt),b;if(nt===et)return Xb(tt),$;nt=nt.sibling}throw Error(p$4(188))}if(_e.return!==et.return)_e=tt,et=nt;else{for(var rt=!1,ot=tt.child;ot;){if(ot===_e){rt=!0,_e=tt,et=nt;break}if(ot===et){rt=!0,et=tt,_e=nt;break}ot=ot.sibling}if(!rt){for(ot=nt.child;ot;){if(ot===_e){rt=!0,_e=nt,et=tt;break}if(ot===et){rt=!0,et=nt,_e=tt;break}ot=ot.sibling}if(!rt)throw Error(p$4(189))}}if(_e.alternate!==et)throw Error(p$4(190))}if(_e.tag!==3)throw Error(p$4(188));return _e.stateNode.current===_e?b:$}function Zb(b){return b=Yb(b),b!==null?$b(b):null}function $b(b){if(b.tag===5||b.tag===6)return b;for(b=b.child;b!==null;){var $=$b(b);if($!==null)return $;b=b.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(b){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,b,void 0,(b.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(b){return b>>>=0,b===0?32:31-(pc(b)/qc|0)|0}var rc=64,sc=4194304;function tc(b){switch(b&-b){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return b&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return b}}function uc(b,$){var _e=b.pendingLanes;if(_e===0)return 0;var et=0,tt=b.suspendedLanes,nt=b.pingedLanes,rt=_e&268435455;if(rt!==0){var ot=rt&~tt;ot!==0?et=tc(ot):(nt&=rt,nt!==0&&(et=tc(nt)))}else rt=_e&~tt,rt!==0?et=tc(rt):nt!==0&&(et=tc(nt));if(et===0)return 0;if($!==0&&$!==et&&!($&tt)&&(tt=et&-et,nt=$&-$,tt>=nt||tt===16&&(nt&4194240)!==0))return $;if(et&4&&(et|=_e&16),$=b.entangledLanes,$!==0)for(b=b.entanglements,$&=et;0<$;)_e=31-oc($),tt=1<<_e,et|=b[_e],$&=~tt;return et}function vc(b,$){switch(b){case 1:case 2:case 4:return $+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(b,$){for(var _e=b.suspendedLanes,et=b.pingedLanes,tt=b.expirationTimes,nt=b.pendingLanes;0<nt;){var rt=31-oc(nt),ot=1<<rt,st=tt[rt];st===-1?(!(ot&_e)||ot&et)&&(tt[rt]=vc(ot,$)):st<=$&&(b.expiredLanes|=ot),nt&=~ot}}function xc(b){return b=b.pendingLanes&-1073741825,b!==0?b:b&1073741824?1073741824:0}function yc(){var b=rc;return rc<<=1,!(rc&4194240)&&(rc=64),b}function zc(b){for(var $=[],_e=0;31>_e;_e++)$.push(b);return $}function Ac(b,$,_e){b.pendingLanes|=$,$!==536870912&&(b.suspendedLanes=0,b.pingedLanes=0),b=b.eventTimes,$=31-oc($),b[$]=_e}function Bc(b,$){var _e=b.pendingLanes&~$;b.pendingLanes=$,b.suspendedLanes=0,b.pingedLanes=0,b.expiredLanes&=$,b.mutableReadLanes&=$,b.entangledLanes&=$,$=b.entanglements;var et=b.eventTimes;for(b=b.expirationTimes;0<_e;){var tt=31-oc(_e),nt=1<<tt;$[tt]=0,et[tt]=-1,b[tt]=-1,_e&=~nt}}function Cc(b,$){var _e=b.entangledLanes|=$;for(b=b.entanglements;_e;){var et=31-oc(_e),tt=1<<et;tt&$|b[et]&$&&(b[et]|=$),_e&=~tt}}var C=0;function Dc(b){return b&=-b,1<b?4<b?b&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(b,$){switch(b){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete($.pointerId)}}function Tc(b,$,_e,et,tt,nt){return b===null||b.nativeEvent!==nt?(b={blockedOn:$,domEventName:_e,eventSystemFlags:et,nativeEvent:nt,targetContainers:[tt]},$!==null&&($=Cb($),$!==null&&Fc($)),b):(b.eventSystemFlags|=et,$=b.targetContainers,tt!==null&&$.indexOf(tt)===-1&&$.push(tt),b)}function Uc(b,$,_e,et,tt){switch($){case"focusin":return Lc=Tc(Lc,b,$,_e,et,tt),!0;case"dragenter":return Mc=Tc(Mc,b,$,_e,et,tt),!0;case"mouseover":return Nc=Tc(Nc,b,$,_e,et,tt),!0;case"pointerover":var nt=tt.pointerId;return Oc.set(nt,Tc(Oc.get(nt)||null,b,$,_e,et,tt)),!0;case"gotpointercapture":return nt=tt.pointerId,Pc.set(nt,Tc(Pc.get(nt)||null,b,$,_e,et,tt)),!0}return!1}function Vc(b){var $=Wc(b.target);if($!==null){var _e=Vb$1($);if(_e!==null){if($=_e.tag,$===13){if($=Wb(_e),$!==null){b.blockedOn=$,Ic(b.priority,function(){Gc(_e)});return}}else if($===3&&_e.stateNode.current.memoizedState.isDehydrated){b.blockedOn=_e.tag===3?_e.stateNode.containerInfo:null;return}}}b.blockedOn=null}function Xc(b){if(b.blockedOn!==null)return!1;for(var $=b.targetContainers;0<$.length;){var _e=Yc(b.domEventName,b.eventSystemFlags,$[0],b.nativeEvent);if(_e===null){_e=b.nativeEvent;var et=new _e.constructor(_e.type,_e);wb=et,_e.target.dispatchEvent(et),wb=null}else return $=Cb(_e),$!==null&&Fc($),b.blockedOn=_e,!1;$.shift()}return!0}function Zc(b,$,_e){Xc(b)&&_e.delete($)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(b,$){b.blockedOn===$&&(b.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(b){function $(tt){return ad(tt,b)}if(0<Kc.length){ad(Kc[0],b);for(var _e=1;_e<Kc.length;_e++){var et=Kc[_e];et.blockedOn===b&&(et.blockedOn=null)}}for(Lc!==null&&ad(Lc,b),Mc!==null&&ad(Mc,b),Nc!==null&&ad(Nc,b),Oc.forEach($),Pc.forEach($),_e=0;_e<Qc.length;_e++)et=Qc[_e],et.blockedOn===b&&(et.blockedOn=null);for(;0<Qc.length&&(_e=Qc[0],_e.blockedOn===null);)Vc(_e),_e.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(b,$,_e,et){var tt=C,nt=cd.transition;cd.transition=null;try{C=1,fd(b,$,_e,et)}finally{C=tt,cd.transition=nt}}function gd(b,$,_e,et){var tt=C,nt=cd.transition;cd.transition=null;try{C=4,fd(b,$,_e,et)}finally{C=tt,cd.transition=nt}}function fd(b,$,_e,et){if(dd){var tt=Yc(b,$,_e,et);if(tt===null)hd(b,$,et,id$n,_e),Sc(b,et);else if(Uc(tt,b,$,_e,et))et.stopPropagation();else if(Sc(b,et),$&4&&-1<Rc.indexOf(b)){for(;tt!==null;){var nt=Cb(tt);if(nt!==null&&Ec(nt),nt=Yc(b,$,_e,et),nt===null&&hd(b,$,et,id$n,_e),nt===tt)break;tt=nt}tt!==null&&et.stopPropagation()}else hd(b,$,et,null,_e)}}var id$n=null;function Yc(b,$,_e,et){if(id$n=null,b=xb(et),b=Wc(b),b!==null)if($=Vb$1(b),$===null)b=null;else if(_e=$.tag,_e===13){if(b=Wb($),b!==null)return b;b=null}else if(_e===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;b=null}else $!==b&&(b=null);return id$n=b,null}function jd(b){switch(b){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var b,$=ld,_e=$.length,et,tt="value"in kd?kd.value:kd.textContent,nt=tt.length;for(b=0;b<_e&&$[b]===tt[b];b++);var rt=_e-b;for(et=1;et<=rt&&$[_e-et]===tt[nt-et];et++);return md=tt.slice(b,1<et?1-et:void 0)}function od(b){var $=b.keyCode;return"charCode"in b?(b=b.charCode,b===0&&$===13&&(b=13)):b=$,b===10&&(b=13),32<=b||b===13?b:0}function pd(){return!0}function qd(){return!1}function rd(b){function $(_e,et,tt,nt,rt){this._reactName=_e,this._targetInst=tt,this.type=et,this.nativeEvent=nt,this.target=rt,this.currentTarget=null;for(var ot in b)b.hasOwnProperty(ot)&&(_e=b[ot],this[ot]=_e?_e(nt):nt[ot]);return this.isDefaultPrevented=(nt.defaultPrevented!=null?nt.defaultPrevented:nt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _e=this.nativeEvent;_e&&(_e.preventDefault?_e.preventDefault():typeof _e.returnValue!="unknown"&&(_e.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var _e=this.nativeEvent;_e&&(_e.stopPropagation?_e.stopPropagation():typeof _e.cancelBubble!="unknown"&&(_e.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),$}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(b){return b.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(b){return b.relatedTarget===void 0?b.fromElement===b.srcElement?b.toElement:b.fromElement:b.relatedTarget},movementX:function(b){return"movementX"in b?b.movementX:(b!==yd&&(yd&&b.type==="mousemove"?(wd=b.screenX-yd.screenX,xd=b.screenY-yd.screenY):xd=wd=0,yd=b),wd)},movementY:function(b){return"movementY"in b?b.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(b){return"clipboardData"in b?b.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(b){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(b):(b=Od[b])?!!$[b]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(b){if(b.key){var $=Md[b.key]||b.key;if($!=="Unidentified")return $}return b.type==="keypress"?(b=od(b),b===13?"Enter":String.fromCharCode(b)):b.type==="keydown"||b.type==="keyup"?Nd[b.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(b){return b.type==="keypress"?od(b):0},keyCode:function(b){return b.type==="keydown"||b.type==="keyup"?b.keyCode:0},which:function(b){return b.type==="keypress"?od(b):b.type==="keydown"||b.type==="keyup"?b.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(b){return"deltaX"in b?b.deltaX:"wheelDeltaX"in b?-b.wheelDeltaX:0},deltaY:function(b){return"deltaY"in b?b.deltaY:"wheelDeltaY"in b?-b.wheelDeltaY:"wheelDelta"in b?-b.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(b,$){switch(b){case"keyup":return $d.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(b){return b=b.detail,typeof b=="object"&&"data"in b?b.data:null}var ie=!1;function je(b,$){switch(b){case"compositionend":return he($);case"keypress":return $.which!==32?null:(fe=!0,ee);case"textInput":return b=$.data,b===ee&&fe?null:b;default:return null}}function ke(b,$){if(ie)return b==="compositionend"||!ae&&ge(b,$)?(b=nd(),md=ld=kd=null,ie=!1,b):null;switch(b){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return de&&$.locale!=="ko"?null:$.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(b){var $=b&&b.nodeName&&b.nodeName.toLowerCase();return $==="input"?!!le[b.type]:$==="textarea"}function ne(b,$,_e,et){Eb(et),$=oe($,"onChange"),0<$.length&&(_e=new td("onChange","change",null,_e,et),b.push({event:_e,listeners:$}))}var pe=null,qe=null;function re(b){se(b,0)}function te(b){var $=ue(b);if(Wa($))return b}function ve(b,$){if(b==="change")return $}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(b){if(b.propertyName==="value"&&te(qe)){var $=[];ne($,qe,b,xb(b)),Jb(re,$)}}function Ce(b,$,_e){b==="focusin"?(Ae(),pe=$,qe=_e,pe.attachEvent("onpropertychange",Be)):b==="focusout"&&Ae()}function De(b){if(b==="selectionchange"||b==="keyup"||b==="keydown")return te(qe)}function Ee(b,$){if(b==="click")return te($)}function Fe(b,$){if(b==="input"||b==="change")return te($)}function Ge(b,$){return b===$&&(b!==0||1/b===1/$)||b!==b&&$!==$}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(b,$){if(He(b,$))return!0;if(typeof b!="object"||b===null||typeof $!="object"||$===null)return!1;var _e=Object.keys(b),et=Object.keys($);if(_e.length!==et.length)return!1;for(et=0;et<_e.length;et++){var tt=_e[et];if(!ja.call($,tt)||!He(b[tt],$[tt]))return!1}return!0}function Je(b){for(;b&&b.firstChild;)b=b.firstChild;return b}function Ke(b,$){var _e=Je(b);b=0;for(var et;_e;){if(_e.nodeType===3){if(et=b+_e.textContent.length,b<=$&&et>=$)return{node:_e,offset:$-b};b=et}e:{for(;_e;){if(_e.nextSibling){_e=_e.nextSibling;break e}_e=_e.parentNode}_e=void 0}_e=Je(_e)}}function Le(b,$){return b&&$?b===$?!0:b&&b.nodeType===3?!1:$&&$.nodeType===3?Le(b,$.parentNode):"contains"in b?b.contains($):b.compareDocumentPosition?!!(b.compareDocumentPosition($)&16):!1:!1}function Me(){for(var b=window,$=Xa();$ instanceof b.HTMLIFrameElement;){try{var _e=typeof $.contentWindow.location.href=="string"}catch{_e=!1}if(_e)b=$.contentWindow;else break;$=Xa(b.document)}return $}function Ne(b){var $=b&&b.nodeName&&b.nodeName.toLowerCase();return $&&($==="input"&&(b.type==="text"||b.type==="search"||b.type==="tel"||b.type==="url"||b.type==="password")||$==="textarea"||b.contentEditable==="true")}function Oe(b){var $=Me(),_e=b.focusedElem,et=b.selectionRange;if($!==_e&&_e&&_e.ownerDocument&&Le(_e.ownerDocument.documentElement,_e)){if(et!==null&&Ne(_e)){if($=et.start,b=et.end,b===void 0&&(b=$),"selectionStart"in _e)_e.selectionStart=$,_e.selectionEnd=Math.min(b,_e.value.length);else if(b=($=_e.ownerDocument||document)&&$.defaultView||window,b.getSelection){b=b.getSelection();var tt=_e.textContent.length,nt=Math.min(et.start,tt);et=et.end===void 0?nt:Math.min(et.end,tt),!b.extend&&nt>et&&(tt=et,et=nt,nt=tt),tt=Ke(_e,nt);var rt=Ke(_e,et);tt&&rt&&(b.rangeCount!==1||b.anchorNode!==tt.node||b.anchorOffset!==tt.offset||b.focusNode!==rt.node||b.focusOffset!==rt.offset)&&($=$.createRange(),$.setStart(tt.node,tt.offset),b.removeAllRanges(),nt>et?(b.addRange($),b.extend(rt.node,rt.offset)):($.setEnd(rt.node,rt.offset),b.addRange($)))}}for($=[],b=_e;b=b.parentNode;)b.nodeType===1&&$.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof _e.focus=="function"&&_e.focus(),_e=0;_e<$.length;_e++)b=$[_e],b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(b,$,_e){var et=_e.window===_e?_e.document:_e.nodeType===9?_e:_e.ownerDocument;Te||Qe==null||Qe!==Xa(et)||(et=Qe,"selectionStart"in et&&Ne(et)?et={start:et.selectionStart,end:et.selectionEnd}:(et=(et.ownerDocument&&et.ownerDocument.defaultView||window).getSelection(),et={anchorNode:et.anchorNode,anchorOffset:et.anchorOffset,focusNode:et.focusNode,focusOffset:et.focusOffset}),Se&&Ie(Se,et)||(Se=et,et=oe(Re,"onSelect"),0<et.length&&($=new td("onSelect","select",null,$,_e),b.push({event:$,listeners:et}),$.target=Qe)))}function Ve(b,$){var _e={};return _e[b.toLowerCase()]=$.toLowerCase(),_e["Webkit"+b]="webkit"+$,_e["Moz"+b]="moz"+$,_e}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(b){if(Xe[b])return Xe[b];if(!We[b])return b;var $=We[b],_e;for(_e in $)if($.hasOwnProperty(_e)&&_e in Ye)return Xe[b]=$[_e];return b}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(b,$){df.set(b,$),fa($,[b])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(b,$,_e){var et=b.type||"unknown-event";b.currentTarget=_e,Ub(et,$,void 0,b),b.currentTarget=null}function se(b,$){$=($&4)!==0;for(var _e=0;_e<b.length;_e++){var et=b[_e],tt=et.event;et=et.listeners;e:{var nt=void 0;if($)for(var rt=et.length-1;0<=rt;rt--){var ot=et[rt],st=ot.instance,ct=ot.currentTarget;if(ot=ot.listener,st!==nt&&tt.isPropagationStopped())break e;nf(tt,ot,ct),nt=st}else for(rt=0;rt<et.length;rt++){if(ot=et[rt],st=ot.instance,ct=ot.currentTarget,ot=ot.listener,st!==nt&&tt.isPropagationStopped())break e;nf(tt,ot,ct),nt=st}}}if(Qb)throw b=Rb,Qb=!1,Rb=null,b}function D(b,$){var _e=$[of];_e===void 0&&(_e=$[of]=new Set);var et=b+"__bubble";_e.has(et)||(pf($,b,2,!1),_e.add(et))}function qf(b,$,_e){var et=0;$&&(et|=4),pf(_e,b,et,$)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(b){if(!b[rf]){b[rf]=!0,da.forEach(function(_e){_e!=="selectionchange"&&(mf.has(_e)||qf(_e,!1,b),qf(_e,!0,b))});var $=b.nodeType===9?b:b.ownerDocument;$===null||$[rf]||($[rf]=!0,qf("selectionchange",!1,$))}}function pf(b,$,_e,et){switch(jd($)){case 1:var tt=ed;break;case 4:tt=gd;break;default:tt=fd}_e=tt.bind(null,$,_e,b),tt=void 0,!Lb||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(tt=!0),et?tt!==void 0?b.addEventListener($,_e,{capture:!0,passive:tt}):b.addEventListener($,_e,!0):tt!==void 0?b.addEventListener($,_e,{passive:tt}):b.addEventListener($,_e,!1)}function hd(b,$,_e,et,tt){var nt=et;if(!($&1)&&!($&2)&&et!==null)e:for(;;){if(et===null)return;var rt=et.tag;if(rt===3||rt===4){var ot=et.stateNode.containerInfo;if(ot===tt||ot.nodeType===8&&ot.parentNode===tt)break;if(rt===4)for(rt=et.return;rt!==null;){var st=rt.tag;if((st===3||st===4)&&(st=rt.stateNode.containerInfo,st===tt||st.nodeType===8&&st.parentNode===tt))return;rt=rt.return}for(;ot!==null;){if(rt=Wc(ot),rt===null)return;if(st=rt.tag,st===5||st===6){et=nt=rt;continue e}ot=ot.parentNode}}et=et.return}Jb(function(){var ct=nt,lt=xb(_e),at=[];e:{var it=df.get(b);if(it!==void 0){var ut=td,dt=b;switch(b){case"keypress":if(od(_e)===0)break e;case"keydown":case"keyup":ut=Rd;break;case"focusin":dt="focus",ut=Fd;break;case"focusout":dt="blur",ut=Fd;break;case"beforeblur":case"afterblur":ut=Fd;break;case"click":if(_e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=Vd;break;case $e:case af:case bf:ut=Hd;break;case cf:ut=Xd;break;case"scroll":ut=vd;break;case"wheel":ut=Zd;break;case"copy":case"cut":case"paste":ut=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=Td}var ht=($&4)!==0,ft=!ht&&b==="scroll",pt=ht?it!==null?it+"Capture":null:it;ht=[];for(var mt=ct,gt;mt!==null;){gt=mt;var vt=gt.stateNode;if(gt.tag===5&&vt!==null&&(gt=vt,pt!==null&&(vt=Kb(mt,pt),vt!=null&&ht.push(tf(mt,vt,gt)))),ft)break;mt=mt.return}0<ht.length&&(it=new ut(it,dt,null,_e,lt),at.push({event:it,listeners:ht}))}}if(!($&7)){e:{if(it=b==="mouseover"||b==="pointerover",ut=b==="mouseout"||b==="pointerout",it&&_e!==wb&&(dt=_e.relatedTarget||_e.fromElement)&&(Wc(dt)||dt[uf]))break e;if((ut||it)&&(it=lt.window===lt?lt:(it=lt.ownerDocument)?it.defaultView||it.parentWindow:window,ut?(dt=_e.relatedTarget||_e.toElement,ut=ct,dt=dt?Wc(dt):null,dt!==null&&(ft=Vb$1(dt),dt!==ft||dt.tag!==5&&dt.tag!==6)&&(dt=null)):(ut=null,dt=ct),ut!==dt)){if(ht=Bd,vt="onMouseLeave",pt="onMouseEnter",mt="mouse",(b==="pointerout"||b==="pointerover")&&(ht=Td,vt="onPointerLeave",pt="onPointerEnter",mt="pointer"),ft=ut==null?it:ue(ut),gt=dt==null?it:ue(dt),it=new ht(vt,mt+"leave",ut,_e,lt),it.target=ft,it.relatedTarget=gt,vt=null,Wc(lt)===ct&&(ht=new ht(pt,mt+"enter",dt,_e,lt),ht.target=gt,ht.relatedTarget=ft,vt=ht),ft=vt,ut&&dt)t:{for(ht=ut,pt=dt,mt=0,gt=ht;gt;gt=vf(gt))mt++;for(gt=0,vt=pt;vt;vt=vf(vt))gt++;for(;0<mt-gt;)ht=vf(ht),mt--;for(;0<gt-mt;)pt=vf(pt),gt--;for(;mt--;){if(ht===pt||pt!==null&&ht===pt.alternate)break t;ht=vf(ht),pt=vf(pt)}ht=null}else ht=null;ut!==null&&wf(at,it,ut,ht,!1),dt!==null&&ft!==null&&wf(at,ft,dt,ht,!0)}}e:{if(it=ct?ue(ct):window,ut=it.nodeName&&it.nodeName.toLowerCase(),ut==="select"||ut==="input"&&it.type==="file")var yt=ve;else if(me(it))if(we)yt=Fe;else{yt=De;var bt=Ce}else(ut=it.nodeName)&&ut.toLowerCase()==="input"&&(it.type==="checkbox"||it.type==="radio")&&(yt=Ee);if(yt&&(yt=yt(b,ct))){ne(at,yt,_e,lt);break e}bt&&bt(b,it,ct),b==="focusout"&&(bt=it._wrapperState)&&bt.controlled&&it.type==="number"&&cb(it,"number",it.value)}switch(bt=ct?ue(ct):window,b){case"focusin":(me(bt)||bt.contentEditable==="true")&&(Qe=bt,Re=ct,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(at,_e,lt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(at,_e,lt)}var xt;if(ae)e:{switch(b){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else ie?ge(b,_e)&&(_t="onCompositionEnd"):b==="keydown"&&_e.keyCode===229&&(_t="onCompositionStart");_t&&(de&&_e.locale!=="ko"&&(ie||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&ie&&(xt=nd()):(kd=lt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),bt=oe(ct,_t),0<bt.length&&(_t=new Ld(_t,b,null,_e,lt),at.push({event:_t,listeners:bt}),xt?_t.data=xt:(xt=he(_e),xt!==null&&(_t.data=xt)))),(xt=ce?je(b,_e):ke(b,_e))&&(ct=oe(ct,"onBeforeInput"),0<ct.length&&(lt=new Ld("onBeforeInput","beforeinput",null,_e,lt),at.push({event:lt,listeners:ct}),lt.data=xt))}se(at,$)})}function tf(b,$,_e){return{instance:b,listener:$,currentTarget:_e}}function oe(b,$){for(var _e=$+"Capture",et=[];b!==null;){var tt=b,nt=tt.stateNode;tt.tag===5&&nt!==null&&(tt=nt,nt=Kb(b,_e),nt!=null&&et.unshift(tf(b,nt,tt)),nt=Kb(b,$),nt!=null&&et.push(tf(b,nt,tt))),b=b.return}return et}function vf(b){if(b===null)return null;do b=b.return;while(b&&b.tag!==5);return b||null}function wf(b,$,_e,et,tt){for(var nt=$._reactName,rt=[];_e!==null&&_e!==et;){var ot=_e,st=ot.alternate,ct=ot.stateNode;if(st!==null&&st===et)break;ot.tag===5&&ct!==null&&(ot=ct,tt?(st=Kb(_e,nt),st!=null&&rt.unshift(tf(_e,st,ot))):tt||(st=Kb(_e,nt),st!=null&&rt.push(tf(_e,st,ot)))),_e=_e.return}rt.length!==0&&b.push({event:$,listeners:rt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(b){return(typeof b=="string"?b:""+b).replace(xf,`
`).replace(yf,"")}function Af(b,$,_e){if($=zf($),zf(b)!==$&&_e)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef(b,$){return b==="textarea"||b==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(b){return Hf.resolve(null).then(b).catch(If)}:Ff;function If(b){setTimeout(function(){throw b})}function Kf(b,$){var _e=$,et=0;do{var tt=_e.nextSibling;if(b.removeChild(_e),tt&&tt.nodeType===8)if(_e=tt.data,_e==="/$"){if(et===0){b.removeChild(tt),bd($);return}et--}else _e!=="$"&&_e!=="$?"&&_e!=="$!"||et++;_e=tt}while(_e);bd($)}function Lf(b){for(;b!=null;b=b.nextSibling){var $=b.nodeType;if($===1||$===3)break;if($===8){if($=b.data,$==="$"||$==="$!"||$==="$?")break;if($==="/$")return null}}return b}function Mf(b){b=b.previousSibling;for(var $=0;b;){if(b.nodeType===8){var _e=b.data;if(_e==="$"||_e==="$!"||_e==="$?"){if($===0)return b;$--}else _e==="/$"&&$++}b=b.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(b){var $=b[Of];if($)return $;for(var _e=b.parentNode;_e;){if($=_e[uf]||_e[Of]){if(_e=$.alternate,$.child!==null||_e!==null&&_e.child!==null)for(b=Mf(b);b!==null;){if(_e=b[Of])return _e;b=Mf(b)}return $}b=_e,_e=b.parentNode}return null}function Cb(b){return b=b[Of]||b[uf],!b||b.tag!==5&&b.tag!==6&&b.tag!==13&&b.tag!==3?null:b}function ue(b){if(b.tag===5||b.tag===6)return b.stateNode;throw Error(p$4(33))}function Db(b){return b[Pf]||null}var Sf=[],Tf=-1;function Uf(b){return{current:b}}function E(b){0>Tf||(b.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(b,$){Tf++,Sf[Tf]=b.current,b.current=$}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(b,$){var _e=b.type.contextTypes;if(!_e)return Vf;var et=b.stateNode;if(et&&et.__reactInternalMemoizedUnmaskedChildContext===$)return et.__reactInternalMemoizedMaskedChildContext;var tt={},nt;for(nt in _e)tt[nt]=$[nt];return et&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=$,b.__reactInternalMemoizedMaskedChildContext=tt),tt}function Zf(b){return b=b.childContextTypes,b!=null}function $f(){E(Wf),E(H)}function ag(b,$,_e){if(H.current!==Vf)throw Error(p$4(168));G(H,$),G(Wf,_e)}function bg(b,$,_e){var et=b.stateNode;if($=$.childContextTypes,typeof et.getChildContext!="function")return _e;et=et.getChildContext();for(var tt in et)if(!(tt in $))throw Error(p$4(108,Ra(b)||"Unknown",tt));return A({},_e,et)}function cg(b){return b=(b=b.stateNode)&&b.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,b),G(Wf,Wf.current),!0}function dg(b,$,_e){var et=b.stateNode;if(!et)throw Error(p$4(169));_e?(b=bg(b,$,Xf),et.__reactInternalMemoizedMergedChildContext=b,E(Wf),E(H),G(H,b)):E(Wf),G(Wf,_e)}var eg=null,fg=!1,gg=!1;function hg(b){eg===null?eg=[b]:eg.push(b)}function ig(b){fg=!0,hg(b)}function jg(){if(!gg&&eg!==null){gg=!0;var b=0,$=C;try{var _e=eg;for(C=1;b<_e.length;b++){var et=_e[b];do et=et(!0);while(et!==null)}eg=null,fg=!1}catch(tt){throw eg!==null&&(eg=eg.slice(b+1)),ac(fc,jg),tt}finally{C=$,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(b,$){kg[lg++]=ng,kg[lg++]=mg,mg=b,ng=$}function ug(b,$,_e){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=b;var et=rg;b=sg;var tt=32-oc(et)-1;et&=~(1<<tt),_e+=1;var nt=32-oc($)+tt;if(30<nt){var rt=tt-tt%5;nt=(et&(1<<rt)-1).toString(32),et>>=rt,tt-=rt,rg=1<<32-oc($)+tt|_e<<tt|et,sg=nt+b}else rg=1<<nt|_e<<tt|et,sg=b}function vg(b){b.return!==null&&(tg(b,1),ug(b,1,0))}function wg(b){for(;b===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;b===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(b,$){var _e=Bg(5,null,null,0);_e.elementType="DELETED",_e.stateNode=$,_e.return=b,$=b.deletions,$===null?(b.deletions=[_e],b.flags|=16):$.push(_e)}function Cg(b,$){switch(b.tag){case 5:var _e=b.type;return $=$.nodeType!==1||_e.toLowerCase()!==$.nodeName.toLowerCase()?null:$,$!==null?(b.stateNode=$,xg=b,yg=Lf($.firstChild),!0):!1;case 6:return $=b.pendingProps===""||$.nodeType!==3?null:$,$!==null?(b.stateNode=$,xg=b,yg=null,!0):!1;case 13:return $=$.nodeType!==8?null:$,$!==null?(_e=qg!==null?{id:rg,overflow:sg}:null,b.memoizedState={dehydrated:$,treeContext:_e,retryLane:1073741824},_e=Bg(18,null,null,0),_e.stateNode=$,_e.return=b,b.child=_e,xg=b,yg=null,!0):!1;default:return!1}}function Dg(b){return(b.mode&1)!==0&&(b.flags&128)===0}function Eg(b){if(I){var $=yg;if($){var _e=$;if(!Cg(b,$)){if(Dg(b))throw Error(p$4(418));$=Lf(_e.nextSibling);var et=xg;$&&Cg(b,$)?Ag(et,_e):(b.flags=b.flags&-4097|2,I=!1,xg=b)}}else{if(Dg(b))throw Error(p$4(418));b.flags=b.flags&-4097|2,I=!1,xg=b}}}function Fg(b){for(b=b.return;b!==null&&b.tag!==5&&b.tag!==3&&b.tag!==13;)b=b.return;xg=b}function Gg(b){if(b!==xg)return!1;if(!I)return Fg(b),I=!0,!1;var $;if(($=b.tag!==3)&&!($=b.tag!==5)&&($=b.type,$=$!=="head"&&$!=="body"&&!Ef(b.type,b.memoizedProps)),$&&($=yg)){if(Dg(b))throw Hg(),Error(p$4(418));for(;$;)Ag(b,$),$=Lf($.nextSibling)}if(Fg(b),b.tag===13){if(b=b.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(p$4(317));e:{for(b=b.nextSibling,$=0;b;){if(b.nodeType===8){var _e=b.data;if(_e==="/$"){if($===0){yg=Lf(b.nextSibling);break e}$--}else _e!=="$"&&_e!=="$!"&&_e!=="$?"||$++}b=b.nextSibling}yg=null}}else yg=xg?Lf(b.stateNode.nextSibling):null;return!0}function Hg(){for(var b=yg;b;)b=Lf(b.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(b){zg===null?zg=[b]:zg.push(b)}var Kg=ua.ReactCurrentBatchConfig;function Lg(b,$,_e){if(b=_e.ref,b!==null&&typeof b!="function"&&typeof b!="object"){if(_e._owner){if(_e=_e._owner,_e){if(_e.tag!==1)throw Error(p$4(309));var et=_e.stateNode}if(!et)throw Error(p$4(147,b));var tt=et,nt=""+b;return $!==null&&$.ref!==null&&typeof $.ref=="function"&&$.ref._stringRef===nt?$.ref:($=function(rt){var ot=tt.refs;rt===null?delete ot[nt]:ot[nt]=rt},$._stringRef=nt,$)}if(typeof b!="string")throw Error(p$4(284));if(!_e._owner)throw Error(p$4(290,b))}return b}function Mg(b,$){throw b=Object.prototype.toString.call($),Error(p$4(31,b==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":b))}function Ng(b){var $=b._init;return $(b._payload)}function Og(b){function $(pt,mt){if(b){var gt=pt.deletions;gt===null?(pt.deletions=[mt],pt.flags|=16):gt.push(mt)}}function _e(pt,mt){if(!b)return null;for(;mt!==null;)$(pt,mt),mt=mt.sibling;return null}function et(pt,mt){for(pt=new Map;mt!==null;)mt.key!==null?pt.set(mt.key,mt):pt.set(mt.index,mt),mt=mt.sibling;return pt}function tt(pt,mt){return pt=Pg(pt,mt),pt.index=0,pt.sibling=null,pt}function nt(pt,mt,gt){return pt.index=gt,b?(gt=pt.alternate,gt!==null?(gt=gt.index,gt<mt?(pt.flags|=2,mt):gt):(pt.flags|=2,mt)):(pt.flags|=1048576,mt)}function rt(pt){return b&&pt.alternate===null&&(pt.flags|=2),pt}function ot(pt,mt,gt,vt){return mt===null||mt.tag!==6?(mt=Qg(gt,pt.mode,vt),mt.return=pt,mt):(mt=tt(mt,gt),mt.return=pt,mt)}function st(pt,mt,gt,vt){var yt=gt.type;return yt===ya?lt(pt,mt,gt.props.children,vt,gt.key):mt!==null&&(mt.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===Ha&&Ng(yt)===mt.type)?(vt=tt(mt,gt.props),vt.ref=Lg(pt,mt,gt),vt.return=pt,vt):(vt=Rg(gt.type,gt.key,gt.props,null,pt.mode,vt),vt.ref=Lg(pt,mt,gt),vt.return=pt,vt)}function ct(pt,mt,gt,vt){return mt===null||mt.tag!==4||mt.stateNode.containerInfo!==gt.containerInfo||mt.stateNode.implementation!==gt.implementation?(mt=Sg(gt,pt.mode,vt),mt.return=pt,mt):(mt=tt(mt,gt.children||[]),mt.return=pt,mt)}function lt(pt,mt,gt,vt,yt){return mt===null||mt.tag!==7?(mt=Tg(gt,pt.mode,vt,yt),mt.return=pt,mt):(mt=tt(mt,gt),mt.return=pt,mt)}function at(pt,mt,gt){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return mt=Qg(""+mt,pt.mode,gt),mt.return=pt,mt;if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return gt=Rg(mt.type,mt.key,mt.props,null,pt.mode,gt),gt.ref=Lg(pt,null,mt),gt.return=pt,gt;case wa:return mt=Sg(mt,pt.mode,gt),mt.return=pt,mt;case Ha:var vt=mt._init;return at(pt,vt(mt._payload),gt)}if(eb(mt)||Ka(mt))return mt=Tg(mt,pt.mode,gt,null),mt.return=pt,mt;Mg(pt,mt)}return null}function it(pt,mt,gt,vt){var yt=mt!==null?mt.key:null;if(typeof gt=="string"&&gt!==""||typeof gt=="number")return yt!==null?null:ot(pt,mt,""+gt,vt);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:return gt.key===yt?st(pt,mt,gt,vt):null;case wa:return gt.key===yt?ct(pt,mt,gt,vt):null;case Ha:return yt=gt._init,it(pt,mt,yt(gt._payload),vt)}if(eb(gt)||Ka(gt))return yt!==null?null:lt(pt,mt,gt,vt,null);Mg(pt,gt)}return null}function ut(pt,mt,gt,vt,yt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return pt=pt.get(gt)||null,ot(mt,pt,""+vt,yt);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return pt=pt.get(vt.key===null?gt:vt.key)||null,st(mt,pt,vt,yt);case wa:return pt=pt.get(vt.key===null?gt:vt.key)||null,ct(mt,pt,vt,yt);case Ha:var bt=vt._init;return ut(pt,mt,gt,bt(vt._payload),yt)}if(eb(vt)||Ka(vt))return pt=pt.get(gt)||null,lt(mt,pt,vt,yt,null);Mg(mt,vt)}return null}function dt(pt,mt,gt,vt){for(var yt=null,bt=null,xt=mt,_t=mt=0,wt=null;xt!==null&&_t<gt.length;_t++){xt.index>_t?(wt=xt,xt=null):wt=xt.sibling;var At=it(pt,xt,gt[_t],vt);if(At===null){xt===null&&(xt=wt);break}b&&xt&&At.alternate===null&&$(pt,xt),mt=nt(At,mt,_t),bt===null?yt=At:bt.sibling=At,bt=At,xt=wt}if(_t===gt.length)return _e(pt,xt),I&&tg(pt,_t),yt;if(xt===null){for(;_t<gt.length;_t++)xt=at(pt,gt[_t],vt),xt!==null&&(mt=nt(xt,mt,_t),bt===null?yt=xt:bt.sibling=xt,bt=xt);return I&&tg(pt,_t),yt}for(xt=et(pt,xt);_t<gt.length;_t++)wt=ut(xt,pt,_t,gt[_t],vt),wt!==null&&(b&&wt.alternate!==null&&xt.delete(wt.key===null?_t:wt.key),mt=nt(wt,mt,_t),bt===null?yt=wt:bt.sibling=wt,bt=wt);return b&&xt.forEach(function(Pt){return $(pt,Pt)}),I&&tg(pt,_t),yt}function ht(pt,mt,gt,vt){var yt=Ka(gt);if(typeof yt!="function")throw Error(p$4(150));if(gt=yt.call(gt),gt==null)throw Error(p$4(151));for(var bt=yt=null,xt=mt,_t=mt=0,wt=null,At=gt.next();xt!==null&&!At.done;_t++,At=gt.next()){xt.index>_t?(wt=xt,xt=null):wt=xt.sibling;var Pt=it(pt,xt,At.value,vt);if(Pt===null){xt===null&&(xt=wt);break}b&&xt&&Pt.alternate===null&&$(pt,xt),mt=nt(Pt,mt,_t),bt===null?yt=Pt:bt.sibling=Pt,bt=Pt,xt=wt}if(At.done)return _e(pt,xt),I&&tg(pt,_t),yt;if(xt===null){for(;!At.done;_t++,At=gt.next())At=at(pt,At.value,vt),At!==null&&(mt=nt(At,mt,_t),bt===null?yt=At:bt.sibling=At,bt=At);return I&&tg(pt,_t),yt}for(xt=et(pt,xt);!At.done;_t++,At=gt.next())At=ut(xt,pt,_t,At.value,vt),At!==null&&(b&&At.alternate!==null&&xt.delete(At.key===null?_t:At.key),mt=nt(At,mt,_t),bt===null?yt=At:bt.sibling=At,bt=At);return b&&xt.forEach(function(jt){return $(pt,jt)}),I&&tg(pt,_t),yt}function ft(pt,mt,gt,vt){if(typeof gt=="object"&&gt!==null&&gt.type===ya&&gt.key===null&&(gt=gt.props.children),typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va:e:{for(var yt=gt.key,bt=mt;bt!==null;){if(bt.key===yt){if(yt=gt.type,yt===ya){if(bt.tag===7){_e(pt,bt.sibling),mt=tt(bt,gt.props.children),mt.return=pt,pt=mt;break e}}else if(bt.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===Ha&&Ng(yt)===bt.type){_e(pt,bt.sibling),mt=tt(bt,gt.props),mt.ref=Lg(pt,bt,gt),mt.return=pt,pt=mt;break e}_e(pt,bt);break}else $(pt,bt);bt=bt.sibling}gt.type===ya?(mt=Tg(gt.props.children,pt.mode,vt,gt.key),mt.return=pt,pt=mt):(vt=Rg(gt.type,gt.key,gt.props,null,pt.mode,vt),vt.ref=Lg(pt,mt,gt),vt.return=pt,pt=vt)}return rt(pt);case wa:e:{for(bt=gt.key;mt!==null;){if(mt.key===bt)if(mt.tag===4&&mt.stateNode.containerInfo===gt.containerInfo&&mt.stateNode.implementation===gt.implementation){_e(pt,mt.sibling),mt=tt(mt,gt.children||[]),mt.return=pt,pt=mt;break e}else{_e(pt,mt);break}else $(pt,mt);mt=mt.sibling}mt=Sg(gt,pt.mode,vt),mt.return=pt,pt=mt}return rt(pt);case Ha:return bt=gt._init,ft(pt,mt,bt(gt._payload),vt)}if(eb(gt))return dt(pt,mt,gt,vt);if(Ka(gt))return ht(pt,mt,gt,vt);Mg(pt,gt)}return typeof gt=="string"&&gt!==""||typeof gt=="number"?(gt=""+gt,mt!==null&&mt.tag===6?(_e(pt,mt.sibling),mt=tt(mt,gt),mt.return=pt,pt=mt):(_e(pt,mt),mt=Qg(gt,pt.mode,vt),mt.return=pt,pt=mt),rt(pt)):_e(pt,mt)}return ft}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(b){var $=Wg.current;E(Wg),b._currentValue=$}function bh(b,$,_e){for(;b!==null;){var et=b.alternate;if((b.childLanes&$)!==$?(b.childLanes|=$,et!==null&&(et.childLanes|=$)):et!==null&&(et.childLanes&$)!==$&&(et.childLanes|=$),b===_e)break;b=b.return}}function ch(b,$){Xg=b,Zg=Yg=null,b=b.dependencies,b!==null&&b.firstContext!==null&&(b.lanes&$&&(dh=!0),b.firstContext=null)}function eh(b){var $=b._currentValue;if(Zg!==b)if(b={context:b,memoizedValue:$,next:null},Yg===null){if(Xg===null)throw Error(p$4(308));Yg=b,Xg.dependencies={lanes:0,firstContext:b}}else Yg=Yg.next=b;return $}var fh=null;function gh(b){fh===null?fh=[b]:fh.push(b)}function hh(b,$,_e,et){var tt=$.interleaved;return tt===null?(_e.next=_e,gh($)):(_e.next=tt.next,tt.next=_e),$.interleaved=_e,ih(b,et)}function ih(b,$){b.lanes|=$;var _e=b.alternate;for(_e!==null&&(_e.lanes|=$),_e=b,b=b.return;b!==null;)b.childLanes|=$,_e=b.alternate,_e!==null&&(_e.childLanes|=$),_e=b,b=b.return;return _e.tag===3?_e.stateNode:null}var jh=!1;function kh(b){b.updateQueue={baseState:b.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(b,$){b=b.updateQueue,$.updateQueue===b&&($.updateQueue={baseState:b.baseState,firstBaseUpdate:b.firstBaseUpdate,lastBaseUpdate:b.lastBaseUpdate,shared:b.shared,effects:b.effects})}function mh(b,$){return{eventTime:b,lane:$,tag:0,payload:null,callback:null,next:null}}function nh(b,$,_e){var et=b.updateQueue;if(et===null)return null;if(et=et.shared,K&2){var tt=et.pending;return tt===null?$.next=$:($.next=tt.next,tt.next=$),et.pending=$,ih(b,_e)}return tt=et.interleaved,tt===null?($.next=$,gh(et)):($.next=tt.next,tt.next=$),et.interleaved=$,ih(b,_e)}function oh(b,$,_e){if($=$.updateQueue,$!==null&&($=$.shared,(_e&4194240)!==0)){var et=$.lanes;et&=b.pendingLanes,_e|=et,$.lanes=_e,Cc(b,_e)}}function ph(b,$){var _e=b.updateQueue,et=b.alternate;if(et!==null&&(et=et.updateQueue,_e===et)){var tt=null,nt=null;if(_e=_e.firstBaseUpdate,_e!==null){do{var rt={eventTime:_e.eventTime,lane:_e.lane,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null};nt===null?tt=nt=rt:nt=nt.next=rt,_e=_e.next}while(_e!==null);nt===null?tt=nt=$:nt=nt.next=$}else tt=nt=$;_e={baseState:et.baseState,firstBaseUpdate:tt,lastBaseUpdate:nt,shared:et.shared,effects:et.effects},b.updateQueue=_e;return}b=_e.lastBaseUpdate,b===null?_e.firstBaseUpdate=$:b.next=$,_e.lastBaseUpdate=$}function qh(b,$,_e,et){var tt=b.updateQueue;jh=!1;var nt=tt.firstBaseUpdate,rt=tt.lastBaseUpdate,ot=tt.shared.pending;if(ot!==null){tt.shared.pending=null;var st=ot,ct=st.next;st.next=null,rt===null?nt=ct:rt.next=ct,rt=st;var lt=b.alternate;lt!==null&&(lt=lt.updateQueue,ot=lt.lastBaseUpdate,ot!==rt&&(ot===null?lt.firstBaseUpdate=ct:ot.next=ct,lt.lastBaseUpdate=st))}if(nt!==null){var at=tt.baseState;rt=0,lt=ct=st=null,ot=nt;do{var it=ot.lane,ut=ot.eventTime;if((et&it)===it){lt!==null&&(lt=lt.next={eventTime:ut,lane:0,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null});e:{var dt=b,ht=ot;switch(it=$,ut=_e,ht.tag){case 1:if(dt=ht.payload,typeof dt=="function"){at=dt.call(ut,at,it);break e}at=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=ht.payload,it=typeof dt=="function"?dt.call(ut,at,it):dt,it==null)break e;at=A({},at,it);break e;case 2:jh=!0}}ot.callback!==null&&ot.lane!==0&&(b.flags|=64,it=tt.effects,it===null?tt.effects=[ot]:it.push(ot))}else ut={eventTime:ut,lane:it,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},lt===null?(ct=lt=ut,st=at):lt=lt.next=ut,rt|=it;if(ot=ot.next,ot===null){if(ot=tt.shared.pending,ot===null)break;it=ot,ot=it.next,it.next=null,tt.lastBaseUpdate=it,tt.shared.pending=null}}while(!0);if(lt===null&&(st=at),tt.baseState=st,tt.firstBaseUpdate=ct,tt.lastBaseUpdate=lt,$=tt.shared.interleaved,$!==null){tt=$;do rt|=tt.lane,tt=tt.next;while(tt!==$)}else nt===null&&(tt.shared.lanes=0);rh|=rt,b.lanes=rt,b.memoizedState=at}}function sh(b,$,_e){if(b=$.effects,$.effects=null,b!==null)for($=0;$<b.length;$++){var et=b[$],tt=et.callback;if(tt!==null){if(et.callback=null,et=_e,typeof tt!="function")throw Error(p$4(191,tt));tt.call(et)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(b){if(b===th)throw Error(p$4(174));return b}function yh(b,$){switch(G(wh,$),G(vh,b),G(uh,th),b=$.nodeType,b){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:lb(null,"");break;default:b=b===8?$.parentNode:$,$=b.namespaceURI||null,b=b.tagName,$=lb($,b)}E(uh),G(uh,$)}function zh(){E(uh),E(vh),E(wh)}function Ah(b){xh(wh.current);var $=xh(uh.current),_e=lb($,b.type);$!==_e&&(G(vh,b),G(uh,_e))}function Bh(b){vh.current===b&&(E(uh),E(vh))}var L=Uf(0);function Ch(b){for(var $=b;$!==null;){if($.tag===13){var _e=$.memoizedState;if(_e!==null&&(_e=_e.dehydrated,_e===null||_e.data==="$?"||_e.data==="$!"))return $}else if($.tag===19&&$.memoizedProps.revealOrder!==void 0){if($.flags&128)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===b)break;for(;$.sibling===null;){if($.return===null||$.return===b)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var Dh=[];function Eh(){for(var b=0;b<Dh.length;b++)Dh[b]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p$4(321))}function Mh(b,$){if($===null)return!1;for(var _e=0;_e<$.length&&_e<b.length;_e++)if(!He(b[_e],$[_e]))return!1;return!0}function Nh(b,$,_e,et,tt,nt){if(Hh=nt,M=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Fh.current=b===null||b.memoizedState===null?Oh:Ph,b=_e(et,tt),Jh){nt=0;do{if(Jh=!1,Kh=0,25<=nt)throw Error(p$4(301));nt+=1,O=N=null,$.updateQueue=null,Fh.current=Qh,b=_e(et,tt)}while(Jh)}if(Fh.current=Rh,$=N!==null&&N.next!==null,Hh=0,O=N=M=null,Ih=!1,$)throw Error(p$4(300));return b}function Sh(){var b=Kh!==0;return Kh=0,b}function Th(){var b={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=b:O=O.next=b,O}function Uh(){if(N===null){var b=M.alternate;b=b!==null?b.memoizedState:null}else b=N.next;var $=O===null?M.memoizedState:O.next;if($!==null)O=$,N=b;else{if(b===null)throw Error(p$4(310));N=b,b={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null},O===null?M.memoizedState=O=b:O=O.next=b}return O}function Vh(b,$){return typeof $=="function"?$(b):$}function Wh(b){var $=Uh(),_e=$.queue;if(_e===null)throw Error(p$4(311));_e.lastRenderedReducer=b;var et=N,tt=et.baseQueue,nt=_e.pending;if(nt!==null){if(tt!==null){var rt=tt.next;tt.next=nt.next,nt.next=rt}et.baseQueue=tt=nt,_e.pending=null}if(tt!==null){nt=tt.next,et=et.baseState;var ot=rt=null,st=null,ct=nt;do{var lt=ct.lane;if((Hh&lt)===lt)st!==null&&(st=st.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),et=ct.hasEagerState?ct.eagerState:b(et,ct.action);else{var at={lane:lt,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};st===null?(ot=st=at,rt=et):st=st.next=at,M.lanes|=lt,rh|=lt}ct=ct.next}while(ct!==null&&ct!==nt);st===null?rt=et:st.next=ot,He(et,$.memoizedState)||(dh=!0),$.memoizedState=et,$.baseState=rt,$.baseQueue=st,_e.lastRenderedState=et}if(b=_e.interleaved,b!==null){tt=b;do nt=tt.lane,M.lanes|=nt,rh|=nt,tt=tt.next;while(tt!==b)}else tt===null&&(_e.lanes=0);return[$.memoizedState,_e.dispatch]}function Xh(b){var $=Uh(),_e=$.queue;if(_e===null)throw Error(p$4(311));_e.lastRenderedReducer=b;var et=_e.dispatch,tt=_e.pending,nt=$.memoizedState;if(tt!==null){_e.pending=null;var rt=tt=tt.next;do nt=b(nt,rt.action),rt=rt.next;while(rt!==tt);He(nt,$.memoizedState)||(dh=!0),$.memoizedState=nt,$.baseQueue===null&&($.baseState=nt),_e.lastRenderedState=nt}return[nt,et]}function Yh(){}function Zh(b,$){var _e=M,et=Uh(),tt=$(),nt=!He(et.memoizedState,tt);if(nt&&(et.memoizedState=tt,dh=!0),et=et.queue,$h(ai.bind(null,_e,et,b),[b]),et.getSnapshot!==$||nt||O!==null&&O.memoizedState.tag&1){if(_e.flags|=2048,bi(9,ci.bind(null,_e,et,tt,$),void 0,null),Q===null)throw Error(p$4(349));Hh&30||di(_e,$,tt)}return tt}function di(b,$,_e){b.flags|=16384,b={getSnapshot:$,value:_e},$=M.updateQueue,$===null?($={lastEffect:null,stores:null},M.updateQueue=$,$.stores=[b]):(_e=$.stores,_e===null?$.stores=[b]:_e.push(b))}function ci(b,$,_e,et){$.value=_e,$.getSnapshot=et,ei($)&&fi(b)}function ai(b,$,_e){return _e(function(){ei($)&&fi(b)})}function ei(b){var $=b.getSnapshot;b=b.value;try{var _e=$();return!He(b,_e)}catch{return!0}}function fi(b){var $=ih(b,1);$!==null&&gi($,b,1,-1)}function hi(b){var $=Th();return typeof b=="function"&&(b=b()),$.memoizedState=$.baseState=b,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:b},$.queue=b,b=b.dispatch=ii.bind(null,M,b),[$.memoizedState,b]}function bi(b,$,_e,et){return b={tag:b,create:$,destroy:_e,deps:et,next:null},$=M.updateQueue,$===null?($={lastEffect:null,stores:null},M.updateQueue=$,$.lastEffect=b.next=b):(_e=$.lastEffect,_e===null?$.lastEffect=b.next=b:(et=_e.next,_e.next=b,b.next=et,$.lastEffect=b)),b}function ji(){return Uh().memoizedState}function ki(b,$,_e,et){var tt=Th();M.flags|=b,tt.memoizedState=bi(1|$,_e,void 0,et===void 0?null:et)}function li(b,$,_e,et){var tt=Uh();et=et===void 0?null:et;var nt=void 0;if(N!==null){var rt=N.memoizedState;if(nt=rt.destroy,et!==null&&Mh(et,rt.deps)){tt.memoizedState=bi($,_e,nt,et);return}}M.flags|=b,tt.memoizedState=bi(1|$,_e,nt,et)}function mi(b,$){return ki(8390656,8,b,$)}function $h(b,$){return li(2048,8,b,$)}function ni(b,$){return li(4,2,b,$)}function oi(b,$){return li(4,4,b,$)}function pi$1(b,$){if(typeof $=="function")return b=b(),$(b),function(){$(null)};if($!=null)return b=b(),$.current=b,function(){$.current=null}}function qi(b,$,_e){return _e=_e!=null?_e.concat([b]):null,li(4,4,pi$1.bind(null,$,b),_e)}function ri(){}function si(b,$){var _e=Uh();$=$===void 0?null:$;var et=_e.memoizedState;return et!==null&&$!==null&&Mh($,et[1])?et[0]:(_e.memoizedState=[b,$],b)}function ti(b,$){var _e=Uh();$=$===void 0?null:$;var et=_e.memoizedState;return et!==null&&$!==null&&Mh($,et[1])?et[0]:(b=b(),_e.memoizedState=[b,$],b)}function ui(b,$,_e){return Hh&21?(He(_e,$)||(_e=yc(),M.lanes|=_e,rh|=_e,b.baseState=!0),$):(b.baseState&&(b.baseState=!1,dh=!0),b.memoizedState=_e)}function vi(b,$){var _e=C;C=_e!==0&&4>_e?_e:4,b(!0);var et=Gh.transition;Gh.transition={};try{b(!1),$()}finally{C=_e,Gh.transition=et}}function wi(){return Uh().memoizedState}function xi(b,$,_e){var et=yi(b);if(_e={lane:et,action:_e,hasEagerState:!1,eagerState:null,next:null},zi(b))Ai($,_e);else if(_e=hh(b,$,_e,et),_e!==null){var tt=R();gi(_e,b,et,tt),Bi(_e,$,et)}}function ii(b,$,_e){var et=yi(b),tt={lane:et,action:_e,hasEagerState:!1,eagerState:null,next:null};if(zi(b))Ai($,tt);else{var nt=b.alternate;if(b.lanes===0&&(nt===null||nt.lanes===0)&&(nt=$.lastRenderedReducer,nt!==null))try{var rt=$.lastRenderedState,ot=nt(rt,_e);if(tt.hasEagerState=!0,tt.eagerState=ot,He(ot,rt)){var st=$.interleaved;st===null?(tt.next=tt,gh($)):(tt.next=st.next,st.next=tt),$.interleaved=tt;return}}catch{}finally{}_e=hh(b,$,tt,et),_e!==null&&(tt=R(),gi(_e,b,et,tt),Bi(_e,$,et))}}function zi(b){var $=b.alternate;return b===M||$!==null&&$===M}function Ai(b,$){Jh=Ih=!0;var _e=b.pending;_e===null?$.next=$:($.next=_e.next,_e.next=$),b.pending=$}function Bi(b,$,_e){if(_e&4194240){var et=$.lanes;et&=b.pendingLanes,_e|=et,$.lanes=_e,Cc(b,_e)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(b,$){return Th().memoizedState=[b,$===void 0?null:$],b},useContext:eh,useEffect:mi,useImperativeHandle:function(b,$,_e){return _e=_e!=null?_e.concat([b]):null,ki(4194308,4,pi$1.bind(null,$,b),_e)},useLayoutEffect:function(b,$){return ki(4194308,4,b,$)},useInsertionEffect:function(b,$){return ki(4,2,b,$)},useMemo:function(b,$){var _e=Th();return $=$===void 0?null:$,b=b(),_e.memoizedState=[b,$],b},useReducer:function(b,$,_e){var et=Th();return $=_e!==void 0?_e($):$,et.memoizedState=et.baseState=$,b={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:b,lastRenderedState:$},et.queue=b,b=b.dispatch=xi.bind(null,M,b),[et.memoizedState,b]},useRef:function(b){var $=Th();return b={current:b},$.memoizedState=b},useState:hi,useDebugValue:ri,useDeferredValue:function(b){return Th().memoizedState=b},useTransition:function(){var b=hi(!1),$=b[0];return b=vi.bind(null,b[1]),Th().memoizedState=b,[$,b]},useMutableSource:function(){},useSyncExternalStore:function(b,$,_e){var et=M,tt=Th();if(I){if(_e===void 0)throw Error(p$4(407));_e=_e()}else{if(_e=$(),Q===null)throw Error(p$4(349));Hh&30||di(et,$,_e)}tt.memoizedState=_e;var nt={value:_e,getSnapshot:$};return tt.queue=nt,mi(ai.bind(null,et,nt,b),[b]),et.flags|=2048,bi(9,ci.bind(null,et,nt,_e,$),void 0,null),_e},useId:function(){var b=Th(),$=Q.identifierPrefix;if(I){var _e=sg,et=rg;_e=(et&~(1<<32-oc(et)-1)).toString(32)+_e,$=":"+$+"R"+_e,_e=Kh++,0<_e&&($+="H"+_e.toString(32)),$+=":"}else _e=Lh++,$=":"+$+"r"+_e.toString(32)+":";return b.memoizedState=$},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(b){var $=Uh();return ui($,N.memoizedState,b)},useTransition:function(){var b=Wh(Vh)[0],$=Uh().memoizedState;return[b,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(b){var $=Uh();return N===null?$.memoizedState=b:ui($,N.memoizedState,b)},useTransition:function(){var b=Xh(Vh)[0],$=Uh().memoizedState;return[b,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(b,$){if(b&&b.defaultProps){$=A({},$),b=b.defaultProps;for(var _e in b)$[_e]===void 0&&($[_e]=b[_e]);return $}return $}function Di(b,$,_e,et){$=b.memoizedState,_e=_e(et,$),_e=_e==null?$:A({},$,_e),b.memoizedState=_e,b.lanes===0&&(b.updateQueue.baseState=_e)}var Ei={isMounted:function(b){return(b=b._reactInternals)?Vb$1(b)===b:!1},enqueueSetState:function(b,$,_e){b=b._reactInternals;var et=R(),tt=yi(b),nt=mh(et,tt);nt.payload=$,_e!=null&&(nt.callback=_e),$=nh(b,nt,tt),$!==null&&(gi($,b,tt,et),oh($,b,tt))},enqueueReplaceState:function(b,$,_e){b=b._reactInternals;var et=R(),tt=yi(b),nt=mh(et,tt);nt.tag=1,nt.payload=$,_e!=null&&(nt.callback=_e),$=nh(b,nt,tt),$!==null&&(gi($,b,tt,et),oh($,b,tt))},enqueueForceUpdate:function(b,$){b=b._reactInternals;var _e=R(),et=yi(b),tt=mh(_e,et);tt.tag=2,$!=null&&(tt.callback=$),$=nh(b,tt,et),$!==null&&(gi($,b,et,_e),oh($,b,et))}};function Fi(b,$,_e,et,tt,nt,rt){return b=b.stateNode,typeof b.shouldComponentUpdate=="function"?b.shouldComponentUpdate(et,nt,rt):$.prototype&&$.prototype.isPureReactComponent?!Ie(_e,et)||!Ie(tt,nt):!0}function Gi(b,$,_e){var et=!1,tt=Vf,nt=$.contextType;return typeof nt=="object"&&nt!==null?nt=eh(nt):(tt=Zf($)?Xf:H.current,et=$.contextTypes,nt=(et=et!=null)?Yf(b,tt):Vf),$=new $(_e,nt),b.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=Ei,b.stateNode=$,$._reactInternals=b,et&&(b=b.stateNode,b.__reactInternalMemoizedUnmaskedChildContext=tt,b.__reactInternalMemoizedMaskedChildContext=nt),$}function Hi(b,$,_e,et){b=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(_e,et),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(_e,et),$.state!==b&&Ei.enqueueReplaceState($,$.state,null)}function Ii(b,$,_e,et){var tt=b.stateNode;tt.props=_e,tt.state=b.memoizedState,tt.refs={},kh(b);var nt=$.contextType;typeof nt=="object"&&nt!==null?tt.context=eh(nt):(nt=Zf($)?Xf:H.current,tt.context=Yf(b,nt)),tt.state=b.memoizedState,nt=$.getDerivedStateFromProps,typeof nt=="function"&&(Di(b,$,nt,_e),tt.state=b.memoizedState),typeof $.getDerivedStateFromProps=="function"||typeof tt.getSnapshotBeforeUpdate=="function"||typeof tt.UNSAFE_componentWillMount!="function"&&typeof tt.componentWillMount!="function"||($=tt.state,typeof tt.componentWillMount=="function"&&tt.componentWillMount(),typeof tt.UNSAFE_componentWillMount=="function"&&tt.UNSAFE_componentWillMount(),$!==tt.state&&Ei.enqueueReplaceState(tt,tt.state,null),qh(b,_e,tt,et),tt.state=b.memoizedState),typeof tt.componentDidMount=="function"&&(b.flags|=4194308)}function Ji(b,$){try{var _e="",et=$;do _e+=Pa(et),et=et.return;while(et);var tt=_e}catch(nt){tt=`
Error generating stack: `+nt.message+`
`+nt.stack}return{value:b,source:$,stack:tt,digest:null}}function Ki(b,$,_e){return{value:b,source:null,stack:_e??null,digest:$??null}}function Li(b,$){try{console.error($.value)}catch(_e){setTimeout(function(){throw _e})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(b,$,_e){_e=mh(-1,_e),_e.tag=3,_e.payload={element:null};var et=$.value;return _e.callback=function(){Oi||(Oi=!0,Pi=et),Li(b,$)},_e}function Qi(b,$,_e){_e=mh(-1,_e),_e.tag=3;var et=b.type.getDerivedStateFromError;if(typeof et=="function"){var tt=$.value;_e.payload=function(){return et(tt)},_e.callback=function(){Li(b,$)}}var nt=b.stateNode;return nt!==null&&typeof nt.componentDidCatch=="function"&&(_e.callback=function(){Li(b,$),typeof et!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var rt=$.stack;this.componentDidCatch($.value,{componentStack:rt!==null?rt:""})}),_e}function Si(b,$,_e){var et=b.pingCache;if(et===null){et=b.pingCache=new Mi;var tt=new Set;et.set($,tt)}else tt=et.get($),tt===void 0&&(tt=new Set,et.set($,tt));tt.has(_e)||(tt.add(_e),b=Ti.bind(null,b,$,_e),$.then(b,b))}function Ui(b){do{var $;if(($=b.tag===13)&&($=b.memoizedState,$=$!==null?$.dehydrated!==null:!0),$)return b;b=b.return}while(b!==null);return null}function Vi(b,$,_e,et,tt){return b.mode&1?(b.flags|=65536,b.lanes=tt,b):(b===$?b.flags|=65536:(b.flags|=128,_e.flags|=131072,_e.flags&=-52805,_e.tag===1&&(_e.alternate===null?_e.tag=17:($=mh(-1,1),$.tag=2,nh(_e,$,1))),_e.lanes|=1),b)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(b,$,_e,et){$.child=b===null?Vg($,null,_e,et):Ug($,b.child,_e,et)}function Yi(b,$,_e,et,tt){_e=_e.render;var nt=$.ref;return ch($,tt),et=Nh(b,$,_e,et,nt,tt),_e=Sh(),b!==null&&!dh?($.updateQueue=b.updateQueue,$.flags&=-2053,b.lanes&=~tt,Zi(b,$,tt)):(I&&_e&&vg($),$.flags|=1,Xi(b,$,et,tt),$.child)}function $i(b,$,_e,et,tt){if(b===null){var nt=_e.type;return typeof nt=="function"&&!aj(nt)&&nt.defaultProps===void 0&&_e.compare===null&&_e.defaultProps===void 0?($.tag=15,$.type=nt,bj(b,$,nt,et,tt)):(b=Rg(_e.type,null,et,$,$.mode,tt),b.ref=$.ref,b.return=$,$.child=b)}if(nt=b.child,!(b.lanes&tt)){var rt=nt.memoizedProps;if(_e=_e.compare,_e=_e!==null?_e:Ie,_e(rt,et)&&b.ref===$.ref)return Zi(b,$,tt)}return $.flags|=1,b=Pg(nt,et),b.ref=$.ref,b.return=$,$.child=b}function bj(b,$,_e,et,tt){if(b!==null){var nt=b.memoizedProps;if(Ie(nt,et)&&b.ref===$.ref)if(dh=!1,$.pendingProps=et=nt,(b.lanes&tt)!==0)b.flags&131072&&(dh=!0);else return $.lanes=b.lanes,Zi(b,$,tt)}return cj(b,$,_e,et,tt)}function dj(b,$,_e){var et=$.pendingProps,tt=et.children,nt=b!==null?b.memoizedState:null;if(et.mode==="hidden")if(!($.mode&1))$.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=_e;else{if(!(_e&1073741824))return b=nt!==null?nt.baseLanes|_e:_e,$.lanes=$.childLanes=1073741824,$.memoizedState={baseLanes:b,cachePool:null,transitions:null},$.updateQueue=null,G(ej,fj),fj|=b,null;$.memoizedState={baseLanes:0,cachePool:null,transitions:null},et=nt!==null?nt.baseLanes:_e,G(ej,fj),fj|=et}else nt!==null?(et=nt.baseLanes|_e,$.memoizedState=null):et=_e,G(ej,fj),fj|=et;return Xi(b,$,tt,_e),$.child}function gj(b,$){var _e=$.ref;(b===null&&_e!==null||b!==null&&b.ref!==_e)&&($.flags|=512,$.flags|=2097152)}function cj(b,$,_e,et,tt){var nt=Zf(_e)?Xf:H.current;return nt=Yf($,nt),ch($,tt),_e=Nh(b,$,_e,et,nt,tt),et=Sh(),b!==null&&!dh?($.updateQueue=b.updateQueue,$.flags&=-2053,b.lanes&=~tt,Zi(b,$,tt)):(I&&et&&vg($),$.flags|=1,Xi(b,$,_e,tt),$.child)}function hj(b,$,_e,et,tt){if(Zf(_e)){var nt=!0;cg($)}else nt=!1;if(ch($,tt),$.stateNode===null)ij(b,$),Gi($,_e,et),Ii($,_e,et,tt),et=!0;else if(b===null){var rt=$.stateNode,ot=$.memoizedProps;rt.props=ot;var st=rt.context,ct=_e.contextType;typeof ct=="object"&&ct!==null?ct=eh(ct):(ct=Zf(_e)?Xf:H.current,ct=Yf($,ct));var lt=_e.getDerivedStateFromProps,at=typeof lt=="function"||typeof rt.getSnapshotBeforeUpdate=="function";at||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(ot!==et||st!==ct)&&Hi($,rt,et,ct),jh=!1;var it=$.memoizedState;rt.state=it,qh($,et,rt,tt),st=$.memoizedState,ot!==et||it!==st||Wf.current||jh?(typeof lt=="function"&&(Di($,_e,lt,et),st=$.memoizedState),(ot=jh||Fi($,_e,ot,et,it,st,ct))?(at||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount()),typeof rt.componentDidMount=="function"&&($.flags|=4194308)):(typeof rt.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=et,$.memoizedState=st),rt.props=et,rt.state=st,rt.context=ct,et=ot):(typeof rt.componentDidMount=="function"&&($.flags|=4194308),et=!1)}else{rt=$.stateNode,lh(b,$),ot=$.memoizedProps,ct=$.type===$.elementType?ot:Ci($.type,ot),rt.props=ct,at=$.pendingProps,it=rt.context,st=_e.contextType,typeof st=="object"&&st!==null?st=eh(st):(st=Zf(_e)?Xf:H.current,st=Yf($,st));var ut=_e.getDerivedStateFromProps;(lt=typeof ut=="function"||typeof rt.getSnapshotBeforeUpdate=="function")||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(ot!==at||it!==st)&&Hi($,rt,et,st),jh=!1,it=$.memoizedState,rt.state=it,qh($,et,rt,tt);var dt=$.memoizedState;ot!==at||it!==dt||Wf.current||jh?(typeof ut=="function"&&(Di($,_e,ut,et),dt=$.memoizedState),(ct=jh||Fi($,_e,ct,et,it,dt,st)||!1)?(lt||typeof rt.UNSAFE_componentWillUpdate!="function"&&typeof rt.componentWillUpdate!="function"||(typeof rt.componentWillUpdate=="function"&&rt.componentWillUpdate(et,dt,st),typeof rt.UNSAFE_componentWillUpdate=="function"&&rt.UNSAFE_componentWillUpdate(et,dt,st)),typeof rt.componentDidUpdate=="function"&&($.flags|=4),typeof rt.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof rt.componentDidUpdate!="function"||ot===b.memoizedProps&&it===b.memoizedState||($.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||ot===b.memoizedProps&&it===b.memoizedState||($.flags|=1024),$.memoizedProps=et,$.memoizedState=dt),rt.props=et,rt.state=dt,rt.context=st,et=ct):(typeof rt.componentDidUpdate!="function"||ot===b.memoizedProps&&it===b.memoizedState||($.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||ot===b.memoizedProps&&it===b.memoizedState||($.flags|=1024),et=!1)}return jj$3(b,$,_e,et,nt,tt)}function jj$3(b,$,_e,et,tt,nt){gj(b,$);var rt=($.flags&128)!==0;if(!et&&!rt)return tt&&dg($,_e,!1),Zi(b,$,nt);et=$.stateNode,Wi.current=$;var ot=rt&&typeof _e.getDerivedStateFromError!="function"?null:et.render();return $.flags|=1,b!==null&&rt?($.child=Ug($,b.child,null,nt),$.child=Ug($,null,ot,nt)):Xi(b,$,ot,nt),$.memoizedState=et.state,tt&&dg($,_e,!0),$.child}function kj(b){var $=b.stateNode;$.pendingContext?ag(b,$.pendingContext,$.pendingContext!==$.context):$.context&&ag(b,$.context,!1),yh(b,$.containerInfo)}function lj(b,$,_e,et,tt){return Ig(),Jg(tt),$.flags|=256,Xi(b,$,_e,et),$.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(b){return{baseLanes:b,cachePool:null,transitions:null}}function oj(b,$,_e){var et=$.pendingProps,tt=L.current,nt=!1,rt=($.flags&128)!==0,ot;if((ot=rt)||(ot=b!==null&&b.memoizedState===null?!1:(tt&2)!==0),ot?(nt=!0,$.flags&=-129):(b===null||b.memoizedState!==null)&&(tt|=1),G(L,tt&1),b===null)return Eg($),b=$.memoizedState,b!==null&&(b=b.dehydrated,b!==null)?($.mode&1?b.data==="$!"?$.lanes=8:$.lanes=1073741824:$.lanes=1,null):(rt=et.children,b=et.fallback,nt?(et=$.mode,nt=$.child,rt={mode:"hidden",children:rt},!(et&1)&&nt!==null?(nt.childLanes=0,nt.pendingProps=rt):nt=pj(rt,et,0,null),b=Tg(b,et,_e,null),nt.return=$,b.return=$,nt.sibling=b,$.child=nt,$.child.memoizedState=nj(_e),$.memoizedState=mj,b):qj($,rt));if(tt=b.memoizedState,tt!==null&&(ot=tt.dehydrated,ot!==null))return rj(b,$,rt,et,ot,tt,_e);if(nt){nt=et.fallback,rt=$.mode,tt=b.child,ot=tt.sibling;var st={mode:"hidden",children:et.children};return!(rt&1)&&$.child!==tt?(et=$.child,et.childLanes=0,et.pendingProps=st,$.deletions=null):(et=Pg(tt,st),et.subtreeFlags=tt.subtreeFlags&14680064),ot!==null?nt=Pg(ot,nt):(nt=Tg(nt,rt,_e,null),nt.flags|=2),nt.return=$,et.return=$,et.sibling=nt,$.child=et,et=nt,nt=$.child,rt=b.child.memoizedState,rt=rt===null?nj(_e):{baseLanes:rt.baseLanes|_e,cachePool:null,transitions:rt.transitions},nt.memoizedState=rt,nt.childLanes=b.childLanes&~_e,$.memoizedState=mj,et}return nt=b.child,b=nt.sibling,et=Pg(nt,{mode:"visible",children:et.children}),!($.mode&1)&&(et.lanes=_e),et.return=$,et.sibling=null,b!==null&&(_e=$.deletions,_e===null?($.deletions=[b],$.flags|=16):_e.push(b)),$.child=et,$.memoizedState=null,et}function qj(b,$){return $=pj({mode:"visible",children:$},b.mode,0,null),$.return=b,b.child=$}function sj(b,$,_e,et){return et!==null&&Jg(et),Ug($,b.child,null,_e),b=qj($,$.pendingProps.children),b.flags|=2,$.memoizedState=null,b}function rj(b,$,_e,et,tt,nt,rt){if(_e)return $.flags&256?($.flags&=-257,et=Ki(Error(p$4(422))),sj(b,$,rt,et)):$.memoizedState!==null?($.child=b.child,$.flags|=128,null):(nt=et.fallback,tt=$.mode,et=pj({mode:"visible",children:et.children},tt,0,null),nt=Tg(nt,tt,rt,null),nt.flags|=2,et.return=$,nt.return=$,et.sibling=nt,$.child=et,$.mode&1&&Ug($,b.child,null,rt),$.child.memoizedState=nj(rt),$.memoizedState=mj,nt);if(!($.mode&1))return sj(b,$,rt,null);if(tt.data==="$!"){if(et=tt.nextSibling&&tt.nextSibling.dataset,et)var ot=et.dgst;return et=ot,nt=Error(p$4(419)),et=Ki(nt,et,void 0),sj(b,$,rt,et)}if(ot=(rt&b.childLanes)!==0,dh||ot){if(et=Q,et!==null){switch(rt&-rt){case 4:tt=2;break;case 16:tt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:tt=32;break;case 536870912:tt=268435456;break;default:tt=0}tt=tt&(et.suspendedLanes|rt)?0:tt,tt!==0&&tt!==nt.retryLane&&(nt.retryLane=tt,ih(b,tt),gi(et,b,tt,-1))}return tj(),et=Ki(Error(p$4(421))),sj(b,$,rt,et)}return tt.data==="$?"?($.flags|=128,$.child=b.child,$=uj.bind(null,b),tt._reactRetry=$,null):(b=nt.treeContext,yg=Lf(tt.nextSibling),xg=$,I=!0,zg=null,b!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=b.id,sg=b.overflow,qg=$),$=qj($,et.children),$.flags|=4096,$)}function vj(b,$,_e){b.lanes|=$;var et=b.alternate;et!==null&&(et.lanes|=$),bh(b.return,$,_e)}function wj(b,$,_e,et,tt){var nt=b.memoizedState;nt===null?b.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:et,tail:_e,tailMode:tt}:(nt.isBackwards=$,nt.rendering=null,nt.renderingStartTime=0,nt.last=et,nt.tail=_e,nt.tailMode=tt)}function xj(b,$,_e){var et=$.pendingProps,tt=et.revealOrder,nt=et.tail;if(Xi(b,$,et.children,_e),et=L.current,et&2)et=et&1|2,$.flags|=128;else{if(b!==null&&b.flags&128)e:for(b=$.child;b!==null;){if(b.tag===13)b.memoizedState!==null&&vj(b,_e,$);else if(b.tag===19)vj(b,_e,$);else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===$)break e;for(;b.sibling===null;){if(b.return===null||b.return===$)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}et&=1}if(G(L,et),!($.mode&1))$.memoizedState=null;else switch(tt){case"forwards":for(_e=$.child,tt=null;_e!==null;)b=_e.alternate,b!==null&&Ch(b)===null&&(tt=_e),_e=_e.sibling;_e=tt,_e===null?(tt=$.child,$.child=null):(tt=_e.sibling,_e.sibling=null),wj($,!1,tt,_e,nt);break;case"backwards":for(_e=null,tt=$.child,$.child=null;tt!==null;){if(b=tt.alternate,b!==null&&Ch(b)===null){$.child=tt;break}b=tt.sibling,tt.sibling=_e,_e=tt,tt=b}wj($,!0,_e,null,nt);break;case"together":wj($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function ij(b,$){!($.mode&1)&&b!==null&&(b.alternate=null,$.alternate=null,$.flags|=2)}function Zi(b,$,_e){if(b!==null&&($.dependencies=b.dependencies),rh|=$.lanes,!(_e&$.childLanes))return null;if(b!==null&&$.child!==b.child)throw Error(p$4(153));if($.child!==null){for(b=$.child,_e=Pg(b,b.pendingProps),$.child=_e,_e.return=$;b.sibling!==null;)b=b.sibling,_e=_e.sibling=Pg(b,b.pendingProps),_e.return=$;_e.sibling=null}return $.child}function yj(b,$,_e){switch($.tag){case 3:kj($),Ig();break;case 5:Ah($);break;case 1:Zf($.type)&&cg($);break;case 4:yh($,$.stateNode.containerInfo);break;case 10:var et=$.type._context,tt=$.memoizedProps.value;G(Wg,et._currentValue),et._currentValue=tt;break;case 13:if(et=$.memoizedState,et!==null)return et.dehydrated!==null?(G(L,L.current&1),$.flags|=128,null):_e&$.child.childLanes?oj(b,$,_e):(G(L,L.current&1),b=Zi(b,$,_e),b!==null?b.sibling:null);G(L,L.current&1);break;case 19:if(et=(_e&$.childLanes)!==0,b.flags&128){if(et)return xj(b,$,_e);$.flags|=128}if(tt=$.memoizedState,tt!==null&&(tt.rendering=null,tt.tail=null,tt.lastEffect=null),G(L,L.current),et)break;return null;case 22:case 23:return $.lanes=0,dj(b,$,_e)}return Zi(b,$,_e)}var zj,Aj,Bj,Cj;zj=function(b,$){for(var _e=$.child;_e!==null;){if(_e.tag===5||_e.tag===6)b.appendChild(_e.stateNode);else if(_e.tag!==4&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)return;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}};Aj=function(){};Bj=function(b,$,_e,et){var tt=b.memoizedProps;if(tt!==et){b=$.stateNode,xh(uh.current);var nt=null;switch(_e){case"input":tt=Ya(b,tt),et=Ya(b,et),nt=[];break;case"select":tt=A({},tt,{value:void 0}),et=A({},et,{value:void 0}),nt=[];break;case"textarea":tt=gb(b,tt),et=gb(b,et),nt=[];break;default:typeof tt.onClick!="function"&&typeof et.onClick=="function"&&(b.onclick=Bf)}ub(_e,et);var rt;_e=null;for(ct in tt)if(!et.hasOwnProperty(ct)&&tt.hasOwnProperty(ct)&&tt[ct]!=null)if(ct==="style"){var ot=tt[ct];for(rt in ot)ot.hasOwnProperty(rt)&&(_e||(_e={}),_e[rt]="")}else ct!=="dangerouslySetInnerHTML"&&ct!=="children"&&ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea.hasOwnProperty(ct)?nt||(nt=[]):(nt=nt||[]).push(ct,null));for(ct in et){var st=et[ct];if(ot=tt!=null?tt[ct]:void 0,et.hasOwnProperty(ct)&&st!==ot&&(st!=null||ot!=null))if(ct==="style")if(ot){for(rt in ot)!ot.hasOwnProperty(rt)||st&&st.hasOwnProperty(rt)||(_e||(_e={}),_e[rt]="");for(rt in st)st.hasOwnProperty(rt)&&ot[rt]!==st[rt]&&(_e||(_e={}),_e[rt]=st[rt])}else _e||(nt||(nt=[]),nt.push(ct,_e)),_e=st;else ct==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,ot=ot?ot.__html:void 0,st!=null&&ot!==st&&(nt=nt||[]).push(ct,st)):ct==="children"?typeof st!="string"&&typeof st!="number"||(nt=nt||[]).push(ct,""+st):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ct)?(st!=null&&ct==="onScroll"&&D("scroll",b),nt||ot===st||(nt=[])):(nt=nt||[]).push(ct,st))}_e&&(nt=nt||[]).push("style",_e);var ct=nt;($.updateQueue=ct)&&($.flags|=4)}};Cj=function(b,$,_e,et){_e!==et&&($.flags|=4)};function Dj(b,$){if(!I)switch(b.tailMode){case"hidden":$=b.tail;for(var _e=null;$!==null;)$.alternate!==null&&(_e=$),$=$.sibling;_e===null?b.tail=null:_e.sibling=null;break;case"collapsed":_e=b.tail;for(var et=null;_e!==null;)_e.alternate!==null&&(et=_e),_e=_e.sibling;et===null?$||b.tail===null?b.tail=null:b.tail.sibling=null:et.sibling=null}}function S(b){var $=b.alternate!==null&&b.alternate.child===b.child,_e=0,et=0;if($)for(var tt=b.child;tt!==null;)_e|=tt.lanes|tt.childLanes,et|=tt.subtreeFlags&14680064,et|=tt.flags&14680064,tt.return=b,tt=tt.sibling;else for(tt=b.child;tt!==null;)_e|=tt.lanes|tt.childLanes,et|=tt.subtreeFlags,et|=tt.flags,tt.return=b,tt=tt.sibling;return b.subtreeFlags|=et,b.childLanes=_e,$}function Ej(b,$,_e){var et=$.pendingProps;switch(wg($),$.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S($),null;case 1:return Zf($.type)&&$f(),S($),null;case 3:return et=$.stateNode,zh(),E(Wf),E(H),Eh(),et.pendingContext&&(et.context=et.pendingContext,et.pendingContext=null),(b===null||b.child===null)&&(Gg($)?$.flags|=4:b===null||b.memoizedState.isDehydrated&&!($.flags&256)||($.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(b,$),S($),null;case 5:Bh($);var tt=xh(wh.current);if(_e=$.type,b!==null&&$.stateNode!=null)Bj(b,$,_e,et,tt),b.ref!==$.ref&&($.flags|=512,$.flags|=2097152);else{if(!et){if($.stateNode===null)throw Error(p$4(166));return S($),null}if(b=xh(uh.current),Gg($)){et=$.stateNode,_e=$.type;var nt=$.memoizedProps;switch(et[Of]=$,et[Pf]=nt,b=($.mode&1)!==0,_e){case"dialog":D("cancel",et),D("close",et);break;case"iframe":case"object":case"embed":D("load",et);break;case"video":case"audio":for(tt=0;tt<lf.length;tt++)D(lf[tt],et);break;case"source":D("error",et);break;case"img":case"image":case"link":D("error",et),D("load",et);break;case"details":D("toggle",et);break;case"input":Za(et,nt),D("invalid",et);break;case"select":et._wrapperState={wasMultiple:!!nt.multiple},D("invalid",et);break;case"textarea":hb(et,nt),D("invalid",et)}ub(_e,nt),tt=null;for(var rt in nt)if(nt.hasOwnProperty(rt)){var ot=nt[rt];rt==="children"?typeof ot=="string"?et.textContent!==ot&&(nt.suppressHydrationWarning!==!0&&Af(et.textContent,ot,b),tt=["children",ot]):typeof ot=="number"&&et.textContent!==""+ot&&(nt.suppressHydrationWarning!==!0&&Af(et.textContent,ot,b),tt=["children",""+ot]):ea.hasOwnProperty(rt)&&ot!=null&&rt==="onScroll"&&D("scroll",et)}switch(_e){case"input":Va(et),db(et,nt,!0);break;case"textarea":Va(et),jb(et);break;case"select":case"option":break;default:typeof nt.onClick=="function"&&(et.onclick=Bf)}et=tt,$.updateQueue=et,et!==null&&($.flags|=4)}else{rt=tt.nodeType===9?tt:tt.ownerDocument,b==="http://www.w3.org/1999/xhtml"&&(b=kb(_e)),b==="http://www.w3.org/1999/xhtml"?_e==="script"?(b=rt.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild)):typeof et.is=="string"?b=rt.createElement(_e,{is:et.is}):(b=rt.createElement(_e),_e==="select"&&(rt=b,et.multiple?rt.multiple=!0:et.size&&(rt.size=et.size))):b=rt.createElementNS(b,_e),b[Of]=$,b[Pf]=et,zj(b,$,!1,!1),$.stateNode=b;e:{switch(rt=vb$2(_e,et),_e){case"dialog":D("cancel",b),D("close",b),tt=et;break;case"iframe":case"object":case"embed":D("load",b),tt=et;break;case"video":case"audio":for(tt=0;tt<lf.length;tt++)D(lf[tt],b);tt=et;break;case"source":D("error",b),tt=et;break;case"img":case"image":case"link":D("error",b),D("load",b),tt=et;break;case"details":D("toggle",b),tt=et;break;case"input":Za(b,et),tt=Ya(b,et),D("invalid",b);break;case"option":tt=et;break;case"select":b._wrapperState={wasMultiple:!!et.multiple},tt=A({},et,{value:void 0}),D("invalid",b);break;case"textarea":hb(b,et),tt=gb(b,et),D("invalid",b);break;default:tt=et}ub(_e,tt),ot=tt;for(nt in ot)if(ot.hasOwnProperty(nt)){var st=ot[nt];nt==="style"?sb(b,st):nt==="dangerouslySetInnerHTML"?(st=st?st.__html:void 0,st!=null&&nb(b,st)):nt==="children"?typeof st=="string"?(_e!=="textarea"||st!=="")&&ob(b,st):typeof st=="number"&&ob(b,""+st):nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&nt!=="autoFocus"&&(ea.hasOwnProperty(nt)?st!=null&&nt==="onScroll"&&D("scroll",b):st!=null&&ta(b,nt,st,rt))}switch(_e){case"input":Va(b),db(b,et,!1);break;case"textarea":Va(b),jb(b);break;case"option":et.value!=null&&b.setAttribute("value",""+Sa(et.value));break;case"select":b.multiple=!!et.multiple,nt=et.value,nt!=null?fb(b,!!et.multiple,nt,!1):et.defaultValue!=null&&fb(b,!!et.multiple,et.defaultValue,!0);break;default:typeof tt.onClick=="function"&&(b.onclick=Bf)}switch(_e){case"button":case"input":case"select":case"textarea":et=!!et.autoFocus;break e;case"img":et=!0;break e;default:et=!1}}et&&($.flags|=4)}$.ref!==null&&($.flags|=512,$.flags|=2097152)}return S($),null;case 6:if(b&&$.stateNode!=null)Cj(b,$,b.memoizedProps,et);else{if(typeof et!="string"&&$.stateNode===null)throw Error(p$4(166));if(_e=xh(wh.current),xh(uh.current),Gg($)){if(et=$.stateNode,_e=$.memoizedProps,et[Of]=$,(nt=et.nodeValue!==_e)&&(b=xg,b!==null))switch(b.tag){case 3:Af(et.nodeValue,_e,(b.mode&1)!==0);break;case 5:b.memoizedProps.suppressHydrationWarning!==!0&&Af(et.nodeValue,_e,(b.mode&1)!==0)}nt&&($.flags|=4)}else et=(_e.nodeType===9?_e:_e.ownerDocument).createTextNode(et),et[Of]=$,$.stateNode=et}return S($),null;case 13:if(E(L),et=$.memoizedState,b===null||b.memoizedState!==null&&b.memoizedState.dehydrated!==null){if(I&&yg!==null&&$.mode&1&&!($.flags&128))Hg(),Ig(),$.flags|=98560,nt=!1;else if(nt=Gg($),et!==null&&et.dehydrated!==null){if(b===null){if(!nt)throw Error(p$4(318));if(nt=$.memoizedState,nt=nt!==null?nt.dehydrated:null,!nt)throw Error(p$4(317));nt[Of]=$}else Ig(),!($.flags&128)&&($.memoizedState=null),$.flags|=4;S($),nt=!1}else zg!==null&&(Fj(zg),zg=null),nt=!0;if(!nt)return $.flags&65536?$:null}return $.flags&128?($.lanes=_e,$):(et=et!==null,et!==(b!==null&&b.memoizedState!==null)&&et&&($.child.flags|=8192,$.mode&1&&(b===null||L.current&1?T===0&&(T=3):tj())),$.updateQueue!==null&&($.flags|=4),S($),null);case 4:return zh(),Aj(b,$),b===null&&sf($.stateNode.containerInfo),S($),null;case 10:return ah($.type._context),S($),null;case 17:return Zf($.type)&&$f(),S($),null;case 19:if(E(L),nt=$.memoizedState,nt===null)return S($),null;if(et=($.flags&128)!==0,rt=nt.rendering,rt===null)if(et)Dj(nt,!1);else{if(T!==0||b!==null&&b.flags&128)for(b=$.child;b!==null;){if(rt=Ch(b),rt!==null){for($.flags|=128,Dj(nt,!1),et=rt.updateQueue,et!==null&&($.updateQueue=et,$.flags|=4),$.subtreeFlags=0,et=_e,_e=$.child;_e!==null;)nt=_e,b=et,nt.flags&=14680066,rt=nt.alternate,rt===null?(nt.childLanes=0,nt.lanes=b,nt.child=null,nt.subtreeFlags=0,nt.memoizedProps=null,nt.memoizedState=null,nt.updateQueue=null,nt.dependencies=null,nt.stateNode=null):(nt.childLanes=rt.childLanes,nt.lanes=rt.lanes,nt.child=rt.child,nt.subtreeFlags=0,nt.deletions=null,nt.memoizedProps=rt.memoizedProps,nt.memoizedState=rt.memoizedState,nt.updateQueue=rt.updateQueue,nt.type=rt.type,b=rt.dependencies,nt.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),_e=_e.sibling;return G(L,L.current&1|2),$.child}b=b.sibling}nt.tail!==null&&B()>Gj&&($.flags|=128,et=!0,Dj(nt,!1),$.lanes=4194304)}else{if(!et)if(b=Ch(rt),b!==null){if($.flags|=128,et=!0,_e=b.updateQueue,_e!==null&&($.updateQueue=_e,$.flags|=4),Dj(nt,!0),nt.tail===null&&nt.tailMode==="hidden"&&!rt.alternate&&!I)return S($),null}else 2*B()-nt.renderingStartTime>Gj&&_e!==1073741824&&($.flags|=128,et=!0,Dj(nt,!1),$.lanes=4194304);nt.isBackwards?(rt.sibling=$.child,$.child=rt):(_e=nt.last,_e!==null?_e.sibling=rt:$.child=rt,nt.last=rt)}return nt.tail!==null?($=nt.tail,nt.rendering=$,nt.tail=$.sibling,nt.renderingStartTime=B(),$.sibling=null,_e=L.current,G(L,et?_e&1|2:_e&1),$):(S($),null);case 22:case 23:return Hj(),et=$.memoizedState!==null,b!==null&&b.memoizedState!==null!==et&&($.flags|=8192),et&&$.mode&1?fj&1073741824&&(S($),$.subtreeFlags&6&&($.flags|=8192)):S($),null;case 24:return null;case 25:return null}throw Error(p$4(156,$.tag))}function Ij(b,$){switch(wg($),$.tag){case 1:return Zf($.type)&&$f(),b=$.flags,b&65536?($.flags=b&-65537|128,$):null;case 3:return zh(),E(Wf),E(H),Eh(),b=$.flags,b&65536&&!(b&128)?($.flags=b&-65537|128,$):null;case 5:return Bh($),null;case 13:if(E(L),b=$.memoizedState,b!==null&&b.dehydrated!==null){if($.alternate===null)throw Error(p$4(340));Ig()}return b=$.flags,b&65536?($.flags=b&-65537|128,$):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah($.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(b,$){var _e=b.ref;if(_e!==null)if(typeof _e=="function")try{_e(null)}catch(et){W(b,$,et)}else _e.current=null}function Mj(b,$,_e){try{_e()}catch(et){W(b,$,et)}}var Nj=!1;function Oj(b,$){if(Cf=dd,b=Me(),Ne(b)){if("selectionStart"in b)var _e={start:b.selectionStart,end:b.selectionEnd};else e:{_e=(_e=b.ownerDocument)&&_e.defaultView||window;var et=_e.getSelection&&_e.getSelection();if(et&&et.rangeCount!==0){_e=et.anchorNode;var tt=et.anchorOffset,nt=et.focusNode;et=et.focusOffset;try{_e.nodeType,nt.nodeType}catch{_e=null;break e}var rt=0,ot=-1,st=-1,ct=0,lt=0,at=b,it=null;t:for(;;){for(var ut;at!==_e||tt!==0&&at.nodeType!==3||(ot=rt+tt),at!==nt||et!==0&&at.nodeType!==3||(st=rt+et),at.nodeType===3&&(rt+=at.nodeValue.length),(ut=at.firstChild)!==null;)it=at,at=ut;for(;;){if(at===b)break t;if(it===_e&&++ct===tt&&(ot=rt),it===nt&&++lt===et&&(st=rt),(ut=at.nextSibling)!==null)break;at=it,it=at.parentNode}at=ut}_e=ot===-1||st===-1?null:{start:ot,end:st}}else _e=null}_e=_e||{start:0,end:0}}else _e=null;for(Df={focusedElem:b,selectionRange:_e},dd=!1,V=$;V!==null;)if($=V,b=$.child,($.subtreeFlags&1028)!==0&&b!==null)b.return=$,V=b;else for(;V!==null;){$=V;try{var dt=$.alternate;if($.flags&1024)switch($.tag){case 0:case 11:case 15:break;case 1:if(dt!==null){var ht=dt.memoizedProps,ft=dt.memoizedState,pt=$.stateNode,mt=pt.getSnapshotBeforeUpdate($.elementType===$.type?ht:Ci($.type,ht),ft);pt.__reactInternalSnapshotBeforeUpdate=mt}break;case 3:var gt=$.stateNode.containerInfo;gt.nodeType===1?gt.textContent="":gt.nodeType===9&&gt.documentElement&&gt.removeChild(gt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(vt){W($,$.return,vt)}if(b=$.sibling,b!==null){b.return=$.return,V=b;break}V=$.return}return dt=Nj,Nj=!1,dt}function Pj(b,$,_e){var et=$.updateQueue;if(et=et!==null?et.lastEffect:null,et!==null){var tt=et=et.next;do{if((tt.tag&b)===b){var nt=tt.destroy;tt.destroy=void 0,nt!==void 0&&Mj($,_e,nt)}tt=tt.next}while(tt!==et)}}function Qj(b,$){if($=$.updateQueue,$=$!==null?$.lastEffect:null,$!==null){var _e=$=$.next;do{if((_e.tag&b)===b){var et=_e.create;_e.destroy=et()}_e=_e.next}while(_e!==$)}}function Rj(b){var $=b.ref;if($!==null){var _e=b.stateNode;switch(b.tag){case 5:b=_e;break;default:b=_e}typeof $=="function"?$(b):$.current=b}}function Sj(b){var $=b.alternate;$!==null&&(b.alternate=null,Sj($)),b.child=null,b.deletions=null,b.sibling=null,b.tag===5&&($=b.stateNode,$!==null&&(delete $[Of],delete $[Pf],delete $[of],delete $[Qf],delete $[Rf])),b.stateNode=null,b.return=null,b.dependencies=null,b.memoizedProps=null,b.memoizedState=null,b.pendingProps=null,b.stateNode=null,b.updateQueue=null}function Tj(b){return b.tag===5||b.tag===3||b.tag===4}function Uj(b){e:for(;;){for(;b.sibling===null;){if(b.return===null||Tj(b.return))return null;b=b.return}for(b.sibling.return=b.return,b=b.sibling;b.tag!==5&&b.tag!==6&&b.tag!==18;){if(b.flags&2||b.child===null||b.tag===4)continue e;b.child.return=b,b=b.child}if(!(b.flags&2))return b.stateNode}}function Vj(b,$,_e){var et=b.tag;if(et===5||et===6)b=b.stateNode,$?_e.nodeType===8?_e.parentNode.insertBefore(b,$):_e.insertBefore(b,$):(_e.nodeType===8?($=_e.parentNode,$.insertBefore(b,_e)):($=_e,$.appendChild(b)),_e=_e._reactRootContainer,_e!=null||$.onclick!==null||($.onclick=Bf));else if(et!==4&&(b=b.child,b!==null))for(Vj(b,$,_e),b=b.sibling;b!==null;)Vj(b,$,_e),b=b.sibling}function Wj(b,$,_e){var et=b.tag;if(et===5||et===6)b=b.stateNode,$?_e.insertBefore(b,$):_e.appendChild(b);else if(et!==4&&(b=b.child,b!==null))for(Wj(b,$,_e),b=b.sibling;b!==null;)Wj(b,$,_e),b=b.sibling}var X=null,Xj=!1;function Yj(b,$,_e){for(_e=_e.child;_e!==null;)Zj(b,$,_e),_e=_e.sibling}function Zj(b,$,_e){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,_e)}catch{}switch(_e.tag){case 5:U||Lj(_e,$);case 6:var et=X,tt=Xj;X=null,Yj(b,$,_e),X=et,Xj=tt,X!==null&&(Xj?(b=X,_e=_e.stateNode,b.nodeType===8?b.parentNode.removeChild(_e):b.removeChild(_e)):X.removeChild(_e.stateNode));break;case 18:X!==null&&(Xj?(b=X,_e=_e.stateNode,b.nodeType===8?Kf(b.parentNode,_e):b.nodeType===1&&Kf(b,_e),bd(b)):Kf(X,_e.stateNode));break;case 4:et=X,tt=Xj,X=_e.stateNode.containerInfo,Xj=!0,Yj(b,$,_e),X=et,Xj=tt;break;case 0:case 11:case 14:case 15:if(!U&&(et=_e.updateQueue,et!==null&&(et=et.lastEffect,et!==null))){tt=et=et.next;do{var nt=tt,rt=nt.destroy;nt=nt.tag,rt!==void 0&&(nt&2||nt&4)&&Mj(_e,$,rt),tt=tt.next}while(tt!==et)}Yj(b,$,_e);break;case 1:if(!U&&(Lj(_e,$),et=_e.stateNode,typeof et.componentWillUnmount=="function"))try{et.props=_e.memoizedProps,et.state=_e.memoizedState,et.componentWillUnmount()}catch(ot){W(_e,$,ot)}Yj(b,$,_e);break;case 21:Yj(b,$,_e);break;case 22:_e.mode&1?(U=(et=U)||_e.memoizedState!==null,Yj(b,$,_e),U=et):Yj(b,$,_e);break;default:Yj(b,$,_e)}}function ak(b){var $=b.updateQueue;if($!==null){b.updateQueue=null;var _e=b.stateNode;_e===null&&(_e=b.stateNode=new Kj),$.forEach(function(et){var tt=bk.bind(null,b,et);_e.has(et)||(_e.add(et),et.then(tt,tt))})}}function ck(b,$){var _e=$.deletions;if(_e!==null)for(var et=0;et<_e.length;et++){var tt=_e[et];try{var nt=b,rt=$,ot=rt;e:for(;ot!==null;){switch(ot.tag){case 5:X=ot.stateNode,Xj=!1;break e;case 3:X=ot.stateNode.containerInfo,Xj=!0;break e;case 4:X=ot.stateNode.containerInfo,Xj=!0;break e}ot=ot.return}if(X===null)throw Error(p$4(160));Zj(nt,rt,tt),X=null,Xj=!1;var st=tt.alternate;st!==null&&(st.return=null),tt.return=null}catch(ct){W(tt,$,ct)}}if($.subtreeFlags&12854)for($=$.child;$!==null;)dk($,b),$=$.sibling}function dk(b,$){var _e=b.alternate,et=b.flags;switch(b.tag){case 0:case 11:case 14:case 15:if(ck($,b),ek(b),et&4){try{Pj(3,b,b.return),Qj(3,b)}catch(ht){W(b,b.return,ht)}try{Pj(5,b,b.return)}catch(ht){W(b,b.return,ht)}}break;case 1:ck($,b),ek(b),et&512&&_e!==null&&Lj(_e,_e.return);break;case 5:if(ck($,b),ek(b),et&512&&_e!==null&&Lj(_e,_e.return),b.flags&32){var tt=b.stateNode;try{ob(tt,"")}catch(ht){W(b,b.return,ht)}}if(et&4&&(tt=b.stateNode,tt!=null)){var nt=b.memoizedProps,rt=_e!==null?_e.memoizedProps:nt,ot=b.type,st=b.updateQueue;if(b.updateQueue=null,st!==null)try{ot==="input"&&nt.type==="radio"&&nt.name!=null&&ab(tt,nt),vb$2(ot,rt);var ct=vb$2(ot,nt);for(rt=0;rt<st.length;rt+=2){var lt=st[rt],at=st[rt+1];lt==="style"?sb(tt,at):lt==="dangerouslySetInnerHTML"?nb(tt,at):lt==="children"?ob(tt,at):ta(tt,lt,at,ct)}switch(ot){case"input":bb(tt,nt);break;case"textarea":ib(tt,nt);break;case"select":var it=tt._wrapperState.wasMultiple;tt._wrapperState.wasMultiple=!!nt.multiple;var ut=nt.value;ut!=null?fb(tt,!!nt.multiple,ut,!1):it!==!!nt.multiple&&(nt.defaultValue!=null?fb(tt,!!nt.multiple,nt.defaultValue,!0):fb(tt,!!nt.multiple,nt.multiple?[]:"",!1))}tt[Pf]=nt}catch(ht){W(b,b.return,ht)}}break;case 6:if(ck($,b),ek(b),et&4){if(b.stateNode===null)throw Error(p$4(162));tt=b.stateNode,nt=b.memoizedProps;try{tt.nodeValue=nt}catch(ht){W(b,b.return,ht)}}break;case 3:if(ck($,b),ek(b),et&4&&_e!==null&&_e.memoizedState.isDehydrated)try{bd($.containerInfo)}catch(ht){W(b,b.return,ht)}break;case 4:ck($,b),ek(b);break;case 13:ck($,b),ek(b),tt=b.child,tt.flags&8192&&(nt=tt.memoizedState!==null,tt.stateNode.isHidden=nt,!nt||tt.alternate!==null&&tt.alternate.memoizedState!==null||(fk=B())),et&4&&ak(b);break;case 22:if(lt=_e!==null&&_e.memoizedState!==null,b.mode&1?(U=(ct=U)||lt,ck($,b),U=ct):ck($,b),ek(b),et&8192){if(ct=b.memoizedState!==null,(b.stateNode.isHidden=ct)&&!lt&&b.mode&1)for(V=b,lt=b.child;lt!==null;){for(at=V=lt;V!==null;){switch(it=V,ut=it.child,it.tag){case 0:case 11:case 14:case 15:Pj(4,it,it.return);break;case 1:Lj(it,it.return);var dt=it.stateNode;if(typeof dt.componentWillUnmount=="function"){et=it,_e=it.return;try{$=et,dt.props=$.memoizedProps,dt.state=$.memoizedState,dt.componentWillUnmount()}catch(ht){W(et,_e,ht)}}break;case 5:Lj(it,it.return);break;case 22:if(it.memoizedState!==null){gk(at);continue}}ut!==null?(ut.return=it,V=ut):gk(at)}lt=lt.sibling}e:for(lt=null,at=b;;){if(at.tag===5){if(lt===null){lt=at;try{tt=at.stateNode,ct?(nt=tt.style,typeof nt.setProperty=="function"?nt.setProperty("display","none","important"):nt.display="none"):(ot=at.stateNode,st=at.memoizedProps.style,rt=st!=null&&st.hasOwnProperty("display")?st.display:null,ot.style.display=rb("display",rt))}catch(ht){W(b,b.return,ht)}}}else if(at.tag===6){if(lt===null)try{at.stateNode.nodeValue=ct?"":at.memoizedProps}catch(ht){W(b,b.return,ht)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===b)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===b)break e;for(;at.sibling===null;){if(at.return===null||at.return===b)break e;lt===at&&(lt=null),at=at.return}lt===at&&(lt=null),at.sibling.return=at.return,at=at.sibling}}break;case 19:ck($,b),ek(b),et&4&&ak(b);break;case 21:break;default:ck($,b),ek(b)}}function ek(b){var $=b.flags;if($&2){try{e:{for(var _e=b.return;_e!==null;){if(Tj(_e)){var et=_e;break e}_e=_e.return}throw Error(p$4(160))}switch(et.tag){case 5:var tt=et.stateNode;et.flags&32&&(ob(tt,""),et.flags&=-33);var nt=Uj(b);Wj(b,nt,tt);break;case 3:case 4:var rt=et.stateNode.containerInfo,ot=Uj(b);Vj(b,ot,rt);break;default:throw Error(p$4(161))}}catch(st){W(b,b.return,st)}b.flags&=-3}$&4096&&(b.flags&=-4097)}function hk(b,$,_e){V=b,ik(b)}function ik(b,$,_e){for(var et=(b.mode&1)!==0;V!==null;){var tt=V,nt=tt.child;if(tt.tag===22&&et){var rt=tt.memoizedState!==null||Jj;if(!rt){var ot=tt.alternate,st=ot!==null&&ot.memoizedState!==null||U;ot=Jj;var ct=U;if(Jj=rt,(U=st)&&!ct)for(V=tt;V!==null;)rt=V,st=rt.child,rt.tag===22&&rt.memoizedState!==null?jk(tt):st!==null?(st.return=rt,V=st):jk(tt);for(;nt!==null;)V=nt,ik(nt),nt=nt.sibling;V=tt,Jj=ot,U=ct}kk(b)}else tt.subtreeFlags&8772&&nt!==null?(nt.return=tt,V=nt):kk(b)}}function kk(b){for(;V!==null;){var $=V;if($.flags&8772){var _e=$.alternate;try{if($.flags&8772)switch($.tag){case 0:case 11:case 15:U||Qj(5,$);break;case 1:var et=$.stateNode;if($.flags&4&&!U)if(_e===null)et.componentDidMount();else{var tt=$.elementType===$.type?_e.memoizedProps:Ci($.type,_e.memoizedProps);et.componentDidUpdate(tt,_e.memoizedState,et.__reactInternalSnapshotBeforeUpdate)}var nt=$.updateQueue;nt!==null&&sh($,nt,et);break;case 3:var rt=$.updateQueue;if(rt!==null){if(_e=null,$.child!==null)switch($.child.tag){case 5:_e=$.child.stateNode;break;case 1:_e=$.child.stateNode}sh($,rt,_e)}break;case 5:var ot=$.stateNode;if(_e===null&&$.flags&4){_e=ot;var st=$.memoizedProps;switch($.type){case"button":case"input":case"select":case"textarea":st.autoFocus&&_e.focus();break;case"img":st.src&&(_e.src=st.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if($.memoizedState===null){var ct=$.alternate;if(ct!==null){var lt=ct.memoizedState;if(lt!==null){var at=lt.dehydrated;at!==null&&bd(at)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U||$.flags&512&&Rj($)}catch(it){W($,$.return,it)}}if($===b){V=null;break}if(_e=$.sibling,_e!==null){_e.return=$.return,V=_e;break}V=$.return}}function gk(b){for(;V!==null;){var $=V;if($===b){V=null;break}var _e=$.sibling;if(_e!==null){_e.return=$.return,V=_e;break}V=$.return}}function jk(b){for(;V!==null;){var $=V;try{switch($.tag){case 0:case 11:case 15:var _e=$.return;try{Qj(4,$)}catch(st){W($,_e,st)}break;case 1:var et=$.stateNode;if(typeof et.componentDidMount=="function"){var tt=$.return;try{et.componentDidMount()}catch(st){W($,tt,st)}}var nt=$.return;try{Rj($)}catch(st){W($,nt,st)}break;case 5:var rt=$.return;try{Rj($)}catch(st){W($,rt,st)}}}catch(st){W($,$.return,st)}if($===b){V=null;break}var ot=$.sibling;if(ot!==null){ot.return=$.return,V=ot;break}V=$.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi(b){return b.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(b=C,b!==0||(b=window.event,b=b===void 0?16:jd(b.type)),b):1}function gi(b,$,_e,et){if(50<yk)throw yk=0,zk=null,Error(p$4(185));Ac(b,_e,et),(!(K&2)||b!==Q)&&(b===Q&&(!(K&2)&&(qk|=_e),T===4&&Ck(b,Z)),Dk(b,et),_e===1&&K===0&&!($.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(b,$){var _e=b.callbackNode;wc(b,$);var et=uc(b,b===Q?Z:0);if(et===0)_e!==null&&bc(_e),b.callbackNode=null,b.callbackPriority=0;else if($=et&-et,b.callbackPriority!==$){if(_e!=null&&bc(_e),$===1)b.tag===0?ig(Ek.bind(null,b)):hg(Ek.bind(null,b)),Jf(function(){!(K&6)&&jg()}),_e=null;else{switch(Dc(et)){case 1:_e=fc;break;case 4:_e=gc;break;case 16:_e=hc;break;case 536870912:_e=jc;break;default:_e=hc}_e=Fk(_e,Gk.bind(null,b))}b.callbackPriority=$,b.callbackNode=_e}}function Gk(b,$){if(Ak=-1,Bk=0,K&6)throw Error(p$4(327));var _e=b.callbackNode;if(Hk()&&b.callbackNode!==_e)return null;var et=uc(b,b===Q?Z:0);if(et===0)return null;if(et&30||et&b.expiredLanes||$)$=Ik(b,et);else{$=et;var tt=K;K|=2;var nt=Jk();(Q!==b||Z!==$)&&(uk=null,Gj=B()+500,Kk(b,$));do try{Lk();break}catch(ot){Mk(b,ot)}while(!0);$g(),mk.current=nt,K=tt,Y!==null?$=0:(Q=null,Z=0,$=T)}if($!==0){if($===2&&(tt=xc(b),tt!==0&&(et=tt,$=Nk(b,tt))),$===1)throw _e=pk,Kk(b,0),Ck(b,et),Dk(b,B()),_e;if($===6)Ck(b,et);else{if(tt=b.current.alternate,!(et&30)&&!Ok(tt)&&($=Ik(b,et),$===2&&(nt=xc(b),nt!==0&&(et=nt,$=Nk(b,nt))),$===1))throw _e=pk,Kk(b,0),Ck(b,et),Dk(b,B()),_e;switch(b.finishedWork=tt,b.finishedLanes=et,$){case 0:case 1:throw Error(p$4(345));case 2:Pk(b,tk,uk);break;case 3:if(Ck(b,et),(et&130023424)===et&&($=fk+500-B(),10<$)){if(uc(b,0)!==0)break;if(tt=b.suspendedLanes,(tt&et)!==et){R(),b.pingedLanes|=b.suspendedLanes&tt;break}b.timeoutHandle=Ff(Pk.bind(null,b,tk,uk),$);break}Pk(b,tk,uk);break;case 4:if(Ck(b,et),(et&4194240)===et)break;for($=b.eventTimes,tt=-1;0<et;){var rt=31-oc(et);nt=1<<rt,rt=$[rt],rt>tt&&(tt=rt),et&=~nt}if(et=tt,et=B()-et,et=(120>et?120:480>et?480:1080>et?1080:1920>et?1920:3e3>et?3e3:4320>et?4320:1960*lk(et/1960))-et,10<et){b.timeoutHandle=Ff(Pk.bind(null,b,tk,uk),et);break}Pk(b,tk,uk);break;case 5:Pk(b,tk,uk);break;default:throw Error(p$4(329))}}}return Dk(b,B()),b.callbackNode===_e?Gk.bind(null,b):null}function Nk(b,$){var _e=sk;return b.current.memoizedState.isDehydrated&&(Kk(b,$).flags|=256),b=Ik(b,$),b!==2&&($=tk,tk=_e,$!==null&&Fj($)),b}function Fj(b){tk===null?tk=b:tk.push.apply(tk,b)}function Ok(b){for(var $=b;;){if($.flags&16384){var _e=$.updateQueue;if(_e!==null&&(_e=_e.stores,_e!==null))for(var et=0;et<_e.length;et++){var tt=_e[et],nt=tt.getSnapshot;tt=tt.value;try{if(!He(nt(),tt))return!1}catch{return!1}}}if(_e=$.child,$.subtreeFlags&16384&&_e!==null)_e.return=$,$=_e;else{if($===b)break;for(;$.sibling===null;){if($.return===null||$.return===b)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function Ck(b,$){for($&=~rk,$&=~qk,b.suspendedLanes|=$,b.pingedLanes&=~$,b=b.expirationTimes;0<$;){var _e=31-oc($),et=1<<_e;b[_e]=-1,$&=~et}}function Ek(b){if(K&6)throw Error(p$4(327));Hk();var $=uc(b,0);if(!($&1))return Dk(b,B()),null;var _e=Ik(b,$);if(b.tag!==0&&_e===2){var et=xc(b);et!==0&&($=et,_e=Nk(b,et))}if(_e===1)throw _e=pk,Kk(b,0),Ck(b,$),Dk(b,B()),_e;if(_e===6)throw Error(p$4(345));return b.finishedWork=b.current.alternate,b.finishedLanes=$,Pk(b,tk,uk),Dk(b,B()),null}function Qk(b,$){var _e=K;K|=1;try{return b($)}finally{K=_e,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(b){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var $=K;K|=1;var _e=ok.transition,et=C;try{if(ok.transition=null,C=1,b)return b()}finally{C=et,ok.transition=_e,K=$,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(b,$){b.finishedWork=null,b.finishedLanes=0;var _e=b.timeoutHandle;if(_e!==-1&&(b.timeoutHandle=-1,Gf(_e)),Y!==null)for(_e=Y.return;_e!==null;){var et=_e;switch(wg(et),et.tag){case 1:et=et.type.childContextTypes,et!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(et);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(et.type._context);break;case 22:case 23:Hj()}_e=_e.return}if(Q=b,Y=b=Pg(b.current,null),Z=fj=$,T=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for($=0;$<fh.length;$++)if(_e=fh[$],et=_e.interleaved,et!==null){_e.interleaved=null;var tt=et.next,nt=_e.pending;if(nt!==null){var rt=nt.next;nt.next=tt,et.next=rt}_e.pending=et}fh=null}return b}function Mk(b,$){do{var _e=Y;try{if($g(),Fh.current=Rh,Ih){for(var et=M.memoizedState;et!==null;){var tt=et.queue;tt!==null&&(tt.pending=null),et=et.next}Ih=!1}if(Hh=0,O=N=M=null,Jh=!1,Kh=0,nk.current=null,_e===null||_e.return===null){T=1,pk=$,Y=null;break}e:{var nt=b,rt=_e.return,ot=_e,st=$;if($=Z,ot.flags|=32768,st!==null&&typeof st=="object"&&typeof st.then=="function"){var ct=st,lt=ot,at=lt.tag;if(!(lt.mode&1)&&(at===0||at===11||at===15)){var it=lt.alternate;it?(lt.updateQueue=it.updateQueue,lt.memoizedState=it.memoizedState,lt.lanes=it.lanes):(lt.updateQueue=null,lt.memoizedState=null)}var ut=Ui(rt);if(ut!==null){ut.flags&=-257,Vi(ut,rt,ot,nt,$),ut.mode&1&&Si(nt,ct,$),$=ut,st=ct;var dt=$.updateQueue;if(dt===null){var ht=new Set;ht.add(st),$.updateQueue=ht}else dt.add(st);break e}else{if(!($&1)){Si(nt,ct,$),tj();break e}st=Error(p$4(426))}}else if(I&&ot.mode&1){var ft=Ui(rt);if(ft!==null){!(ft.flags&65536)&&(ft.flags|=256),Vi(ft,rt,ot,nt,$),Jg(Ji(st,ot));break e}}nt=st=Ji(st,ot),T!==4&&(T=2),sk===null?sk=[nt]:sk.push(nt),nt=rt;do{switch(nt.tag){case 3:nt.flags|=65536,$&=-$,nt.lanes|=$;var pt=Ni(nt,st,$);ph(nt,pt);break e;case 1:ot=st;var mt=nt.type,gt=nt.stateNode;if(!(nt.flags&128)&&(typeof mt.getDerivedStateFromError=="function"||gt!==null&&typeof gt.componentDidCatch=="function"&&(Ri===null||!Ri.has(gt)))){nt.flags|=65536,$&=-$,nt.lanes|=$;var vt=Qi(nt,ot,$);ph(nt,vt);break e}}nt=nt.return}while(nt!==null)}Sk(_e)}catch(yt){$=yt,Y===_e&&_e!==null&&(Y=_e=_e.return);continue}break}while(!0)}function Jk(){var b=mk.current;return mk.current=Rh,b===null?Rh:b}function tj(){(T===0||T===3||T===2)&&(T=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(b,$){var _e=K;K|=2;var et=Jk();(Q!==b||Z!==$)&&(uk=null,Kk(b,$));do try{Tk();break}catch(tt){Mk(b,tt)}while(!0);if($g(),K=_e,mk.current=et,Y!==null)throw Error(p$4(261));return Q=null,Z=0,T}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(b){var $=Vk(b.alternate,b,fj);b.memoizedProps=b.pendingProps,$===null?Sk(b):Y=$,nk.current=null}function Sk(b){var $=b;do{var _e=$.alternate;if(b=$.return,$.flags&32768){if(_e=Ij(_e,$),_e!==null){_e.flags&=32767,Y=_e;return}if(b!==null)b.flags|=32768,b.subtreeFlags=0,b.deletions=null;else{T=6,Y=null;return}}else if(_e=Ej(_e,$,fj),_e!==null){Y=_e;return}if($=$.sibling,$!==null){Y=$;return}Y=$=b}while($!==null);T===0&&(T=5)}function Pk(b,$,_e){var et=C,tt=ok.transition;try{ok.transition=null,C=1,Wk(b,$,_e,et)}finally{ok.transition=tt,C=et}return null}function Wk(b,$,_e,et){do Hk();while(wk!==null);if(K&6)throw Error(p$4(327));_e=b.finishedWork;var tt=b.finishedLanes;if(_e===null)return null;if(b.finishedWork=null,b.finishedLanes=0,_e===b.current)throw Error(p$4(177));b.callbackNode=null,b.callbackPriority=0;var nt=_e.lanes|_e.childLanes;if(Bc(b,nt),b===Q&&(Y=Q=null,Z=0),!(_e.subtreeFlags&2064)&&!(_e.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),nt=(_e.flags&15990)!==0,_e.subtreeFlags&15990||nt){nt=ok.transition,ok.transition=null;var rt=C;C=1;var ot=K;K|=4,nk.current=null,Oj(b,_e),dk(_e,b),Oe(Df),dd=!!Cf,Df=Cf=null,b.current=_e,hk(_e),dc(),K=ot,C=rt,ok.transition=nt}else b.current=_e;if(vk&&(vk=!1,wk=b,xk=tt),nt=b.pendingLanes,nt===0&&(Ri=null),mc(_e.stateNode),Dk(b,B()),$!==null)for(et=b.onRecoverableError,_e=0;_e<$.length;_e++)tt=$[_e],et(tt.value,{componentStack:tt.stack,digest:tt.digest});if(Oi)throw Oi=!1,b=Pi,Pi=null,b;return xk&1&&b.tag!==0&&Hk(),nt=b.pendingLanes,nt&1?b===zk?yk++:(yk=0,zk=b):yk=0,jg(),null}function Hk(){if(wk!==null){var b=Dc(xk),$=ok.transition,_e=C;try{if(ok.transition=null,C=16>b?16:b,wk===null)var et=!1;else{if(b=wk,wk=null,xk=0,K&6)throw Error(p$4(331));var tt=K;for(K|=4,V=b.current;V!==null;){var nt=V,rt=nt.child;if(V.flags&16){var ot=nt.deletions;if(ot!==null){for(var st=0;st<ot.length;st++){var ct=ot[st];for(V=ct;V!==null;){var lt=V;switch(lt.tag){case 0:case 11:case 15:Pj(8,lt,nt)}var at=lt.child;if(at!==null)at.return=lt,V=at;else for(;V!==null;){lt=V;var it=lt.sibling,ut=lt.return;if(Sj(lt),lt===ct){V=null;break}if(it!==null){it.return=ut,V=it;break}V=ut}}}var dt=nt.alternate;if(dt!==null){var ht=dt.child;if(ht!==null){dt.child=null;do{var ft=ht.sibling;ht.sibling=null,ht=ft}while(ht!==null)}}V=nt}}if(nt.subtreeFlags&2064&&rt!==null)rt.return=nt,V=rt;else e:for(;V!==null;){if(nt=V,nt.flags&2048)switch(nt.tag){case 0:case 11:case 15:Pj(9,nt,nt.return)}var pt=nt.sibling;if(pt!==null){pt.return=nt.return,V=pt;break e}V=nt.return}}var mt=b.current;for(V=mt;V!==null;){rt=V;var gt=rt.child;if(rt.subtreeFlags&2064&&gt!==null)gt.return=rt,V=gt;else e:for(rt=mt;V!==null;){if(ot=V,ot.flags&2048)try{switch(ot.tag){case 0:case 11:case 15:Qj(9,ot)}}catch(yt){W(ot,ot.return,yt)}if(ot===rt){V=null;break e}var vt=ot.sibling;if(vt!==null){vt.return=ot.return,V=vt;break e}V=ot.return}}if(K=tt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,b)}catch{}et=!0}return et}finally{C=_e,ok.transition=$}}return!1}function Xk(b,$,_e){$=Ji(_e,$),$=Ni(b,$,1),b=nh(b,$,1),$=R(),b!==null&&(Ac(b,1,$),Dk(b,$))}function W(b,$,_e){if(b.tag===3)Xk(b,b,_e);else for(;$!==null;){if($.tag===3){Xk($,b,_e);break}else if($.tag===1){var et=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof et.componentDidCatch=="function"&&(Ri===null||!Ri.has(et))){b=Ji(_e,b),b=Qi($,b,1),$=nh($,b,1),b=R(),$!==null&&(Ac($,1,b),Dk($,b));break}}$=$.return}}function Ti(b,$,_e){var et=b.pingCache;et!==null&&et.delete($),$=R(),b.pingedLanes|=b.suspendedLanes&_e,Q===b&&(Z&_e)===_e&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-fk?Kk(b,0):rk|=_e),Dk(b,$)}function Yk(b,$){$===0&&(b.mode&1?($=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):$=1);var _e=R();b=ih(b,$),b!==null&&(Ac(b,$,_e),Dk(b,_e))}function uj(b){var $=b.memoizedState,_e=0;$!==null&&(_e=$.retryLane),Yk(b,_e)}function bk(b,$){var _e=0;switch(b.tag){case 13:var et=b.stateNode,tt=b.memoizedState;tt!==null&&(_e=tt.retryLane);break;case 19:et=b.stateNode;break;default:throw Error(p$4(314))}et!==null&&et.delete($),Yk(b,_e)}var Vk;Vk=function(b,$,_e){if(b!==null)if(b.memoizedProps!==$.pendingProps||Wf.current)dh=!0;else{if(!(b.lanes&_e)&&!($.flags&128))return dh=!1,yj(b,$,_e);dh=!!(b.flags&131072)}else dh=!1,I&&$.flags&1048576&&ug($,ng,$.index);switch($.lanes=0,$.tag){case 2:var et=$.type;ij(b,$),b=$.pendingProps;var tt=Yf($,H.current);ch($,_e),tt=Nh(null,$,et,b,tt,_e);var nt=Sh();return $.flags|=1,typeof tt=="object"&&tt!==null&&typeof tt.render=="function"&&tt.$$typeof===void 0?($.tag=1,$.memoizedState=null,$.updateQueue=null,Zf(et)?(nt=!0,cg($)):nt=!1,$.memoizedState=tt.state!==null&&tt.state!==void 0?tt.state:null,kh($),tt.updater=Ei,$.stateNode=tt,tt._reactInternals=$,Ii($,et,b,_e),$=jj$3(null,$,et,!0,nt,_e)):($.tag=0,I&&nt&&vg($),Xi(null,$,tt,_e),$=$.child),$;case 16:et=$.elementType;e:{switch(ij(b,$),b=$.pendingProps,tt=et._init,et=tt(et._payload),$.type=et,tt=$.tag=Zk(et),b=Ci(et,b),tt){case 0:$=cj(null,$,et,b,_e);break e;case 1:$=hj(null,$,et,b,_e);break e;case 11:$=Yi(null,$,et,b,_e);break e;case 14:$=$i(null,$,et,Ci(et.type,b),_e);break e}throw Error(p$4(306,et,""))}return $;case 0:return et=$.type,tt=$.pendingProps,tt=$.elementType===et?tt:Ci(et,tt),cj(b,$,et,tt,_e);case 1:return et=$.type,tt=$.pendingProps,tt=$.elementType===et?tt:Ci(et,tt),hj(b,$,et,tt,_e);case 3:e:{if(kj($),b===null)throw Error(p$4(387));et=$.pendingProps,nt=$.memoizedState,tt=nt.element,lh(b,$),qh($,et,null,_e);var rt=$.memoizedState;if(et=rt.element,nt.isDehydrated)if(nt={element:et,isDehydrated:!1,cache:rt.cache,pendingSuspenseBoundaries:rt.pendingSuspenseBoundaries,transitions:rt.transitions},$.updateQueue.baseState=nt,$.memoizedState=nt,$.flags&256){tt=Ji(Error(p$4(423)),$),$=lj(b,$,et,_e,tt);break e}else if(et!==tt){tt=Ji(Error(p$4(424)),$),$=lj(b,$,et,_e,tt);break e}else for(yg=Lf($.stateNode.containerInfo.firstChild),xg=$,I=!0,zg=null,_e=Vg($,null,et,_e),$.child=_e;_e;)_e.flags=_e.flags&-3|4096,_e=_e.sibling;else{if(Ig(),et===tt){$=Zi(b,$,_e);break e}Xi(b,$,et,_e)}$=$.child}return $;case 5:return Ah($),b===null&&Eg($),et=$.type,tt=$.pendingProps,nt=b!==null?b.memoizedProps:null,rt=tt.children,Ef(et,tt)?rt=null:nt!==null&&Ef(et,nt)&&($.flags|=32),gj(b,$),Xi(b,$,rt,_e),$.child;case 6:return b===null&&Eg($),null;case 13:return oj(b,$,_e);case 4:return yh($,$.stateNode.containerInfo),et=$.pendingProps,b===null?$.child=Ug($,null,et,_e):Xi(b,$,et,_e),$.child;case 11:return et=$.type,tt=$.pendingProps,tt=$.elementType===et?tt:Ci(et,tt),Yi(b,$,et,tt,_e);case 7:return Xi(b,$,$.pendingProps,_e),$.child;case 8:return Xi(b,$,$.pendingProps.children,_e),$.child;case 12:return Xi(b,$,$.pendingProps.children,_e),$.child;case 10:e:{if(et=$.type._context,tt=$.pendingProps,nt=$.memoizedProps,rt=tt.value,G(Wg,et._currentValue),et._currentValue=rt,nt!==null)if(He(nt.value,rt)){if(nt.children===tt.children&&!Wf.current){$=Zi(b,$,_e);break e}}else for(nt=$.child,nt!==null&&(nt.return=$);nt!==null;){var ot=nt.dependencies;if(ot!==null){rt=nt.child;for(var st=ot.firstContext;st!==null;){if(st.context===et){if(nt.tag===1){st=mh(-1,_e&-_e),st.tag=2;var ct=nt.updateQueue;if(ct!==null){ct=ct.shared;var lt=ct.pending;lt===null?st.next=st:(st.next=lt.next,lt.next=st),ct.pending=st}}nt.lanes|=_e,st=nt.alternate,st!==null&&(st.lanes|=_e),bh(nt.return,_e,$),ot.lanes|=_e;break}st=st.next}}else if(nt.tag===10)rt=nt.type===$.type?null:nt.child;else if(nt.tag===18){if(rt=nt.return,rt===null)throw Error(p$4(341));rt.lanes|=_e,ot=rt.alternate,ot!==null&&(ot.lanes|=_e),bh(rt,_e,$),rt=nt.sibling}else rt=nt.child;if(rt!==null)rt.return=nt;else for(rt=nt;rt!==null;){if(rt===$){rt=null;break}if(nt=rt.sibling,nt!==null){nt.return=rt.return,rt=nt;break}rt=rt.return}nt=rt}Xi(b,$,tt.children,_e),$=$.child}return $;case 9:return tt=$.type,et=$.pendingProps.children,ch($,_e),tt=eh(tt),et=et(tt),$.flags|=1,Xi(b,$,et,_e),$.child;case 14:return et=$.type,tt=Ci(et,$.pendingProps),tt=Ci(et.type,tt),$i(b,$,et,tt,_e);case 15:return bj(b,$,$.type,$.pendingProps,_e);case 17:return et=$.type,tt=$.pendingProps,tt=$.elementType===et?tt:Ci(et,tt),ij(b,$),$.tag=1,Zf(et)?(b=!0,cg($)):b=!1,ch($,_e),Gi($,et,tt),Ii($,et,tt,_e),jj$3(null,$,et,!0,b,_e);case 19:return xj(b,$,_e);case 22:return dj(b,$,_e)}throw Error(p$4(156,$.tag))};function Fk(b,$){return ac(b,$)}function $k(b,$,_e,et){this.tag=b,this.key=_e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=et,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(b,$,_e,et){return new $k(b,$,_e,et)}function aj(b){return b=b.prototype,!(!b||!b.isReactComponent)}function Zk(b){if(typeof b=="function")return aj(b)?1:0;if(b!=null){if(b=b.$$typeof,b===Da)return 11;if(b===Ga)return 14}return 2}function Pg(b,$){var _e=b.alternate;return _e===null?(_e=Bg(b.tag,$,b.key,b.mode),_e.elementType=b.elementType,_e.type=b.type,_e.stateNode=b.stateNode,_e.alternate=b,b.alternate=_e):(_e.pendingProps=$,_e.type=b.type,_e.flags=0,_e.subtreeFlags=0,_e.deletions=null),_e.flags=b.flags&14680064,_e.childLanes=b.childLanes,_e.lanes=b.lanes,_e.child=b.child,_e.memoizedProps=b.memoizedProps,_e.memoizedState=b.memoizedState,_e.updateQueue=b.updateQueue,$=b.dependencies,_e.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},_e.sibling=b.sibling,_e.index=b.index,_e.ref=b.ref,_e}function Rg(b,$,_e,et,tt,nt){var rt=2;if(et=b,typeof b=="function")aj(b)&&(rt=1);else if(typeof b=="string")rt=5;else e:switch(b){case ya:return Tg(_e.children,tt,nt,$);case za:rt=8,tt|=8;break;case Aa:return b=Bg(12,_e,$,tt|2),b.elementType=Aa,b.lanes=nt,b;case Ea:return b=Bg(13,_e,$,tt),b.elementType=Ea,b.lanes=nt,b;case Fa:return b=Bg(19,_e,$,tt),b.elementType=Fa,b.lanes=nt,b;case Ia:return pj(_e,tt,nt,$);default:if(typeof b=="object"&&b!==null)switch(b.$$typeof){case Ba:rt=10;break e;case Ca:rt=9;break e;case Da:rt=11;break e;case Ga:rt=14;break e;case Ha:rt=16,et=null;break e}throw Error(p$4(130,b==null?b:typeof b,""))}return $=Bg(rt,_e,$,tt),$.elementType=b,$.type=et,$.lanes=nt,$}function Tg(b,$,_e,et){return b=Bg(7,b,et,$),b.lanes=_e,b}function pj(b,$,_e,et){return b=Bg(22,b,et,$),b.elementType=Ia,b.lanes=_e,b.stateNode={isHidden:!1},b}function Qg(b,$,_e){return b=Bg(6,b,null,$),b.lanes=_e,b}function Sg(b,$,_e){return $=Bg(4,b.children!==null?b.children:[],b.key,$),$.lanes=_e,$.stateNode={containerInfo:b.containerInfo,pendingChildren:null,implementation:b.implementation},$}function al(b,$,_e,et,tt){this.tag=$,this.containerInfo=b,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=et,this.onRecoverableError=tt,this.mutableSourceEagerHydrationData=null}function bl(b,$,_e,et,tt,nt,rt,ot,st){return b=new al(b,$,_e,ot,st),$===1?($=1,nt===!0&&($|=8)):$=0,nt=Bg(3,null,null,$),b.current=nt,nt.stateNode=b,nt.memoizedState={element:et,isDehydrated:_e,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(nt),b}function cl(b,$,_e){var et=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:et==null?null:""+et,children:b,containerInfo:$,implementation:_e}}function dl(b){if(!b)return Vf;b=b._reactInternals;e:{if(Vb$1(b)!==b||b.tag!==1)throw Error(p$4(170));var $=b;do{switch($.tag){case 3:$=$.stateNode.context;break e;case 1:if(Zf($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$=$.return}while($!==null);throw Error(p$4(171))}if(b.tag===1){var _e=b.type;if(Zf(_e))return bg(b,_e,$)}return $}function el$1(b,$,_e,et,tt,nt,rt,ot,st){return b=bl(_e,et,!0,b,tt,nt,rt,ot,st),b.context=dl(null),_e=b.current,et=R(),tt=yi(_e),nt=mh(et,tt),nt.callback=$??null,nh(_e,nt,tt),b.current.lanes=tt,Ac(b,tt,et),Dk(b,et),b}function fl(b,$,_e,et){var tt=$.current,nt=R(),rt=yi(tt);return _e=dl(_e),$.context===null?$.context=_e:$.pendingContext=_e,$=mh(nt,rt),$.payload={element:b},et=et===void 0?null:et,et!==null&&($.callback=et),b=nh(tt,$,rt),b!==null&&(gi(b,tt,rt,nt),oh(b,tt,rt)),rt}function gl(b){if(b=b.current,!b.child)return null;switch(b.child.tag){case 5:return b.child.stateNode;default:return b.child.stateNode}}function hl(b,$){if(b=b.memoizedState,b!==null&&b.dehydrated!==null){var _e=b.retryLane;b.retryLane=_e!==0&&_e<$?_e:$}}function il(b,$){hl(b,$),(b=b.alternate)&&hl(b,$)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(b){console.error(b)};function ll(b){this._internalRoot=b}ml.prototype.render=ll.prototype.render=function(b){var $=this._internalRoot;if($===null)throw Error(p$4(409));fl(b,$,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var b=this._internalRoot;if(b!==null){this._internalRoot=null;var $=b.containerInfo;Rk(function(){fl(null,b,null,null)}),$[uf]=null}};function ml(b){this._internalRoot=b}ml.prototype.unstable_scheduleHydration=function(b){if(b){var $=Hc();b={blockedOn:null,target:b,priority:$};for(var _e=0;_e<Qc.length&&$!==0&&$<Qc[_e].priority;_e++);Qc.splice(_e,0,b),_e===0&&Vc(b)}};function nl(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)}function ol(b){return!(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11&&(b.nodeType!==8||b.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(b,$,_e,et,tt){if(tt){if(typeof et=="function"){var nt=et;et=function(){var ct=gl(rt);nt.call(ct)}}var rt=el$1($,et,b,0,null,!1,!1,"",pl);return b._reactRootContainer=rt,b[uf]=rt.current,sf(b.nodeType===8?b.parentNode:b),Rk(),rt}for(;tt=b.lastChild;)b.removeChild(tt);if(typeof et=="function"){var ot=et;et=function(){var ct=gl(st);ot.call(ct)}}var st=bl(b,0,!1,null,null,!1,!1,"",pl);return b._reactRootContainer=st,b[uf]=st.current,sf(b.nodeType===8?b.parentNode:b),Rk(function(){fl($,st,_e,et)}),st}function rl(b,$,_e,et,tt){var nt=_e._reactRootContainer;if(nt){var rt=nt;if(typeof tt=="function"){var ot=tt;tt=function(){var st=gl(rt);ot.call(st)}}fl($,rt,b,tt)}else rt=ql(_e,$,b,tt,et);return gl(rt)}Ec=function(b){switch(b.tag){case 3:var $=b.stateNode;if($.current.memoizedState.isDehydrated){var _e=tc($.pendingLanes);_e!==0&&(Cc($,_e|1),Dk($,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var et=ih(b,1);if(et!==null){var tt=R();gi(et,b,1,tt)}}),il(b,1)}};Fc=function(b){if(b.tag===13){var $=ih(b,134217728);if($!==null){var _e=R();gi($,b,134217728,_e)}il(b,134217728)}};Gc=function(b){if(b.tag===13){var $=yi(b),_e=ih(b,$);if(_e!==null){var et=R();gi(_e,b,$,et)}il(b,$)}};Hc=function(){return C};Ic=function(b,$){var _e=C;try{return C=b,$()}finally{C=_e}};yb=function(b,$,_e){switch($){case"input":if(bb(b,_e),$=_e.name,_e.type==="radio"&&$!=null){for(_e=b;_e.parentNode;)_e=_e.parentNode;for(_e=_e.querySelectorAll("input[name="+JSON.stringify(""+$)+'][type="radio"]'),$=0;$<_e.length;$++){var et=_e[$];if(et!==b&&et.form===b.form){var tt=Db(et);if(!tt)throw Error(p$4(90));Wa(et),bb(et,tt)}}}break;case"textarea":ib(b,_e);break;case"select":$=_e.value,$!=null&&fb(b,!!_e.multiple,$,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(b){return b=Zb(b),b===null?null:b.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(b,$){var _e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl($))throw Error(p$4(200));return cl(b,$,null,_e)};reactDom_production_min.createRoot=function(b,$){if(!nl(b))throw Error(p$4(299));var _e=!1,et="",tt=kl;return $!=null&&($.unstable_strictMode===!0&&(_e=!0),$.identifierPrefix!==void 0&&(et=$.identifierPrefix),$.onRecoverableError!==void 0&&(tt=$.onRecoverableError)),$=bl(b,1,!1,null,null,_e,!1,et,tt),b[uf]=$.current,sf(b.nodeType===8?b.parentNode:b),new ll($)};reactDom_production_min.findDOMNode=function(b){if(b==null)return null;if(b.nodeType===1)return b;var $=b._reactInternals;if($===void 0)throw typeof b.render=="function"?Error(p$4(188)):(b=Object.keys(b).join(","),Error(p$4(268,b)));return b=Zb($),b=b===null?null:b.stateNode,b};reactDom_production_min.flushSync=function(b){return Rk(b)};reactDom_production_min.hydrate=function(b,$,_e){if(!ol($))throw Error(p$4(200));return rl(null,b,$,!0,_e)};reactDom_production_min.hydrateRoot=function(b,$,_e){if(!nl(b))throw Error(p$4(405));var et=_e!=null&&_e.hydratedSources||null,tt=!1,nt="",rt=kl;if(_e!=null&&(_e.unstable_strictMode===!0&&(tt=!0),_e.identifierPrefix!==void 0&&(nt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(rt=_e.onRecoverableError)),$=el$1($,null,b,1,_e??null,tt,!1,nt,rt),b[uf]=$.current,sf(b),et)for(b=0;b<et.length;b++)_e=et[b],tt=_e._getVersion,tt=tt(_e._source),$.mutableSourceEagerHydrationData==null?$.mutableSourceEagerHydrationData=[_e,tt]:$.mutableSourceEagerHydrationData.push(_e,tt);return new ml($)};reactDom_production_min.render=function(b,$,_e){if(!ol($))throw Error(p$4(200));return rl(null,b,$,!1,_e)};reactDom_production_min.unmountComponentAtNode=function(b){if(!ol(b))throw Error(p$4(40));return b._reactRootContainer?(Rk(function(){rl(null,null,b,!1,function(){b._reactRootContainer=null,b[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(b,$,_e,et){if(!ol(_e))throw Error(p$4(200));if(b==null||b._reactInternals===void 0)throw Error(p$4(38));return rl(b,$,_e,!1,et)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(b){console.error(b)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$2=reactDomExports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;var top$1="top",bottom$1="bottom",right$1="right",left="left",auto="auto",basePlacements=[top$1,bottom$1,right$1,left],start$2="start",end$1="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(b,$){return b.concat([$+"-"+start$2,$+"-"+end$1])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(b,$){return b.concat([$,$+"-"+start$2,$+"-"+end$1])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName$1(b){return b?(b.nodeName||"").toLowerCase():null}function getWindow$1(b){if(b==null)return window;if(b.toString()!=="[object Window]"){var $=b.ownerDocument;return $&&$.defaultView||window}return b}function isElement$2(b){var $=getWindow$1(b).Element;return b instanceof $||b instanceof Element}function isHTMLElement$1(b){var $=getWindow$1(b).HTMLElement;return b instanceof $||b instanceof HTMLElement}function isShadowRoot$1(b){if(typeof ShadowRoot>"u")return!1;var $=getWindow$1(b).ShadowRoot;return b instanceof $||b instanceof ShadowRoot}function applyStyles(b){var $=b.state;Object.keys($.elements).forEach(function(_e){var et=$.styles[_e]||{},tt=$.attributes[_e]||{},nt=$.elements[_e];!isHTMLElement$1(nt)||!getNodeName$1(nt)||(Object.assign(nt.style,et),Object.keys(tt).forEach(function(rt){var ot=tt[rt];ot===!1?nt.removeAttribute(rt):nt.setAttribute(rt,ot===!0?"":ot)}))})}function effect$2(b){var $=b.state,_e={popper:{position:$.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign($.elements.popper.style,_e.popper),$.styles=_e,$.elements.arrow&&Object.assign($.elements.arrow.style,_e.arrow),function(){Object.keys($.elements).forEach(function(et){var tt=$.elements[et],nt=$.attributes[et]||{},rt=Object.keys($.styles.hasOwnProperty(et)?$.styles[et]:_e[et]),ot=rt.reduce(function(st,ct){return st[ct]="",st},{});!isHTMLElement$1(tt)||!getNodeName$1(tt)||(Object.assign(tt.style,ot),Object.keys(nt).forEach(function(st){tt.removeAttribute(st)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(b){return b.split("-")[0]}var max$5=Math.max,min$4=Math.min,round$3=Math.round;function getUAString(){var b=navigator.userAgentData;return b!=null&&b.brands&&Array.isArray(b.brands)?b.brands.map(function($){return $.brand+"/"+$.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect$1(b,$,_e){$===void 0&&($=!1),_e===void 0&&(_e=!1);var et=b.getBoundingClientRect(),tt=1,nt=1;$&&isHTMLElement$1(b)&&(tt=b.offsetWidth>0&&round$3(et.width)/b.offsetWidth||1,nt=b.offsetHeight>0&&round$3(et.height)/b.offsetHeight||1);var rt=isElement$2(b)?getWindow$1(b):window,ot=rt.visualViewport,st=!isLayoutViewport()&&_e,ct=(et.left+(st&&ot?ot.offsetLeft:0))/tt,lt=(et.top+(st&&ot?ot.offsetTop:0))/nt,at=et.width/tt,it=et.height/nt;return{width:at,height:it,top:lt,right:ct+at,bottom:lt+it,left:ct,x:ct,y:lt}}function getLayoutRect(b){var $=getBoundingClientRect$1(b),_e=b.offsetWidth,et=b.offsetHeight;return Math.abs($.width-_e)<=1&&(_e=$.width),Math.abs($.height-et)<=1&&(et=$.height),{x:b.offsetLeft,y:b.offsetTop,width:_e,height:et}}function contains$1(b,$){var _e=$.getRootNode&&$.getRootNode();if(b.contains($))return!0;if(_e&&isShadowRoot$1(_e)){var et=$;do{if(et&&b.isSameNode(et))return!0;et=et.parentNode||et.host}while(et)}return!1}function getComputedStyle$3(b){return getWindow$1(b).getComputedStyle(b)}function isTableElement$1(b){return["table","td","th"].indexOf(getNodeName$1(b))>=0}function getDocumentElement$1(b){return((isElement$2(b)?b.ownerDocument:b.document)||window.document).documentElement}function getParentNode$1(b){return getNodeName$1(b)==="html"?b:b.assignedSlot||b.parentNode||(isShadowRoot$1(b)?b.host:null)||getDocumentElement$1(b)}function getTrueOffsetParent$1(b){return!isHTMLElement$1(b)||getComputedStyle$3(b).position==="fixed"?null:b.offsetParent}function getContainingBlock$1(b){var $=/firefox/i.test(getUAString()),_e=/Trident/i.test(getUAString());if(_e&&isHTMLElement$1(b)){var et=getComputedStyle$3(b);if(et.position==="fixed")return null}var tt=getParentNode$1(b);for(isShadowRoot$1(tt)&&(tt=tt.host);isHTMLElement$1(tt)&&["html","body"].indexOf(getNodeName$1(tt))<0;){var nt=getComputedStyle$3(tt);if(nt.transform!=="none"||nt.perspective!=="none"||nt.contain==="paint"||["transform","perspective"].indexOf(nt.willChange)!==-1||$&&nt.willChange==="filter"||$&&nt.filter&&nt.filter!=="none")return tt;tt=tt.parentNode}return null}function getOffsetParent$1(b){for(var $=getWindow$1(b),_e=getTrueOffsetParent$1(b);_e&&isTableElement$1(_e)&&getComputedStyle$3(_e).position==="static";)_e=getTrueOffsetParent$1(_e);return _e&&(getNodeName$1(_e)==="html"||getNodeName$1(_e)==="body"&&getComputedStyle$3(_e).position==="static")?$:_e||getContainingBlock$1(b)||$}function getMainAxisFromPlacement(b){return["top","bottom"].indexOf(b)>=0?"x":"y"}function within(b,$,_e){return max$5(b,min$4($,_e))}function withinMaxClamp(b,$,_e){var et=within(b,$,_e);return et>_e?_e:et}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(b){return Object.assign({},getFreshSideObject(),b)}function expandToHashMap(b,$){return $.reduce(function(_e,et){return _e[et]=b,_e},{})}var toPaddingObject=function($,_e){return $=typeof $=="function"?$(Object.assign({},_e.rects,{placement:_e.placement})):$,mergePaddingObject(typeof $!="number"?$:expandToHashMap($,basePlacements))};function arrow$4(b){var $,_e=b.state,et=b.name,tt=b.options,nt=_e.elements.arrow,rt=_e.modifiersData.popperOffsets,ot=getBasePlacement(_e.placement),st=getMainAxisFromPlacement(ot),ct=[left,right$1].indexOf(ot)>=0,lt=ct?"height":"width";if(!(!nt||!rt)){var at=toPaddingObject(tt.padding,_e),it=getLayoutRect(nt),ut=st==="y"?top$1:left,dt=st==="y"?bottom$1:right$1,ht=_e.rects.reference[lt]+_e.rects.reference[st]-rt[st]-_e.rects.popper[lt],ft=rt[st]-_e.rects.reference[st],pt=getOffsetParent$1(nt),mt=pt?st==="y"?pt.clientHeight||0:pt.clientWidth||0:0,gt=ht/2-ft/2,vt=at[ut],yt=mt-it[lt]-at[dt],bt=mt/2-it[lt]/2+gt,xt=within(vt,bt,yt),_t=st;_e.modifiersData[et]=($={},$[_t]=xt,$.centerOffset=xt-bt,$)}}function effect$1(b){var $=b.state,_e=b.options,et=_e.element,tt=et===void 0?"[data-popper-arrow]":et;tt!=null&&(typeof tt=="string"&&(tt=$.elements.popper.querySelector(tt),!tt)||contains$1($.elements.popper,tt)&&($.elements.arrow=tt))}const arrow$5={name:"arrow",enabled:!0,phase:"main",fn:arrow$4,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(b){return b.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(b,$){var _e=b.x,et=b.y,tt=$.devicePixelRatio||1;return{x:round$3(_e*tt)/tt||0,y:round$3(et*tt)/tt||0}}function mapToStyles(b){var $,_e=b.popper,et=b.popperRect,tt=b.placement,nt=b.variation,rt=b.offsets,ot=b.position,st=b.gpuAcceleration,ct=b.adaptive,lt=b.roundOffsets,at=b.isFixed,it=rt.x,ut=it===void 0?0:it,dt=rt.y,ht=dt===void 0?0:dt,ft=typeof lt=="function"?lt({x:ut,y:ht}):{x:ut,y:ht};ut=ft.x,ht=ft.y;var pt=rt.hasOwnProperty("x"),mt=rt.hasOwnProperty("y"),gt=left,vt=top$1,yt=window;if(ct){var bt=getOffsetParent$1(_e),xt="clientHeight",_t="clientWidth";if(bt===getWindow$1(_e)&&(bt=getDocumentElement$1(_e),getComputedStyle$3(bt).position!=="static"&&ot==="absolute"&&(xt="scrollHeight",_t="scrollWidth")),bt=bt,tt===top$1||(tt===left||tt===right$1)&&nt===end$1){vt=bottom$1;var wt=at&&bt===yt&&yt.visualViewport?yt.visualViewport.height:bt[xt];ht-=wt-et.height,ht*=st?1:-1}if(tt===left||(tt===top$1||tt===bottom$1)&&nt===end$1){gt=right$1;var At=at&&bt===yt&&yt.visualViewport?yt.visualViewport.width:bt[_t];ut-=At-et.width,ut*=st?1:-1}}var Pt=Object.assign({position:ot},ct&&unsetSides),jt=lt===!0?roundOffsetsByDPR({x:ut,y:ht},getWindow$1(_e)):{x:ut,y:ht};if(ut=jt.x,ht=jt.y,st){var kt;return Object.assign({},Pt,(kt={},kt[vt]=mt?"0":"",kt[gt]=pt?"0":"",kt.transform=(yt.devicePixelRatio||1)<=1?"translate("+ut+"px, "+ht+"px)":"translate3d("+ut+"px, "+ht+"px, 0)",kt))}return Object.assign({},Pt,($={},$[vt]=mt?ht+"px":"",$[gt]=pt?ut+"px":"",$.transform="",$))}function computeStyles(b){var $=b.state,_e=b.options,et=_e.gpuAcceleration,tt=et===void 0?!0:et,nt=_e.adaptive,rt=nt===void 0?!0:nt,ot=_e.roundOffsets,st=ot===void 0?!0:ot,ct={placement:getBasePlacement($.placement),variation:getVariation($.placement),popper:$.elements.popper,popperRect:$.rects.popper,gpuAcceleration:tt,isFixed:$.options.strategy==="fixed"};$.modifiersData.popperOffsets!=null&&($.styles.popper=Object.assign({},$.styles.popper,mapToStyles(Object.assign({},ct,{offsets:$.modifiersData.popperOffsets,position:$.options.strategy,adaptive:rt,roundOffsets:st})))),$.modifiersData.arrow!=null&&($.styles.arrow=Object.assign({},$.styles.arrow,mapToStyles(Object.assign({},ct,{offsets:$.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:st})))),$.attributes.popper=Object.assign({},$.attributes.popper,{"data-popper-placement":$.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive$2={passive:!0};function effect(b){var $=b.state,_e=b.instance,et=b.options,tt=et.scroll,nt=tt===void 0?!0:tt,rt=et.resize,ot=rt===void 0?!0:rt,st=getWindow$1($.elements.popper),ct=[].concat($.scrollParents.reference,$.scrollParents.popper);return nt&&ct.forEach(function(lt){lt.addEventListener("scroll",_e.update,passive$2)}),ot&&st.addEventListener("resize",_e.update,passive$2),function(){nt&&ct.forEach(function(lt){lt.removeEventListener("scroll",_e.update,passive$2)}),ot&&st.removeEventListener("resize",_e.update,passive$2)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement$1(b){return b.replace(/left|right|bottom|top/g,function($){return hash$1[$]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(b){return b.replace(/start|end/g,function($){return hash[$]})}function getWindowScroll(b){var $=getWindow$1(b),_e=$.pageXOffset,et=$.pageYOffset;return{scrollLeft:_e,scrollTop:et}}function getWindowScrollBarX$1(b){return getBoundingClientRect$1(getDocumentElement$1(b)).left+getWindowScroll(b).scrollLeft}function getViewportRect$1(b,$){var _e=getWindow$1(b),et=getDocumentElement$1(b),tt=_e.visualViewport,nt=et.clientWidth,rt=et.clientHeight,ot=0,st=0;if(tt){nt=tt.width,rt=tt.height;var ct=isLayoutViewport();(ct||!ct&&$==="fixed")&&(ot=tt.offsetLeft,st=tt.offsetTop)}return{width:nt,height:rt,x:ot+getWindowScrollBarX$1(b),y:st}}function getDocumentRect$1(b){var $,_e=getDocumentElement$1(b),et=getWindowScroll(b),tt=($=b.ownerDocument)==null?void 0:$.body,nt=max$5(_e.scrollWidth,_e.clientWidth,tt?tt.scrollWidth:0,tt?tt.clientWidth:0),rt=max$5(_e.scrollHeight,_e.clientHeight,tt?tt.scrollHeight:0,tt?tt.clientHeight:0),ot=-et.scrollLeft+getWindowScrollBarX$1(b),st=-et.scrollTop;return getComputedStyle$3(tt||_e).direction==="rtl"&&(ot+=max$5(_e.clientWidth,tt?tt.clientWidth:0)-nt),{width:nt,height:rt,x:ot,y:st}}function isScrollParent(b){var $=getComputedStyle$3(b),_e=$.overflow,et=$.overflowX,tt=$.overflowY;return/auto|scroll|overlay|hidden/.test(_e+tt+et)}function getScrollParent(b){return["html","body","#document"].indexOf(getNodeName$1(b))>=0?b.ownerDocument.body:isHTMLElement$1(b)&&isScrollParent(b)?b:getScrollParent(getParentNode$1(b))}function listScrollParents(b,$){var _e;$===void 0&&($=[]);var et=getScrollParent(b),tt=et===((_e=b.ownerDocument)==null?void 0:_e.body),nt=getWindow$1(et),rt=tt?[nt].concat(nt.visualViewport||[],isScrollParent(et)?et:[]):et,ot=$.concat(rt);return tt?ot:ot.concat(listScrollParents(getParentNode$1(rt)))}function rectToClientRect$1(b){return Object.assign({},b,{left:b.x,top:b.y,right:b.x+b.width,bottom:b.y+b.height})}function getInnerBoundingClientRect$1(b,$){var _e=getBoundingClientRect$1(b,!1,$==="fixed");return _e.top=_e.top+b.clientTop,_e.left=_e.left+b.clientLeft,_e.bottom=_e.top+b.clientHeight,_e.right=_e.left+b.clientWidth,_e.width=b.clientWidth,_e.height=b.clientHeight,_e.x=_e.left,_e.y=_e.top,_e}function getClientRectFromMixedType(b,$,_e){return $===viewport?rectToClientRect$1(getViewportRect$1(b,_e)):isElement$2($)?getInnerBoundingClientRect$1($,_e):rectToClientRect$1(getDocumentRect$1(getDocumentElement$1(b)))}function getClippingParents(b){var $=listScrollParents(getParentNode$1(b)),_e=["absolute","fixed"].indexOf(getComputedStyle$3(b).position)>=0,et=_e&&isHTMLElement$1(b)?getOffsetParent$1(b):b;return isElement$2(et)?$.filter(function(tt){return isElement$2(tt)&&contains$1(tt,et)&&getNodeName$1(tt)!=="body"}):[]}function getClippingRect$1(b,$,_e,et){var tt=$==="clippingParents"?getClippingParents(b):[].concat($),nt=[].concat(tt,[_e]),rt=nt[0],ot=nt.reduce(function(st,ct){var lt=getClientRectFromMixedType(b,ct,et);return st.top=max$5(lt.top,st.top),st.right=min$4(lt.right,st.right),st.bottom=min$4(lt.bottom,st.bottom),st.left=max$5(lt.left,st.left),st},getClientRectFromMixedType(b,rt,et));return ot.width=ot.right-ot.left,ot.height=ot.bottom-ot.top,ot.x=ot.left,ot.y=ot.top,ot}function computeOffsets(b){var $=b.reference,_e=b.element,et=b.placement,tt=et?getBasePlacement(et):null,nt=et?getVariation(et):null,rt=$.x+$.width/2-_e.width/2,ot=$.y+$.height/2-_e.height/2,st;switch(tt){case top$1:st={x:rt,y:$.y-_e.height};break;case bottom$1:st={x:rt,y:$.y+$.height};break;case right$1:st={x:$.x+$.width,y:ot};break;case left:st={x:$.x-_e.width,y:ot};break;default:st={x:$.x,y:$.y}}var ct=tt?getMainAxisFromPlacement(tt):null;if(ct!=null){var lt=ct==="y"?"height":"width";switch(nt){case start$2:st[ct]=st[ct]-($[lt]/2-_e[lt]/2);break;case end$1:st[ct]=st[ct]+($[lt]/2-_e[lt]/2);break}}return st}function detectOverflow$1(b,$){$===void 0&&($={});var _e=$,et=_e.placement,tt=et===void 0?b.placement:et,nt=_e.strategy,rt=nt===void 0?b.strategy:nt,ot=_e.boundary,st=ot===void 0?clippingParents:ot,ct=_e.rootBoundary,lt=ct===void 0?viewport:ct,at=_e.elementContext,it=at===void 0?popper:at,ut=_e.altBoundary,dt=ut===void 0?!1:ut,ht=_e.padding,ft=ht===void 0?0:ht,pt=mergePaddingObject(typeof ft!="number"?ft:expandToHashMap(ft,basePlacements)),mt=it===popper?reference:popper,gt=b.rects.popper,vt=b.elements[dt?mt:it],yt=getClippingRect$1(isElement$2(vt)?vt:vt.contextElement||getDocumentElement$1(b.elements.popper),st,lt,rt),bt=getBoundingClientRect$1(b.elements.reference),xt=computeOffsets({reference:bt,element:gt,strategy:"absolute",placement:tt}),_t=rectToClientRect$1(Object.assign({},gt,xt)),wt=it===popper?_t:bt,At={top:yt.top-wt.top+pt.top,bottom:wt.bottom-yt.bottom+pt.bottom,left:yt.left-wt.left+pt.left,right:wt.right-yt.right+pt.right},Pt=b.modifiersData.offset;if(it===popper&&Pt){var jt=Pt[tt];Object.keys(At).forEach(function(kt){var St=[right$1,bottom$1].indexOf(kt)>=0?1:-1,Ct=[top$1,bottom$1].indexOf(kt)>=0?"y":"x";At[kt]+=jt[Ct]*St})}return At}function computeAutoPlacement(b,$){$===void 0&&($={});var _e=$,et=_e.placement,tt=_e.boundary,nt=_e.rootBoundary,rt=_e.padding,ot=_e.flipVariations,st=_e.allowedAutoPlacements,ct=st===void 0?placements:st,lt=getVariation(et),at=lt?ot?variationPlacements:variationPlacements.filter(function(dt){return getVariation(dt)===lt}):basePlacements,it=at.filter(function(dt){return ct.indexOf(dt)>=0});it.length===0&&(it=at);var ut=it.reduce(function(dt,ht){return dt[ht]=detectOverflow$1(b,{placement:ht,boundary:tt,rootBoundary:nt,padding:rt})[getBasePlacement(ht)],dt},{});return Object.keys(ut).sort(function(dt,ht){return ut[dt]-ut[ht]})}function getExpandedFallbackPlacements(b){if(getBasePlacement(b)===auto)return[];var $=getOppositePlacement$1(b);return[getOppositeVariationPlacement(b),$,getOppositeVariationPlacement($)]}function flip$3(b){var $=b.state,_e=b.options,et=b.name;if(!$.modifiersData[et]._skip){for(var tt=_e.mainAxis,nt=tt===void 0?!0:tt,rt=_e.altAxis,ot=rt===void 0?!0:rt,st=_e.fallbackPlacements,ct=_e.padding,lt=_e.boundary,at=_e.rootBoundary,it=_e.altBoundary,ut=_e.flipVariations,dt=ut===void 0?!0:ut,ht=_e.allowedAutoPlacements,ft=$.options.placement,pt=getBasePlacement(ft),mt=pt===ft,gt=st||(mt||!dt?[getOppositePlacement$1(ft)]:getExpandedFallbackPlacements(ft)),vt=[ft].concat(gt).reduce(function(zt,an){return zt.concat(getBasePlacement(an)===auto?computeAutoPlacement($,{placement:an,boundary:lt,rootBoundary:at,padding:ct,flipVariations:dt,allowedAutoPlacements:ht}):an)},[]),yt=$.rects.reference,bt=$.rects.popper,xt=new Map,_t=!0,wt=vt[0],At=0;At<vt.length;At++){var Pt=vt[At],jt=getBasePlacement(Pt),kt=getVariation(Pt)===start$2,St=[top$1,bottom$1].indexOf(jt)>=0,Ct=St?"width":"height",Et=detectOverflow$1($,{placement:Pt,boundary:lt,rootBoundary:at,altBoundary:it,padding:ct}),Tt=St?kt?right$1:left:kt?bottom$1:top$1;yt[Ct]>bt[Ct]&&(Tt=getOppositePlacement$1(Tt));var $t=getOppositePlacement$1(Tt),Ot=[];if(nt&&Ot.push(Et[jt]<=0),ot&&Ot.push(Et[Tt]<=0,Et[$t]<=0),Ot.every(function(zt){return zt})){wt=Pt,_t=!1;break}xt.set(Pt,Ot)}if(_t)for(var Rt=dt?3:1,Nt=function(an){var Jt=vt.find(function(Zt){var Qt=xt.get(Zt);if(Qt)return Qt.slice(0,an).every(function(qt){return qt})});if(Jt)return wt=Jt,"break"},Ft=Rt;Ft>0;Ft--){var Ht=Nt(Ft);if(Ht==="break")break}$.placement!==wt&&($.modifiersData[et]._skip=!0,$.placement=wt,$.reset=!0)}}const flip$4={name:"flip",enabled:!0,phase:"main",fn:flip$3,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(b,$,_e){return _e===void 0&&(_e={x:0,y:0}),{top:b.top-$.height-_e.y,right:b.right-$.width+_e.x,bottom:b.bottom-$.height+_e.y,left:b.left-$.width-_e.x}}function isAnySideFullyClipped(b){return[top$1,right$1,bottom$1,left].some(function($){return b[$]>=0})}function hide(b){var $=b.state,_e=b.name,et=$.rects.reference,tt=$.rects.popper,nt=$.modifiersData.preventOverflow,rt=detectOverflow$1($,{elementContext:"reference"}),ot=detectOverflow$1($,{altBoundary:!0}),st=getSideOffsets(rt,et),ct=getSideOffsets(ot,tt,nt),lt=isAnySideFullyClipped(st),at=isAnySideFullyClipped(ct);$.modifiersData[_e]={referenceClippingOffsets:st,popperEscapeOffsets:ct,isReferenceHidden:lt,hasPopperEscaped:at},$.attributes.popper=Object.assign({},$.attributes.popper,{"data-popper-reference-hidden":lt,"data-popper-escaped":at})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(b,$,_e){var et=getBasePlacement(b),tt=[left,top$1].indexOf(et)>=0?-1:1,nt=typeof _e=="function"?_e(Object.assign({},$,{placement:b})):_e,rt=nt[0],ot=nt[1];return rt=rt||0,ot=(ot||0)*tt,[left,right$1].indexOf(et)>=0?{x:ot,y:rt}:{x:rt,y:ot}}function offset$4(b){var $=b.state,_e=b.options,et=b.name,tt=_e.offset,nt=tt===void 0?[0,0]:tt,rt=placements.reduce(function(lt,at){return lt[at]=distanceAndSkiddingToXY(at,$.rects,nt),lt},{}),ot=rt[$.placement],st=ot.x,ct=ot.y;$.modifiersData.popperOffsets!=null&&($.modifiersData.popperOffsets.x+=st,$.modifiersData.popperOffsets.y+=ct),$.modifiersData[et]=rt}const offset$5={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset$4};function popperOffsets(b){var $=b.state,_e=b.name;$.modifiersData[_e]=computeOffsets({reference:$.rects.reference,element:$.rects.popper,strategy:"absolute",placement:$.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(b){return b==="x"?"y":"x"}function preventOverflow(b){var $=b.state,_e=b.options,et=b.name,tt=_e.mainAxis,nt=tt===void 0?!0:tt,rt=_e.altAxis,ot=rt===void 0?!1:rt,st=_e.boundary,ct=_e.rootBoundary,lt=_e.altBoundary,at=_e.padding,it=_e.tether,ut=it===void 0?!0:it,dt=_e.tetherOffset,ht=dt===void 0?0:dt,ft=detectOverflow$1($,{boundary:st,rootBoundary:ct,padding:at,altBoundary:lt}),pt=getBasePlacement($.placement),mt=getVariation($.placement),gt=!mt,vt=getMainAxisFromPlacement(pt),yt=getAltAxis(vt),bt=$.modifiersData.popperOffsets,xt=$.rects.reference,_t=$.rects.popper,wt=typeof ht=="function"?ht(Object.assign({},$.rects,{placement:$.placement})):ht,At=typeof wt=="number"?{mainAxis:wt,altAxis:wt}:Object.assign({mainAxis:0,altAxis:0},wt),Pt=$.modifiersData.offset?$.modifiersData.offset[$.placement]:null,jt={x:0,y:0};if(bt){if(nt){var kt,St=vt==="y"?top$1:left,Ct=vt==="y"?bottom$1:right$1,Et=vt==="y"?"height":"width",Tt=bt[vt],$t=Tt+ft[St],Ot=Tt-ft[Ct],Rt=ut?-_t[Et]/2:0,Nt=mt===start$2?xt[Et]:_t[Et],Ft=mt===start$2?-_t[Et]:-xt[Et],Ht=$.elements.arrow,zt=ut&&Ht?getLayoutRect(Ht):{width:0,height:0},an=$.modifiersData["arrow#persistent"]?$.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Jt=an[St],Zt=an[Ct],Qt=within(0,xt[Et],zt[Et]),qt=gt?xt[Et]/2-Rt-Qt-Jt-At.mainAxis:Nt-Qt-Jt-At.mainAxis,vn=gt?-xt[Et]/2+Rt+Qt+Zt+At.mainAxis:Ft+Qt+Zt+At.mainAxis,Yt=$.elements.arrow&&getOffsetParent$1($.elements.arrow),rn=Yt?vt==="y"?Yt.clientTop||0:Yt.clientLeft||0:0,pn=(kt=Pt==null?void 0:Pt[vt])!=null?kt:0,$n=Tt+qt-pn-rn,on=Tt+vn-pn,Tn=within(ut?min$4($t,$n):$t,Tt,ut?max$5(Ot,on):Ot);bt[vt]=Tn,jt[vt]=Tn-Tt}if(ot){var kn,Bn=vt==="x"?top$1:left,On=vt==="x"?bottom$1:right$1,dn=bt[yt],wn=yt==="y"?"height":"width",bn=dn+ft[Bn],Sn=dn-ft[On],Pn=[top$1,left].indexOf(pt)!==-1,In=(kn=Pt==null?void 0:Pt[yt])!=null?kn:0,Ln=Pn?bn:dn-xt[wn]-_t[wn]-In+At.altAxis,Xn=Pn?dn+xt[wn]+_t[wn]-In-At.altAxis:Sn,rr=ut&&Pn?withinMaxClamp(Ln,dn,Xn):within(ut?Ln:bn,dn,ut?Xn:Sn);bt[yt]=rr,jt[yt]=rr-dn}$.modifiersData[et]=jt}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(b){return{scrollLeft:b.scrollLeft,scrollTop:b.scrollTop}}function getNodeScroll$1(b){return b===getWindow$1(b)||!isHTMLElement$1(b)?getWindowScroll(b):getHTMLElementScroll(b)}function isElementScaled(b){var $=b.getBoundingClientRect(),_e=round$3($.width)/b.offsetWidth||1,et=round$3($.height)/b.offsetHeight||1;return _e!==1||et!==1}function getCompositeRect(b,$,_e){_e===void 0&&(_e=!1);var et=isHTMLElement$1($),tt=isHTMLElement$1($)&&isElementScaled($),nt=getDocumentElement$1($),rt=getBoundingClientRect$1(b,tt,_e),ot={scrollLeft:0,scrollTop:0},st={x:0,y:0};return(et||!et&&!_e)&&((getNodeName$1($)!=="body"||isScrollParent(nt))&&(ot=getNodeScroll$1($)),isHTMLElement$1($)?(st=getBoundingClientRect$1($,!0),st.x+=$.clientLeft,st.y+=$.clientTop):nt&&(st.x=getWindowScrollBarX$1(nt))),{x:rt.left+ot.scrollLeft-st.x,y:rt.top+ot.scrollTop-st.y,width:rt.width,height:rt.height}}function order(b){var $=new Map,_e=new Set,et=[];b.forEach(function(nt){$.set(nt.name,nt)});function tt(nt){_e.add(nt.name);var rt=[].concat(nt.requires||[],nt.requiresIfExists||[]);rt.forEach(function(ot){if(!_e.has(ot)){var st=$.get(ot);st&&tt(st)}}),et.push(nt)}return b.forEach(function(nt){_e.has(nt.name)||tt(nt)}),et}function orderModifiers(b){var $=order(b);return modifierPhases.reduce(function(_e,et){return _e.concat($.filter(function(tt){return tt.phase===et}))},[])}function debounce(b){var $;return function(){return $||($=new Promise(function(_e){Promise.resolve().then(function(){$=void 0,_e(b())})})),$}}function mergeByName(b){var $=b.reduce(function(_e,et){var tt=_e[et.name];return _e[et.name]=tt?Object.assign({},tt,et,{options:Object.assign({},tt.options,et.options),data:Object.assign({},tt.data,et.data)}):et,_e},{});return Object.keys($).map(function(_e){return $[_e]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var b=arguments.length,$=new Array(b),_e=0;_e<b;_e++)$[_e]=arguments[_e];return!$.some(function(et){return!(et&&typeof et.getBoundingClientRect=="function")})}function popperGenerator(b){b===void 0&&(b={});var $=b,_e=$.defaultModifiers,et=_e===void 0?[]:_e,tt=$.defaultOptions,nt=tt===void 0?DEFAULT_OPTIONS:tt;return function(ot,st,ct){ct===void 0&&(ct=nt);var lt={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,nt),modifiersData:{},elements:{reference:ot,popper:st},attributes:{},styles:{}},at=[],it=!1,ut={state:lt,setOptions:function(pt){var mt=typeof pt=="function"?pt(lt.options):pt;ht(),lt.options=Object.assign({},nt,lt.options,mt),lt.scrollParents={reference:isElement$2(ot)?listScrollParents(ot):ot.contextElement?listScrollParents(ot.contextElement):[],popper:listScrollParents(st)};var gt=orderModifiers(mergeByName([].concat(et,lt.options.modifiers)));return lt.orderedModifiers=gt.filter(function(vt){return vt.enabled}),dt(),ut.update()},forceUpdate:function(){if(!it){var pt=lt.elements,mt=pt.reference,gt=pt.popper;if(areValidElements(mt,gt)){lt.rects={reference:getCompositeRect(mt,getOffsetParent$1(gt),lt.options.strategy==="fixed"),popper:getLayoutRect(gt)},lt.reset=!1,lt.placement=lt.options.placement,lt.orderedModifiers.forEach(function(At){return lt.modifiersData[At.name]=Object.assign({},At.data)});for(var vt=0;vt<lt.orderedModifiers.length;vt++){if(lt.reset===!0){lt.reset=!1,vt=-1;continue}var yt=lt.orderedModifiers[vt],bt=yt.fn,xt=yt.options,_t=xt===void 0?{}:xt,wt=yt.name;typeof bt=="function"&&(lt=bt({state:lt,options:_t,name:wt,instance:ut})||lt)}}}},update:debounce(function(){return new Promise(function(ft){ut.forceUpdate(),ft(lt)})}),destroy:function(){ht(),it=!0}};if(!areValidElements(ot,st))return ut;ut.setOptions(ct).then(function(ft){!it&&ct.onFirstUpdate&&ct.onFirstUpdate(ft)});function dt(){lt.orderedModifiers.forEach(function(ft){var pt=ft.name,mt=ft.options,gt=mt===void 0?{}:mt,vt=ft.effect;if(typeof vt=="function"){var yt=vt({state:lt,name:pt,instance:ut,options:gt}),bt=function(){};at.push(yt||bt)}})}function ht(){at.forEach(function(ft){return ft()}),at=[]}return ut}}var createPopper$3=popperGenerator(),defaultModifiers$1=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1],createPopper$2=popperGenerator({defaultModifiers:defaultModifiers$1}),defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$5,flip$4,preventOverflow$1,arrow$5,hide$1],createPopper$1=popperGenerator({defaultModifiers});const Popper=Object.freeze(Object.defineProperty({__proto__:null,afterMain,afterRead,afterWrite,applyStyles:applyStyles$1,arrow:arrow$5,auto,basePlacements,beforeMain,beforeRead,beforeWrite,bottom:bottom$1,clippingParents,computeStyles:computeStyles$1,createPopper:createPopper$1,createPopperBase:createPopper$3,createPopperLite:createPopper$2,detectOverflow:detectOverflow$1,end:end$1,eventListeners,flip:flip$4,hide:hide$1,left,main,modifierPhases,offset:offset$5,placements,popper,popperGenerator,popperOffsets:popperOffsets$1,preventOverflow:preventOverflow$1,read,reference,right:right$1,start:start$2,top:top$1,variationPlacements,viewport,write},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const elementMap=new Map,Data={set(b,$,_e){elementMap.has(b)||elementMap.set(b,new Map);const et=elementMap.get(b);if(!et.has($)&&et.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(et.keys())[0]}.`);return}et.set($,_e)},get(b,$){return elementMap.has(b)&&elementMap.get(b).get($)||null},remove(b,$){if(!elementMap.has(b))return;const _e=elementMap.get(b);_e.delete($),_e.size===0&&elementMap.delete(b)}},MAX_UID=1e6,MILLISECONDS_MULTIPLIER=1e3,TRANSITION_END="transitionend",parseSelector=b=>(b&&window.CSS&&window.CSS.escape&&(b=b.replace(/#([^\s"#']+)/g,($,_e)=>`#${CSS.escape(_e)}`)),b),toType=b=>b==null?`${b}`:Object.prototype.toString.call(b).match(/\s([a-z]+)/i)[1].toLowerCase(),getUID=b=>{do b+=Math.floor(Math.random()*MAX_UID);while(document.getElementById(b));return b},getTransitionDurationFromElement=b=>{if(!b)return 0;let{transitionDuration:$,transitionDelay:_e}=window.getComputedStyle(b);const et=Number.parseFloat($),tt=Number.parseFloat(_e);return!et&&!tt?0:($=$.split(",")[0],_e=_e.split(",")[0],(Number.parseFloat($)+Number.parseFloat(_e))*MILLISECONDS_MULTIPLIER)},triggerTransitionEnd=b=>{b.dispatchEvent(new Event(TRANSITION_END))},isElement$1=b=>!b||typeof b!="object"?!1:(typeof b.jquery<"u"&&(b=b[0]),typeof b.nodeType<"u"),getElement=b=>isElement$1(b)?b.jquery?b[0]:b:typeof b=="string"&&b.length>0?document.querySelector(parseSelector(b)):null,isVisible=b=>{if(!isElement$1(b)||b.getClientRects().length===0)return!1;const $=getComputedStyle(b).getPropertyValue("visibility")==="visible",_e=b.closest("details:not([open])");if(!_e)return $;if(_e!==b){const et=b.closest("summary");if(et&&et.parentNode!==_e||et===null)return!1}return $},isDisabled=b=>!b||b.nodeType!==Node.ELEMENT_NODE||b.classList.contains("disabled")?!0:typeof b.disabled<"u"?b.disabled:b.hasAttribute("disabled")&&b.getAttribute("disabled")!=="false",findShadowRoot=b=>{if(!document.documentElement.attachShadow)return null;if(typeof b.getRootNode=="function"){const $=b.getRootNode();return $ instanceof ShadowRoot?$:null}return b instanceof ShadowRoot?b:b.parentNode?findShadowRoot(b.parentNode):null},noop$9=()=>{},reflow=b=>{b.offsetHeight},getjQuery=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,DOMContentLoadedCallbacks=[],onDOMContentLoaded=b=>{document.readyState==="loading"?(DOMContentLoadedCallbacks.length||document.addEventListener("DOMContentLoaded",()=>{for(const $ of DOMContentLoadedCallbacks)$()}),DOMContentLoadedCallbacks.push(b)):b()},isRTL$1=()=>document.documentElement.dir==="rtl",defineJQueryPlugin=b=>{onDOMContentLoaded(()=>{const $=getjQuery();if($){const _e=b.NAME,et=$.fn[_e];$.fn[_e]=b.jQueryInterface,$.fn[_e].Constructor=b,$.fn[_e].noConflict=()=>($.fn[_e]=et,b.jQueryInterface)}})},execute=(b,$=[],_e=b)=>typeof b=="function"?b(...$):_e,executeAfterTransition=(b,$,_e=!0)=>{if(!_e){execute(b);return}const tt=getTransitionDurationFromElement($)+5;let nt=!1;const rt=({target:ot})=>{ot===$&&(nt=!0,$.removeEventListener(TRANSITION_END,rt),execute(b))};$.addEventListener(TRANSITION_END,rt),setTimeout(()=>{nt||triggerTransitionEnd($)},tt)},getNextActiveElement=(b,$,_e,et)=>{const tt=b.length;let nt=b.indexOf($);return nt===-1?!_e&&et?b[tt-1]:b[0]:(nt+=_e?1:-1,et&&(nt=(nt+tt)%tt),b[Math.max(0,Math.min(nt,tt-1))])},namespaceRegex=/[^.]*(?=\..*)\.|.*/,stripNameRegex=/\..*/,stripUidRegex=/::\d+$/,eventRegistry={};let uidEvent=1;const customEvents={mouseenter:"mouseover",mouseleave:"mouseout"},nativeEvents=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function makeEventUid(b,$){return $&&`${$}::${uidEvent++}`||b.uidEvent||uidEvent++}function getElementEvents(b){const $=makeEventUid(b);return b.uidEvent=$,eventRegistry[$]=eventRegistry[$]||{},eventRegistry[$]}function bootstrapHandler(b,$){return function _e(et){return hydrateObj(et,{delegateTarget:b}),_e.oneOff&&EventHandler.off(b,et.type,$),$.apply(b,[et])}}function bootstrapDelegationHandler(b,$,_e){return function et(tt){const nt=b.querySelectorAll($);for(let{target:rt}=tt;rt&&rt!==this;rt=rt.parentNode)for(const ot of nt)if(ot===rt)return hydrateObj(tt,{delegateTarget:rt}),et.oneOff&&EventHandler.off(b,tt.type,$,_e),_e.apply(rt,[tt])}}function findHandler(b,$,_e=null){return Object.values(b).find(et=>et.callable===$&&et.delegationSelector===_e)}function normalizeParameters(b,$,_e){const et=typeof $=="string",tt=et?_e:$||_e;let nt=getTypeEvent(b);return nativeEvents.has(nt)||(nt=b),[et,tt,nt]}function addHandler(b,$,_e,et,tt){if(typeof $!="string"||!b)return;let[nt,rt,ot]=normalizeParameters($,_e,et);$ in customEvents&&(rt=(dt=>function(ht){if(!ht.relatedTarget||ht.relatedTarget!==ht.delegateTarget&&!ht.delegateTarget.contains(ht.relatedTarget))return dt.call(this,ht)})(rt));const st=getElementEvents(b),ct=st[ot]||(st[ot]={}),lt=findHandler(ct,rt,nt?_e:null);if(lt){lt.oneOff=lt.oneOff&&tt;return}const at=makeEventUid(rt,$.replace(namespaceRegex,"")),it=nt?bootstrapDelegationHandler(b,_e,rt):bootstrapHandler(b,rt);it.delegationSelector=nt?_e:null,it.callable=rt,it.oneOff=tt,it.uidEvent=at,ct[at]=it,b.addEventListener(ot,it,nt)}function removeHandler(b,$,_e,et,tt){const nt=findHandler($[_e],et,tt);nt&&(b.removeEventListener(_e,nt,!!tt),delete $[_e][nt.uidEvent])}function removeNamespacedHandlers(b,$,_e,et){const tt=$[_e]||{};for(const[nt,rt]of Object.entries(tt))nt.includes(et)&&removeHandler(b,$,_e,rt.callable,rt.delegationSelector)}function getTypeEvent(b){return b=b.replace(stripNameRegex,""),customEvents[b]||b}const EventHandler={on(b,$,_e,et){addHandler(b,$,_e,et,!1)},one(b,$,_e,et){addHandler(b,$,_e,et,!0)},off(b,$,_e,et){if(typeof $!="string"||!b)return;const[tt,nt,rt]=normalizeParameters($,_e,et),ot=rt!==$,st=getElementEvents(b),ct=st[rt]||{},lt=$.startsWith(".");if(typeof nt<"u"){if(!Object.keys(ct).length)return;removeHandler(b,st,rt,nt,tt?_e:null);return}if(lt)for(const at of Object.keys(st))removeNamespacedHandlers(b,st,at,$.slice(1));for(const[at,it]of Object.entries(ct)){const ut=at.replace(stripUidRegex,"");(!ot||$.includes(ut))&&removeHandler(b,st,rt,it.callable,it.delegationSelector)}},trigger(b,$,_e){if(typeof $!="string"||!b)return null;const et=getjQuery(),tt=getTypeEvent($),nt=$!==tt;let rt=null,ot=!0,st=!0,ct=!1;nt&&et&&(rt=et.Event($,_e),et(b).trigger(rt),ot=!rt.isPropagationStopped(),st=!rt.isImmediatePropagationStopped(),ct=rt.isDefaultPrevented());const lt=hydrateObj(new Event($,{bubbles:ot,cancelable:!0}),_e);return ct&&lt.preventDefault(),st&&b.dispatchEvent(lt),lt.defaultPrevented&&rt&&rt.preventDefault(),lt}};function hydrateObj(b,$={}){for(const[_e,et]of Object.entries($))try{b[_e]=et}catch{Object.defineProperty(b,_e,{configurable:!0,get(){return et}})}return b}function normalizeData(b){if(b==="true")return!0;if(b==="false")return!1;if(b===Number(b).toString())return Number(b);if(b===""||b==="null")return null;if(typeof b!="string")return b;try{return JSON.parse(decodeURIComponent(b))}catch{return b}}function normalizeDataKey(b){return b.replace(/[A-Z]/g,$=>`-${$.toLowerCase()}`)}const Manipulator={setDataAttribute(b,$,_e){b.setAttribute(`data-bs-${normalizeDataKey($)}`,_e)},removeDataAttribute(b,$){b.removeAttribute(`data-bs-${normalizeDataKey($)}`)},getDataAttributes(b){if(!b)return{};const $={},_e=Object.keys(b.dataset).filter(et=>et.startsWith("bs")&&!et.startsWith("bsConfig"));for(const et of _e){let tt=et.replace(/^bs/,"");tt=tt.charAt(0).toLowerCase()+tt.slice(1,tt.length),$[tt]=normalizeData(b.dataset[et])}return $},getDataAttribute(b,$){return normalizeData(b.getAttribute(`data-bs-${normalizeDataKey($)}`))}};class Config{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig($){return $=this._mergeConfigObj($),$=this._configAfterMerge($),this._typeCheckConfig($),$}_configAfterMerge($){return $}_mergeConfigObj($,_e){const et=isElement$1(_e)?Manipulator.getDataAttribute(_e,"config"):{};return{...this.constructor.Default,...typeof et=="object"?et:{},...isElement$1(_e)?Manipulator.getDataAttributes(_e):{},...typeof $=="object"?$:{}}}_typeCheckConfig($,_e=this.constructor.DefaultType){for(const[et,tt]of Object.entries(_e)){const nt=$[et],rt=isElement$1(nt)?"element":toType(nt);if(!new RegExp(tt).test(rt))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${et}" provided type "${rt}" but expected type "${tt}".`)}}}const VERSION$1="5.3.3";class BaseComponent extends Config{constructor($,_e){super(),$=getElement($),$&&(this._element=$,this._config=this._getConfig(_e),Data.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Data.remove(this._element,this.constructor.DATA_KEY),EventHandler.off(this._element,this.constructor.EVENT_KEY);for(const $ of Object.getOwnPropertyNames(this))this[$]=null}_queueCallback($,_e,et=!0){executeAfterTransition($,_e,et)}_getConfig($){return $=this._mergeConfigObj($,this._element),$=this._configAfterMerge($),this._typeCheckConfig($),$}static getInstance($){return Data.get(getElement($),this.DATA_KEY)}static getOrCreateInstance($,_e={}){return this.getInstance($)||new this($,typeof _e=="object"?_e:null)}static get VERSION(){return VERSION$1}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName($){return`${$}${this.EVENT_KEY}`}}const getSelector=b=>{let $=b.getAttribute("data-bs-target");if(!$||$==="#"){let _e=b.getAttribute("href");if(!_e||!_e.includes("#")&&!_e.startsWith("."))return null;_e.includes("#")&&!_e.startsWith("#")&&(_e=`#${_e.split("#")[1]}`),$=_e&&_e!=="#"?_e.trim():null}return $?$.split(",").map(_e=>parseSelector(_e)).join(","):null},SelectorEngine={find(b,$=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call($,b))},findOne(b,$=document.documentElement){return Element.prototype.querySelector.call($,b)},children(b,$){return[].concat(...b.children).filter(_e=>_e.matches($))},parents(b,$){const _e=[];let et=b.parentNode.closest($);for(;et;)_e.push(et),et=et.parentNode.closest($);return _e},prev(b,$){let _e=b.previousElementSibling;for(;_e;){if(_e.matches($))return[_e];_e=_e.previousElementSibling}return[]},next(b,$){let _e=b.nextElementSibling;for(;_e;){if(_e.matches($))return[_e];_e=_e.nextElementSibling}return[]},focusableChildren(b){const $=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(_e=>`${_e}:not([tabindex^="-"])`).join(",");return this.find($,b).filter(_e=>!isDisabled(_e)&&isVisible(_e))},getSelectorFromElement(b){const $=getSelector(b);return $&&SelectorEngine.findOne($)?$:null},getElementFromSelector(b){const $=getSelector(b);return $?SelectorEngine.findOne($):null},getMultipleElementsFromSelector(b){const $=getSelector(b);return $?SelectorEngine.find($):[]}},enableDismissTrigger=(b,$="hide")=>{const _e=`click.dismiss${b.EVENT_KEY}`,et=b.NAME;EventHandler.on(document,_e,`[data-bs-dismiss="${et}"]`,function(tt){if(["A","AREA"].includes(this.tagName)&&tt.preventDefault(),isDisabled(this))return;const nt=SelectorEngine.getElementFromSelector(this)||this.closest(`.${et}`);b.getOrCreateInstance(nt)[$]()})},NAME$f="alert",DATA_KEY$a="bs.alert",EVENT_KEY$b=`.${DATA_KEY$a}`,EVENT_CLOSE=`close${EVENT_KEY$b}`,EVENT_CLOSED=`closed${EVENT_KEY$b}`,CLASS_NAME_FADE$5="fade",CLASS_NAME_SHOW$8="show";class Alert extends BaseComponent{static get NAME(){return NAME$f}close(){if(EventHandler.trigger(this._element,EVENT_CLOSE).defaultPrevented)return;this._element.classList.remove(CLASS_NAME_SHOW$8);const _e=this._element.classList.contains(CLASS_NAME_FADE$5);this._queueCallback(()=>this._destroyElement(),this._element,_e)}_destroyElement(){this._element.remove(),EventHandler.trigger(this._element,EVENT_CLOSED),this.dispose()}static jQueryInterface($){return this.each(function(){const _e=Alert.getOrCreateInstance(this);if(typeof $=="string"){if(_e[$]===void 0||$.startsWith("_")||$==="constructor")throw new TypeError(`No method named "${$}"`);_e[$](this)}})}}enableDismissTrigger(Alert,"close");defineJQueryPlugin(Alert);const NAME$e="button",DATA_KEY$9="bs.button",EVENT_KEY$a=`.${DATA_KEY$9}`,DATA_API_KEY$6=".data-api",CLASS_NAME_ACTIVE$3="active",SELECTOR_DATA_TOGGLE$5='[data-bs-toggle="button"]',EVENT_CLICK_DATA_API$6=`click${EVENT_KEY$a}${DATA_API_KEY$6}`;let Button$2=class Kr extends BaseComponent{static get NAME(){return NAME$e}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(CLASS_NAME_ACTIVE$3))}static jQueryInterface($){return this.each(function(){const _e=Kr.getOrCreateInstance(this);$==="toggle"&&_e[$]()})}};EventHandler.on(document,EVENT_CLICK_DATA_API$6,SELECTOR_DATA_TOGGLE$5,b=>{b.preventDefault();const $=b.target.closest(SELECTOR_DATA_TOGGLE$5);Button$2.getOrCreateInstance($).toggle()});defineJQueryPlugin(Button$2);const NAME$d="swipe",EVENT_KEY$9=".bs.swipe",EVENT_TOUCHSTART=`touchstart${EVENT_KEY$9}`,EVENT_TOUCHMOVE=`touchmove${EVENT_KEY$9}`,EVENT_TOUCHEND=`touchend${EVENT_KEY$9}`,EVENT_POINTERDOWN=`pointerdown${EVENT_KEY$9}`,EVENT_POINTERUP=`pointerup${EVENT_KEY$9}`,POINTER_TYPE_TOUCH="touch",POINTER_TYPE_PEN="pen",CLASS_NAME_POINTER_EVENT="pointer-event",SWIPE_THRESHOLD=40,Default$c={endCallback:null,leftCallback:null,rightCallback:null},DefaultType$c={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Swipe extends Config{constructor($,_e){super(),this._element=$,!(!$||!Swipe.isSupported())&&(this._config=this._getConfig(_e),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Default$c}static get DefaultType(){return DefaultType$c}static get NAME(){return NAME$d}dispose(){EventHandler.off(this._element,EVENT_KEY$9)}_start($){if(!this._supportPointerEvents){this._deltaX=$.touches[0].clientX;return}this._eventIsPointerPenTouch($)&&(this._deltaX=$.clientX)}_end($){this._eventIsPointerPenTouch($)&&(this._deltaX=$.clientX-this._deltaX),this._handleSwipe(),execute(this._config.endCallback)}_move($){this._deltaX=$.touches&&$.touches.length>1?0:$.touches[0].clientX-this._deltaX}_handleSwipe(){const $=Math.abs(this._deltaX);if($<=SWIPE_THRESHOLD)return;const _e=$/this._deltaX;this._deltaX=0,_e&&execute(_e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(EventHandler.on(this._element,EVENT_POINTERDOWN,$=>this._start($)),EventHandler.on(this._element,EVENT_POINTERUP,$=>this._end($)),this._element.classList.add(CLASS_NAME_POINTER_EVENT)):(EventHandler.on(this._element,EVENT_TOUCHSTART,$=>this._start($)),EventHandler.on(this._element,EVENT_TOUCHMOVE,$=>this._move($)),EventHandler.on(this._element,EVENT_TOUCHEND,$=>this._end($)))}_eventIsPointerPenTouch($){return this._supportPointerEvents&&($.pointerType===POINTER_TYPE_PEN||$.pointerType===POINTER_TYPE_TOUCH)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const NAME$c="carousel",DATA_KEY$8="bs.carousel",EVENT_KEY$8=`.${DATA_KEY$8}`,DATA_API_KEY$5=".data-api",ARROW_LEFT_KEY$1="ArrowLeft",ARROW_RIGHT_KEY$1="ArrowRight",TOUCHEVENT_COMPAT_WAIT=500,ORDER_NEXT="next",ORDER_PREV="prev",DIRECTION_LEFT="left",DIRECTION_RIGHT="right",EVENT_SLIDE=`slide${EVENT_KEY$8}`,EVENT_SLID=`slid${EVENT_KEY$8}`,EVENT_KEYDOWN$1=`keydown${EVENT_KEY$8}`,EVENT_MOUSEENTER$1=`mouseenter${EVENT_KEY$8}`,EVENT_MOUSELEAVE$1=`mouseleave${EVENT_KEY$8}`,EVENT_DRAG_START=`dragstart${EVENT_KEY$8}`,EVENT_LOAD_DATA_API$3=`load${EVENT_KEY$8}${DATA_API_KEY$5}`,EVENT_CLICK_DATA_API$5=`click${EVENT_KEY$8}${DATA_API_KEY$5}`,CLASS_NAME_CAROUSEL="carousel",CLASS_NAME_ACTIVE$2="active",CLASS_NAME_SLIDE="slide",CLASS_NAME_END="carousel-item-end",CLASS_NAME_START="carousel-item-start",CLASS_NAME_NEXT="carousel-item-next",CLASS_NAME_PREV="carousel-item-prev",SELECTOR_ACTIVE=".active",SELECTOR_ITEM=".carousel-item",SELECTOR_ACTIVE_ITEM=SELECTOR_ACTIVE+SELECTOR_ITEM,SELECTOR_ITEM_IMG=".carousel-item img",SELECTOR_INDICATORS=".carousel-indicators",SELECTOR_DATA_SLIDE="[data-bs-slide], [data-bs-slide-to]",SELECTOR_DATA_RIDE='[data-bs-ride="carousel"]',KEY_TO_DIRECTION={[ARROW_LEFT_KEY$1]:DIRECTION_RIGHT,[ARROW_RIGHT_KEY$1]:DIRECTION_LEFT},Default$b={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},DefaultType$b={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Carousel extends BaseComponent{constructor($,_e){super($,_e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=SelectorEngine.findOne(SELECTOR_INDICATORS,this._element),this._addEventListeners(),this._config.ride===CLASS_NAME_CAROUSEL&&this.cycle()}static get Default(){return Default$b}static get DefaultType(){return DefaultType$b}static get NAME(){return NAME$c}next(){this._slide(ORDER_NEXT)}nextWhenVisible(){!document.hidden&&isVisible(this._element)&&this.next()}prev(){this._slide(ORDER_PREV)}pause(){this._isSliding&&triggerTransitionEnd(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.cycle());return}this.cycle()}}to($){const _e=this._getItems();if($>_e.length-1||$<0)return;if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.to($));return}const et=this._getItemIndex(this._getActive());if(et===$)return;const tt=$>et?ORDER_NEXT:ORDER_PREV;this._slide(tt,_e[$])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge($){return $.defaultInterval=$.interval,$}_addEventListeners(){this._config.keyboard&&EventHandler.on(this._element,EVENT_KEYDOWN$1,$=>this._keydown($)),this._config.pause==="hover"&&(EventHandler.on(this._element,EVENT_MOUSEENTER$1,()=>this.pause()),EventHandler.on(this._element,EVENT_MOUSELEAVE$1,()=>this._maybeEnableCycle())),this._config.touch&&Swipe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const et of SelectorEngine.find(SELECTOR_ITEM_IMG,this._element))EventHandler.on(et,EVENT_DRAG_START,tt=>tt.preventDefault());const _e={leftCallback:()=>this._slide(this._directionToOrder(DIRECTION_LEFT)),rightCallback:()=>this._slide(this._directionToOrder(DIRECTION_RIGHT)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),TOUCHEVENT_COMPAT_WAIT+this._config.interval))}};this._swipeHelper=new Swipe(this._element,_e)}_keydown($){if(/input|textarea/i.test($.target.tagName))return;const _e=KEY_TO_DIRECTION[$.key];_e&&($.preventDefault(),this._slide(this._directionToOrder(_e)))}_getItemIndex($){return this._getItems().indexOf($)}_setActiveIndicatorElement($){if(!this._indicatorsElement)return;const _e=SelectorEngine.findOne(SELECTOR_ACTIVE,this._indicatorsElement);_e.classList.remove(CLASS_NAME_ACTIVE$2),_e.removeAttribute("aria-current");const et=SelectorEngine.findOne(`[data-bs-slide-to="${$}"]`,this._indicatorsElement);et&&(et.classList.add(CLASS_NAME_ACTIVE$2),et.setAttribute("aria-current","true"))}_updateInterval(){const $=this._activeElement||this._getActive();if(!$)return;const _e=Number.parseInt($.getAttribute("data-bs-interval"),10);this._config.interval=_e||this._config.defaultInterval}_slide($,_e=null){if(this._isSliding)return;const et=this._getActive(),tt=$===ORDER_NEXT,nt=_e||getNextActiveElement(this._getItems(),et,tt,this._config.wrap);if(nt===et)return;const rt=this._getItemIndex(nt),ot=ut=>EventHandler.trigger(this._element,ut,{relatedTarget:nt,direction:this._orderToDirection($),from:this._getItemIndex(et),to:rt});if(ot(EVENT_SLIDE).defaultPrevented||!et||!nt)return;const ct=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(rt),this._activeElement=nt;const lt=tt?CLASS_NAME_START:CLASS_NAME_END,at=tt?CLASS_NAME_NEXT:CLASS_NAME_PREV;nt.classList.add(at),reflow(nt),et.classList.add(lt),nt.classList.add(lt);const it=()=>{nt.classList.remove(lt,at),nt.classList.add(CLASS_NAME_ACTIVE$2),et.classList.remove(CLASS_NAME_ACTIVE$2,at,lt),this._isSliding=!1,ot(EVENT_SLID)};this._queueCallback(it,et,this._isAnimated()),ct&&this.cycle()}_isAnimated(){return this._element.classList.contains(CLASS_NAME_SLIDE)}_getActive(){return SelectorEngine.findOne(SELECTOR_ACTIVE_ITEM,this._element)}_getItems(){return SelectorEngine.find(SELECTOR_ITEM,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder($){return isRTL$1()?$===DIRECTION_LEFT?ORDER_PREV:ORDER_NEXT:$===DIRECTION_LEFT?ORDER_NEXT:ORDER_PREV}_orderToDirection($){return isRTL$1()?$===ORDER_PREV?DIRECTION_LEFT:DIRECTION_RIGHT:$===ORDER_PREV?DIRECTION_RIGHT:DIRECTION_LEFT}static jQueryInterface($){return this.each(function(){const _e=Carousel.getOrCreateInstance(this,$);if(typeof $=="number"){_e.to($);return}if(typeof $=="string"){if(_e[$]===void 0||$.startsWith("_")||$==="constructor")throw new TypeError(`No method named "${$}"`);_e[$]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$5,SELECTOR_DATA_SLIDE,function(b){const $=SelectorEngine.getElementFromSelector(this);if(!$||!$.classList.contains(CLASS_NAME_CAROUSEL))return;b.preventDefault();const _e=Carousel.getOrCreateInstance($),et=this.getAttribute("data-bs-slide-to");if(et){_e.to(et),_e._maybeEnableCycle();return}if(Manipulator.getDataAttribute(this,"slide")==="next"){_e.next(),_e._maybeEnableCycle();return}_e.prev(),_e._maybeEnableCycle()});EventHandler.on(window,EVENT_LOAD_DATA_API$3,()=>{const b=SelectorEngine.find(SELECTOR_DATA_RIDE);for(const $ of b)Carousel.getOrCreateInstance($)});defineJQueryPlugin(Carousel);const NAME$b="collapse",DATA_KEY$7="bs.collapse",EVENT_KEY$7=`.${DATA_KEY$7}`,DATA_API_KEY$4=".data-api",EVENT_SHOW$6=`show${EVENT_KEY$7}`,EVENT_SHOWN$6=`shown${EVENT_KEY$7}`,EVENT_HIDE$6=`hide${EVENT_KEY$7}`,EVENT_HIDDEN$6=`hidden${EVENT_KEY$7}`,EVENT_CLICK_DATA_API$4=`click${EVENT_KEY$7}${DATA_API_KEY$4}`,CLASS_NAME_SHOW$7="show",CLASS_NAME_COLLAPSE="collapse",CLASS_NAME_COLLAPSING="collapsing",CLASS_NAME_COLLAPSED="collapsed",CLASS_NAME_DEEPER_CHILDREN=`:scope .${CLASS_NAME_COLLAPSE} .${CLASS_NAME_COLLAPSE}`,CLASS_NAME_HORIZONTAL="collapse-horizontal",WIDTH="width",HEIGHT="height",SELECTOR_ACTIVES=".collapse.show, .collapse.collapsing",SELECTOR_DATA_TOGGLE$4='[data-bs-toggle="collapse"]',Default$a={parent:null,toggle:!0},DefaultType$a={parent:"(null|element)",toggle:"boolean"};let Collapse$1=class Ur extends BaseComponent{constructor($,_e){super($,_e),this._isTransitioning=!1,this._triggerArray=[];const et=SelectorEngine.find(SELECTOR_DATA_TOGGLE$4);for(const tt of et){const nt=SelectorEngine.getSelectorFromElement(tt),rt=SelectorEngine.find(nt).filter(ot=>ot===this._element);nt!==null&&rt.length&&this._triggerArray.push(tt)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Default$a}static get DefaultType(){return DefaultType$a}static get NAME(){return NAME$b}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let $=[];if(this._config.parent&&($=this._getFirstLevelChildren(SELECTOR_ACTIVES).filter(ot=>ot!==this._element).map(ot=>Ur.getOrCreateInstance(ot,{toggle:!1}))),$.length&&$[0]._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$6).defaultPrevented)return;for(const ot of $)ot.hide();const et=this._getDimension();this._element.classList.remove(CLASS_NAME_COLLAPSE),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.style[et]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const tt=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7),this._element.style[et]="",EventHandler.trigger(this._element,EVENT_SHOWN$6)},rt=`scroll${et[0].toUpperCase()+et.slice(1)}`;this._queueCallback(tt,this._element,!0),this._element.style[et]=`${this._element[rt]}px`}hide(){if(this._isTransitioning||!this._isShown()||EventHandler.trigger(this._element,EVENT_HIDE$6).defaultPrevented)return;const _e=this._getDimension();this._element.style[_e]=`${this._element.getBoundingClientRect()[_e]}px`,reflow(this._element),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.classList.remove(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7);for(const tt of this._triggerArray){const nt=SelectorEngine.getElementFromSelector(tt);nt&&!this._isShown(nt)&&this._addAriaAndCollapsedClass([tt],!1)}this._isTransitioning=!0;const et=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE),EventHandler.trigger(this._element,EVENT_HIDDEN$6)};this._element.style[_e]="",this._queueCallback(et,this._element,!0)}_isShown($=this._element){return $.classList.contains(CLASS_NAME_SHOW$7)}_configAfterMerge($){return $.toggle=!!$.toggle,$.parent=getElement($.parent),$}_getDimension(){return this._element.classList.contains(CLASS_NAME_HORIZONTAL)?WIDTH:HEIGHT}_initializeChildren(){if(!this._config.parent)return;const $=this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE$4);for(const _e of $){const et=SelectorEngine.getElementFromSelector(_e);et&&this._addAriaAndCollapsedClass([_e],this._isShown(et))}}_getFirstLevelChildren($){const _e=SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN,this._config.parent);return SelectorEngine.find($,this._config.parent).filter(et=>!_e.includes(et))}_addAriaAndCollapsedClass($,_e){if($.length)for(const et of $)et.classList.toggle(CLASS_NAME_COLLAPSED,!_e),et.setAttribute("aria-expanded",_e)}static jQueryInterface($){const _e={};return typeof $=="string"&&/show|hide/.test($)&&(_e.toggle=!1),this.each(function(){const et=Ur.getOrCreateInstance(this,_e);if(typeof $=="string"){if(typeof et[$]>"u")throw new TypeError(`No method named "${$}"`);et[$]()}})}};EventHandler.on(document,EVENT_CLICK_DATA_API$4,SELECTOR_DATA_TOGGLE$4,function(b){(b.target.tagName==="A"||b.delegateTarget&&b.delegateTarget.tagName==="A")&&b.preventDefault();for(const $ of SelectorEngine.getMultipleElementsFromSelector(this))Collapse$1.getOrCreateInstance($,{toggle:!1}).toggle()});defineJQueryPlugin(Collapse$1);const NAME$a="dropdown",DATA_KEY$6="bs.dropdown",EVENT_KEY$6=`.${DATA_KEY$6}`,DATA_API_KEY$3=".data-api",ESCAPE_KEY$2="Escape",TAB_KEY$1="Tab",ARROW_UP_KEY$1="ArrowUp",ARROW_DOWN_KEY$1="ArrowDown",RIGHT_MOUSE_BUTTON=2,EVENT_HIDE$5=`hide${EVENT_KEY$6}`,EVENT_HIDDEN$5=`hidden${EVENT_KEY$6}`,EVENT_SHOW$5=`show${EVENT_KEY$6}`,EVENT_SHOWN$5=`shown${EVENT_KEY$6}`,EVENT_CLICK_DATA_API$3=`click${EVENT_KEY$6}${DATA_API_KEY$3}`,EVENT_KEYDOWN_DATA_API=`keydown${EVENT_KEY$6}${DATA_API_KEY$3}`,EVENT_KEYUP_DATA_API=`keyup${EVENT_KEY$6}${DATA_API_KEY$3}`,CLASS_NAME_SHOW$6="show",CLASS_NAME_DROPUP="dropup",CLASS_NAME_DROPEND="dropend",CLASS_NAME_DROPSTART="dropstart",CLASS_NAME_DROPUP_CENTER="dropup-center",CLASS_NAME_DROPDOWN_CENTER="dropdown-center",SELECTOR_DATA_TOGGLE$3='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',SELECTOR_DATA_TOGGLE_SHOWN=`${SELECTOR_DATA_TOGGLE$3}.${CLASS_NAME_SHOW$6}`,SELECTOR_MENU=".dropdown-menu",SELECTOR_NAVBAR=".navbar",SELECTOR_NAVBAR_NAV=".navbar-nav",SELECTOR_VISIBLE_ITEMS=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",PLACEMENT_TOP=isRTL$1()?"top-end":"top-start",PLACEMENT_TOPEND=isRTL$1()?"top-start":"top-end",PLACEMENT_BOTTOM=isRTL$1()?"bottom-end":"bottom-start",PLACEMENT_BOTTOMEND=isRTL$1()?"bottom-start":"bottom-end",PLACEMENT_RIGHT=isRTL$1()?"left-start":"right-start",PLACEMENT_LEFT=isRTL$1()?"right-start":"left-start",PLACEMENT_TOPCENTER="top",PLACEMENT_BOTTOMCENTER="bottom",Default$9={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},DefaultType$9={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Dropdown extends BaseComponent{constructor($,_e){super($,_e),this._popper=null,this._parent=this._element.parentNode,this._menu=SelectorEngine.next(this._element,SELECTOR_MENU)[0]||SelectorEngine.prev(this._element,SELECTOR_MENU)[0]||SelectorEngine.findOne(SELECTOR_MENU,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Default$9}static get DefaultType(){return DefaultType$9}static get NAME(){return NAME$a}toggle(){return this._isShown()?this.hide():this.show()}show(){if(isDisabled(this._element)||this._isShown())return;const $={relatedTarget:this._element};if(!EventHandler.trigger(this._element,EVENT_SHOW$5,$).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(SELECTOR_NAVBAR_NAV))for(const et of[].concat(...document.body.children))EventHandler.on(et,"mouseover",noop$9);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(CLASS_NAME_SHOW$6),this._element.classList.add(CLASS_NAME_SHOW$6),EventHandler.trigger(this._element,EVENT_SHOWN$5,$)}}hide(){if(isDisabled(this._element)||!this._isShown())return;const $={relatedTarget:this._element};this._completeHide($)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide($){if(!EventHandler.trigger(this._element,EVENT_HIDE$5,$).defaultPrevented){if("ontouchstart"in document.documentElement)for(const et of[].concat(...document.body.children))EventHandler.off(et,"mouseover",noop$9);this._popper&&this._popper.destroy(),this._menu.classList.remove(CLASS_NAME_SHOW$6),this._element.classList.remove(CLASS_NAME_SHOW$6),this._element.setAttribute("aria-expanded","false"),Manipulator.removeDataAttribute(this._menu,"popper"),EventHandler.trigger(this._element,EVENT_HIDDEN$5,$)}}_getConfig($){if($=super._getConfig($),typeof $.reference=="object"&&!isElement$1($.reference)&&typeof $.reference.getBoundingClientRect!="function")throw new TypeError(`${NAME$a.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return $}_createPopper(){if(typeof Popper>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let $=this._element;this._config.reference==="parent"?$=this._parent:isElement$1(this._config.reference)?$=getElement(this._config.reference):typeof this._config.reference=="object"&&($=this._config.reference);const _e=this._getPopperConfig();this._popper=createPopper$1($,this._menu,_e)}_isShown(){return this._menu.classList.contains(CLASS_NAME_SHOW$6)}_getPlacement(){const $=this._parent;if($.classList.contains(CLASS_NAME_DROPEND))return PLACEMENT_RIGHT;if($.classList.contains(CLASS_NAME_DROPSTART))return PLACEMENT_LEFT;if($.classList.contains(CLASS_NAME_DROPUP_CENTER))return PLACEMENT_TOPCENTER;if($.classList.contains(CLASS_NAME_DROPDOWN_CENTER))return PLACEMENT_BOTTOMCENTER;const _e=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return $.classList.contains(CLASS_NAME_DROPUP)?_e?PLACEMENT_TOPEND:PLACEMENT_TOP:_e?PLACEMENT_BOTTOMEND:PLACEMENT_BOTTOM}_detectNavbar(){return this._element.closest(SELECTOR_NAVBAR)!==null}_getOffset(){const{offset:$}=this._config;return typeof $=="string"?$.split(",").map(_e=>Number.parseInt(_e,10)):typeof $=="function"?_e=>$(_e,this._element):$}_getPopperConfig(){const $={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Manipulator.setDataAttribute(this._menu,"popper","static"),$.modifiers=[{name:"applyStyles",enabled:!1}]),{...$,...execute(this._config.popperConfig,[$])}}_selectMenuItem({key:$,target:_e}){const et=SelectorEngine.find(SELECTOR_VISIBLE_ITEMS,this._menu).filter(tt=>isVisible(tt));et.length&&getNextActiveElement(et,_e,$===ARROW_DOWN_KEY$1,!et.includes(_e)).focus()}static jQueryInterface($){return this.each(function(){const _e=Dropdown.getOrCreateInstance(this,$);if(typeof $=="string"){if(typeof _e[$]>"u")throw new TypeError(`No method named "${$}"`);_e[$]()}})}static clearMenus($){if($.button===RIGHT_MOUSE_BUTTON||$.type==="keyup"&&$.key!==TAB_KEY$1)return;const _e=SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN);for(const et of _e){const tt=Dropdown.getInstance(et);if(!tt||tt._config.autoClose===!1)continue;const nt=$.composedPath(),rt=nt.includes(tt._menu);if(nt.includes(tt._element)||tt._config.autoClose==="inside"&&!rt||tt._config.autoClose==="outside"&&rt||tt._menu.contains($.target)&&($.type==="keyup"&&$.key===TAB_KEY$1||/input|select|option|textarea|form/i.test($.target.tagName)))continue;const ot={relatedTarget:tt._element};$.type==="click"&&(ot.clickEvent=$),tt._completeHide(ot)}}static dataApiKeydownHandler($){const _e=/input|textarea/i.test($.target.tagName),et=$.key===ESCAPE_KEY$2,tt=[ARROW_UP_KEY$1,ARROW_DOWN_KEY$1].includes($.key);if(!tt&&!et||_e&&!et)return;$.preventDefault();const nt=this.matches(SELECTOR_DATA_TOGGLE$3)?this:SelectorEngine.prev(this,SELECTOR_DATA_TOGGLE$3)[0]||SelectorEngine.next(this,SELECTOR_DATA_TOGGLE$3)[0]||SelectorEngine.findOne(SELECTOR_DATA_TOGGLE$3,$.delegateTarget.parentNode),rt=Dropdown.getOrCreateInstance(nt);if(tt){$.stopPropagation(),rt.show(),rt._selectMenuItem($);return}rt._isShown()&&($.stopPropagation(),rt.hide(),nt.focus())}}EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_DATA_TOGGLE$3,Dropdown.dataApiKeydownHandler);EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_MENU,Dropdown.dataApiKeydownHandler);EventHandler.on(document,EVENT_CLICK_DATA_API$3,Dropdown.clearMenus);EventHandler.on(document,EVENT_KEYUP_DATA_API,Dropdown.clearMenus);EventHandler.on(document,EVENT_CLICK_DATA_API$3,SELECTOR_DATA_TOGGLE$3,function(b){b.preventDefault(),Dropdown.getOrCreateInstance(this).toggle()});defineJQueryPlugin(Dropdown);const NAME$9="backdrop",CLASS_NAME_FADE$4="fade",CLASS_NAME_SHOW$5="show",EVENT_MOUSEDOWN=`mousedown.bs.${NAME$9}`,Default$8={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},DefaultType$8={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Backdrop extends Config{constructor($){super(),this._config=this._getConfig($),this._isAppended=!1,this._element=null}static get Default(){return Default$8}static get DefaultType(){return DefaultType$8}static get NAME(){return NAME$9}show($){if(!this._config.isVisible){execute($);return}this._append();const _e=this._getElement();this._config.isAnimated&&reflow(_e),_e.classList.add(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{execute($)})}hide($){if(!this._config.isVisible){execute($);return}this._getElement().classList.remove(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{this.dispose(),execute($)})}dispose(){this._isAppended&&(EventHandler.off(this._element,EVENT_MOUSEDOWN),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const $=document.createElement("div");$.className=this._config.className,this._config.isAnimated&&$.classList.add(CLASS_NAME_FADE$4),this._element=$}return this._element}_configAfterMerge($){return $.rootElement=getElement($.rootElement),$}_append(){if(this._isAppended)return;const $=this._getElement();this._config.rootElement.append($),EventHandler.on($,EVENT_MOUSEDOWN,()=>{execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation($){executeAfterTransition($,this._getElement(),this._config.isAnimated)}}const NAME$8="focustrap",DATA_KEY$5="bs.focustrap",EVENT_KEY$5=`.${DATA_KEY$5}`,EVENT_FOCUSIN$2=`focusin${EVENT_KEY$5}`,EVENT_KEYDOWN_TAB=`keydown.tab${EVENT_KEY$5}`,TAB_KEY="Tab",TAB_NAV_FORWARD="forward",TAB_NAV_BACKWARD="backward",Default$7={autofocus:!0,trapElement:null},DefaultType$7={autofocus:"boolean",trapElement:"element"};class FocusTrap extends Config{constructor($){super(),this._config=this._getConfig($),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Default$7}static get DefaultType(){return DefaultType$7}static get NAME(){return NAME$8}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),EventHandler.off(document,EVENT_KEY$5),EventHandler.on(document,EVENT_FOCUSIN$2,$=>this._handleFocusin($)),EventHandler.on(document,EVENT_KEYDOWN_TAB,$=>this._handleKeydown($)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,EventHandler.off(document,EVENT_KEY$5))}_handleFocusin($){const{trapElement:_e}=this._config;if($.target===document||$.target===_e||_e.contains($.target))return;const et=SelectorEngine.focusableChildren(_e);et.length===0?_e.focus():this._lastTabNavDirection===TAB_NAV_BACKWARD?et[et.length-1].focus():et[0].focus()}_handleKeydown($){$.key===TAB_KEY&&(this._lastTabNavDirection=$.shiftKey?TAB_NAV_BACKWARD:TAB_NAV_FORWARD)}}const SELECTOR_FIXED_CONTENT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",SELECTOR_STICKY_CONTENT=".sticky-top",PROPERTY_PADDING="padding-right",PROPERTY_MARGIN="margin-right";class ScrollBarHelper{constructor(){this._element=document.body}getWidth(){const $=document.documentElement.clientWidth;return Math.abs(window.innerWidth-$)}hide(){const $=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,PROPERTY_PADDING,_e=>_e+$),this._setElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING,_e=>_e+$),this._setElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN,_e=>_e-$)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes($,_e,et){const tt=this.getWidth(),nt=rt=>{if(rt!==this._element&&window.innerWidth>rt.clientWidth+tt)return;this._saveInitialAttribute(rt,_e);const ot=window.getComputedStyle(rt).getPropertyValue(_e);rt.style.setProperty(_e,`${et(Number.parseFloat(ot))}px`)};this._applyManipulationCallback($,nt)}_saveInitialAttribute($,_e){const et=$.style.getPropertyValue(_e);et&&Manipulator.setDataAttribute($,_e,et)}_resetElementAttributes($,_e){const et=tt=>{const nt=Manipulator.getDataAttribute(tt,_e);if(nt===null){tt.style.removeProperty(_e);return}Manipulator.removeDataAttribute(tt,_e),tt.style.setProperty(_e,nt)};this._applyManipulationCallback($,et)}_applyManipulationCallback($,_e){if(isElement$1($)){_e($);return}for(const et of SelectorEngine.find($,this._element))_e(et)}}const NAME$7="modal",DATA_KEY$4="bs.modal",EVENT_KEY$4=`.${DATA_KEY$4}`,DATA_API_KEY$2=".data-api",ESCAPE_KEY$1="Escape",EVENT_HIDE$4=`hide${EVENT_KEY$4}`,EVENT_HIDE_PREVENTED$1=`hidePrevented${EVENT_KEY$4}`,EVENT_HIDDEN$4=`hidden${EVENT_KEY$4}`,EVENT_SHOW$4=`show${EVENT_KEY$4}`,EVENT_SHOWN$4=`shown${EVENT_KEY$4}`,EVENT_RESIZE$1=`resize${EVENT_KEY$4}`,EVENT_CLICK_DISMISS=`click.dismiss${EVENT_KEY$4}`,EVENT_MOUSEDOWN_DISMISS=`mousedown.dismiss${EVENT_KEY$4}`,EVENT_KEYDOWN_DISMISS$1=`keydown.dismiss${EVENT_KEY$4}`,EVENT_CLICK_DATA_API$2=`click${EVENT_KEY$4}${DATA_API_KEY$2}`,CLASS_NAME_OPEN="modal-open",CLASS_NAME_FADE$3="fade",CLASS_NAME_SHOW$4="show",CLASS_NAME_STATIC="modal-static",OPEN_SELECTOR$1=".modal.show",SELECTOR_DIALOG=".modal-dialog",SELECTOR_MODAL_BODY=".modal-body",SELECTOR_DATA_TOGGLE$2='[data-bs-toggle="modal"]',Default$6={backdrop:!0,focus:!0,keyboard:!0},DefaultType$6={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let Modal$4=class Jr extends BaseComponent{constructor($,_e){super($,_e),this._dialog=SelectorEngine.findOne(SELECTOR_DIALOG,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ScrollBarHelper,this._addEventListeners()}static get Default(){return Default$6}static get DefaultType(){return DefaultType$6}static get NAME(){return NAME$7}toggle($){return this._isShown?this.hide():this.show($)}show($){this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$4,{relatedTarget:$}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(CLASS_NAME_OPEN),this._adjustDialog(),this._backdrop.show(()=>this._showElement($)))}hide(){!this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_HIDE$4).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(CLASS_NAME_SHOW$4),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){EventHandler.off(window,EVENT_KEY$4),EventHandler.off(this._dialog,EVENT_KEY$4),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Backdrop({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_showElement($){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const _e=SelectorEngine.findOne(SELECTOR_MODAL_BODY,this._dialog);_e&&(_e.scrollTop=0),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW$4);const et=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,EventHandler.trigger(this._element,EVENT_SHOWN$4,{relatedTarget:$})};this._queueCallback(et,this._dialog,this._isAnimated())}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS$1,$=>{if($.key===ESCAPE_KEY$1){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),EventHandler.on(window,EVENT_RESIZE$1,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),EventHandler.on(this._element,EVENT_MOUSEDOWN_DISMISS,$=>{EventHandler.one(this._element,EVENT_CLICK_DISMISS,_e=>{if(!(this._element!==$.target||this._element!==_e.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(CLASS_NAME_OPEN),this._resetAdjustments(),this._scrollBar.reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$4)})}_isAnimated(){return this._element.classList.contains(CLASS_NAME_FADE$3)}_triggerBackdropTransition(){if(EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED$1).defaultPrevented)return;const _e=this._element.scrollHeight>document.documentElement.clientHeight,et=this._element.style.overflowY;et==="hidden"||this._element.classList.contains(CLASS_NAME_STATIC)||(_e||(this._element.style.overflowY="hidden"),this._element.classList.add(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.classList.remove(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.style.overflowY=et},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const $=this._element.scrollHeight>document.documentElement.clientHeight,_e=this._scrollBar.getWidth(),et=_e>0;if(et&&!$){const tt=isRTL$1()?"paddingLeft":"paddingRight";this._element.style[tt]=`${_e}px`}if(!et&&$){const tt=isRTL$1()?"paddingRight":"paddingLeft";this._element.style[tt]=`${_e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface($,_e){return this.each(function(){const et=Jr.getOrCreateInstance(this,$);if(typeof $=="string"){if(typeof et[$]>"u")throw new TypeError(`No method named "${$}"`);et[$](_e)}})}};EventHandler.on(document,EVENT_CLICK_DATA_API$2,SELECTOR_DATA_TOGGLE$2,function(b){const $=SelectorEngine.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&b.preventDefault(),EventHandler.one($,EVENT_SHOW$4,tt=>{tt.defaultPrevented||EventHandler.one($,EVENT_HIDDEN$4,()=>{isVisible(this)&&this.focus()})});const _e=SelectorEngine.findOne(OPEN_SELECTOR$1);_e&&Modal$4.getInstance(_e).hide(),Modal$4.getOrCreateInstance($).toggle(this)});enableDismissTrigger(Modal$4);defineJQueryPlugin(Modal$4);const NAME$6="offcanvas",DATA_KEY$3="bs.offcanvas",EVENT_KEY$3=`.${DATA_KEY$3}`,DATA_API_KEY$1=".data-api",EVENT_LOAD_DATA_API$2=`load${EVENT_KEY$3}${DATA_API_KEY$1}`,ESCAPE_KEY="Escape",CLASS_NAME_SHOW$3="show",CLASS_NAME_SHOWING$1="showing",CLASS_NAME_HIDING="hiding",CLASS_NAME_BACKDROP="offcanvas-backdrop",OPEN_SELECTOR=".offcanvas.show",EVENT_SHOW$3=`show${EVENT_KEY$3}`,EVENT_SHOWN$3=`shown${EVENT_KEY$3}`,EVENT_HIDE$3=`hide${EVENT_KEY$3}`,EVENT_HIDE_PREVENTED=`hidePrevented${EVENT_KEY$3}`,EVENT_HIDDEN$3=`hidden${EVENT_KEY$3}`,EVENT_RESIZE=`resize${EVENT_KEY$3}`,EVENT_CLICK_DATA_API$1=`click${EVENT_KEY$3}${DATA_API_KEY$1}`,EVENT_KEYDOWN_DISMISS=`keydown.dismiss${EVENT_KEY$3}`,SELECTOR_DATA_TOGGLE$1='[data-bs-toggle="offcanvas"]',Default$5={backdrop:!0,keyboard:!0,scroll:!1},DefaultType$5={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Offcanvas extends BaseComponent{constructor($,_e){super($,_e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Default$5}static get DefaultType(){return DefaultType$5}static get NAME(){return NAME$6}toggle($){return this._isShown?this.hide():this.show($)}show($){if(this._isShown||EventHandler.trigger(this._element,EVENT_SHOW$3,{relatedTarget:$}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ScrollBarHelper().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(CLASS_NAME_SHOWING$1);const et=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(CLASS_NAME_SHOW$3),this._element.classList.remove(CLASS_NAME_SHOWING$1),EventHandler.trigger(this._element,EVENT_SHOWN$3,{relatedTarget:$})};this._queueCallback(et,this._element,!0)}hide(){if(!this._isShown||EventHandler.trigger(this._element,EVENT_HIDE$3).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(CLASS_NAME_HIDING),this._backdrop.hide();const _e=()=>{this._element.classList.remove(CLASS_NAME_SHOW$3,CLASS_NAME_HIDING),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ScrollBarHelper().reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$3)};this._queueCallback(_e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const $=()=>{if(this._config.backdrop==="static"){EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED);return}this.hide()},_e=!!this._config.backdrop;return new Backdrop({className:CLASS_NAME_BACKDROP,isVisible:_e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:_e?$:null})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS,$=>{if($.key===ESCAPE_KEY){if(this._config.keyboard){this.hide();return}EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED)}})}static jQueryInterface($){return this.each(function(){const _e=Offcanvas.getOrCreateInstance(this,$);if(typeof $=="string"){if(_e[$]===void 0||$.startsWith("_")||$==="constructor")throw new TypeError(`No method named "${$}"`);_e[$](this)}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$1,SELECTOR_DATA_TOGGLE$1,function(b){const $=SelectorEngine.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&b.preventDefault(),isDisabled(this))return;EventHandler.one($,EVENT_HIDDEN$3,()=>{isVisible(this)&&this.focus()});const _e=SelectorEngine.findOne(OPEN_SELECTOR);_e&&_e!==$&&Offcanvas.getInstance(_e).hide(),Offcanvas.getOrCreateInstance($).toggle(this)});EventHandler.on(window,EVENT_LOAD_DATA_API$2,()=>{for(const b of SelectorEngine.find(OPEN_SELECTOR))Offcanvas.getOrCreateInstance(b).show()});EventHandler.on(window,EVENT_RESIZE,()=>{for(const b of SelectorEngine.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(b).position!=="fixed"&&Offcanvas.getOrCreateInstance(b).hide()});enableDismissTrigger(Offcanvas);defineJQueryPlugin(Offcanvas);const ARIA_ATTRIBUTE_PATTERN=/^aria-[\w-]*$/i,DefaultAllowlist={"*":["class","dir","id","lang","role",ARIA_ATTRIBUTE_PATTERN],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},uriAttributes=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),SAFE_URL_PATTERN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,allowedAttribute=(b,$)=>{const _e=b.nodeName.toLowerCase();return $.includes(_e)?uriAttributes.has(_e)?!!SAFE_URL_PATTERN.test(b.nodeValue):!0:$.filter(et=>et instanceof RegExp).some(et=>et.test(_e))};function sanitizeHtml(b,$,_e){if(!b.length)return b;if(_e&&typeof _e=="function")return _e(b);const tt=new window.DOMParser().parseFromString(b,"text/html"),nt=[].concat(...tt.body.querySelectorAll("*"));for(const rt of nt){const ot=rt.nodeName.toLowerCase();if(!Object.keys($).includes(ot)){rt.remove();continue}const st=[].concat(...rt.attributes),ct=[].concat($["*"]||[],$[ot]||[]);for(const lt of st)allowedAttribute(lt,ct)||rt.removeAttribute(lt.nodeName)}return tt.body.innerHTML}const NAME$5="TemplateFactory",Default$4={allowList:DefaultAllowlist,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},DefaultType$4={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},DefaultContentType={entry:"(string|element|function|null)",selector:"(string|element)"};class TemplateFactory extends Config{constructor($){super(),this._config=this._getConfig($)}static get Default(){return Default$4}static get DefaultType(){return DefaultType$4}static get NAME(){return NAME$5}getContent(){return Object.values(this._config.content).map($=>this._resolvePossibleFunction($)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent($){return this._checkContent($),this._config.content={...this._config.content,...$},this}toHtml(){const $=document.createElement("div");$.innerHTML=this._maybeSanitize(this._config.template);for(const[tt,nt]of Object.entries(this._config.content))this._setContent($,nt,tt);const _e=$.children[0],et=this._resolvePossibleFunction(this._config.extraClass);return et&&_e.classList.add(...et.split(" ")),_e}_typeCheckConfig($){super._typeCheckConfig($),this._checkContent($.content)}_checkContent($){for(const[_e,et]of Object.entries($))super._typeCheckConfig({selector:_e,entry:et},DefaultContentType)}_setContent($,_e,et){const tt=SelectorEngine.findOne(et,$);if(tt){if(_e=this._resolvePossibleFunction(_e),!_e){tt.remove();return}if(isElement$1(_e)){this._putElementInTemplate(getElement(_e),tt);return}if(this._config.html){tt.innerHTML=this._maybeSanitize(_e);return}tt.textContent=_e}}_maybeSanitize($){return this._config.sanitize?sanitizeHtml($,this._config.allowList,this._config.sanitizeFn):$}_resolvePossibleFunction($){return execute($,[this])}_putElementInTemplate($,_e){if(this._config.html){_e.innerHTML="",_e.append($);return}_e.textContent=$.textContent}}const NAME$4="tooltip",DISALLOWED_ATTRIBUTES=new Set(["sanitize","allowList","sanitizeFn"]),CLASS_NAME_FADE$2="fade",CLASS_NAME_MODAL="modal",CLASS_NAME_SHOW$2="show",SELECTOR_TOOLTIP_INNER=".tooltip-inner",SELECTOR_MODAL=`.${CLASS_NAME_MODAL}`,EVENT_MODAL_HIDE="hide.bs.modal",TRIGGER_HOVER="hover",TRIGGER_FOCUS="focus",TRIGGER_CLICK="click",TRIGGER_MANUAL="manual",EVENT_HIDE$2="hide",EVENT_HIDDEN$2="hidden",EVENT_SHOW$2="show",EVENT_SHOWN$2="shown",EVENT_INSERTED="inserted",EVENT_CLICK$1="click",EVENT_FOCUSIN$1="focusin",EVENT_FOCUSOUT$1="focusout",EVENT_MOUSEENTER="mouseenter",EVENT_MOUSELEAVE="mouseleave",AttachmentMap={AUTO:"auto",TOP:"top",RIGHT:isRTL$1()?"left":"right",BOTTOM:"bottom",LEFT:isRTL$1()?"right":"left"},Default$3={allowList:DefaultAllowlist,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},DefaultType$3={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let Tooltip$2=class Xr extends BaseComponent{constructor($,_e){if(typeof Popper>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super($,_e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Default$3}static get DefaultType(){return DefaultType$3}static get NAME(){return NAME$4}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),EventHandler.off(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const $=EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOW$2)),et=(findShadowRoot(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if($.defaultPrevented||!et)return;this._disposePopper();const tt=this._getTipElement();this._element.setAttribute("aria-describedby",tt.getAttribute("id"));const{container:nt}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(nt.append(tt),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_INSERTED))),this._popper=this._createPopper(tt),tt.classList.add(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const ot of[].concat(...document.body.children))EventHandler.on(ot,"mouseover",noop$9);const rt=()=>{EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOWN$2)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(rt,this.tip,this._isAnimated())}hide(){if(!this._isShown()||EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDE$2)).defaultPrevented)return;if(this._getTipElement().classList.remove(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const tt of[].concat(...document.body.children))EventHandler.off(tt,"mouseover",noop$9);this._activeTrigger[TRIGGER_CLICK]=!1,this._activeTrigger[TRIGGER_FOCUS]=!1,this._activeTrigger[TRIGGER_HOVER]=!1,this._isHovered=null;const et=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDDEN$2)))};this._queueCallback(et,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement($){const _e=this._getTemplateFactory($).toHtml();if(!_e)return null;_e.classList.remove(CLASS_NAME_FADE$2,CLASS_NAME_SHOW$2),_e.classList.add(`bs-${this.constructor.NAME}-auto`);const et=getUID(this.constructor.NAME).toString();return _e.setAttribute("id",et),this._isAnimated()&&_e.classList.add(CLASS_NAME_FADE$2),_e}setContent($){this._newContent=$,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory($){return this._templateFactory?this._templateFactory.changeContent($):this._templateFactory=new TemplateFactory({...this._config,content:$,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[SELECTOR_TOOLTIP_INNER]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget($){return this.constructor.getOrCreateInstance($.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(CLASS_NAME_FADE$2)}_isShown(){return this.tip&&this.tip.classList.contains(CLASS_NAME_SHOW$2)}_createPopper($){const _e=execute(this._config.placement,[this,$,this._element]),et=AttachmentMap[_e.toUpperCase()];return createPopper$1(this._element,$,this._getPopperConfig(et))}_getOffset(){const{offset:$}=this._config;return typeof $=="string"?$.split(",").map(_e=>Number.parseInt(_e,10)):typeof $=="function"?_e=>$(_e,this._element):$}_resolvePossibleFunction($){return execute($,[this._element])}_getPopperConfig($){const _e={placement:$,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:et=>{this._getTipElement().setAttribute("data-popper-placement",et.state.placement)}}]};return{..._e,...execute(this._config.popperConfig,[_e])}}_setListeners(){const $=this._config.trigger.split(" ");for(const _e of $)if(_e==="click")EventHandler.on(this._element,this.constructor.eventName(EVENT_CLICK$1),this._config.selector,et=>{this._initializeOnDelegatedTarget(et).toggle()});else if(_e!==TRIGGER_MANUAL){const et=_e===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSEENTER):this.constructor.eventName(EVENT_FOCUSIN$1),tt=_e===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSELEAVE):this.constructor.eventName(EVENT_FOCUSOUT$1);EventHandler.on(this._element,et,this._config.selector,nt=>{const rt=this._initializeOnDelegatedTarget(nt);rt._activeTrigger[nt.type==="focusin"?TRIGGER_FOCUS:TRIGGER_HOVER]=!0,rt._enter()}),EventHandler.on(this._element,tt,this._config.selector,nt=>{const rt=this._initializeOnDelegatedTarget(nt);rt._activeTrigger[nt.type==="focusout"?TRIGGER_FOCUS:TRIGGER_HOVER]=rt._element.contains(nt.relatedTarget),rt._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},EventHandler.on(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler)}_fixTitle(){const $=this._element.getAttribute("title");$&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",$),this._element.setAttribute("data-bs-original-title",$),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout($,_e){clearTimeout(this._timeout),this._timeout=setTimeout($,_e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig($){const _e=Manipulator.getDataAttributes(this._element);for(const et of Object.keys(_e))DISALLOWED_ATTRIBUTES.has(et)&&delete _e[et];return $={..._e,...typeof $=="object"&&$?$:{}},$=this._mergeConfigObj($),$=this._configAfterMerge($),this._typeCheckConfig($),$}_configAfterMerge($){return $.container=$.container===!1?document.body:getElement($.container),typeof $.delay=="number"&&($.delay={show:$.delay,hide:$.delay}),typeof $.title=="number"&&($.title=$.title.toString()),typeof $.content=="number"&&($.content=$.content.toString()),$}_getDelegateConfig(){const $={};for(const[_e,et]of Object.entries(this._config))this.constructor.Default[_e]!==et&&($[_e]=et);return $.selector=!1,$.trigger="manual",$}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface($){return this.each(function(){const _e=Xr.getOrCreateInstance(this,$);if(typeof $=="string"){if(typeof _e[$]>"u")throw new TypeError(`No method named "${$}"`);_e[$]()}})}};defineJQueryPlugin(Tooltip$2);const NAME$3="popover",SELECTOR_TITLE=".popover-header",SELECTOR_CONTENT=".popover-body",Default$2={...Tooltip$2.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},DefaultType$2={...Tooltip$2.DefaultType,content:"(null|string|element|function)"};let Popover$2=class Qr extends Tooltip$2{static get Default(){return Default$2}static get DefaultType(){return DefaultType$2}static get NAME(){return NAME$3}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[SELECTOR_TITLE]:this._getTitle(),[SELECTOR_CONTENT]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface($){return this.each(function(){const _e=Qr.getOrCreateInstance(this,$);if(typeof $=="string"){if(typeof _e[$]>"u")throw new TypeError(`No method named "${$}"`);_e[$]()}})}};defineJQueryPlugin(Popover$2);const NAME$2="scrollspy",DATA_KEY$2="bs.scrollspy",EVENT_KEY$2=`.${DATA_KEY$2}`,DATA_API_KEY=".data-api",EVENT_ACTIVATE=`activate${EVENT_KEY$2}`,EVENT_CLICK=`click${EVENT_KEY$2}`,EVENT_LOAD_DATA_API$1=`load${EVENT_KEY$2}${DATA_API_KEY}`,CLASS_NAME_DROPDOWN_ITEM="dropdown-item",CLASS_NAME_ACTIVE$1="active",SELECTOR_DATA_SPY='[data-bs-spy="scroll"]',SELECTOR_TARGET_LINKS="[href]",SELECTOR_NAV_LIST_GROUP=".nav, .list-group",SELECTOR_NAV_LINKS=".nav-link",SELECTOR_NAV_ITEMS=".nav-item",SELECTOR_LIST_ITEMS=".list-group-item",SELECTOR_LINK_ITEMS=`${SELECTOR_NAV_LINKS}, ${SELECTOR_NAV_ITEMS} > ${SELECTOR_NAV_LINKS}, ${SELECTOR_LIST_ITEMS}`,SELECTOR_DROPDOWN=".dropdown",SELECTOR_DROPDOWN_TOGGLE$1=".dropdown-toggle",Default$1={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},DefaultType$1={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ScrollSpy extends BaseComponent{constructor($,_e){super($,_e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Default$1}static get DefaultType(){return DefaultType$1}static get NAME(){return NAME$2}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const $ of this._observableSections.values())this._observer.observe($)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge($){return $.target=getElement($.target)||document.body,$.rootMargin=$.offset?`${$.offset}px 0px -30%`:$.rootMargin,typeof $.threshold=="string"&&($.threshold=$.threshold.split(",").map(_e=>Number.parseFloat(_e))),$}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(EventHandler.off(this._config.target,EVENT_CLICK),EventHandler.on(this._config.target,EVENT_CLICK,SELECTOR_TARGET_LINKS,$=>{const _e=this._observableSections.get($.target.hash);if(_e){$.preventDefault();const et=this._rootElement||window,tt=_e.offsetTop-this._element.offsetTop;if(et.scrollTo){et.scrollTo({top:tt,behavior:"smooth"});return}et.scrollTop=tt}}))}_getNewObserver(){const $={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(_e=>this._observerCallback(_e),$)}_observerCallback($){const _e=rt=>this._targetLinks.get(`#${rt.target.id}`),et=rt=>{this._previousScrollData.visibleEntryTop=rt.target.offsetTop,this._process(_e(rt))},tt=(this._rootElement||document.documentElement).scrollTop,nt=tt>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=tt;for(const rt of $){if(!rt.isIntersecting){this._activeTarget=null,this._clearActiveClass(_e(rt));continue}const ot=rt.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(nt&&ot){if(et(rt),!tt)return;continue}!nt&&!ot&&et(rt)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const $=SelectorEngine.find(SELECTOR_TARGET_LINKS,this._config.target);for(const _e of $){if(!_e.hash||isDisabled(_e))continue;const et=SelectorEngine.findOne(decodeURI(_e.hash),this._element);isVisible(et)&&(this._targetLinks.set(decodeURI(_e.hash),_e),this._observableSections.set(_e.hash,et))}}_process($){this._activeTarget!==$&&(this._clearActiveClass(this._config.target),this._activeTarget=$,$.classList.add(CLASS_NAME_ACTIVE$1),this._activateParents($),EventHandler.trigger(this._element,EVENT_ACTIVATE,{relatedTarget:$}))}_activateParents($){if($.classList.contains(CLASS_NAME_DROPDOWN_ITEM)){SelectorEngine.findOne(SELECTOR_DROPDOWN_TOGGLE$1,$.closest(SELECTOR_DROPDOWN)).classList.add(CLASS_NAME_ACTIVE$1);return}for(const _e of SelectorEngine.parents($,SELECTOR_NAV_LIST_GROUP))for(const et of SelectorEngine.prev(_e,SELECTOR_LINK_ITEMS))et.classList.add(CLASS_NAME_ACTIVE$1)}_clearActiveClass($){$.classList.remove(CLASS_NAME_ACTIVE$1);const _e=SelectorEngine.find(`${SELECTOR_TARGET_LINKS}.${CLASS_NAME_ACTIVE$1}`,$);for(const et of _e)et.classList.remove(CLASS_NAME_ACTIVE$1)}static jQueryInterface($){return this.each(function(){const _e=ScrollSpy.getOrCreateInstance(this,$);if(typeof $=="string"){if(_e[$]===void 0||$.startsWith("_")||$==="constructor")throw new TypeError(`No method named "${$}"`);_e[$]()}})}}EventHandler.on(window,EVENT_LOAD_DATA_API$1,()=>{for(const b of SelectorEngine.find(SELECTOR_DATA_SPY))ScrollSpy.getOrCreateInstance(b)});defineJQueryPlugin(ScrollSpy);const NAME$1="tab",DATA_KEY$1="bs.tab",EVENT_KEY$1=`.${DATA_KEY$1}`,EVENT_HIDE$1=`hide${EVENT_KEY$1}`,EVENT_HIDDEN$1=`hidden${EVENT_KEY$1}`,EVENT_SHOW$1=`show${EVENT_KEY$1}`,EVENT_SHOWN$1=`shown${EVENT_KEY$1}`,EVENT_CLICK_DATA_API=`click${EVENT_KEY$1}`,EVENT_KEYDOWN=`keydown${EVENT_KEY$1}`,EVENT_LOAD_DATA_API=`load${EVENT_KEY$1}`,ARROW_LEFT_KEY="ArrowLeft",ARROW_RIGHT_KEY="ArrowRight",ARROW_UP_KEY="ArrowUp",ARROW_DOWN_KEY="ArrowDown",HOME_KEY="Home",END_KEY="End",CLASS_NAME_ACTIVE="active",CLASS_NAME_FADE$1="fade",CLASS_NAME_SHOW$1="show",CLASS_DROPDOWN="dropdown",SELECTOR_DROPDOWN_TOGGLE=".dropdown-toggle",SELECTOR_DROPDOWN_MENU=".dropdown-menu",NOT_SELECTOR_DROPDOWN_TOGGLE=`:not(${SELECTOR_DROPDOWN_TOGGLE})`,SELECTOR_TAB_PANEL='.list-group, .nav, [role="tablist"]',SELECTOR_OUTER=".nav-item, .list-group-item",SELECTOR_INNER=`.nav-link${NOT_SELECTOR_DROPDOWN_TOGGLE}, .list-group-item${NOT_SELECTOR_DROPDOWN_TOGGLE}, [role="tab"]${NOT_SELECTOR_DROPDOWN_TOGGLE}`,SELECTOR_DATA_TOGGLE='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',SELECTOR_INNER_ELEM=`${SELECTOR_INNER}, ${SELECTOR_DATA_TOGGLE}`,SELECTOR_DATA_TOGGLE_ACTIVE=`.${CLASS_NAME_ACTIVE}[data-bs-toggle="tab"], .${CLASS_NAME_ACTIVE}[data-bs-toggle="pill"], .${CLASS_NAME_ACTIVE}[data-bs-toggle="list"]`;let Tab$2=class Wr extends BaseComponent{constructor($){super($),this._parent=this._element.closest(SELECTOR_TAB_PANEL),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),EventHandler.on(this._element,EVENT_KEYDOWN,_e=>this._keydown(_e)))}static get NAME(){return NAME$1}show(){const $=this._element;if(this._elemIsActive($))return;const _e=this._getActiveElem(),et=_e?EventHandler.trigger(_e,EVENT_HIDE$1,{relatedTarget:$}):null;EventHandler.trigger($,EVENT_SHOW$1,{relatedTarget:_e}).defaultPrevented||et&&et.defaultPrevented||(this._deactivate(_e,$),this._activate($,_e))}_activate($,_e){if(!$)return;$.classList.add(CLASS_NAME_ACTIVE),this._activate(SelectorEngine.getElementFromSelector($));const et=()=>{if($.getAttribute("role")!=="tab"){$.classList.add(CLASS_NAME_SHOW$1);return}$.removeAttribute("tabindex"),$.setAttribute("aria-selected",!0),this._toggleDropDown($,!0),EventHandler.trigger($,EVENT_SHOWN$1,{relatedTarget:_e})};this._queueCallback(et,$,$.classList.contains(CLASS_NAME_FADE$1))}_deactivate($,_e){if(!$)return;$.classList.remove(CLASS_NAME_ACTIVE),$.blur(),this._deactivate(SelectorEngine.getElementFromSelector($));const et=()=>{if($.getAttribute("role")!=="tab"){$.classList.remove(CLASS_NAME_SHOW$1);return}$.setAttribute("aria-selected",!1),$.setAttribute("tabindex","-1"),this._toggleDropDown($,!1),EventHandler.trigger($,EVENT_HIDDEN$1,{relatedTarget:_e})};this._queueCallback(et,$,$.classList.contains(CLASS_NAME_FADE$1))}_keydown($){if(![ARROW_LEFT_KEY,ARROW_RIGHT_KEY,ARROW_UP_KEY,ARROW_DOWN_KEY,HOME_KEY,END_KEY].includes($.key))return;$.stopPropagation(),$.preventDefault();const _e=this._getChildren().filter(tt=>!isDisabled(tt));let et;if([HOME_KEY,END_KEY].includes($.key))et=_e[$.key===HOME_KEY?0:_e.length-1];else{const tt=[ARROW_RIGHT_KEY,ARROW_DOWN_KEY].includes($.key);et=getNextActiveElement(_e,$.target,tt,!0)}et&&(et.focus({preventScroll:!0}),Wr.getOrCreateInstance(et).show())}_getChildren(){return SelectorEngine.find(SELECTOR_INNER_ELEM,this._parent)}_getActiveElem(){return this._getChildren().find($=>this._elemIsActive($))||null}_setInitialAttributes($,_e){this._setAttributeIfNotExists($,"role","tablist");for(const et of _e)this._setInitialAttributesOnChild(et)}_setInitialAttributesOnChild($){$=this._getInnerElement($);const _e=this._elemIsActive($),et=this._getOuterElement($);$.setAttribute("aria-selected",_e),et!==$&&this._setAttributeIfNotExists(et,"role","presentation"),_e||$.setAttribute("tabindex","-1"),this._setAttributeIfNotExists($,"role","tab"),this._setInitialAttributesOnTargetPanel($)}_setInitialAttributesOnTargetPanel($){const _e=SelectorEngine.getElementFromSelector($);_e&&(this._setAttributeIfNotExists(_e,"role","tabpanel"),$.id&&this._setAttributeIfNotExists(_e,"aria-labelledby",`${$.id}`))}_toggleDropDown($,_e){const et=this._getOuterElement($);if(!et.classList.contains(CLASS_DROPDOWN))return;const tt=(nt,rt)=>{const ot=SelectorEngine.findOne(nt,et);ot&&ot.classList.toggle(rt,_e)};tt(SELECTOR_DROPDOWN_TOGGLE,CLASS_NAME_ACTIVE),tt(SELECTOR_DROPDOWN_MENU,CLASS_NAME_SHOW$1),et.setAttribute("aria-expanded",_e)}_setAttributeIfNotExists($,_e,et){$.hasAttribute(_e)||$.setAttribute(_e,et)}_elemIsActive($){return $.classList.contains(CLASS_NAME_ACTIVE)}_getInnerElement($){return $.matches(SELECTOR_INNER_ELEM)?$:SelectorEngine.findOne(SELECTOR_INNER_ELEM,$)}_getOuterElement($){return $.closest(SELECTOR_OUTER)||$}static jQueryInterface($){return this.each(function(){const _e=Wr.getOrCreateInstance(this);if(typeof $=="string"){if(_e[$]===void 0||$.startsWith("_")||$==="constructor")throw new TypeError(`No method named "${$}"`);_e[$]()}})}};EventHandler.on(document,EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,function(b){["A","AREA"].includes(this.tagName)&&b.preventDefault(),!isDisabled(this)&&Tab$2.getOrCreateInstance(this).show()});EventHandler.on(window,EVENT_LOAD_DATA_API,()=>{for(const b of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE))Tab$2.getOrCreateInstance(b)});defineJQueryPlugin(Tab$2);const NAME="toast",DATA_KEY="bs.toast",EVENT_KEY=`.${DATA_KEY}`,EVENT_MOUSEOVER=`mouseover${EVENT_KEY}`,EVENT_MOUSEOUT=`mouseout${EVENT_KEY}`,EVENT_FOCUSIN=`focusin${EVENT_KEY}`,EVENT_FOCUSOUT=`focusout${EVENT_KEY}`,EVENT_HIDE=`hide${EVENT_KEY}`,EVENT_HIDDEN=`hidden${EVENT_KEY}`,EVENT_SHOW=`show${EVENT_KEY}`,EVENT_SHOWN=`shown${EVENT_KEY}`,CLASS_NAME_FADE="fade",CLASS_NAME_HIDE="hide",CLASS_NAME_SHOW="show",CLASS_NAME_SHOWING="showing",DefaultType={animation:"boolean",autohide:"boolean",delay:"number"},Default={animation:!0,autohide:!0,delay:5e3};class Toast extends BaseComponent{constructor($,_e){super($,_e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME}show(){if(EventHandler.trigger(this._element,EVENT_SHOW).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(CLASS_NAME_FADE);const _e=()=>{this._element.classList.remove(CLASS_NAME_SHOWING),EventHandler.trigger(this._element,EVENT_SHOWN),this._maybeScheduleHide()};this._element.classList.remove(CLASS_NAME_HIDE),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW,CLASS_NAME_SHOWING),this._queueCallback(_e,this._element,this._config.animation)}hide(){if(!this.isShown()||EventHandler.trigger(this._element,EVENT_HIDE).defaultPrevented)return;const _e=()=>{this._element.classList.add(CLASS_NAME_HIDE),this._element.classList.remove(CLASS_NAME_SHOWING,CLASS_NAME_SHOW),EventHandler.trigger(this._element,EVENT_HIDDEN)};this._element.classList.add(CLASS_NAME_SHOWING),this._queueCallback(_e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(CLASS_NAME_SHOW),super.dispose()}isShown(){return this._element.classList.contains(CLASS_NAME_SHOW)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction($,_e){switch($.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=_e;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=_e;break}}if(_e){this._clearTimeout();return}const et=$.relatedTarget;this._element===et||this._element.contains(et)||this._maybeScheduleHide()}_setListeners(){EventHandler.on(this._element,EVENT_MOUSEOVER,$=>this._onInteraction($,!0)),EventHandler.on(this._element,EVENT_MOUSEOUT,$=>this._onInteraction($,!1)),EventHandler.on(this._element,EVENT_FOCUSIN,$=>this._onInteraction($,!0)),EventHandler.on(this._element,EVENT_FOCUSOUT,$=>this._onInteraction($,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface($){return this.each(function(){const _e=Toast.getOrCreateInstance(this,$);if(typeof $=="string"){if(typeof _e[$]>"u")throw new TypeError(`No method named "${$}"`);_e[$](this)}})}}enableDismissTrigger(Toast);defineJQueryPlugin(Toast);var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(b){(function(){var $={}.hasOwnProperty;function _e(){for(var nt="",rt=0;rt<arguments.length;rt++){var ot=arguments[rt];ot&&(nt=tt(nt,et(ot)))}return nt}function et(nt){if(typeof nt=="string"||typeof nt=="number")return nt;if(typeof nt!="object")return"";if(Array.isArray(nt))return _e.apply(null,nt);if(nt.toString!==Object.prototype.toString&&!nt.toString.toString().includes("[native code]"))return nt.toString();var rt="";for(var ot in nt)$.call(nt,ot)&&nt[ot]&&(rt=tt(rt,ot));return rt}function tt(nt,rt){return rt?nt?nt+" "+rt:nt+rt:nt}b.exports?(_e.default=_e,b.exports=_e):window.classNames=_e})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports);function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(b){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var et in _e)({}).hasOwnProperty.call(_e,et)&&(b[et]=_e[et])}return b},_extends$5.apply(null,arguments)}function _objectWithoutPropertiesLoose$b(b,$){if(b==null)return{};var _e={};for(var et in b)if({}.hasOwnProperty.call(b,et)){if($.indexOf(et)>=0)continue;_e[et]=b[et]}return _e}function defaultKey(b){return"default"+b.charAt(0).toUpperCase()+b.substr(1)}function _toPropertyKey$1(b){var $=_toPrimitive$1(b,"string");return typeof $=="symbol"?$:String($)}function _toPrimitive$1(b,$){if(typeof b!="object"||b===null)return b;var _e=b[Symbol.toPrimitive];if(_e!==void 0){var et=_e.call(b,$);if(typeof et!="object")return et;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}function useUncontrolledProp$1(b,$,_e){var et=reactExports.useRef(b!==void 0),tt=reactExports.useState($),nt=tt[0],rt=tt[1],ot=b!==void 0,st=et.current;return et.current=ot,!ot&&st&&nt!==$&&rt($),[ot?b:nt,reactExports.useCallback(function(ct){for(var lt=arguments.length,at=new Array(lt>1?lt-1:0),it=1;it<lt;it++)at[it-1]=arguments[it];_e&&_e.apply(void 0,[ct].concat(at)),rt(ct)},[_e])]}function useUncontrolled(b,$){return Object.keys($).reduce(function(_e,et){var tt,nt=_e,rt=nt[defaultKey(et)],ot=nt[et],st=_objectWithoutPropertiesLoose$b(nt,[defaultKey(et),et].map(_toPropertyKey$1)),ct=$[et],lt=useUncontrolledProp$1(ot,rt,b[ct]),at=lt[0],it=lt[1];return _extends$5({},st,(tt={},tt[et]=at,tt[ct]=it,tt))},b)}function _setPrototypeOf$2(b,$){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_e,et){return _e.__proto__=et,_e},_setPrototypeOf$2(b,$)}function _inheritsLoose$1(b,$){b.prototype=Object.create($.prototype),b.prototype.constructor=b,_setPrototypeOf$2(b,$)}const DEFAULT_BREAKPOINTS=["xxl","xl","lg","md","sm","xs"],DEFAULT_MIN_BREAKPOINT="xs",ThemeContext=reactExports.createContext({prefixes:{},breakpoints:DEFAULT_BREAKPOINTS,minBreakpoint:DEFAULT_MIN_BREAKPOINT});function useBootstrapPrefix(b,$){const{prefixes:_e}=reactExports.useContext(ThemeContext);return b||_e[$]||$}function useBootstrapBreakpoints(){const{breakpoints:b}=reactExports.useContext(ThemeContext);return b}function useBootstrapMinBreakpoint(){const{minBreakpoint:b}=reactExports.useContext(ThemeContext);return b}function useIsRTL(){const{dir:b}=reactExports.useContext(ThemeContext);return b==="rtl"}function ownerDocument(b){return b&&b.ownerDocument||document}function ownerWindow(b){var $=ownerDocument(b);return $&&$.defaultView||window}function getComputedStyle$2(b,$){return ownerWindow(b).getComputedStyle(b,$)}var rUpper=/([A-Z])/g;function hyphenate(b){return b.replace(rUpper,"-$1").toLowerCase()}var msPattern=/^ms-/;function hyphenateStyleName(b){return hyphenate(b).replace(msPattern,"-ms-")}var supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function isTransform(b){return!!(b&&supportedTransforms.test(b))}function style(b,$){var _e="",et="";if(typeof $=="string")return b.style.getPropertyValue(hyphenateStyleName($))||getComputedStyle$2(b).getPropertyValue(hyphenateStyleName($));Object.keys($).forEach(function(tt){var nt=$[tt];!nt&&nt!==0?b.style.removeProperty(hyphenateStyleName(tt)):isTransform(tt)?et+=tt+"("+nt+") ":_e+=hyphenateStyleName(tt)+": "+nt+";"}),et&&(_e+="transform: "+et+";"),b.style.cssText+=";"+_e}var propTypes$4={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function b(et,tt,nt,rt,ot,st){if(st!==ReactPropTypesSecret){var ct=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ct.name="Invariant Violation",ct}}b.isRequired=b;function $(){return b}var _e={array:b,bigint:b,bool:b,func:b,number:b,object:b,string:b,symbol:b,any:b,arrayOf:$,element:b,elementType:b,instanceOf:$,node:b,objectOf:$,oneOf:$,oneOfType:$,shape:$,exact:$,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return _e.PropTypes=_e,_e};propTypes$4.exports=factoryWithThrowingShims();var propTypesExports=propTypes$4.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports),config$1={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function($){return $.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition$1=function(b){_inheritsLoose$1($,b);function $(et,tt){var nt;nt=b.call(this,et,tt)||this;var rt=tt,ot=rt&&!rt.isMounting?et.enter:et.appear,st;return nt.appearStatus=null,et.in?ot?(st=EXITED,nt.appearStatus=ENTERING):st=ENTERED:et.unmountOnExit||et.mountOnEnter?st=UNMOUNTED:st=EXITED,nt.state={status:st},nt.nextCallback=null,nt}$.getDerivedStateFromProps=function(tt,nt){var rt=tt.in;return rt&&nt.status===UNMOUNTED?{status:EXITED}:null};var _e=$.prototype;return _e.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},_e.componentDidUpdate=function(tt){var nt=null;if(tt!==this.props){var rt=this.state.status;this.props.in?rt!==ENTERING&&rt!==ENTERED&&(nt=ENTERING):(rt===ENTERING||rt===ENTERED)&&(nt=EXITING)}this.updateStatus(!1,nt)},_e.componentWillUnmount=function(){this.cancelNextCallback()},_e.getTimeouts=function(){var tt=this.props.timeout,nt,rt,ot;return nt=rt=ot=tt,tt!=null&&typeof tt!="number"&&(nt=tt.exit,rt=tt.enter,ot=tt.appear!==void 0?tt.appear:rt),{exit:nt,enter:rt,appear:ot}},_e.updateStatus=function(tt,nt){if(tt===void 0&&(tt=!1),nt!==null)if(this.cancelNextCallback(),nt===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var rt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);rt&&forceReflow(rt)}this.performEnter(tt)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},_e.performEnter=function(tt){var nt=this,rt=this.props.enter,ot=this.context?this.context.isMounting:tt,st=this.props.nodeRef?[ot]:[ReactDOM.findDOMNode(this),ot],ct=st[0],lt=st[1],at=this.getTimeouts(),it=ot?at.appear:at.enter;if(!tt&&!rt||config$1.disabled){this.safeSetState({status:ENTERED},function(){nt.props.onEntered(ct)});return}this.props.onEnter(ct,lt),this.safeSetState({status:ENTERING},function(){nt.props.onEntering(ct,lt),nt.onTransitionEnd(it,function(){nt.safeSetState({status:ENTERED},function(){nt.props.onEntered(ct,lt)})})})},_e.performExit=function(){var tt=this,nt=this.props.exit,rt=this.getTimeouts(),ot=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!nt||config$1.disabled){this.safeSetState({status:EXITED},function(){tt.props.onExited(ot)});return}this.props.onExit(ot),this.safeSetState({status:EXITING},function(){tt.props.onExiting(ot),tt.onTransitionEnd(rt.exit,function(){tt.safeSetState({status:EXITED},function(){tt.props.onExited(ot)})})})},_e.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},_e.safeSetState=function(tt,nt){nt=this.setNextCallback(nt),this.setState(tt,nt)},_e.setNextCallback=function(tt){var nt=this,rt=!0;return this.nextCallback=function(ot){rt&&(rt=!1,nt.nextCallback=null,tt(ot))},this.nextCallback.cancel=function(){rt=!1},this.nextCallback},_e.onTransitionEnd=function(tt,nt){this.setNextCallback(nt);var rt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),ot=tt==null&&!this.props.addEndListener;if(!rt||ot){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var st=this.props.nodeRef?[this.nextCallback]:[rt,this.nextCallback],ct=st[0],lt=st[1];this.props.addEndListener(ct,lt)}tt!=null&&setTimeout(this.nextCallback,tt)},_e.render=function(){var tt=this.state.status;if(tt===UNMOUNTED)return null;var nt=this.props,rt=nt.children;nt.in,nt.mountOnEnter,nt.unmountOnExit,nt.appear,nt.enter,nt.exit,nt.timeout,nt.addEndListener,nt.onEnter,nt.onEntering,nt.onEntered,nt.onExit,nt.onExiting,nt.onExited,nt.nodeRef;var ot=_objectWithoutPropertiesLoose$b(nt,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof rt=="function"?rt(tt,ot):React.cloneElement(React.Children.only(rt),ot))},$}(React.Component);Transition$1.contextType=TransitionGroupContext;Transition$1.propTypes={};function noop$8(){}Transition$1.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$8,onEntering:noop$8,onEntered:noop$8,onExit:noop$8,onExiting:noop$8,onExited:noop$8};Transition$1.UNMOUNTED=UNMOUNTED;Transition$1.EXITED=EXITED;Transition$1.ENTERING=ENTERING;Transition$1.ENTERED=ENTERED;Transition$1.EXITING=EXITING;const canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);var optionsSupported=!1,onceSupported=!1;try{var options={get passive(){return optionsSupported=!0},get once(){return onceSupported=optionsSupported=!0}};canUseDOM&&(window.addEventListener("test",options,options),window.removeEventListener("test",options,!0))}catch{}function addEventListener(b,$,_e,et){if(et&&typeof et!="boolean"&&!onceSupported){var tt=et.once,nt=et.capture,rt=_e;!onceSupported&&tt&&(rt=_e.__once||function ot(st){this.removeEventListener($,ot,nt),_e.call(this,st)},_e.__once=rt),b.addEventListener($,rt,optionsSupported?et:nt)}b.addEventListener($,_e,et)}function removeEventListener(b,$,_e,et){var tt=et&&typeof et!="boolean"?et.capture:et;b.removeEventListener($,_e,tt),_e.__once&&b.removeEventListener($,_e.__once,tt)}function listen(b,$,_e,et){return addEventListener(b,$,_e,et),function(){removeEventListener(b,$,_e,et)}}function triggerEvent(b,$,_e,et){if(et===void 0&&(et=!0),b){var tt=document.createEvent("HTMLEvents");tt.initEvent($,_e,et),b.dispatchEvent(tt)}}function parseDuration$1(b){var $=style(b,"transitionDuration")||"",_e=$.indexOf("ms")===-1?1e3:1;return parseFloat($)*_e}function emulateTransitionEnd(b,$,_e){_e===void 0&&(_e=5);var et=!1,tt=setTimeout(function(){et||triggerEvent(b,"transitionend",!0)},$+_e),nt=listen(b,"transitionend",function(){et=!0},{once:!0});return function(){clearTimeout(tt),nt()}}function transitionEnd(b,$,_e,et){_e==null&&(_e=parseDuration$1(b)||0);var tt=emulateTransitionEnd(b,_e,et),nt=listen(b,"transitionend",$);return function(){tt(),nt()}}function parseDuration(b,$){const _e=style(b,$)||"",et=_e.indexOf("ms")===-1?1e3:1;return parseFloat(_e)*et}function transitionEndListener(b,$){const _e=parseDuration(b,"transitionDuration"),et=parseDuration(b,"transitionDelay"),tt=transitionEnd(b,nt=>{nt.target===b&&(tt(),$(nt))},_e+et)}function createChainedFunction(...b){return b.filter($=>$!=null).reduce(($,_e)=>{if(typeof _e!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return $===null?_e:function(...tt){$.apply(this,tt),_e.apply(this,tt)}},null)}function triggerBrowserReflow(b){b.offsetHeight}const toFnRef=b=>!b||typeof b=="function"?b:$=>{b.current=$};function mergeRefs(b,$){const _e=toFnRef(b),et=toFnRef($);return tt=>{_e&&_e(tt),et&&et(tt)}}function useMergedRefs(b,$){return reactExports.useMemo(()=>mergeRefs(b,$),[b,$])}function safeFindDOMNode(b){return b&&"setState"in b?ReactDOM.findDOMNode(b):b??null}const TransitionWrapper=React.forwardRef(({onEnter:b,onEntering:$,onEntered:_e,onExit:et,onExiting:tt,onExited:nt,addEndListener:rt,children:ot,childRef:st,...ct},lt)=>{const at=reactExports.useRef(null),it=useMergedRefs(at,st),ut=bt=>{it(safeFindDOMNode(bt))},dt=bt=>xt=>{bt&&at.current&&bt(at.current,xt)},ht=reactExports.useCallback(dt(b),[b]),ft=reactExports.useCallback(dt($),[$]),pt=reactExports.useCallback(dt(_e),[_e]),mt=reactExports.useCallback(dt(et),[et]),gt=reactExports.useCallback(dt(tt),[tt]),vt=reactExports.useCallback(dt(nt),[nt]),yt=reactExports.useCallback(dt(rt),[rt]);return jsxRuntimeExports.jsx(Transition$1,{ref:lt,...ct,onEnter:ht,onEntered:pt,onEntering:ft,onExit:mt,onExited:vt,onExiting:gt,addEndListener:yt,nodeRef:at,children:typeof ot=="function"?(bt,xt)=>ot(bt,{...xt,ref:ut}):React.cloneElement(ot,{ref:ut})})}),MARGINS={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function getDefaultDimensionValue(b,$){const _e=`offset${b[0].toUpperCase()}${b.slice(1)}`,et=$[_e],tt=MARGINS[b];return et+parseInt(style($,tt[0]),10)+parseInt(style($,tt[1]),10)}const collapseStyles={[EXITED]:"collapse",[EXITING]:"collapsing",[ENTERING]:"collapsing",[ENTERED]:"collapse show"},Collapse=React.forwardRef(({onEnter:b,onEntering:$,onEntered:_e,onExit:et,onExiting:tt,className:nt,children:rt,dimension:ot="height",in:st=!1,timeout:ct=300,mountOnEnter:lt=!1,unmountOnExit:at=!1,appear:it=!1,getDimensionValue:ut=getDefaultDimensionValue,...dt},ht)=>{const ft=typeof ot=="function"?ot():ot,pt=reactExports.useMemo(()=>createChainedFunction(bt=>{bt.style[ft]="0"},b),[ft,b]),mt=reactExports.useMemo(()=>createChainedFunction(bt=>{const xt=`scroll${ft[0].toUpperCase()}${ft.slice(1)}`;bt.style[ft]=`${bt[xt]}px`},$),[ft,$]),gt=reactExports.useMemo(()=>createChainedFunction(bt=>{bt.style[ft]=null},_e),[ft,_e]),vt=reactExports.useMemo(()=>createChainedFunction(bt=>{bt.style[ft]=`${ut(ft,bt)}px`,triggerBrowserReflow(bt)},et),[et,ut,ft]),yt=reactExports.useMemo(()=>createChainedFunction(bt=>{bt.style[ft]=null},tt),[ft,tt]);return jsxRuntimeExports.jsx(TransitionWrapper,{ref:ht,addEndListener:transitionEndListener,...dt,"aria-expanded":dt.role?st:null,onEnter:pt,onEntering:mt,onEntered:gt,onExit:vt,onExiting:yt,childRef:rt.ref,in:st,timeout:ct,mountOnEnter:lt,unmountOnExit:at,appear:it,children:(bt,xt)=>React.cloneElement(rt,{...xt,className:classNames(nt,rt.props.className,collapseStyles[bt],ft==="width"&&"collapse-horizontal")})})});function isAccordionItemSelected(b,$){return Array.isArray(b)?b.includes($):b===$}const context$3=reactExports.createContext({});context$3.displayName="AccordionContext";const AccordionCollapse=reactExports.forwardRef(({as:b="div",bsPrefix:$,className:_e,children:et,eventKey:tt,...nt},rt)=>{const{activeEventKey:ot}=reactExports.useContext(context$3);return $=useBootstrapPrefix($,"accordion-collapse"),jsxRuntimeExports.jsx(Collapse,{ref:rt,in:isAccordionItemSelected(ot,tt),...nt,className:classNames(_e,$),children:jsxRuntimeExports.jsx(b,{children:reactExports.Children.only(et)})})});AccordionCollapse.displayName="AccordionCollapse";const context$2=reactExports.createContext({eventKey:""});context$2.displayName="AccordionItemContext";const AccordionBody=reactExports.forwardRef(({as:b="div",bsPrefix:$,className:_e,onEnter:et,onEntering:tt,onEntered:nt,onExit:rt,onExiting:ot,onExited:st,...ct},lt)=>{$=useBootstrapPrefix($,"accordion-body");const{eventKey:at}=reactExports.useContext(context$2);return jsxRuntimeExports.jsx(AccordionCollapse,{eventKey:at,onEnter:et,onEntering:tt,onEntered:nt,onExit:rt,onExiting:ot,onExited:st,children:jsxRuntimeExports.jsx(b,{ref:lt,...ct,className:classNames(_e,$)})})});AccordionBody.displayName="AccordionBody";function useAccordionButton(b,$){const{activeEventKey:_e,onSelect:et,alwaysOpen:tt}=reactExports.useContext(context$3);return nt=>{let rt=b===_e?null:b;tt&&(Array.isArray(_e)?_e.includes(b)?rt=_e.filter(ot=>ot!==b):rt=[..._e,b]:rt=[b]),et==null||et(rt,nt),$==null||$(nt)}}const AccordionButton=reactExports.forwardRef(({as:b="button",bsPrefix:$,className:_e,onClick:et,...tt},nt)=>{$=useBootstrapPrefix($,"accordion-button");const{eventKey:rt}=reactExports.useContext(context$2),ot=useAccordionButton(rt,et),{activeEventKey:st}=reactExports.useContext(context$3);return b==="button"&&(tt.type="button"),jsxRuntimeExports.jsx(b,{ref:nt,onClick:ot,...tt,"aria-expanded":Array.isArray(st)?st.includes(rt):rt===st,className:classNames(_e,$,!isAccordionItemSelected(st,rt)&&"collapsed")})});AccordionButton.displayName="AccordionButton";const AccordionHeader=reactExports.forwardRef(({as:b="h2",bsPrefix:$,className:_e,children:et,onClick:tt,...nt},rt)=>($=useBootstrapPrefix($,"accordion-header"),jsxRuntimeExports.jsx(b,{ref:rt,...nt,className:classNames(_e,$),children:jsxRuntimeExports.jsx(AccordionButton,{onClick:tt,children:et})})));AccordionHeader.displayName="AccordionHeader";const AccordionItem=reactExports.forwardRef(({as:b="div",bsPrefix:$,className:_e,eventKey:et,...tt},nt)=>{$=useBootstrapPrefix($,"accordion-item");const rt=reactExports.useMemo(()=>({eventKey:et}),[et]);return jsxRuntimeExports.jsx(context$2.Provider,{value:rt,children:jsxRuntimeExports.jsx(b,{ref:nt,...tt,className:classNames(_e,$)})})});AccordionItem.displayName="AccordionItem";const Accordion=reactExports.forwardRef((b,$)=>{const{as:_e="div",activeKey:et,bsPrefix:tt,className:nt,onSelect:rt,flush:ot,alwaysOpen:st,...ct}=useUncontrolled(b,{activeKey:"onSelect"}),lt=useBootstrapPrefix(tt,"accordion"),at=reactExports.useMemo(()=>({activeEventKey:et,onSelect:rt,alwaysOpen:st}),[et,rt,st]);return jsxRuntimeExports.jsx(context$3.Provider,{value:at,children:jsxRuntimeExports.jsx(_e,{ref:$,...ct,className:classNames(nt,lt,ot&&`${lt}-flush`)})})});Accordion.displayName="Accordion";const Accordion$1=Object.assign(Accordion,{Button:AccordionButton,Collapse:AccordionCollapse,Item:AccordionItem,Header:AccordionHeader,Body:AccordionBody});function useCommittedRef(b){const $=reactExports.useRef(b);return reactExports.useEffect(()=>{$.current=b},[b]),$}function useEventCallback(b){const $=useCommittedRef(b);return reactExports.useCallback(function(..._e){return $.current&&$.current(..._e)},[$])}const divWithClassName=b=>reactExports.forwardRef(($,_e)=>jsxRuntimeExports.jsx("div",{...$,ref:_e,className:classNames($.className,b)}));function useCallbackRef(){return reactExports.useState(null)}function useMounted(){const b=reactExports.useRef(!0),$=reactExports.useRef(()=>b.current);return reactExports.useEffect(()=>(b.current=!0,()=>{b.current=!1}),[]),$.current}function usePrevious(b){const $=reactExports.useRef(null);return reactExports.useEffect(()=>{$.current=b}),$.current}const isReactNative=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",isDOM=typeof document<"u",useIsomorphicEffect=isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,_excluded$a=["as","disabled"];function _objectWithoutPropertiesLoose$a(b,$){if(b==null)return{};var _e={},et=Object.keys(b),tt,nt;for(nt=0;nt<et.length;nt++)tt=et[nt],!($.indexOf(tt)>=0)&&(_e[tt]=b[tt]);return _e}function isTrivialHref$1(b){return!b||b.trim()==="#"}function useButtonProps({tagName:b,disabled:$,href:_e,target:et,rel:tt,role:nt,onClick:rt,tabIndex:ot=0,type:st}){b||(_e!=null||et!=null||tt!=null?b="a":b="button");const ct={tagName:b};if(b==="button")return[{type:st||"button",disabled:$},ct];const lt=it=>{if(($||b==="a"&&isTrivialHref$1(_e))&&it.preventDefault(),$){it.stopPropagation();return}rt==null||rt(it)},at=it=>{it.key===" "&&(it.preventDefault(),lt(it))};return b==="a"&&(_e||(_e="#"),$&&(_e=void 0)),[{role:nt??"button",disabled:void 0,tabIndex:$?void 0:ot,href:_e,target:b==="a"?et:void 0,"aria-disabled":$||void 0,rel:b==="a"?tt:void 0,onClick:lt,onKeyDown:at},ct]}const Button$1=reactExports.forwardRef((b,$)=>{let{as:_e,disabled:et}=b,tt=_objectWithoutPropertiesLoose$a(b,_excluded$a);const[nt,{tagName:rt}]=useButtonProps(Object.assign({tagName:_e,disabled:et},tt));return jsxRuntimeExports.jsx(rt,Object.assign({},tt,nt,{ref:$}))});Button$1.displayName="Button";const _excluded$9=["onKeyDown"];function _objectWithoutPropertiesLoose$9(b,$){if(b==null)return{};var _e={},et=Object.keys(b),tt,nt;for(nt=0;nt<et.length;nt++)tt=et[nt],!($.indexOf(tt)>=0)&&(_e[tt]=b[tt]);return _e}function isTrivialHref(b){return!b||b.trim()==="#"}const Anchor=reactExports.forwardRef((b,$)=>{let{onKeyDown:_e}=b,et=_objectWithoutPropertiesLoose$9(b,_excluded$9);const[tt]=useButtonProps(Object.assign({tagName:"a"},et)),nt=useEventCallback(rt=>{tt.onKeyDown(rt),_e==null||_e(rt)});return isTrivialHref(et.href)||et.role==="button"?jsxRuntimeExports.jsx("a",Object.assign({ref:$},et,tt,{onKeyDown:nt})):jsxRuntimeExports.jsx("a",Object.assign({ref:$},et,{onKeyDown:_e}))});Anchor.displayName="Anchor";const fadeStyles={[ENTERING]:"show",[ENTERED]:"show"},Fade=reactExports.forwardRef(({className:b,children:$,transitionClasses:_e={},onEnter:et,...tt},nt)=>{const rt={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...tt},ot=reactExports.useCallback((st,ct)=>{triggerBrowserReflow(st),et==null||et(st,ct)},[et]);return jsxRuntimeExports.jsx(TransitionWrapper,{ref:nt,addEndListener:transitionEndListener,...rt,onEnter:ot,childRef:$.ref,children:(st,ct)=>reactExports.cloneElement($,{...ct,className:classNames("fade",b,$.props.className,fadeStyles[st],_e[st])})})});Fade.displayName="Fade";const propTypes$3={"aria-label":PropTypes.string,onClick:PropTypes.func,variant:PropTypes.oneOf(["white"])},CloseButton=reactExports.forwardRef(({className:b,variant:$,"aria-label":_e="Close",...et},tt)=>jsxRuntimeExports.jsx("button",{ref:tt,type:"button",className:classNames("btn-close",$&&`btn-close-${$}`,b),"aria-label":_e,...et}));CloseButton.displayName="CloseButton";CloseButton.propTypes=propTypes$3;const Badge=reactExports.forwardRef(({bsPrefix:b,bg:$="primary",pill:_e=!1,text:et,className:tt,as:nt="span",...rt},ot)=>{const st=useBootstrapPrefix(b,"badge");return jsxRuntimeExports.jsx(nt,{ref:ot,...rt,className:classNames(tt,st,_e&&"rounded-pill",et&&`text-${et}`,$&&`bg-${$}`)})});Badge.displayName="Badge";const Button=reactExports.forwardRef(({as:b,bsPrefix:$,variant:_e="primary",size:et,active:tt=!1,disabled:nt=!1,className:rt,...ot},st)=>{const ct=useBootstrapPrefix($,"btn"),[lt,{tagName:at}]=useButtonProps({tagName:b,disabled:nt,...ot}),it=at;return jsxRuntimeExports.jsx(it,{...lt,...ot,ref:st,disabled:nt,className:classNames(rt,ct,tt&&"active",_e&&`${ct}-${_e}`,et&&`${ct}-${et}`,ot.href&&nt&&"disabled")})});Button.displayName="Button";const ButtonGroup=reactExports.forwardRef(({bsPrefix:b,size:$,vertical:_e=!1,className:et,role:tt="group",as:nt="div",...rt},ot)=>{const st=useBootstrapPrefix(b,"btn-group");let ct=st;return _e&&(ct=`${st}-vertical`),jsxRuntimeExports.jsx(nt,{...rt,ref:ot,role:tt,className:classNames(et,ct,$&&`${st}-${$}`)})});ButtonGroup.displayName="ButtonGroup";const context$1=reactExports.createContext(null);context$1.displayName="CardHeaderContext";function useUpdatedRef(b){const $=reactExports.useRef(b);return $.current=b,$}function useWillUnmount(b){const $=useUpdatedRef(b);reactExports.useEffect(()=>()=>$.current(),[])}function map$2(b,$){let _e=0;return reactExports.Children.map(b,et=>reactExports.isValidElement(et)?$(et,_e++):et)}function forEach$2(b,$){let _e=0;reactExports.Children.forEach(b,et=>{reactExports.isValidElement(et)&&$(et,_e++)})}function hasChildOfType(b,$){return reactExports.Children.toArray(b).some(_e=>reactExports.isValidElement(_e)&&_e.type===$)}function useCol({as:b,bsPrefix:$,className:_e,...et}){$=useBootstrapPrefix($,"col");const tt=useBootstrapBreakpoints(),nt=useBootstrapMinBreakpoint(),rt=[],ot=[];return tt.forEach(st=>{const ct=et[st];delete et[st];let lt,at,it;typeof ct=="object"&&ct!=null?{span:lt,offset:at,order:it}=ct:lt=ct;const ut=st!==nt?`-${st}`:"";lt&&rt.push(lt===!0?`${$}${ut}`:`${$}${ut}-${lt}`),it!=null&&ot.push(`order${ut}-${it}`),at!=null&&ot.push(`offset${ut}-${at}`)}),[{...et,className:classNames(_e,...rt,...ot)},{as:b,bsPrefix:$,spans:rt}]}const Col=reactExports.forwardRef((b,$)=>{const[{className:_e,...et},{as:tt="div",bsPrefix:nt,spans:rt}]=useCol(b);return jsxRuntimeExports.jsx(tt,{...et,ref:$,className:classNames(_e,!rt.length&&nt)})});Col.displayName="Col";var toArray$5=Function.prototype.bind.call(Function.prototype.call,[].slice);function qsa(b,$){return toArray$5(b.querySelectorAll($))}function useUncontrolledProp(b,$,_e){const et=reactExports.useRef(b!==void 0),[tt,nt]=reactExports.useState($),rt=b!==void 0,ot=et.current;return et.current=rt,!rt&&ot&&tt!==$&&nt($),[rt?b:tt,reactExports.useCallback((...st)=>{const[ct,...lt]=st;let at=_e==null?void 0:_e(ct,...lt);return nt(ct),at},[_e])]}function useForceUpdate(){const[,b]=reactExports.useReducer($=>!$,!1);return b}var has$1=Object.prototype.hasOwnProperty;function find$8(b,$,_e){for(_e of b.keys())if(dequal(_e,$))return _e}function dequal(b,$){var _e,et,tt;if(b===$)return!0;if(b&&$&&(_e=b.constructor)===$.constructor){if(_e===Date)return b.getTime()===$.getTime();if(_e===RegExp)return b.toString()===$.toString();if(_e===Array){if((et=b.length)===$.length)for(;et--&&dequal(b[et],$[et]););return et===-1}if(_e===Set){if(b.size!==$.size)return!1;for(et of b)if(tt=et,tt&&typeof tt=="object"&&(tt=find$8($,tt),!tt)||!$.has(tt))return!1;return!0}if(_e===Map){if(b.size!==$.size)return!1;for(et of b)if(tt=et[0],tt&&typeof tt=="object"&&(tt=find$8($,tt),!tt)||!dequal(et[1],$.get(tt)))return!1;return!0}if(_e===ArrayBuffer)b=new Uint8Array(b),$=new Uint8Array($);else if(_e===DataView){if((et=b.byteLength)===$.byteLength)for(;et--&&b.getInt8(et)===$.getInt8(et););return et===-1}if(ArrayBuffer.isView(b)){if((et=b.byteLength)===$.byteLength)for(;et--&&b[et]===$[et];);return et===-1}if(!_e||typeof b=="object"){et=0;for(_e in b)if(has$1.call(b,_e)&&++et&&!has$1.call($,_e)||!(_e in $)||!dequal(b[_e],$[_e]))return!1;return Object.keys($).length===et}}return b!==b&&$!==$}function useSafeState(b){const $=useMounted();return[b[0],reactExports.useCallback(_e=>{if($())return b[1](_e)},[$,b[1]])]}const createPopper=popperGenerator({defaultModifiers:[hide$1,popperOffsets$1,computeStyles$1,eventListeners,offset$5,flip$4,preventOverflow$1,arrow$5]}),_excluded$8=["enabled","placement","strategy","modifiers"];function _objectWithoutPropertiesLoose$8(b,$){if(b==null)return{};var _e={},et=Object.keys(b),tt,nt;for(nt=0;nt<et.length;nt++)tt=et[nt],!($.indexOf(tt)>=0)&&(_e[tt]=b[tt]);return _e}const disabledApplyStylesModifier={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},ariaDescribedByModifier={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:b})=>()=>{const{reference:$,popper:_e}=b.elements;if("removeAttribute"in $){const et=($.getAttribute("aria-describedby")||"").split(",").filter(tt=>tt.trim()!==_e.id);et.length?$.setAttribute("aria-describedby",et.join(",")):$.removeAttribute("aria-describedby")}},fn:({state:b})=>{var $;const{popper:_e,reference:et}=b.elements,tt=($=_e.getAttribute("role"))==null?void 0:$.toLowerCase();if(_e.id&&tt==="tooltip"&&"setAttribute"in et){const nt=et.getAttribute("aria-describedby");if(nt&&nt.split(",").indexOf(_e.id)!==-1)return;et.setAttribute("aria-describedby",nt?`${nt},${_e.id}`:_e.id)}}},EMPTY_MODIFIERS=[];function usePopper(b,$,_e={}){let{enabled:et=!0,placement:tt="bottom",strategy:nt="absolute",modifiers:rt=EMPTY_MODIFIERS}=_e,ot=_objectWithoutPropertiesLoose$8(_e,_excluded$8);const st=reactExports.useRef(rt),ct=reactExports.useRef(),lt=reactExports.useCallback(()=>{var ft;(ft=ct.current)==null||ft.update()},[]),at=reactExports.useCallback(()=>{var ft;(ft=ct.current)==null||ft.forceUpdate()},[]),[it,ut]=useSafeState(reactExports.useState({placement:tt,update:lt,forceUpdate:at,attributes:{},styles:{popper:{},arrow:{}}})),dt=reactExports.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:ft})=>{const pt={},mt={};Object.keys(ft.elements).forEach(gt=>{pt[gt]=ft.styles[gt],mt[gt]=ft.attributes[gt]}),ut({state:ft,styles:pt,attributes:mt,update:lt,forceUpdate:at,placement:ft.placement})}}),[lt,at,ut]),ht=reactExports.useMemo(()=>(dequal(st.current,rt)||(st.current=rt),st.current),[rt]);return reactExports.useEffect(()=>{!ct.current||!et||ct.current.setOptions({placement:tt,strategy:nt,modifiers:[...ht,dt,disabledApplyStylesModifier]})},[nt,tt,dt,et,ht]),reactExports.useEffect(()=>{if(!(!et||b==null||$==null))return ct.current=createPopper(b,$,Object.assign({},ot,{placement:tt,strategy:nt,modifiers:[...ht,ariaDescribedByModifier,dt]})),()=>{ct.current!=null&&(ct.current.destroy(),ct.current=void 0,ut(ft=>Object.assign({},ft,{attributes:{},styles:{popper:{}}})))}},[et,b,$]),it}function contains(b,$){if(b.contains)return b.contains($);if(b.compareDocumentPosition)return b===$||!!(b.compareDocumentPosition($)&16)}var warning$1=function(){},warning_1=warning$1;const warning$2=getDefaultExportFromCjs(warning_1),noop$7=()=>{};function isLeftClickEvent(b){return b.button===0}function isModifiedEvent$1(b){return!!(b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)}const getRefTarget=b=>b&&("current"in b?b.current:b),InitialTriggerEvents={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function useClickOutside(b,$=noop$7,{disabled:_e,clickTrigger:et="click"}={}){const tt=reactExports.useRef(!1),nt=reactExports.useRef(!1),rt=reactExports.useCallback(ct=>{const lt=getRefTarget(b);warning$2(!!lt,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),tt.current=!lt||isModifiedEvent$1(ct)||!isLeftClickEvent(ct)||!!contains(lt,ct.target)||nt.current,nt.current=!1},[b]),ot=useEventCallback(ct=>{const lt=getRefTarget(b);lt&&contains(lt,ct.target)&&(nt.current=!0)}),st=useEventCallback(ct=>{tt.current||$(ct)});reactExports.useEffect(()=>{var ct,lt;if(_e||b==null)return;const at=ownerDocument(getRefTarget(b)),it=at.defaultView||window;let ut=(ct=it.event)!=null?ct:(lt=it.parent)==null?void 0:lt.event,dt=null;InitialTriggerEvents[et]&&(dt=listen(at,InitialTriggerEvents[et],ot,!0));const ht=listen(at,et,rt,!0),ft=listen(at,et,mt=>{if(mt===ut){ut=void 0;return}st(mt)});let pt=[];return"ontouchstart"in at.documentElement&&(pt=[].slice.call(at.body.children).map(mt=>listen(mt,"mousemove",noop$7))),()=>{dt==null||dt(),ht(),ft(),pt.forEach(mt=>mt())}},[b,_e,et,rt,ot,st])}function toModifierMap(b){const $={};return Array.isArray(b)?(b==null||b.forEach(_e=>{$[_e.name]=_e}),$):b||$}function toModifierArray(b={}){return Array.isArray(b)?b:Object.keys(b).map($=>(b[$].name=$,b[$]))}function mergeOptionsWithPopperConfig({enabled:b,enableEvents:$,placement:_e,flip:et,offset:tt,fixed:nt,containerPadding:rt,arrowElement:ot,popperConfig:st={}}){var ct,lt,at,it,ut;const dt=toModifierMap(st.modifiers);return Object.assign({},st,{placement:_e,enabled:b,strategy:nt?"fixed":st.strategy,modifiers:toModifierArray(Object.assign({},dt,{eventListeners:{enabled:$,options:(ct=dt.eventListeners)==null?void 0:ct.options},preventOverflow:Object.assign({},dt.preventOverflow,{options:rt?Object.assign({padding:rt},(lt=dt.preventOverflow)==null?void 0:lt.options):(at=dt.preventOverflow)==null?void 0:at.options}),offset:{options:Object.assign({offset:tt},(it=dt.offset)==null?void 0:it.options)},arrow:Object.assign({},dt.arrow,{enabled:!!ot,options:Object.assign({},(ut=dt.arrow)==null?void 0:ut.options,{element:ot})}),flip:Object.assign({enabled:!!et},dt.flip)}))})}const $b5e257d569688ac6$var$defaultContext={prefix:String(Math.round(Math.random()*1e10)),current:0},$b5e257d569688ac6$var$SSRContext=React.createContext($b5e257d569688ac6$var$defaultContext),$b5e257d569688ac6$var$IsSSRContext=React.createContext(!1);let $b5e257d569688ac6$var$canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),$b5e257d569688ac6$var$componentIds=new WeakMap;function $b5e257d569688ac6$var$useCounter(b=!1){let $=reactExports.useContext($b5e257d569688ac6$var$SSRContext),_e=reactExports.useRef(null);if(_e.current===null&&!b){var et,tt;let nt=(tt=React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||tt===void 0||(et=tt.ReactCurrentOwner)===null||et===void 0?void 0:et.current;if(nt){let rt=$b5e257d569688ac6$var$componentIds.get(nt);rt==null?$b5e257d569688ac6$var$componentIds.set(nt,{id:$.current,state:nt.memoizedState}):nt.memoizedState!==rt.state&&($.current=rt.id,$b5e257d569688ac6$var$componentIds.delete(nt))}_e.current=++$.current}return _e.current}function $b5e257d569688ac6$var$useLegacySSRSafeId(b){let $=reactExports.useContext($b5e257d569688ac6$var$SSRContext);$===$b5e257d569688ac6$var$defaultContext&&!$b5e257d569688ac6$var$canUseDOM&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let _e=$b5e257d569688ac6$var$useCounter(!!b),et=`react-aria${$.prefix}`;return b||`${et}-${_e}`}function $b5e257d569688ac6$var$useModernSSRSafeId(b){let $=React.useId(),[_e]=reactExports.useState($b5e257d569688ac6$export$535bd6ca7f90a273()),et=_e?"react-aria":`react-aria${$b5e257d569688ac6$var$defaultContext.prefix}`;return b||`${et}-${$}`}const $b5e257d569688ac6$export$619500959fc48b26=typeof React.useId=="function"?$b5e257d569688ac6$var$useModernSSRSafeId:$b5e257d569688ac6$var$useLegacySSRSafeId;function $b5e257d569688ac6$var$getSnapshot(){return!1}function $b5e257d569688ac6$var$getServerSnapshot(){return!0}function $b5e257d569688ac6$var$subscribe(b){return()=>{}}function $b5e257d569688ac6$export$535bd6ca7f90a273(){return typeof React.useSyncExternalStore=="function"?React.useSyncExternalStore($b5e257d569688ac6$var$subscribe,$b5e257d569688ac6$var$getSnapshot,$b5e257d569688ac6$var$getServerSnapshot):reactExports.useContext($b5e257d569688ac6$var$IsSSRContext)}const SelectableContext=reactExports.createContext(null),makeEventKey=(b,$=null)=>b!=null?String(b):$||null,SelectableContext$1=SelectableContext,NavContext=reactExports.createContext(null);NavContext.displayName="NavContext";const ATTRIBUTE_PREFIX="data-rr-ui-",PROPERTY_PREFIX="rrUi";function dataAttr(b){return`${ATTRIBUTE_PREFIX}${b}`}function dataProp(b){return`${PROPERTY_PREFIX}${b}`}const Context=reactExports.createContext(canUseDOM?window:void 0);Context.Provider;function useWindow(){return reactExports.useContext(Context)}const context=reactExports.createContext(null);context.displayName="NavbarContext";const propTypes$2={type:PropTypes.string,tooltip:PropTypes.bool,as:PropTypes.elementType},Feedback=reactExports.forwardRef(({as:b="div",className:$,type:_e="valid",tooltip:et=!1,...tt},nt)=>jsxRuntimeExports.jsx(b,{...tt,ref:nt,className:classNames($,`${_e}-${et?"tooltip":"feedback"}`)}));Feedback.displayName="Feedback";Feedback.propTypes=propTypes$2;const FormContext=reactExports.createContext({}),FormCheckInput=reactExports.forwardRef(({id:b,bsPrefix:$,className:_e,type:et="checkbox",isValid:tt=!1,isInvalid:nt=!1,as:rt="input",...ot},st)=>{const{controlId:ct}=reactExports.useContext(FormContext);return $=useBootstrapPrefix($,"form-check-input"),jsxRuntimeExports.jsx(rt,{...ot,ref:st,type:et,id:b||ct,className:classNames(_e,$,tt&&"is-valid",nt&&"is-invalid")})});FormCheckInput.displayName="FormCheckInput";const FormCheckLabel=reactExports.forwardRef(({bsPrefix:b,className:$,htmlFor:_e,...et},tt)=>{const{controlId:nt}=reactExports.useContext(FormContext);return b=useBootstrapPrefix(b,"form-check-label"),jsxRuntimeExports.jsx("label",{...et,ref:tt,htmlFor:_e||nt,className:classNames($,b)})});FormCheckLabel.displayName="FormCheckLabel";const FormCheck=reactExports.forwardRef(({id:b,bsPrefix:$,bsSwitchPrefix:_e,inline:et=!1,reverse:tt=!1,disabled:nt=!1,isValid:rt=!1,isInvalid:ot=!1,feedbackTooltip:st=!1,feedback:ct,feedbackType:lt,className:at,style:it,title:ut="",type:dt="checkbox",label:ht,children:ft,as:pt="input",...mt},gt)=>{$=useBootstrapPrefix($,"form-check"),_e=useBootstrapPrefix(_e,"form-switch");const{controlId:vt}=reactExports.useContext(FormContext),yt=reactExports.useMemo(()=>({controlId:b||vt}),[vt,b]),bt=!ft&&ht!=null&&ht!==!1||hasChildOfType(ft,FormCheckLabel),xt=jsxRuntimeExports.jsx(FormCheckInput,{...mt,type:dt==="switch"?"checkbox":dt,ref:gt,isValid:rt,isInvalid:ot,disabled:nt,as:pt});return jsxRuntimeExports.jsx(FormContext.Provider,{value:yt,children:jsxRuntimeExports.jsx("div",{style:it,className:classNames(at,bt&&$,et&&`${$}-inline`,tt&&`${$}-reverse`,dt==="switch"&&_e),children:ft||jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[xt,bt&&jsxRuntimeExports.jsx(FormCheckLabel,{title:ut,children:ht}),ct&&jsxRuntimeExports.jsx(Feedback,{type:lt,tooltip:st,children:ct})]})})})});FormCheck.displayName="FormCheck";const FormCheck$1=Object.assign(FormCheck,{Input:FormCheckInput,Label:FormCheckLabel}),FormControl=reactExports.forwardRef(({bsPrefix:b,type:$,size:_e,htmlSize:et,id:tt,className:nt,isValid:rt=!1,isInvalid:ot=!1,plaintext:st,readOnly:ct,as:lt="input",...at},it)=>{const{controlId:ut}=reactExports.useContext(FormContext);return b=useBootstrapPrefix(b,"form-control"),jsxRuntimeExports.jsx(lt,{...at,type:$,size:et,ref:it,readOnly:ct,id:tt||ut,className:classNames(nt,st?`${b}-plaintext`:b,_e&&`${b}-${_e}`,$==="color"&&`${b}-color`,rt&&"is-valid",ot&&"is-invalid")})});FormControl.displayName="FormControl";const FormControl$1=Object.assign(FormControl,{Feedback}),FormFloating=reactExports.forwardRef(({className:b,bsPrefix:$,as:_e="div",...et},tt)=>($=useBootstrapPrefix($,"form-floating"),jsxRuntimeExports.jsx(_e,{ref:tt,className:classNames(b,$),...et})));FormFloating.displayName="FormFloating";const FormGroup=reactExports.forwardRef(({controlId:b,as:$="div",..._e},et)=>{const tt=reactExports.useMemo(()=>({controlId:b}),[b]);return jsxRuntimeExports.jsx(FormContext.Provider,{value:tt,children:jsxRuntimeExports.jsx($,{..._e,ref:et})})});FormGroup.displayName="FormGroup";const FormLabel=reactExports.forwardRef(({as:b="label",bsPrefix:$,column:_e=!1,visuallyHidden:et=!1,className:tt,htmlFor:nt,...rt},ot)=>{const{controlId:st}=reactExports.useContext(FormContext);$=useBootstrapPrefix($,"form-label");let ct="col-form-label";typeof _e=="string"&&(ct=`${ct} ${ct}-${_e}`);const lt=classNames(tt,$,et&&"visually-hidden",_e&&ct);return nt=nt||st,_e?jsxRuntimeExports.jsx(Col,{ref:ot,as:"label",className:lt,htmlFor:nt,...rt}):jsxRuntimeExports.jsx(b,{ref:ot,className:lt,htmlFor:nt,...rt})});FormLabel.displayName="FormLabel";const FormRange=reactExports.forwardRef(({bsPrefix:b,className:$,id:_e,...et},tt)=>{const{controlId:nt}=reactExports.useContext(FormContext);return b=useBootstrapPrefix(b,"form-range"),jsxRuntimeExports.jsx("input",{...et,type:"range",ref:tt,className:classNames($,b),id:_e||nt})});FormRange.displayName="FormRange";const FormSelect=reactExports.forwardRef(({bsPrefix:b,size:$,htmlSize:_e,className:et,isValid:tt=!1,isInvalid:nt=!1,id:rt,...ot},st)=>{const{controlId:ct}=reactExports.useContext(FormContext);return b=useBootstrapPrefix(b,"form-select"),jsxRuntimeExports.jsx("select",{...ot,size:_e,ref:st,className:classNames(et,b,$&&`${b}-${$}`,tt&&"is-valid",nt&&"is-invalid"),id:rt||ct})});FormSelect.displayName="FormSelect";const FormText=reactExports.forwardRef(({bsPrefix:b,className:$,as:_e="small",muted:et,...tt},nt)=>(b=useBootstrapPrefix(b,"form-text"),jsxRuntimeExports.jsx(_e,{...tt,ref:nt,className:classNames($,b,et&&"text-muted")})));FormText.displayName="FormText";const Switch=reactExports.forwardRef((b,$)=>jsxRuntimeExports.jsx(FormCheck$1,{...b,ref:$,type:"switch"}));Switch.displayName="Switch";const Switch$1=Object.assign(Switch,{Input:FormCheck$1.Input,Label:FormCheck$1.Label}),FloatingLabel=reactExports.forwardRef(({bsPrefix:b,className:$,children:_e,controlId:et,label:tt,...nt},rt)=>(b=useBootstrapPrefix(b,"form-floating"),jsxRuntimeExports.jsxs(FormGroup,{ref:rt,className:classNames($,b),controlId:et,...nt,children:[_e,jsxRuntimeExports.jsx("label",{htmlFor:et,children:tt})]})));FloatingLabel.displayName="FloatingLabel";const propTypes$1={_ref:PropTypes.any,validated:PropTypes.bool,as:PropTypes.elementType},Form=reactExports.forwardRef(({className:b,validated:$,as:_e="form",...et},tt)=>jsxRuntimeExports.jsx(_e,{...et,ref:tt,className:classNames(b,$&&"was-validated")}));Form.displayName="Form";Form.propTypes=propTypes$1;const Form$1=Object.assign(Form,{Group:FormGroup,Control:FormControl$1,Floating:FormFloating,Check:FormCheck$1,Switch:Switch$1,Label:FormLabel,Text:FormText,Range:FormRange,Select:FormSelect,FloatingLabel}),TabContext=reactExports.createContext(null),_excluded$7=["as","active","eventKey"];function _objectWithoutPropertiesLoose$7(b,$){if(b==null)return{};var _e={},et=Object.keys(b),tt,nt;for(nt=0;nt<et.length;nt++)tt=et[nt],!($.indexOf(tt)>=0)&&(_e[tt]=b[tt]);return _e}function useNavItem({key:b,onClick:$,active:_e,id:et,role:tt,disabled:nt}){const rt=reactExports.useContext(SelectableContext$1),ot=reactExports.useContext(NavContext),st=reactExports.useContext(TabContext);let ct=_e;const lt={role:tt};if(ot){!tt&&ot.role==="tablist"&&(lt.role="tab");const at=ot.getControllerId(b??null),it=ot.getControlledId(b??null);lt[dataAttr("event-key")]=b,lt.id=at||et,ct=_e==null&&b!=null?ot.activeKey===b:_e,(ct||!(st!=null&&st.unmountOnExit)&&!(st!=null&&st.mountOnEnter))&&(lt["aria-controls"]=it)}return lt.role==="tab"&&(lt["aria-selected"]=ct,ct||(lt.tabIndex=-1),nt&&(lt.tabIndex=-1,lt["aria-disabled"]=!0)),lt.onClick=useEventCallback(at=>{nt||($==null||$(at),b!=null&&rt&&!at.isPropagationStopped()&&rt(b,at))}),[lt,{isActive:ct}]}const NavItem$1=reactExports.forwardRef((b,$)=>{let{as:_e=Button$1,active:et,eventKey:tt}=b,nt=_objectWithoutPropertiesLoose$7(b,_excluded$7);const[rt,ot]=useNavItem(Object.assign({key:makeEventKey(tt,nt.href),active:et},nt));return rt[dataAttr("active")]=ot.isActive,jsxRuntimeExports.jsx(_e,Object.assign({},nt,rt,{ref:$}))});NavItem$1.displayName="NavItem";const NavItem$2=NavItem$1,_excluded$6=["as","onSelect","activeKey","role","onKeyDown"];function _objectWithoutPropertiesLoose$6(b,$){if(b==null)return{};var _e={},et=Object.keys(b),tt,nt;for(nt=0;nt<et.length;nt++)tt=et[nt],!($.indexOf(tt)>=0)&&(_e[tt]=b[tt]);return _e}const noop$6=()=>{},EVENT_KEY_ATTR=dataAttr("event-key"),Nav$2=reactExports.forwardRef((b,$)=>{let{as:_e="div",onSelect:et,activeKey:tt,role:nt,onKeyDown:rt}=b,ot=_objectWithoutPropertiesLoose$6(b,_excluded$6);const st=useForceUpdate(),ct=reactExports.useRef(!1),lt=reactExports.useContext(SelectableContext$1),at=reactExports.useContext(TabContext);let it,ut;at&&(nt=nt||"tablist",tt=at.activeKey,it=at.getControlledId,ut=at.getControllerId);const dt=reactExports.useRef(null),ht=gt=>{const vt=dt.current;if(!vt)return null;const yt=qsa(vt,`[${EVENT_KEY_ATTR}]:not([aria-disabled=true])`),bt=vt.querySelector("[aria-selected=true]");if(!bt||bt!==document.activeElement)return null;const xt=yt.indexOf(bt);if(xt===-1)return null;let _t=xt+gt;return _t>=yt.length&&(_t=0),_t<0&&(_t=yt.length-1),yt[_t]},ft=(gt,vt)=>{gt!=null&&(et==null||et(gt,vt),lt==null||lt(gt,vt))},pt=gt=>{if(rt==null||rt(gt),!at)return;let vt;switch(gt.key){case"ArrowLeft":case"ArrowUp":vt=ht(-1);break;case"ArrowRight":case"ArrowDown":vt=ht(1);break;default:return}vt&&(gt.preventDefault(),ft(vt.dataset[dataProp("EventKey")]||null,gt),ct.current=!0,st())};reactExports.useEffect(()=>{if(dt.current&&ct.current){const gt=dt.current.querySelector(`[${EVENT_KEY_ATTR}][aria-selected=true]`);gt==null||gt.focus()}ct.current=!1});const mt=useMergedRefs($,dt);return jsxRuntimeExports.jsx(SelectableContext$1.Provider,{value:ft,children:jsxRuntimeExports.jsx(NavContext.Provider,{value:{role:nt,activeKey:makeEventKey(tt),getControlledId:it||noop$6,getControllerId:ut||noop$6},children:jsxRuntimeExports.jsx(_e,Object.assign({},ot,{onKeyDown:pt,ref:mt,role:nt}))})})});Nav$2.displayName="Nav";const BaseNav=Object.assign(Nav$2,{Item:NavItem$2}),ListGroupItem=reactExports.forwardRef(({bsPrefix:b,active:$,disabled:_e,eventKey:et,className:tt,variant:nt,action:rt,as:ot,...st},ct)=>{b=useBootstrapPrefix(b,"list-group-item");const[lt,at]=useNavItem({key:makeEventKey(et,st.href),active:$,...st}),it=useEventCallback(dt=>{if(_e){dt.preventDefault(),dt.stopPropagation();return}lt.onClick(dt)});_e&&st.tabIndex===void 0&&(st.tabIndex=-1,st["aria-disabled"]=!0);const ut=ot||(rt?st.href?"a":"button":"div");return jsxRuntimeExports.jsx(ut,{ref:ct,...st,...lt,onClick:it,className:classNames(tt,b,at.isActive&&"active",_e&&"disabled",nt&&`${b}-${nt}`,rt&&`${b}-action`)})});ListGroupItem.displayName="ListGroupItem";const ListGroup=reactExports.forwardRef((b,$)=>{const{className:_e,bsPrefix:et,variant:tt,horizontal:nt,numbered:rt,as:ot="div",...st}=useUncontrolled(b,{activeKey:"onSelect"}),ct=useBootstrapPrefix(et,"list-group");let lt;return nt&&(lt=nt===!0?"horizontal":`horizontal-${nt}`),jsxRuntimeExports.jsx(BaseNav,{ref:$,...st,as:ot,className:classNames(_e,ct,tt&&`${ct}-${tt}`,lt&&`${ct}-${lt}`,rt&&`${ct}-numbered`)})});ListGroup.displayName="ListGroup";const ListGroup$1=Object.assign(ListGroup,{Item:ListGroupItem});var size;function scrollbarSize(b){if((!size&&size!==0||b)&&canUseDOM){var $=document.createElement("div");$.style.position="absolute",$.style.top="-9999px",$.style.width="50px",$.style.height="50px",$.style.overflow="scroll",document.body.appendChild($),size=$.offsetWidth-$.clientWidth,document.body.removeChild($)}return size}function activeElement(b){b===void 0&&(b=ownerDocument());try{var $=b.activeElement;return!$||!$.nodeName?null:$}catch{return b.body}}function getBodyScrollbarWidth(b=document){const $=b.defaultView;return Math.abs($.innerWidth-b.documentElement.clientWidth)}const OPEN_DATA_ATTRIBUTE=dataAttr("modal-open");class ModalManager{constructor({ownerDocument:$,handleContainerOverflow:_e=!0,isRTL:et=!1}={}){this.handleContainerOverflow=_e,this.isRTL=et,this.modals=[],this.ownerDocument=$}getScrollbarWidth(){return getBodyScrollbarWidth(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes($){}removeModalAttributes($){}setContainerStyle($){const _e={overflow:"hidden"},et=this.isRTL?"paddingLeft":"paddingRight",tt=this.getElement();$.style={overflow:tt.style.overflow,[et]:tt.style[et]},$.scrollBarWidth&&(_e[et]=`${parseInt(style(tt,et)||"0",10)+$.scrollBarWidth}px`),tt.setAttribute(OPEN_DATA_ATTRIBUTE,""),style(tt,_e)}reset(){[...this.modals].forEach($=>this.remove($))}removeContainerStyle($){const _e=this.getElement();_e.removeAttribute(OPEN_DATA_ATTRIBUTE),Object.assign(_e.style,$.style)}add($){let _e=this.modals.indexOf($);return _e!==-1||(_e=this.modals.length,this.modals.push($),this.setModalAttributes($),_e!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),_e}remove($){const _e=this.modals.indexOf($);_e!==-1&&(this.modals.splice(_e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes($))}isTopModal($){return!!this.modals.length&&this.modals[this.modals.length-1]===$}}const resolveContainerRef=(b,$)=>canUseDOM?b==null?($||ownerDocument()).body:(typeof b=="function"&&(b=b()),b&&"current"in b&&(b=b.current),b&&("nodeType"in b||b.getBoundingClientRect)?b:null):null;function useWaitForDOMRef(b,$){const _e=useWindow(),[et,tt]=reactExports.useState(()=>resolveContainerRef(b,_e==null?void 0:_e.document));if(!et){const nt=resolveContainerRef(b);nt&&tt(nt)}return reactExports.useEffect(()=>{},[$,et]),reactExports.useEffect(()=>{const nt=resolveContainerRef(b);nt!==et&&tt(nt)},[b,et]),et}function NoopTransition({children:b,in:$,onExited:_e,mountOnEnter:et,unmountOnExit:tt}){const nt=reactExports.useRef(null),rt=reactExports.useRef($),ot=useEventCallback(_e);reactExports.useEffect(()=>{$?rt.current=!0:ot(nt.current)},[$,ot]);const st=useMergedRefs(nt,b.ref),ct=reactExports.cloneElement(b,{ref:st});return $?ct:tt||!rt.current&&et?null:ct}function isEscKey(b){return b.code==="Escape"||b.keyCode===27}function getReactVersion(){const b=reactExports.version.split(".");return{major:+b[0],minor:+b[1],patch:+b[2]}}const _excluded$5=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function _objectWithoutPropertiesLoose$5(b,$){if(b==null)return{};var _e={},et=Object.keys(b),tt,nt;for(nt=0;nt<et.length;nt++)tt=et[nt],!($.indexOf(tt)>=0)&&(_e[tt]=b[tt]);return _e}function useRTGTransitionProps(b){let{onEnter:$,onEntering:_e,onEntered:et,onExit:tt,onExiting:nt,onExited:rt,addEndListener:ot,children:st}=b,ct=_objectWithoutPropertiesLoose$5(b,_excluded$5);const{major:lt}=getReactVersion(),at=lt>=19?st.props.ref:st.ref,it=reactExports.useRef(null),ut=useMergedRefs(it,typeof st=="function"?null:at),dt=bt=>xt=>{bt&&it.current&&bt(it.current,xt)},ht=reactExports.useCallback(dt($),[$]),ft=reactExports.useCallback(dt(_e),[_e]),pt=reactExports.useCallback(dt(et),[et]),mt=reactExports.useCallback(dt(tt),[tt]),gt=reactExports.useCallback(dt(nt),[nt]),vt=reactExports.useCallback(dt(rt),[rt]),yt=reactExports.useCallback(dt(ot),[ot]);return Object.assign({},ct,{nodeRef:it},$&&{onEnter:ht},_e&&{onEntering:ft},et&&{onEntered:pt},tt&&{onExit:mt},nt&&{onExiting:gt},rt&&{onExited:vt},ot&&{addEndListener:yt},{children:typeof st=="function"?(bt,xt)=>st(bt,Object.assign({},xt,{ref:ut})):reactExports.cloneElement(st,{ref:ut})})}const _excluded$4=["component"];function _objectWithoutPropertiesLoose$4(b,$){if(b==null)return{};var _e={},et=Object.keys(b),tt,nt;for(nt=0;nt<et.length;nt++)tt=et[nt],!($.indexOf(tt)>=0)&&(_e[tt]=b[tt]);return _e}const RTGTransition=reactExports.forwardRef((b,$)=>{let{component:_e}=b,et=_objectWithoutPropertiesLoose$4(b,_excluded$4);const tt=useRTGTransitionProps(et);return jsxRuntimeExports.jsx(_e,Object.assign({ref:$},tt))});function useTransition({in:b,onTransition:$}){const _e=reactExports.useRef(null),et=reactExports.useRef(!0),tt=useEventCallback($);return useIsomorphicEffect(()=>{if(!_e.current)return;let nt=!1;return tt({in:b,element:_e.current,initial:et.current,isStale:()=>nt}),()=>{nt=!0}},[b,tt]),useIsomorphicEffect(()=>(et.current=!1,()=>{et.current=!0}),[]),_e}function ImperativeTransition({children:b,in:$,onExited:_e,onEntered:et,transition:tt}){const[nt,rt]=reactExports.useState(!$);$&&nt&&rt(!1);const ot=useTransition({in:!!$,onTransition:ct=>{const lt=()=>{ct.isStale()||(ct.in?et==null||et(ct.element,ct.initial):(rt(!0),_e==null||_e(ct.element)))};Promise.resolve(tt(ct)).then(lt,at=>{throw ct.in||rt(!0),at})}}),st=useMergedRefs(ot,b.ref);return nt&&!$?null:reactExports.cloneElement(b,{ref:st})}function renderTransition(b,$,_e){return b?jsxRuntimeExports.jsx(RTGTransition,Object.assign({},_e,{component:b})):$?jsxRuntimeExports.jsx(ImperativeTransition,Object.assign({},_e,{transition:$})):jsxRuntimeExports.jsx(NoopTransition,Object.assign({},_e))}const _excluded$3=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function _objectWithoutPropertiesLoose$3(b,$){if(b==null)return{};var _e={},et=Object.keys(b),tt,nt;for(nt=0;nt<et.length;nt++)tt=et[nt],!($.indexOf(tt)>=0)&&(_e[tt]=b[tt]);return _e}let manager;function getManager(b){return manager||(manager=new ModalManager({ownerDocument:b==null?void 0:b.document})),manager}function useModalManager(b){const $=useWindow(),_e=b||getManager($),et=reactExports.useRef({dialog:null,backdrop:null});return Object.assign(et.current,{add:()=>_e.add(et.current),remove:()=>_e.remove(et.current),isTopModal:()=>_e.isTopModal(et.current),setDialogRef:reactExports.useCallback(tt=>{et.current.dialog=tt},[]),setBackdropRef:reactExports.useCallback(tt=>{et.current.backdrop=tt},[])})}const Modal$3=reactExports.forwardRef((b,$)=>{let{show:_e=!1,role:et="dialog",className:tt,style:nt,children:rt,backdrop:ot=!0,keyboard:st=!0,onBackdropClick:ct,onEscapeKeyDown:lt,transition:at,runTransition:it,backdropTransition:ut,runBackdropTransition:dt,autoFocus:ht=!0,enforceFocus:ft=!0,restoreFocus:pt=!0,restoreFocusOptions:mt,renderDialog:gt,renderBackdrop:vt=on=>jsxRuntimeExports.jsx("div",Object.assign({},on)),manager:yt,container:bt,onShow:xt,onHide:_t=()=>{},onExit:wt,onExited:At,onExiting:Pt,onEnter:jt,onEntering:kt,onEntered:St}=b,Ct=_objectWithoutPropertiesLoose$3(b,_excluded$3);const Et=useWindow(),Tt=useWaitForDOMRef(bt),$t=useModalManager(yt),Ot=useMounted(),Rt=usePrevious(_e),[Nt,Ft]=reactExports.useState(!_e),Ht=reactExports.useRef(null);reactExports.useImperativeHandle($,()=>$t,[$t]),canUseDOM&&!Rt&&_e&&(Ht.current=activeElement(Et==null?void 0:Et.document)),_e&&Nt&&Ft(!1);const zt=useEventCallback(()=>{if($t.add(),vn.current=listen(document,"keydown",Qt),qt.current=listen(document,"focus",()=>setTimeout(Jt),!0),xt&&xt(),ht){var on,Tn;const kn=activeElement((on=(Tn=$t.dialog)==null?void 0:Tn.ownerDocument)!=null?on:Et==null?void 0:Et.document);$t.dialog&&kn&&!contains($t.dialog,kn)&&(Ht.current=kn,$t.dialog.focus())}}),an=useEventCallback(()=>{if($t.remove(),vn.current==null||vn.current(),qt.current==null||qt.current(),pt){var on;(on=Ht.current)==null||on.focus==null||on.focus(mt),Ht.current=null}});reactExports.useEffect(()=>{!_e||!Tt||zt()},[_e,Tt,zt]),reactExports.useEffect(()=>{Nt&&an()},[Nt,an]),useWillUnmount(()=>{an()});const Jt=useEventCallback(()=>{if(!ft||!Ot()||!$t.isTopModal())return;const on=activeElement(Et==null?void 0:Et.document);$t.dialog&&on&&!contains($t.dialog,on)&&$t.dialog.focus()}),Zt=useEventCallback(on=>{on.target===on.currentTarget&&(ct==null||ct(on),ot===!0&&_t())}),Qt=useEventCallback(on=>{st&&isEscKey(on)&&$t.isTopModal()&&(lt==null||lt(on),on.defaultPrevented||_t())}),qt=reactExports.useRef(),vn=reactExports.useRef(),Yt=(...on)=>{Ft(!0),At==null||At(...on)};if(!Tt)return null;const rn=Object.assign({role:et,ref:$t.setDialogRef,"aria-modal":et==="dialog"?!0:void 0},Ct,{style:nt,className:tt,tabIndex:-1});let pn=gt?gt(rn):jsxRuntimeExports.jsx("div",Object.assign({},rn,{children:reactExports.cloneElement(rt,{role:"document"})}));pn=renderTransition(at,it,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!_e,onExit:wt,onExiting:Pt,onExited:Yt,onEnter:jt,onEntering:kt,onEntered:St,children:pn});let $n=null;return ot&&($n=vt({ref:$t.setBackdropRef,onClick:Zt}),$n=renderTransition(ut,dt,{in:!!_e,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:$n})),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ReactDOM.createPortal(jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[$n,pn]}),Tt)})});Modal$3.displayName="Modal";const BaseModal=Object.assign(Modal$3,{Manager:ModalManager});function hasClass(b,$){return b.classList?!!$&&b.classList.contains($):(" "+(b.className.baseVal||b.className)+" ").indexOf(" "+$+" ")!==-1}function addClass(b,$){b.classList?b.classList.add($):hasClass(b,$)||(typeof b.className=="string"?b.className=b.className+" "+$:b.setAttribute("class",(b.className&&b.className.baseVal||"")+" "+$))}function replaceClassName(b,$){return b.replace(new RegExp("(^|\\s)"+$+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function removeClass(b,$){b.classList?b.classList.remove($):typeof b.className=="string"?b.className=replaceClassName(b.className,$):b.setAttribute("class",replaceClassName(b.className&&b.className.baseVal||"",$))}const Selector={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class BootstrapModalManager extends ModalManager{adjustAndStore($,_e,et){const tt=_e.style[$];_e.dataset[$]=tt,style(_e,{[$]:`${parseFloat(style(_e,$))+et}px`})}restore($,_e){const et=_e.dataset[$];et!==void 0&&(delete _e.dataset[$],style(_e,{[$]:et}))}setContainerStyle($){super.setContainerStyle($);const _e=this.getElement();if(addClass(_e,"modal-open"),!$.scrollBarWidth)return;const et=this.isRTL?"paddingLeft":"paddingRight",tt=this.isRTL?"marginLeft":"marginRight";qsa(_e,Selector.FIXED_CONTENT).forEach(nt=>this.adjustAndStore(et,nt,$.scrollBarWidth)),qsa(_e,Selector.STICKY_CONTENT).forEach(nt=>this.adjustAndStore(tt,nt,-$.scrollBarWidth)),qsa(_e,Selector.NAVBAR_TOGGLER).forEach(nt=>this.adjustAndStore(tt,nt,$.scrollBarWidth))}removeContainerStyle($){super.removeContainerStyle($);const _e=this.getElement();removeClass(_e,"modal-open");const et=this.isRTL?"paddingLeft":"paddingRight",tt=this.isRTL?"marginLeft":"marginRight";qsa(_e,Selector.FIXED_CONTENT).forEach(nt=>this.restore(et,nt)),qsa(_e,Selector.STICKY_CONTENT).forEach(nt=>this.restore(tt,nt)),qsa(_e,Selector.NAVBAR_TOGGLER).forEach(nt=>this.restore(tt,nt))}}let sharedManager;function getSharedManager(b){return sharedManager||(sharedManager=new BootstrapModalManager(b)),sharedManager}const ModalBody=reactExports.forwardRef(({className:b,bsPrefix:$,as:_e="div",...et},tt)=>($=useBootstrapPrefix($,"modal-body"),jsxRuntimeExports.jsx(_e,{ref:tt,className:classNames(b,$),...et})));ModalBody.displayName="ModalBody";const ModalContext=reactExports.createContext({onHide(){}}),ModalDialog=reactExports.forwardRef(({bsPrefix:b,className:$,contentClassName:_e,centered:et,size:tt,fullscreen:nt,children:rt,scrollable:ot,...st},ct)=>{b=useBootstrapPrefix(b,"modal");const lt=`${b}-dialog`,at=typeof nt=="string"?`${b}-fullscreen-${nt}`:`${b}-fullscreen`;return jsxRuntimeExports.jsx("div",{...st,ref:ct,className:classNames(lt,$,tt&&`${b}-${tt}`,et&&`${lt}-centered`,ot&&`${lt}-scrollable`,nt&&at),children:jsxRuntimeExports.jsx("div",{className:classNames(`${b}-content`,_e),children:rt})})});ModalDialog.displayName="ModalDialog";const ModalFooter=reactExports.forwardRef(({className:b,bsPrefix:$,as:_e="div",...et},tt)=>($=useBootstrapPrefix($,"modal-footer"),jsxRuntimeExports.jsx(_e,{ref:tt,className:classNames(b,$),...et})));ModalFooter.displayName="ModalFooter";const AbstractModalHeader=reactExports.forwardRef(({closeLabel:b="Close",closeVariant:$,closeButton:_e=!1,onHide:et,children:tt,...nt},rt)=>{const ot=reactExports.useContext(ModalContext),st=useEventCallback(()=>{ot==null||ot.onHide(),et==null||et()});return jsxRuntimeExports.jsxs("div",{ref:rt,...nt,children:[tt,_e&&jsxRuntimeExports.jsx(CloseButton,{"aria-label":b,variant:$,onClick:st})]})}),ModalHeader=reactExports.forwardRef(({bsPrefix:b,className:$,closeLabel:_e="Close",closeButton:et=!1,...tt},nt)=>(b=useBootstrapPrefix(b,"modal-header"),jsxRuntimeExports.jsx(AbstractModalHeader,{ref:nt,...tt,className:classNames($,b),closeLabel:_e,closeButton:et})));ModalHeader.displayName="ModalHeader";const DivStyledAsH4=divWithClassName("h4"),ModalTitle=reactExports.forwardRef(({className:b,bsPrefix:$,as:_e=DivStyledAsH4,...et},tt)=>($=useBootstrapPrefix($,"modal-title"),jsxRuntimeExports.jsx(_e,{ref:tt,className:classNames(b,$),...et})));ModalTitle.displayName="ModalTitle";function DialogTransition(b){return jsxRuntimeExports.jsx(Fade,{...b,timeout:null})}function BackdropTransition(b){return jsxRuntimeExports.jsx(Fade,{...b,timeout:null})}const Modal$1=reactExports.forwardRef(({bsPrefix:b,className:$,style:_e,dialogClassName:et,contentClassName:tt,children:nt,dialogAs:rt=ModalDialog,"data-bs-theme":ot,"aria-labelledby":st,"aria-describedby":ct,"aria-label":lt,show:at=!1,animation:it=!0,backdrop:ut=!0,keyboard:dt=!0,onEscapeKeyDown:ht,onShow:ft,onHide:pt,container:mt,autoFocus:gt=!0,enforceFocus:vt=!0,restoreFocus:yt=!0,restoreFocusOptions:bt,onEntered:xt,onExit:_t,onExiting:wt,onEnter:At,onEntering:Pt,onExited:jt,backdropClassName:kt,manager:St,...Ct},Et)=>{const[Tt,$t]=reactExports.useState({}),[Ot,Rt]=reactExports.useState(!1),Nt=reactExports.useRef(!1),Ft=reactExports.useRef(!1),Ht=reactExports.useRef(null),[zt,an]=useCallbackRef(),Jt=useMergedRefs(Et,an),Zt=useEventCallback(pt),Qt=useIsRTL();b=useBootstrapPrefix(b,"modal");const qt=reactExports.useMemo(()=>({onHide:Zt}),[Zt]);function vn(){return St||getSharedManager({isRTL:Qt})}function Yt(Ln){if(!canUseDOM)return;const Xn=vn().getScrollbarWidth()>0,rr=Ln.scrollHeight>ownerDocument(Ln).documentElement.clientHeight;$t({paddingRight:Xn&&!rr?scrollbarSize():void 0,paddingLeft:!Xn&&rr?scrollbarSize():void 0})}const rn=useEventCallback(()=>{zt&&Yt(zt.dialog)});useWillUnmount(()=>{removeEventListener(window,"resize",rn),Ht.current==null||Ht.current()});const pn=()=>{Nt.current=!0},$n=Ln=>{Nt.current&&zt&&Ln.target===zt.dialog&&(Ft.current=!0),Nt.current=!1},on=()=>{Rt(!0),Ht.current=transitionEnd(zt.dialog,()=>{Rt(!1)})},Tn=Ln=>{Ln.target===Ln.currentTarget&&on()},kn=Ln=>{if(ut==="static"){Tn(Ln);return}if(Ft.current||Ln.target!==Ln.currentTarget){Ft.current=!1;return}pt==null||pt()},Bn=Ln=>{dt?ht==null||ht(Ln):(Ln.preventDefault(),ut==="static"&&on())},On=(Ln,Xn)=>{Ln&&Yt(Ln),At==null||At(Ln,Xn)},dn=Ln=>{Ht.current==null||Ht.current(),_t==null||_t(Ln)},wn=(Ln,Xn)=>{Pt==null||Pt(Ln,Xn),addEventListener(window,"resize",rn)},bn=Ln=>{Ln&&(Ln.style.display=""),jt==null||jt(Ln),removeEventListener(window,"resize",rn)},Sn=reactExports.useCallback(Ln=>jsxRuntimeExports.jsx("div",{...Ln,className:classNames(`${b}-backdrop`,kt,!it&&"show")}),[it,kt,b]),Pn={..._e,...Tt};Pn.display="block";const In=Ln=>jsxRuntimeExports.jsx("div",{role:"dialog",...Ln,style:Pn,className:classNames($,b,Ot&&`${b}-static`,!it&&"show"),onClick:ut?kn:void 0,onMouseUp:$n,"data-bs-theme":ot,"aria-label":lt,"aria-labelledby":st,"aria-describedby":ct,children:jsxRuntimeExports.jsx(rt,{...Ct,onMouseDown:pn,className:et,contentClassName:tt,children:nt})});return jsxRuntimeExports.jsx(ModalContext.Provider,{value:qt,children:jsxRuntimeExports.jsx(BaseModal,{show:at,ref:Jt,backdrop:ut,container:mt,keyboard:!0,autoFocus:gt,enforceFocus:vt,restoreFocus:yt,restoreFocusOptions:bt,onEscapeKeyDown:Bn,onShow:ft,onHide:pt,onEnter:On,onEntering:wn,onEntered:xt,onExit:dn,onExiting:wt,onExited:bn,manager:vn(),transition:it?DialogTransition:void 0,backdropTransition:it?BackdropTransition:void 0,renderBackdrop:Sn,renderDialog:In})})});Modal$1.displayName="Modal";const Modal$2=Object.assign(Modal$1,{Body:ModalBody,Header:ModalHeader,Title:ModalTitle,Footer:ModalFooter,Dialog:ModalDialog,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var all$3={exports:{}},createChainableTypeChecker={exports:{}};(function(b,$){Object.defineProperty($,"__esModule",{value:!0}),$.default=_e;function _e(et){function tt(rt,ot,st,ct,lt,at){var it=ct||"<<anonymous>>",ut=at||st;if(ot[st]==null)return rt?new Error("Required "+lt+" `"+ut+"` was not specified "+("in `"+it+"`.")):null;for(var dt=arguments.length,ht=Array(dt>6?dt-6:0),ft=6;ft<dt;ft++)ht[ft-6]=arguments[ft];return et.apply(void 0,[ot,st,it,lt,ut].concat(ht))}var nt=tt.bind(null,!1);return nt.isRequired=tt.bind(null,!0),nt}b.exports=$.default})(createChainableTypeChecker,createChainableTypeChecker.exports);var createChainableTypeCheckerExports=createChainableTypeChecker.exports;(function(b,$){Object.defineProperty($,"__esModule",{value:!0}),$.default=nt;var _e=createChainableTypeCheckerExports,et=tt(_e);function tt(rt){return rt&&rt.__esModule?rt:{default:rt}}function nt(){for(var rt=arguments.length,ot=Array(rt),st=0;st<rt;st++)ot[st]=arguments[st];function ct(){for(var lt=arguments.length,at=Array(lt),it=0;it<lt;it++)at[it]=arguments[it];var ut=null;return ot.forEach(function(dt){if(ut==null){var ht=dt.apply(void 0,at);ht!=null&&(ut=ht)}}),ut}return(0,et.default)(ct)}b.exports=$.default})(all$3,all$3.exports);const NavItem=reactExports.forwardRef(({className:b,bsPrefix:$,as:_e="div",...et},tt)=>($=useBootstrapPrefix($,"nav-item"),jsxRuntimeExports.jsx(_e,{ref:tt,className:classNames(b,$),...et})));NavItem.displayName="NavItem";const NavLink=reactExports.forwardRef(({bsPrefix:b,className:$,as:_e=Anchor,active:et,eventKey:tt,disabled:nt=!1,...rt},ot)=>{b=useBootstrapPrefix(b,"nav-link");const[st,ct]=useNavItem({key:makeEventKey(tt,rt.href),active:et,disabled:nt,...rt});return jsxRuntimeExports.jsx(_e,{...rt,...st,ref:ot,disabled:nt,className:classNames($,b,nt&&"disabled",ct.isActive&&"active")})});NavLink.displayName="NavLink";const Nav=reactExports.forwardRef((b,$)=>{const{as:_e="div",bsPrefix:et,variant:tt,fill:nt=!1,justify:rt=!1,navbar:ot,navbarScroll:st,className:ct,activeKey:lt,...at}=useUncontrolled(b,{activeKey:"onSelect"}),it=useBootstrapPrefix(et,"nav");let ut,dt,ht=!1;const ft=reactExports.useContext(context),pt=reactExports.useContext(context$1);return ft?(ut=ft.bsPrefix,ht=ot??!0):pt&&({cardHeaderBsPrefix:dt}=pt),jsxRuntimeExports.jsx(BaseNav,{as:_e,ref:$,activeKey:lt,className:classNames(ct,{[it]:!ht,[`${ut}-nav`]:ht,[`${ut}-nav-scroll`]:ht&&st,[`${dt}-${tt}`]:!!dt,[`${it}-${tt}`]:!!tt,[`${it}-fill`]:nt,[`${it}-justified`]:rt}),...at})});Nav.displayName="Nav";const Nav$1=Object.assign(Nav,{Item:NavItem,Link:NavLink}),noop$5=()=>{};function useRootClose(b,$,{disabled:_e,clickTrigger:et}={}){const tt=$||noop$5;useClickOutside(b,tt,{disabled:_e,clickTrigger:et});const nt=useEventCallback(rt=>{isEscKey(rt)&&tt(rt)});reactExports.useEffect(()=>{if(_e||b==null)return;const rt=ownerDocument(getRefTarget(b));let ot=(rt.defaultView||window).event;const st=listen(rt,"keyup",ct=>{if(ct===ot){ot=void 0;return}nt(ct)});return()=>{st()}},[b,_e,nt])}const Overlay$1=reactExports.forwardRef((b,$)=>{const{flip:_e,offset:et,placement:tt,containerPadding:nt,popperConfig:rt={},transition:ot,runTransition:st}=b,[ct,lt]=useCallbackRef(),[at,it]=useCallbackRef(),ut=useMergedRefs(lt,$),dt=useWaitForDOMRef(b.container),ht=useWaitForDOMRef(b.target),[ft,pt]=reactExports.useState(!b.show),mt=usePopper(ht,ct,mergeOptionsWithPopperConfig({placement:tt,enableEvents:!!b.show,containerPadding:nt||5,flip:_e,offset:et,arrowElement:at,popperConfig:rt}));b.show&&ft&&pt(!1);const gt=(...Pt)=>{pt(!0),b.onExited&&b.onExited(...Pt)},vt=b.show||!ft;if(useRootClose(ct,b.onHide,{disabled:!b.rootClose||b.rootCloseDisabled,clickTrigger:b.rootCloseEvent}),!vt)return null;const{onExit:yt,onExiting:bt,onEnter:xt,onEntering:_t,onEntered:wt}=b;let At=b.children(Object.assign({},mt.attributes.popper,{style:mt.styles.popper,ref:ut}),{popper:mt,placement:tt,show:!!b.show,arrowProps:Object.assign({},mt.attributes.arrow,{style:mt.styles.arrow,ref:it})});return At=renderTransition(ot,st,{in:!!b.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:At,onExit:yt,onExiting:bt,onExited:gt,onEnter:xt,onEntering:_t,onEntered:wt}),dt?ReactDOM.createPortal(At,dt):null});Overlay$1.displayName="Overlay";const PopoverHeader=reactExports.forwardRef(({className:b,bsPrefix:$,as:_e="div",...et},tt)=>($=useBootstrapPrefix($,"popover-header"),jsxRuntimeExports.jsx(_e,{ref:tt,className:classNames(b,$),...et})));PopoverHeader.displayName="PopoverHeader";const PopoverBody=reactExports.forwardRef(({className:b,bsPrefix:$,as:_e="div",...et},tt)=>($=useBootstrapPrefix($,"popover-body"),jsxRuntimeExports.jsx(_e,{ref:tt,className:classNames(b,$),...et})));PopoverBody.displayName="PopoverBody";function getOverlayDirection(b,$){let _e=b;return b==="left"?_e=$?"end":"start":b==="right"&&(_e=$?"start":"end"),_e}function getInitialPopperStyles(b="absolute"){return{position:b,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const Popover=reactExports.forwardRef(({bsPrefix:b,placement:$="right",className:_e,style:et,children:tt,body:nt,arrowProps:rt,hasDoneInitialMeasure:ot,popper:st,show:ct,...lt},at)=>{const it=useBootstrapPrefix(b,"popover"),ut=useIsRTL(),[dt]=($==null?void 0:$.split("-"))||[],ht=getOverlayDirection(dt,ut);let ft=et;return ct&&!ot&&(ft={...et,...getInitialPopperStyles(st==null?void 0:st.strategy)}),jsxRuntimeExports.jsxs("div",{ref:at,role:"tooltip",style:ft,"x-placement":dt,className:classNames(_e,it,dt&&`bs-popover-${ht}`),...lt,children:[jsxRuntimeExports.jsx("div",{className:"popover-arrow",...rt}),nt?jsxRuntimeExports.jsx(PopoverBody,{children:tt}):tt]})}),Popover$1=Object.assign(Popover,{Header:PopoverHeader,Body:PopoverBody,POPPER_OFFSET:[0,8]}),Tooltip=reactExports.forwardRef(({bsPrefix:b,placement:$="right",className:_e,style:et,children:tt,arrowProps:nt,hasDoneInitialMeasure:rt,popper:ot,show:st,...ct},lt)=>{b=useBootstrapPrefix(b,"tooltip");const at=useIsRTL(),[it]=($==null?void 0:$.split("-"))||[],ut=getOverlayDirection(it,at);let dt=et;return st&&!rt&&(dt={...et,...getInitialPopperStyles(ot==null?void 0:ot.strategy)}),jsxRuntimeExports.jsxs("div",{ref:lt,style:dt,role:"tooltip","x-placement":it,className:classNames(_e,b,`bs-tooltip-${ut}`),...ct,children:[jsxRuntimeExports.jsx("div",{className:"tooltip-arrow",...nt}),jsxRuntimeExports.jsx("div",{className:`${b}-inner`,children:tt})]})});Tooltip.displayName="Tooltip";const Tooltip$1=Object.assign(Tooltip,{TOOLTIP_OFFSET:[0,6]});function useOverlayOffset(b){const $=reactExports.useRef(null),_e=useBootstrapPrefix(void 0,"popover"),et=useBootstrapPrefix(void 0,"tooltip"),tt=reactExports.useMemo(()=>({name:"offset",options:{offset:()=>{if(b)return b;if($.current){if(hasClass($.current,_e))return Popover$1.POPPER_OFFSET;if(hasClass($.current,et))return Tooltip$1.TOOLTIP_OFFSET}return[0,0]}}}),[b,_e,et]);return[$,[tt]]}function wrapRefs(b,$){const{ref:_e}=b,{ref:et}=$;b.ref=_e.__wrapped||(_e.__wrapped=tt=>_e(safeFindDOMNode(tt))),$.ref=et.__wrapped||(et.__wrapped=tt=>et(safeFindDOMNode(tt)))}const Overlay=reactExports.forwardRef(({children:b,transition:$=Fade,popperConfig:_e={},rootClose:et=!1,placement:tt="top",show:nt=!1,...rt},ot)=>{const st=reactExports.useRef({}),[ct,lt]=reactExports.useState(null),[at,it]=useOverlayOffset(rt.offset),ut=useMergedRefs(ot,at),dt=$===!0?Fade:$||void 0,ht=useEventCallback(ft=>{lt(ft),_e==null||_e.onFirstUpdate==null||_e.onFirstUpdate(ft)});return useIsomorphicEffect(()=>{ct&&rt.target&&(st.current.scheduleUpdate==null||st.current.scheduleUpdate())},[ct,rt.target]),reactExports.useEffect(()=>{nt||lt(null)},[nt]),jsxRuntimeExports.jsx(Overlay$1,{...rt,ref:ut,popperConfig:{..._e,modifiers:it.concat(_e.modifiers||[]),onFirstUpdate:ht},transition:dt,rootClose:et,placement:tt,show:nt,children:(ft,{arrowProps:pt,popper:mt,show:gt})=>{var vt,yt;wrapRefs(ft,pt);const bt=mt==null?void 0:mt.placement,xt=Object.assign(st.current,{state:mt==null?void 0:mt.state,scheduleUpdate:mt==null?void 0:mt.update,placement:bt,outOfBoundaries:(mt==null||(vt=mt.state)==null||(yt=vt.modifiersData.hide)==null?void 0:yt.isReferenceHidden)||!1,strategy:_e.strategy}),_t=!!ct;return typeof b=="function"?b({...ft,placement:bt,show:gt,...!$&&gt&&{className:"show"},popper:xt,arrowProps:pt,hasDoneInitialMeasure:_t}):reactExports.cloneElement(b,{...ft,placement:bt,arrowProps:pt,popper:xt,hasDoneInitialMeasure:_t,className:classNames(b.props.className,!$&&gt&&"show"),style:{...b.props.style,...ft.style}})}})});Overlay.displayName="Overlay";const Row=reactExports.forwardRef(({bsPrefix:b,className:$,as:_e="div",...et},tt)=>{const nt=useBootstrapPrefix(b,"row"),rt=useBootstrapBreakpoints(),ot=useBootstrapMinBreakpoint(),st=`${nt}-cols`,ct=[];return rt.forEach(lt=>{const at=et[lt];delete et[lt];let it;at!=null&&typeof at=="object"?{cols:it}=at:it=at;const ut=lt!==ot?`-${lt}`:"";it!=null&&ct.push(`${st}${ut}-${it}`)}),jsxRuntimeExports.jsx(_e,{ref:tt,...et,className:classNames($,nt,...ct)})});Row.displayName="Row";const _excluded$2=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],_excluded2=["activeKey","getControlledId","getControllerId"],_excluded3=["as"];function _objectWithoutPropertiesLoose$2(b,$){if(b==null)return{};var _e={},et=Object.keys(b),tt,nt;for(nt=0;nt<et.length;nt++)tt=et[nt],!($.indexOf(tt)>=0)&&(_e[tt]=b[tt]);return _e}function useTabPanel(b){let{active:$,eventKey:_e,mountOnEnter:et,transition:tt,unmountOnExit:nt,role:rt="tabpanel",onEnter:ot,onEntering:st,onEntered:ct,onExit:lt,onExiting:at,onExited:it}=b,ut=_objectWithoutPropertiesLoose$2(b,_excluded$2);const dt=reactExports.useContext(TabContext);if(!dt)return[Object.assign({},ut,{role:rt}),{eventKey:_e,isActive:$,mountOnEnter:et,transition:tt,unmountOnExit:nt,onEnter:ot,onEntering:st,onEntered:ct,onExit:lt,onExiting:at,onExited:it}];const{activeKey:ht,getControlledId:ft,getControllerId:pt}=dt,mt=_objectWithoutPropertiesLoose$2(dt,_excluded2),gt=makeEventKey(_e);return[Object.assign({},ut,{role:rt,id:ft(_e),"aria-labelledby":pt(_e)}),{eventKey:_e,isActive:$==null&&gt!=null?makeEventKey(ht)===gt:$,transition:tt||mt.transition,mountOnEnter:et??mt.mountOnEnter,unmountOnExit:nt??mt.unmountOnExit,onEnter:ot,onEntering:st,onEntered:ct,onExit:lt,onExiting:at,onExited:it}]}const TabPanel=reactExports.forwardRef((b,$)=>{let{as:_e="div"}=b,et=_objectWithoutPropertiesLoose$2(b,_excluded3);const[tt,{isActive:nt,onEnter:rt,onEntering:ot,onEntered:st,onExit:ct,onExiting:lt,onExited:at,mountOnEnter:it,unmountOnExit:ut,transition:dt=NoopTransition}]=useTabPanel(et);return jsxRuntimeExports.jsx(TabContext.Provider,{value:null,children:jsxRuntimeExports.jsx(SelectableContext$1.Provider,{value:null,children:jsxRuntimeExports.jsx(dt,{in:nt,onEnter:rt,onEntering:ot,onEntered:st,onExit:ct,onExiting:lt,onExited:at,mountOnEnter:it,unmountOnExit:ut,children:jsxRuntimeExports.jsx(_e,Object.assign({},tt,{ref:$,hidden:!nt,"aria-hidden":!nt}))})})})});TabPanel.displayName="TabPanel";const Tabs$1=b=>{const{id:$,generateChildId:_e,onSelect:et,activeKey:tt,defaultActiveKey:nt,transition:rt,mountOnEnter:ot,unmountOnExit:st,children:ct}=b,[lt,at]=useUncontrolledProp(tt,nt,et),it=$b5e257d569688ac6$export$619500959fc48b26($),ut=reactExports.useMemo(()=>_e||((ht,ft)=>it?`${it}-${ft}-${ht}`:null),[it,_e]),dt=reactExports.useMemo(()=>({onSelect:at,activeKey:lt,transition:rt,mountOnEnter:ot||!1,unmountOnExit:st||!1,getControlledId:ht=>ut(ht,"tabpane"),getControllerId:ht=>ut(ht,"tab")}),[at,lt,rt,ot,st,ut]);return jsxRuntimeExports.jsx(TabContext.Provider,{value:dt,children:jsxRuntimeExports.jsx(SelectableContext$1.Provider,{value:at||null,children:ct})})};Tabs$1.Panel=TabPanel;function getTabTransitionComponent(b){return typeof b=="boolean"?b?Fade:NoopTransition:b}const TabContainer=({transition:b,...$})=>jsxRuntimeExports.jsx(Tabs$1,{...$,transition:getTabTransitionComponent(b)});TabContainer.displayName="TabContainer";const TabContent=reactExports.forwardRef(({className:b,bsPrefix:$,as:_e="div",...et},tt)=>($=useBootstrapPrefix($,"tab-content"),jsxRuntimeExports.jsx(_e,{ref:tt,className:classNames(b,$),...et})));TabContent.displayName="TabContent";const TabPane=reactExports.forwardRef(({bsPrefix:b,transition:$,..._e},et)=>{const[{className:tt,as:nt="div",...rt},{isActive:ot,onEnter:st,onEntering:ct,onEntered:lt,onExit:at,onExiting:it,onExited:ut,mountOnEnter:dt,unmountOnExit:ht,transition:ft=Fade}]=useTabPanel({..._e,transition:getTabTransitionComponent($)}),pt=useBootstrapPrefix(b,"tab-pane");return jsxRuntimeExports.jsx(TabContext.Provider,{value:null,children:jsxRuntimeExports.jsx(SelectableContext$1.Provider,{value:null,children:jsxRuntimeExports.jsx(ft,{in:ot,onEnter:st,onEntering:ct,onEntered:lt,onExit:at,onExiting:it,onExited:ut,mountOnEnter:dt,unmountOnExit:ht,children:jsxRuntimeExports.jsx(nt,{...rt,ref:et,className:classNames(tt,pt,ot&&"active")})})})})});TabPane.displayName="TabPane";const propTypes={eventKey:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),title:PropTypes.node.isRequired,disabled:PropTypes.bool,tabClassName:PropTypes.string,tabAttrs:PropTypes.object},Tab=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};Tab.propTypes=propTypes;const Tab$1=Object.assign(Tab,{Container:TabContainer,Content:TabContent,Pane:TabPane});function getDefaultActiveKey(b){let $;return forEach$2(b,_e=>{$==null&&($=_e.props.eventKey)}),$}function renderTab(b){const{title:$,eventKey:_e,disabled:et,tabClassName:tt,tabAttrs:nt,id:rt}=b.props;return $==null?null:jsxRuntimeExports.jsx(NavItem,{as:"li",role:"presentation",children:jsxRuntimeExports.jsx(NavLink,{as:"button",type:"button",eventKey:_e,disabled:et,id:rt,className:tt,...nt,children:$})})}const Tabs=b=>{const{id:$,onSelect:_e,transition:et,mountOnEnter:tt=!1,unmountOnExit:nt=!1,variant:rt="tabs",children:ot,activeKey:st=getDefaultActiveKey(ot),...ct}=useUncontrolled(b,{activeKey:"onSelect"});return jsxRuntimeExports.jsxs(Tabs$1,{id:$,activeKey:st,onSelect:_e,transition:getTabTransitionComponent(et),mountOnEnter:tt,unmountOnExit:nt,children:[jsxRuntimeExports.jsx(Nav$1,{id:$,...ct,role:"tablist",as:"ul",variant:rt,children:map$2(ot,renderTab)}),jsxRuntimeExports.jsx(TabContent,{children:map$2(ot,lt=>{const at={...lt.props};return delete at.title,delete at.disabled,delete at.tabClassName,delete at.tabAttrs,jsxRuntimeExports.jsx(TabPane,{...at})})})]})};Tabs.displayName="Tabs";function exportTeam(b,$,_e){let et=JSON.parse(JSON.stringify(b[$]));if(console.log("EXPORT TEAM",et&&et.name,et),Array.isArray(b[$].members)){let tt=[];b[$].members.forEach(function(nt){if(nt.startsWith("TEAM:::::")){let rt=nt.slice(9),ot=b[rt]?JSON.parse(JSON.stringify(exportTeam(b,rt,_e))):{};tt.push(Object.assign({},ot,{id:nt}))}else{let rt=_e[nt]?JSON.parse(JSON.stringify(_e[nt])):{};tt.push(Object.assign({},rt,{id:nt}))}}),et.members=tt}if(Array.isArray(et.expert_selector)&&et.expert_selector.length>0){let tt=et.expert_selector[0];if(tt.startsWith("TEAM:::::")){let nt=tt.slice(9);et.expert_selector=b[nt]?JSON.parse(JSON.stringify(exportTeam(b,nt,_e))):{},et.expert_selector.id=tt}else et.expert_selector=_e[tt]?JSON.parse(JSON.stringify(_e[tt])):{},et.expert_selector.id=tt}else et.expert_selector=null;if(Array.isArray(et.planner)&&et.planner.length>0){let tt=et.planner[0];if(tt.startsWith("TEAM:::::")){let nt=tt.slice(9);et.planner=b[nt]?JSON.parse(JSON.stringify(exportTeam(b,nt,_e))):{},et.planner.id=tt}else et.planner=_e[tt]?JSON.parse(JSON.stringify(_e[tt])):{},et.planner.id=tt}else et.planner=null;if(Array.isArray(et.generator)&&et.generator.length>0){let tt=et.generator[0];if(tt.startsWith("TEAM:::::")){let nt=tt.slice(9);et.generator=b[nt]?JSON.parse(JSON.stringify(exportTeam(b,nt,_e))):{},et.generator.id=tt}else et.generator=_e[tt]?JSON.parse(JSON.stringify(_e[tt])):{},et.generator.id=tt}else et.generator=null;if(Array.isArray(et.summariser)&&et.summariser.length>0){let tt=et.summariser[0];if(tt.startsWith("TEAM:::::")){let nt=tt.slice(9);et.summariser=b[nt]?JSON.parse(JSON.stringify(exportTeam(b,nt,_e))):{},et.summariser.id=tt}else et.summariser=_e[tt]?JSON.parse(JSON.stringify(_e[tt])):{},et.summariser.id=tt}else et.summariser=null;if(Array.isArray(et.scorer)&&et.scorer.length>0){let tt=et.scorer[0];if(tt.startsWith("TEAM:::::")){let nt=tt.slice(9);et.scorer=b[nt]?JSON.parse(JSON.stringify(exportTeam(b,nt,_e))):{},et.scorer.id=tt}else et.scorer=_e[tt]?JSON.parse(JSON.stringify(_e[tt])):{},et.scorer.id=tt}else et.scorer=null;if(Array.isArray(et.rewriter)&&et.rewriter.length>0){let tt=et.rewriter[0];if(tt.startsWith("TEAM:::::")){let nt=tt.slice(9);et.rewriter=b[nt]?JSON.parse(JSON.stringify(exportTeam(b,nt,_e))):{},et.rewriter.id=tt}else et.rewriter=_e[tt]?JSON.parse(JSON.stringify(_e[tt])):{},et.rewriter.id=tt}else et.rewriter=null;if(Array.isArray(et.formatter)&&et.formatter.length>0){let tt=et.formatter[0];if(tt.startsWith("TEAM:::::")){let nt=tt.slice(9);et.formatter=b[nt]?JSON.parse(JSON.stringify(exportTeam(b,nt,_e))):{},et.formatter.id=tt}else et.formatter=_e[tt]?JSON.parse(JSON.stringify(_e[tt])):{},et.formatter.id=tt}else et.formatter=null;if(Array.isArray(et.feeder)&&et.feeder.length>0){let tt=et.feeder[0];if(tt.startsWith("TEAM:::::")){let nt=tt.slice(9);et.feeder=b[nt]?JSON.parse(JSON.stringify(exportTeam(b,nt,_e))):{},et.feeder.id=tt}else et.feeder=_e[tt]?JSON.parse(JSON.stringify(_e[tt])):{},et.feeder.id=tt}else et.feeder=null;if(Array.isArray(et.blocker)&&et.blocker.length>0){let tt=et.blocker[0];if(tt.startsWith("TEAM:::::")){let nt=tt.slice(9);et.blocker=b[nt]?JSON.parse(JSON.stringify(exportTeam(b,nt,_e))):{},et.blocker.id=tt}else et.blocker=_e[tt]?JSON.parse(JSON.stringify(_e[tt])):{},et.blocker.id=tt}else et.blocker=null;if(Array.isArray(et.question_generator)&&et.question_generator.length>0){let tt=et.question_generator[0];if(tt.startsWith("TEAM:::::")){let nt=tt.slice(9);et.question_generator=b[nt]?JSON.parse(JSON.stringify(exportTeam(b,nt,_e))):{},et.question_generator.id=tt}else et.question_generator=_e[tt]?JSON.parse(JSON.stringify(_e[tt])):{},et.question_generator.id=tt}else et.question_generator=null;return console.log("EXPORTED TEAM",et),et}function useUtils(){return{getTeamMemberIndex(b,$,_e){return{}},exportTeam,downloadText:function(b,$){const _e=URL.createObjectURL(new Blob([b])),et=document.createElement("a");et.href=_e,et.download=$,document.body.appendChild(et),et.click(),setTimeout(()=>{document.body.removeChild(et),window.URL.revokeObjectURL(_e)},0)},scrollTo:function(b,$){var _e=document.getElementById(b);if(_e){var et=$||10,tt=_e.offsetTop,nt=tt-et;setTimeout(function(){document.documentElement.scrollTop=nt,document.body.scrollTop=nt},300)}},cosineSimilarity:function(b,$,_e=6){if(b.length!==$.length)throw new Error("Vectors must have the same length");const et=b.reduce((rt,ot,st)=>{const ct=$[st];return rt+ot*(ct!==void 0?ct:0)},0),tt=Math.sqrt(b.reduce((rt,ot)=>rt+ot*ot,0)),nt=Math.sqrt($.reduce((rt,ot)=>rt+ot*ot,0));return tt===0||nt===0?0:parseFloat((et/(tt*nt)).toFixed(_e))},blobToText:function(b){return new Promise(($,_e)=>{var et=new FileReader;et.onload=function(){$(et.result)},et.onerror=function(){_e(new Error("Error reading the Blob as text."))},b instanceof Blob?et.readAsText(b):$()})},stripCodeParts:function(b){let $=b.split("```"),_e=[];for(let et=0;et<$.length;et++){let tt=$[et];et%2===0&&tt&&tt.trim&&tt.trim().length>0&&_e.push(tt)}return _e.join(`
`)},readFileAsText:function(b){return new Promise(function($,_e){function et(tt){var nt=new FileReader;nt.onloadend=function(){nt.result&&$(nt.result)},tt&&nt.readAsText(tt)}et(b)})},blobToBase64:function(b){return new Promise(function($,_e){var et=new FileReader;et.onload=function(){var tt=et.result;$(tt)},b instanceof Blob?et.readAsDataURL(b):$()})},generateRandomId:function(){var b=new Date().getTime(),$=Math.random().toString(36).substr(2);return b+"-"+$},generateShortRandomId:function(){var b=Math.random().toString(36).substr(2);return b},summariseConfig:function(b){let $=!!(b&&b.tts&&b.tts.use==="openai"&&b.tts.openai_key),_e=!!(b&&b.tts&&b.tts.use==="self_hosted"&&b.tts.self_hosted_url),et=!!(b&&b.tts&&b.tts.use==="web_speech"),tt=!!(b&&b.tts&&b.tts.use==="me_speak"),nt=$||_e||et||tt,rt=!!(b&&b.stt&&b.stt.use==="openai"&&b.stt.openai_key),ot=!!(b&&b.stt&&b.stt.use==="groq"&&b.stt.groq_key),st=!!(b&&b.stt&&b.stt.use==="self_hosted"&&b.stt.self_hosted_url),ct=!!(b&&b.stt&&b.stt.use==="local"&&b.stt.local_whisper_model),lt=rt||st||ct||ot,at=!!(b&&b.llm&&b.llm.use==="openai"&&b.llm.openai_key&&b.llm.openai_url!=="https://api.groq.com/openai"),it=!!(b&&b.llm&&b.llm.use==="openai"&&b.llm.openai_key&&b.llm.openai_model&&b.llm.openai_url==="https://api.groq.com/openai"),ut=!!(b&&b.llm&&b.llm.use==="self_hosted"&&b.llm.self_hosted_url);return{useGroq:it,usingOpenAiTts:$,usingSelfHostedTts:_e,usingWebSpeechTts:et,usingMeSpeakTts:tt,usingTts:nt,usingStt:lt,usingOpenAiStt:rt,usingSelfHostedStt:st,usingLocalStt:ct,useOpenAi:at,useSelfHosted:ut,useLlm:at||ut||it,openAiBillable:at||$||rt}},renderPrompt:function(b,$,_e,et,tt=!1){function nt(ot){return ot&&ot.outputType?ot.outputType==="JavaScript"||ot.outputType==="Python"?`
Respond as a block of `+ot.outputType+" code, strictly "+ot.outputType+" code with no comments or explanations and no other format":`
Respond using `+ot.outputType+" notation, strictly "+ot.outputType+" and no other format":""}JSON.parse(JSON.stringify(_e));let rt=nt(et);switch(b){case"openai":let ot=JSON.parse(JSON.stringify(_e));return ot.unshift({role:"system",content:$?$+rt:""}),JSON.stringify(ot);case"nous-hermes-2-mistral":return`<|im_start|>system
`+($?$+rt:"")+"<|im_end|>"+_e.map(function(st){return"<|im_start|>"+st.role+`
`+st.content+"<|im_end|>"}).join(`
`)+(tt?`
<|im_start|>assistant
`:"");case"orca-mini-3":return`### System:
`+($?$+rt:"")+`
`+_e.map(function(st){return st.role==="user"?`
### User:
`+st.content+`
`:`
### Response:
`+st.content+`
`})+(tt?`
### Response:
`:"")}}}}function useIcons(){var b={"arrow-go-forward-line":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M18.1716 6.99955H11C7.68629 6.99955 5 9.68584 5 12.9996C5 16.3133 7.68629 18.9996 11 18.9996H20V20.9996H11C6.58172 20.9996 3 17.4178 3 12.9996C3 8.58127 6.58172 4.99955 11 4.99955H18.1716L15.636 2.46402L17.0503 1.0498L22 5.99955L17.0503 10.9493L15.636 9.53509L18.1716 6.99955Z"})}),"arrow-down":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M11.9999 13.1714L16.9497 8.22168L18.3639 9.63589L11.9999 15.9999L5.63599 9.63589L7.0502 8.22168L11.9999 13.1714Z"})}),palette:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M12 2C17.5222 2 22 5.97778 22 10.8889C22 13.9556 19.5111 16.4444 16.4444 16.4444H14.4778C13.5556 16.4444 12.8111 17.1889 12.8111 18.1111C12.8111 18.5333 12.9778 18.9222 13.2333 19.2111C13.5 19.5111 13.6667 19.9 13.6667 20.3333C13.6667 21.2556 12.9 22 12 22C6.47778 22 2 17.5222 2 12C2 6.47778 6.47778 2 12 2ZM10.8111 18.1111C10.8111 16.0843 12.451 14.4444 14.4778 14.4444H16.4444C18.4065 14.4444 20 12.851 20 10.8889C20 7.1392 16.4677 4 12 4C7.58235 4 4 7.58235 4 12C4 16.19 7.2226 19.6285 11.324 19.9718C10.9948 19.4168 10.8111 18.7761 10.8111 18.1111ZM7.5 12C6.67157 12 6 11.3284 6 10.5C6 9.67157 6.67157 9 7.5 9C8.32843 9 9 9.67157 9 10.5C9 11.3284 8.32843 12 7.5 12ZM16.5 12C15.6716 12 15 11.3284 15 10.5C15 9.67157 15.6716 9 16.5 9C17.3284 9 18 9.67157 18 10.5C18 11.3284 17.3284 12 16.5 12ZM12 9C11.1716 9 10.5 8.32843 10.5 7.5C10.5 6.67157 11.1716 6 12 6C12.8284 6 13.5 6.67157 13.5 7.5C13.5 8.32843 12.8284 9 12 9Z"})}),"hexagon-fill":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M17.5 2.5L23 12L17.5 21.5H6.5L1 12L6.5 2.5H17.5Z"})}),"loader-line":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M11.9995 2C12.5518 2 12.9995 2.44772 12.9995 3V6C12.9995 6.55228 12.5518 7 11.9995 7C11.4472 7 10.9995 6.55228 10.9995 6V3C10.9995 2.44772 11.4472 2 11.9995 2ZM11.9995 17C12.5518 17 12.9995 17.4477 12.9995 18V21C12.9995 21.5523 12.5518 22 11.9995 22C11.4472 22 10.9995 21.5523 10.9995 21V18C10.9995 17.4477 11.4472 17 11.9995 17ZM20.6597 7C20.9359 7.47829 20.772 8.08988 20.2937 8.36602L17.6956 9.86602C17.2173 10.1422 16.6057 9.97829 16.3296 9.5C16.0535 9.02171 16.2173 8.41012 16.6956 8.13398L19.2937 6.63397C19.772 6.35783 20.3836 6.52171 20.6597 7ZM7.66935 14.5C7.94549 14.9783 7.78161 15.5899 7.30332 15.866L4.70525 17.366C4.22695 17.6422 3.61536 17.4783 3.33922 17C3.06308 16.5217 3.22695 15.9101 3.70525 15.634L6.30332 14.134C6.78161 13.8578 7.3932 14.0217 7.66935 14.5ZM20.6597 17C20.3836 17.4783 19.772 17.6422 19.2937 17.366L16.6956 15.866C16.2173 15.5899 16.0535 14.9783 16.3296 14.5C16.6057 14.0217 17.2173 13.8578 17.6956 14.134L20.2937 15.634C20.772 15.9101 20.9359 16.5217 20.6597 17ZM7.66935 9.5C7.3932 9.97829 6.78161 10.1422 6.30332 9.86602L3.70525 8.36602C3.22695 8.08988 3.06308 7.47829 3.33922 7C3.61536 6.52171 4.22695 6.35783 4.70525 6.63397L7.30332 8.13398C7.78161 8.41012 7.94549 9.02171 7.66935 9.5Z"})}),"mic-fill":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M11.9998 1C14.7612 1 16.9998 3.23858 16.9998 6V10C16.9998 12.7614 14.7612 15 11.9998 15C9.23833 15 6.99976 12.7614 6.99976 10V6C6.99976 3.23858 9.23833 1 11.9998 1ZM3.05469 11H5.07065C5.55588 14.3923 8.47329 17 11.9998 17C15.5262 17 18.4436 14.3923 18.9289 11H20.9448C20.4837 15.1716 17.1714 18.4839 12.9998 18.9451V23H10.9998V18.9451C6.82814 18.4839 3.51584 15.1716 3.05469 11Z"})}),"mic-off-fill":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M16.4249 17.839C15.3929 18.4228 14.2341 18.8087 13.0002 18.9451V23H11.0002V18.9451C6.82854 18.4839 3.51623 15.1716 3.05509 11H5.07105C5.55627 14.3923 8.47368 17 12.0002 17C13.0503 17 14.0464 16.7688 14.9404 16.3544L13.3902 14.8042C12.9489 14.9317 12.4825 15 12.0002 15C9.23873 15 7.00016 12.7614 7.00016 10V8.41421L1.39355 2.80761L2.80777 1.3934L22.6068 21.1924L21.1925 22.6066L16.4249 17.839ZM19.3747 15.1604L17.9323 13.7179C18.4407 12.9084 18.788 11.9874 18.9293 11H20.9452C20.7754 12.5366 20.2187 13.9565 19.3747 15.1604ZM16.4658 12.2514L7.68575 3.47139C8.55427 1.99268 10.1613 1 12.0002 1C14.7616 1 17.0002 3.23858 17.0002 6V10C17.0002 10.8099 16.8076 11.5748 16.4658 12.2514Z"})}),"send-plane-line":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M21.7267 2.95694L16.2734 22.0432C16.1225 22.5716 15.7979 22.5956 15.5563 22.1126L11 13L1.9229 9.36919C1.41322 9.16532 1.41953 8.86022 1.95695 8.68108L21.0432 2.31901C21.5716 2.14285 21.8747 2.43866 21.7267 2.95694ZM19.0353 5.09647L6.81221 9.17085L12.4488 11.4255L15.4895 17.5068L19.0353 5.09647Z"})}),"stop-circle-fill":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM9 9V15H15V9H9Z"})}),"stop-large-fill":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M3 4C3 3.44772 3.44772 3 4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4Z"})}),"volume-off-vibrate-fill":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M19.3891 3.16117L20.8033 4.57538L18.3277 7.04955L20.8033 9.52513L18.3277 11.9993L20.8033 14.4749L18.3284 16.9498L20.8033 19.4246L19.3891 20.8388L15.5 16.9498L17.9749 14.4749L15.5 12L17.9749 9.52513L15.5 7.05026L19.3891 3.16117ZM13 19.9449C13 20.221 12.7761 20.4449 12.5 20.4449C12.3846 20.4449 12.2727 20.405 12.1834 20.3319L6.88901 15.9991L3.00001 16C2.44772 16 2.00001 15.5523 2.00001 15V9.00001C2.00001 8.44772 2.44772 8.00001 3.00001 8.00001L5.58362 7.99762L1.80762 4.22183L3.22183 2.80762L12.9996 12.5856L13 19.9449ZM12.887 3.73851C12.9601 3.82784 13 3.93971 13 4.05513V9.75717L9.282 6.04017L12.1834 3.66815C12.3971 3.49328 12.7121 3.52479 12.887 3.73851Z"})}),"volume-vibrate-fill":jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M19.3891 3.16113L20.8033 4.57535L18.3277 7.04951L20.8033 9.52509L18.3277 11.9993L20.8033 14.4748L18.3284 16.9497L20.8033 19.4246L19.3891 20.8388L15.5 16.9497L17.9749 14.4748L15.5 12L17.9749 9.52509L15.5 7.05022L19.3891 3.16113ZM12.887 3.73847C12.9601 3.8278 13 3.93967 13 4.05509V19.9448C13 20.221 12.7761 20.4448 12.5 20.4448C12.3846 20.4448 12.2727 20.4049 12.1834 20.3318L6.889 15.9991L3 16C2.44772 16 2 15.5523 2 15V8.99997C2 8.44768 2.44772 7.99997 3 7.99997L6.889 7.99907L12.1834 3.66811C12.3971 3.49325 12.7121 3.52475 12.887 3.73847Z"})}),github:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"36px",width:"36px",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M12.001 2C6.47598 2 2.00098 6.475 2.00098 12C2.00098 16.425 4.86348 20.1625 8.83848 21.4875C9.33848 21.575 9.52598 21.275 9.52598 21.0125C9.52598 20.775 9.51348 19.9875 9.51348 19.15C7.00098 19.6125 6.35098 18.5375 6.15098 17.975C6.03848 17.6875 5.55098 16.8 5.12598 16.5625C4.77598 16.375 4.27598 15.9125 5.11348 15.9C5.90098 15.8875 6.46348 16.625 6.65098 16.925C7.55098 18.4375 8.98848 18.0125 9.56348 17.75C9.65098 17.1 9.91348 16.6625 10.201 16.4125C7.97598 16.1625 5.65098 15.3 5.65098 11.475C5.65098 10.3875 6.03848 9.4875 6.67598 8.7875C6.57598 8.5375 6.22598 7.5125 6.77598 6.1375C6.77598 6.1375 7.61348 5.875 9.52598 7.1625C10.326 6.9375 11.176 6.825 12.026 6.825C12.876 6.825 13.726 6.9375 14.526 7.1625C16.4385 5.8625 17.276 6.1375 17.276 6.1375C17.826 7.5125 17.476 8.5375 17.376 8.7875C18.0135 9.4875 18.401 10.375 18.401 11.475C18.401 15.3125 16.0635 16.1625 13.8385 16.4125C14.201 16.725 14.5135 17.325 14.5135 18.2625C14.5135 19.6 14.501 20.675 14.501 21.0125C14.501 21.275 14.6885 21.5875 15.1885 21.4875C19.259 20.1133 21.9999 16.2963 22.001 12C22.001 6.475 17.526 2 12.001 2Z"})}),menu:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24px",width:"24px",color:"white",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M3 4H21V6H3V4ZM3 11H21V13H3V11ZM3 18H21V20H3V18Z"})}),plus:jsxRuntimeExports.jsx("svg",{color:"black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24px",width:"24px",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M11  11V5H13V11H19V13H13V19H11V13H5V11H11Z"})}),login:jsxRuntimeExports.jsx("svg",{color:"black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24px",width:"24px",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M4 15H6V20H18V4H6V9H4V3C4 2.44772 4.44772 2 5 2H19C19.5523 2 20 2.44772 20 3V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V15ZM10 11V8L15 12L10 16V13H2V11H10Z"})}),logout:jsxRuntimeExports.jsx("svg",{color:"black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24px",width:"24px",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M4 18H6V20H18V4H6V6H4V3C4 2.44772 4.44772 2 5 2H19C19.5523 2 20 2.44772 20 3V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V18ZM6 11H13V13H6V16L1 12L6 8V11Z"})}),user:jsxRuntimeExports.jsx("svg",{color:"black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24px",width:"24px",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M4 22C4 17.5817 7.58172 14 12 14C16.4183 14 20 17.5817 20 22H4ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13Z"})}),user_logout:jsxRuntimeExports.jsx("svg",{color:"black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24px",width:"24px",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M14 14.252V16.3414C13.3744 16.1203 12.7013 16 12 16C8.68629 16 6 18.6863 6 22H4C4 17.5817 7.58172 14 12 14C12.6906 14 13.3608 14.0875 14 14.252ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11ZM19.4184 17H23.0042V19H19.4184L21.2469 20.8284L19.8326 22.2426L15.59 18L19.8326 13.7574L21.2469 15.1716L19.4184 17Z"})}),play:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24px",width:"24px",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M16.3944 12.0001L10 7.7371V16.263L16.3944 12.0001ZM19.376 12.4161L8.77735 19.4818C8.54759 19.635 8.23715 19.5729 8.08397 19.3432C8.02922 19.261 8 19.1645 8 19.0658V4.93433C8 4.65818 8.22386 4.43433 8.5 4.43433C8.59871 4.43433 8.69522 4.46355 8.77735 4.5183L19.376 11.584C19.6057 11.7372 19.6678 12.0477 19.5146 12.2774C19.478 12.3323 19.4309 12.3795 19.376 12.4161Z"})}),openai:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"24px",width:"24px",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M20.5624 10.1875C20.8124 9.5 20.8749 8.8125 20.8124 8.125C20.7499 7.4375 20.4999 6.75 20.1874 6.125C19.6249 5.1875 18.8124 4.4375 17.8749 4C16.8749 3.5625 15.8124 3.4375 14.7499 3.6875C14.2499 3.1875 13.6874 2.75 13.0624 2.4375C12.4374 2.125 11.6874 2 10.9999 2C9.9374 2 8.8749 2.3125 7.9999 2.9375C7.1249 3.5625 6.4999 4.4375 6.1874 5.4375C5.4374 5.625 4.8124 5.9375 4.1874 6.3125C3.6249 6.75 3.1874 7.3125 2.8124 7.875C2.24991 8.8125 2.06241 9.875 2.18741 10.9375C2.31241 12 2.7499 13 3.4374 13.8125C3.1874 14.5 3.1249 15.1875 3.1874 15.875C3.2499 16.5625 3.4999 17.25 3.8124 17.875C4.3749 18.8125 5.1874 19.5625 6.1249 20C7.1249 20.4375 8.1874 20.5625 9.2499 20.3125C9.7499 20.8125 10.3124 21.25 10.9374 21.5625C11.5624 21.875 12.3124 22 12.9999 22C14.0624 22 15.1249 21.6875 15.9999 21.0625C16.8749 20.4375 17.4999 19.5625 17.8124 18.5625C18.4999 18.4375 19.1874 18.125 19.7499 17.6875C20.3124 17.25 20.8124 16.75 21.1249 16.125C21.6874 15.1875 21.8749 14.125 21.7499 13.0625C21.6249 12 21.2499 11 20.5624 10.1875ZM13.0624 20.6875C12.0624 20.6875 11.3124 20.375 10.6249 19.8125C10.6249 19.8125 10.6874 19.75 10.7499 19.75L14.7499 17.4375C14.8749 17.375 14.9374 17.3125 14.9999 17.1875C15.0624 17.0625 15.0624 17 15.0624 16.875V11.25L16.7499 12.25V16.875C16.8124 19.0625 15.0624 20.6875 13.0624 20.6875ZM4.9999 17.25C4.5624 16.5 4.3749 15.625 4.5624 14.75C4.5624 14.75 4.6249 14.8125 4.6874 14.8125L8.6874 17.125C8.8124 17.1875 8.8749 17.1875 8.9999 17.1875C9.1249 17.1875 9.2499 17.1875 9.3124 17.125L14.1874 14.3125V16.25L10.1249 18.625C9.2499 19.125 8.2499 19.25 7.3124 19C6.3124 18.75 5.4999 18.125 4.9999 17.25ZM3.9374 8.5625C4.3749 7.8125 5.0624 7.25 5.8749 6.9375V7.0625V11.6875C5.8749 11.8125 5.8749 11.9375 5.9374 12C5.9999 12.125 6.0624 12.1875 6.1874 12.25L11.0624 15.0625L9.3749 16.0625L5.3749 13.75C4.4999 13.25 3.8749 12.4375 3.6249 11.5C3.3749 10.5625 3.4374 9.4375 3.9374 8.5625ZM17.7499 11.75L12.8749 8.9375L14.5624 7.9375L18.5624 10.25C19.1874 10.625 19.6874 11.125 19.9999 11.75C20.3124 12.375 20.4999 13.0625 20.4374 13.8125C20.3749 14.5 20.1249 15.1875 19.6874 15.75C19.2499 16.3125 18.6874 16.75 17.9999 17V12.25C17.9999 12.125 17.9999 12 17.9374 11.9375C17.9374 11.9375 17.8749 11.8125 17.7499 11.75ZM19.4374 9.25C19.4374 9.25 19.3749 9.1875 19.3124 9.1875L15.3124 6.875C15.1874 6.8125 15.1249 6.8125 14.9999 6.8125C14.8749 6.8125 14.7499 6.8125 14.6874 6.875L9.8124 9.6875V7.75L13.8749 5.375C14.4999 5 15.1874 4.875 15.9374 4.875C16.6249 4.875 17.3124 5.125 17.9374 5.5625C18.4999 6 18.9999 6.5625 19.2499 7.1875C19.4999 7.8125 19.5624 8.5625 19.4374 9.25ZM8.9374 12.75L7.2499 11.75V7.0625C7.2499 6.375 7.4374 5.625 7.8124 5.0625C8.1874 4.4375 8.7499 4 9.3749 3.6875C9.9999 3.375 10.7499 3.25 11.4374 3.375C12.1249 3.4375 12.8124 3.75 13.3749 4.1875C13.3749 4.1875 13.3124 4.25 13.2499 4.25L9.2499 6.5625C9.1249 6.625 9.0624 6.6875 8.9999 6.8125C8.9374 6.9375 8.9374 7 8.9374 7.125V12.75ZM9.8124 10.75L11.9999 9.5L14.1874 10.75V13.25L11.9999 14.5L9.8124 13.25V10.75Z"})}),pencil:jsxRuntimeExports.jsx("svg",{height:"16px",width:"16px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M15.7279 9.57627L14.3137 8.16206L5 17.4758V18.89H6.41421L15.7279 9.57627ZM17.1421 8.16206L18.5563 6.74785L17.1421 5.33363L15.7279 6.74785L17.1421 8.16206ZM7.24264 20.89H3V16.6473L16.435 3.21231C16.8256 2.82179 17.4587 2.82179 17.8492 3.21231L20.6777 6.04074C21.0682 6.43126 21.0682 7.06443 20.6777 7.45495L7.24264 20.89Z"})}),speak:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M16.9337 8.96494C16.426 5.03562 13.0675 2 9 2 4.58172 2 1 5.58172 1 10 1 11.8924 1.65707 13.6313 2.7555 15.0011 3.56351 16.0087 4.00033 17.1252 4.00025 18.3061L4 22H13L13.001 19H15C16.1046 19 17 18.1046 17 17V14.071L18.9593 13.2317C19.3025 13.0847 19.3324 12.7367 19.1842 12.5037L16.9337 8.96494ZM3 10C3 6.68629 5.68629 4 9 4 12.0243 4 14.5665 6.25141 14.9501 9.22118L15.0072 9.66262 16.5497 12.0881 15 12.7519V17H11.0017L11.0007 20H6.00013L6.00025 18.3063C6.00036 16.6672 5.40965 15.114 4.31578 13.7499 3.46818 12.6929 3 11.3849 3 10ZM21.1535 18.1024 19.4893 16.9929C20.4436 15.5642 21 13.8471 21 12.0001 21 10.153 20.4436 8.4359 19.4893 7.00722L21.1535 5.89771C22.32 7.64386 23 9.74254 23 12.0001 23 14.2576 22.32 16.3562 21.1535 18.1024Z"})}),team:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M12 11C14.7614 11 17 13.2386 17 16V22H15V16C15 14.4023 13.7511 13.0963 12.1763 13.0051L12 13C10.4023 13 9.09634 14.2489 9.00509 15.8237L9 16V22H7V16C7 13.2386 9.23858 11 12 11ZM5.5 14C5.77885 14 6.05009 14.0326 6.3101 14.0942C6.14202 14.594 6.03873 15.122 6.00896 15.6693L6 16L6.0007 16.0856C5.88757 16.0456 5.76821 16.0187 5.64446 16.0069L5.5 16C4.7203 16 4.07955 16.5949 4.00687 17.3555L4 17.5V22H2V17.5C2 15.567 3.567 14 5.5 14ZM18.5 14C20.433 14 22 15.567 22 17.5V22H20V17.5C20 16.7203 19.4051 16.0796 18.6445 16.0069L18.5 16C18.3248 16 18.1566 16.03 18.0003 16.0852L18 16C18 15.3343 17.8916 14.694 17.6915 14.0956C17.9499 14.0326 18.2211 14 18.5 14ZM5.5 8C6.88071 8 8 9.11929 8 10.5C8 11.8807 6.88071 13 5.5 13C4.11929 13 3 11.8807 3 10.5C3 9.11929 4.11929 8 5.5 8ZM18.5 8C19.8807 8 21 9.11929 21 10.5C21 11.8807 19.8807 13 18.5 13C17.1193 13 16 11.8807 16 10.5C16 9.11929 17.1193 8 18.5 8ZM5.5 10C5.22386 10 5 10.2239 5 10.5C5 10.7761 5.22386 11 5.5 11C5.77614 11 6 10.7761 6 10.5C6 10.2239 5.77614 10 5.5 10ZM18.5 10C18.2239 10 18 10.2239 18 10.5C18 10.7761 18.2239 11 18.5 11C18.7761 11 19 10.7761 19 10.5C19 10.2239 18.7761 10 18.5 10ZM12 2C14.2091 2 16 3.79086 16 6C16 8.20914 14.2091 10 12 10C9.79086 10 8 8.20914 8 6C8 3.79086 9.79086 2 12 2ZM12 4C10.8954 4 10 4.89543 10 6C10 7.10457 10.8954 8 12 8C13.1046 8 14 7.10457 14 6C14 4.89543 13.1046 4 12 4Z"})}),teamlarge:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M12 11C14.7614 11 17 13.2386 17 16V22H15V16C15 14.4023 13.7511 13.0963 12.1763 13.0051L12 13C10.4023 13 9.09634 14.2489 9.00509 15.8237L9 16V22H7V16C7 13.2386 9.23858 11 12 11ZM5.5 14C5.77885 14 6.05009 14.0326 6.3101 14.0942C6.14202 14.594 6.03873 15.122 6.00896 15.6693L6 16L6.0007 16.0856C5.88757 16.0456 5.76821 16.0187 5.64446 16.0069L5.5 16C4.7203 16 4.07955 16.5949 4.00687 17.3555L4 17.5V22H2V17.5C2 15.567 3.567 14 5.5 14ZM18.5 14C20.433 14 22 15.567 22 17.5V22H20V17.5C20 16.7203 19.4051 16.0796 18.6445 16.0069L18.5 16C18.3248 16 18.1566 16.03 18.0003 16.0852L18 16C18 15.3343 17.8916 14.694 17.6915 14.0956C17.9499 14.0326 18.2211 14 18.5 14ZM5.5 8C6.88071 8 8 9.11929 8 10.5C8 11.8807 6.88071 13 5.5 13C4.11929 13 3 11.8807 3 10.5C3 9.11929 4.11929 8 5.5 8ZM18.5 8C19.8807 8 21 9.11929 21 10.5C21 11.8807 19.8807 13 18.5 13C17.1193 13 16 11.8807 16 10.5C16 9.11929 17.1193 8 18.5 8ZM5.5 10C5.22386 10 5 10.2239 5 10.5C5 10.7761 5.22386 11 5.5 11C5.77614 11 6 10.7761 6 10.5C6 10.2239 5.77614 10 5.5 10ZM18.5 10C18.2239 10 18 10.2239 18 10.5C18 10.7761 18.2239 11 18.5 11C18.7761 11 19 10.7761 19 10.5C19 10.2239 18.7761 10 18.5 10ZM12 2C14.2091 2 16 3.79086 16 6C16 8.20914 14.2091 10 12 10C9.79086 10 8 8.20914 8 6C8 3.79086 9.79086 2 12 2ZM12 4C10.8954 4 10 4.89543 10 6C10 7.10457 10.8954 8 12 8C13.1046 8 14 7.10457 14 6C14 4.89543 13.1046 4 12 4Z"})}),settings:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M2.13127 13.6308C1.9492 12.5349 1.95521 11.434 2.13216 10.3695C3.23337 10.3963 4.22374 9.86798 4.60865 8.93871C4.99357 8.00944 4.66685 6.93557 3.86926 6.17581C4.49685 5.29798 5.27105 4.51528 6.17471 3.86911C6.9345 4.66716 8.0087 4.99416 8.93822 4.60914C9.86774 4.22412 10.3961 3.23332 10.369 2.13176C11.4649 1.94969 12.5658 1.9557 13.6303 2.13265C13.6036 3.23385 14.1319 4.22422 15.0612 4.60914C15.9904 4.99406 17.0643 4.66733 17.8241 3.86975C18.7019 4.49734 19.4846 5.27153 20.1308 6.1752C19.3327 6.93499 19.0057 8.00919 19.3907 8.93871C19.7757 9.86823 20.7665 10.3966 21.8681 10.3695C22.0502 11.4654 22.0442 12.5663 21.8672 13.6308C20.766 13.6041 19.7756 14.1324 19.3907 15.0616C19.0058 15.9909 19.3325 17.0648 20.1301 17.8245C19.5025 18.7024 18.7283 19.4851 17.8247 20.1312C17.0649 19.3332 15.9907 19.0062 15.0612 19.3912C14.1316 19.7762 13.6033 20.767 13.6303 21.8686C12.5344 22.0507 11.4335 22.0447 10.3691 21.8677C10.3958 20.7665 9.86749 19.7761 8.93822 19.3912C8.00895 19.0063 6.93508 19.333 6.17532 20.1306C5.29749 19.503 4.51479 18.7288 3.86862 17.8252C4.66667 17.0654 4.99367 15.9912 4.60865 15.0616C4.22363 14.1321 3.23284 13.6038 2.13127 13.6308ZM11.9997 15.0002C13.6565 15.0002 14.9997 13.657 14.9997 12.0002C14.9997 10.3433 13.6565 9.00018 11.9997 9.00018C10.3428 9.00018 8.99969 10.3433 8.99969 12.0002C8.99969 13.657 10.3428 15.0002 11.9997 15.0002Z"})}),save:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M7 19V13H17V19H19V7.82843L16.1716 5H5V19H7ZM4 3H17L21 7V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM9 15V19H15V15H9Z"})}),bin:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 11H11V17H9V11ZM13 11H15V17H13V11ZM9 4V6H15V4H9Z"})}),close:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M11.9997 10.5865L16.9495 5.63672L18.3637 7.05093L13.4139 12.0007L18.3637 16.9504L16.9495 18.3646L11.9997 13.4149L7.04996 18.3646L5.63574 16.9504L10.5855 12.0007L5.63574 7.05093L7.04996 5.63672L11.9997 10.5865Z"})}),add:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"})}),clipboard:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M7 4V2H17V4H20.0066C20.5552 4 21 4.44495 21 4.9934V21.0066C21 21.5552 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5551 3 21.0066V4.9934C3 4.44476 3.44495 4 3.9934 4H7ZM7 6H5V20H19V6H17V8H7V6ZM9 4V6H15V4H9Z"})}),question:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 15H13V17H11V15ZM13 13.3551V14H11V12.5C11 11.9477 11.4477 11.5 12 11.5C12.8284 11.5 13.5 10.8284 13.5 10C13.5 9.17157 12.8284 8.5 12 8.5C11.2723 8.5 10.6656 9.01823 10.5288 9.70577L8.56731 9.31346C8.88637 7.70919 10.302 6.5 12 6.5C13.933 6.5 15.5 8.067 15.5 10C15.5 11.5855 14.4457 12.9248 13 13.3551Z"})}),reply:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M11 20L1 12L11 4V9C16.5228 9 21 13.4772 21 19C21 19.2729 20.9891 19.5433 20.9676 19.8107C19.4605 16.9502 16.458 15 13 15H11V20Z"})}),commit:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M18 16V14H19V4H6V14.0354C6.1633 14.0121 6.33024 14 6.5 14H8V16H6.5C5.67157 16 5 16.6716 5 17.5C5 18.3284 5.67157 19 6.5 19H10V21H6.5C4.567 21 3 19.433 3 17.5V5C3 3.34315 4.34315 2 6 2H20C20.5523 2 21 2.44772 21 3V20C21 20.5523 20.5523 21 20 21H16V19H19V16H18ZM7 5H9V7H7V5ZM7 8H9V10H7V8ZM14 17V23H12V17H9L13 12L17 17H14Z"})}),chat:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M10 3H14C18.4183 3 22 6.58172 22 11C22 15.4183 18.4183 19 14 19V22.5C9 20.5 2 17.5 2 11C2 6.58172 5.58172 3 10 3ZM12 17H14C17.3137 17 20 14.3137 20 11C20 7.68629 17.3137 5 14 5H10C6.68629 5 4 7.68629 4 11C4 14.61 6.46208 16.9656 12 19.4798V17Z"})}),history:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12H4C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C9.25022 4 6.82447 5.38734 5.38451 7.50024L8 7.5V9.5H2V3.5H4L3.99989 5.99918C5.82434 3.57075 8.72873 2 12 2ZM13 7L12.9998 11.585L16.2426 14.8284L14.8284 16.2426L10.9998 12.413L11 7H13Z"})}),newchat:jsxRuntimeExports.jsx("svg",{color:"white",height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M14 3V5H4V18.3851L5.76282 17H20V10H22V18C22 18.5523 21.5523 19 21 19H6.45455L2 22.5V4C2 3.44772 2.44772 3 3 3H14ZM19 3V0H21V3H24V5H21V8H19V5H16V3H19Z"})}),filecopy:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M6.9998 6V3C6.9998 2.44772 7.44752 2 7.9998 2H19.9998C20.5521 2 20.9998 2.44772 20.9998 3V17C20.9998 17.5523 20.5521 18 19.9998 18H16.9998V20.9991C16.9998 21.5519 16.5499 22 15.993 22H4.00666C3.45059 22 3 21.5554 3 20.9991L3.0026 7.00087C3.0027 6.44811 3.45264 6 4.00942 6H6.9998ZM5.00242 8L5.00019 20H14.9998V8H5.00242ZM8.9998 6H16.9998V16H18.9998V4H8.9998V6Z"})}),brain:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M9 4C10.1046 4 11 4.89543 11 6V12.8271C10.1058 12.1373 8.96602 11.7305 7.6644 11.5136L7.3356 13.4864C8.71622 13.7165 9.59743 14.1528 10.1402 14.7408C10.67 15.3147 11 16.167 11 17.5C11 18.8807 9.88071 20 8.5 20C7.11929 20 6 18.8807 6 17.5V17.1493C6.43007 17.2926 6.87634 17.4099 7.3356 17.4864L7.6644 15.5136C6.92149 15.3898 6.1752 15.1144 5.42909 14.7599C4.58157 14.3573 4 13.499 4 12.5C4 11.6653 4.20761 11.0085 4.55874 10.5257C4.90441 10.0504 5.4419 9.6703 6.24254 9.47014L7 9.28078V6C7 4.89543 7.89543 4 9 4ZM12 3.35418C11.2671 2.52376 10.1947 2 9 2C6.79086 2 5 3.79086 5 6V7.77422C4.14895 8.11644 3.45143 8.64785 2.94126 9.34933C2.29239 10.2415 2 11.3347 2 12.5C2 14.0652 2.79565 15.4367 4 16.2422V17.5C4 19.9853 6.01472 22 8.5 22C9.91363 22 11.175 21.3482 12 20.3287C12.825 21.3482 14.0864 22 15.5 22C17.9853 22 20 19.9853 20 17.5V16.2422C21.2044 15.4367 22 14.0652 22 12.5C22 11.3347 21.7076 10.2415 21.0587 9.34933C20.5486 8.64785 19.8511 8.11644 19 7.77422V6C19 3.79086 17.2091 2 15 2C13.8053 2 12.7329 2.52376 12 3.35418ZM18 17.1493V17.5C18 18.8807 16.8807 20 15.5 20C14.1193 20 13 18.8807 13 17.5C13 16.167 13.33 15.3147 13.8598 14.7408C14.4026 14.1528 15.2838 13.7165 16.6644 13.4864L16.3356 11.5136C15.034 11.7305 13.8942 12.1373 13 12.8271V6C13 4.89543 13.8954 4 15 4C16.1046 4 17 4.89543 17 6V9.28078L17.7575 9.47014C18.5581 9.6703 19.0956 10.0504 19.4413 10.5257C19.7924 11.0085 20 11.6653 20 12.5C20 13.499 19.4184 14.3573 18.5709 14.7599C17.8248 15.1144 17.0785 15.3898 16.3356 15.5136L16.6644 17.4864C17.1237 17.4099 17.5699 17.2926 18 17.1493Z"})}),attachment:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M14 13.5V8C14 5.79086 12.2091 4 10 4C7.79086 4 6 5.79086 6 8V13.5C6 17.0899 8.91015 20 12.5 20C16.0899 20 19 17.0899 19 13.5V4H21V13.5C21 18.1944 17.1944 22 12.5 22C7.80558 22 4 18.1944 4 13.5V8C4 4.68629 6.68629 2 10 2C13.3137 2 16 4.68629 16 8V13.5C16 15.433 14.433 17 12.5 17C10.567 17 9 15.433 9 13.5V8H11V13.5C11 14.3284 11.6716 15 12.5 15C13.3284 15 14 14.3284 14 13.5Z"})}),magic:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M15.1986 9.94447C14.7649 9.5337 14.4859 8.98613 14.4085 8.39384L14.0056 5.31138L11.275 6.79724C10.7503 7.08274 10.1433 7.17888 9.55608 7.06948L6.49998 6.50015L7.06931 9.55625C7.17871 10.1435 7.08257 10.7505 6.79707 11.2751L5.31121 14.0057L8.39367 14.4086C8.98596 14.4861 9.53353 14.7651 9.94431 15.1987L12.0821 17.4557L13.4178 14.6486C13.6745 14.1092 14.109 13.6747 14.6484 13.418L17.4555 12.0823L15.1986 9.94447ZM15.2238 15.5079L13.0111 20.1581C12.8687 20.4573 12.5107 20.5844 12.2115 20.442C12.1448 20.4103 12.0845 20.3665 12.0337 20.3129L8.49229 16.5741C8.39749 16.474 8.27113 16.4096 8.13445 16.3918L3.02816 15.7243C2.69958 15.6814 2.46804 15.3802 2.51099 15.0516C2.52056 14.9784 2.54359 14.9075 2.5789 14.8426L5.04031 10.3192C5.1062 10.1981 5.12839 10.058 5.10314 9.92253L4.16 4.85991C4.09931 4.53414 4.3142 4.22086 4.63997 4.16017C4.7126 4.14664 4.78711 4.14664 4.85974 4.16017L9.92237 5.10331C10.0579 5.12855 10.198 5.10637 10.319 5.04048L14.8424 2.57907C15.1335 2.42068 15.4979 2.52825 15.6562 2.81931C15.6916 2.88421 15.7146 2.95507 15.7241 3.02833L16.3916 8.13462C16.4095 8.2713 16.4739 8.39766 16.5739 8.49245L20.3127 12.0338C20.5533 12.2617 20.5636 12.6415 20.3357 12.8821C20.2849 12.9357 20.2246 12.9795 20.1579 13.0112L15.5078 15.224C15.3833 15.2832 15.283 15.3835 15.2238 15.5079ZM16.0206 17.435L17.4348 16.0208L21.6775 20.2634L20.2633 21.6776L16.0206 17.435Z"})}),tag:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M10.9042 2.10025L20.8037 3.51446L22.2179 13.414L13.0255 22.6063C12.635 22.9969 12.0019 22.9969 11.6113 22.6063L1.71184 12.7069C1.32131 12.3163 1.32131 11.6832 1.71184 11.2926L10.9042 2.10025ZM11.6113 4.22157L3.83316 11.9997L12.3184 20.485L20.0966 12.7069L19.036 5.28223L11.6113 4.22157ZM13.7327 10.5855C12.9516 9.80448 12.9516 8.53815 13.7327 7.7571C14.5137 6.97606 15.78 6.97606 16.5611 7.7571C17.3421 8.53815 17.3421 9.80448 16.5611 10.5855C15.78 11.3666 14.5137 11.3666 13.7327 10.5855Z"})}),left:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M8.36853 12L13.1162 3.03212L14.8838 3.9679L10.6315 12L14.8838 20.0321L13.1162 20.9679L8.36853 12Z"})}),right:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M15.6315 12L10.8838 3.03212L9.11622 3.9679L13.3685 12L9.11622 20.0321L10.8838 20.9679L15.6315 12Z"})}),user:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M20 22H18V20C18 18.3431 16.6569 17 15 17H9C7.34315 17 6 18.3431 6 20V22H4V20C4 17.2386 6.23858 15 9 15H15C17.7614 15 20 17.2386 20 20V22ZM12 13C8.68629 13 6 10.3137 6 7C6 3.68629 8.68629 1 12 1C15.3137 1 18 3.68629 18 7C18 10.3137 15.3137 13 12 13ZM12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z"})}),hammer:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M20 2C20.5523 2 21 2.44772 21 3V8C21 8.55228 20.5523 9 20 9H15V22C15 22.5523 14.5523 23 14 23H10C9.44772 23 9 22.5523 9 22V9H3.5C2.94772 9 2.5 8.55228 2.5 8V5.61803C2.5 5.23926 2.714 4.893 3.05279 4.72361L8.5 2H20ZM15 4H8.97214L4.5 6.23607V7H11V21H13V7H15V4ZM19 4H17V7H19V4Z"})}),search:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M18.031 16.6168L22.3137 20.8995L20.8995 22.3137L16.6168 18.031C15.0769 19.263 13.124 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2C15.968 2 20 6.032 20 11C20 13.124 19.263 15.0769 18.031 16.6168ZM16.0247 15.8748C17.2475 14.6146 18 12.8956 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18C12.8956 18 14.6146 17.2475 15.8748 16.0247L16.0247 15.8748Z"})}),home:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M19 21H5C4.44772 21 4 20.5523 4 20V11L1 11L11.3273 1.6115C11.7087 1.26475 12.2913 1.26475 12.6727 1.6115L23 11L20 11V20C20 20.5523 19.5523 21 19 21ZM13 19H18V9.15745L12 3.7029L6 9.15745V19H11V13H13V19Z"})}),folder:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M4 5V19H20V7H11.5858L9.58579 5H4ZM12.4142 5H21C21.5523 5 22 5.44772 22 6V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H10.4142L12.4142 5Z"})}),googledrive:jsxRuntimeExports.jsx("svg",{height:"24px",width:"24px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M9.09742 6.15015L4.31009 14.4431L6.06471 17.4746L10.8502 9.18597L9.09742 6.15015ZM7.79701 18.4742H17.3651L19.1162 15.44H9.54877L7.79701 18.4742ZM19.1109 13.44L14.3252 5.15002H10.8294L15.6156 13.44H19.1109ZM8.52 3.15002H15.48L22 14.4444L18.52 20.4742H5.49L2 14.4444L8.52 3.15002ZM12.0049 11.186L10.7035 13.44H13.3062L12.0049 11.186Z"})})};return b}function useAppState(b){const[$,_e]=reactExports.useState(0),et=reactExports.useRef([]);function tt(Zt){et.current=Zt}const[nt,rt]=reactExports.useState([]);function ot(Zt){rt(Zt),localStorage.setItem("voice2llm_category_filter",JSON.stringify(Zt)),b.doSave()}const[st,ct]=reactExports.useState(!1),[lt,at]=reactExports.useState(!1),[it,ut]=reactExports.useState(!1),[dt,ht]=reactExports.useState(!1),[ft,pt]=reactExports.useState({fred:3,mike:9});function mt(Zt){pt(Zt),localStorage.setItem("voice2llm_categories",JSON.stringify(Zt)),b.doSave()}const[gt,vt]=reactExports.useState(""),yt=reactExports.useRef("");function bt(Zt){yt.current=Zt,vt(Zt)}const[xt,_t]=reactExports.useState(!1),[wt,At]=reactExports.useState(!1),[Pt,jt]=reactExports.useState();function kt(Zt){jt(Zt),localStorage.setItem("voice2llm_config",JSON.stringify(Zt)),b.doSave()}const[St,Ct]=reactExports.useState([]);reactExports.useEffect(function(){console.log("appstate load"),fetch("http://localhost/pricing",{method:"GET"}).then(function(Zt){if(console.log("bill respon l",Zt),!Zt.ok)throw new Error("Failed to load pricing");Zt.json().then(function(Qt){console.log("bill respon DATA",Qt),Qt&&Qt.llm&&(console.log("LOADED MODELS",Qt),Ct(Qt))})})},[]);const[Et,Tt]=reactExports.useState(!1),$t=reactExports.useRef({}),Ot=reactExports.useRef(""),Rt=useIcons();reactExports.useEffect(function(){if(!Pt){try{let Zt=JSON.parse(localStorage.getItem("voice2llm_config"));kt(Zt),Jt()}catch{kt({llm:{},tts:{},stt:{}}),Jt()}try{let Zt=JSON.parse(localStorage.getItem("voice2llm_category_filter"));ot(Zt),Jt()}catch{ot(["featured"]),Jt()}}},[]);function Nt(){return Pt&&Pt.llm&&Pt.llm.use}function Ft(){ht(!0)}function Ht(){ht(!1)}const[zt,an]=reactExports.useState(new Date().getTime());function Jt(){an(new Date().getTime())}return{availableModels:St,utteranceQueue:et,setUtteranceQueue:tt,mergeData:it,setMergeData:ut,lastLlmTrigger:Ot,autoStartMicrophone:st,setAutoStartMicrophone:ct,autoStopMicrophone:lt,setAutoStopMicrophone:at,llmEnabled:Et,setLlmEnabled:Tt,icons:Rt,configRef:$t,refreshHash:zt,setRefreshHash:an,forceRefresh:Jt,hasRequiredConfig:Nt,isSpeaking:wt,setIsSpeaking:At,isWaiting:dt,startWaiting:Ft,stopWaiting:Ht,userMessage:gt,userMessageRef:yt,setUserMessage:bt,isReady:xt,setIsReady:_t,config:Pt,setConfig:kt,categories:ft,setCategories:mt,accordionSelectedKey:$,setAccordionSelectedKey:_e,categoryFilter:nt,setCategoryFilter:ot}}var index$5=reactExports.useLayoutEffect,useLatest=function($){var _e=reactExports.useRef($);return index$5(function(){_e.current=$}),_e},updateRef=function($,_e){if(typeof $=="function"){$(_e);return}$.current=_e},useComposedRef=function($,_e){var et=reactExports.useRef();return reactExports.useCallback(function(tt){$.current=tt,et.current&&updateRef(et.current,null),et.current=_e,_e&&updateRef(_e,tt)},[_e])},HIDDEN_TEXTAREA_STYLE={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},forceHiddenStyles=function($){Object.keys(HIDDEN_TEXTAREA_STYLE).forEach(function(_e){$.style.setProperty(_e,HIDDEN_TEXTAREA_STYLE[_e],"important")})},forceHiddenStyles$1=forceHiddenStyles,hiddenTextarea=null,getHeight=function($,_e){var et=$.scrollHeight;return _e.sizingStyle.boxSizing==="border-box"?et+_e.borderSize:et-_e.paddingSize};function calculateNodeHeight(b,$,_e,et){_e===void 0&&(_e=1),et===void 0&&(et=1/0),hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),hiddenTextarea.setAttribute("tabindex","-1"),hiddenTextarea.setAttribute("aria-hidden","true"),forceHiddenStyles$1(hiddenTextarea)),hiddenTextarea.parentNode===null&&document.body.appendChild(hiddenTextarea);var tt=b.paddingSize,nt=b.borderSize,rt=b.sizingStyle,ot=rt.boxSizing;Object.keys(rt).forEach(function(it){var ut=it;hiddenTextarea.style[ut]=rt[ut]}),forceHiddenStyles$1(hiddenTextarea),hiddenTextarea.value=$;var st=getHeight(hiddenTextarea,b);hiddenTextarea.value=$,st=getHeight(hiddenTextarea,b),hiddenTextarea.value="x";var ct=hiddenTextarea.scrollHeight-tt,lt=ct*_e;ot==="border-box"&&(lt=lt+tt+nt),st=Math.max(lt,st);var at=ct*et;return ot==="border-box"&&(at=at+tt+nt),st=Math.min(at,st),[st,ct]}var noop$4=function(){},pick=function($,_e){return $.reduce(function(et,tt){return et[tt]=_e[tt],et},{})},SIZING_STYLE=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],isIE=!!document.documentElement.currentStyle,getSizingData=function($){var _e=window.getComputedStyle($);if(_e===null)return null;var et=pick(SIZING_STYLE,_e),tt=et.boxSizing;if(tt==="")return null;isIE&&tt==="border-box"&&(et.width=parseFloat(et.width)+parseFloat(et.borderRightWidth)+parseFloat(et.borderLeftWidth)+parseFloat(et.paddingRight)+parseFloat(et.paddingLeft)+"px");var nt=parseFloat(et.paddingBottom)+parseFloat(et.paddingTop),rt=parseFloat(et.borderBottomWidth)+parseFloat(et.borderTopWidth);return{sizingStyle:et,paddingSize:nt,borderSize:rt}},getSizingData$1=getSizingData;function useListener(b,$,_e){var et=useLatest(_e);reactExports.useLayoutEffect(function(){var tt=function(rt){return et.current(rt)};if(b)return b.addEventListener($,tt),function(){return b.removeEventListener($,tt)}},[])}var useWindowResizeListener=function($){useListener(window,"resize",$)},useFontsLoadedListener=function($){useListener(document.fonts,"loadingdone",$)},_excluded$1=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],TextareaAutosize=function($,_e){var et=$.cacheMeasurements,tt=$.maxRows,nt=$.minRows,rt=$.onChange,ot=rt===void 0?noop$4:rt,st=$.onHeightChange,ct=st===void 0?noop$4:st,lt=_objectWithoutPropertiesLoose$b($,_excluded$1),at=lt.value!==void 0,it=reactExports.useRef(null),ut=useComposedRef(it,_e),dt=reactExports.useRef(0),ht=reactExports.useRef(),ft=function(){var gt=it.current,vt=et&&ht.current?ht.current:getSizingData$1(gt);if(vt){ht.current=vt;var yt=calculateNodeHeight(vt,gt.value||gt.placeholder||"x",nt,tt),bt=yt[0],xt=yt[1];dt.current!==bt&&(dt.current=bt,gt.style.setProperty("height",bt+"px","important"),ct(bt,{rowHeight:xt}))}},pt=function(gt){at||ft(),ot(gt)};return reactExports.useLayoutEffect(ft),useWindowResizeListener(ft),useFontsLoadedListener(ft),reactExports.createElement("textarea",_extends$5({},lt,{onChange:pt,ref:ut}))},index$4=reactExports.forwardRef(TextareaAutosize);function OpenAiWizard({user:b,token:$,login:_e,logout:et,config:tt,setConfig:nt,forceRefresh:rt}){const[ot,st]=reactExports.useState(""),[ct,lt]=reactExports.useState("");reactExports.useState("");const at=useIcons();reactExports.useEffect(function(){st(tt&&tt.llm&&tt.llm.openai_key?tt.llm.openai_key:"")},[JSON.stringify(tt)]);function it(){ot&&(tt=tt||{},tt.llm=tt.llm?tt.llm:{},tt.stt=tt.stt?tt.stt:{},tt.tts=tt.tts?tt.tts:{},tt.llm.openai_key=ot,tt.llm.use="openai",tt.stt.openai_key=ot,tt.stt.use="openai",tt.tts.openai_key=ot,tt.tts.use="openai",nt(tt),rt())}function ut(){ct&&(tt=tt||{},tt.llm=tt.llm?tt.llm:{},tt.stt=tt.stt?tt.stt:{},tt.tts=tt.tts?tt.tts:{},tt.llm.openai_key=ct,tt.llm.openai_hosted_url="https://api.groq.com/openai",tt.llm.openai_model="llama3-8b-8192",tt.llm.use="openai",nt(tt),rt())}function dt(){tt=tt||{},tt.llm=tt.llm?tt.llm:{},tt.llm.use="none",nt(tt),rt()}return jsxRuntimeExports.jsxs("div",{style:{marginLeft:"0.5em"},children:[jsxRuntimeExports.jsxs("h5",{style:{marginTop:"1em",marginBottom:"1em"},children:["Quick Start",!($&&$.access_token)&&jsxRuntimeExports.jsx(Button,{style:{marginLeft:"3em"},onClick:function(){_e()},variant:"primary",children:"Login to Load Configuration"}),jsxRuntimeExports.jsx(Button,{style:{marginLeft:"3em"},variant:"danger",onClick:dt,children:"Skip"})]}),jsxRuntimeExports.jsxs("div",{style:{borderBottom:"2px solid black"},children:[jsxRuntimeExports.jsxs(Row,{children:[jsxRuntimeExports.jsxs(Col,{className:"mb-3",style:{border:"1px solid black",paddingTop:"1.5em",paddingBottom:"1.5em",paddingLeft:"1em",paddingRight:"1em"},children:[jsxRuntimeExports.jsx("b",{style:{fontSize:"1em",marginBottom:"1em"},children:"The easiest way to get going is to enter an API key for OpenAI."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"1em"},children:jsxRuntimeExports.jsx("a",{target:"_new",href:"https://platform.openai.com/api-keys",style:{textDecoration:"none"},children:jsxRuntimeExports.jsx(Button,{variant:"primary",style:{},children:"Get API Key"})})}),jsxRuntimeExports.jsxs(Form$1.Group,{className:"mb-3",controlId:"formKey",children:[jsxRuntimeExports.jsx(Form$1.Control,{type:"text",placeholder:"Enter key",style:{width:"80%",float:"left"},value:ot,onChange:function(ht){st(ht.target.value)}}),jsxRuntimeExports.jsx(Button,{variant:"primary",style:{float:"right",fontStyle:"italic",float:"left"},onClick:function(){navigator.clipboard.readText().then(ht=>{document.getElementById("pasteArea").innerText=ht}).catch(ht=>{console.error("Failed to read clipboard contents: ",ht)})},children:at.clipboard}),jsxRuntimeExports.jsx(Button,{style:{float:"left"},disabled:!ot,variant:"success",onClick:it,children:"Setup OpenAi"}),jsxRuntimeExports.jsx("div",{style:{clear:"both"}})]})]}),jsxRuntimeExports.jsxs(Col,{className:"mb-3",style:{border:"1px solid black",paddingTop:"1.5em",paddingBottom:"1.5em",paddingLeft:"1em",paddingRight:"1em"},children:[jsxRuntimeExports.jsx("b",{style:{fontSize:"1em",marginBottom:"1em"},children:"Alternately GroqCloud is fast and cheap for open models."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("div",{style:{marginBottom:"1em"},children:jsxRuntimeExports.jsx("a",{target:"_new",href:"https://console.groq.com/keys",style:{textDecoration:"none"},children:jsxRuntimeExports.jsx(Button,{variant:"primary",style:{},children:"Get API Key"})})}),jsxRuntimeExports.jsxs(Form$1.Group,{className:"mb-3",controlId:"formKey",children:[jsxRuntimeExports.jsx(Form$1.Control,{type:"text",placeholder:"Enter key",style:{width:"80%",float:"left"},value:ct,onChange:function(ht){lt(ht.target.value)}}),jsxRuntimeExports.jsx(Button,{variant:"primary",style:{float:"right",fontStyle:"italic",float:"left"},onClick:function(){navigator.clipboard.readText().then(ht=>{document.getElementById("pasteArea").innerText=ht}).catch(ht=>{console.error("Failed to read clipboard contents: ",ht)})},children:at.clipboard}),jsxRuntimeExports.jsx(Button,{style:{float:"left"},disabled:!ct,variant:"success",onClick:ut,children:"Setup GroqCloud"}),jsxRuntimeExports.jsx("div",{style:{clear:"both"}})]})]})]}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Text,{className:"text-muted",children:[jsxRuntimeExports.jsx("div",{style:{color:"red",fontWeight:"bold"},children:"Warning! API Keys are stored in browser local storage on this computer."}),jsxRuntimeExports.jsx("div",{style:{color:"red",fontWeight:"bold"},children:"Warning! If you login with Google, API Keys are stored in private document in your Google Drive."}),jsxRuntimeExports.jsx("div",{style:{color:"red",fontWeight:"bold"},children:"API Keys are used strictly for relevant API requests."})]})})}),jsxRuntimeExports.jsx(Row,{style:{borderTop:"2px solid black",marginTop:"1em",marginBottom:"1em"},children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Text,{className:"text-muted",children:[jsxRuntimeExports.jsxs("span",{style:{color:"black",fontWeight:"bold"},children:["This an Open Source project released under an MIT licence, the ",jsxRuntimeExports.jsx("a",{target:"new",href:"https://github.com/syntithenai/syntithenai_agents",style:{color:"black",borderRadius:"50px"},children:"	source code is available on Github"}),jsxRuntimeExports.jsxs("a",{target:"new",href:"https://github.com/syntithenai/syntithenai_agents",style:{color:"black",borderRadius:"50px"},children:[at.github,"  "]})]}),jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsxs("form",{action:"https://www.paypal.com/donate",method:"post",target:"_new",children:[jsxRuntimeExports.jsx("input",{type:"hidden",name:"hosted_button_id",value:"3YUZQ4TGLEVCE"}),jsxRuntimeExports.jsx("input",{type:"image",style:{transform:"rotate(20deg)",height:"60px",width:"50px"},src:"https://pics.paypal.com/00/s/OGVmNmM4NTQtMGQ0MS00NGVhLWI0NDgtNzMxYWRkMDY5NzIy/file.PNG",border:"0",name:"submit",title:"Buy me a beer!",alt:"Buy me a beer!"}),jsxRuntimeExports.jsx("img",{alt:"",border:"0",src:"https://www.paypal.com/en_AU/i/scr/pixel.gif",width:"1",height:"1"})]})})]})})})]})]})}var dist$4={},ga4={},gtag={};(function(b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var $=function(){for(var tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];if(typeof window<"u"){var ot;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(ot=window).gtag.apply(ot,nt)}},_e=$;b.default=_e})(gtag);var format$3={};(function(b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=rt;var $=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function _e(ot){return ot.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(st,ct,lt){return ct>0&&ct+st.length!==lt.length&&st.search($)>-1&&lt.charAt(ct-2)!==":"&&(lt.charAt(ct+st.length)!=="-"||lt.charAt(ct-1)==="-")&&lt.charAt(ct-1).search(/[^\s-]/)<0?st.toLowerCase():st.substr(1).search(/[A-Z]|\../)>-1?st:st.charAt(0).toUpperCase()+st.substr(1)})}function et(ot){return typeof ot=="string"&&ot.indexOf("@")!==-1}var tt="REDACTED (Potential Email Address)";function nt(ot){return et(ot)?(console.warn("This arg looks like an email address, redacting."),tt):ot}function rt(){var ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,lt=ot||"";return st&&(lt=_e(ot)),ct&&(lt=nt(lt)),lt}})(format$3);(function(b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.GA4=void 0;var $=rt(gtag),_e=rt(format$3),et=["eventCategory","eventAction","eventLabel","eventValue","hitType"],tt=["title","location"],nt=["page","hitType"];function rt(St){return St&&St.__esModule?St:{default:St}}function ot(St,Ct){if(St==null)return{};var Et=st(St,Ct),Tt,$t;if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(St);for($t=0;$t<Ot.length;$t++)Tt=Ot[$t],!(Ct.indexOf(Tt)>=0)&&Object.prototype.propertyIsEnumerable.call(St,Tt)&&(Et[Tt]=St[Tt])}return Et}function st(St,Ct){if(St==null)return{};var Et={},Tt=Object.keys(St),$t,Ot;for(Ot=0;Ot<Tt.length;Ot++)$t=Tt[Ot],!(Ct.indexOf($t)>=0)&&(Et[$t]=St[$t]);return Et}function ct(St){"@babel/helpers - typeof";return ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ct){return typeof Ct}:function(Ct){return Ct&&typeof Symbol=="function"&&Ct.constructor===Symbol&&Ct!==Symbol.prototype?"symbol":typeof Ct},ct(St)}function lt(St){return ut(St)||it(St)||mt(St)||at()}function at(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function it(St){if(typeof Symbol<"u"&&St[Symbol.iterator]!=null||St["@@iterator"]!=null)return Array.from(St)}function ut(St){if(Array.isArray(St))return gt(St)}function dt(St,Ct){var Et=Object.keys(St);if(Object.getOwnPropertySymbols){var Tt=Object.getOwnPropertySymbols(St);Ct&&(Tt=Tt.filter(function($t){return Object.getOwnPropertyDescriptor(St,$t).enumerable})),Et.push.apply(Et,Tt)}return Et}function ht(St){for(var Ct=1;Ct<arguments.length;Ct++){var Et=arguments[Ct]!=null?arguments[Ct]:{};Ct%2?dt(Object(Et),!0).forEach(function(Tt){wt(St,Tt,Et[Tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(Et)):dt(Object(Et)).forEach(function(Tt){Object.defineProperty(St,Tt,Object.getOwnPropertyDescriptor(Et,Tt))})}return St}function ft(St,Ct){return yt(St)||vt(St,Ct)||mt(St,Ct)||pt()}function pt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(St,Ct){if(St){if(typeof St=="string")return gt(St,Ct);var Et=Object.prototype.toString.call(St).slice(8,-1);if(Et==="Object"&&St.constructor&&(Et=St.constructor.name),Et==="Map"||Et==="Set")return Array.from(St);if(Et==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Et))return gt(St,Ct)}}function gt(St,Ct){(Ct==null||Ct>St.length)&&(Ct=St.length);for(var Et=0,Tt=new Array(Ct);Et<Ct;Et++)Tt[Et]=St[Et];return Tt}function vt(St,Ct){var Et=St==null?null:typeof Symbol<"u"&&St[Symbol.iterator]||St["@@iterator"];if(Et!=null){var Tt,$t,Ot,Rt,Nt=[],Ft=!0,Ht=!1;try{if(Ot=(Et=Et.call(St)).next,Ct!==0)for(;!(Ft=(Tt=Ot.call(Et)).done)&&(Nt.push(Tt.value),Nt.length!==Ct);Ft=!0);}catch(zt){Ht=!0,$t=zt}finally{try{if(!Ft&&Et.return!=null&&(Rt=Et.return(),Object(Rt)!==Rt))return}finally{if(Ht)throw $t}}return Nt}}function yt(St){if(Array.isArray(St))return St}function bt(St,Ct){if(!(St instanceof Ct))throw new TypeError("Cannot call a class as a function")}function xt(St,Ct){for(var Et=0;Et<Ct.length;Et++){var Tt=Ct[Et];Tt.enumerable=Tt.enumerable||!1,Tt.configurable=!0,"value"in Tt&&(Tt.writable=!0),Object.defineProperty(St,At(Tt.key),Tt)}}function _t(St,Ct,Et){return Ct&&xt(St.prototype,Ct),Object.defineProperty(St,"prototype",{writable:!1}),St}function wt(St,Ct,Et){return Ct=At(Ct),Ct in St?Object.defineProperty(St,Ct,{value:Et,enumerable:!0,configurable:!0,writable:!0}):St[Ct]=Et,St}function At(St){var Ct=Pt(St,"string");return ct(Ct)==="symbol"?Ct:String(Ct)}function Pt(St,Ct){if(ct(St)!=="object"||St===null)return St;var Et=St[Symbol.toPrimitive];if(Et!==void 0){var Tt=Et.call(St,Ct||"default");if(ct(Tt)!=="object")return Tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ct==="string"?String:Number)(St)}var jt=function(){function St(){var Ct=this;bt(this,St),wt(this,"reset",function(){Ct.isInitialized=!1,Ct._testMode=!1,Ct._currentMeasurementId,Ct._hasLoadedGA=!1,Ct._isQueuing=!1,Ct._queueGtag=[]}),wt(this,"_gtag",function(){for(var Et=arguments.length,Tt=new Array(Et),$t=0;$t<Et;$t++)Tt[$t]=arguments[$t];Ct._testMode||Ct._isQueuing?Ct._queueGtag.push(Tt):$.default.apply(void 0,Tt)}),wt(this,"_loadGA",function(Et,Tt){var $t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!Ct._hasLoadedGA){var Ot=document.createElement("script");Ot.async=!0,Ot.src="".concat($t,"?id=").concat(Et),Tt&&Ot.setAttribute("nonce",Tt),document.body.appendChild(Ot),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},Ct._hasLoadedGA=!0}}),wt(this,"_toGtagOptions",function(Et){if(Et){var Tt={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},$t=Object.entries(Et).reduce(function(Ot,Rt){var Nt=ft(Rt,2),Ft=Nt[0],Ht=Nt[1];return Tt[Ft]?Ot[Tt[Ft]]=Ht:Ot[Ft]=Ht,Ot},{});return $t}}),wt(this,"initialize",function(Et){var Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Et)throw new Error("Require GA_MEASUREMENT_ID");var $t=typeof Et=="string"?[{trackingId:Et}]:Et;Ct._currentMeasurementId=$t[0].trackingId;var Ot=Tt.gaOptions,Rt=Tt.gtagOptions,Nt=Tt.nonce,Ft=Tt.testMode,Ht=Ft===void 0?!1:Ft,zt=Tt.gtagUrl;if(Ct._testMode=Ht,Ht||Ct._loadGA(Ct._currentMeasurementId,Nt,zt),Ct.isInitialized||(Ct._gtag("js",new Date),$t.forEach(function(Zt){var Qt=ht(ht(ht({},Ct._toGtagOptions(ht(ht({},Ot),Zt.gaOptions))),Rt),Zt.gtagOptions);Object.keys(Qt).length?Ct._gtag("config",Zt.trackingId,Qt):Ct._gtag("config",Zt.trackingId)})),Ct.isInitialized=!0,!Ht){var an=lt(Ct._queueGtag);for(Ct._queueGtag=[],Ct._isQueuing=!1;an.length;){var Jt=an.shift();Ct._gtag.apply(Ct,lt(Jt)),Jt[0]==="get"&&(Ct._isQueuing=!0)}}}),wt(this,"set",function(Et){if(!Et){console.warn("`fieldsObject` is required in .set()");return}if(ct(Et)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(Et).length===0&&console.warn("empty `fieldsObject` given to .set()"),Ct._gaCommand("set",Et)}),wt(this,"_gaCommandSendEvent",function(Et,Tt,$t,Ot,Rt){Ct._gtag("event",Tt,ht(ht({event_category:Et,event_label:$t,value:Ot},Rt&&{non_interaction:Rt.nonInteraction}),Ct._toGtagOptions(Rt)))}),wt(this,"_gaCommandSendEventParameters",function(){for(var Et=arguments.length,Tt=new Array(Et),$t=0;$t<Et;$t++)Tt[$t]=arguments[$t];if(typeof Tt[0]=="string")Ct._gaCommandSendEvent.apply(Ct,lt(Tt.slice(1)));else{var Ot=Tt[0],Rt=Ot.eventCategory,Nt=Ot.eventAction,Ft=Ot.eventLabel,Ht=Ot.eventValue;Ot.hitType;var zt=ot(Ot,et);Ct._gaCommandSendEvent(Rt,Nt,Ft,Ht,zt)}}),wt(this,"_gaCommandSendTiming",function(Et,Tt,$t,Ot){Ct._gtag("event","timing_complete",{name:Tt,value:$t,event_category:Et,event_label:Ot})}),wt(this,"_gaCommandSendPageview",function(Et,Tt){if(Tt&&Object.keys(Tt).length){var $t=Ct._toGtagOptions(Tt),Ot=$t.title,Rt=$t.location,Nt=ot($t,tt);Ct._gtag("event","page_view",ht(ht(ht(ht({},Et&&{page_path:Et}),Ot&&{page_title:Ot}),Rt&&{page_location:Rt}),Nt))}else Et?Ct._gtag("event","page_view",{page_path:Et}):Ct._gtag("event","page_view")}),wt(this,"_gaCommandSendPageviewParameters",function(){for(var Et=arguments.length,Tt=new Array(Et),$t=0;$t<Et;$t++)Tt[$t]=arguments[$t];if(typeof Tt[0]=="string")Ct._gaCommandSendPageview.apply(Ct,lt(Tt.slice(1)));else{var Ot=Tt[0],Rt=Ot.page;Ot.hitType;var Nt=ot(Ot,nt);Ct._gaCommandSendPageview(Rt,Nt)}}),wt(this,"_gaCommandSend",function(){for(var Et=arguments.length,Tt=new Array(Et),$t=0;$t<Et;$t++)Tt[$t]=arguments[$t];var Ot=typeof Tt[0]=="string"?Tt[0]:Tt[0].hitType;switch(Ot){case"event":Ct._gaCommandSendEventParameters.apply(Ct,Tt);break;case"pageview":Ct._gaCommandSendPageviewParameters.apply(Ct,Tt);break;case"timing":Ct._gaCommandSendTiming.apply(Ct,lt(Tt.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(Ot));break;default:console.warn("Send command doesn't exist: ".concat(Ot))}}),wt(this,"_gaCommandSet",function(){for(var Et=arguments.length,Tt=new Array(Et),$t=0;$t<Et;$t++)Tt[$t]=arguments[$t];typeof Tt[0]=="string"&&(Tt[0]=wt({},Tt[0],Tt[1])),Ct._gtag("set",Ct._toGtagOptions(Tt[0]))}),wt(this,"_gaCommand",function(Et){for(var Tt=arguments.length,$t=new Array(Tt>1?Tt-1:0),Ot=1;Ot<Tt;Ot++)$t[Ot-1]=arguments[Ot];switch(Et){case"send":Ct._gaCommandSend.apply(Ct,$t);break;case"set":Ct._gaCommandSet.apply(Ct,$t);break;default:console.warn("Command doesn't exist: ".concat(Et))}}),wt(this,"ga",function(){for(var Et=arguments.length,Tt=new Array(Et),$t=0;$t<Et;$t++)Tt[$t]=arguments[$t];if(typeof Tt[0]=="string")Ct._gaCommand.apply(Ct,Tt);else{var Ot=Tt[0];Ct._gtag("get",Ct._currentMeasurementId,"client_id",function(Rt){Ct._isQueuing=!1;var Nt=Ct._queueGtag;for(Ot({get:function(zt){return zt==="clientId"?Rt:zt==="trackingId"?Ct._currentMeasurementId:zt==="apiVersion"?"1":void 0}});Nt.length;){var Ft=Nt.shift();Ct._gtag.apply(Ct,lt(Ft))}}),Ct._isQueuing=!0}return Ct.ga}),wt(this,"event",function(Et,Tt){if(typeof Et=="string")Ct._gtag("event",Et,Ct._toGtagOptions(Tt));else{var $t=Et.action,Ot=Et.category,Rt=Et.label,Nt=Et.value,Ft=Et.nonInteraction,Ht=Et.transport;if(!Ot||!$t){console.warn("args.category AND args.action are required in event()");return}var zt={hitType:"event",eventCategory:(0,_e.default)(Ot),eventAction:(0,_e.default)($t)};Rt&&(zt.eventLabel=(0,_e.default)(Rt)),typeof Nt<"u"&&(typeof Nt!="number"?console.warn("Expected `args.value` arg to be a Number."):zt.eventValue=Nt),typeof Ft<"u"&&(typeof Ft!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):zt.nonInteraction=Ft),typeof Ht<"u"&&(typeof Ht!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(Ht)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),zt.transport=Ht)),Ct._gaCommand("send",zt)}}),wt(this,"send",function(Et){Ct._gaCommand("send",Et)}),this.reset()}return _t(St,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),St}();b.GA4=jt;var kt=new jt;b.default=kt})(ga4);(function(b){function $(ot){"@babel/helpers - typeof";return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(st){return typeof st}:function(st){return st&&typeof Symbol=="function"&&st.constructor===Symbol&&st!==Symbol.prototype?"symbol":typeof st},$(ot)}Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.ReactGAImplementation=void 0;var _e=tt(ga4);function et(ot){if(typeof WeakMap!="function")return null;var st=new WeakMap,ct=new WeakMap;return(et=function(at){return at?ct:st})(ot)}function tt(ot,st){if(ot&&ot.__esModule)return ot;if(ot===null||$(ot)!=="object"&&typeof ot!="function")return{default:ot};var ct=et(st);if(ct&&ct.has(ot))return ct.get(ot);var lt={},at=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var it in ot)if(it!=="default"&&Object.prototype.hasOwnProperty.call(ot,it)){var ut=at?Object.getOwnPropertyDescriptor(ot,it):null;ut&&(ut.get||ut.set)?Object.defineProperty(lt,it,ut):lt[it]=ot[it]}return lt.default=ot,ct&&ct.set(ot,lt),lt}var nt=_e.GA4;b.ReactGAImplementation=nt;var rt=_e.default;b.default=rt})(dist$4);let methods$o={one:{},two:{},three:{},four:{}},model$6={one:{},two:{},three:{}},compute$b={},hooks=[];const tmpWrld={methods:methods$o,model:model$6,compute:compute$b,hooks},isArray$c=b=>Object.prototype.toString.call(b)==="[object Array]",fns$5={compute:function(b){const{world:$}=this,_e=$.compute;return typeof b=="string"&&_e.hasOwnProperty(b)?_e[b](this):isArray$c(b)?b.forEach(et=>{$.compute.hasOwnProperty(et)?_e[et](this):console.warn("no compute:",b)}):typeof b=="function"?b(this):console.warn("no compute:",b),this}},forEach$1=function(b){return this.fullPointer.forEach((_e,et)=>{let tt=this.update([_e]);b(tt,et)}),this},map$1=function(b,$){let et=this.fullPointer.map((nt,rt)=>{let ot=this.update([nt]),st=b(ot,rt);return st===void 0?this.none():st});if(et.length===0)return $||this.update([]);if(et[0]!==void 0&&(typeof et[0]=="string"||typeof et[0]=="object"&&(et[0]===null||!et[0].isView)))return et;let tt=[];return et.forEach(nt=>{tt=tt.concat(nt.fullPointer)}),this.toView(tt)},filter$1=function(b){let $=this.fullPointer;return $=$.filter((et,tt)=>{let nt=this.update([et]);return b(nt,tt)}),this.update($)},find$7=function(b){let _e=this.fullPointer.find((et,tt)=>{let nt=this.update([et]);return b(nt,tt)});return this.update([_e])},some=function(b){return this.fullPointer.some((_e,et)=>{let tt=this.update([_e]);return b(tt,et)})},random$1=function(b=1){let $=this.fullPointer,_e=Math.floor(Math.random()*$.length);return _e+b>this.length&&(_e=this.length-b,_e=_e<0?0:_e),$=$.slice(_e,_e+b),this.update($)},loops={forEach:forEach$1,map:map$1,filter:filter$1,find:find$7,some,random:random$1},utils$5={termList:function(){return this.methods.one.termList(this.docs)},terms:function(b){let $=this.match(".");return typeof b=="number"?$.eq(b):$},groups:function(b){if(b||b===0)return this.update(this._groups[b]||[]);let $={};return Object.keys(this._groups).forEach(_e=>{$[_e]=this.update(this._groups[_e])}),$},eq:function(b){let $=this.pointer;return $||($=this.docs.map((_e,et)=>[et])),$[b]?this.update([$[b]]):this.none()},first:function(){return this.eq(0)},last:function(){let b=this.fullPointer.length-1;return this.eq(b)},firstTerms:function(){return this.match("^.")},lastTerms:function(){return this.match(".$")},slice:function(b,$){let _e=this.pointer||this.docs.map((et,tt)=>[tt]);return _e=_e.slice(b,$),this.update(_e)},all:function(){return this.update().toView()},fullSentences:function(){let b=this.fullPointer.map($=>[$[0]]);return this.update(b).toView()},none:function(){return this.update([])},isDoc:function(b){if(!b||!b.isView)return!1;let $=this.fullPointer,_e=b.fullPointer;return!$.length===_e.length?!1:$.every((et,tt)=>_e[tt]?et[0]===_e[tt][0]&&et[1]===_e[tt][1]&&et[2]===_e[tt][2]:!1)},wordCount:function(){return this.docs.reduce((b,$)=>(b+=$.filter(_e=>_e.text!=="").length,b),0)},isFull:function(){let b=this.pointer;if(!b)return!0;if(b.length===0||b[0][0]!==0)return!1;let $=0,_e=0;return this.document.forEach(et=>$+=et.length),this.docs.forEach(et=>_e+=et.length),$===_e},getNth:function(b){return typeof b=="number"?this.eq(b):typeof b=="string"?this.if(b):this}};utils$5.group=utils$5.groups;utils$5.fullSentence=utils$5.fullSentences;utils$5.sentence=utils$5.fullSentences;utils$5.lastTerm=utils$5.lastTerms;utils$5.firstTerm=utils$5.firstTerms;const methods$n=Object.assign({},utils$5,fns$5,loops);methods$n.get=methods$n.eq;class View{constructor($,_e,et={}){[["document",$],["world",tmpWrld],["_groups",et],["_cache",null],["viewType","View"]].forEach(nt=>{Object.defineProperty(this,nt[0],{value:nt[1],writable:!0})}),this.ptrs=_e}get docs(){let $=this.document;return this.ptrs&&($=tmpWrld.methods.one.getDoc(this.ptrs,this.document)),$}get pointer(){return this.ptrs}get methods(){return this.world.methods}get model(){return this.world.model}get hooks(){return this.world.hooks}get isView(){return!0}get found(){return this.docs.length>0}get length(){return this.docs.length}get fullPointer(){let{docs:$,ptrs:_e,document:et}=this;return(_e||$.map((nt,rt)=>[rt])).map(nt=>{let[rt,ot,st,ct,lt]=nt;return ot=ot||0,st=st||(et[rt]||[]).length,et[rt]&&et[rt][ot]&&(ct=ct||et[rt][ot].id,et[rt][st-1]&&(lt=lt||et[rt][st-1].id)),[rt,ot,st,ct,lt]})}update($){let _e=new View(this.document,$);if(this._cache&&$&&$.length>0){let et=[];$.forEach((tt,nt)=>{let[rt,ot,st]=tt;tt.length===1?et[nt]=this._cache[rt]:ot===0&&this.document[rt].length===st&&(et[nt]=this._cache[rt])}),et.length>0&&(_e._cache=et)}return _e.world=this.world,_e}toView($){return new View(this.document,$||this.pointer)}fromText($){const{methods:_e}=this;let et=_e.one.tokenize.fromString($,this.world),tt=new View(et);return tt.world=this.world,tt.compute(["normal","freeze","lexicon"]),this.world.compute.preTagger&&tt.compute("preTagger"),tt.compute("unfreeze"),tt}clone(){let $=this.document.slice(0);$=$.map(et=>et.map(tt=>(tt=Object.assign({},tt),tt.tags=new Set(tt.tags),tt)));let _e=this.update(this.pointer);return _e.document=$,_e._cache=this._cache,_e}}Object.assign(View.prototype,methods$n);const version$3="14.13.0",isObject$a=function(b){return b&&typeof b=="object"&&!Array.isArray(b)};function mergeDeep(b,$){if(isObject$a($))for(const _e in $)isObject$a($[_e])?(b[_e]||Object.assign(b,{[_e]:{}}),mergeDeep(b[_e],$[_e])):Object.assign(b,{[_e]:$[_e]});return b}function mergeQuick(b,$){for(const _e in $)b[_e]=b[_e]||{},Object.assign(b[_e],$[_e]);return b}const addIrregulars=function(b,$){let _e=b.two.models||{};Object.keys($).forEach(et=>{$[et].pastTense&&(_e.toPast&&(_e.toPast.ex[et]=$[et].pastTense),_e.fromPast&&(_e.fromPast.ex[$[et].pastTense]=et)),$[et].presentTense&&(_e.toPresent&&(_e.toPresent.ex[et]=$[et].presentTense),_e.fromPresent&&(_e.fromPresent.ex[$[et].presentTense]=et)),$[et].gerund&&(_e.toGerund&&(_e.toGerund.ex[et]=$[et].gerund),_e.fromGerund&&(_e.fromGerund.ex[$[et].gerund]=et)),$[et].comparative&&(_e.toComparative&&(_e.toComparative.ex[et]=$[et].comparative),_e.fromComparative&&(_e.fromComparative.ex[$[et].comparative]=et)),$[et].superlative&&(_e.toSuperlative&&(_e.toSuperlative.ex[et]=$[et].superlative),_e.fromSuperlative&&(_e.fromSuperlative.ex[$[et].superlative]=et))})},extend$3=function(b,$,_e,et){const{methods:tt,model:nt,compute:rt,hooks:ot}=$;b.methods&&mergeQuick(tt,b.methods),b.model&&mergeDeep(nt,b.model),b.irregulars&&addIrregulars(nt,b.irregulars),b.compute&&Object.assign(rt,b.compute),ot&&($.hooks=ot.concat(b.hooks||[])),b.api&&b.api(_e),b.lib&&Object.keys(b.lib).forEach(st=>et[st]=b.lib[st]),b.tags&&et.addTags(b.tags),b.words&&et.addWords(b.words),b.frozen&&et.addWords(b.frozen,!0),b.mutate&&b.mutate($)};var define_process_env_default$5={};const verbose=function(b){const $=typeof process>"u"||!define_process_env_default$5?self.env||{}:define_process_env_default$5;return $.DEBUG_TAGS=b==="tagger"||b===!0?!0:"",$.DEBUG_MATCH=b==="match"||b===!0?!0:"",$.DEBUG_CHUNKS=b==="chunker"||b===!0?!0:"",this},isObject$9=b=>Object.prototype.toString.call(b)==="[object Object]",isArray$b=function(b){return Object.prototype.toString.call(b)==="[object Array]"},fromJson=function(b){return b.map($=>$.terms.map(_e=>(isArray$b(_e.tags)&&(_e.tags=new Set(_e.tags)),_e)))},preTokenized=function(b){return b.map($=>$.map(_e=>({text:_e,normal:_e,pre:"",post:" ",tags:new Set})))},inputs=function(b,$,_e){const{methods:et}=_e;let tt=new $([]);if(tt.world=_e,typeof b=="number"&&(b=String(b)),!b)return tt;if(typeof b=="string"){let nt=et.one.tokenize.fromString(b,_e);return new $(nt)}if(isObject$9(b)&&b.isView)return new $(b.document,b.ptrs);if(isArray$b(b)){if(isArray$b(b[0])){let rt=preTokenized(b);return new $(rt)}let nt=fromJson(b);return new $(nt)}return tt};let world=Object.assign({},tmpWrld);const nlp=function(b,$){$&&nlp.addWords($);let _e=inputs(b,View,world);return b&&_e.compute(world.hooks),_e};Object.defineProperty(nlp,"_world",{value:world,writable:!0});nlp.tokenize=function(b,$){const{compute:_e}=this._world;$&&nlp.addWords($);let et=inputs(b,View,world);return _e.contractions&&et.compute(["alias","normal","machine","contractions"]),et};nlp.plugin=function(b){return extend$3(b,this._world,View,this),this};nlp.extend=nlp.plugin;nlp.world=function(){return this._world};nlp.model=function(){return this._world.model};nlp.methods=function(){return this._world.methods};nlp.hooks=function(){return this._world.hooks};nlp.verbose=verbose;nlp.version=version$3;const createCache=function(b){return b.map(_e=>{let et=new Set;return _e.forEach(tt=>{tt.normal!==""&&et.add(tt.normal),tt.switch&&et.add(`%${tt.switch}%`),tt.implicit&&et.add(tt.implicit),tt.machine&&et.add(tt.machine),tt.root&&et.add(tt.root),tt.alias&&tt.alias.forEach(rt=>et.add(rt));let nt=Array.from(tt.tags);for(let rt=0;rt<nt.length;rt+=1)et.add("#"+nt[rt])}),et})},methods$m={one:{cacheDoc:createCache}},methods$l={cache:function(){return this._cache=this.methods.one.cacheDoc(this.document),this},uncache:function(){return this._cache=null,this}},addAPI$3=function(b){Object.assign(b.prototype,methods$l)},compute$a={cache:function(b){b._cache=b.methods.one.cacheDoc(b.document)}},cache$1={api:addAPI$3,compute:compute$a,methods:methods$m},caseFns={toLowerCase:function(){return this.termList().forEach(b=>{b.text=b.text.toLowerCase()}),this},toUpperCase:function(){return this.termList().forEach(b=>{b.text=b.text.toUpperCase()}),this},toTitleCase:function(){return this.termList().forEach(b=>{b.text=b.text.replace(/^ *[a-z\u00C0-\u00FF]/,$=>$.toUpperCase())}),this},toCamelCase:function(){return this.docs.forEach(b=>{b.forEach(($,_e)=>{_e!==0&&($.text=$.text.replace(/^ *[a-z\u00C0-\u00FF]/,et=>et.toUpperCase())),_e!==b.length-1&&($.post="")})}),this}},isTitleCase$3=b=>new RegExp("^\\p{Lu}[\\p{Ll}'’]","u").test(b)||new RegExp("^\\p{Lu}$","u").test(b),toTitleCase$1=b=>b.replace(new RegExp("^\\p{Ll}","u"),$=>$.toUpperCase()),toLowerCase=b=>b.replace(new RegExp("^\\p{Lu}","u"),$=>$.toLowerCase()),spliceArr=(b,$,_e)=>{if(_e.forEach(et=>et.dirty=!0),b){let et=[$,0].concat(_e);Array.prototype.splice.apply(b,et)}return b},endSpace=function(b){const $=/ $/,_e=/[-–—]/;let et=b[b.length-1];et&&!$.test(et.post)&&!_e.test(et.post)&&(et.post+=" ")},movePunct=(b,$,_e)=>{const et=/[-.?!,;:)–—'"]/g;let tt=b[$-1];if(!tt)return;let nt=tt.post;if(et.test(nt)){let rt=nt.match(et).join(""),ot=_e[_e.length-1];ot.post=rt+ot.post,tt.post=tt.post.replace(et,"")}},moveTitleCase=function(b,$,_e){let et=b[$];if($!==0||!isTitleCase$3(et.text))return;_e[0].text=toTitleCase$1(_e[0].text);let tt=b[$];tt.tags.has("ProperNoun")||tt.tags.has("Acronym")||isTitleCase$3(tt.text)&&tt.text.length>1&&(tt.text=toLowerCase(tt.text))},cleanPrepend=function(b,$,_e,et){let[tt,nt,rt]=$;nt===0||rt===et[tt].length?endSpace(_e):(endSpace(_e),endSpace([b[$[1]]])),moveTitleCase(b,nt,_e),spliceArr(b,nt,_e)},cleanAppend=function(b,$,_e,et){let[tt,,nt]=$,rt=(et[tt]||[]).length;nt<rt?(movePunct(b,nt,_e),endSpace(_e)):rt===nt&&(endSpace(b),movePunct(b,nt,_e),et[tt+1]&&(_e[_e.length-1].post+=" ")),spliceArr(b,$[2],_e),$[4]=_e[_e.length-1].id};let index$3=0;const pad3=b=>(b=b.length<3?"0"+b:b,b.length<3?"0"+b:b),toId=function(b){let[$,_e]=b.index||[0,0];index$3+=1,index$3=index$3>46655?0:index$3,$=$>46655?0:$,_e=_e>1294?0:_e;let et=pad3(index$3.toString(36));et+=pad3($.toString(36));let tt=_e.toString(36);tt=tt.length<2?"0"+tt:tt,et+=tt;let nt=parseInt(Math.random()*36,10);return et+=nt.toString(36),b.normal+"|"+et.toUpperCase()},expand$3=function(b){b.has("@hasContraction")&&typeof b.contractions=="function"&&b.grow("@hasContraction").contractions().expand()},isArray$a=b=>Object.prototype.toString.call(b)==="[object Array]",addIds$2=function(b){return b=b.map($=>($.id=toId($),$)),b},getTerms=function(b,$){const{methods:_e}=$;return typeof b=="string"?_e.one.tokenize.fromString(b,$)[0]:typeof b=="object"&&b.isView?b.clone().docs[0]||[]:isArray$a(b)?isArray$a(b[0])?b[0]:b:[]},insert=function(b,$,_e){const{document:et,world:tt}=$;$.uncache();let nt=$.fullPointer,rt=$.fullPointer;$.forEach((st,ct)=>{let lt=st.fullPointer[0],[at]=lt,it=et[at],ut=getTerms(b,tt);ut.length!==0&&(ut=addIds$2(ut),_e?(expand$3($.update([lt]).firstTerm()),cleanPrepend(it,lt,ut,et)):(expand$3($.update([lt]).lastTerm()),cleanAppend(it,lt,ut,et)),et[at]&&et[at][lt[1]]&&(lt[3]=et[at][lt[1]].id),rt[ct]=lt,lt[2]+=ut.length,nt[ct]=lt)});let ot=$.toView(nt);return $.ptrs=rt,ot.compute(["id","index","freeze","lexicon"]),ot.world.compute.preTagger&&ot.compute("preTagger"),ot.compute("unfreeze"),ot},fns$4={insertAfter:function(b){return insert(b,this,!1)},insertBefore:function(b){return insert(b,this,!0)}};fns$4.append=fns$4.insertAfter;fns$4.prepend=fns$4.insertBefore;fns$4.insert=fns$4.insertAfter;const dollarStub=/\$[0-9a-z]+/g,fns$3={},titleCase$3=function(b){return b.replace(/\w\S*/g,$=>$.charAt(0).toUpperCase()+$.substring(1).toLowerCase())},replaceByFn=function(b,$){return b.forEach(_e=>{let et=$(_e);_e.replaceWith(et)}),b},subDollarSign=function(b,$){if(typeof b!="string")return b;let _e=$.groups();return b=b.replace(dollarStub,et=>{let tt=et.replace(/\$/,"");return _e.hasOwnProperty(tt)?_e[tt].text():et}),b};fns$3.replaceWith=function(b,$={}){let _e=this.fullPointer,et=this;if(this.uncache(),typeof b=="function")return replaceByFn(et,b);let tt=et.docs[0],nt=$.possessives&&tt[tt.length-1].tags.has("Possessive");b=subDollarSign(b,et);let rt=this.update(_e);_e=_e.map(ct=>ct.slice(0,3));let ot=(rt.docs[0]||[]).map(ct=>Array.from(ct.tags));if(typeof b=="string"&&(b=this.fromText(b).compute("id")),et.insertAfter(b),rt.has("@hasContraction")&&et.contractions&&et.grow("@hasContraction+").contractions().expand(),et.delete(rt),nt){let ct=et.docs[0],lt=ct[ct.length-1];lt.tags.has("Possessive")||(lt.text+="'s",lt.normal+="'s",lt.tags.add("Possessive"))}let st=et.toView(_e).compute(["index","freeze","lexicon"]);return st.world.compute.preTagger&&st.compute("preTagger"),st.compute("unfreeze"),$.tags&&st.terms().forEach((ct,lt)=>{ct.tagSafe(ot[lt])}),$.case&&st.docs[0]&&st.docs[0][0]&&st.docs[0][0].index[1]===0&&(st.docs[0][0].text=titleCase$3(st.docs[0][0].text)),st};fns$3.replace=function(b,$,_e){if(b&&!$)return this.replaceWith(b,_e);let et=this.match(b);return et.found?(this.soften(),et.replaceWith($,_e)):this};const repairPunct=function(b,$){let _e=b.length-1,et=b[_e],tt=b[_e-$];tt&&et&&(tt.post+=et.post,tt.post=tt.post.replace(/ +([.?!,;:])/,"$1"),tt.post=tt.post.replace(/[,;:]+([.?!])/,"$1"))},pluckOut=function(b,$){$.forEach(_e=>{let[et,tt,nt]=_e,rt=nt-tt;b[et]&&(nt===b[et].length&&nt>1&&repairPunct(b[et],rt),b[et].splice(tt,rt))});for(let _e=b.length-1;_e>=0;_e-=1)if(b[_e].length===0&&(b.splice(_e,1),_e===b.length&&b[_e-1])){let et=b[_e-1],tt=et[et.length-1];tt&&(tt.post=tt.post.trimEnd())}return b},fixPointers$1=function(b,$){return b=b.map(_e=>{let[et]=_e;return $[et]&&$[et].forEach(tt=>{let nt=tt[2]-tt[1];_e[1]<=tt[1]&&_e[2]>=tt[2]&&(_e[2]-=nt)}),_e}),b.forEach((_e,et)=>{if(_e[1]===0&&_e[2]==0)for(let tt=et+1;tt<b.length;tt+=1)b[tt][0]-=1,b[tt][0]<0&&(b[tt][0]=0)}),b=b.filter(_e=>_e[2]-_e[1]>0),b=b.map(_e=>(_e[3]=null,_e[4]=null,_e)),b},methods$k={remove:function(b){const{indexN:$}=this.methods.one.pointer;this.uncache();let _e=this.all(),et=this;b&&(_e=this,et=this.match(b));let tt=!_e.ptrs;et.has("@hasContraction")&&et.contractions&&et.grow("@hasContraction").contractions().expand();let nt=_e.fullPointer,rt=et.fullPointer.reverse(),ot=pluckOut(this.document,rt),st=$(rt);return nt=fixPointers$1(nt,st),_e.ptrs=nt,_e.document=ot,_e.compute("index"),tt&&(_e.ptrs=void 0),b?_e.toView(nt):(this.ptrs=[],_e.none())}};methods$k.delete=methods$k.remove;const methods$j={pre:function(b,$){return b===void 0&&this.found?this.docs[0][0].pre:(this.docs.forEach(_e=>{let et=_e[0];$===!0?et.pre+=b:et.pre=b}),this)},post:function(b,$){if(b===void 0){let _e=this.docs[this.docs.length-1];return _e[_e.length-1].post}return this.docs.forEach(_e=>{let et=_e[_e.length-1];$===!0?et.post+=b:et.post=b}),this},trim:function(){if(!this.found)return this;let b=this.docs,$=b[0][0];$.pre=$.pre.trimStart();let _e=b[b.length-1],et=_e[_e.length-1];return et.post=et.post.trimEnd(),this},hyphenate:function(){return this.docs.forEach(b=>{b.forEach(($,_e)=>{_e!==0&&($.pre=""),b[_e+1]&&($.post="-")})}),this},dehyphenate:function(){const b=/[-–—]/;return this.docs.forEach($=>{$.forEach(_e=>{b.test(_e.post)&&(_e.post=" ")})}),this},toQuotations:function(b,$){return b=b||'"',$=$||'"',this.docs.forEach(_e=>{_e[0].pre=b+_e[0].pre;let et=_e[_e.length-1];et.post=$+et.post}),this},toParentheses:function(b,$){return b=b||"(",$=$||")",this.docs.forEach(_e=>{_e[0].pre=b+_e[0].pre;let et=_e[_e.length-1];et.post=$+et.post}),this}};methods$j.deHyphenate=methods$j.dehyphenate;methods$j.toQuotation=methods$j.toQuotations;const alpha=(b,$)=>b.normal<$.normal?-1:b.normal>$.normal?1:0,length$1=(b,$)=>{let _e=b.normal.trim().length,et=$.normal.trim().length;return _e<et?1:_e>et?-1:0},wordCount$1=(b,$)=>b.words<$.words?1:b.words>$.words?-1:0,sequential=(b,$)=>b[0]<$[0]?1:b[0]>$[0]?-1:b[1]>$[1]?1:-1,byFreq=function(b){let $={};return b.forEach(_e=>{$[_e.normal]=$[_e.normal]||0,$[_e.normal]+=1}),b.sort((_e,et)=>{let tt=$[_e.normal],nt=$[et.normal];return tt<nt?1:tt>nt?-1:0}),b},methods$i={alpha,length:length$1,wordCount:wordCount$1,sequential,byFreq},seqNames=new Set(["index","sequence","seq","sequential","chron","chronological"]),freqNames=new Set(["freq","frequency","topk","repeats"]),alphaNames=new Set(["alpha","alphabetical"]),customSort=function(b,$){let _e=b.fullPointer;return _e=_e.sort((et,tt)=>(et=b.update([et]),tt=b.update([tt]),$(et,tt))),b.ptrs=_e,b},sort=function(b){let{docs:$,pointer:_e}=this;if(this.uncache(),typeof b=="function")return customSort(this,b);b=b||"alpha";let et=_e||$.map((nt,rt)=>[rt]),tt=$.map((nt,rt)=>({index:rt,words:nt.length,normal:nt.map(ot=>ot.machine||ot.normal||"").join(" "),pointer:et[rt]}));return seqNames.has(b)&&(b="sequential"),alphaNames.has(b)&&(b="alpha"),freqNames.has(b)?(tt=methods$i.byFreq(tt),this.update(tt.map(nt=>nt.pointer))):typeof methods$i[b]=="function"?(tt=tt.sort(methods$i[b]),this.update(tt.map(nt=>nt.pointer))):this},reverse$1=function(){let b=this.pointer||this.docs.map(($,_e)=>[_e]);return b=[].concat(b),b=b.reverse(),this._cache&&(this._cache=this._cache.reverse()),this.update(b)},unique=function(){let b=new Set;return this.filter(_e=>{let et=_e.text("machine");return b.has(et)?!1:(b.add(et),!0)})},sort$1={unique,reverse:reverse$1,sort},isArray$9=b=>Object.prototype.toString.call(b)==="[object Array]",combineDocs=function(b,$){if(b.length>0){let _e=b[b.length-1],et=_e[_e.length-1];/ /.test(et.post)===!1&&(et.post+=" ")}return b=b.concat($),b},combineViews=function(b,$){if(b.document===$.document){let et=b.fullPointer.concat($.fullPointer);return b.toView(et).compute("index")}return $.fullPointer.forEach(et=>{et[0]+=b.document.length}),b.document=combineDocs(b.document,$.docs),b.all()},concat={concat:function(b){if(typeof b=="string"){let $=this.fromText(b);if(!this.found||!this.ptrs)this.document=this.document.concat($.document);else{let _e=this.fullPointer,et=_e[_e.length-1][0];this.document.splice(et,0,...$.document)}return this.all().compute("index")}if(typeof b=="object"&&b.isView)return combineViews(this,b);if(isArray$9(b)){let $=combineDocs(this.document,b);return this.document=$,this.all()}return this}},harden=function(){return this.ptrs=this.fullPointer,this},soften=function(){let b=this.ptrs;return!b||b.length<1?this:(b=b.map($=>$.slice(0,3)),this.ptrs=b,this)},harden$1={harden,soften},methods$h=Object.assign({},caseFns,fns$4,fns$3,methods$k,methods$j,sort$1,concat,harden$1),addAPI$2=function(b){Object.assign(b.prototype,methods$h)},compute$9={id:function(b){let $=b.docs;for(let _e=0;_e<$.length;_e+=1)for(let et=0;et<$[_e].length;et+=1){let tt=$[_e][et];tt.id=tt.id||toId(tt)}}},change$1={api:addAPI$2,compute:compute$9},contractions$1=[{word:"@",out:["at"]},{word:"arent",out:["are","not"]},{word:"alot",out:["a","lot"]},{word:"brb",out:["be","right","back"]},{word:"cannot",out:["can","not"]},{word:"dun",out:["do","not"]},{word:"can't",out:["can","not"]},{word:"shan't",out:["should","not"]},{word:"won't",out:["will","not"]},{word:"that's",out:["that","is"]},{word:"what's",out:["what","is"]},{word:"let's",out:["let","us"]},{word:"dunno",out:["do","not","know"]},{word:"gonna",out:["going","to"]},{word:"gotta",out:["have","got","to"]},{word:"gimme",out:["give","me"]},{word:"outta",out:["out","of"]},{word:"tryna",out:["trying","to"]},{word:"gtg",out:["got","to","go"]},{word:"im",out:["i","am"]},{word:"imma",out:["I","will"]},{word:"imo",out:["in","my","opinion"]},{word:"irl",out:["in","real","life"]},{word:"ive",out:["i","have"]},{word:"rn",out:["right","now"]},{word:"tbh",out:["to","be","honest"]},{word:"wanna",out:["want","to"]},{word:"c'mere",out:["come","here"]},{word:"c'mon",out:["come","on"]},{word:"shoulda",out:["should","have"]},{word:"coulda",out:["coulda","have"]},{word:"woulda",out:["woulda","have"]},{word:"musta",out:["must","have"]},{word:"tis",out:["it","is"]},{word:"twas",out:["it","was"]},{word:"y'know",out:["you","know"]},{word:"ne'er",out:["never"]},{word:"o'er",out:["over"]},{after:"ll",out:["will"]},{after:"ve",out:["have"]},{after:"re",out:["are"]},{after:"m",out:["am"]},{before:"c",out:["ce"]},{before:"m",out:["me"]},{before:"n",out:["ne"]},{before:"qu",out:["que"]},{before:"s",out:["se"]},{before:"t",out:["tu"]},{word:"shouldnt",out:["should","not"]},{word:"couldnt",out:["could","not"]},{word:"wouldnt",out:["would","not"]},{word:"hasnt",out:["has","not"]},{word:"wasnt",out:["was","not"]},{word:"isnt",out:["is","not"]},{word:"cant",out:["can","not"]},{word:"dont",out:["do","not"]},{word:"wont",out:["will","not"]},{word:"howd",out:["how","did"]},{word:"whatd",out:["what","did"]},{word:"whend",out:["when","did"]},{word:"whered",out:["where","did"]}],t$1=!0,numberSuffixes={st:t$1,nd:t$1,rd:t$1,th:t$1,am:t$1,pm:t$1,max:t$1,"°":t$1,s:t$1,e:t$1,er:t$1,ère:t$1,ème:t$1},model$5={one:{contractions:contractions$1,numberSuffixes}},insertContraction$1=function(b,$,_e){let[et,tt]=$;!_e||_e.length===0||(_e=_e.map((nt,rt)=>(nt.implicit=nt.text,nt.machine=nt.text,nt.pre="",nt.post="",nt.text="",nt.normal="",nt.index=[et,tt+rt],nt)),_e[0]&&(_e[0].pre=b[et][tt].pre,_e[_e.length-1].post=b[et][tt].post,_e[0].text=b[et][tt].text,_e[0].normal=b[et][tt].normal),b[et].splice(tt,1,..._e))},hasContraction$3=/'/,alwaysDid=new Set(["what","how","when","where","why"]),useWould=new Set(["be","go","start","think","need"]),useHad=new Set(["been","gone"]),_apostropheD$1=function(b,$){let _e=b[$].normal.split(hasContraction$3)[0];if(alwaysDid.has(_e))return[_e,"did"];if(b[$+1]){if(useHad.has(b[$+1].normal))return[_e,"had"];if(useWould.has(b[$+1].normal))return[_e,"would"]}return null},apostropheT$1=function(b,$){return b[$].normal==="ain't"||b[$].normal==="aint"?null:[b[$].normal.replace(/n't/,""),"not"]},hasContraction$2=/'/,isFeminine=/(e|é|aison|sion|tion)$/,isMasculine=/(age|isme|acle|ege|oire)$/,preL=(b,$)=>{let _e=b[$].normal.split(hasContraction$2)[1];return _e&&_e.endsWith("e")?["la",_e]:["le",_e]},preD=(b,$)=>{let _e=b[$].normal.split(hasContraction$2)[1];return _e&&isFeminine.test(_e)&&!isMasculine.test(_e)?["du",_e]:_e&&_e.endsWith("s")?["des",_e]:["de",_e]},preJ=(b,$)=>["je",b[$].normal.split(hasContraction$2)[1]],french={preJ,preL,preD},isRange=/^([0-9.]{1,4}[a-z]{0,2}) ?[-–—] ?([0-9]{1,4}[a-z]{0,2})$/i,timeRange=/^([0-9]{1,2}(:[0-9][0-9])?(am|pm)?) ?[-–—] ?([0-9]{1,2}(:[0-9][0-9])?(am|pm)?)$/i,phoneNum=/^[0-9]{3}-[0-9]{4}$/,numberRange=function(b,$){let _e=b[$],et=_e.text.match(isRange);return et!==null?_e.tags.has("PhoneNumber")===!0||phoneNum.test(_e.text)?null:[et[1],"to",et[2]]:(et=_e.text.match(timeRange),et!==null?[et[1],"to",et[4]]:null)},numUnit=/^([+-]?[0-9][.,0-9]*)([a-z°²³µ/]+)$/,numberUnit=function(b,$,_e){const et=_e.model.one.numberSuffixes||{};let nt=b[$].text.match(numUnit);if(nt!==null){let rt=nt[2].toLowerCase().trim();return et.hasOwnProperty(rt)?null:[nt[1],rt]}return null},byApostrophe$1=/'/,numDash=/^[0-9][^-–—]*[-–—].*?[0-9]/,reTag$1=function(b,$,_e,et){let tt=$.update();tt.document=[b];let nt=_e+et;_e>0&&(_e-=1),b[nt]&&(nt+=1),tt.ptrs=[[0,_e,nt]]},byEnd$1={t:(b,$)=>apostropheT$1(b,$),d:(b,$)=>_apostropheD$1(b,$)},byStart={j:(b,$)=>french.preJ(b,$),l:(b,$)=>french.preL(b,$),d:(b,$)=>french.preD(b,$)},knownOnes=function(b,$,_e,et){for(let tt=0;tt<b.length;tt+=1){let nt=b[tt];if(nt.word===$.normal)return nt.out;if(et!==null&&et===nt.after)return[_e].concat(nt.out);if(_e!==null&&_e===nt.before&&et&&et.length>2)return nt.out.concat(et)}return null},toDocs$1=function(b,$){let _e=$.fromText(b.join(" "));return _e.compute(["id","alias"]),_e.docs[0]},thereHas=function(b,$){for(let _e=$+1;_e<5&&b[_e];_e+=1)if(b[_e].normal==="been")return["there","has"];return["there","is"]},contractions=b=>{let{world:$,document:_e}=b;const{model:et,methods:tt}=$;let nt=et.one.contractions||[];_e.forEach((rt,ot)=>{for(let st=rt.length-1;st>=0;st-=1){let ct=null,lt=null;if(byApostrophe$1.test(rt[st].normal)===!0){let it=rt[st].normal.split(byApostrophe$1);ct=it[0],lt=it[1]}let at=knownOnes(nt,rt[st],ct,lt);if(!at&&byEnd$1.hasOwnProperty(lt)&&(at=byEnd$1[lt](rt,st,$)),!at&&byStart.hasOwnProperty(ct)&&(at=byStart[ct](rt,st)),ct==="there"&&lt==="s"&&(at=thereHas(rt,st)),at){at=toDocs$1(at,b),insertContraction$1(_e,[ot,st],at),reTag$1(_e[ot],b,st,at.length);continue}if(numDash.test(rt[st].normal)){at=numberRange(rt,st),at&&(at=toDocs$1(at,b),insertContraction$1(_e,[ot,st],at),tt.one.setTag(at,"NumberRange",$),at[2]&&at[2].tags.has("Time")&&tt.one.setTag([at[0]],"Time",$,null,"time-range"),reTag$1(_e[ot],b,st,at.length));continue}at=numberUnit(rt,st,$),at&&(at=toDocs$1(at,b),insertContraction$1(_e,[ot,st],at),tt.one.setTag([at[1]],"Unit",$,null,"contraction-unit"))}})},compute$8={contractions},plugin$n={model:model$5,compute:compute$8,hooks:["contractions"]},freeze$2=function(b){const $=b.world,{model:_e,methods:et}=b.world,tt=et.one.setTag,{frozenLex:nt}=_e.one,rt=_e.one._multiCache||{};b.docs.forEach(ot=>{for(let st=0;st<ot.length;st+=1){let ct=ot[st],lt=ct.machine||ct.normal;if(rt[lt]!==void 0&&ot[st+1]){let at=st+rt[lt]-1;for(let it=at;it>st;it-=1){let ut=ot.slice(st,it+1),dt=ut.map(ht=>ht.machine||ht.normal).join(" ");if(nt.hasOwnProperty(dt)===!0){tt(ut,nt[dt],$,!1,"1-frozen-multi-lexicon"),ut.forEach(ht=>ht.frozen=!0);continue}}}if(nt[lt]!==void 0&&nt.hasOwnProperty(lt)){tt([ct],nt[lt],$,!1,"1-freeze-lexicon"),ct.frozen=!0;continue}}})},unfreeze=function(b){return b.docs.forEach($=>{$.forEach(_e=>{delete _e.frozen})}),b},compute$7={frozen:freeze$2,freeze:freeze$2,unfreeze},blue=b=>"\x1B[34m"+b+"\x1B[0m",dim=b=>"\x1B[3m\x1B[2m"+b+"\x1B[0m",debug$2=function(b){b.docs.forEach($=>{console.log(blue(`
  ┌─────────`)),$.forEach(_e=>{let et=`  ${dim("│")}  `,tt=_e.implicit||_e.text||"-";_e.frozen===!0?et+=`${blue(tt)} ❄️`:et+=dim(tt),console.log(et)})})},freeze$1={compute:compute$7,mutate:b=>{const $=b.methods.one;$.termMethods.isFrozen=_e=>_e.frozen===!0,$.debug.freeze=debug$2,$.debug.frozen=debug$2},api:function(b){b.prototype.freeze=function(){return this.docs.forEach($=>{$.forEach(_e=>{_e.frozen=!0})}),this},b.prototype.unfreeze=function(){this.compute("unfreeze")},b.prototype.isFrozen=function(){return this.match("@isFrozen+")}},hooks:["freeze"]},multiWord=function(b,$,_e){const{model:et,methods:tt}=_e,nt=tt.one.setTag,rt=et.one._multiCache||{},{lexicon:ot}=et.one||{};let st=b[$],ct=st.machine||st.normal;if(rt[ct]!==void 0&&b[$+1]){let lt=$+rt[ct]-1;for(let at=lt;at>$;at-=1){let it=b.slice($,at+1);if(it.length<=1)return!1;let ut=it.map(dt=>dt.machine||dt.normal).join(" ");if(ot.hasOwnProperty(ut)===!0){let dt=ot[ut];return nt(it,dt,_e,!1,"1-multi-lexicon"),dt&&dt.length===2&&(dt[0]==="PhrasalVerb"||dt[1]==="PhrasalVerb")&&nt([it[1]],"Particle",_e,!1,"1-phrasal-particle"),!0}}return!1}return null},prefix$3=/^(under|over|mis|re|un|dis|semi|pre|post)-?/,allowPrefix=new Set(["Verb","Infinitive","PastTense","Gerund","PresentTense","Adjective","Participle"]),checkLexicon=function(b,$,_e){const{model:et,methods:tt}=_e,nt=tt.one.setTag,{lexicon:rt}=et.one;let ot=b[$],st=ot.machine||ot.normal;if(rt[st]!==void 0&&rt.hasOwnProperty(st))return nt([ot],rt[st],_e,!1,"1-lexicon"),!0;if(ot.alias){let ct=ot.alias.find(lt=>rt.hasOwnProperty(lt));if(ct)return nt([ot],rt[ct],_e,!1,"1-lexicon-alias"),!0}if(prefix$3.test(st)===!0){let ct=st.replace(prefix$3,"");if(rt.hasOwnProperty(ct)&&ct.length>3&&allowPrefix.has(rt[ct]))return nt([ot],rt[ct],_e,!1,"1-lexicon-prefix"),!0}return null},lexicon$3=function(b){const $=b.world;b.docs.forEach(_e=>{for(let et=0;et<_e.length;et+=1)if(_e[et].tags.size===0){let tt=null;tt=tt||multiWord(_e,et,$),tt=tt||checkLexicon(_e,et,$)}})},compute$6={lexicon:lexicon$3},expand$2=function(b){let $={},_e={};return Object.keys(b).forEach(et=>{let tt=b[et];et=et.toLowerCase().trim(),et=et.replace(/'s\b/,"");let nt=et.split(/ /);nt.length>1&&(_e[nt[0]]===void 0||nt.length>_e[nt[0]])&&(_e[nt[0]]=nt.length),$[et]=$[et]||tt}),delete $[""],delete $[null],delete $[" "],{lex:$,_multi:_e}},methods$g={one:{expandLexicon:expand$2}},addWords=function(b,$=!1){const _e=this.world(),{methods:et,model:tt}=_e;if(!b)return;if(Object.keys(b).forEach(ot=>{typeof b[ot]=="string"&&b[ot].startsWith("#")&&(b[ot]=b[ot].replace(/^#/,""))}),$===!0){let{lex:ot,_multi:st}=et.one.expandLexicon(b,_e);Object.assign(tt.one._multiCache,st),Object.assign(tt.one.frozenLex,ot);return}if(et.two.expandLexicon){let{lex:ot,_multi:st}=et.two.expandLexicon(b,_e);Object.assign(tt.one.lexicon,ot),Object.assign(tt.one._multiCache,st)}let{lex:nt,_multi:rt}=et.one.expandLexicon(b,_e);Object.assign(tt.one.lexicon,nt),Object.assign(tt.one._multiCache,rt)},lib$5={addWords},model$4={one:{lexicon:{},_multiCache:{},frozenLex:{}}},lexicon$2={model:model$4,methods:methods$g,compute:compute$6,lib:lib$5,hooks:["lexicon"]},tokenize$1=function(b,$){const{methods:_e,model:et}=$;return _e.one.tokenize.splitTerms(b,et).map(nt=>_e.one.tokenize.splitWhitespace(nt,et)).map(nt=>nt.text.toLowerCase())},buildTrie=function(b,$){let _e=[{}],et=[null],tt=[0],nt=[],rt=0;b.forEach(function(ot){let st=0,ct=tokenize$1(ot,$);for(let lt=0;lt<ct.length;lt++){let at=ct[lt];_e[st]&&_e[st].hasOwnProperty(at)?st=_e[st][at]:(rt++,_e[st][at]=rt,_e[rt]={},st=rt,et[rt]=null)}et[st]=[ct.length]});for(let ot in _e[0])rt=_e[0][ot],tt[rt]=0,nt.push(rt);for(;nt.length;){let ot=nt.shift(),st=Object.keys(_e[ot]);for(let ct=0;ct<st.length;ct+=1){let lt=st[ct],at=_e[ot][lt];for(nt.push(at),rt=tt[ot];rt>0&&!_e[rt].hasOwnProperty(lt);)rt=tt[rt];if(_e.hasOwnProperty(rt)){let it=_e[rt][lt];tt[at]=it,et[it]&&(et[at]=et[at]||[],et[at]=et[at].concat(et[it]))}else tt[at]=0}}return{goNext:_e,endAs:et,failTo:tt}},scanWords=function(b,$,_e){let et=0,tt=[];for(let nt=0;nt<b.length;nt++){let rt=b[nt][_e.form]||b[nt].normal;for(;et>0&&($.goNext[et]===void 0||!$.goNext[et].hasOwnProperty(rt));)et=$.failTo[et]||0;if($.goNext[et].hasOwnProperty(rt)&&(et=$.goNext[et][rt],$.endAs[et])){let ot=$.endAs[et];for(let st=0;st<ot.length;st++){let ct=ot[st],lt=b[nt-ct+1],[at,it]=lt.index;tt.push([at,it,it+ct,lt.id])}}}return tt},cacheMiss=function(b,$){for(let _e=0;_e<b.length;_e+=1)if($.has(b[_e])===!0)return!1;return!0},scan=function(b,$,_e){let et=[];_e.form=_e.form||"normal";let tt=b.docs;if(!$.goNext||!$.goNext[0])return console.error("Compromise invalid lookup trie"),b.none();let nt=Object.keys($.goNext[0]);for(let rt=0;rt<tt.length;rt++){if(b._cache&&b._cache[rt]&&cacheMiss(nt,b._cache[rt])===!0)continue;let ot=tt[rt],st=scanWords(ot,$,_e);st.length>0&&(et=et.concat(st))}return b.update(et)},isObject$8=b=>Object.prototype.toString.call(b)==="[object Object]";function api$l(b){b.prototype.lookup=function($,_e={}){if(!$)return this.none();typeof $=="string"&&($=[$]);let et=isObject$8($)?$:buildTrie($,this.world),tt=scan(this,et,_e);return tt=tt.settle(),tt}}const truncate=(b,$)=>{for(let _e=b.length-1;_e>=0;_e-=1)if(b[_e]!==$)return b=b.slice(0,_e+1),b;return b},compress=function(b){return b.goNext=b.goNext.map($=>{if(Object.keys($).length!==0)return $}),b.goNext=truncate(b.goNext,void 0),b.failTo=truncate(b.failTo,0),b.endAs=truncate(b.endAs,null),b},lib$4={buildTrie:function(b){const $=buildTrie(b,this.world());return compress($)}};lib$4.compile=lib$4.buildTrie;const lookup={api:api$l,lib:lib$4},relPointer=function(b,$){return $&&b.forEach(_e=>{let et=_e[0];$[et]&&(_e[0]=$[et][0],_e[1]+=$[et][1],_e[2]+=$[et][1])}),b},fixPointers=function(b,$){let{ptrs:_e,byGroup:et}=b;return _e=relPointer(_e,$),Object.keys(et).forEach(tt=>{et[tt]=relPointer(et[tt],$)}),{ptrs:_e,byGroup:et}},parseRegs=function(b,$,_e){const et=_e.methods.one;return typeof b=="number"&&(b=String(b)),typeof b=="string"&&(b=et.killUnicode(b,_e),b=et.parseMatch(b,$,_e)),b},isObject$7=b=>Object.prototype.toString.call(b)==="[object Object]",isView=b=>b&&isObject$7(b)&&b.isView===!0,isNet=b=>b&&isObject$7(b)&&b.isNet===!0,match$2=function(b,$,_e){const et=this.methods.one;if(isView(b))return this.intersection(b);if(isNet(b))return this.sweep(b,{tagger:!1}).view.settle();b=parseRegs(b,_e,this.world);let tt={regs:b,group:$},nt=et.match(this.docs,tt,this._cache),{ptrs:rt,byGroup:ot}=fixPointers(nt,this.fullPointer),st=this.toView(rt);return st._groups=ot,st},matchOne=function(b,$,_e){const et=this.methods.one;if(isView(b))return this.intersection(b).eq(0);if(isNet(b))return this.sweep(b,{tagger:!1,matchOne:!0}).view;b=parseRegs(b,_e,this.world);let tt={regs:b,group:$,justOne:!0},nt=et.match(this.docs,tt,this._cache),{ptrs:rt,byGroup:ot}=fixPointers(nt,this.fullPointer),st=this.toView(rt);return st._groups=ot,st},has=function(b,$,_e){const et=this.methods.one;if(isView(b))return this.intersection(b).fullPointer.length>0;if(isNet(b))return this.sweep(b,{tagger:!1}).view.found;b=parseRegs(b,_e,this.world);let tt={regs:b,group:$,justOne:!0};return et.match(this.docs,tt,this._cache).ptrs.length>0},ifFn=function(b,$,_e){const et=this.methods.one;if(isView(b))return this.filter(st=>st.intersection(b).found);if(isNet(b)){let st=this.sweep(b,{tagger:!1}).view.settle();return this.if(st)}b=parseRegs(b,_e,this.world);let tt={regs:b,group:$,justOne:!0},nt=this.fullPointer,rt=this._cache||[];nt=nt.filter((st,ct)=>{let lt=this.update([st]);return et.match(lt.docs,tt,rt[ct]).ptrs.length>0});let ot=this.update(nt);return this._cache&&(ot._cache=nt.map(st=>rt[st[0]])),ot},ifNo=function(b,$,_e){const{methods:et}=this,tt=et.one;if(isView(b))return this.filter(ot=>!ot.intersection(b).found);if(isNet(b)){let ot=this.sweep(b,{tagger:!1}).view.settle();return this.ifNo(ot)}b=parseRegs(b,_e,this.world);let nt=this._cache||[],rt=this.filter((ot,st)=>{let ct={regs:b,group:$,justOne:!0};return tt.match(ot.docs,ct,nt[st]).ptrs.length===0});return this._cache&&(rt._cache=rt.ptrs.map(ot=>nt[ot[0]])),rt},match$3={matchOne,match:match$2,has,if:ifFn,ifNo},before=function(b,$,_e){const{indexN:et}=this.methods.one.pointer;let tt=[],nt=et(this.fullPointer);Object.keys(nt).forEach(ot=>{let st=nt[ot].sort((ct,lt)=>ct[1]>lt[1]?1:-1)[0];st[1]>0&&tt.push([st[0],0,st[1]])});let rt=this.toView(tt);return b?rt.match(b,$,_e):rt},after=function(b,$,_e){const{indexN:et}=this.methods.one.pointer;let tt=[],nt=et(this.fullPointer),rt=this.document;Object.keys(nt).forEach(st=>{let ct=nt[st].sort((it,ut)=>it[1]>ut[1]?-1:1)[0],[lt,,at]=ct;at<rt[lt].length&&tt.push([lt,at,rt[lt].length])});let ot=this.toView(tt);return b?ot.match(b,$,_e):ot},growLeft=function(b,$,_e){typeof b=="string"&&(b=this.world.methods.one.parseMatch(b,_e,this.world)),b[b.length-1].end=!0;let et=this.fullPointer;return this.forEach((tt,nt)=>{let rt=tt.before(b,$);if(rt.found){let ot=rt.terms();et[nt][1]-=ot.length,et[nt][3]=ot.docs[0][0].id}}),this.update(et)},growRight=function(b,$,_e){typeof b=="string"&&(b=this.world.methods.one.parseMatch(b,_e,this.world)),b[0].start=!0;let et=this.fullPointer;return this.forEach((tt,nt)=>{let rt=tt.after(b,$);if(rt.found){let ot=rt.terms();et[nt][2]+=ot.length,et[nt][4]=null}}),this.update(et)},grow=function(b,$,_e){return this.growRight(b,$,_e).growLeft(b,$,_e)},lookaround={before,after,growLeft,growRight,grow},combine=function(b,$){return[b[0],b[1],$[2]]},isArray$8=function(b){return Object.prototype.toString.call(b)==="[object Array]"},getDoc$2=(b,$,_e)=>typeof b=="string"||isArray$8(b)?$.match(b,_e):b||$.none(),addIds$1=function(b,$){let[_e,et,tt]=b;return $.document[_e]&&$.document[_e][et]&&(b[3]=b[3]||$.document[_e][et].id,$.document[_e][tt-1]&&(b[4]=b[4]||$.document[_e][tt-1].id)),b},methods$f={};methods$f.splitOn=function(b,$){const{splitAll:_e}=this.methods.one.pointer;let et=getDoc$2(b,this,$).fullPointer,tt=_e(this.fullPointer,et),nt=[];return tt.forEach(rt=>{nt.push(rt.passthrough),nt.push(rt.before),nt.push(rt.match),nt.push(rt.after)}),nt=nt.filter(rt=>rt),nt=nt.map(rt=>addIds$1(rt,this)),this.update(nt)};methods$f.splitBefore=function(b,$){const{splitAll:_e}=this.methods.one.pointer;let et=getDoc$2(b,this,$).fullPointer,tt=_e(this.fullPointer,et);for(let rt=0;rt<tt.length;rt+=1)!tt[rt].after&&tt[rt+1]&&tt[rt+1].before&&tt[rt].match&&tt[rt].match[0]===tt[rt+1].before[0]&&(tt[rt].after=tt[rt+1].before,delete tt[rt+1].before);let nt=[];return tt.forEach(rt=>{nt.push(rt.passthrough),nt.push(rt.before),rt.match&&rt.after?nt.push(combine(rt.match,rt.after)):nt.push(rt.match)}),nt=nt.filter(rt=>rt),nt=nt.map(rt=>addIds$1(rt,this)),this.update(nt)};methods$f.splitAfter=function(b,$){const{splitAll:_e}=this.methods.one.pointer;let et=getDoc$2(b,this,$).fullPointer,tt=_e(this.fullPointer,et),nt=[];return tt.forEach(rt=>{nt.push(rt.passthrough),rt.before&&rt.match?nt.push(combine(rt.before,rt.match)):(nt.push(rt.before),nt.push(rt.match)),nt.push(rt.after)}),nt=nt.filter(rt=>rt),nt=nt.map(rt=>addIds$1(rt,this)),this.update(nt)};methods$f.split=methods$f.splitAfter;const isNeighbour=function(b,$){return!b||!$||b[0]!==$[0]?!1:b[2]===$[1]},mergeIf=function(b,$,_e){const et=b.world,tt=et.methods.one.parseMatch;$=$||".$",_e=_e||"^.";let nt=tt($,{},et),rt=tt(_e,{},et);nt[nt.length-1].end=!0,rt[0].start=!0;let ot=b.fullPointer,st=[ot[0]];for(let ct=1;ct<ot.length;ct+=1){let lt=st[st.length-1],at=ot[ct],it=b.update([lt]),ut=b.update([at]);isNeighbour(lt,at)&&it.has(nt)&&ut.has(rt)?st[st.length-1]=[lt[0],lt[1],at[2],lt[3],at[4]]:st.push(at)}return b.update(st)},methods$e={joinIf:function(b,$){return mergeIf(this,b,$)},join:function(){return mergeIf(this)}},methods$d=Object.assign({},match$3,lookaround,methods$f,methods$e);methods$d.lookBehind=methods$d.before;methods$d.lookBefore=methods$d.before;methods$d.lookAhead=methods$d.after;methods$d.lookAfter=methods$d.after;methods$d.notIf=methods$d.ifNo;const matchAPI=function(b){Object.assign(b.prototype,methods$d)},bySlashes=/(?:^|\s)([![^]*(?:<[^<]*>)?\/.*?[^\\/]\/[?\]+*$~]*)(?:\s|$)/,byParentheses=/([!~[^]*(?:<[^<]*>)?\([^)]+[^\\)]\)[?\]+*$~]*)(?:\s|$)/,byWord$1=/ /g,isBlock=b=>/^[![^]*(<[^<]*>)?\(/.test(b)&&/\)[?\]+*$~]*$/.test(b),isReg=b=>/^[![^]*(<[^<]*>)?\//.test(b)&&/\/[?\]+*$~]*$/.test(b),cleanUp$1=function(b){return b=b.map($=>$.trim()),b=b.filter($=>$),b},parseBlocks=function(b){let $=b.split(bySlashes),_e=[];$.forEach(tt=>{if(isReg(tt)){_e.push(tt);return}_e=_e.concat(tt.split(byParentheses))}),_e=cleanUp$1(_e);let et=[];return _e.forEach(tt=>{isBlock(tt)||isReg(tt)?et.push(tt):et=et.concat(tt.split(byWord$1))}),et=cleanUp$1(et),et},hasMinMax=/\{([0-9]+)?(, *[0-9]*)?\}/,andSign=/&&/,captureName=new RegExp(/^<\s*(\S+)\s*>/),titleCase$2=b=>b.charAt(0).toUpperCase()+b.substring(1),end=b=>b.charAt(b.length-1),start$1=b=>b.charAt(0),stripStart=b=>b.substring(1),stripEnd=b=>b.substring(0,b.length-1),stripBoth=function(b){return b=stripStart(b),b=stripEnd(b),b},parseToken=function(b,$){let _e={};for(let et=0;et<2;et+=1){if(end(b)==="$"&&(_e.end=!0,b=stripEnd(b)),start$1(b)==="^"&&(_e.start=!0,b=stripStart(b)),end(b)==="?"&&(_e.optional=!0,b=stripEnd(b)),(start$1(b)==="["||end(b)==="]")&&(_e.group=null,start$1(b)==="["&&(_e.groupStart=!0),end(b)==="]"&&(_e.groupEnd=!0),b=b.replace(/^\[/,""),b=b.replace(/\]$/,""),start$1(b)==="<")){const tt=captureName.exec(b);tt.length>=2&&(_e.group=tt[1],b=b.replace(tt[0],""))}if(end(b)==="+"&&(_e.greedy=!0,b=stripEnd(b)),b!=="*"&&end(b)==="*"&&b!=="\\*"&&(_e.greedy=!0,b=stripEnd(b)),start$1(b)==="!"&&(_e.negative=!0,b=stripStart(b)),start$1(b)==="~"&&end(b)==="~"&&b.length>2&&(b=stripBoth(b),_e.fuzzy=!0,_e.min=$.fuzzy||.85,/\(/.test(b)===!1))return _e.word=b,_e;if(start$1(b)==="/"&&end(b)==="/")return b=stripBoth(b),$.caseSensitive&&(_e.use="text"),_e.regex=new RegExp(b),_e;if(hasMinMax.test(b)===!0&&(b=b.replace(hasMinMax,(tt,nt,rt)=>(rt===void 0?(_e.min=Number(nt),_e.max=Number(nt)):(rt=rt.replace(/, */,""),nt===void 0?(_e.min=0,_e.max=Number(rt)):(_e.min=Number(nt),_e.max=Number(rt||999))),_e.greedy=!0,_e.min||(_e.optional=!0),""))),start$1(b)==="("&&end(b)===")"){andSign.test(b)?(_e.choices=b.split(andSign),_e.operator="and"):(_e.choices=b.split("|"),_e.operator="or"),_e.choices[0]=stripStart(_e.choices[0]);let tt=_e.choices.length-1;_e.choices[tt]=stripEnd(_e.choices[tt]),_e.choices=_e.choices.map(nt=>nt.trim()),_e.choices=_e.choices.filter(nt=>nt),_e.choices=_e.choices.map(nt=>nt.split(/ /g).map(rt=>parseToken(rt,$))),b=""}if(start$1(b)==="{"&&end(b)==="}"){if(b=stripBoth(b),_e.root=b,/\//.test(b)){let tt=_e.root.split(/\//);_e.root=tt[0],_e.pos=tt[1],_e.pos==="adj"&&(_e.pos="Adjective"),_e.pos=_e.pos.charAt(0).toUpperCase()+_e.pos.substr(1).toLowerCase(),tt[2]!==void 0&&(_e.sense=tt[2])}return _e}if(start$1(b)==="<"&&end(b)===">")return b=stripBoth(b),_e.chunk=titleCase$2(b),_e.greedy=!0,_e;if(start$1(b)==="%"&&end(b)==="%")return b=stripBoth(b),_e.switch=b,_e}return start$1(b)==="#"?(_e.tag=stripStart(b),_e.tag=titleCase$2(_e.tag),_e):start$1(b)==="@"?(_e.method=stripStart(b),_e):b==="."?(_e.anything=!0,_e):b==="*"?(_e.anything=!0,_e.greedy=!0,_e.optional=!0,_e):(b&&(b=b.replace("\\*","*"),b=b.replace("\\.","."),$.caseSensitive?_e.use="text":b=b.toLowerCase(),_e.word=b),_e)},hasDash$2=/[a-z0-9][-–—][a-z]/i,splitHyphens$1=function(b,$){let _e=$.model.one.prefixes;for(let et=b.length-1;et>=0;et-=1){let tt=b[et];if(tt.word&&hasDash$2.test(tt.word)){let nt=tt.word.split(/[-–—]/g);if(_e.hasOwnProperty(nt[0]))continue;nt=nt.filter(rt=>rt).reverse(),b.splice(et,1),nt.forEach(rt=>{let ot=Object.assign({},tt);ot.word=rt,b.splice(et,0,ot)})}}return b},addVerbs=function(b,$){let{all:_e}=$.methods.two.transform.verb||{},et=b.root;return _e?_e(et,$.model):[]},addNoun=function(b,$){let{all:_e}=$.methods.two.transform.noun||{};return _e?_e(b.root,$.model):[b.root]},addAdjective=function(b,$){let{all:_e}=$.methods.two.transform.adjective||{};return _e?_e(b.root,$.model):[b.root]},inflectRoot=function(b,$){return b=b.map(_e=>{if(_e.root)if($.methods.two&&$.methods.two.transform){let et=[];_e.pos?_e.pos==="Verb"?et=et.concat(addVerbs(_e,$)):_e.pos==="Noun"?et=et.concat(addNoun(_e,$)):_e.pos==="Adjective"&&(et=et.concat(addAdjective(_e,$))):(et=et.concat(addVerbs(_e,$)),et=et.concat(addNoun(_e,$)),et=et.concat(addAdjective(_e,$))),et=et.filter(tt=>tt),et.length>0&&(_e.operator="or",_e.fastOr=new Set(et))}else _e.machine=_e.root,delete _e.id,delete _e.root;return _e}),b},nameGroups=function(b){let $=0,_e=null;for(let et=0;et<b.length;et++){const tt=b[et];tt.groupStart===!0&&(_e=tt.group,_e===null&&(_e=String($),$+=1)),_e!==null&&(tt.group=_e),tt.groupEnd===!0&&(_e=null)}return b},doFastOrMode=function(b){return b.map($=>{if($.choices!==void 0){if($.operator!=="or"||$.fuzzy===!0)return $;$.choices.every(et=>{if(et.length!==1)return!1;let tt=et[0];return tt.fuzzy===!0||tt.start||tt.end?!1:tt.word!==void 0&&tt.negative!==!0&&tt.optional!==!0&&tt.method!==!0})===!0&&($.fastOr=new Set,$.choices.forEach(et=>{$.fastOr.add(et[0].word)}),delete $.choices)}return $})},fuzzyOr=function(b){return b.map($=>($.fuzzy&&$.choices&&$.choices.forEach(_e=>{_e.length===1&&_e[0].word&&(_e[0].fuzzy=!0,_e[0].min=$.min)}),$))},postProcess=function(b){return b=nameGroups(b),b=doFastOrMode(b),b=fuzzyOr(b),b},syntax=function(b,$,_e){if(b==null||b==="")return[];$=$||{},typeof b=="number"&&(b=String(b));let et=parseBlocks(b);return et=et.map(tt=>parseToken(tt,$)),et=splitHyphens$1(et,_e),et=inflectRoot(et,_e),et=postProcess(et),et},anyIntersection=function(b,$){for(let _e of $)if(b.has(_e))return!0;return!1},failFast=function(b,$){for(let _e=0;_e<b.length;_e+=1){let et=b[_e];if(!(et.optional===!0||et.negative===!0||et.fuzzy===!0)){if(et.word!==void 0&&$.has(et.word)===!1||et.tag!==void 0&&$.has("#"+et.tag)===!1)return!0;if(et.fastOr&&anyIntersection(et.fastOr,$)===!1)return!1}}return!1},editDistance=function(b,$){let _e=b.length,et=$.length;if(_e===0)return et;if(et===0)return _e;let tt=(et>_e?et:_e)+1;if(Math.abs(_e-et)>(tt||100))return tt||100;let nt=[];for(let it=0;it<tt;it++)nt[it]=[it],nt[it].length=tt;for(let it=0;it<tt;it++)nt[0][it]=it;let rt,ot,st,ct,lt,at;for(let it=1;it<=_e;++it)for(ot=b[it-1],rt=1;rt<=et;++rt){if(it===rt&&nt[it][rt]>4)return _e;st=$[rt-1],ct=ot===st?0:1,lt=nt[it-1][rt]+1,(at=nt[it][rt-1]+1)<lt&&(lt=at),(at=nt[it-1][rt-1]+ct)<lt&&(lt=at),it>1&&rt>1&&ot===$[rt-2]&&b[it-2]===st&&(at=nt[it-2][rt-2]+ct)<lt?nt[it][rt]=at:nt[it][rt]=lt}return nt[_e][et]},fuzzyMatch=function(b,$,_e=3){if(b===$)return 1;if(b.length<_e||$.length<_e)return 0;const et=editDistance(b,$);let tt=Math.max(b.length,$.length);return 1-(tt===0?0:et/tt)},startQuote=/([\u0022\uFF02\u0027\u201C\u2018\u201F\u201B\u201E\u2E42\u201A\u00AB\u2039\u2035\u2036\u2037\u301D\u0060\u301F])/,endQuote=/([\u0022\uFF02\u0027\u201D\u2019\u00BB\u203A\u2032\u2033\u2034\u301E\u00B4])/,hasHyphen$1=/^[-–—]$/,hasDash$1=/ [-–—]{1,3} /,hasPost=(b,$)=>b.post.indexOf($)!==-1,methods$c={hasQuote:b=>startQuote.test(b.pre)||endQuote.test(b.post),hasComma:b=>hasPost(b,","),hasPeriod:b=>hasPost(b,".")===!0&&hasPost(b,"...")===!1,hasExclamation:b=>hasPost(b,"!"),hasQuestionMark:b=>hasPost(b,"?")||hasPost(b,"¿"),hasEllipses:b=>hasPost(b,"..")||hasPost(b,"…"),hasSemicolon:b=>hasPost(b,";"),hasColon:b=>hasPost(b,":"),hasSlash:b=>/\//.test(b.text),hasHyphen:b=>hasHyphen$1.test(b.post)||hasHyphen$1.test(b.pre),hasDash:b=>hasDash$1.test(b.post)||hasDash$1.test(b.pre),hasContraction:b=>!!b.implicit,isAcronym:b=>b.tags.has("Acronym"),isKnown:b=>b.tags.size>0,isTitleCase:b=>new RegExp("^\\p{Lu}[a-z'\\u00C0-\\u00FF]","u").test(b.text),isUpperCase:b=>new RegExp("^\\p{Lu}+$","u").test(b.text)};methods$c.hasQuotation=methods$c.hasQuote;let wrapMatch=function(){};const doesMatch$1=function(b,$,_e,et){if($.anything===!0)return!0;if($.start===!0&&_e!==0||$.end===!0&&_e!==et-1)return!1;if($.id!==void 0&&$.id===b.id)return!0;if($.word!==void 0)return $.use?$.word===b[$.use]:b.machine!==null&&b.machine===$.word||b.alias!==void 0&&b.alias.hasOwnProperty($.word)||$.fuzzy===!0&&($.word===b.root||fuzzyMatch($.word,b.normal)>=$.min)||b.alias&&b.alias.some(tt=>tt===$.word)?!0:$.word===b.text||$.word===b.normal;if($.tag!==void 0)return b.tags.has($.tag)===!0;if($.method!==void 0)return typeof methods$c[$.method]=="function"&&methods$c[$.method](b)===!0;if($.pre!==void 0)return b.pre&&b.pre.includes($.pre);if($.post!==void 0)return b.post&&b.post.includes($.post);if($.regex!==void 0){let tt=b.normal;return $.use&&(tt=b[$.use]),$.regex.test(tt)}if($.chunk!==void 0)return b.chunk===$.chunk;if($.switch!==void 0)return b.switch===$.switch;if($.machine!==void 0)return b.normal===$.machine||b.machine===$.machine||b.root===$.machine;if($.sense!==void 0)return b.sense===$.sense;if($.fastOr!==void 0){if($.pos&&!b.tags.has($.pos))return null;let tt=b.root||b.implicit||b.machine||b.normal;return $.fastOr.has(tt)||$.fastOr.has(b.text)}return $.choices!==void 0?$.operator==="and"?$.choices.every(tt=>wrapMatch(b,tt,_e,et)):$.choices.some(tt=>wrapMatch(b,tt,_e,et)):!1};wrapMatch=function(b,$,_e,et){let tt=doesMatch$1(b,$,_e,et);return $.negative===!0?!tt:tt};const getGreedy=function(b,$){let _e=Object.assign({},b.regs[b.r],{start:!1,end:!1}),et=b.t;for(;b.t<b.terms.length;b.t+=1){if($&&wrapMatch(b.terms[b.t],$,b.start_i+b.t,b.phrase_length))return b.t;let tt=b.t-et+1;if(_e.max!==void 0&&tt===_e.max)return b.t;if(wrapMatch(b.terms[b.t],_e,b.start_i+b.t,b.phrase_length)===!1)return _e.min!==void 0&&tt<_e.min?null:b.t}return b.t},greedyTo=function(b,$){let _e=b.t;if(!$)return b.terms.length;for(;_e<b.terms.length;_e+=1)if(wrapMatch(b.terms[_e],$,b.start_i+_e,b.phrase_length)===!0)return _e;return null},isEndGreedy=function(b,$){if(b.end===!0&&b.greedy===!0&&$.start_i+$.t<$.phrase_length-1){let _e=Object.assign({},b,{end:!1});if(wrapMatch($.terms[$.t],_e,$.start_i+$.t,$.phrase_length)===!0)return!0}return!1},getGroup$1=function(b,$){return b.groups[b.inGroup]||(b.groups[b.inGroup]={start:$,length:0}),b.groups[b.inGroup]},doAstrix=function(b){let{regs:$}=b,_e=$[b.r],et=greedyTo(b,$[b.r+1]);if(et===null||et===0||_e.min!==void 0&&et-b.t<_e.min)return null;if(_e.max!==void 0&&et-b.t>_e.max)return b.t=b.t+_e.max,!0;if(b.hasGroup===!0){const tt=getGroup$1(b,b.t);tt.length=et-b.t}return b.t=et,!0},isArray$7=function(b){return Object.prototype.toString.call(b)==="[object Array]"},doOrBlock=function(b,$=0){let _e=b.regs[b.r],et=!1;for(let tt=0;tt<_e.choices.length;tt+=1){let nt=_e.choices[tt];if(!isArray$7(nt))return!1;if(et=nt.every((rt,ot)=>{let st=0,ct=b.t+ot+$+st;if(b.terms[ct]===void 0)return!1;let lt=wrapMatch(b.terms[ct],rt,ct+b.start_i,b.phrase_length);if(lt===!0&&rt.greedy===!0)for(let at=1;at<b.terms.length;at+=1){let it=b.terms[ct+at];if(it)if(wrapMatch(it,rt,b.start_i+at,b.phrase_length)===!0)st+=1;else break}return $+=st,lt}),et){$+=nt.length;break}}return et&&_e.greedy===!0?doOrBlock(b,$):$},doAndBlock=function(b){let $=0;return b.regs[b.r].choices.every(tt=>{let nt=tt.every((rt,ot)=>{let st=b.t+ot;return b.terms[st]===void 0?!1:wrapMatch(b.terms[st],rt,st,b.phrase_length)});return nt===!0&&tt.length>$&&($=tt.length),nt})===!0?$:!1},orBlock=function(b){const{regs:$}=b;let _e=$[b.r],et=doOrBlock(b);if(et){if(_e.negative===!0)return null;if(b.hasGroup===!0){const tt=getGroup$1(b,b.t);tt.length+=et}if(_e.end===!0){let tt=b.phrase_length;if(b.t+b.start_i+et!==tt)return null}return b.t+=et,!0}else if(!_e.optional)return null;return!0},andBlock=function(b){const{regs:$}=b;let _e=$[b.r],et=doAndBlock(b);if(et){if(_e.negative===!0)return null;if(b.hasGroup===!0){const tt=getGroup$1(b,b.t);tt.length+=et}if(_e.end===!0){let tt=b.phrase_length-1;if(b.t+b.start_i!==tt)return null}return b.t+=et,!0}else if(!_e.optional)return null;return!0},negGreedy=function(b,$,_e){let et=0;for(let tt=b.t;tt<b.terms.length;tt+=1){let nt=wrapMatch(b.terms[tt],$,b.start_i+b.t,b.phrase_length);if(nt||_e&&(nt=wrapMatch(b.terms[tt],_e,b.start_i+b.t,b.phrase_length),nt)||(et+=1,$.max!==void 0&&et===$.max))break}return et===0||$.min&&$.min>et?!1:(b.t+=et,!0)},doNegative=function(b){const{regs:$}=b;let _e=$[b.r],et=Object.assign({},_e);if(et.negative=!1,wrapMatch(b.terms[b.t],et,b.start_i+b.t,b.phrase_length))return!1;if(_e.optional){let nt=$[b.r+1];nt&&(wrapMatch(b.terms[b.t],nt,b.start_i+b.t,b.phrase_length)?b.r+=1:nt.optional&&$[b.r+2]&&wrapMatch(b.terms[b.t],$[b.r+2],b.start_i+b.t,b.phrase_length)&&(b.r+=2))}return _e.greedy?negGreedy(b,et,$[b.r+1]):(b.t+=1,!0)},foundOptional=function(b){const{regs:$}=b;let _e=$[b.r],et=b.terms[b.t],tt=wrapMatch(et,$[b.r+1],b.start_i+b.t,b.phrase_length);if(_e.negative||tt){let nt=b.terms[b.t+1];(!nt||!wrapMatch(nt,$[b.r+1],b.start_i+b.t,b.phrase_length))&&(b.r+=1)}},greedyMatch=function(b){const{regs:$,phrase_length:_e}=b;let et=$[b.r];return b.t=getGreedy(b,$[b.r+1]),b.t===null||et.min&&et.min>b.t||et.end===!0&&b.start_i+b.t!==_e?null:!0},contractionSkip=function(b){let $=b.terms[b.t],_e=b.regs[b.r];if($.implicit&&b.terms[b.t+1]){if(!b.terms[b.t+1].implicit)return;_e.word===$.normal&&(b.t+=1),_e.method==="hasContraction"&&(b.t+=1)}},setGroup=function(b,$){let _e=b.regs[b.r];const et=getGroup$1(b,$);b.t>1&&_e.greedy?et.length+=b.t-$:et.length++},simpleMatch=function(b){const{regs:$}=b;let _e=$[b.r],et=b.terms[b.t],tt=b.t;return _e.optional&&$[b.r+1]&&_e.negative?!0:(_e.optional&&$[b.r+1]&&foundOptional(b),et.implicit&&b.terms[b.t+1]&&contractionSkip(b),b.t+=1,_e.end===!0&&b.t!==b.terms.length&&_e.greedy!==!0||_e.greedy===!0&&!greedyMatch(b)?null:(b.hasGroup===!0&&setGroup(b,tt),!0))},tryHere=function(b,$,_e,et){if(b.length===0||$.length===0)return null;let tt={t:0,terms:b,r:0,regs:$,groups:{},start_i:_e,phrase_length:et,inGroup:null};for(;tt.r<$.length;tt.r+=1){let ot=$[tt.r];if(tt.hasGroup=!!ot.group,tt.hasGroup===!0?tt.inGroup=ot.group:tt.inGroup=null,!tt.terms[tt.t]){if($.slice(tt.r).some(lt=>!lt.optional)===!1)break;return null}if(ot.anything===!0&&ot.greedy===!0){if(!doAstrix(tt))return null;continue}if(ot.choices!==void 0&&ot.operator==="or"){if(!orBlock(tt))return null;continue}if(ot.choices!==void 0&&ot.operator==="and"){if(!andBlock(tt))return null;continue}if(ot.anything===!0){if(ot.negative&&ot.anything||!simpleMatch(tt))return null;continue}if(isEndGreedy(ot,tt)===!0){if(!simpleMatch(tt))return null;continue}if(ot.negative){if(!doNegative(tt))return null;continue}if(wrapMatch(tt.terms[tt.t],ot,tt.start_i+tt.t,tt.phrase_length)===!0){if(!simpleMatch(tt))return null;continue}if(ot.optional!==!0)return null}let nt=[null,_e,tt.t+_e];if(nt[1]===nt[2])return null;let rt={};return Object.keys(tt.groups).forEach(ot=>{let st=tt.groups[ot],ct=_e+st.start;rt[ot]=[null,ct,ct+st.length]}),{pointer:nt,groups:rt}},getGroup=function(b,$){let _e=[],et={};return b.length===0?{ptrs:_e,byGroup:et}:(typeof $=="number"&&($=String($)),$?b.forEach(tt=>{tt.groups[$]&&_e.push(tt.groups[$])}):b.forEach(tt=>{_e.push(tt.pointer),Object.keys(tt.groups).forEach(nt=>{et[nt]=et[nt]||[],et[nt].push(tt.groups[nt])})}),{ptrs:_e,byGroup:et})},notIf$1=function(b,$,_e){return b=b.filter(et=>{let[tt,nt,rt]=et.pointer,ot=_e[tt].slice(nt,rt);for(let st=0;st<ot.length;st+=1){let ct=ot.slice(st);if(tryHere(ct,$,st,ot.length)!==null)return!1}return!0}),b},addSentence=function(b,$){return b.pointer[0]=$,Object.keys(b.groups).forEach(_e=>{b.groups[_e][0]=$}),b},handleStart=function(b,$,_e){let et=tryHere(b,$,0,b.length);return et?(et=addSentence(et,_e),et):null},runMatch$1=function(b,$,_e){_e=_e||[];let{regs:et,group:tt,justOne:nt}=$,rt=[];if(!et||et.length===0)return{ptrs:[],byGroup:{}};const ot=et.filter(st=>st.optional!==!0&&st.negative!==!0).length;e:for(let st=0;st<b.length;st+=1){let ct=b[st];if(!(_e[st]&&failFast(et,_e[st]))){if(et[0].start===!0){let lt=handleStart(ct,et,st);lt&&rt.push(lt);continue}for(let lt=0;lt<ct.length;lt+=1){let at=ct.slice(lt);if(at.length<ot)break;let it=tryHere(at,et,lt,ct.length);if(it){if(it=addSentence(it,st),rt.push(it),nt===!0)break e;let ut=it.pointer[2];Math.abs(ut-1)>lt&&(lt=Math.abs(ut-1))}}}}return et[et.length-1].end===!0&&(rt=rt.filter(st=>{let ct=st.pointer[0];return b[ct].length===st.pointer[2]})),$.notIf&&(rt=notIf$1(rt,$.notIf,b)),rt=getGroup(rt,tt),rt.ptrs.forEach(st=>{let[ct,lt,at]=st;st[3]=b[ct][lt].id,st[4]=b[ct][at-1].id}),rt},methods$b={one:{termMethods:methods$c,parseMatch:syntax,match:runMatch$1}},lib$3={parseMatch:function(b,$){const _e=this.world();let et=_e.methods.one.killUnicode;return et&&(b=et(b,_e)),_e.methods.one.parseMatch(b,$,_e)}},match$1={api:matchAPI,methods:methods$b,lib:lib$3},isClass=/^\../,isId=/^#./,escapeXml=b=>(b=b.replace(/&/g,"&amp;"),b=b.replace(/</g,"&lt;"),b=b.replace(/>/g,"&gt;"),b=b.replace(/"/g,"&quot;"),b=b.replace(/'/g,"&apos;"),b),toTag=function(b){let $="",_e="</span>";return b=escapeXml(b),isClass.test(b)?$=`<span class="${b.replace(/^\./,"")}"`:isId.test(b)?$=`<span id="${b.replace(/^#/,"")}"`:($=`<${b}`,_e=`</${b}>`),$+=">",{start:$,end:_e}},getIndex=function(b,$){let _e={},et={};return Object.keys($).forEach(tt=>{let nt=$[tt],rt=toTag(tt);typeof nt=="string"&&(nt=b.match(nt)),nt.docs.forEach(ot=>{if(ot.every(lt=>lt.implicit))return;let st=ot[0].id;_e[st]=_e[st]||[],_e[st].push(rt.start);let ct=ot[ot.length-1].id;et[ct]=et[ct]||[],et[ct].push(rt.end)})}),{starts:_e,ends:et}},html$3=function(b){let{starts:$,ends:_e}=getIndex(this,b),et="";return this.docs.forEach(tt=>{for(let nt=0;nt<tt.length;nt+=1){let rt=tt[nt];$.hasOwnProperty(rt.id)&&(et+=$[rt.id].join("")),et+=rt.pre||"",et+=rt.text||"",_e.hasOwnProperty(rt.id)&&(et+=_e[rt.id].join("")),et+=rt.post||""}}),et},html$4={html:html$3},trimEnd=/[,:;)\]*.?~!\u0022\uFF02\u201D\u2019\u00BB\u203A\u2032\u2033\u2034\u301E\u00B4—-]+$/,trimStart=/^[(['"*~\uFF02\u201C\u2018\u201F\u201B\u201E\u2E42\u201A\u00AB\u2039\u2035\u2036\u2037\u301D\u0060\u301F]+/,punctToKill=/[,:;)('"\u201D\]]/,isHyphen=/^[-–—]$/,hasSpace=/ /,textFromTerms=function(b,$,_e=!0){let et="";return b.forEach(tt=>{let nt=tt.pre||"",rt=tt.post||"";$.punctuation==="some"&&(nt=nt.replace(trimStart,""),isHyphen.test(rt)&&(rt=" "),rt=rt.replace(punctToKill,""),rt=rt.replace(/\?!+/,"?"),rt=rt.replace(/!+/,"!"),rt=rt.replace(/\?+/,"?"),rt=rt.replace(/\.{2,}/,""),tt.tags.has("Abbreviation")&&(rt=rt.replace(/\./,""))),$.whitespace==="some"&&(nt=nt.replace(/\s/,""),rt=rt.replace(/\s+/," ")),$.keepPunct||(nt=nt.replace(trimStart,""),rt==="-"?rt=" ":rt=rt.replace(trimEnd,""));let ot=tt[$.form||"text"]||tt.normal||"";$.form==="implicit"&&(ot=tt.implicit||tt.text),$.form==="root"&&tt.implicit&&(ot=tt.root||tt.implicit||tt.normal),($.form==="machine"||$.form==="implicit"||$.form==="root")&&tt.implicit&&(!rt||!hasSpace.test(rt))&&(rt+=" "),et+=nt+ot+rt}),_e===!1&&(et=et.trim()),$.lowerCase===!0&&(et=et.toLowerCase()),et},textFromDoc=function(b,$){let _e="";if(!b||!b[0]||!b[0][0])return _e;for(let et=0;et<b.length;et+=1)_e+=textFromTerms(b[et],$,!0);if($.keepSpace||(_e=_e.trim()),$.keepEndPunct===!1){b[0][0].tags.has("Emoticon")||(_e=_e.replace(trimStart,""));let et=b[b.length-1];et[et.length-1].tags.has("Emoticon")||(_e=_e.replace(trimEnd,"")),_e.endsWith("'")&&!_e.endsWith("s'")&&(_e=_e.replace(/'/,""))}return $.cleanWhitespace===!0&&(_e=_e.trim()),_e},fmts={text:{form:"text"},normal:{whitespace:"some",punctuation:"some",case:"some",unicode:"some",form:"normal"},machine:{keepSpace:!1,whitespace:"some",punctuation:"some",case:"none",unicode:"some",form:"machine"},root:{keepSpace:!1,whitespace:"some",punctuation:"some",case:"some",unicode:"some",form:"root"},implicit:{form:"implicit"}};fmts.clean=fmts.normal;fmts.reduced=fmts.root;let k=[],i$2=0;for(;i$2<64;)k[i$2]=0|Math.sin(++i$2%Math.PI)*4294967296;const md5=function(b){let $,_e,et,tt=[$=1732584193,_e=4023233417,~$,~_e],nt=[],rt=decodeURI(encodeURI(b))+"",ot=rt.length;for(b=--ot/4+2|15,nt[--b]=ot*8;~ot;)nt[ot>>2]|=rt.charCodeAt(ot)<<8*ot--;for(i$2=rt=0;i$2<b;i$2+=16){for(ot=tt;rt<64;ot=[et=ot[3],$+((et=ot[0]+[$&_e|~$&et,et&$|~et&_e,$^_e^et,_e^($|~et)][ot=rt>>4]+k[rt]+~~nt[i$2|[rt,5*rt+1,3*rt+5,7*rt][ot]&15])<<(ot=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*ot+rt++%4])|et>>>-ot),$,_e])$=ot[1]|0,_e=ot[2];for(rt=4;rt;)tt[--rt]+=ot[rt]}for(b="";rt<32;)b+=(tt[rt>>3]>>(1^rt++)*4&15).toString(16);return b},defaults$4={text:!0,terms:!0};let opts={case:"none",unicode:"some",form:"machine",punctuation:"some"};const merge$3=function(b,$){return Object.assign({},b,$)},fns$2={text:b=>textFromTerms(b,{keepPunct:!0},!1),normal:b=>textFromTerms(b,merge$3(fmts.normal,{keepPunct:!0}),!1),implicit:b=>textFromTerms(b,merge$3(fmts.implicit,{keepPunct:!0}),!1),machine:b=>textFromTerms(b,opts,!1),root:b=>textFromTerms(b,merge$3(opts,{form:"root"}),!1),hash:b=>md5(textFromTerms(b,{keepPunct:!0},!1)),offset:b=>{let $=fns$2.text(b).length;return{index:b[0].offset.index,start:b[0].offset.start,length:$}},terms:b=>b.map($=>{let _e=Object.assign({},$);return _e.tags=Array.from($.tags),_e}),confidence:(b,$,_e)=>$.eq(_e).confidence(),syllables:(b,$,_e)=>$.eq(_e).syllables(),sentence:(b,$,_e)=>$.eq(_e).fullSentence().text(),dirty:b=>b.some($=>$.dirty===!0)};fns$2.sentences=fns$2.sentence;fns$2.clean=fns$2.normal;fns$2.reduced=fns$2.root;const toJSON$2=function(b,$){return $=$||{},typeof $=="string"&&($={}),$=Object.assign({},defaults$4,$),$.offset&&b.compute("offset"),b.docs.map((_e,et)=>{let tt={};return Object.keys($).forEach(nt=>{$[nt]&&fns$2[nt]&&(tt[nt]=fns$2[nt](_e,b,et))}),tt})},methods$a={json:function(b){let $=toJSON$2(this,b);return typeof b=="number"?$[b]:$}};methods$a.data=methods$a.json;const isClientSide=()=>typeof window<"u"&&window.document,debug$1=function(b){let $=this.methods.one.debug||{};return b&&$.hasOwnProperty(b)?($[b](this),this):isClientSide()?($.clientSide(this),this):($.tags(this),this)},toText$3=function(b){let $=b.pre||"",_e=b.post||"";return $+b.text+_e},findStarts=function(b,$){let _e={};return Object.keys($).forEach(et=>{b.match(et).fullPointer.forEach(nt=>{_e[nt[3]]={fn:$[et],end:nt[2]}})}),_e},wrap$2=function(b,$){let _e=findStarts(b,$),et="";return b.docs.forEach((tt,nt)=>{for(let rt=0;rt<tt.length;rt+=1){let ot=tt[rt];if(_e.hasOwnProperty(ot.id)){let{fn:st,end:ct}=_e[ot.id],lt=b.update([[nt,rt,ct]]);et+=tt[rt].pre||"",et+=st(lt),rt=ct-1,et+=tt[rt].post||""}else et+=toText$3(ot)}}),et},isObject$6=b=>Object.prototype.toString.call(b)==="[object Object]",topk=function(b){let $={};return b.forEach(et=>{$[et]=$[et]||0,$[et]+=1}),Object.keys($).map(et=>({normal:et,count:$[et]})).sort((et,tt)=>et.count>tt.count?-1:0)},out=function(b){if(isObject$6(b))return wrap$2(this,b);if(b==="text")return this.text();if(b==="normal")return this.text("normal");if(b==="root")return this.text("root");if(b==="machine"||b==="reduced")return this.text("machine");if(b==="hash"||b==="md5")return md5(this.text());if(b==="json")return this.json();if(b==="offset"||b==="offsets")return this.compute("offset"),this.json({offset:!0});if(b==="array")return this.docs.map(_e=>_e.reduce((et,tt)=>et+tt.pre+tt.text+tt.post,"").trim()).filter(_e=>_e);if(b==="freq"||b==="frequency"||b==="topk")return topk(this.json({normal:!0}).map($=>$.normal));if(b==="terms"){let $=[];return this.docs.forEach(_e=>{let et=_e.map(tt=>tt.text);et=et.filter(tt=>tt),$=$.concat(et)}),$}return b==="tags"?this.docs.map($=>$.reduce((_e,et)=>(_e[et.implicit||et.normal]=Array.from(et.tags),_e),{})):b==="debug"?this.debug():this.text()},methods$9={debug:debug$1,out,wrap:function(b){return wrap$2(this,b)}},isObject$5=b=>Object.prototype.toString.call(b)==="[object Object]",text$2={text:function(b){let $={};if(b&&typeof b=="string"&&fmts.hasOwnProperty(b)?$=Object.assign({},fmts[b]):b&&isObject$5(b)&&($=Object.assign({},b)),$.keepSpace===void 0&&!this.isFull()&&($.keepSpace=!1),$.keepEndPunct===void 0&&this.pointer){let _e=this.pointer[0];_e&&_e[1]?$.keepEndPunct=!1:$.keepEndPunct=!0}return $.keepPunct===void 0&&($.keepPunct=!0),$.keepSpace===void 0&&($.keepSpace=!0),textFromDoc(this.docs,$)}},methods$8=Object.assign({},methods$9,text$2,methods$a,html$4),addAPI$1=function(b){Object.assign(b.prototype,methods$8)},logClientSide=function(b){console.log("%c -=-=- ","background-color:#6699cc;"),b.forEach($=>{console.groupCollapsed($.text());let et=$.docs[0].map(tt=>{let nt=tt.text||"-";tt.implicit&&(nt="["+tt.implicit+"]");let rt="["+Array.from(tt.tags).join(", ")+"]";return{text:nt,tags:rt}});console.table(et,["text","tags"]),console.groupEnd()})},reset$1="\x1B[0m",cli={green:b=>"\x1B[32m"+b+reset$1,red:b=>"\x1B[31m"+b+reset$1,blue:b=>"\x1B[34m"+b+reset$1,magenta:b=>"\x1B[35m"+b+reset$1,cyan:b=>"\x1B[36m"+b+reset$1,yellow:b=>"\x1B[33m"+b+reset$1,black:b=>"\x1B[30m"+b+reset$1,dim:b=>"\x1B[2m"+b+reset$1,i:b=>"\x1B[3m"+b+reset$1},tagString=function(b,$){return $.one.tagSet&&(b=b.map(_e=>{if(!$.one.tagSet.hasOwnProperty(_e))return _e;const et=$.one.tagSet[_e].color||"blue";return cli[et](_e)})),b.join(", ")},showTags=function(b){let{docs:$,model:_e}=b;$.length===0&&console.log(cli.blue(`
     ──────`)),$.forEach(et=>{console.log(cli.blue(`
  ┌─────────`)),et.forEach(tt=>{let nt=[...tt.tags||[]],rt=tt.text||"-";tt.sense&&(rt=`{${tt.normal}/${tt.sense}}`),tt.implicit&&(rt="["+tt.implicit+"]"),rt=cli.yellow(rt);let ot="'"+rt+"'";if(tt.reference){let ct=b.update([tt.reference]).text("normal");ot+=` - ${cli.dim(cli.i("["+ct+"]"))}`}ot=ot.padEnd(18);let st=cli.blue("  │ ")+cli.i(ot)+"  - "+tagString(nt,_e);console.log(st)})}),console.log(`
`)},showChunks=function(b){let{docs:$}=b;console.log(""),$.forEach(_e=>{let et=[];_e.forEach(tt=>{tt.chunk==="Noun"?et.push(cli.blue(tt.implicit||tt.normal)):tt.chunk==="Verb"?et.push(cli.green(tt.implicit||tt.normal)):tt.chunk==="Adjective"?et.push(cli.yellow(tt.implicit||tt.normal)):tt.chunk==="Pivot"?et.push(cli.red(tt.implicit||tt.normal)):et.push(tt.implicit||tt.normal)}),console.log(et.join(" "),`
`)}),console.log(`
`)},split$1=(b,$,_e)=>{let et=_e*9,tt=$.start+et,nt=tt+$.length,rt=b.substring(0,tt),ot=b.substring(tt,nt),st=b.substring(nt,b.length);return[rt,ot,st]},spliceIn=function(b,$,_e){let et=split$1(b,$,_e);return`${et[0]}${cli.blue(et[1])}${et[2]}`},showHighlight=function(b){if(!b.found)return;let $={};b.fullPointer.forEach(_e=>{$[_e[0]]=$[_e[0]]||[],$[_e[0]].push(_e)}),Object.keys($).forEach(_e=>{let tt=b.update([[Number(_e)]]).text();b.update($[_e]).json({offset:!0}).forEach((ot,st)=>{tt=spliceIn(tt,ot.offset,st)}),console.log(tt)}),console.log(`
`)},debug={tags:showTags,clientSide:logClientSide,chunks:showChunks,highlight:showHighlight},output$1={api:addAPI$1,methods:{one:{hash:md5,debug}}},doesOverlap=function(b,$){if(b[0]!==$[0])return!1;let[,_e,et]=b,[,tt,nt]=$;return _e<=tt&&et>tt||tt<=_e&&nt>_e},getExtent=function(b){let $=b[0][1],_e=b[0][2];return b.forEach(et=>{et[1]<$&&($=et[1]),et[2]>_e&&(_e=et[2])}),[b[0][0],$,_e]},indexN=function(b){let $={};return b.forEach(_e=>{$[_e[0]]=$[_e[0]]||[],$[_e[0]].push(_e)}),$},uniquePtrs=function(b){let $={};for(let _e=0;_e<b.length;_e+=1)$[b[_e].join(",")]=b[_e];return Object.values($)},pivotBy=function(b,$){let[_e,et]=b,tt=$[1],nt=$[2],rt={};if(et<tt){let ot=tt<b[2]?tt:b[2];rt.before=[_e,et,ot]}return rt.match=$,b[2]>nt&&(rt.after=[_e,nt,b[2]]),rt},doesMatch=function(b,$){return b[1]<=$[1]&&$[2]<=b[2]},splitAll=function(b,$){let _e=indexN($),et=[];return b.forEach(tt=>{let[nt]=tt,rt=_e[nt]||[];if(rt=rt.filter(st=>doesMatch(tt,st)),rt.length===0){et.push({passthrough:tt});return}rt=rt.sort((st,ct)=>st[1]-ct[1]);let ot=tt;rt.forEach((st,ct)=>{let lt=pivotBy(ot,st);rt[ct+1]?(et.push({before:lt.before,match:lt.match}),lt.after&&(ot=lt.after)):et.push(lt)})}),et},max$4=20,blindSweep=function(b,$,_e){for(let et=0;et<max$4;et+=1){if($[_e-et]){let tt=$[_e-et].findIndex(nt=>nt.id===b);if(tt!==-1)return[_e-et,tt]}if($[_e+et]){let tt=$[_e+et].findIndex(nt=>nt.id===b);if(tt!==-1)return[_e+et,tt]}}return null},repairEnding=function(b,$){let[_e,et,,,tt]=b,nt=$[_e],rt=nt.findIndex(ot=>ot.id===tt);return rt===-1?(b[2]=$[_e].length,b[4]=nt.length?nt[nt.length-1].id:null):b[2]=rt,$[_e].slice(et,b[2]+1)},getDoc$1=function(b,$){let _e=[];return b.forEach((et,tt)=>{if(!et)return;let[nt,rt,ot,st,ct]=et,lt=$[nt]||[];if(rt===void 0&&(rt=0),ot===void 0&&(ot=lt.length),st&&(!lt[rt]||lt[rt].id!==st)){let at=blindSweep(st,$,nt);if(at!==null){let it=ot-rt;lt=$[at[0]].slice(at[1],at[1]+it);let ut=lt[0]?lt[0].id:null;b[tt]=[at[0],at[1],at[1]+it,ut]}}else lt=lt.slice(rt,ot);lt.length!==0&&rt!==ot&&(ct&&lt[lt.length-1].id!==ct&&(lt=repairEnding(et,$)),_e.push(lt))}),_e=_e.filter(et=>et.length>0),_e},termList=function(b){let $=[];for(let _e=0;_e<b.length;_e+=1)for(let et=0;et<b[_e].length;et+=1)$.push(b[_e][et]);return $},methods$7={one:{termList,getDoc:getDoc$1,pointer:{indexN,splitAll}}},getUnion=function(b,$){let _e=b.concat($),et=indexN(_e),tt=[];return _e.forEach(nt=>{let[rt]=nt;if(et[rt].length===1){tt.push(nt);return}let ot=et[rt].filter(ct=>doesOverlap(nt,ct));ot.push(nt);let st=getExtent(ot);tt.push(st)}),tt=uniquePtrs(tt),tt},subtract=function(b,$){let _e=[];return splitAll(b,$).forEach(tt=>{tt.passthrough&&_e.push(tt.passthrough),tt.before&&_e.push(tt.before),tt.after&&_e.push(tt.after)}),_e},intersection=function(b,$){let _e=b[1]<$[1]?$[1]:b[1],et=b[2]>$[2]?$[2]:b[2];return _e<et?[b[0],_e,et]:null},getIntersection=function(b,$){let _e=indexN($),et=[];return b.forEach(tt=>{let nt=_e[tt[0]]||[];nt=nt.filter(rt=>doesOverlap(tt,rt)),nt.length!==0&&nt.forEach(rt=>{let ot=intersection(tt,rt);ot&&et.push(ot)})}),et},isArray$6=function(b){return Object.prototype.toString.call(b)==="[object Array]"},getDoc=(b,$)=>typeof b=="string"||isArray$6(b)?$.match(b):b||$.none(),addIds=function(b,$){return b.map(_e=>{let[et,tt]=_e;return $[et]&&$[et][tt]&&(_e[3]=$[et][tt].id),_e})},methods$6={};methods$6.union=function(b){b=getDoc(b,this);let $=getUnion(this.fullPointer,b.fullPointer);return $=addIds($,this.document),this.toView($)};methods$6.and=methods$6.union;methods$6.intersection=function(b){b=getDoc(b,this);let $=getIntersection(this.fullPointer,b.fullPointer);return $=addIds($,this.document),this.toView($)};methods$6.not=function(b){b=getDoc(b,this);let $=subtract(this.fullPointer,b.fullPointer);return $=addIds($,this.document),this.toView($)};methods$6.difference=methods$6.not;methods$6.complement=function(){let b=this.all(),$=subtract(b.fullPointer,this.fullPointer);return $=addIds($,this.document),this.toView($)};methods$6.settle=function(){let b=this.fullPointer;return b.forEach($=>{b=getUnion(b,[$])}),b=addIds(b,this.document),this.update(b)};const addAPI=function(b){Object.assign(b.prototype,methods$6)},pointers={methods:methods$7,api:addAPI},lib$2={buildNet:function(b){let _e=this.methods().one.buildNet(b,this.world());return _e.isNet=!0,_e}},api$k=function(b){b.prototype.sweep=function($,_e={}){const{world:et,docs:tt}=this,{methods:nt}=et;let rt=nt.one.bulkMatch(tt,$,this.methods,_e);_e.tagger!==!1&&nt.one.bulkTagger(rt,tt,this.world),rt=rt.map(st=>{let ct=st.pointer,lt=tt[ct[0]][ct[1]],at=ct[2]-ct[1];return lt.index&&(st.pointer=[lt.index[0],lt.index[1],ct[1]+at]),st});let ot=rt.map(st=>st.pointer);return rt=rt.map(st=>(st.view=this.update([st.pointer]),delete st.regs,delete st.needs,delete st.pointer,delete st._expanded,st)),{view:this.update(ot),found:rt}}},getTokenNeeds=function(b){return b.optional===!0||b.negative===!0?null:b.tag?"#"+b.tag:b.word?b.word:b.switch?`%${b.switch}%`:null},getNeeds=function(b){let $=[];return b.forEach(_e=>{$.push(getTokenNeeds(_e)),_e.operator==="and"&&_e.choices&&_e.choices.forEach(et=>{et.forEach(tt=>{$.push(getTokenNeeds(tt))})})}),$.filter(_e=>_e)},getWants=function(b){let $=[],_e=0;return b.forEach(et=>{et.operator==="or"&&!et.optional&&!et.negative&&(et.fastOr&&Array.from(et.fastOr).forEach(tt=>{$.push(tt)}),et.choices&&et.choices.forEach(tt=>{tt.forEach(nt=>{let rt=getTokenNeeds(nt);rt&&$.push(rt)})}),_e+=1)}),{wants:$,count:_e}},parse$9=function(b,$){const _e=$.methods.one.parseMatch;return b.forEach(et=>{et.regs=_e(et.match,{},$),typeof et.ifNo=="string"&&(et.ifNo=[et.ifNo]),et.notIf&&(et.notIf=_e(et.notIf,{},$)),et.needs=getNeeds(et.regs);let{wants:tt,count:nt}=getWants(et.regs);et.wants=tt,et.minWant=nt,et.minWords=et.regs.filter(rt=>!rt.optional).length}),b},buildNet=function(b,$){b=parse$9(b,$);let _e={};b.forEach(tt=>{tt.needs.forEach(nt=>{_e[nt]=Array.isArray(_e[nt])?_e[nt]:[],_e[nt].push(tt)}),tt.wants.forEach(nt=>{_e[nt]=Array.isArray(_e[nt])?_e[nt]:[],_e[nt].push(tt)})}),Object.keys(_e).forEach(tt=>{let nt={};_e[tt]=_e[tt].filter(rt=>typeof nt[rt.match]=="boolean"?!1:(nt[rt.match]=!0,!0))});let et=b.filter(tt=>tt.needs.length===0&&tt.wants.length===0);return{hooks:_e,always:et}},getHooks=function(b,$){return b.map((_e,et)=>{let tt=[];Object.keys($).forEach(rt=>{b[et].has(rt)&&(tt=tt.concat($[rt]))});let nt={};return tt=tt.filter(rt=>typeof nt[rt.match]=="boolean"?!1:(nt[rt.match]=!0,!0)),tt})},localTrim=function(b,$){return b.map((_e,et)=>{let tt=$[et];return _e=_e.filter(nt=>nt.needs.every(rt=>tt.has(rt))),_e=_e.filter(nt=>!(nt.ifNo!==void 0&&nt.ifNo.some(rt=>tt.has(rt))===!0)),_e=_e.filter(nt=>nt.wants.length===0?!0:nt.wants.filter(ot=>tt.has(ot)).length>=nt.minWant),_e})},runMatch=function(b,$,_e,et,tt){let nt=[];for(let rt=0;rt<b.length;rt+=1)for(let ot=0;ot<b[rt].length;ot+=1){let st=b[rt][ot],ct=et.one.match([$[rt]],st);if(ct.ptrs.length>0&&(ct.ptrs.forEach(lt=>{lt[0]=rt;let at=Object.assign({},st,{pointer:lt});st.unTag!==void 0&&(at.unTag=st.unTag),nt.push(at)}),tt.matchOne===!0))return[nt[0]]}return nt},tooSmall=function(b,$){return b.map((_e,et)=>{let tt=$[et].length;return _e=_e.filter(nt=>tt>=nt.minWords),_e})},sweep$1=function(b,$,_e,et={}){let tt=_e.one.cacheDoc(b),nt=getHooks(tt,$.hooks);return nt=localTrim(nt,tt),$.always.length>0&&(nt=nt.map(ot=>ot.concat($.always))),nt=tooSmall(nt,b),runMatch(nt,b,tt,_e,et)},canBe$1=function(b,$,_e){let et=_e.one.tagSet;if(!et.hasOwnProperty($))return!0;let tt=et[$].not||[];for(let nt=0;nt<b.length;nt+=1){let rt=b[nt];for(let ot=0;ot<tt.length;ot+=1)if(rt.tags.has(tt[ot])===!0)return!1}return!0};var define_process_env_default$4={};const tagger$1=function(b,$,_e){const{model:et,methods:tt}=_e,{getDoc:nt,setTag:rt,unTag:ot}=tt.one,st=tt.two.looksPlural;return b.length===0?b:((typeof process>"u"||!define_process_env_default$4?self.env||{}:define_process_env_default$4).DEBUG_TAGS&&console.log(`

  \x1B[32m→ ${b.length} post-tagger:\x1B[0m`),b.map(lt=>{if(!lt.tag&&!lt.chunk&&!lt.unTag)return;let at=lt.reason||lt.match,it=nt([lt.pointer],$)[0];if(!(lt.safe===!0&&(canBe$1(it,lt.tag,et)===!1||it[it.length-1].post==="-"))){if(lt.tag!==void 0){if(rt(it,lt.tag,_e,lt.safe,`[post] '${at}'`),lt.tag==="Noun"&&st){let ut=it[it.length-1];st(ut.text)?rt([ut],"Plural",_e,lt.safe,"quick-plural"):rt([ut],"Singular",_e,lt.safe,"quick-singular")}lt.freeze===!0&&it.forEach(ut=>ut.frozen=!0)}lt.unTag!==void 0&&ot(it,lt.unTag,_e,lt.safe,at),lt.chunk&&it.forEach(ut=>ut.chunk=lt.chunk)}}))},methods$5={buildNet,bulkMatch:sweep$1,bulkTagger:tagger$1},sweep={lib:lib$2,api:api$k,methods:{one:methods$5}};var define_process_env_default$3={};const isMulti=/ /,addChunk=function(b,$){$==="Noun"&&(b.chunk=$),$==="Verb"&&(b.chunk=$)},tagTerm=function(b,$,_e,et){if(b.tags.has($)===!0||$===".")return null;b.frozen===!0&&(et=!0);let tt=_e[$];if(tt){if(tt.not&&tt.not.length>0)for(let nt=0;nt<tt.not.length;nt+=1){if(et===!0&&b.tags.has(tt.not[nt]))return null;b.tags.delete(tt.not[nt])}if(tt.parents&&tt.parents.length>0)for(let nt=0;nt<tt.parents.length;nt+=1)b.tags.add(tt.parents[nt]),addChunk(b,tt.parents[nt])}return b.tags.add($),b.dirty=!0,addChunk(b,$),!0},multiTag=function(b,$,_e,et){let tt=$.split(isMulti);b.forEach((nt,rt)=>{let ot=tt[rt];ot&&(ot=ot.replace(/^#/,""),tagTerm(nt,ot,_e,et))})},isArray$5=function(b){return Object.prototype.toString.call(b)==="[object Array]"},log$3=(b,$,_e="")=>{const et=rt=>"\x1B[33m\x1B[3m"+rt+"\x1B[0m",tt=rt=>"\x1B[3m"+rt+"\x1B[0m";let nt=b.map(rt=>rt.text||"["+rt.implicit+"]").join(" ");typeof $!="string"&&$.length>2&&($=$.slice(0,2).join(", #")+" +"),$=typeof $!="string"?$.join(", #"):$,console.log(` ${et(nt).padEnd(24)} \x1B[32m→\x1B[0m #${$.padEnd(22)}  ${tt(_e)}`)},setTag$3=function(b,$,_e={},et,tt){const nt=_e.model.one.tagSet||{};if(!$)return;const rt=typeof process>"u"||!define_process_env_default$3?self.env||{}:define_process_env_default$3;if(rt&&rt.DEBUG_TAGS&&log$3(b,$,tt),isArray$5($)===!0){$.forEach(ot=>setTag$3(b,ot,_e,et));return}if(typeof $!="string"){console.warn(`compromise: Invalid tag '${$}'`);return}if($=$.trim(),isMulti.test($)){multiTag(b,$,nt,et);return}$=$.replace(/^#/,"");for(let ot=0;ot<b.length;ot+=1)tagTerm(b[ot],$,nt,et)},unTag=function(b,$,_e){$=$.trim().replace(/^#/,"");for(let et=0;et<b.length;et+=1){let tt=b[et];if(tt.frozen===!0)continue;if($==="*"){tt.tags.clear();continue}let nt=_e[$];if(nt&&nt.children.length>0)for(let rt=0;rt<nt.children.length;rt+=1)tt.tags.delete(nt.children[rt]);tt.tags.delete($)}},canBe=function(b,$,_e){if(!_e.hasOwnProperty($))return!0;let et=_e[$].not||[];for(let tt=0;tt<et.length;tt+=1)if(b.tags.has(et[tt]))return!1;return!0},e=function(b){return b.children=b.children||[],b._cache=b._cache||{},b.props=b.props||{},b._cache.parents=b._cache.parents||[],b._cache.children=b._cache.children||[],b},t=/^ *(#|\/\/)/,n$1=function(b){let $=b.trim().split(/->/),_e=[];$.forEach(tt=>{_e=_e.concat(function(nt){if(!(nt=nt.trim()))return null;if(/^\[/.test(nt)&&/\]$/.test(nt)){let rt=(nt=(nt=nt.replace(/^\[/,"")).replace(/\]$/,"")).split(/,/);return rt=rt.map(ot=>ot.trim()).filter(ot=>ot),rt=rt.map(ot=>e({id:ot})),rt}return[e({id:nt})]}(tt))}),_e=_e.filter(tt=>tt);let et=_e[0];for(let tt=1;tt<_e.length;tt+=1)et.children.push(_e[tt]),et=_e[tt];return _e[0]},r$1=(b,$)=>{let _e=[],et=[b];for(;et.length>0;){let tt=et.pop();_e.push(tt),tt.children&&tt.children.forEach(nt=>{$&&$(tt,nt),et.push(nt)})}return _e},i$1=b=>Object.prototype.toString.call(b)==="[object Array]",c=b=>(b=b||"").trim(),s$1=function(b=[]){return typeof b=="string"?function(_e){let et=_e.split(/\r?\n/),tt=[];et.forEach(rt=>{if(!rt.trim()||t.test(rt))return;let ot=(st=>{const ct=/^( {2}|\t)/;let lt=0;for(;ct.test(st);)st=st.replace(ct,""),lt+=1;return lt})(rt);tt.push({indent:ot,node:n$1(rt)})});let nt=function(rt){let ot={children:[]};return rt.forEach((st,ct)=>{st.indent===0?ot.children=ot.children.concat(st.node):rt[ct-1]&&function(lt,at){let it=lt[at].indent;for(;at>=0;at-=1)if(lt[at].indent<it)return lt[at];return lt[0]}(rt,ct).node.children.push(st.node)}),ot}(tt);return nt=e(nt),nt}(b):i$1(b)?function(_e){let et={};_e.forEach(nt=>{et[nt.id]=nt});let tt=e({});return _e.forEach(nt=>{if((nt=e(nt)).parent)if(et.hasOwnProperty(nt.parent)){let rt=et[nt.parent];delete nt.parent,rt.children.push(nt)}else console.warn(`[Grad] - missing node '${nt.parent}'`);else tt.children.push(nt)}),tt}(b):(r$1($=b).forEach(e),$);var $},h=b=>"\x1B[31m"+b+"\x1B[0m",o=b=>"\x1B[2m"+b+"\x1B[0m",l=function(b,$){let _e="-> ";$&&(_e=o("→ "));let et="";return r$1(b).forEach((tt,nt)=>{let rt=tt.id||"";if($&&(rt=h(rt)),nt===0&&!tt.id)return;let ot=tt._cache.parents.length;et+="    ".repeat(ot)+_e+rt+`
`}),et},a=function(b){let $=r$1(b);$.forEach(et=>{delete(et=Object.assign({},et)).children});let _e=$[0];return _e&&!_e.id&&Object.keys(_e.props).length===0&&$.shift(),$},p$3={text:l,txt:l,array:a,flat:a},d=function(b,$){return $==="nested"||$==="json"?b:$==="debug"?(console.log(l(b,!0)),null):p$3.hasOwnProperty($)?p$3[$](b):b},u=b=>{r$1(b,($,_e)=>{$.id&&($._cache.parents=$._cache.parents||[],_e._cache.parents=$._cache.parents.concat([$.id]))})},f$1=(b,$)=>(Object.keys($).forEach(_e=>{if($[_e]instanceof Set){let et=b[_e]||new Set;b[_e]=new Set([...et,...$[_e]])}else if((et=>et&&typeof et=="object"&&!Array.isArray(et))($[_e])){let et=b[_e]||{};b[_e]=Object.assign({},$[_e],et)}else i$1($[_e])?b[_e]=$[_e].concat(b[_e]||[]):b[_e]===void 0&&(b[_e]=$[_e])}),b),j=/\//;let g$2=class Vr{constructor($={}){Object.defineProperty(this,"json",{enumerable:!1,value:$,writable:!0})}get children(){return this.json.children}get id(){return this.json.id}get found(){return this.json.id||this.json.children.length>0}props($={}){let _e=this.json.props||{};return typeof $=="string"&&(_e[$]=!0),this.json.props=Object.assign(_e,$),this}get($){if($=c($),!j.test($)){let et=this.json.children.find(tt=>tt.id===$);return new Vr(et)}let _e=((et,tt)=>{let nt=(rt=>typeof rt!="string"?rt:(rt=rt.replace(/^\//,"")).split(/\//))(tt=tt||"");for(let rt=0;rt<nt.length;rt+=1){let ot=et.children.find(st=>st.id===nt[rt]);if(!ot)return null;et=ot}return et})(this.json,$)||e({});return new Vr(_e)}add($,_e={}){if(i$1($))return $.forEach(tt=>this.add(c(tt),_e)),this;$=c($);let et=e({id:$,props:_e});return this.json.children.push(et),new Vr(et)}remove($){return $=c($),this.json.children=this.json.children.filter(_e=>_e.id!==$),this}nodes(){return r$1(this.json).map($=>(delete($=Object.assign({},$)).children,$))}cache(){return($=>{let _e=r$1($,(tt,nt)=>{tt.id&&(tt._cache.parents=tt._cache.parents||[],tt._cache.children=tt._cache.children||[],nt._cache.parents=tt._cache.parents.concat([tt.id]))}),et={};_e.forEach(tt=>{tt.id&&(et[tt.id]=tt)}),_e.forEach(tt=>{tt._cache.parents.forEach(nt=>{et.hasOwnProperty(nt)&&et[nt]._cache.children.push(tt.id)})}),$._cache.children=Object.keys(et)})(this.json),this}list(){return r$1(this.json)}fillDown(){var $;return $=this.json,r$1($,(_e,et)=>{et.props=f$1(et.props,_e.props)}),this}depth(){u(this.json);let $=r$1(this.json),_e=$.length>1?1:0;return $.forEach(et=>{if(et._cache.parents.length===0)return;let tt=et._cache.parents.length+1;tt>_e&&(_e=tt)}),_e}out($){return u(this.json),d(this.json,$)}debug(){return u(this.json),d(this.json,"debug"),this}};const _=function(b){let $=s$1(b);return new g$2($)};_.prototype.plugin=function(b){b(this)};const colors={Noun:"blue",Verb:"green",Negative:"green",Date:"red",Value:"red",Adjective:"magenta",Preposition:"cyan",Conjunction:"cyan",Determiner:"cyan",Hyphenated:"cyan",Adverb:"cyan"},getColor=function(b){if(colors.hasOwnProperty(b.id))return colors[b.id];if(colors.hasOwnProperty(b.is))return colors[b.is];let $=b._cache.parents.find(_e=>colors[_e]);return colors[$]},fmt=function(b){const $={};return b.forEach(_e=>{let{not:et,also:tt,is:nt,novel:rt}=_e.props,ot=_e._cache.parents;tt&&(ot=ot.concat(tt)),$[_e.id]={is:nt,not:et,novel:rt,also:tt,parents:ot,children:_e._cache.children,color:getColor(_e)}}),Object.keys($).forEach(_e=>{let et=new Set($[_e].not);$[_e].not.forEach(tt=>{$[tt]&&$[tt].children.forEach(nt=>et.add(nt))}),$[_e].not=Array.from(et)}),$},toArr=function(b){return b?typeof b=="string"?[b]:b:[]},addImplied=function(b,$){return Object.keys(b).forEach(_e=>{b[_e].isA&&(b[_e].is=b[_e].isA),b[_e].notA&&(b[_e].not=b[_e].notA),b[_e].is&&typeof b[_e].is=="string"&&!$.hasOwnProperty(b[_e].is)&&!b.hasOwnProperty(b[_e].is)&&(b[b[_e].is]={}),b[_e].not&&typeof b[_e].not=="string"&&!b.hasOwnProperty(b[_e].not)&&!$.hasOwnProperty(b[_e].not)&&!b.hasOwnProperty(b[_e].not)&&(b[b[_e].not]={})}),b},validate=function(b,$){return b=addImplied(b,$),Object.keys(b).forEach(_e=>{b[_e].children=toArr(b[_e].children),b[_e].not=toArr(b[_e].not)}),Object.keys(b).forEach(_e=>{(b[_e].not||[]).forEach(tt=>{b[tt]&&b[tt].not&&b[tt].not.push(_e)})}),b},compute$5=function(b){const $=Object.keys(b).map(et=>{let tt=b[et];const nt={not:new Set(tt.not),also:tt.also,is:tt.is,novel:tt.novel};return{id:et,parent:tt.is,props:nt,children:[]}});return _($).cache().fillDown().out("array")},fromUser=function(b){return Object.keys(b).forEach($=>{b[$]=Object.assign({},b[$]),b[$].novel=!0}),b},addTags$1=function(b,$){Object.keys($).length>0&&(b=fromUser(b)),b=validate(b,$);let _e=Object.assign({},$,b);const et=compute$5(_e);return fmt(et)},methods$4={one:{setTag:setTag$3,unTag,addTags:addTags$1,canBe}},isArray$4=function(b){return Object.prototype.toString.call(b)==="[object Array]"},fns$1={tag:function(b,$="",_e){if(!this.found||!b)return this;let et=this.termList();if(et.length===0)return this;const{methods:tt,verbose:nt,world:rt}=this;return nt===!0&&console.log(" +  ",b,$||""),isArray$4(b)?b.forEach(ot=>tt.one.setTag(et,ot,rt,_e,$)):tt.one.setTag(et,b,rt,_e,$),this.uncache(),this},tagSafe:function(b,$=""){return this.tag(b,$,!0)},unTag:function(b,$){if(!this.found||!b)return this;let _e=this.termList();if(_e.length===0)return this;const{methods:et,verbose:tt,model:nt}=this;tt===!0&&console.log(" -  ",b,$||"");let rt=nt.one.tagSet;return isArray$4(b)?b.forEach(ot=>et.one.unTag(_e,ot,rt)):et.one.unTag(_e,b,rt),this.uncache(),this},canBe:function(b){b=b.replace(/^#/,"");let $=this.model.one.tagSet,_e=this.methods.one.canBe,et=[];this.document.forEach((nt,rt)=>{nt.forEach((ot,st)=>{_e(ot,b,$)||et.push([rt,st,st+1])})});let tt=this.update(et);return this.difference(tt)}},tagAPI=function(b){Object.assign(b.prototype,fns$1)},addTags=function(b){const{model:$,methods:_e}=this.world(),et=$.one.tagSet,tt=_e.one.addTags;let nt=tt(b,et);return $.one.tagSet=nt,this},lib$1={addTags},boringTags=new Set(["Auxiliary","Possessive"]),sortByKids=function(b,$){return b=b.sort((_e,et)=>{if(boringTags.has(_e)||!$.hasOwnProperty(et))return 1;if(boringTags.has(et)||!$.hasOwnProperty(_e))return-1;let tt=$[_e].children||[],nt=tt.length;tt=$[et].children||[];let rt=tt.length;return nt-rt}),b},tagRank=function(b){const{document:$,world:_e}=b,et=_e.model.one.tagSet;$.forEach(tt=>{tt.forEach(nt=>{let rt=Array.from(nt.tags);nt.tagRank=sortByKids(rt,et)})})},tag$1={model:{one:{tagSet:{}}},compute:{tagRank},methods:methods$4,api:tagAPI,lib:lib$1},initSplit=/([.!?\u203D\u2E18\u203C\u2047-\u2049\u3002]+\s)/g,splitsOnly=/^[.!?\u203D\u2E18\u203C\u2047-\u2049\u3002]+\s$/,newLine=/((?:\r?\n|\r)+)/,basicSplit=function(b){let $=[],_e=b.split(newLine);for(let et=0;et<_e.length;et++){let tt=_e[et].split(initSplit);for(let nt=0;nt<tt.length;nt++)tt[nt+1]&&splitsOnly.test(tt[nt+1])===!0&&(tt[nt]+=tt[nt+1],tt[nt+1]=""),tt[nt]!==""&&$.push(tt[nt])}return $},hasLetter$1=/[a-z0-9\u00C0-\u00FF\u00a9\u00ae\u2000-\u3300\ud000-\udfff]/i,hasSomething$1=/\S/,notEmpty=function(b){let $=[];for(let _e=0;_e<b.length;_e++){let et=b[_e];if(!(et===void 0||et==="")){if(hasSomething$1.test(et)===!1||hasLetter$1.test(et)===!1){if($[$.length-1]){$[$.length-1]+=et;continue}else if(b[_e+1]){b[_e+1]=et+b[_e+1];continue}}$.push(et)}}return $},smartMerge=function(b,$){const _e=$.methods.one.tokenize.isSentence,et=$.model.one.abbreviations||new Set;let tt=[];for(let nt=0;nt<b.length;nt++){let rt=b[nt];b[nt+1]&&_e(rt,et)===!1?b[nt+1]=rt+(b[nt+1]||""):rt&&rt.length>0&&(tt.push(rt),b[nt]="")}return tt},MAX_QUOTE=280,pairs$2={'"':'"',"＂":"＂","“":"”","‟":"”","„":"”","⹂":"”","‚":"’","«":"»","‹":"›","‵":"′","‶":"″","‷":"‴","〝":"〞","〟":"〞"},openQuote=RegExp("["+Object.keys(pairs$2).join("")+"]","g"),closeQuote=RegExp("["+Object.values(pairs$2).join("")+"]","g"),closesQuote=function(b){if(!b)return!1;let $=b.match(closeQuote);return $!==null&&$.length===1},quoteMerge=function(b){let $=[];for(let _e=0;_e<b.length;_e+=1){let tt=b[_e].match(openQuote);if(tt!==null&&tt.length===1){if(closesQuote(b[_e+1])&&b[_e+1].length<MAX_QUOTE){b[_e]+=b[_e+1],$.push(b[_e]),b[_e+1]="",_e+=1;continue}if(closesQuote(b[_e+2])){let nt=b[_e+1]+b[_e+2];if(nt.length<MAX_QUOTE){b[_e]+=nt,$.push(b[_e]),b[_e+1]="",b[_e+2]="",_e+=2;continue}}}$.push(b[_e])}return $},MAX_LEN=250,hasOpen$2=/\(/g,hasClosed$2=/\)/g,mergeParens=function(b){let $=[];for(let _e=0;_e<b.length;_e+=1){let tt=b[_e].match(hasOpen$2);if(tt!==null&&tt.length===1&&b[_e+1]&&b[_e+1].length<MAX_LEN&&b[_e+1].match(hasClosed$2)!==null&&tt.length===1&&!hasOpen$2.test(b[_e+1])){b[_e]+=b[_e+1],$.push(b[_e]),b[_e+1]="",_e+=1;continue}$.push(b[_e])}return $},hasSomething=/\S/,startWhitespace=/^\s+/,splitSentences=function(b,$){if(b=b||"",b=String(b),!b||typeof b!="string"||hasSomething.test(b)===!1)return[];b=b.replace(" "," ");let _e=basicSplit(b),et=notEmpty(_e);if(et=smartMerge(et,$),et=quoteMerge(et),et=mergeParens(et),et.length===0)return[b];for(let tt=1;tt<et.length;tt+=1){let nt=et[tt].match(startWhitespace);nt!==null&&(et[tt-1]+=nt[0],et[tt]=et[tt].replace(startWhitespace,""))}return et},hasHyphen=function(b,$){let _e=b.split(/[-–—]/);if(_e.length<=1)return!1;const{prefixes:et,suffixes:tt}=$.one;return _e[0].length===1&&/[a-z]/i.test(_e[0])||et.hasOwnProperty(_e[0])||(_e[1]=_e[1].trim().replace(/[.?!]$/,""),tt.hasOwnProperty(_e[1]))?!1:/^([a-z\u00C0-\u00FF`"'/]+)[-–—]([a-z0-9\u00C0-\u00FF].*)/i.test(b)===!0||/^[('"]?([0-9]{1,4})[-–—]([a-z\u00C0-\u00FF`"'/-]+[)'"]?$)/i.test(b)===!0},splitHyphens=function(b){let $=[];const _e=b.split(/[-–—]/);let et="-",tt=b.match(/[-–—]/);tt&&tt[0]&&(et=tt);for(let nt=0;nt<_e.length;nt++)nt===_e.length-1?$.push(_e[nt]):$.push(_e[nt]+et);return $},combineRanges=function(b){const $=/^[0-9]{1,4}(:[0-9][0-9])?([a-z]{1,2})? ?[-–—] ?$/,_e=/^[0-9]{1,4}([a-z]{1,2})? ?$/;for(let et=0;et<b.length-1;et+=1)b[et+1]&&$.test(b[et])&&_e.test(b[et+1])&&(b[et]=b[et]+b[et+1],b[et+1]=null);return b},isSlash=new RegExp("\\p{L} ?\\/ ?\\p{L}+$","u"),combineSlashes=function(b){for(let $=1;$<b.length-1;$++)isSlash.test(b[$])&&(b[$-1]+=b[$]+b[$+1],b[$]=null,b[$+1]=null);return b},wordlike=/\S/,isBoundary=/^[!?.]+$/,naiiveSplit=/(\S+)/;let notWord=[".","?","!",":",";","-","–","—","--","...","(",")","[","]",'"',"'","`","«","»","*","•"];notWord=notWord.reduce((b,$)=>(b[$]=!0,b),{});const isArray$3=function(b){return Object.prototype.toString.call(b)==="[object Array]"},splitWords=function(b,$){let _e=[],et=[];if(b=b||"",typeof b=="number"&&(b=String(b)),isArray$3(b))return b;const tt=b.split(naiiveSplit);for(let rt=0;rt<tt.length;rt++){if(hasHyphen(tt[rt],$)===!0){et=et.concat(splitHyphens(tt[rt]));continue}et.push(tt[rt])}let nt="";for(let rt=0;rt<et.length;rt++){let ot=et[rt];wordlike.test(ot)===!0&&notWord.hasOwnProperty(ot)===!1&&isBoundary.test(ot)===!1?(_e.length>0?(_e[_e.length-1]+=nt,_e.push(ot)):_e.push(nt+ot),nt=""):nt+=ot}return nt&&(_e.length===0&&(_e[0]=""),_e[_e.length-1]+=nt),_e=combineSlashes(_e),_e=combineRanges(_e),_e=_e.filter(rt=>rt),_e},isLetter=new RegExp("\\p{Letter}","u"),isNumber$1=/[\p{Number}\p{Currency_Symbol}]/u,hasAcronym=/^[a-z]\.([a-z]\.)+/i,chillin=/[sn]['’]$/,normalizePunctuation=function(b,$){let{prePunctuation:_e,postPunctuation:et,emoticons:tt}=$.one,nt=b,rt="",ot="",st=Array.from(b);if(tt.hasOwnProperty(b.trim()))return{str:b.trim(),pre:rt,post:" "};let ct=st.length;for(let lt=0;lt<ct;lt+=1){let at=st[0];if(_e[at]!==!0){if((at==="+"||at==="-")&&isNumber$1.test(st[1])||at==="'"&&at.length===3&&isNumber$1.test(st[1])||isLetter.test(at)||isNumber$1.test(at))break;rt+=st.shift()}}ct=st.length;for(let lt=0;lt<ct;lt+=1){let at=st[st.length-1];if(et[at]!==!0){if(isLetter.test(at)||isNumber$1.test(at))break;at==="."&&hasAcronym.test(nt)===!0||at==="'"&&chillin.test(nt)===!0||(ot=st.pop()+ot)}}return b=st.join(""),b===""&&(nt=nt.replace(/ *$/,lt=>(ot=lt||"","")),b=nt,rt=""),{str:b,pre:rt,post:ot}},parseTerm=(b,$)=>{let{str:_e,pre:et,post:tt}=normalizePunctuation(b,$);return{text:_e,pre:et,post:tt,tags:new Set}},killUnicode=function(b,$){const _e=$.model.one.unicode||{};b=b||"";let et=b.split("");return et.forEach((tt,nt)=>{_e[tt]&&(et[nt]=_e[tt])}),et.join("")},clean=function(b){b=b||"",b=b.toLowerCase(),b=b.trim();let $=b;return b=b.replace(/[,;.!?]+$/,""),b=b.replace(/\u2026/g,"..."),b=b.replace(/\u2013/g,"-"),/^[:;]/.test(b)===!1&&(b=b.replace(/\.{3,}$/g,""),b=b.replace(/[",.!:;?)]+$/g,""),b=b.replace(/^['"(]+/g,"")),b=b.replace(/[\u200B-\u200D\uFEFF]/g,""),b=b.trim(),b===""&&(b=$),b=b.replace(/([0-9]),([0-9])/g,"$1$2"),b},periodAcronym$1=/([A-Z]\.)+[A-Z]?,?$/,oneLetterAcronym$1=/^[A-Z]\.,?$/,noPeriodAcronym$1=/[A-Z]{2,}('s|,)?$/,lowerCaseAcronym$1=/([a-z]\.)+[a-z]\.?$/,isAcronym$2=function(b){return periodAcronym$1.test(b)===!0||lowerCaseAcronym$1.test(b)===!0||oneLetterAcronym$1.test(b)===!0||noPeriodAcronym$1.test(b)===!0},doAcronym=function(b){return isAcronym$2(b)&&(b=b.replace(/\./g,"")),b},normalize$1=function(b,$){const _e=$.methods.one.killUnicode;let et=b.text||"";et=clean(et),et=_e(et,$),et=doAcronym(et),b.normal=et},parse$8=function(b,$){const{methods:_e,model:et}=$,{splitSentences:tt,splitTerms:nt,splitWhitespace:rt}=_e.one.tokenize;return b=b||"",b=tt(b,$).map(st=>{let ct=nt(st,et);return ct=ct.map(lt=>rt(lt,et)),ct.forEach(lt=>{normalize$1(lt,$)}),ct}),b},isAcronym$1=/[ .][A-Z]\.? *$/i,hasEllipse=/(?:\u2026|\.{2,}) *$/,hasLetter=new RegExp("\\p{L}","u"),hasPeriod$1=/\. *$/,leadInit=/^[A-Z]\. $/,isSentence=function(b,$){if(hasLetter.test(b)===!1||isAcronym$1.test(b)===!0||b.length===3&&leadInit.test(b)||hasEllipse.test(b)===!0)return!1;let et=b.replace(/[.!?\u203D\u2E18\u203C\u2047-\u2049] *$/,"").split(" "),tt=et[et.length-1].toLowerCase();return!($.hasOwnProperty(tt)===!0&&hasPeriod$1.test(b)===!0)},methods$3={one:{killUnicode,tokenize:{splitSentences,isSentence,splitTerms:splitWords,splitWhitespace:parseTerm,fromString:parse$8}}},aliases$1={"&":"and","@":"at","%":"percent",plz:"please",bein:"being"},misc$6=["approx","apt","bc","cyn","eg","esp","est","etc","ex","exp","prob","pron","gal","min","pseud","fig","jd","lat","lng","vol","fm","def","misc","plz","ea","ps","sec","pt","pref","pl","pp","qt","fr","sq","nee","ss","tel","temp","vet","ver","fem","masc","eng","adj","vb","rb","inf","situ","vivo","vitro","wr"],honorifics$1=["adj","adm","adv","asst","atty","bldg","brig","capt","cmdr","comdr","cpl","det","dr","esq","gen","gov","hon","jr","llb","lt","maj","messrs","mlle","mme","mr","mrs","ms","mstr","phd","prof","pvt","rep","reps","res","rev","sen","sens","sfc","sgt","sir","sr","supt","surg"],months=["jan","feb","mar","apr","jun","jul","aug","sep","sept","oct","nov","dec"],nouns$3=["ad","al","arc","ba","bl","ca","cca","col","corp","ft","fy","ie","lit","ma","md","pd","tce"],organizations=["dept","univ","assn","bros","inc","ltd","co"],places$2=["rd","st","dist","mt","ave","blvd","cl","cres","hwy","ariz","cal","calif","colo","conn","fla","fl","ga","ida","ia","kan","kans","minn","neb","nebr","okla","penna","penn","pa","dak","tenn","tex","ut","vt","va","wis","wisc","wy","wyo","usafa","alta","ont","que","sask"],units=["dl","ml","gal","qt","pt","tbl","tsp","tbsp","km","dm","cm","mm","mi","td","hr","hrs","kg","hg","dg","cg","mg","µg","lb","oz","sq ft","hz","mps","mph","kmph","kb","mb","tb","lx","lm","fl oz","yb"];let list$3=[[misc$6],[units,"Unit"],[nouns$3,"Noun"],[honorifics$1,"Honorific"],[months,"Month"],[organizations,"Organization"],[places$2,"Place"]],abbreviations={},lexicon$1={};list$3.forEach(b=>{b[0].forEach($=>{abbreviations[$]=!0,lexicon$1[$]="Abbreviation",b[1]!==void 0&&(lexicon$1[$]=[lexicon$1[$],b[1]])})});const prefixes$1=["anti","bi","co","contra","de","extra","infra","inter","intra","macro","micro","mis","mono","multi","peri","pre","pro","proto","pseudo","re","sub","supra","trans","tri","un","out","ex"].reduce((b,$)=>(b[$]=!0,b),{}),suffixes$4={like:!0,ish:!0,less:!0,able:!0,elect:!0,type:!0,designate:!0};let compact={"!":"¡","?":"¿Ɂ",'"':'“”"❝❞',"'":"‘‛❛❜’","-":"—–",a:"ªÀÁÂÃÄÅàáâãäåĀāĂăĄąǍǎǞǟǠǡǺǻȀȁȂȃȦȧȺΆΑΔΛάαλАаѦѧӐӑӒӓƛæ",b:"ßþƀƁƂƃƄƅɃΒβϐϦБВЪЬвъьѢѣҌҍ",c:"¢©ÇçĆćĈĉĊċČčƆƇƈȻȼͻͼϲϹϽϾСсєҀҁҪҫ",d:"ÐĎďĐđƉƊȡƋƌ",e:"ÈÉÊËèéêëĒēĔĕĖėĘęĚěƐȄȅȆȇȨȩɆɇΈΕΞΣέεξϵЀЁЕеѐёҼҽҾҿӖӗễ",f:"ƑƒϜϝӺӻҒғſ",g:"ĜĝĞğĠġĢģƓǤǥǦǧǴǵ",h:"ĤĥĦħƕǶȞȟΉΗЂЊЋНнђћҢңҤҥҺһӉӊ",I:"ÌÍÎÏ",i:"ìíîïĨĩĪīĬĭĮįİıƖƗȈȉȊȋΊΐΪίιϊІЇіїi̇",j:"ĴĵǰȷɈɉϳЈј",k:"ĶķĸƘƙǨǩΚκЌЖКжкќҚқҜҝҞҟҠҡ",l:"ĹĺĻļĽľĿŀŁłƚƪǀǏǐȴȽΙӀӏ",m:"ΜϺϻМмӍӎ",n:"ÑñŃńŅņŇňŉŊŋƝƞǸǹȠȵΝΠήηϞЍИЙЛПийлпѝҊҋӅӆӢӣӤӥπ",o:"ÒÓÔÕÖØðòóôõöøŌōŎŏŐőƟƠơǑǒǪǫǬǭǾǿȌȍȎȏȪȫȬȭȮȯȰȱΌΘΟθοσόϕϘϙϬϴОФоѲѳӦӧӨөӪӫ",p:"ƤΡρϷϸϼРрҎҏÞ",q:"Ɋɋ",r:"ŔŕŖŗŘřƦȐȑȒȓɌɍЃГЯгяѓҐґ",s:"ŚśŜŝŞşŠšƧƨȘșȿЅѕ",t:"ŢţŤťŦŧƫƬƭƮȚțȶȾΓΤτϮТт",u:"ÙÚÛÜùúûüŨũŪūŬŭŮůŰűŲųƯưƱƲǓǔǕǖǗǘǙǚǛǜȔȕȖȗɄΰυϋύ",v:"νѴѵѶѷ",w:"ŴŵƜωώϖϢϣШЩшщѡѿ",x:"×ΧχϗϰХхҲҳӼӽӾӿ",y:"ÝýÿŶŷŸƳƴȲȳɎɏΎΥΫγψϒϓϔЎУучўѰѱҮүҰұӮӯӰӱӲӳ",z:"ŹźŻżŽžƵƶȤȥɀΖ"},unicode={};Object.keys(compact).forEach(function(b){compact[b].split("").forEach(function($){unicode[$]=b})});const prePunctuation={"#":!0,"@":!0,_:!0,"°":!0,"​":!0,"‌":!0,"‍":!0,"\uFEFF":!0},postPunctuation={"%":!0,_:!0,"°":!0,"​":!0,"‌":!0,"‍":!0,"\uFEFF":!0},emoticons$1={"<3":!0,"</3":!0,"<\\3":!0,":^P":!0,":^p":!0,":^O":!0,":^3":!0},model$3={one:{aliases:aliases$1,abbreviations,prefixes:prefixes$1,suffixes:suffixes$4,prePunctuation,postPunctuation,lexicon:lexicon$1,unicode,emoticons:emoticons$1}},hasSlash=/\//,hasDomain=/[a-z]\.[a-z]/i,isMath=/[0-9]/,addAliases=function(b,$){let _e=b.normal||b.text||b.machine;const et=$.model.one.aliases;if(et.hasOwnProperty(_e)&&(b.alias=b.alias||[],b.alias.push(et[_e])),hasSlash.test(_e)&&!hasDomain.test(_e)&&!isMath.test(_e)){let tt=_e.split(hasSlash);tt.length<=3&&tt.forEach(nt=>{nt=nt.trim(),nt!==""&&(b.alias=b.alias||[],b.alias.push(nt))})}return b},hasDash=new RegExp("^\\p{Letter}+-\\p{Letter}+$","u"),doMachine=function(b){let $=b.implicit||b.normal||b.text;$=$.replace(/['’]s$/,""),$=$.replace(/s['’]$/,"s"),$=$.replace(/([aeiou][ktrp])in'$/,"$1ing"),hasDash.test($)&&($=$.replace(/-/g,"")),$=$.replace(/^[#@]/,""),$!==b.normal&&(b.machine=$)},freq=function(b){let $=b.docs,_e={};for(let et=0;et<$.length;et+=1)for(let tt=0;tt<$[et].length;tt+=1){let nt=$[et][tt],rt=nt.machine||nt.normal;_e[rt]=_e[rt]||0,_e[rt]+=1}for(let et=0;et<$.length;et+=1)for(let tt=0;tt<$[et].length;tt+=1){let nt=$[et][tt],rt=nt.machine||nt.normal;nt.freq=_e[rt]}},offset$3=function(b){let $=0,_e=0,et=b.document;for(let tt=0;tt<et.length;tt+=1)for(let nt=0;nt<et[tt].length;nt+=1){let rt=et[tt][nt];rt.offset={index:_e,start:$+rt.pre.length,length:rt.text.length},$+=rt.pre.length+rt.text.length+rt.post.length,_e+=1}},index$2=function(b){let $=b.document;for(let _e=0;_e<$.length;_e+=1)for(let et=0;et<$[_e].length;et+=1)$[_e][et].index=[_e,et]},wordCount=function(b){let $=0,_e=b.docs;for(let et=0;et<_e.length;et+=1)for(let tt=0;tt<_e[et].length;tt+=1)_e[et][tt].normal!==""&&($+=1,_e[et][tt].wordCount=$)},termLoop$1=function(b,$){let _e=b.docs;for(let et=0;et<_e.length;et+=1)for(let tt=0;tt<_e[et].length;tt+=1)$(_e[et][tt],b.world)},methods$2={alias:b=>termLoop$1(b,addAliases),machine:b=>termLoop$1(b,doMachine),normal:b=>termLoop$1(b,normalize$1),freq,offset:offset$3,index:index$2,wordCount},tokenize={compute:methods$2,methods:methods$3,model:model$3,hooks:["alias","machine","index","id"]},typeahead$1=function(b){const $=b.model.one.typeahead,_e=b.docs;if(_e.length===0||Object.keys($).length===0)return;let et=_e[_e.length-1]||[],tt=et[et.length-1];if(!tt.post&&$.hasOwnProperty(tt.normal)){let nt=$[tt.normal];tt.implicit=nt,tt.machine=nt,tt.typeahead=!0,b.compute.preTagger&&b.last().unTag("*").compute(["lexicon","preTagger"])}},compute$4={typeahead:typeahead$1},autoFill=function(){const b=this.docs;if(b.length===0)return this;let $=b[b.length-1]||[],_e=$[$.length-1];return _e.typeahead===!0&&_e.machine&&(_e.text=_e.machine,_e.normal=_e.machine),this},api$j=function(b){b.prototype.autoFill=autoFill},getPrefixes=function(b,$,_e){let et={},tt=[],nt=_e.prefixes||{};return b.forEach(rt=>{rt=rt.toLowerCase().trim();let ot=rt.length;$.max&&ot>$.max&&(ot=$.max);for(let st=$.min;st<ot;st+=1){let ct=rt.substring(0,st);if(!($.safe&&_e.model.one.lexicon.hasOwnProperty(ct))){if(nt.hasOwnProperty(ct)===!0){tt.push(ct);continue}if(et.hasOwnProperty(ct)===!0){tt.push(ct);continue}et[ct]=rt}}}),et=Object.assign({},nt,et),tt.forEach(rt=>{delete et[rt]}),et},isObject$4=b=>Object.prototype.toString.call(b)==="[object Object]",defaults$3={safe:!0,min:3},prepare=function(b=[],$={}){let _e=this.model();$=Object.assign({},defaults$3,$),isObject$4(b)&&(Object.assign(_e.one.lexicon,b),b=Object.keys(b));let et=getPrefixes(b,$,this.world());return Object.keys(et).forEach(tt=>{if(_e.one.typeahead.hasOwnProperty(tt)){delete _e.one.typeahead[tt];return}_e.one.typeahead[tt]=et[tt]}),this},lib={typeahead:prepare},model$2={one:{typeahead:{}}},typeahead={model:model$2,api:api$j,lib,compute:compute$4,hooks:["typeahead"]};nlp.extend(change$1);nlp.extend(output$1);nlp.extend(match$1);nlp.extend(pointers);nlp.extend(tag$1);nlp.plugin(plugin$n);nlp.extend(tokenize);nlp.extend(freeze$1);nlp.plugin(cache$1);nlp.extend(lookup);nlp.extend(typeahead);nlp.extend(lexicon$2);nlp.extend(sweep);const irregularPlurals={addendum:"addenda",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",opus:"opera",ovum:"ova",phenomenon:"phenomena",referendum:"referenda",alga:"algae",alumna:"alumnae",antenna:"antennae",formula:"formulae",larva:"larvae",nebula:"nebulae",vertebra:"vertebrae",analysis:"analyses",axis:"axes",diagnosis:"diagnoses",parenthesis:"parentheses",prognosis:"prognoses",synopsis:"synopses",thesis:"theses",neurosis:"neuroses",appendix:"appendices",index:"indices",matrix:"matrices",ox:"oxen",sex:"sexes",alumnus:"alumni",bacillus:"bacilli",cactus:"cacti",fungus:"fungi",hippopotamus:"hippopotami",libretto:"libretti",modulus:"moduli",nucleus:"nuclei",octopus:"octopi",radius:"radii",stimulus:"stimuli",syllabus:"syllabi",cookie:"cookies",calorie:"calories",auntie:"aunties",movie:"movies",pie:"pies",rookie:"rookies",tie:"ties",zombie:"zombies",leaf:"leaves",loaf:"loaves",thief:"thieves",foot:"feet",goose:"geese",tooth:"teeth",beau:"beaux",chateau:"chateaux",tableau:"tableaux",bus:"buses",gas:"gases",circus:"circuses",crisis:"crises",virus:"viruses",database:"databases",excuse:"excuses",abuse:"abuses",avocado:"avocados",barracks:"barracks",child:"children",clothes:"clothes",echo:"echoes",embargo:"embargoes",epoch:"epochs",deer:"deer",halo:"halos",man:"men",woman:"women",mosquito:"mosquitoes",mouse:"mice",person:"people",quiz:"quizzes",rodeo:"rodeos",shoe:"shoes",sombrero:"sombreros",stomach:"stomachs",tornado:"tornados",tuxedo:"tuxedos",volcano:"volcanoes"},lexData={Comparative:"true¦bett1f0;arth0ew0in0;er",Superlative:"true¦earlier",PresentTense:"true¦bests,sounds",Condition:"true¦lest,unless",PastTense:"true¦began,came,d4had,kneel3l2m0sa4we1;ea0sg2;nt;eap0i0;ed;id",Participle:"true¦0:09;a06b01cZdXeat0fSgQhPoJprov0rHs7t6u4w1;ak0ithdra02o2r1;i02uY;k0v0;nd1pr04;ergoJoJ;ak0hHo3;e9h7lain,o6p5t4un3w1;o1um;rn;g,k;ol0reS;iQok0;ught,wn;ak0o1runk;ne,wn;en,wn;ewriNi1uJ;dd0s0;ut3ver1;do4se0t1;ak0h2;do2g1;roG;ne;ast0i7;iv0o1;ne,tt0;all0loBor1;bi3g2s1;ak0e0;iv0o9;dd0;ove,r1;a5eamt,iv0;hos0lu1;ng;e4i3lo2ui1;lt;wn;tt0;at0en,gun;r2w1;ak0ok0;is0;en",Gerund:"true¦accord0be0doin,go0result0stain0;ing",Expression:"true¦a0Yb0Uc0Sd0Oe0Mfarew0Lg0FhZjeez,lWmVnToOpLsJtIuFvEw7y0;a5e3i1u0;ck,p;k04p0;ee,pee;a0p,s;!h;!a,h,y;a5h2o1t0;af,f;rd up,w;atsoever,e1o0;a,ops;e,w;hoo,t;ery w06oi0L;gh,h0;! 0h,m;huh,oh;here nPsk,ut tut;h0ic;eesh,hh,it,oo;ff,h1l0ow,sst;ease,s,z;ew,ooey;h1i,mg,o0uch,w,y;h,o,ps;! 0h;hTmy go0wT;d,sh;a7evertheless,o0;!pe;eh,mm;ah,eh,m1ol0;!s;ao,fao;aCeBi9o2u0;h,mph,rra0zzC;h,y;l1o0;r6y9;la,y0;! 0;c1moCsmok0;es;ow;!p hip hoor0;ay;ck,e,llo,y;ha1i,lleluj0;ah;!ha;ah,ee4o1r0;eat scott,r;l1od0sh; grief,bye;ly;! whiz;ell;e0h,t cetera,ureka,ww,xcuse me;k,p;'oh,a0rat,uh;m0ng;mit,n0;!it;mon,o0;ngratulations,wabunga;a2oo1r0tw,ye;avo,r;!ya;h,m; 1h0ka,las,men,rgh,ye;!a,em,h,oy;la",Negative:"true¦n0;ever,o0;n,t",QuestionWord:"true¦how3wh0;at,e1ich,o0y;!m,se;n,re; come,'s",Reflexive:"true¦h4it5my5o1the0your2;ir1m1;ne3ur0;sel0;f,ves;er0im0;self",Plural:"true¦dick0gre0ones,records;ens","Unit|Noun":"true¦cEfDgChBinchAk9lb,m6newt5oz,p4qt,t1y0;ardEd;able1b0ea1sp;!l,sp;spo1;a,t,x;on9;!b,g,i1l,m,p0;h,s;!les;!b,elvin,g,m;!es;g,z;al,b;eet,oot,t;m,up0;!s",Value:"true¦a few",Imperative:"true¦bewa0come he0;re","Plural|Verb":"true¦leaves",Demonym:"true¦0:15;1:12;a0Vb0Oc0Dd0Ce08f07g04h02iYjVkTlPmLnIomHpEqatari,rCs7t5u4v3welAz2;am0Gimbabwe0;enezuel0ietnam0I;gAkrai1;aiwTex0hai,rinida0Ju2;ni0Prkmen;a5cotti4e3ingapoOlovak,oma0Spaniard,udRw2y0W;ede,iss;negal0Cr09;sh;mo0uT;o5us0Jw2;and0;a2eru0Fhilippi0Nortugu07uerto r0S;kist3lesti1na2raguay0;ma1;ani;ami00i2orweP;caragu0geri2;an,en;a3ex0Lo2;ngo0Drocc0;cedo1la2;gasy,y07;a4eb9i2;b2thua1;e0Cy0;o,t01;azakh,eny0o2uwaiI;re0;a2orda1;ma0Ap2;anO;celandic,nd4r2sraeli,ta01vo05;a2iB;ni0qi;i0oneU;aiAin2ondur0unO;di;amEe2hanai0reek,uatemal0;or2rm0;gi0;ilipino,ren8;cuadoVgyp4mira3ngli2sto1thiopi0urope0;shm0;ti;ti0;aPominUut3;a9h6o4roat3ub0ze2;ch;!i0;lom2ngol5;bi0;a6i2;le0n2;ese;lifor1m2na3;bo2eroo1;di0;angladeshi,el6o4r3ul2;gaE;azi9it;li2s1;vi0;aru2gi0;si0;fAl7merBngol0r5si0us2;sie,tr2;a2i0;li0;genti2me1;ne;ba1ge2;ri0;ni0;gh0r2;ic0;an",Organization:"true¦0:4Q;a3Tb3Bc2Od2He2Df27g1Zh1Ti1Pj1Nk1Ll1Gm12n0Po0Mp0Cqu0Br02sTtHuCv9w3xiaomi,y1;amaha,m1Bou1w1B;gov,tu3C;a4e2iki1orld trade organizati33;leaRped0O;lls fargo,st1;fie2Hinghou2R;l1rner br3U;gree3Jl street journ2Im1E;an halOeriz2Xisa,o1;dafo2Yl1;kswagMvo;b4kip,n2ps,s1;a tod3Aps;es3Mi1;lev3Fted natio3C;er,s; mobi32aco beRd bOe9gi frida3Lh3im horto3Amz,o1witt3D;shi49y1;ota,s r 05;e 1in lizzy;b3carpen3Jdaily ma3Dguess w2holli0s1w2;mashing pumpki35uprem0;ho;ea1lack eyed pe3Xyr0Q;ch bo3Dtl0;l2n3Qs1xas instrumen1U;co,la m1F;efoni0Kus;a8cientology,e5ieme2Ymirnoff,np,o3pice gir6quare0Ata1ubaru;rbuc1to34;ks;ny,undgard1;en;a2x pisto1;ls;g1Wrs;few2Minsbur31lesfor03msu2E;adiohead,b8e4o1yana3C;man empi1Xyal 1;b1dutch she4;ank;a3d 1max,vl20;bu1c2Ahot chili peppe2Ylobst2N;ll;ders dige1Ll madrid;c,s;ant3Aizn2Q;a8bs,e5fiz2Ihilip4i3r1;emier 1udenti1D;leagTo2K;nk floyd,zza hut; morrBs;psi2tro1uge0E;br33chi0Tn33;!co;lant2Un1yp16; 2ason27da2P;ld navy,pec,range juli2xf1;am;us;aAb9e6fl,h5i4o1sa,vid3wa;k2tre dame,vart1;is;ia;ke,ntendo,ss0QvZ;l,s;c,st1Otflix,w1; 1sweek;kids on the block,york0D;a,c;nd22s2t1;ional aca2Po,we0U;a,c02d0S;aDcdonalCe9i6lb,o3tv,y1;spa1;ce;b1Tnsanto,ody blu0t1;ley cr1or0T;ue;c2t1;as,subisO;helin,rosoft;dica2rcedes benz,talli1;ca;id,re;ds;cs milk,tt19z24;a3e1g,ittle caesa1P; ore09novo,x1;is,mark,us; 1bour party;pres0Dz boy;atv,fc,kk,lm,m1od1O;art;iffy lu0Roy divisi0Jpmorgan1sa;! cha09;bm,hop,k3n1tv;g,te1;l,rpol;ea;a5ewlett pack1Vi3o1sbc,yundai;me dep1n1P;ot;tac1zbollah;hi;lliburt08sbro;eneral 6hq,ithub,l5mb,o2reen d0Ou1;cci,ns n ros0;ldman sachs,o1;dye1g0H;ar;axo smith kli04encoW;electr0Nm1;oto0Z;a5bi,c barcelo4da,edex,i2leetwood m03o1rito l0G;rd,xcY;at,fa,nancial1restoZ; tim0;na;cebook,nnie mae;b0Asa,u3xxon1; m1m1;ob0J;!rosceptics;aiml0De5isney,o4u1;nkin donu2po0Zran dur1;an;ts;j,w jon0;a,f lepp12ll,peche mode,r spieg02stiny's chi1;ld;aJbc,hFiDloudflaCnn,o3r1;aigsli5eedence clearwater reviv1ossra09;al;c7inba6l4m1o0Est09;ca2p1;aq;st;dplSg1;ate;se;a c1o chanQ;ola;re;a,sco1tigroup;! systems;ev2i1;ck fil a,na daily;r1y;on;d2pital o1rls jr;ne;bury,ill1;ac;aEbc,eBf9l5mw,ni,o1p,rexiteeU;ei3mbardiIston 1;glo1pizza;be;ng;o2ue c1;roV;ckbuster video,omingda1;le; g1g1;oodriL;cht2e ge0rkshire hathaw1;ay;el;cardi,idu,nana republ3s1xt5y5;f,kin robbi1;ns;ic;bYcTdidSerosmith,iRlKmEnheuser busDol,ppleAr6s4u3v2y1;er;is,on;di,todesk;hland o1sociated E;il;b3g2m1;co;os;ys; compu1be0;te1;rs;ch;c,d,erican3t1;!r1;ak; ex1;pre1;ss; 5catel2ta1;ir;! lu1;ce1;nt;jazeera,qae1;da;g,rbnb;as;/dc,a3er,tivision1;! blizz1;ard;demy of scienc0;es;ba",Possessive:"true¦its,my,our0thy;!s","Noun|Verb":"true¦0:9W;1:AA;2:96;3:A3;4:9R;5:A2;6:9K;7:8N;8:7L;9:A8;A:93;B:8D;C:8X;a9Ob8Qc7Id6Re6Gf5Sg5Hh55i4Xj4Uk4Rl4Em40n3Vo3Sp2Squ2Rr21s0Jt02u00vVwGyFzD;ip,oD;ne,om;awn,e6Fie68;aOeMhJiHoErD;ap,e9Oink2;nd0rDuC;kDry,sh5Hth;!shop;ck,nDpe,re,sh;!d,g;e86iD;p,sD;k,p0t2;aDed,lco8W;r,th0;it,lk,rEsDt4ve,x;h,te;!ehou1ra9;aGen5FiFoD;iDmAte,w;ce,d;be,ew,sA;cuum,l4B;pDr7;da5gra6Elo6A;aReQhrPiOoMrGuEwiDy5Z;n,st;nDrn;e,n7O;aGeFiEoDu6;t,ub2;bu5ck4Jgg0m,p;at,k,nd;ck,de,in,nsDp,v7J;f0i8R;ll,ne,p,r4Yss,t94uD;ch,r;ck,de,e,le,me,p,re;e5Wow,u6;ar,e,ll,mp0st,xt;g,lDng2rg7Ps5x;k,ly;a0Sc0Ne0Kh0Fi0Dk0Cl0Am08n06o05pXquaBtKuFwD;ea88iD;ng,pe,t4;bGit,m,ppErD;fa3ge,pri1v2U;lDo6S;e6Py;!je8;aMeLiKoHrEuDy2;dy,ff,mb2;a85eEiDo5Pugg2;ke,ng;am,ss,t4;ckEop,p,rD;e,m;ing,pi2;ck,nk,t4;er,m,p;ck,ff,ge,in,ke,lEmp,nd,p2rDte,y;!e,t;k,l;aJeIiHlGoFrDur,y;ay,e56inDu3;g,k2;ns8Bt;a5Qit;ll,n,r87te;ed,ll;m,n,rk;b,uC;aDee1Tow;ke,p;a5Je4FiDo53;le,rk;eep,iDou4;ce,p,t;ateboa7Ii;de,gnDl2Vnk,p,ze;!al;aGeFiEoDuff2;ck,p,re,w;ft,p,v0;d,i3Ylt0;ck,de,pe,re,ve;aEed,nDrv1It;se,t2N;l,r4t;aGhedu2oBrD;aEeDibb2o3Z;en,w;pe,t4;le,n,r2M;cDfegua72il,mp2;k,rifi3;aZeHhy6LiGoEuD;b,in,le,n,s5X;a6ck,ll,oDpe,u5;f,t;de,ng,ot,p,s1W;aTcSdo,el,fQgPje8lOmMnLo17pJque6sFturn,vDwa6V;eDi27;al,r1;er74oFpe8tEuD;lt,me;!a55;l71rt;air,eaDly,o53;l,t;dezvo2Zt;aDedy;ke,rk;ea1i4G;a6Iist0r5N;act6Yer1Vo71uD;nd,se;a38o6F;ch,s6G;c1Dge,iEke,lly,nDp1Wt1W;ge,k,t;n,se;es6Biv0;a04e00hYiXlToNrEsy4uD;mp,n4rcha1sh;aKeIiHoDu4O;be,ceFdu3fi2grDje8mi1p,te6;amDe6W;!me;ed,ss;ce,de,nt;sDy;er6Cs;cti3i1;iHlFoEp,re,sDuCw0;e,i5Yt;l,p;iDl;ce,sh;nt,s5V;aEce,e32uD;g,mp,n7;ce,nDy;!t;ck,le,n17pe,tNvot;a1oD;ne,tograph;ak,eFnErDt;fu55mA;!c32;!l,r;ckJiInHrFsEtDu1y;ch,e9;s,te;k,tD;!y;!ic;nt,r,se;!a7;bje8ff0il,oErDutli3Qver4B;bAd0ie9;ze;a4ReFoDur1;d,tD;e,i3;ed,gle8tD;!work;aMeKiIoEuD;rd0;ck,d3Rld,nEp,uDve;nt,th;it5EkD;ey;lk,n4Brr5CsDx;s,ta2B;asuBn4UrDss;ge,it;il,nFp,rk3WsEtD;ch,t0;h,k,t0;da5n0oeuvB;aLeJiHoEuD;mp,st;aEbby,ck,g,oDve;k,t;d,n;cDe,ft,mAnIst;en1k;aDc0Pe4vK;ch,d,k,p,se;bFcEnd,p,t4uD;gh,n4;e,k;el,o2U;eEiDno4E;ck,d,ll,ss;el,y;aEo1OuD;i3mp;m,zz;mpJnEr46ssD;ue;c1Rdex,fluGha2k,se2HteDvoi3;nt,rD;e6fa3viD;ew;en3;a8le2A;aJeHiGoEuD;g,nt;l3Ano2Dok,pDr1u1;!e;ghli1Fke,nt,re,t;aDd7lp;d,t;ck,mGndFrEsh,tDu9;ch,e;bo3Xm,ne4Eve6;!le;!m0;aMear,ift,lKossJrFuD;arDe4Alp,n;antee,d;aFiEoDumb2;uCwth;ll,nd,p;de,sp;ip;aBoDue;ss,w;g,in,me,ng,s,te,ze;aZeWiRlNoJrFuD;ck,el,nDss,zz;c38d;aEoDy;st,wn;cDgme,me,nchi1;tuB;cFg,il,ld,rD;ce,e29mDwa31;!at;us;aFe0Vip,oDy;at,ck,od,wD;!er;g,ke,me,re,sh,vo1E;eGgFlEnDre,sh,t,x;an3i0Q;e,m,t0;ht,uB;ld;aEeDn3;d,l;r,tuB;ce,il,ll,rm,vo2W;cho,d7ffe8nMsKxFyeD;!baD;ll;cGerci1hFpDtra8;eriDo0W;en3me9;au6ibA;el,han7u1;caDtima5;pe;count0d,vy;a01eSiMoJrEuDye;b,el,mp,pli2X;aGeFiEoD;ne,p;ft,ll,nk,p,ve;am,ss;ft,g,in;cEd7ubt,wnloD;ad;k,u0E;ge6p,sFt4vD;e,iDor3;de;char7gui1h,liEpD;at4lay,u5;ke;al,bKcJfeIlGmaCposAsEtaD;il;e07iD;gn,re;ay,ega5iD;ght;at,ct;li04rea1;a5ut;b,ma7n3rDte;e,t;a0Eent0Dh06irc2l03oKrFuD;be,e,rDt;b,e,l,ve;aGeFoEuDy;sh;p,ss,wd;dAep;ck,ft,sh;at,de,in,lTmMnFordina5py,re,st,uDv0;gh,nDp2rt;s01t;ceHdu8fli8glomeIsFtDveN;a8rD;a6ol;e9tru8;ct;ntDrn;ra5;bHfoGmFpD;leDouCromi1;me9;aCe9it,u5;rt;at,iD;ne;lap1oD;r,ur;aEiDoud,ub;ck,p;im,w;aEeDip;at,ck,er;iGllen7nErD;ge,m,t;ge,nD;el;n,r;er,re;ke,ll,mp,noe,pGrXsFtEuDve;se,ti0I;alog,ch;h,t;!tuB;re;a03eZiXlToPrHuEyD;pa11;bb2ck2dgEff0mp,rDst,zz;den,n;et;anJeHiFoadEuD;i1sh;ca6;be,d7;ge;aDed;ch,k;ch,d;aFg,mb,nEoDrd0tt2x,ycott;k,st,t;d,e;rd,st;aFeCiDoYur;nk,tz;nd;me;as,d,ke,nd,opsy,tD;!ch,e;aFef,lt,nDt;d,efA;it;r,t;ck,il,lan3nIrFsEtt2;le;e,h;!gDk;aDe;in;!d,g,k;bu1c05dZge,iYlVnTppQrLsIttGucEwaD;rd;tiD;on;aDempt;ck;k,sD;i6ocia5;st;chFmD;!oD;ur;!iD;ve;eEroa4;ch;al;chDg0sw0;or;aEt0;er;rm;d,m,r;dreHvD;an3oD;ca5;te;ce;ss;cDe,he,t;eFoD;rd,u9;nt;nt,ss;se",Actor:"true¦0:7B;1:7G;2:6A;3:7F;4:7O;5:7K;a6Nb62c4Ud4Be41f3Sg3Bh30i2Uj2Qkin2Pl2Km26n1Zo1Sp0Vqu0Tr0JsQtJuHvEw8yo6;gi,ut6;h,ub0;aAe9i8o7r6;estl0it0;m2rk0;fe,nn0t2Bza2H;atherm2ld0;ge earn0it0nder0rri1;eter7i6oyF;ll5Qp,s3Z;an,ina2U;n6s0;c6Uder03;aoisea23e9herapi5iktok0o8r6ut1yco6S;a6endseLo43;d0mp,nscri0Bvel0;ddl0u1G;a0Qchn7en6na4st0;ag0;i3Oo0D;aiXcUeRhPiMki0mu26oJpGquaFtBu7wee6;p0theart;lt2per7r6;f0ge6Iviv1;h6inten0Ist5Ivis1;ero,um2;a8ep7r6;ang0eam0;bro2Nc2Ofa2Nmo2Nsi20;ff0tesm2;tt0;ec7ir2Do6;kesp59u0M;ia5Jt3;l7me6An,rcere6ul;r,ss;di0oi5;n7s6;sy,t0;g0n0;am2ephe1Iow6;girl,m2r2Q;cretInior cit3Fr6;gea4v6;a4it1;hol4Xi7reen6ulpt1;wr2C;e01on;l1nt;aEe9o8u6;l0nn6;er up,ingE;g40le mod3Zof0;a4Zc8fug2Ppo32searQv6;ere4Uolution6;ary;e6luYru22;ptio3T;bbi,dic5Vpp0;arter6e2Z;back;aYeWhSiRlOoKr8sycho7u6;nk,p31;logi5;aGeDiBo6;d9fess1g7ph47s6;pe2Ktitu51;en6ramm0;it1y;igy,uc0;est4Nme mini0Unce6s3E;!ss;a7si6;de4;ch0;ctiti39nk0P;dca0Oet,li6pula50rnst42;c2Itic6;al scie6i2;nti5;a6umb0;nn0y6;er,ma4Lwright;lgrim,one0;a8iloso7otogra7ra6ysi1V;se;ph0;ntom,rmaci5;r6ssi1T;form0s4O;i3El,nel3Yr8st1tr6wn;i6on;arWot;ent4Wi42tn0;ccupa4ffBp8r7ut6;ca5l0B;ac4Iganiz0ig2Fph2;er3t6;i1Jomet6;ri5;ic0spring;aBe9ie4Xo7u6;n,rser3J;b6mad,vi4V;le2Vo4D;i6mesis,phew;ce,ghb1;nny,rr3t1X;aEeDiAo7u6yst1Y;m8si16;der3gul,m7n6th0;arDk;!my;ni7s6;f02s0Jt0;on,st0;chan1Qnt1rcha4;gi9k0n8rtyr,t6y1;e,riar6;ch;ag0iac;ci2stra3I;a7e2Aieutena4o6;rd,s0v0;bor0d7ndlo6ss,urea3Fwy0ym2;rd;!y;!s28;e8o7u6;ggl0;gg0urna2U;st0;c3Hdol,llu3Ummigra4n6; l9c1Qfa4habi42nov3s7ve6;nt1stig3;pe0Nt6;a1Fig3ru0M;aw;airFeBistoAo8u6ygie1K;man6sba2H;!ita8;bo,st6usekN;age,e3P;ri2;ir,r6;m7o6;!ine;it;dress0sty2C;aLeIhostGirl26ladi3oCrand7u6;e5ru;c9daug0Jfa8m7pa6s2Y;!re4;a,o6;th0;hi1B;al7d6lf0;!de3A;ie,k6te26;eep0;!wr6;it0;isha,n6;i6tl04;us;mbl0rden0;aDella,iAo7r6;eela2Nie1P;e,re6ster pare4;be1Hm2r6st0;unn0;an2ZgZlmm17nanci0r6tt0;e6st la2H; marsh2OfigXm2;rm0th0;conoEdDlectriCm8n7x6;amin0cellency,i2A;emy,trepreneur,vironmenta1J;c8p6;er1loye6;e,r;ee;ci2;it1;mi5;aKeBi8ork,ri7u6we02;de,tche2H;ft0v0;ct3eti7plom2Hre6va;ct1;ci2ti2;aDcor3fencCi0InAput9s7tectLvel6;op0;ce1Ge6ign0;rt0;ee,y;iz6;en;em2;c1Ml0;d8nc0redev7ug6;ht0;il;!dy;a06e04fo,hXitizenWlToBr9u6;r3stomer6;! representat6;ive;e3it6;ic;lJmGnAord9rpor1Nu7w6;boy,ork0;n6ri0;ciTte1Q;in3;fidantAgressSs9t6;e0Kr6;ibut1o6;ll0;tab13ul1O;!e;edi2m6pos0rade;a0EeQissi6;on0;leag8on7um6;ni5;el;ue;e6own;an0r6;ic,k;!s;a9e7i6um;ld;erle6f;ad0;ir7nce6plFract0;ll1;m2wI;lebri6o;ty;dBptAr6shi0;e7pe6;nt0;r,t6;ak0;ain;et;aMeLiJlogg0oErBu6;dd0Fild0rgl9siness6;m2p7w6;om2;ers05;ar;i7o6;!k0th0;cklay0de,gadi0;hemi2oge8y6;!frie6;nd;ym2;an;cyc6sR;li5;atbox0ings;by,nk0r6;b0on7te6;nd0;!e07;c04dWge4nQpLrHsFtAu7yatull6;ah;nt7t6;h1oG;!ie;h8t6;e6orney;nda4;ie5le6;te;sis00tron6;aut,om0;chbis8isto7tis6;an,t;crU;hop;ost9p6;ari6rentiS;ti6;on;le;a9cest1im3nou8y6;bo6;dy;nc0;ly5rc6;hi5;mi8v6;entur0is1;er;ni7r6;al;str3;at1;or;counBquaintanArob9t6;ivi5or,re6;ss;st;at;ce;ta4;nt","Adj|Noun":"true¦0:16;a1Db17c0Ud0Re0Mf0Dg0Ah08i06ju05l02mWnUoSpNrIsBt7u4v1watershed;a1ision0Z;gabo4nilla,ria1;b0Vnt;ndergr1pstairs;adua14ou1;nd;a3e1oken,ri0;en,r1;min0rori13;boo,n;age,e5ilv0Flack,o3quat,ta2u1well;bordina0Xper5;b0Lndard;ciali0Yl1vereign;e,ve16;cret,n1ri0;ior;a4e2ou1ubbiL;nd,tiY;ar,bBl0Wnt0p1side11;resent0Vublican;ci0Qsh;a4eriodic0last0Zotenti0r1;emi2incip0o1;!fession0;er,um;rall4st,tie0U;ff1pposi0Hv0;ens0Oi0C;agg01ov1uts;el;a5e3iniatJo1;bi01der07r1;al,t0;di1tr0N;an,um;le,riG;attOi2u1;sh;ber0ght,qC;stice,veniT;de0mpressioYn1;cumbe0Edividu0no0Dsta0Eterim;alf,o1umdrum;bby,melF;en2old,ra1;ph0Bve;er0ious;a7e5i4l3u1;git03t1;ure;uid;ne;llow,m1;aFiL;ir,t,vo1;riOuriO;l3p00x1;c1ecutUpeV;ess;d1iK;er;ar2e1;mographUrivO;k,l2;hiGlassSo2rude,unn1;ing;m5n1operK;creCstitueOte2vertab1;le;mpor1nt;ary;ic,m2p1;anion,lex;er2u1;ni8;ci0;al;e5lank,o4r1;i2u1;te;ef;ttom,urgeois;st;cadem9d6l2ntarct9r1;ab,ct8;e3tern1;at1;ive;rt;oles1ult;ce1;nt;ic","Adj|Past":"true¦0:4Q;1:4C;2:4H;3:4E;a44b3Tc36d2Je29f20g1Wh1Si1Jj1Gkno1Fl1Am15n12o0Xp0Mqu0Kr08sLtEuAv9w4yellow0;a7ea6o4rinkl0;r4u3Y;n,ri0;k31th3;rp0sh0tZ;ari0e1O;n5p4s0;d1li1Rset;cov3derstood,i4;fi0t0;a8e3Rhr7i6ouTr4urn0wi4C;a4imm0ou2G;ck0in0pp0;ed,r0;eat2Qi37;m0nn0r4;get0ni2T;aOcKeIhGimFm0Hoak0pDt7u4;bsid3Ogge44s4;pe4ta2Y;ct0nd0;a8e7i2Eok0r5u4;ff0mp0nn0;ength2Hip4;ed,p0;am0reotyp0;in0t0;eci4ik0oH;al3Efi0;pRul1;a4ock0ut;d0r0;a4c1Jle2t31;l0s3Ut0;a6or5r4;at4e25;ch0;r0tt3;t4ut0;is2Mur1;aEe5o4;tt0;cAdJf2Bg9je2l8m0Knew0p7qu6s4;eTpe2t4;or0ri2;e3Dir0;e1lac0;at0e2Q;i0Rul1;eiv0o4ycl0;mme2Lrd0v3;in0lli0ti2A;a4ot0;li28;aCer30iBlAo9r5u4;mp0zzl0;e6i2Oo4;ce2Fd4lo1Anou30pos0te2v0;uc0;fe1CocCp0Iss0;i2Kli1L;ann0e2CuS;ck0erc0ss0;ck0i2Hr4st0;allLk0;bse7c6pp13rgan2Dver4;lo4whelm0;ok0;cupi0;rv0;aJe5o4;t0uri1A;ed0gle2;a6e5ix0o4ut0ys1N;di1Nt15u26;as0Clt0;n4rk0;ag0ufact0A;e6i5o4;ad0ck0st,v0;cens0m04st0;ft,v4;el0;tt0wn;a5o15u4;dg0s1B;gg0;llumSmpAn4sol1;br0cre1Ldebt0f8jZspir0t5v4;it0olv0;e4ox0Y;gr1n4re23;d0si15;e2l1o1Wuri1;li0o01r4;ov0;a6e1o4um03;ok0r4;ri0Z;mm3rm0;i6r5u4;a1Bid0;a0Ui0Rown;ft0;aAe9i8l6oc0Ir4;a4i0oz0Y;ctHg19m0;avo0Ju4;st3;ni08tt0x0;ar0;d0il0sc4;in1;dCl1mBn9quipp0s8x4;agger1c6p4te0T;a0Se4os0;ct0rie1D;it0;cap0tabliZ;cha0XgFha1As4;ur0;a0Zbarra0N;i0Buc1;aMeDi5r4;a01i0;gni08miniSre2s4;a9c6grun0Ft4;o4re0Hu17;rt0;iplWou4;nt0r4;ag0;bl0;cBdRf9l8p7ra6t5v4;elop0ot0;ail0ermQ;ng0;re07;ay0ight0;e4in0o0M;rr0;ay0enTor1;m5t0z4;ed,zl0;ag0p4;en0;aPeLhIlHo9r6u4;lt4r0stom03;iv1;a5owd0u4;sh0;ck0mp0;d0loAm7n4ok0v3;centr1f5s4troC;id3olid1;us0;b5pl4;ic1;in0;r0ur0;assi9os0utt3;ar5i4;ll0;g0m0;lebr1n6r4;ti4;fi0;tralJ;g0lcul1;aDewild3iCl9o7r5urn4;ed,t;ok4uis0;en;il0r0t4und;tl0;e5i4;nd0;ss0;as0;ffl0k0laMs0tt3;bPcNdKfIg0lFmaz0nDppBrm0ss9u5wa4;rd0;g5thor4;iz0;me4;nt0;o6u4;m0r0;li0re4;ci1;im1ticip1;at0;a5leg0t3;er0;rm0;fe2;ct0;ju5o7va4;nc0;st0;ce4knowledg0;pt0;and5so4;rb0;on0;ed",Singular:"true¦0:5I;1:5G;2:4V;3:4R;4:51;5:56;6:5K;a4Zb4Ic3Ld33e2Vf2Mg2Hh26in22j21k20l1Sm1Jn1Fo19p0Pqu0Or0DsXtKuFvAw7x r55yo yo;a7ha3No3O;f3i4Ot0Ey7;! arou37;arAe8ideo ga2Oo7;cabu4Gl59;gMr7t;di4Wt1W;iety,ni4M;n9p2Yr8s 7;do41s5B;bani1in0;coordinat38der7;estima1to22we3Z; rex,aIeHhFiDoCr9u8v7;! show;m2Mn2rntJto1B;agedy,ib7o4B;e,u7;n0ta43;ni1p2rq3J;c,er,m7;etD;ing7ree24;!y;am,mp3D;ct2le6x return;aLcKeIhor4NiHkFoEpin off,tBu9y7;ll7ner4Jst4Q;ab2V;b7i1n26per bowl,rro1V;st3Jtot0;at8ipe2Eo1Jrate4Fudent7;! lo0G;i37u1;ft ser4Imeo1G;elet5i7;ll,r3S;b36gn2Rte;ab2Hc7min39;t,urity gua2L;e6ho2W;bbatic0la3Gndwi0Opi5;av5eBhetor2i8o7;de6om,w;t8v7;erb2A;e,u0;bBc9f7publ2r0Yspi1;er7orm3;e6r0;i7ord label;p2Ft0;a1u43;estion mark,ot2D;aNeKhoJiGlEoCr8u7yram1D;ddi3EpCrpo1Hs3G;e9o7;bl3Ws7;pe3Gta1;dic1Pmi1Dp1Oroga3Sss relea1D;p7rt0;py;a7ebisci1;q2Bte;cn2e8g7;!gy;!r;ne call,tocoI;anut,d8r7t0yo1;cen3Gsp3H;al,est0;nop4r8t7;e,hog5;adi0Zi2S;atme0bj3Cc9pia1rde0thers,utspok5ve7wn3;n,r7;ti0Nview;cu8e7;an;pi3;ar9it8ot7umb3;a2Chi2O;e,ra1;cot2ra34;aDeAi8o7ur0;nopo4p16rni2Ksq1Pti33uld;c,li0Zn08s7tt5;chief,si31;d8nu,t7;al,i3;al,ic;gna1mm0nd13rsupi0te7yf4;ri0;aBegAi9u7;ddi1n7;ch;me,p07; 9e0K;bor12y7; 7er;up;eyno1itt5;el4ourn0;c9dices,itia2Kni22s8tel0Jvert7;eb1H;e25titu1;en2Hi2Q;aGeCighBo8u7;man right,s1Z;me7rmoDsp1Dtb0I;! r7;un; scho0WriW;a7i1K;d7v5; start,pho7;ne;ndful,sh brown,v5ze;a9elat0Glaci3r7ul4yp1P;an7enadi3id;a19d slam,ny;df4r7;l2ni1F;aEeti1EiDlu1oAr8un7;er0;ee market,i7onti3;ga1;l4ur7;so7;me;eNref4;br2mi4;conoDffi1Mgg,lecto0Pmbas1BnApidem2s1Wth2ven9x8yel7;id;ampXempl0Lte6;i16t;er1Iterp7;ri7;se;my;eJiCo9r7ump tru0R;agonf4i7;er,ve thru;c8g1Bi4or,ssi3wn7;side;to0CumenC;aCgniBnn3s8vide7;nd;conte6incen1Bp7tri0Y;osi7;tion;ta0E;le0U;ath9c8f7ni0terre6;ault 03err0;al,im0;!b7;ed;aUeRhKiJlHoBr7;edit ca9uc7;ib7;le;rd;efficBke,lAmmuniqJns8pi3rr0t0Uus7yo1;in;erv7uG;atoZ;ic,lO;ie6;er0Li7oth;e6n2;ty,vil wK;aBeqAick5oco9r7;istmas car7ysanthemum;ol;la1;ue;ndeli3racteri7;st2;i8llCr7;e0tifica1;liW;hi3nDpCrAt7ucus;erpi7hedr0;ll7;ar;!bohyd7ri3;ra1;it0;a7e,nib0;l,ry;aKeJiop2leHoFrBu7;nny,r7tterf4;g7i0;la7;ry;eak8i7;ck;fa7thro9;st;dy,ro7wl;ugh;mi7;sh;an,l4;nki8rri3;er;ng;cQdKlGnDppeti1rBs9tt2utop7;sy;ic;ce6pe7;ct;r7sen0;ay;ec8oma4ti8;ly;do1;i5l7;er7y;gy;en; hominBj8van7;tage;ec7;ti7;ve;em;cAe8qui7;tt0;ta1;te;i8ru0;al;de6;nt","Person|Noun":"true¦a0Eb07c03dWeUfQgOhLjHkiGlFmCnBolive,p7r4s3trini06v1wa0;ng,rd,tts;an,enus,iol0;a,et;ky,onPumm09;ay,e1o0uby;bin,d,se;ed,x;a2e1o0;l,tt04;aLnJ;dYge,tR;at,orm;a0eloW;t0x,ya;!s;a9eo,iH;ng,tP;a2e1o0;lGy;an,w3;de,smi4y;a0erb,iOolBuntR;ll,z0;el;ail,e0iLuy;ne;a1ern,i0lo;elds,nn;ith,n0;ny;a0dEmir,ula,ve;rl;a4e3i1j,ol0;ly;ck,x0;ie;an,ja;i0wn;sy;am,h0liff,rystal;a0in,ristian;mbers,ri0;ty;a4e3i2o,r0ud;an0ook;dy;ll;nedict,rg;k0nks;er;l0rt;fredo,ma","Actor|Verb":"true¦aCb8c5doctor,engineAfool,g3host,judge,m2nerd,p1recruit,scout,ushAvolunteAwi0;mp,tneA;arent,ilot;an,ime;eek,oof,r0uide;adu8oom;ha1o0;ach,nscript,ok;mpion,uffeur;o2u0;lly,tch0;er;ss;ddi1ffili0rchite1;ate;ct",MaleName:"true¦0:H6;1:FZ;2:DS;3:GQ;4:CZ;5:FV;6:GM;7:FP;8:GW;9:ET;A:C2;B:GD;aF8bE1cCQdBMeASfA1g8Yh88i7Uj6Sk6Bl5Mm48n3So3Ip33qu31r26s1Et0Ru0Ov0CwTxSyHzC;aCor0;cChC1karia,nAT;!hDkC;!aF6;!ar7CeF5;aJevgenBSoEuC;en,rFVsCu3FvEF;if,uf;nDs6OusC;ouf,s6N;aCg;s,tC;an,h0;hli,nCrosE1ss09;is,nC;!iBU;avi2ho5;aPeNiDoCyaEL;jcieBJlfgang,odrFutR;lFnC;f8TsC;lCt1;ow;bGey,frEhe4QlC;aE5iCy;am,e,s;ed8iC;d,ed;eAur;i,ndeD2rn2sC;!l9t1;lDyC;l1ne;lDtC;!er;aCHy;aKernDAiFladDoC;jteB0lodymyr;!iC;mFQsDB;cFha0ktBZnceDrgCOvC;a0ek;!nC;t,zo;!e4StBV;lCnC7sily;!entC;in9J;ghE2lCm70nax,ri,sm0;riCyss87;ch,k;aWeRhNiLoGrEuDyC;!l2roEDs1;n6r6E;avD0eCist0oy,um0;ntCRvBKy;bFdAWmCny;!asDmCoharu;aFFie,y;!z;iA6y;mCt4;!my,othy;adEeoDia0SomC;!as;!dor91;!de4;dFrC;enBKrC;anBJeCy;ll,nBI;!dy;dgh,ha,iCnn2req,tsu5V;cDAka;aYcotWeThPiMlobod0oKpenc2tEurDvenAEyCzym1;ed,lvest2;aj,e9V;anFeDuC;!aA;fan17phEQvCwaA;e77ie;!islaCl9;v,w;lom1rBuC;leymaDHta;dDgmu9UlCm1yabonga;as,v8B;!dhart8Yn9;aEeClo75;lCrm0;d1t1;h9Jne,qu1Jun,wn,yne;aDbastiEDk2Yl5Mpp,rgCth,ymoCU;e1Dio;m4n;!tC;!ie,y;eDPlFmEnCq67tosCMul;dCj2UtiA5;e01ro;!iATkeB6mC4u5;!ik,vato9K;aZeUheC8iRoGuDyC;an,ou;b99dDf4peAssC;!elEG;ol00y;an,bLc7MdJel,geIh0lHmGnEry,sDyC;!ce;ar7Ocoe,s;!aCnBU;ld,n;an,eo;a7Ef;l7Jr;e3Eg2n9olfo,riC;go;bBNeDH;cCl9;ar87c86h54kCo;!ey,ie,y;cFeA3gDid,ubByCza;an8Ln06;g85iC;naC6s;ep;ch8Kfa5hHin2je8HlGmFndEoHpha5sDul,wi36yC;an,mo8O;h9Im4;alDSol3O;iD0on;f,ph;ul;e9CinC;cy,t1;aOeLhilJiFrCyoG;aDeC;m,st1;ka85v2O;eDoC;tr;r8GtC;er,ro;!ipCl6H;!p6U;dCLrcy,tC;ar,e9JrC;!o7;b9Udra8So9UscAHtri62ulCv8I;!ie,o7;ctav6Ji2lImHndrBRrGsDtCum6wB;is,to;aDc6k6m0vCwaBE;al79;ma;i,vR;ar,er;aDeksandr,ivC;er,i2;f,v;aNeLguyBiFoCu3O;aDel,j4l0ma0rC;beAm0;h,m;cFels,g5i9EkDlC;es,s;!au,h96l78olaC;!i,y;hCkCol76;ol75;al,d,il,ls1vC;ilAF;hom,tC;e,hC;anCy;!a5i5;aYeViLoGuDyC;l4Nr1;hamDr84staC;fa,p6E;ed,mG;di10e,hamEis4JntDritz,sCussa;es,he;e,y;ad,ed,mC;ad,ed;cGgu5hai,kFlEnDtchC;!e8O;a9Pik;house,o7t1;ae73eC3ha8Iolaj;ah,hDkC;!ey,y;aDeC;al,l;el,l;hDlv3rC;le,ri8Ev4T;di,met;ay0c00gn4hWjd,ks2NlTmadZnSrKsXtDuric7VxC;imilBKwe8B;eHhEi69tCus,y69;!eo,hCia7;ew,i67;eDiC;as,eu,s;us,w;j,o;cHiGkFlEqu8Qsha83tCv3;iCy;!m,n;in,on;el,o7us;a6Yo7us;!elCin,o7us;!l8o;frAEi5Zny,u5;achDcoCik;lm;ai,y;amDdi,e5VmC;oud;adCm6W;ou;aulCi9P;ay;aWeOiMloyd,oJuDyC;le,nd1;cFdEiDkCth2uk;a7e;gi,s,z;ov7Cv6Hw6H;!as,iC;a6Een;g0nn52renDuCvA4we7D;!iS;!zo;am,n4oC;n5r;a9Yevi,la5KnHoFst2thaEvC;eCi;nte;bo;nCpo8V;!a82el,id;!nC;aAy;mEnd1rDsz73urenCwr6K;ce,t;ry,s;ar,beAont;aOeIhalHiFla4onr63rDu5SylC;e,s;istCzysztof;i0oph2;er0ngsl9p,rC;ilA9k,ollos;ed,id;en0iGnDrmCv4Z;it;!dDnCt1;e2Ny;ri4Z;r,th;cp2j4mEna8BrDsp6them,uC;ri;im,l;al,il;a03eXiVoFuC;an,lCst3;en,iC;an,en,o,us;aQeOhKkub4AnIrGsDzC;ef;eDhCi9Wue;!ua;!f,ph;dCge;i,on;!aCny;h,s,th6J;anDnC;!ath6Hie,n72;!nC;!es;!l,sCy;ph;o,qu3;an,mC;!i,m6V;d,ffFns,rCs4;a7JemDmai7QoCry;me,ni1H;i9Dy;!e73rC;ey,y;cKdBkImHrEsDvi2yC;dBs1;on,p2;ed,oDrCv67;e6Qod;d,s61;al,es5Wis1;a,e,oCub;b,v;ob,qu13;aTbNchiMgLke53lija,nuKonut,rIsEtCv0;ai,suC;ki;aDha0i8XmaCsac;el,il;ac,iaC;h,s;a,vinCw3;!g;k,nngu6X;nac1Xor;ka;ai,rahC;im;aReLoIuCyd6;beAgGmFsC;eyDsC;a3e3;in,n;ber5W;h,o;m2raDsse3wC;a5Pie;c49t1K;a0Qct3XiGnDrC;beAman08;dr7VrC;iCy2N;!k,q1R;n0Tt3S;bKlJmza,nIo,rEsDyC;a5KdB;an,s0;lEo67r2IuCv9;hi5Hki,tC;a,o;an,ey;k,s;!im;ib;a08e00iUlenToQrMuCyorgy;iHnFsC;!taC;f,vC;!e,o;n6tC;er,h2;do,lC;herDlC;auCerQ;me;aEegCov2;!g,orC;!io,y;dy,h7C;dfr9nza3XrDttfC;ri6C;an,d47;!n;acoGlEno,oCuseppe;rgiCvan6O;!o,s;be6Ies,lC;es;mo;oFrC;aDha4HrC;it,y;ld,rd8;ffErgC;!e7iCy;!os;!r9;bElBrCv3;eCla1Nr4Hth,y;th;e,rC;e3YielC;!i4;aXeSiQlOorrest,rCyod2E;aHedFiC;edDtC;s,z;ri18;!d42eri11riC;ck,k;nCs2;cEkC;ie,lC;in,yn;esLisC;!co,z3M;etch2oC;ri0yd;d5lConn;ip;deriFliEng,rC;dinaCg4nan0B;nd8;pe,x;co;bCdi,hd;iEriC;ce,zC;io;an,en,o;benez2dZfrYit0lTmMnJo3rFsteb0th0ugenEvCymBzra;an,eCge4D;ns,re3K;!e;gi,iDnCrol,v3w3;est8ie,st;cCk;!h,k;o0DriCzo;co,qC;ue;aHerGiDmC;aGe3A;lCrh0;!iC;a10o,s;s1y;nu5;beAd1iEliDm2t1viCwood;n,s;ot28s;!as,j5Hot,sC;ha;a3en;!dGg6mFoDua2QwC;a2Pin;arC;do;oZuZ;ie;a04eTiOmitrNoFrag0uEwDylC;an,l0;ay3Hig4D;a3Gdl9nc0st3;minFnDri0ugCvydGy2S;!lF;!a36nCov0;e1Eie,y;go,iDykC;as;cCk;!k;i,y;armuFetDll1mitri7neCon,rk;sh;er,m6riC;ch;id;andLepak,j0lbeAmetri4nIon,rGsEvDwCxt2;ay30ey;en,in;hawn,moC;nd;ek,riC;ck;is,nC;is,y;rt;re;an,le,mKnIrEvC;e,iC;!d;en,iEne0PrCyl;eCin,yl;l45n;n,o,us;!iCny;el,lo;iCon;an,en,on;a0Fe0Ch03iar0lRoJrFuDyrC;il,us;rtC;!is;aEistC;iaCob12;no;ig;dy,lInErC;ey,neliCy;s,us;nEor,rDstaC;nt3;ad;or;by,e,in,l3t1;aHeEiCyde;fCnt,ve;fo0Xt1;menDt4;us;s,t;rFuDyC;!t1;dCs;e,io;enC;ce;aHeGrisC;!toC;phCs;!eC;!r;st2t;d,rCs;b5leC;s,y;cDdrCs6;ic;il;lHmFrC;ey,lDroCy;ll;!o7t1;er1iC;lo;!eb,v3;a09eZiVjorn,laUoSrEuCyr1;ddy,rtKst2;er;aKeFiEuDyC;an,ce,on;ce,no;an,ce;nDtC;!t;dDtC;!on;an,on;dFnC;dDisC;lav;en,on;!foOl9y;bby,gd0rCyd;is;i0Lke;bElDshC;al;al,lL;ek;nIrCshoi;at,nEtC;!raC;m,nd;aDhaCie;rd;rd8;!iDjam3nCs1;ie,y;to;kaMlazs,nHrC;n9rDtC;!holomew;eCy;tt;ey;dCeD;ar,iC;le;ar1Nb1Dd16fon15gust3hm12i0Zja0Yl0Bm07nTputsiSrGsaFugustEveDyCziz;a0kh0;ry;o,us;hi;aMchiKiJjun,mHnEon,tCy0;em,hCie,ur8;ur;aDoC;!ld;ud,v;aCin;an,nd8;!el,ki;baCe;ld;ta;aq;aMdHgel8tCw6;hoFoC;iDnC;!i8y;ne;ny;er7rCy;eDzC;ej;!as,i,j,s,w;!s;s,tolC;iCy;!y;ar,iEmaCos;nu5r;el;ne,r,t;aVbSdBeJfHiGl01onFphonsEt1vC;aPin;on;e,o;so,zo;!sR;!onZrC;ed;c,jaHksFssaHxC;!andC;er,rC;e,os,u;andCei;ar,er,r;ndC;ro;en;eDrecC;ht;rt8;dd3in,n,sC;taC;ir;ni;dDm6;ar;an,en;ad,eC;d,t;in;so;aGi,olErDvC;ik;ian8;f8ph;!o;mCn;!a;dGeFraDuC;!bakr,lfazl;hCm;am;!l;allFel,oulaye,ulC;!lDrahm0;an;ah,o;ah;av,on",Uncountable:"true¦0:2E;1:2L;2:33;a2Ub2Lc29d22e1Rf1Ng1Eh16i11j0Yk0Wl0Rm0Hn0Do0Cp03rZsLt9uran2Jv7w3you gu0E;a5his17i4oo3;d,l;ldlife,ne;rm8t1;apor,ernacul29i3;neg28ol1Otae;eDhBiAo8r4un3yranny;a,gst1B;aff2Oea1Ko4ue nor3;th;o08u3;bleshoot2Ose1Tt;night,othpas1Vwn3;foEsfoE;me off,n;er3und1;e,mod2S;a,nnis;aDcCeBhAi9ki8o7p6t4u3weepstak0;g1Unshi2Hshi;ati08e3;am,el;ace2Keci0;ap,cc1meth2C;n,ttl0;lk;eep,ingl0or1C;lf,na1Gri0;ene1Kisso1C;d0Wfe2l4nd,t3;i0Iurn;m1Ut;abi0e4ic3;e,ke15;c3i01laxa11search;ogni10rea10;a9e8hys7luto,o5re3ut2;amble,mis0s3ten20;en1Zs0L;l3rk;i28l0EyH; 16i28;a24tr0F;nt3ti0M;i0s;bstetri24vercrowd1Qxyg09;a5e4owada3utella;ys;ptu1Ows;il poliZtional securi2;aAe8o5u3;m3s1H;ps;n3o1K;ey,o3;gamy;a3cha0Elancholy,rchandi1Htallurgy;sl0t;chine3g1Aj1Hrs,thema1Q; learn1Cry;aught1e6i5ogi4u3;ck,g12;c,s1M;ce,ghtn18nguis1LteratWv1;ath1isVss;ara0EindergartPn3;icke0Aowled0Y;e3upit1;a3llyfiGwel0G;ns;ce,gnor6mp5n3;forma00ter3;net,sta07;atiSort3rov;an18;a7e6isto09o3ung1;ckey,mework,ne4o3rseradi8spitali2use arrest;ky;s2y;adquarteXre;ir,libut,ppiHs3;hi3te;sh;ene8l6o5r3um,ymnas11;a3eZ;niUss;lf,re;ut3yce0F;en; 3ti0W;edit0Hpo3;ol;aNicFlour,o4urnit3;ure;od,rgive3uri1wl;ness;arCcono0LducaBlectr9n7quip8thi0Pvery6x3;ist4per3;ti0B;en0J;body,o08th07;joy3tertain3;ment;ici2o3;ni0H;tiS;nings,th;emi02i6o4raugh3ynas2;ts;pe,wnstai3;rs;abet0ce,s3;honZrepu3;te;aDelciChAivi07l8o3urrency;al,ld w6mmenta5n3ral,ttIuscoB;fusiHt 3;ed;ry;ar;assi01oth0;es;aos,e3;eMwK;us;d,rO;a8i6lood,owlHread5u3;ntGtt1;er;!th;lliarJs3;on;g3ss;ga3;ge;cKdviJeroGirFmBn6ppeal court,r4spi3thleL;rin;ithmet3sen3;ic;i6y3;o4th3;ing;ne;se;en5n3;es2;ty;ds;craft;bi8d3nau7;yna3;mi6;ce;id,ous3;ti3;cs",Infinitive:"true¦0:9G;1:9T;2:AD;3:90;4:9Z;5:84;6:AH;7:A9;8:92;9:A0;A:AG;B:AI;C:9V;D:8R;E:8O;F:97;G:6H;H:7D;a94b8Hc7Jd68e4Zf4Mg4Gh4Ai3Qj3Nk3Kl3Bm34nou48o2Vp2Equ2Dr1Es0CtZuTvRwI;aOeNiLors5rI;eJiI;ng,te;ak,st3;d5e8TthI;draw,er;a2d,ep;i2ke,nIrn;d1t;aIie;liADniAry;nJpI;ho8Llift;cov1dJear8Hfound8DlIplug,rav82tie,ve94;eaAo3X;erIo;cut,go,staAFvalA3w2G;aSeQhNoMrIu73;aIe72;ffi3Smp3nsI;aBfo7CpI;i8oD;pp3ugh5;aJiJrIwaD;eat5i2;nk;aImA0;ch,se;ck3ilor,keImp1r8L;! paD;a0Ic0He0Fh0Bi0Al08mugg3n07o05p02qu01tUuLwI;aJeeIim;p,t5;ll7Wy;bNccMffLggeCmmKppJrI;mouFpa6Zvi2;o0re6Y;ari0on;er,i4;e7Numb;li9KmJsiIveD;de,st;er9it;aMe8MiKrI;ang3eIi2;ng27w;fIng;f5le;b,gg1rI;t3ve;a4AiA;a4UeJit,l7DoI;il,of;ak,nd;lIot7Kw;icEve;atGeak,i0O;aIi6;m,y;ft,ng,t;aKi6CoJriIun;nk,v6Q;ot,rt5;ke,rp5tt1;eIll,nd,que8Gv1w;!k,m;aven9ul8W;dd5tis1Iy;a0FeKiJoI;am,t,ut;d,p5;a0Ab08c06d05f01group,hea00iZjoi4lXmWnVpTq3MsOtMup,vI;amp,eJiIo3B;sEve;l,rI;e,t;i8rI;ie2ofE;eLiKpo8PtIurfa4;o24rI;aHiBuctu8;de,gn,st;mb3nt;el,hra0lIreseF;a4e71;d1ew,o07;aHe3Fo2;a7eFiIo6Jy;e2nq41ve;mbur0nf38;r0t;inKleBocus,rJuI;el,rbiA;aBeA;an4e;aBu4;ei2k8Bla43oIyc3;gni39nci3up,v1;oot,uI;ff;ct,d,liIp;se,ze;tt3viA;aAenGit,o7;aWerUinpoiFlumm1LoTrLuI;b47ke,niArIt;poDsuI;aFe;eMoI;cKd,fe4XhibEmo7noJpo0sp1tru6vI;e,i6o5L;un4;la3Nu8;aGclu6dJf1occupy,sup0JvI;a6BeF;etermi4TiB;aGllu7rtr5Ksse4Q;cei2fo4NiAmea7plex,sIva6;eve8iCua6;mp1rItrol,ve;a6It6E;bOccuNmEpMutLverIwe;l07sJtu6Yu0wI;helm;ee,h1F;gr5Cnu2Cpa4;era7i4Ipo0;py,r;ey,seItaH;r2ss;aMe0ViJoIultiply;leCu6Pw;micJnIspla4;ce,g3us;!k;iIke,na9;m,ntaH;aPeLiIo0u3N;ke,ng1quIv5;eIi6S;fy;aKnIss5;d,gI;th5;rn,ve;ng2Gu1N;eep,idnJnI;e4Cow;ap;oHuI;gg3xtaI;po0;gno8mVnIrk;cTdRfQgeChPitia7ju8q1CsNtKun6EvI;a6eIo11;nt,rt,st;erJimi6BoxiPrI;odu4u6;aBn,pr03ru6C;iCpi8tIu8;all,il,ruB;abEibE;eCo3Eu0;iIul9;ca7;i7lu6;b5Xmer0pI;aLer4Uin9ly,oJrI;e3Ais6Bo2;rt,se,veI;riA;le,rt;aLeKiIoiCuD;de,jaInd1;ck;ar,iT;mp1ng,pp5raIve;ng5Mss;ath1et,iMle27oLrI;aJeIow;et;b,pp3ze;!ve5A;gg3ve;aTer45i5RlSorMrJuI;lf4Cndrai0r48;eJiIolic;ght5;e0Qsh5;b3XeLfeEgJsI;a3Dee;eIi2;!t;clo0go,shIwa4Z;ad3F;att1ee,i36;lt1st5;a0OdEl0Mm0FnXquip,rWsVtGvTxI;aRcPeDhOiNpJtIu6;ing0Yol;eKi8lIo0un9;aHoI;it,re;ct,di7l;st,t;a3oDu3B;e30lI;a10u6;lt,mi28;alua7oI;ke,l2;chew,pou0tab19;a0u4U;aYcVdTfSgQhan4joy,lPqOrNsuMtKvI;e0YisI;a9i50;er,i4rI;aHenGuC;e,re;iGol0F;ui8;ar9iC;a9eIra2ulf;nd1;or4;ang1oIu8;r0w;irc3lo0ou0ErJuI;mb1;oaGy4D;b3ct;bKer9pI;hasiIow1;ze;aKody,rI;a4oiI;d1l;lm,rk;ap0eBuI;ci40de;rIt;ma0Rn;a0Re04iKo,rIwind3;aw,ed9oI;wn;agno0e,ff1g,mi2Kne,sLvI;eIul9;rIst;ge,t;aWbVcQlod9mant3pNru3TsMtI;iIoDu37;lJngI;uiA;!l;ol2ua6;eJlIo0ro2;a4ea0;n0r0;a2Xe36lKoIu0S;uIv1;ra9;aIo0;im;a3Kur0;b3rm;af5b01cVduBep5fUliTmQnOpMrLsiCtaGvI;eIol2;lop;ch;a20i2;aDiBloIoD;re,y;oIy;te,un4;eJoI;liA;an;mEv1;a4i0Ao06raud,y;ei2iMla8oKrI;ee,yI;!pt;de,mIup3;missi34po0;de,ma7ph1;aJrief,uI;g,nk;rk;mp5rk5uF;a0Dea0h0Ai09l08oKrIurta1G;a2ea7ipp3uI;mb3;ales4e04habEinci6ll03m00nIrro6;cXdUfQju8no7qu1sLtKvI;eIin4;ne,r9y;aHin2Bribu7;er2iLoli2Epi8tJuI;lt,me;itu7raH;in;d1st;eKiJoIroFu0;rm;de,gu8rm;ss;eJoI;ne;mn,n0;eIlu6ur;al,i2;buCe,men4pI;eIi3ly;l,te;eBi6u6;r4xiC;ean0iT;rcumveFte;eJirp,oI;o0p;riAw;ncIre5t1ulk;el;a02eSi6lQoPrKuI;iXrIy;st,y;aLeaKiJoad5;en;ng;stfeLtX;ke;il,l11mba0WrrMth1;eIow;ed;!coQfrie1LgPhMliLqueaKstJtrIwild1;ay;ow;th;e2tt3;a2eJoI;ld;ad;!in,ui3;me;bysEckfi8ff3tI;he;b15c0Rd0Iff0Ggree,l0Cm09n03ppZrXsQttOuMvJwaE;it;eDoI;id;rt;gIto0X;meF;aIeCraB;ch,in;pi8sJtoI;niA;aKeIi04u8;mb3rt,ss;le;il;re;g0Hi0ou0rI;an9i2;eaKly,oiFrI;ai0o2;nt;r,se;aMi0GnJtI;icipa7;eJoIul;un4y;al;ly0;aJu0;se;lga08ze;iKlI;e9oIu6;t,w;gn;ix,oI;rd;a03jNmiKoJsoI;rb;pt,rn;niIt;st1;er;ouJuC;st;rn;cLhie2knowled9quiItiva7;es4re;ce;ge;eQliOoKrJusI;e,tom;ue;mIst;moJpI;any,liA;da7;ma7;te;pt;andPduBet,i6oKsI;coKol2;ve;liArt,uI;nd;sh;de;ct;on",Person:"true¦0:1Q;a29b1Zc1Md1Ee18f15g13h0Ri0Qj0Nk0Jl0Gm09n06o05p00rPsItCusain bolt,v9w4xzibit,y1;anni,oko on2uji,v1;an,es;en,o;a3ednesday adams,i2o1;lfram,o0Q;ll ferrell,z khalifa;lt disn1Qr1;hol,r0G;a2i1oltai06;n dies0Zrginia wo17;lentino rossi,n goG;a4h3i2ripp,u1yra banks;lZpac shakur;ger woods,mba07;eresa may,or;kashi,t1ylor;um,ya1B;a5carlett johanss0h4i3lobodan milosevic,no2ocr1Lpider1uperm0Fwami; m0Em0E;op dogg,w whi1H;egfried,nbad;akespeaTerlock holm1Sia labeouf;ddam hussa16nt1;a cla11ig9;aAe6i5o3u1za;mi,n dmc,paul,sh limbau1;gh;bin hood,d stew16nald1thko;in0Mo;han0Yngo starr,valdo;ese witherspo0i1mbrandt;ll2nh1;old;ey,y;chmaninoff,ffi,iJshid,y roma1H;a4e3i2la16o1uff daddy;cahont0Ie;lar,p19;le,rZ;lm17ris hilt0;leg,prah winfr0Sra;a2e1iles cra1Bostradam0J; yo,l5tt06wmQ;pole0s;a5e4i2o1ubar03;by,lie5net,rriss0N;randa ju1tt romn0M;ly;rl0GssiaB;cklemo1rkov,s0ta hari,ya angelou;re;ady gaga,e1ibera0Pu;bron jam0Xch wale1e;sa;anye west,e3i1obe bryant;d cudi,efer suther1;la0P;ats,sha;a2effers0fk,k rowling,rr tolki1;en;ck the ripp0Mwaharlal nehru,y z;liTnez,ron m7;a7e5i3u1;lk hog5mphrey1sa01;! bog05;l1tl0H;de; m1dwig,nry 4;an;ile selassFlle ber4m3rrison1;! 1;ford;id,mo09;ry;ast0iannis,o1;odwPtye;ergus0lorence nightinga08r1;an1ederic chopN;s,z;ff5m2nya,ustaXzeki1;el;eril lagasse,i1;le zatop1nem;ek;ie;a6e4i2octor w1rake;ho;ck w1ego maradoC;olf;g1mi lovaOnzel washingt0;as;l1nHrth vadR;ai lNt0;a8h5lint0o1thulhu;n1olio;an,fuci1;us;on;aucKop2ristian baMy1;na;in;millo,ptain beefhe4r1;dinal wols2son1;! palmF;ey;art;a8e5hatt,i3oHro1;ck,n1;te;ll g1ng crosby;atB;ck,nazir bhut2rtil,yon1;ce;to;nksy,rack ob1;ama;l 6r3shton kutch2vril lavig8yn ra1;nd;er;chimed2istot1;le;es;capo2paci1;no;ne",Adjective:"true¦0:AI;1:BS;2:BI;3:BA;4:A8;5:84;6:AV;7:AN;8:AF;9:7H;A:BQ;B:AY;C:BC;D:BH;E:9Y;aA2b9Ec8Fd7We79f6Ng6Eh61i4Xj4Wk4Tl4Im41n3Po36p2Oquart7Pr2Ds1Dt14uSvOwFye29;aMeKhIiHoF;man5oFrth7G;dADzy;despreB1n w97s86;acked1UoleF;!sa6;ather1PeFll o70ste1D;!k5;nt1Ist6Ate4;aHeGiFola5T;bBUce versa,gi3Lle;ng67rsa5R;ca1gBSluAV;lt0PnLpHrGsFttermoBL;ef9Ku3;b96ge1; Hb32pGsFtiAH;ca6ide d4R;er,i85;f52to da2;a0Fbeco0Hc0Bd04e02f01gu1XheaBGiXkn4OmUnTopp06pRrNsJtHus0wF;aFiel3K;nt0rra0P;app0eXoF;ld,uS;eHi37o5ApGuF;perv06spec39;e1ok9O;en,ttl0;eFu5;cogn06gul2RlGqu84sF;erv0olv0;at0en33;aFrecede0E;id,rallel0;am0otic0;aFet;rri0tF;ch0;nFq26vers3;sur0terFv7U;eFrupt0;st0;air,inish0orese98;mploy0n7Ov97xpF;ect0lain0;eHisFocume01ue;clFput0;os0;cid0rF;!a8Scov9ha8Jlyi8nea8Gprivileg0sMwF;aFei9I;t9y;hGircumcFonvin2U;is0;aFeck0;lleng0rt0;b20ppea85ssuGttend0uthorF;iz0;mi8;i4Ara;aLeIhoHip 25oGrF;anspare1encha1i2;geth9leADp notch,rpB;rny,ugh6H;ena8DmpGrFs6U;r49tia4;eCo8P;leFst4M;nt0;a0Dc09e07h06i04ki03l01mug,nobbi4XoVpRqueami4XtKuFymb94;bHccinAi generis,pFr5;erFre7N;! dup9b,vi70;du0li7Lp6IsFurb7J;eq9Atanda9X;aKeJi16o2QrGubboFy4Q;rn;aightFin5GungS; fFfF;or7V;adfa9Pri6;lwa6Ftu82;arHeGir6NlendBot Fry;on;c3Qe1S;k5se; call0lImb9phistic16rHuFviV;ndFth1B;proof;dBry;dFub6; o2A;e60ipF;pe4shod;ll0n d7R;g2HnF;ceEg6ist9;am3Se9;co1Zem5lfFn6Are7; suf4Xi43;aGholFient3A;ar5;rlFt4A;et;cr0me,tisfac7F;aOeIheumatoBiGoF;bu8Ztt7Gy3;ghtFv3; 1Sf6X;cJdu8PlInown0pro69sGtF;ard0;is47oF;lu2na1;e1Suc45;alcit8Xe1ondi2;bBci3mpa1;aSePicayu7laOoNrGuF;bl7Tnjabi;eKiIoF;b7VfGmi49pFxi2M;er,ort81;a7uD;maFor,sti7va2;!ry;ciDexis0Ima2CpaB;in55puli8G;cBid;ac2Ynt 3IrFti2;ma40tFv7W;!i3Z;i2YrFss7R;anoBtF; 5XiF;al,s5V;bSffQkPld OnMrLth9utKverF;!aIbMdHhGni75seas,t,wF;ei74rou74;a63e7A;ue;ll;do1Ger,si6A;d3Qg2Aotu5Z; bFbFe on o7g3Uli7;oa80;fashion0school;!ay; gua7XbFha5Uli7;eat;eHligGsF;ce7er0So1C;at0;diFse;a1e1;aOeNiMoGuF;anc0de; moEnHrthFt6V;!eFwe7L;a7Krn;chaGdescri7Iprof30sF;top;la1;ght5;arby,cessa4ighbor5wlyw0xt;k0usiaFv3;ti8;aQeNiLoHuF;dIltiF;facet0p6;deHlGnFot,rbBst;ochro4Xth5;dy;rn,st;ddle ag0nF;dbloZi,or;ag9diocEga,naGrFtropolit4Q;e,ry;ci8;cIgenta,inHj0Fkeshift,mmGnFri4Oscu61ver18;da5Dy;ali4Lo4U;!stream;abEho;aOeLiIoFumberi8;ngFuti1R;stan3RtF;erm,i4H;ghtGteraF;l,ry,te;heart0wei5O;ft JgFss9th3;al,eFi0M;nda4;nguBps0te5;apGind5noF;wi8;ut;ad0itte4uniW;ce co0Hgno6Mll0Cm04nHpso 2UrF;a2releF;va1; ZaYcoWdReQfOgrNhibi4Ri05nMoLsHtFvalu5M;aAeF;nDrdepe2K;a7iGolFuboI;ub6ve1;de,gF;nifica1;rdi5N;a2er;own;eriIiLluenVrF;ar0eq5H;pt,rt;eHiGoFul1O;or;e,reA;fiFpe26termi5E;ni2;mpFnsideCrreA;le2;ccuCdeq5Ene,ppr4J;fFsitu,vitro;ro1;mJpF;arHeGl15oFrop9;li2r11;n2LrfeA;ti3;aGeFi18;d4BnD;tuE;egGiF;c0YteC;al,iF;tiF;ma2;ld;aOelNiLoFuma7;a4meInHrrGsFur5;ti6;if4E;e58o3U; ma3GsF;ick;ghfalut2HspF;an49;li00pf33;i4llow0ndGrdFtM; 05coEworki8;sy,y;aLener44iga3Blob3oKrGuF;il1Nng ho;aFea1Fizzl0;cGtF;ef2Vis;ef2U;ld3Aod;iFuc2D;nf2R;aVeSiQlOoJrF;aGeFil5ug3;q43tf2O;gFnt3S;i6ra1;lk13oHrF; keeps,eFge0Vm9tu41;g0Ei2Ds3R;liF;sh;ag4Mowe4uF;e1or45;e4nF;al,i2;d Gmini7rF;ti6ve1;up;bl0lDmIr Fst pac0ux;oGreacF;hi8;ff;ed,ili0R;aXfVlTmQnOqu3rMthere3veryday,xF;aApIquisi2traHuF;be48lF;ta1;!va2L;edRlF;icF;it;eAstF;whi6; Famor0ough,tiE;rou2sui2;erGiF;ne1;ge1;dFe2Aoq34;er5;ficF;ie1;g9sF;t,ygF;oi8;er;aWeMiHoGrFue;ea4owY;ci6mina1ne,r31ti8ubQ;dact2Jfficult,m,sGverF;ge1se;creGePjoi1paCtF;a1inA;et,te; Nadp0WceMfiLgeneCliJmuEpeIreliAsGvoF;id,ut;pFtitu2ul1L;eCoF;nde1;ca2ghF;tf13;a1ni2;as0;facto;i5ngero0I;ar0Ce09h07i06l05oOrIuF;rmudgeon5stoma4teF;sy;ly;aIeHu1EystalF; cleFli7;ar;epy;fFv17z0;ty;erUgTloSmPnGrpoCunterclVveFy;rt;cLdJgr21jIsHtrF;aFi2;dic0Yry;eq1Yta1;oi1ug3;escenFuN;di8;a1QeFiD;it0;atoDmensuCpF;ass1SulF;so4;ni3ss3;e1niza1;ci1J;ockwiD;rcumspeAvil;eFintzy;e4wy;leGrtaF;in;ba2;diac,ef00;a00ePiLliJoGrFuck nak0;and new,isk,on22;gGldface,naF; fi05fi05;us;nd,tF;he;gGpartisFzarE;an;tiF;me;autifOhiNlLnHsFyoN;iWtselF;li8;eGiFt;gn;aFfi03;th;at0oF;v0w;nd;ul;ckwards,rF;e,rT; priori,b13c0Zd0Tf0Ng0Ihe0Hl09mp6nt06pZrTsQttracti0MuLvIwF;aGkF;wa1B;ke,re;ant garGeraF;ge;de;diIsteEtF;heFoimmu7;nt07;re;to4;hGlFtu2;eep;en;bitIchiv3roHtF;ifiFsy;ci3;ga1;ra4;ry;pFt;aHetizi8rF;oprF;ia2;llFre1;ed,i8;ng;iquFsy;at0e;ed;cohKiJkaHl,oGriFterX;ght;ne,of;li7;ne;ke,ve;olF;ic;ad;ain07gressiIi6rF;eeF;ab6;le;ve;fGraB;id;ectGlF;ue1;ioF;na2; JaIeGvF;erD;pt,qF;ua2;ma1;hoc,infinitum;cuCquiGtu3u2;al;esce1;ra2;erSjeAlPoNrKsGuF;nda1;e1olu2trF;aAuD;se;te;eaGuF;pt;st;aFve;rd;aFe;ze;ct;ra1;nt",Pronoun:"true¦elle,h3i2me,she,th0us,we,you;e0ou;e,m,y;!l,t;e,im",Preposition:"true¦aPbMcLdKexcept,fIinGmid,notwithstandiWoDpXqua,sCt7u4v2w0;/o,hereSith0;! whHin,oW;ersus,i0;a,s a vis;n1p0;!on;like,til;h1ill,oward0;!s;an,ereby,r0;ough0u;!oM;ans,ince,o that,uch G;f1n0ut;!to;!f;! 0to;effect,part;or,r0;om;espite,own,u3;hez,irca;ar1e0oBy;sides,tween;ri7;bo8cross,ft7lo6m4propos,round,s1t0;!op;! 0;a whole,long 0;as;id0ong0;!st;ng;er;ut",SportsTeam:"true¦0:18;1:1E;2:1D;3:14;a1Db15c0Sd0Kfc dallas,g0Ihouston 0Hindiana0Gjacksonville jagua0k0El0Am01new UoRpKqueens parkJreal salt lake,sBt6utah jazz,vancouver whitecaps,w4yW;ashington 4h10;natio1Mredski2wizar0W;ampa bay 7e6o4;ronto 4ttenham hotspur;blue ja0Mrapto0;nnessee tita2xasD;buccanee0ra0K;a8eattle 6porting kansas0Wt4; louis 4oke0V;c1Drams;marine0s4;eah13ounH;cramento Rn 4;antonio spu0diego 4francisco gJjose earthquak1;char08paB; ran07;a9h6ittsburgh 5ortland t4;imbe0rail blaze0;pirat1steele0;il4oenix su2;adelphia 4li1;eagl1philNunE;dr1;akland 4klahoma city thunder,rlando magic;athle0Lrai4;de0;england 8orleans 7york 4;g5je3knYme3red bul0Xy4;anke1;ian3;pelica2sain3;patrio3revolut4;ion;anchEeAi4ontreal impact;ami 8lwaukee b7nnesota 4;t5vi4;kings;imberwolv1wi2;rewe0uc0J;dolphi2heat,marli2;mphis grizz4ts;li1;a6eic5os angeles 4;clippe0dodFlaB;esterV; galaxy,ke0;ansas city 4nF;chiefs,roya0D; pace0polis col3;astr05dynamo,rocke3texa2;olden state warrio0reen bay pac4;ke0;allas 8e4i04od6;nver 6troit 4;lio2pisto2ti4;ge0;broncYnugge3;cowbo5maver4;icZ;ys;arEelLhAincinnati 8leveland 6ol4;orado r4umbus crew sc;api7ocki1;brow2cavalie0guar4in4;dia2;bengaVre4;ds;arlotte horAicago 4;b5cubs,fire,wh4;iteB;ea0ulQ;diff4olina panthe0; city;altimore Alackburn rove0oston 6rooklyn 4uffalo bilN;ne3;ts;cel5red4; sox;tics;rs;oriol1rave2;rizona Ast8tlanta 4;brav1falco2h4;awA;ns;es;on villa,r4;os;c6di4;amondbac4;ks;ardi4;na4;ls",Unit:"true¦a07b04cXdWexVfTgRhePinYjoule0BkMlJmDnan08oCp9quart0Bsq ft,t7volts,w6y2ze3°1µ0;g,s;c,f,n;dVear1o0;ttR; 0s 0;old;att,b;erNon0;!ne02;ascals,e1i0;cXnt00;rcent,tJ;hms,unceY;/s,e4i0m²,²,³;/h,cro2l0;e0liK;!²;grLsR;gCtJ;it1u0;menQx;erPreP;b5elvins,ilo1m0notO;/h,ph,²;!byGgrEmCs;ct0rtzL;aJogrC;allonJb0ig3rB;ps;a0emtEl oz,t4;hrenheit,radG;aby9;eci3m1;aratDe1m0oulombD;²,³;lsius,nti0;gr2lit1m0;et0;er8;am7;b1y0;te5;l,ps;c2tt0;os0;econd1;re0;!s","Noun|Gerund":"true¦0:3O;1:3M;2:3N;3:3D;4:32;5:2V;6:3E;7:3K;8:36;9:3J;A:3B;a3Pb37c2Jd27e23f1Vg1Sh1Mi1Ij1Gk1Dl18m13n11o0Wp0Pques0Sr0EsTtNunderMvKwFyDzB;eroi0oB;ni0o3P;aw2eB;ar2l3;aEed4hispe5i5oCrB;ap8est3i1;n0ErB;ki0r31;i1r2s9tc9;isualizi0oB;lunt1Vti0;stan4ta6;aFeDhin6iCraBy8;c6di0i2vel1M;mi0p8;aBs1;c9si0;l6n2s1;aUcReQhOiMkatKl2Wmo6nowJpeItFuCwB;ea5im37;b35f0FrB;fi0vB;e2Mi2J;aAoryt1KrCuB;d2KfS;etc9ugg3;l3n4;bCi0;ebBi0;oar4;gnBnAt1;a3i0;ip8oB;p8rte2u1;a1r27t1;hCo5reBulp1;a2Qe2;edu3oo3;i3yi0;aKeEi4oCuB;li0n2;oBwi0;fi0;aFcEhear7laxi0nDpor1sB;pon4tructB;r2Iu5;de5;or4yc3;di0so2;p8ti0;aFeacek20laEoCrBublis9;a1Teten4in1oces7;iso2siB;tio2;n2yi0;ckaAin1rB;ki0t1O;fEpeDrganiCvB;erco24ula1;si0zi0;ni0ra1;fe5;avi0QeBur7;gotia1twor6;aDeCi2oB;de3nito5;a2dita1e1ssaA;int0XnBrke1;ifUufactu5;aEeaDiBodAyi0;cen7f1mi1stB;e2i0;r2si0;n4ug9;iCnB;ea4it1;c6l3;ogAuB;dAgg3stif12;ci0llust0VmDnBro2;nova1sp0NterBven1;ac1vie02;agi2plo4;aDea1iCoBun1;l4w3;ki0ri0;nd3rB;roWvB;es1;aCene0Lli4rBui4;ee1ie0N;rde2the5;aHeGiDlCorBros1un4;e0Pmat1;ir1oo4;gh1lCnBs9;anZdi0;i0li0;e3nX;r0Zscina1;a1du01nCxB;erci7plo5;chan1di0ginB;ee5;aLeHiGoub1rCum8wB;el3;aDeCiB;bb3n6vi0;a0Qs7;wi0;rTscoDvi0;ba1coZlBvelo8;eCiB;ve5;ga1;nGti0;aVelebUhSlPoDrBur3yc3;aBos7yi0;f1w3;aLdi0lJmFnBo6pi0ve5;dDsCvinB;ci0;trBul1;uc1;muniDpB;lBo7;ai2;ca1;lBo5;ec1;c9ti0;ap8eaCimToBubT;ni0t9;ni0ri0;aBee5;n1t1;ra1;m8rCs1te5;ri0;vi0;aPeNitMlLoGrDuB;dge1il4llBr8;yi0;an4eat9oadB;cas1;di0;a1mEokB;i0kB;ee8;pi0;bi0;es7oa1;c9i0;gin2lonAt1;gi0;bysit1c6ki0tt3;li0;ki0;bando2cGdverti7gi0pproac9rgDssuCtB;trac1;mi0;ui0;hi0;si0;coun1ti0;ti0;ni0;ng",PhrasalVerb:"true¦0:92;1:96;2:8H;3:8V;4:8A;5:83;6:85;7:98;8:90;9:8G;A:8X;B:8R;C:8U;D:8S;E:70;F:97;G:8Y;H:81;I:7H;J:79;a9Fb7Uc6Rd6Le6Jf5Ig50h4Biron0j47k40l3Em31n2Yo2Wp2Cquiet Hr1Xs0KtZuXvacuu6QwNyammerBzK;ero Dip LonK;e0k0;by,ov9up;aQeMhLiKor0Mrit19;mp0n3Fpe0r5s5;ackAeel Di0S;aLiKn33;gh 3Wrd0;n Dr K;do1in,oJ;it 79k5lk Lrm 69sh Kt83v60;aw3do1o7up;aw3in,oC;rgeBsK;e 2herE;a00eYhViRoQrMuKypP;ckErn K;do1in,oJup;aLiKot0y 30;ckl7Zp F;ck HdK;e 5Y;n7Wp 3Es5K;ck MdLe Kghten 6me0p o0Rre0;aw3ba4do1in,up;e Iy 2;by,oG;ink Lrow K;aw3ba4in,up;ba4ov9up;aKe 77ll62;m 2r 5M;ckBke Llk K;ov9shit,u47;aKba4do1in,leave,o4Dup;ba4ft9pa69w3;a0Vc0Te0Mh0Ii0Fl09m08n07o06p01quar5GtQuOwK;earMiK;ngLtch K;aw3ba4o8K; by;cKi6Bm 2ss0;k 64;aReQiPoNrKud35;aigh2Det75iK;ke 7Sng K;al6Yup;p Krm2F;by,in,oG;c3Ln3Lr 2tc4O;p F;c3Jmp0nd LrKveAy 2O;e Ht 2L;ba4do1up;ar3GeNiMlLrKurB;ead0ingBuc5;a49it 6H;c5ll o3Cn 2;ak Fe1Xll0;a3Bber 2rt0und like;ap 5Vow Duggl5;ash 6Noke0;eep NiKow 6;cLp K;o6Dup;e 68;in,oK;ff,v9;de19gn 4NnKt 6Gz5;gKkE; al6Ale0;aMoKu5W;ot Kut0w 7M;aw3ba4f48oC;c2WdeEk6EveA;e Pll1Nnd Orv5tK; Ktl5J;do1foLin,o7upK;!on;ot,r5Z;aw3ba4do1in,o33up;oCto;al66out0rK;ap65ew 6J;ilAv5;aXeUiSoOuK;b 5Yle0n Kstl5;aLba4do1inKo2Ith4Nu5P;!to;c2Xr8w3;ll Mot LpeAuK;g3Ind17;a2Wf3Po7;ar8in,o7up;ng 68p oKs5;ff,p18;aKelAinEnt0;c6Hd K;o4Dup;c27t0;aZeYiWlToQrOsyc35uK;ll Mn5Kt K;aKba4do1in,oJto47up;pa4Dw3;a3Jdo1in,o21to45up;attleBess KiNop 2;ah2Fon;iLp Kr4Zu1Gwer 6N;do1in,o6Nup;nt0;aLuK;gEmp 6;ce u20y 6D;ck Kg0le 4An 6p5B;oJup;el 5NncilE;c53ir 39n0ss MtLy K;ba4oG; Hc2R;aw3ba4in,oJ;pKw4Y;e4Xt D;aLerd0oK;dAt53;il Hrrow H;aTeQiPoLuK;ddl5ll I;c1FnkeyMp 6uthAve K;aKdo1in,o4Lup;l4Nw3; wi4K;ss0x 2;asur5e3SlLss K;a21up;t 6;ke Ln 6rKs2Ax0;k 6ryA;do,fun,oCsure,up;a02eViQoLuK;ck0st I;aNc4Fg MoKse0;k Kse4D;aft9ba4do1forw37in56o0Zu46;in,oJ;d 6;e NghtMnLsKve 00;ten F;e 2k 2; 2e46;ar8do1in;aMt LvelK; oC;do1go,in,o7up;nEve K;in,oK;pKut;en;c5p 2sh LtchBughAy K;do1o59;in4Po7;eMick Lnock K;do1oCup;oCup;eLy K;in,up;l Ip K;aw3ba4do1f04in,oJto,up;aMoLuK;ic5mpE;ke3St H;c43zz 2;a01eWiToPuK;nLrrKsh 6;y 2;keLt K;ar8do1;r H;lKneErse3K;d Ke 2;ba4dKfast,o0Cup;ear,o1;de Lt K;ba4on,up;aw3o7;aKlp0;d Ml Ir Kt 2;fKof;rom;f11in,o03uW;cPm 2nLsh0ve Kz2P;at,it,to;d Lg KkerP;do1in,o2Tup;do1in,oK;ut,v9;k 2;aZeTive Rloss IoMrLunK; f0S;ab hold,in43ow 2U; Kof 2I;aMb1Mit,oLr8th1IuK;nd9;ff,n,v9;bo7ft9hQw3;aw3bKdo1in,oJrise,up,w3;a4ir2H;ar 6ek0t K;aLb1Fdo1in,oKr8up;ff,n,ut,v9;cLhKl2Fr8t,w3;ead;ross;d aKng 2;bo7;a0Ee07iYlUoQrMuK;ck Ke2N;ar8up;eLighten KownBy 2;aw3oG;eKshe27; 2z5;g 2lMol Krk I;aKwi20;bo7r8;d 6low 2;aLeKip0;sh0;g 6ke0mKrKtten H;e F;gRlPnNrLsKzzle0;h F;e Km 2;aw3ba4up;d0isK;h 2;e Kl 1T;aw3fPin,o7;ht ba4ure0;ePnLsK;s 2;cMd K;fKoG;or;e D;d04l 2;cNll Krm0t1G;aLbKdo1in,o09sho0Eth08victim;a4ehi2O;pa0C;e K;do1oGup;at Kdge0nd 12y5;in,o7up;aOi1HoNrK;aLess 6op KuN;aw3b03in,oC;gBwB; Ile0ubl1B;m 2;a0Ah05l02oOrLut K;aw3ba4do1oCup;ackBeep LoKy0;ss Dwd0;by,do1in,o0Uup;me NoLuntK; o2A;k 6l K;do1oG;aRbQforOin,oNtKu0O;hLoKrue;geth9;rough;ff,ut,v9;th,wK;ard;a4y;paKr8w3;rt;eaLose K;in,oCup;n 6r F;aNeLiK;ll0pE;ck Der Kw F;on,up;t 2;lRncel0rOsMtch LveE; in;o1Nup;h Dt K;doubt,oG;ry LvK;e 08;aw3oJ;l Km H;aLba4do1oJup;ff,n,ut;r8w3;a0Ve0MiteAl0Fo04rQuK;bblNckl05il0Dlk 6ndl05rLsKtMy FzzA;t 00;n 0HsK;t D;e I;ov9;anWeaUiLush K;oGup;ghQng K;aNba4do1forMin,oLuK;nd9p;n,ut;th;bo7lKr8w3;ong;teK;n 2;k K;do1in,o7up;ch0;arTg 6iRn5oPrNssMttlLunce Kx D;aw3ba4;e 6; ar8;e H;do1;k Dt 2;e 2;l 6;do1up;d 2;aPeed0oKurt0;cMw K;aw3ba4do1o7up;ck;k K;in,oC;ck0nk0stA; oQaNef 2lt0nd K;do1ov9up;er;up;r Lt K;do1in,oCup;do1o7;ff,nK;to;ck Pil0nMrgLsK;h D;ainBe D;g DkB; on;in,o7;aw3do1in,oCup;ff,ut;ay;ct FdQir0sk MuctionA; oG;ff;ar8o7;ouK;nd; o7;d K;do1oKup;ff,n;wn;o7up;ut",ProperNoun:"true¦abid,barbie,c3e2f1iron maiden,kirby,m0nis,riel;cgill,ercedes,issy;lorence,ranco;lmo,uro;atalina,hristi","Person|Place":"true¦a8d6h4jordan,k3orlando,s1vi0;ctor9rgin9;a0ydney;lvador,mara,ntia4;ent,obe;amil0ous0;ton;arw2ie0;go;lexandr1ust0;in;ia",LastName:"true¦0:BR;1:BF;2:B5;3:BH;4:AX;5:9Y;6:B6;7:BK;8:B0;9:AV;A:AL;B:8Q;C:8G;D:7K;E:BM;F:AH;aBDb9Zc8Wd88e81f7Kg6Wh64i60j5Lk4Vl4Dm39n2Wo2Op25quispe,r1Ls0Pt0Ev03wTxSyKzG;aIhGimmerm6A;aGou,u;ng,o;khar5ytsE;aKeun9BiHoGun;koya32shiBU;!lG;diGmaz;rim,z;maGng;da,g52mo83sGzaC;aChiBV;iao,u;aLeJiHoGright,u;jcA5lff,ng;lGmm0nkl0sniewsC;kiB1liams33s3;bGiss,lt0;b,er,st0;a6Vgn0lHtG;anabe,s3;k0sh,tG;e2Non;aLeKiHoGukD;gt,lk5roby5;dHllalGnogr3Kr1Css0val3S;ba,ob1W;al,ov4;lasHsel8W;lJn dIrgBEsHzG;qu7;ilyEqu7siljE;en b6Aijk,yk;enzueAIverde;aPeix1VhKi2j8ka43oJrIsui,uG;om5UrG;c2n0un1;an,emblA7ynisC;dorAMlst3Km4rrAth;atch0i8UoG;mHrG;are84laci79;ps3sG;en,on;hirDkah9Mnaka,te,varA;a06ch01eYhUiRmOoMtIuHvGzabo;en9Jobod3N;ar7bot4lliv2zuC;aIeHoG;i7Bj4AyanAB;ele,in2FpheBvens25;l8rm0;kol5lovy5re7Tsa,to,uG;ng,sa;iGy72;rn5tG;!h;l71mHnGrbu;at9cla9Egh;moBo7M;aIeGimizu;hu,vchG;en8Luk;la,r1G;gu9infe5YmGoh,pulveA7rra5P;jGyG;on5;evi6iltz,miHneid0roed0uGwarz;be3Elz;dHtG;!t,z;!t;ar4Th8ito,ka4OlJnGr4saCto,unde19v4;ch7dHtGz;a5Le,os;b53e16;as,ihDm4Po0Y;aVeSiPoJuHyG;a6oo,u;bio,iz,sG;so,u;bKc8Fdrigue67ge10j9YmJosevelt,sItHux,wG;e,li6;a9Ch;enb4Usi;a54e4L;erts15i93;bei4JcHes,vGzzo;as,e9;ci,hards12;ag2es,iHut0yG;es,nol5N;s,t0;dImHnGsmu97v6C;tan1;ir7os;ic,u;aUeOhMiJoHrGut8;asad,if6Zochazk27;lishc2GpGrti72u10we76;e3Aov51;cHe45nG;as,to;as70hl0;aGillips;k,m,n6I;a3Hde3Wete0Bna,rJtG;ersHrovGters54;!a,ic;!en,on;eGic,kiBss3;i9ra,tz,z;h86k,padopoulIrk0tHvG;ic,l4N;el,te39;os;bMconn2Ag2TlJnei6PrHsbor6XweBzG;dem7Rturk;ella4DtGwe6N;ega,iz;iGof7Hs8I;vGyn1R;ei9;aSri1;aPeNiJoGune50ym2;rHvGwak;ak4Qik5otn66;odahl,r4S;cholsZeHkolGls4Jx3;ic,ov84;ls1miG;!n1;ils3mG;co4Xec;gy,kaGray2sh,var38;jiGmu9shiG;ma;a07c04eZiWoMuHyeG;rs;lJnIrGssoli6S;atGp03r7C;i,ov4;oz,te58;d0l0;h2lOnNo0RrHsGza1A;er,s;aKeJiIoz5risHtG;e56on;!on;!n7K;au,i9no,t5J;!lA;r1Btgome59;i3El0;cracFhhail5kkeHlG;l0os64;ls1;hmeJiIj30lHn3Krci0ssiGyer2N;!er;n0Po;er,j0;dDti;cartHlG;aughl8e2;hy;dQe7Egnu68i0jer3TkPmNnMrItHyG;er,r;ei,ic,su21thews;iHkDquAroqu8tinG;ez,s;a5Xc,nG;!o;ci5Vn;a5UmG;ad5;ar5e6Kin1;rig77s1;aVeOiLoJuHyG;!nch;k4nGo;d,gu;mbarGpe3Fvr4we;di;!nGu,yana2B;coln,dG;b21holm,strom;bedEfeKhIitn0kaHn8rGw35;oy;!j;m11tG;in1on1;bvGvG;re;iGmmy,ng,rs2Qu,voie,ws3;ne,t1F;aZeYh2iWlUnez50oNrJuHvar2woG;k,n;cerGmar68znets5;a,o34;aHem0isGyeziu;h23t3O;m0sni4Fus3KvG;ch4O;bay57ch,rh0Usk16vaIwalGzl5;czGsC;yk;cIlG;!cGen4K;huk;!ev4ic,s;e8uiveG;rt;eff0kGl4mu9nnun1;ucF;ll0nnedy;hn,llKminsCne,pIrHstra3Qto,ur,yGzl5;a,s0;j0Rls22;l2oG;or;oe;aPenOha6im14oHuG;ng,r4;e32hInHrge32u6vG;anD;es,ss3;anHnsG;en,on,t3;nesGs1R;en,s1;kiBnings,s1;cJkob4EnGrv0E;kDsG;en,sG;en0Ion;ks3obs2A;brahimDglesi5Nke5Fl0Qno07oneIshikHto,vanoG;u,v54;awa;scu;aVeOiNjaltal8oIrist50uG;!aGb0ghAynh;m2ng;a6dz4fIjgaa3Hk,lHpUrGwe,x3X;ak1Gvat;mAt;er,fm3WmG;ann;ggiBtchcock;iJmingw4BnHrGss;nand7re9;deGriks1;rs3;kkiHnG;on1;la,n1;dz4g1lvoQmOns0ZqNrMsJuIwHyG;asFes;kiB;g1ng;anHhiG;mo14;i,ov0J;di6p0r10t;ue;alaG;in1;rs1;aVeorgUheorghe,iSjonRoLrJuGw3;errGnnar3Co,staf3Ctierr7zm2;a,eG;ro;ayli6ee2Lg4iffithGub0;!s;lIme0UnHodGrbachE;e,m2;calvAzale0S;dGubE;bGs0E;erg;aj,i;bs3l,mGordaO;en7;iev3U;gnMlJmaIndFo,rGsFuthi0;cGdn0za;ia;ge;eaHlG;agh0i,o;no;e,on;aVerQiLjeldsted,lKoIrHuG;chs,entAji41ll0;eem2iedm2;ntaGrt8urni0wl0;na;emi6orA;lipIsHtzgeraG;ld;ch0h0;ovG;!ic;hatDnanIrG;arGei9;a,i;deY;ov4;b0rre1D;dKinsJriksIsGvaB;cob3GpGtra3D;inoza,osiQ;en,s3;te8;er,is3warG;ds;aXePiNjurhuMoKrisco15uHvorakG;!oT;arte,boHmitru,nn,rGt3C;and,ic;is;g2he0Omingu7nErd1ItG;to;us;aGcki2Hmitr2Ossanayake,x3;s,z; JbnaIlHmirGrvisFvi,w2;!ov4;gado,ic;th;bo0groot,jo6lHsilGvriA;va;a cruz,e3uG;ca;hl,mcevsCnIt2WviG;dGes,s;ov,s3;ielsGku22;!en;ki;a0Be06hRiobQlarkPoIrGunningh1H;awfo0RivGuz;elli;h1lKntJoIrGs2Nx;byn,reG;a,ia;ke,p0;i,rer2K;em2liB;ns;!e;anu;aOeMiu,oIristGu6we;eGiaG;ns1;i,ng,p9uHwGy;!dH;dGng;huJ;!n,onGu6;!g;kJnIpm2ttHudhGv7;ry;erjee,o14;!d,g;ma,raboG;rty;bJl0Cng4rG;eghetHnG;a,y;ti;an,ota1C;cerAlder3mpbeLrIstGvadi0B;iGro;llo;doHl0Er,t0uGvalho;so;so,zo;ll;a0Fe01hYiXlUoNrKuIyG;rLtyG;qi;chan2rG;ke,ns;ank5iem,oGyant;oks,wG;ne;gdan5nIruya,su,uchaHyKziG;c,n5;rd;darGik;enG;ko;ov;aGond15;nco,zG;ev4;ancFshw16;a08oGuiy2;umGwmG;ik;ckRethov1gu,ktPnNrG;gJisInG;ascoGds1;ni;ha;er,mG;anG;!n;gtGit7nP;ss3;asF;hi;er,hG;am;b4ch,ez,hRiley,kk0ldw8nMrIshHtAu0;es;ir;bInHtlGua;ett;es,i0;ieYosa;dGik;a9yoG;padhyG;ay;ra;k,ng;ic;bb0Acos09d07g04kht05lZnPrLsl2tJyG;aHd8;in;la;chis3kiG;ns3;aImstro6sl2;an;ng;ujo,ya;dJgelHsaG;ri;ovG;!a;ersJov,reG;aGjEws;ss1;en;en,on,s3;on;eksejEiyEmeiIvG;ar7es;ez;da;ev;arwHuilG;ar;al;ams,l0;er;ta;as",Ordinal:"true¦eBf7nin5s3t0zeroE;enDhir1we0;lfCn7;d,t3;e0ixt8;cond,vent7;et0th;e6ie7;i2o0;r0urt3;tie4;ft1rst;ight0lev1;e0h,ie1;en0;th",Cardinal:"true¦bEeBf5mEnine7one,s4t0zero;en,h2rDw0;e0o;lve,n5;irt6ousands,ree;even2ix2;i3o0;r1ur0;!t2;ty;ft0ve;e2y;ight0lev1;!e0y;en;illions",Multiple:"true¦b3hundred,m3qu2se1t0;housand,r2;pt1xt1;adr0int0;illion",City:"true¦0:74;1:61;2:6G;3:6J;4:5S;a68b53c4Id48e44f3Wg3Hh39i31j2Wk2Fl23m1Mn1Co19p0Wq0Ur0Os05tRuQvLwDxiBy9z5;a7h5i4Muri4O;a5e5ongsh0;ng3H;greb,nzib5G;ang2e5okoha3Sunfu;katerin3Hrev0;a5n0Q;m5Hn;arsBeAi6roclBu5;h0xi,zh5P;c7n5;d5nipeg,terth4;hoek,s1L;hi5Zkl3A;l63xford;aw;a8e6i5ladivost5Molgogr6L;en3lni6S;ni22r5;o3saill4N;lenc4Wncouv3Sr3ughn;lan bat1Crumqi,trecht;aFbilisi,eEheDiBo9r7u5;l21n63r5;in,ku;i5ondh62;es51poli;kyo,m2Zron1Pulo5;n,uS;an5jua3l2Tmisoa6Bra3;j4Tshui; hag62ssaloni2H;gucigal26hr0l av1U;briz,i6llinn,mpe56ng5rtu,shk2R;i3Esh0;an,chu1n0p2Eyu0;aEeDh8kopje,owe1Gt7u5;ra5zh4X;ba0Ht;aten is55ockholm,rasbou67uttga2V;an8e6i5;jiazhua1llo1m5Xy0;f50n5;ya1zh4H;gh3Kt4Q;att45o1Vv44;cramen16int ClBn5o paulo,ppo3Rrajevo; 7aa,t5;a 5o domin3E;a3fe,m1M;antonio,die3Cfrancisco,j5ped3Nsalvad0J;o5u0;se;em,t lake ci5Fz25;lou58peters24;a9e8i6o5;me,t59;ga,o5yadh;! de janei3F;cife,ims,nn3Jykjavik;b4Sip4lei2Inc2Pwalpindi;ingdao,u5;ez2i0Q;aFeEhDiCo9r7u6yong5;ya1;eb59ya1;a5etor3M;g52to;rt5zn0; 5la4Co;au prin0Melizabe24sa03;ls3Prae5Atts26;iladelph3Gnom pe1Aoenix;ki1r21tah tik3E;dua,lerYnaji,r4Ot5;na,r32;ak44des0Km1Mr6s5ttawa;a3Vlo;an,d06;a7ew5ing2Fovosibir1Jyc; 5cast36;del24orlea44taip14;g8iro4Wn5pl2Wshv33v0;ch6ji1t5;es,o1;a1o1;a6o5p4;ya;no,sa0W;aEeCi9o6u5;mb2Ani26sc3Y;gadishu,nt6s5;c13ul;evideo,pelli1Rre2Z;ami,l6n14s5;kolc,sissauga;an,waukee;cca,d5lbour2Mmph41ndo1Cssi3;an,ell2Xi3;cau,drAkass2Sl9n8r5shh4A;aca6ib5rakesh,se2L;or;i1Sy;a4EchFdal0Zi47;mo;id;aDeAi8o6u5vSy2;anMckn0Odhia3;n5s angel26;d2g bea1N;brev2Be3Lma5nz,sb2verpo28;!ss27; ma39i5;c5pzig;est16; p6g5ho2Wn0Cusan24;os;az,la33;aHharFiClaipeBo9rak0Du7y5;iv,o5;to;ala lump4n5;mi1sh0;hi0Hlka2Xpavog4si5wlo2;ce;da;ev,n5rkuk;gst2sha5;sa;k5toum;iv;bHdu3llakuric0Qmpa3Fn6ohsiu1ra5un1Iwaguc0Q;c0Pj;d5o,p4;ah1Ty;a7e6i5ohannesV;l1Vn0;dd36rusalem;ip4k5;ar2H;bad0mph1OnArkutUs7taXz5;mir,tapala5;pa;fah0l6tanb5;ul;am2Zi2H;che2d5;ianap2Mo20;aAe7o5yder2W; chi mi5ms,nolulu;nh;f6lsin5rakli2;ki;ei;ifa,lifax,mCn5rb1Dva3;g8nov01oi;aFdanEenDhCiPlasgBo9raz,u5;a5jr23;dal6ng5yaquil;zh1J;aja2Oupe;ld coa1Bthen5;bu2S;ow;ent;e0Uoa;sk;lw7n5za;dhi5gt1E;nag0U;ay;aisal29es,o8r6ukuya5;ma;ankfu5esno;rt;rt5sh0; wor6ale5;za;th;d5indhov0Pl paso;in5mont2;bur5;gh;aBe8ha0Xisp4o7resd0Lu5;b5esseldorf,nkirk,rb0shanbe;ai,l0I;ha,nggu0rtmu13;hradSl6nv5troit;er;hi;donghIe6k09l5masc1Zr es sala1KugavpiY;i0lU;gu,je2;aJebu,hAleve0Vo5raio02uriti1Q;lo7n6penhag0Ar5;do1Ok;akKst0V;gUm5;bo;aBen8i6ongqi1ristchur5;ch;ang m7ca5ttago1;go;g6n5;ai;du,zho1;ng5ttogr14;ch8sha,zh07;gliari,i9lga8mayenJn6pe town,r5tanO;acCdiff;ber1Ac5;un;ry;ro;aWeNhKirmingh0WoJr9u5;chareTdapeTenos air7r5s0tu0;g5sa;as;es;a9is6usse5;ls;ba6t5;ol;ne;sil8tisla7zzav5;il5;le;va;ia;goZst2;op6ubaneshw5;ar;al;iCl9ng8r5;g6l5n;in;en;aluru,hazi;fa6grade,o horizon5;te;st;ji1rut;ghd0BkFn9ot8r7s6yan n4;ur;el,r07;celo3i,ranquil09;ou;du1g6ja lu5;ka;alo6k5;ok;re;ng;ers5u;field;a05b02cc01ddis aba00gartaZhmedXizawl,lSmPnHqa00rEsBt7uck5;la5;nd;he7l5;an5;ta;ns;h5unci2;dod,gab5;at;li5;ngt2;on;a8c5kaOtwerp;hora6o3;na;ge;h7p5;ol5;is;eim;aravati,m0s5;terd5;am; 7buquerq6eppo,giers,ma5;ty;ue;basrah al qadim5mawsil al jadid5;ah;ab5;ad;la;ba;ra;idj0u dha5;bi;an;lbo6rh5;us;rg",Region:"true¦0:2K;1:2Q;2:2H;3:2B;a2Ob2Bc1Xd1Ses1Rf1Pg1Kh1Gi1Bj17k12l0Zm0On06o04pYqVrSsJtEuBverAw6y4zacatec2S;akut0o0Cu4;cat2k06;a5est 4isconsin,yomi1K;bengal,virgin0;rwick3shington4;! dc;acruz,mont;dmurt0t4;ah,tar4; 2La0Y;a6e5laxca1Rripu1Xu4;scaEva;langa1nnessee,x2F;bas0Wm4smOtar25;aulip2Dil nadu;a9i7o5taf12u4ylh1F;ffZrr05s1A;me1Cno1Quth 4;cWdV;ber0c4kkim,naloa;hu2ily;n5skatchew2xo4;ny; luis potosi,ta catari1;a4hodeA;j4ngp08;asth2shahi;ingh25u4;e4intana roo;bec,en6retaro;ara8e6rince edward4unjab; i4;sl0C;i,nnsylv4rnambu0C;an0;!na;axa0Ydisha,h4klaho20ntar4reg7ss0Cx0H;io;aKeEo6u4;evo le4nav0W;on;r4tt17va scot0;f9mandy,th4; 4ampton3;c6d5yo4;rk3;ako1N;aroli1;olk;bras1Mva0Cw4; 5foundland4;! and labrador;brunswick,hamp3jers5mexiTyork4;! state;ey;galPyarit;aAeghala0Mi6o4;nta1r4;dov0elos;ch6dlanDn5ss4zor11;issippi,ouri;as geraPneso18;ig2oac2;dhy12harasht0Gine,ni5r4ssachusetts;anhao,i el,ylG;p4toba;ur;anca3e4incoln3ouisI;e4iR;ds;a6e5h4omi;aka06ul1;ntucky,ra01;bardino,lmyk0ns0Qr4;achay,el0nata0X;alis6har4iangxi;kh4;and;co;daho,llino7n4owa;d5gush4;et0;ia1;is;a6ert5i4un2;dalFm0D;ford3;mp3rya1waii;ansu,eorg0lou7oa,u4;an4izhou,jarat;ajuato,gdo4;ng;cester3;lori4uji2;da;sex;ageUe7o5uran4;go;rs4;et;lawaMrby3;aFeaEh9o4rim08umbr0;ahui7l6nnectic5rsi4ventry;ca;ut;i03orado;la;e5hattisgarh,i4uvash0;apRhuahua;chn5rke4;ss0;ya;ra;lGm4;bridge3peche;a9ihar,r8u4;ck4ryat0;ingham3;shi4;re;emen,itish columb0;h0ja cal8lk7s4v7;hkorto4que;st2;an;ar0;iforn0;ia;dygHguascalientes,lBndhr9r5ss4;am;izo1kans5un4;achal 7;as;na;a 4;pradesh;a6ber5t4;ai;ta;ba5s4;ka;ma;ea",Country:"true¦0:38;1:2L;2:3B;a2Xb2Ec22d1Ye1Sf1Mg1Ch1Ai14j12k0Zl0Um0Gn05om2pZqat1KrXsKtCu7v5wal4yemTz3;a25imbabwe;es,lis and futu2Y;a3enezue32ietnam;nuatu,tican city;gTk6nited 4ruXs3zbeE; 2Ca,sr;arab emirat0Kkingdom,states3;! of am2Y;!raiV;a8haCimor les0Co7rinidad 5u3;nis0rk3valu;ey,me2Zs and caic1V;and t3t3;oba1L;go,kel10nga;iw2ji3nz2T;ki2V;aDcotl1eCi9lov8o6pa2Dri lanka,u5w3yr0;az3edAitzerl1;il1;d2riname;lomon1Xmal0uth 3;afr2KkMsud2;ak0en0;erra leoFn3;gapo1Yt maart3;en;negLrb0ychellZ;int 3moa,n marino,udi arab0;hele26luc0mart21;epublic of ir0Eom2Euss0w3;an27;a4eIhilippinUitcairn1Mo3uerto riN;l1rtugF;ki2Dl4nama,pua new0Vra3;gu7;au,esti3;ne;aBe9i7or3;folk1Ith4w3;ay; k3ern mariana1D;or0O;caragua,ger3ue;!ia;p3ther1Aw zeal1;al;mib0u3;ru;a7exi6icro0Bo3yanm06;ldova,n3roc5zambA;a4gol0t3;enegro,serrat;co;cAdagasc01l7r5urit4yot3;te;an0i16;shall0Xtin3;ique;a4div3i,ta;es;wi,ys0;ao,ed02;a6e5i3uxembourg;b3echtenste12thu1G;er0ya;ban0Isotho;os,tv0;azakh1Fe4iriba04o3uwait,yrgyz1F;rXsovo;eling0Knya;a3erG;ma16p2;c7nd6r4s3taly,vory coast;le of m2rael;a3el1;n,q;ia,oJ;el1;aiTon3ungary;dur0Ng kong;aBermany,ha0QibraltAre8u3;a6ern5inea3ya0P;! biss3;au;sey;deloupe,m,tema0Q;e3na0N;ce,nl1;ar;bUmb0;a7i6r3;ance,ench 3;guia0Epoly3;nes0;ji,nl1;lklandUroeU;ast tim7cu6gypt,l salv6ngl1quatorial4ritr5st3thiop0;on0; guin3;ea;ad3;or;enmark,jibou5ominica4r con3;go;!n C;ti;aBentral african Ah8o5roat0u4yprRzech3; 9ia;ba,racao;c4lo3morQngo brazzaville,okGsta r04te de ivoiL;mb0;osE;i3ristmasG;le,na;republic;m3naUpe verde,ymanA;bod0ero3;on;aGeDhut2o9r5u3;lgar0r3;kina faso,ma,undi;azil,itish 3unei;virgin3; is3;lands;liv0nai5snia and herzegoviHtswaHuvet3; isl1;and;re;l3n8rmuG;ar3gium,ize;us;h4ngladesh,rbad3;os;am4ra3;in;as;fghaGlDmBn6r4ustr3zerbaij2;al0ia;genti3men0uba;na;dorra,g5t3;arct7igua and barbu3;da;o3uil3;la;er3;ica;b3ger0;an0;ia;ni3;st2;an",Place:"true¦a0Gb0Bc03d02e01f00gWhUiSkQlNmLnIorHpDrCsAt5u4v3w2y0;a0yz;kutPngtze;ake isHupatki;irgin islands,ostok;laanbaatar,p02;a3eotihuac0Hh1onto,sarskoe selo,u0;lXzigoot;am09e 0;bronx,hamptons;hiti,j mahE;a0cotts bluff,eine,fo,oho,under9;int lawrence river,khalY;ed s3io grande;a1ek,h0itcairn,ompeii;l,x;cif05pahanaumokuak0rthenX;ea;ange county,d,inoco;e0ile;uschwansteQw eng0;land;a0co,ekong,idLuc;chu picchu,gad00libu,nhatt00;a1gw,hr,incoln memori0;al;s,x;azan kremlJosrae,rasnoyar0ul;sk;ax,cn,nd0st;ianSochina;arlem,kg,nd,ov0;d,enweep;a2odavari,re0;at 0enwich;britaBlakI;ngHy village;co,ra;urope,vergladF;anube,en,fw,own4xb;arrizo pla6dg,edar 5gk,h1lt,olosse0;um;a2i0uuk;chen itza,mney rock,na0ricahua;town;morro,tham;breaks,fa5;in;cn,e2kk,ro0;oklyn,wns cany0;on;l air,verly hi0;lls;driadic,frica,lhambra,m7n3rc2sia,tl1zor0;es;!ant2; de triomphe,t1;adyr,tarct0;ic0; oce0;an;ericas,s",FirstName:"true¦aTblair,cQdOfrancoZgabMhinaLilya,jHkClBm6ni4quinn,re3s0;h0umit,yd;ay,e0iloh;a,lby;g9ne;co,ko0;!s;a1el0ina,org6;!okuhF;ds,naia,r1tt0xiB;i,y;ion,lo;ashawn,eif,uca;a3e1ir0rM;an;lsFn0rry;dall,yat5;i,sD;a0essIie,ude;i1m0;ie,mG;me;ta;rie0y;le;arcy,ev0;an,on;as1h0;arl8eyenne;ey,sidy;drien,kira,l4nd1ubr0vi;ey;i,r0;a,e0;a,y;ex2f1o0;is;ie;ei,is",WeekDay:"true¦fri2mon2s1t0wednesd3;hurs1ues1;aturd1und1;!d0;ay0;!s",Month:"true¦dec0february,july,nov0octo1sept0;em0;ber",Date:"true¦ago,on4som4t1week0yesterd5; end,ends;mr1o0;d2morrow;!w;ed0;ay",Duration:"true¦centurAd8h7m5q4se3w1y0;ear8r8;eek0k7;!end,s;ason,c5;tr,uarter;i0onth3;llisecond2nute2;our1r1;ay0ecade0;!s;ies,y",FemaleName:"true¦0:J7;1:JB;2:IJ;3:IK;4:J1;5:IO;6:JS;7:JO;8:HB;9:JK;A:H4;B:I2;C:IT;D:JH;E:IX;F:BA;G:I4;aGTbFLcDRdD0eBMfB4gADh9Ti9Gj8Dk7Cl5Wm48n3Lo3Hp33qu32r29s15t0Eu0Cv02wVxiTyOzH;aLeIineb,oHsof3;e3Sf3la,ra;h2iKlIna,ynH;ab,ep;da,ma;da,h2iHra;nab;aKeJi0FolB7uIvH;et8onDP;i0na;le0sen3;el,gm3Hn,rGLs8W;aoHme0nyi;m5XyAD;aMendDZhiDGiH;dele9lJnH;if48niHo0;e,f47;a,helmi0lHma;a,ow;ka0nB;aNeKiHusa5;ck84kIl8oleAviH;anFenJ4;ky,toriBK;da,lA8rHs0;a,nHoniH9;a,iFR;leHnesH9;nILrH;i1y;g9rHs6xHA;su5te;aYeUhRiNoLrIuHy2;i,la;acJ3iHu0J;c3na,sH;hFta;nHr0F;iFya;aJffaEOnHs6;a,gtiH;ng;!nFSra;aIeHomasi0;a,l9Oo8Ares1;l3ndolwethu;g9Fo88rIssH;!a,ie;eHi,ri7;sa,za;bOlMmKnIrHs6tia0wa0;a60yn;iHya;a,ka,s6;arFe2iHm77ra;!ka;a,iH;a,t6;at6it6;a0Ecarlett,e0AhWiSkye,neza0oQri,tNuIyH;bIGlvi1;ha,mayIJniAsIzH;an3Net8ie,y;anHi7;!a,e,nH;aCe;aIeH;fan4l5Dphan6E;cI5r5;b3fiAAm0LnHphi1;d2ia,ja,ya;er2lJmon1nIobh8QtH;a,i;dy;lETv3;aMeIirHo0risFDy5;a,lDM;ba,e0i5lJrH;iHr6Jyl;!d8Ifa;ia,lDZ;hd,iMki2nJrIu0w0yH;la,ma,na;i,le9on,ron,yn;aIda,ia,nHon;a,on;!ya;k6mH;!aa;lJrItaye82vH;da,inj;e0ife;en1i0ma;anA9bLd5Oh1SiBkKlJmInd2rHs6vannaC;aCi0;ant6i2;lDOma,ome;ee0in8Tu2;in1ri0;a05eZhXiUoHuthDM;bScRghQl8LnPsJwIxH;anB3ie,y;an,e0;aIeHie,lD;ann7ll1marDGtA;!lHnn1;iHyn;e,nH;a,dF;da,i,na;ayy8G;hel67io;bDRerAyn;a,cIkHmas,nFta,ya;ki,o;h8Xki;ea,iannGMoH;da,n1P;an0bJemFgi0iInHta,y0;a8Bee;han86na;a,eH;cHkaC;a,ca;bi0chIe,i0mo0nHquETy0;di,ia;aERelHiB;!e,le;een4ia0;aPeOhMiLoJrHute6A;iHudenCV;scil3LyamvaB;lHrt3;i0ly;a,paluk;ilome0oebe,ylH;is,lis;ggy,nelope,r5t2;ige,m0VnKo5rvaDMtIulH;a,et8in1;ricHt4T;a,e,ia;do2i07;ctav3dIfD3is6ksa0lHphD3umC5yunbileg;a,ga,iv3;eHvAF;l3t8;aWeUiMoIurHy5;!ay,ul;a,eJor,rIuH;f,r;aCeEma;ll1mi;aNcLhariBQkKlaJna,sHta,vi;anHha;ur;!y;a,iDZki;hoGk9YolH;a,e4P;!mh;hir,lHna,risDEsreE;!a,lBV;asuMdLh3i6Dl5nKomi7rgEVtH;aHhal4;lHs6;i1ya;cy,et8;e9iF0ya;nngu2X;a0Ackenz4e02iMoJrignayani,uriDJyH;a,rH;a,iOlNna,tG;bi0i2llBJnH;a,iH;ca,ka,qD9;a,cUdo4ZkaTlOmi,nMrItzi,yH;ar;aJiIlH;anET;am;!l,nB;dy,eHh,n4;nhGrva;aKdJe0iCUlH;iHy;cent,e;red;!gros;!e5;ae5hH;ae5el3Z;ag5DgNi,lKrH;edi7AiIjem,on,yH;em,l;em,sCG;an4iHliCF;nHsCJ;a,da;!an,han;b09cASd07e,g05ha,i04ja,l02n00rLsoum5YtKuIv84xBKyHz4;bell,ra,soBB;d7rH;a,eE;h8Gild1t4;a,cUgQiKjor4l7Un4s6tJwa,yH;!aHbe6Xja9lAE;m,nBL;a,ha,in1;!aJbCGeIja,lDna,sHt63;!a,ol,sa;!l1D;!h,mInH;!a,e,n1;!awit,i;arJeIie,oHr48ueri8;!t;!ry;et46i3B;el4Xi7Cy;dHon,ue5;akranAy;ak,en,iHlo3S;a,ka,nB;a,re,s4te;daHg4;!l3E;alDd4elHge,isDJon0;ei9in1yn;el,le;a0Ne0CiXoQuLyH;d3la,nH;!a,dIe2OnHsCT;!a,e2N;a,sCR;aD4cJel0Pis1lIna,pHz;e,iA;a,u,wa;iHy;a0Se,ja,l2NnB;is,l1UrItt1LuHvel4;el5is1;aKeIi7na,rH;aADi7;lHn1tA;ei;!in1;aTbb9HdSepa,lNnKsJvIzH;!a,be5Ret8z4;!ia;a,et8;!a,dH;a,sHy;ay,ey,i,y;a,iJja,lH;iHy;aA8e;!aH;!nF;ia,ya;!nH;!a,ne;aPda,e0iNjYla,nMoKsJtHx93y5;iHt4;c3t3;e2PlCO;la,nHra;a,ie,o2;a,or1;a,gh,laH;!ni;!h,nH;a,d2e,n5V;cOdon9DiNkes6mi9Gna,rMtJurIvHxmi,y5;ern1in3;a,e5Aie,yn;as6iIoH;nya,ya;fa,s6;a,isA9;a,la;ey,ie,y;a04eZhXiOlASoNrJyH;lHra;a,ee,ie;istHy6I;a,en,iIyH;!na;!e,n5F;nul,ri,urtnB8;aOerNlB7mJrHzzy;a,stH;en,in;!berlImernH;aq;eHi,y;e,y;a,stE;!na,ra;aHei2ongordzol;dij1w5;el7UiKjsi,lJnIrH;a,i,ri;d2na,za;ey,i,lBLs4y;ra,s6;biAcARdiat7MeBAiSlQmPnyakuma1DrNss6NtKviAyH;!e,lH;a,eH;e,i8T;!a6HeIhHi4TlDri0y;ar8Her8Hie,leErBAy;!lyn8Ori0;a,en,iHl5Xoli0yn;!ma,nFs95;a5il1;ei8Mi,lH;e,ie;a,tl6O;a0AeZiWoOuH;anMdLlHst88;es,iH;a8NeHs8X;!n9tH;!a,te;e5Mi3My;a,iA;!anNcelDdMelGhan7VleLni,sIva0yH;a,ce;eHie;fHlDph7Y;a,in1;en,n1;i7y;!a,e,n45;lHng;!i1DlH;!i1C;anNle0nKrJsH;i8JsH;!e,i8I;i,ri;!a,elGif2CnH;a,et8iHy;!e,f2A;a,eJiInH;a,eIiH;e,n1;!t8;cMda,mi,nIque4YsminFvie2y9zH;min7;a7eIiH;ce,e,n1s;!lHs82t0F;e,le;inIk6HlDquelH;in1yn;da,ta;da,lRmPnOo0rNsIvaHwo0zaro;!a0lu,na;aJiIlaHob89;!n9R;do2;belHdo2;!a,e,l3B;a7Ben1i0ma;di2es,gr72ji;a9elBogH;en1;a,e9iHo0se;a0na;aSeOiJoHus7Kyacin2C;da,ll4rten24snH;a,i9U;lImaH;ri;aIdHlaI;a,egard;ry;ath1BiJlInrietArmi9sH;sa,t1A;en2Uga,mi;di;bi2Fil8MlNnMrJsItHwa,yl8M;i5Tt4;n60ti;iHmo51ri53;etH;!te;aCnaC;a,ey,l4;a02eWiRlPoNrKunJwH;enHyne1R;!dolD;ay,el;acieIetHiselB;a,chE;!la;ld1CogooH;sh;adys,enHor3yn2K;a,da,na;aKgi,lIna,ov8EselHta;a,e,le;da,liH;an;!n0;mLnJorgIrH;ald5Si,m3Etrud7;et8i4X;a,eHna;s29vieve;ma;bIle,mHrnet,yG;al5Si5;iIrielH;a,l1;!ja;aTeQiPlorOoz3rH;anJeIiH;da,eB;da,ja;!cH;esIiHoi0P;n1s66;!ca;a,enc3;en,o0;lIn0rnH;anB;ec3ic3;jr,nArKtHy7;emIiHma,oumaA;ha,ma,n;eh;ah,iBrah,za0;cr4Rd0Re0Qi0Pk0Ol07mXn54rUsOtNuMvHwa;aKelIiH;!e,ta;inFyn;!a;!ngel4V;geni1ni47;h5Yien9ta;mLperanKtH;eIhHrel5;er;l31r7;za;a,eralB;iHma,ne4Lyn;cHka,n;a,ka;aPeNiKmH;aHe21ie,y;!li9nuH;elG;lHn1;e7iHy;a,e,ja;lHrald;da,y;!nue5;aWeUiNlMma,no2oKsJvH;a,iH;na,ra;a,ie;iHuiH;se;a,en,ie,y;a0c3da,e,f,nMsJzaH;!betHveA;e,h;aHe,ka;!beH;th;!a,or;anor,nH;!a,i;!in1na;ate1Rta;leEs6;vi;eIiHna,wi0;e,th;l,n;aYeMh3iLjeneKoH;lor5Vminiq4Ln3FrHtt4;a,eEis,la,othHthy;ea,y;ba;an09naCon9ya;anQbPde,eOiMlJmetr3nHsir5M;a,iH;ce,se;a,iIla,orHphi9;es,is;a,l6F;dHrdH;re;!d5Ena;!b2ForaCraC;a,d2nH;!a,e;hl3i0l0GmNnLphn1rIvi1WyH;le,na;a,by,cIia,lH;a,en1;ey,ie;a,et8iH;!ca,el1Aka,z;arHia;is;a0Re0Nh04i02lUoJristIynH;di,th3;al,i0;lPnMrIurH;tn1D;aJd2OiHn2Ori9;!nH;a,e,n1;!l4;cepci5Cn4sH;tanHuelo;ce,za;eHleE;en,t8;aJeoIotH;il54;!pat2;ir7rJudH;et8iH;a,ne;a,e,iH;ce,sZ;a2er2ndH;i,y;aReNloe,rH;isJyH;stH;al;sy,tH;a1Sen,iHy;an1e,n1;deJlseIrH;!i7yl;a,y;li9;nMrH;isKlImH;ai9;a,eHot8;n1t8;!sa;d2elGtH;al,elG;cIlH;es8i47;el3ilH;e,ia,y;itlYlXmilWndVrMsKtHy5;aIeIhHri0;er1IleErDy;ri0;a38sH;a37ie;a,iOlLmeJolIrH;ie,ol;!e,in1yn;lHn;!a,la;a,eIie,otHy;a,ta;ne,y;na,s1X;a0Ii0I;a,e,l1;isAl4;in,yn;a0Ke02iZlXoUrH;andi7eRiJoIyH;an0nn;nwDoke;an3HdgMgiLtH;n31tH;!aInH;ey,i,y;ny;d,t8;etH;!t7;an0e,nH;da,na;bbi7glarIlo07nH;iAn4;ka;ancHythe;a,he;an1Clja0nHsm3M;iAtH;ou;aWcVlinUniArPssOtJulaCvH;!erlH;ey,y;hJsy,tH;e,iHy7;e,na;!anH;ie,y;!ie;nItHyl;ha,ie;adIiH;ce;et8i9;ay,da;ca,ky;!triH;ce,z;rbJyaH;rmH;aa;a2o2ra;a2Ub2Od25g21i1Sj5l18m0Zn0Boi,r06sWtVuPvOwa,yIzH;ra,u0;aKes6gJlIn,seH;!l;in;un;!nH;a,na;a,i2K;drLguJrIsteH;ja;el3;stH;in1;a,ey,i,y;aahua,he0;hIi2Gja,miAs2DtrH;id;aMlIraqHt21;at;eIi7yH;!n;e,iHy;gh;!nH;ti;iJleIo6piA;ta;en,n1t8;aHelG;!n1J;a01dje5eZgViTjRnKohito,toHya;inet8nH;el5ia;te;!aKeIiHmJ;e,ka;!mHtt7;ar4;!belIliHmU;sa;!l1;a,eliH;ca;ka,sHta;a,sa;elHie;a,iH;a,ca,n1qH;ue;!tH;a,te;!bImHstasiMya;ar3;el;aLberKeliJiHy;e,l3naH;!ta;a,ja;!ly;hGiIl3nB;da;a,ra;le;aWba,ePiMlKthJyH;a,c3sH;a,on,sa;ea;iHys0N;e,s0M;a,cIn1sHza;a,e,ha,on,sa;e,ia,ja;c3is6jaKksaKna,sJxH;aHia;!nd2;ia,saH;nd2;ra;ia;i0nIyH;ah,na;a,is,naCoud;la;c6da,leEmNnLsH;haClH;inHyY;g,n;!h;a,o,slH;ey;ee;en;at6g4nIusH;ti0;es;ie;aWdiTelMrH;eJiH;anMenH;a,e,ne;an0;na;!aLeKiIyH;nn;a,n1;a,e;!ne;!iH;de;e,lDsH;on;yn;!lH;i9yn;ne;aKbIiHrL;!e,gaK;ey,i7y;!e;gaH;il;dKliyJradhIs6;ha;ya;ah;a,ya",Honorific:"true¦director1field marsh2lieutenant1rear0sergeant major,vice0; admir1; gener0;al","Adj|Gerund":"true¦0:3F;1:3H;2:31;3:2X;4:35;5:33;6:3C;7:2Z;8:36;9:29;a33b2Tc2Bd1Te1If19g12h0Zi0Rl0Nm0Gnu0Fo0Ap04rYsKtEuBvAw1Ayiel3;ar6e08;nBpA;l1Rs0B;fol3n1Zsett2;aEeDhrBi4ouc7rAwis0;e0Bif2oub2us0yi1;ea1SiA;l2vi1;l2mp0rr1J;nt1Vxi1;aMcreec7enten2NhLkyrocke0lo0Vmi2oJpHtDuBweA;e0Ul2;pp2ArA;gi1pri5roun3;aBea8iAri2Hun9;mula0r4;gge4rA;t2vi1;ark2eAraw2;e3llb2F;aAot7;ki1ri1;i9oc29;dYtisf6;aEeBive0oAus7;a4l2;assu4defi9fres7ig9juve07mai9s0vAwar3;ea2italiAol1G;si1zi1;gi1ll6mb2vi1;a6eDier23lun1VrAun2C;eBoA;mi5vo1Z;ce3s5vai2;n3rpleA;xi1;ffCpWutBverAwi1;arc7lap04p0Pri3whel8;goi1l6st1J;en3sA;et0;m2Jrtu4;aEeDiCoBuAyst0L;mb2;t1Jvi1;s5tiga0;an1Rl0n3smeri26;dAtu4;de9;aCeaBiAo0U;fesa0Tvi1;di1ni1;c1Fg19s0;llumiGmFnArri0R;cDfurHsCtBviA;go23ti1;e1Oimi21oxica0rig0V;pi4ul0;orpo20r0K;po5;na0;eaBorr02umilA;ia0;li1rtwar8;lFrA;atiDipCoBuelA;i1li1;undbrea10wi1;pi1;f6ng;a4ea8;a3etc7it0lEoCrBulfA;il2;ee1FighXust1L;rAun3;ebo3thco8;aCoA;a0wA;e4i1;mi1tte4;lectrJmHnExA;aCci0hBis0pA;an3lo3;aOila1B;c0spe1A;ab2coura0CdBergi13ga0Clive9ric7s02tA;hral2i0J;ea4u4;barras5er09pA;owe4;if6;aQeIiBrA;if0;sAzz6;aEgDhearCsen0tA;rAur11;ac0es5;te9;us0;ppoin0r8;biliGcDfi9gra3ligh0mBpres5sAvasG;erE;an3ea9orA;ali0L;a6eiBli9rA;ea5;vi1;ta0;maPri1s7un0zz2;aPhMlo5oAripp2ut0;mGnArrespon3;cer9fDspi4tA;inBrA;as0ibu0ol2;ui1;lic0u5;ni1;fDmCpA;eAromi5;l2ti1;an3;or0;aAil2;llenAnAr8;gi1;l8ptAri1;iva0;aff2eGin3lFoDrBuA;d3st2;eathtaAui5;ki1;gg2i2o8ri1unA;ci1;in3;co8wiA;lAtc7;de4;bsorVcOgonMlJmHnno6ppea2rFsA;pi4su4toA;nBun3;di1;is7;hi1;res0;li1;aFu5;si1;ar8lu4;ri1;mi1;iAzi1;zi1;cAhi1;eleDomA;moBpan6;yi1;da0;ra0;ti1;bi1;ng",Comparable:"true¦0:3C;1:3Q;2:3F;a3Tb3Cc33d2Te2Mf2Ag1Wh1Li1Fj1Ek1Bl13m0Xn0So0Rp0Iqu0Gr07sHtCug0vAw4y3za0Q;el10ouN;ary,e6hi5i3ry;ck0Cde,l3n1ry,se;d,y;ny,te;a3i3R;k,ry;a3erda2ulgar;gue,in,st;a6en2Xhi5i4ouZr3;anqu2Cen1ue;dy,g36me0ny;ck,rs28;ll,me,rt,wd3I;aRcaPeOhMiLkin0BlImGoEpDt6u4w3;eet,ift;b3dd0Wperfi21rre28;sta26t21;a8e7iff,r4u3;pUr1;a4ict,o3;ng;ig2Vn0N;a1ep,rn;le,rk,te0;e1Si2Vright0;ci1Yft,l3on,re;emn,id;a3el0;ll,rt;e4i3y;g2Mm0Z;ek,nd2T;ck24l0mp1L;a3iRrill,y;dy,l01rp;ve0Jxy;n1Jr3;ce,y;d,fe,int0l1Hv0V;a8e6i5o3ude;mantic,o19sy,u3;gh;pe,t1P;a3d,mo0A;dy,l;gg4iFndom,p3re,w;id;ed;ai2i3;ck,et;hoAi1Fl9o8r5u3;ny,r3;e,p11;egna2ic4o3;fouSud;ey,k0;liXor;ain,easa2;ny;dd,i0ld,ranL;aive,e5i4o3u14;b0Sisy,rm0Ysy;bb0ce,mb0R;a3r1w;r,t;ad,e5ild,o4u3;nda12te;ist,o1;a4ek,l3;low;s0ty;a8e7i6o3ucky;f0Jn4o15u3ve0w10y0N;d,sy;e0g;ke0l,mp,tt0Eve0;e1Qwd;me,r3te;ge;e4i3;nd;en;ol0ui19;cy,ll,n3;secu6t3;e3ima4;llege2rmedia3;te;re;aAe7i6o5u3;ge,m3ng1C;bYid;me0t;gh,l0;a3fXsita2;dy,rWv3;en0y;nd13ppy,r3;d3sh;!y;aFenEhCiBlAoofy,r3;a8e6i5o3ue0Z;o3ss;vy;m,s0;at,e3y;dy,n;nd,y;ad,ib,ooD;a2d1;a3o3;st0;tDuiS;u1y;aCeebBi9l8o6r5u3;ll,n3r0N;!ny;aCesh,iend0;a3nd,rmD;my;at,ir7;erce,nan3;ci9;le;r,ul3;ty;a6erie,sse4v3xtre0B;il;nti3;al;r4s3;tern,y;ly,th0;appZe9i5ru4u3;mb;nk;r5vi4z3;zy;ne;e,ty;a3ep,n9;d3f,r;!ly;agey,h8l7o5r4u3;dd0r0te;isp,uel;ar3ld,mmon,st0ward0zy;se;evKou1;e3il0;ap,e3;sy;aHiFlCoAr5u3;ff,r0sy;ly;a6i3oad;g4llia2;nt;ht;sh,ve;ld,un3;cy;a4o3ue;nd,o1;ck,nd;g,tt3;er;d,ld,w1;dy;bsu6ng5we3;so3;me;ry;rd",Adverb:"true¦a08b05d00eYfSheQinPjustOkinda,likewiZmMnJoEpCquite,r9s5t2u0very,well;ltima01p0; to,wards5;h1iny bit,o0wiO;o,t6;en,us;eldom,o0uch;!me1rt0; of;how,times,w0C;a1e0;alS;ndomRth05;ar excellenEer0oint blank; Lhaps;f3n0utright;ce0ly;! 0;ag05moX; courGten;ewJo0; longWt 0;onHwithstand9;aybe,eanwhiNore0;!ovT;! aboX;deed,steY;lla,n0;ce;or3u0;ck1l9rther0;!moK;ing; 0evK;exampCgood,suH;n mas0vI;se;e0irect2; 2fini0;te0;ly;juAtrop;ackward,y 0;far,no0; means,w; GbroFd nauseam,gEl7ny5part,s4t 2w0;ay,hi0;le;be7l0mo7wor7;arge,ea6; soon,i4;mo0way;re;l 3mo2ongsi1ready,so,togeth0ways;er;de;st;b1t0;hat;ut;ain;ad;lot,posteriori",Conjunction:"true¦aXbTcReNhowMiEjust00noBo9p8supposing,t5wh0yet;e1il0o3;e,st;n1re0thN; if,by,vM;evL;h0il,o;erefOo0;!uU;lus,rovided th9;r0therwiM;! not; mattEr,w0;! 0;since,th4w7;f4n0; 0asmuch;as mIcaForder t0;h0o;at;! 0;only,t0w0;hen;!ev3;ith2ven0;! 0;if,tB;er;o0uz;s,z;e0ut,y the time;cau1f0;ore;se;lt3nd,s 0;far1if,m0soon1t2;uch0; as;hou0;gh",Currency:"true¦$,aud,bQcOdJeurIfHgbp,hkd,iGjpy,kElDp8r7s3usd,x2y1z0¢,£,¥,ден,лв,руб,฿,₡,₨,€,₭,﷼;lotyQł;en,uanP;af,of;h0t5;e0il5;k0q0;elK;oubleJp,upeeJ;e2ound st0;er0;lingG;n0soF;ceEnies;empi7i7;n,r0wanzaCyatC;!onaBw;ls,nr;ori7ranc9;!os;en3i2kk,o0;b0ll2;ra5;me4n0rham4;ar3;e0ny;nt1;aht,itcoin0;!s",Determiner:"true¦aBboth,d9e6few,le5mu8neiDplenty,s4th2various,wh0;at0ich0;evC;a0e4is,ose;!t;everal,ome;!ast,s;a1l0very;!se;ch;e0u;!s;!n0;!o0y;th0;er","Adj|Present":"true¦a07b04cVdQeNfJhollIidRlEmCnarrIoBp9qua8r7s3t2uttFw0;aKet,ro0;ng,u08;endChin;e2hort,l1mooth,our,pa9tray,u0;re,speU;i2ow;cu6da02leSpaN;eplica01i02;ck;aHerfePr0;eseUime,omV;bscu1pen,wn;atu0e3odeH;re;a2e1ive,ow0;er;an;st,y;ow;a2i1oul,r0;ee,inge;rm;iIke,ncy,st;l1mpty,x0;emHpress;abo4ic7;amp,e2i1oub0ry,ull;le;ffu9re6;fu8libe0;raE;alm,l5o0;mpleCn3ol,rr1unterfe0;it;e0u7;ct;juga8sum7;ea1o0;se;n,r;ankru1lu0;nt;pt;li2pproxi0rticula1;ma0;te;ght","Person|Adj":"true¦b3du2earnest,frank,mi2r0san1woo1;an0ich,u1;dy;sty;ella,rown",Modal:"true¦c5lets,m4ought3sh1w0;ill,o5;a0o4;ll,nt;! to,a;ight,ust;an,o0;uld",Verb:"true¦born,cannot,gonna,has,keep tabs,msg","Person|Verb":"true¦b8ch7dr6foster,gra5ja9lan4ma2ni9ollie,p1rob,s0wade;kip,pike,t5ue;at,eg,ier2;ck,r0;k,shal;ce;ce,nt;ew;ase,u1;iff,l1ob,u0;ck;aze,ossom","Person|Date":"true¦a2j0sep;an0une;!uary;p0ugust,v0;ril"},BASE=36,seq$1="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",cache=seq$1.split("").reduce(function(b,$,_e){return b[$]=_e,b},{}),toAlphaCode=function(b){if(seq$1[b]!==void 0)return seq$1[b];let $=1,_e=BASE,et="";for(;b>=_e;b-=_e,$++,_e*=BASE);for(;$--;){const tt=b%BASE;et=String.fromCharCode((tt<10?48:55)+tt)+et,b=(b-tt)/BASE}return et},fromAlphaCode=function(b){if(cache[b]!==void 0)return cache[b];let $=0,_e=1,et=BASE,tt=1;for(;_e<b.length;$+=et,_e++,et*=BASE);for(let nt=b.length-1;nt>=0;nt--,tt*=BASE){let rt=b.charCodeAt(nt)-48;rt>10&&(rt-=7),$+=rt*tt}return $},encoding={toAlphaCode,fromAlphaCode},symbols=function(b){const $=new RegExp("([0-9A-Z]+):([0-9A-Z]+)");for(let _e=0;_e<b.nodes.length;_e++){const et=$.exec(b.nodes[_e]);if(!et){b.symCount=_e;break}b.syms[encoding.fromAlphaCode(et[1])]=encoding.fromAlphaCode(et[2])}b.nodes=b.nodes.slice(b.symCount,b.nodes.length)},indexFromRef=function(b,$,_e){const et=encoding.fromAlphaCode($);return et<b.symCount?b.syms[et]:_e+et+1-b.symCount},toArray$4=function(b){const $=[],_e=(et,tt)=>{let nt=b.nodes[et];nt[0]==="!"&&($.push(tt),nt=nt.slice(1));const rt=nt.split(/([A-Z0-9,]+)/g);for(let ot=0;ot<rt.length;ot+=2){const st=rt[ot],ct=rt[ot+1];if(!st)continue;const lt=tt+st;if(ct===","||ct===void 0){$.push(lt);continue}const at=indexFromRef(b,ct,et);_e(at,lt)}};return _e(0,""),$},unpack$1=function(b){const $={nodes:b.split(";"),syms:[],symCount:0};return b.match(":")&&symbols($),toArray$4($)},unpack=function(b){if(!b)return{};const $=b.split("|").reduce((et,tt)=>{const nt=tt.split("¦");return et[nt[0]]=nt[1],et},{}),_e={};return Object.keys($).forEach(function(et){const tt=unpack$1($[et]);et==="true"&&(et=!0);for(let nt=0;nt<tt.length;nt++){const rt=tt[nt];_e.hasOwnProperty(rt)===!0?Array.isArray(_e[rt])===!1?_e[rt]=[_e[rt],et]:_e[rt].push(et):_e[rt]=et}}),_e},prp=["Possessive","Pronoun"];let misc$5={"20th century fox":"Organization","7 eleven":"Organization","motel 6":"Organization",g8:"Organization",vh1:"Organization","76ers":"SportsTeam","49ers":"SportsTeam",q1:"Date",q2:"Date",q3:"Date",q4:"Date",km2:"Unit",m2:"Unit",dm2:"Unit",cm2:"Unit",mm2:"Unit",mile2:"Unit",in2:"Unit",yd2:"Unit",ft2:"Unit",m3:"Unit",dm3:"Unit",cm3:"Unit",in3:"Unit",ft3:"Unit",yd3:"Unit","at&t":"Organization","black & decker":"Organization","h & m":"Organization","johnson & johnson":"Organization","procter & gamble":"Organization","ben & jerry's":"Organization","&":"Conjunction",i:["Pronoun","Singular"],he:["Pronoun","Singular"],she:["Pronoun","Singular"],it:["Pronoun","Singular"],they:["Pronoun","Plural"],we:["Pronoun","Plural"],was:["Copula","PastTense"],is:["Copula","PresentTense"],are:["Copula","PresentTense"],am:["Copula","PresentTense"],were:["Copula","PastTense"],her:prp,his:prp,hers:prp,their:prp,theirs:prp,themselves:prp,your:prp,our:prp,ours:prp,my:prp,its:prp,vs:["Conjunction","Abbreviation"],if:["Condition","Preposition"],closer:"Comparative",closest:"Superlative",much:"Adverb",may:"Modal",babysat:"PastTense",blew:"PastTense",drank:"PastTense",drove:"PastTense",forgave:"PastTense",skiied:"PastTense",spilt:"PastTense",stung:"PastTense",swam:"PastTense",swung:"PastTense",guaranteed:"PastTense",shrunk:"PastTense",nears:"PresentTense",nearing:"Gerund",neared:"PastTense",no:["Negative","Expression"]};const frozenLex={"20th century fox":"Organization","7 eleven":"Organization","motel 6":"Organization","excuse me":"Expression","financial times":"Organization","guns n roses":"Organization","la z boy":"Organization","labour party":"Organization","new kids on the block":"Organization","new york times":"Organization","the guess who":"Organization","thin lizzy":"Organization","prime minister":"Actor","free market":"Singular","lay up":"Singular","living room":"Singular","living rooms":"Plural","spin off":"Singular","appeal court":"Uncountable","cold war":"Uncountable","gene pool":"Uncountable","machine learning":"Uncountable","nail polish":"Uncountable","time off":"Uncountable","take part":"Infinitive","bill gates":"Person","doctor who":"Person","dr who":"Person","he man":"Person","iron man":"Person","kid cudi":"Person","run dmc":"Person","rush limbaugh":"Person","snow white":"Person","tiger woods":"Person","brand new":"Adjective","en route":"Adjective","left wing":"Adjective","off guard":"Adjective","on board":"Adjective","part time":"Adjective","right wing":"Adjective","so called":"Adjective","spot on":"Adjective","straight forward":"Adjective","super duper":"Adjective","tip top":"Adjective","top notch":"Adjective","up to date":"Adjective","win win":"Adjective","brooklyn nets":"SportsTeam","chicago bears":"SportsTeam","houston astros":"SportsTeam","houston dynamo":"SportsTeam","houston rockets":"SportsTeam","houston texans":"SportsTeam","minnesota twins":"SportsTeam","orlando magic":"SportsTeam","san antonio spurs":"SportsTeam","san diego chargers":"SportsTeam","san diego padres":"SportsTeam","iron maiden":"ProperNoun","isle of man":"Country","united states":"Country","united states of america":"Country","prince edward island":"Region","cedar breaks":"Place","cedar falls":"Place","point blank":"Adverb","tiny bit":"Adverb","by the time":"Conjunction","no matter":"Conjunction","civil wars":"Plural","credit cards":"Plural","default rates":"Plural","free markets":"Plural","head starts":"Plural","home runs":"Plural","lay ups":"Plural","phone calls":"Plural","press releases":"Plural","record labels":"Plural","soft serves":"Plural","student loans":"Plural","tax returns":"Plural","tv shows":"Plural","video games":"Plural","took part":"PastTense","takes part":"PresentTense","taking part":"Gerund","taken part":"Participle","light bulb":"Noun","rush hour":"Noun","fluid ounce":"Unit","the rolling stones":"Organization"},emoticons=[":(",":)",":P",":p",":O",";(",";)",";P",";p",";O",":3",":|",":/",":\\",":$",":*",":@",":-(",":-)",":-P",":-p",":-O",":-3",":-|",":-/",":-\\",":-$",":-*",":-@",":^(",":^)",":^P",":^p",":^O",":^3",":^|",":^/",":^\\",":^$",":^*",":^@","):","(:","$:","*:",")-:","(-:","$-:","*-:",")^:","(^:","$^:","*^:","<3","</3","<\\3","=("],suffixes$3={a:[[/(antenn|formul|nebul|vertebr|vit)a$/i,"$1ae"],[/ia$/i,"ia"]],e:[[/(kn|l|w)ife$/i,"$1ives"],[/(hive)$/i,"$1s"],[/([m|l])ouse$/i,"$1ice"],[/([m|l])ice$/i,"$1ice"]],f:[[/^(dwar|handkerchie|hoo|scar|whar)f$/i,"$1ves"],[/^((?:ca|e|ha|(?:our|them|your)?se|she|wo)l|lea|loa|shea|thie)f$/i,"$1ves"]],i:[[/(octop|vir)i$/i,"$1i"]],m:[[/([ti])um$/i,"$1a"]],n:[[/^(oxen)$/i,"$1"]],o:[[/(al|ad|at|er|et|ed)o$/i,"$1oes"]],s:[[/(ax|test)is$/i,"$1es"],[/(alias|status)$/i,"$1es"],[/sis$/i,"ses"],[/(bu)s$/i,"$1ses"],[/(sis)$/i,"ses"],[/^(?!talis|.*hu)(.*)man$/i,"$1men"],[/(octop|vir|radi|nucle|fung|cact|stimul)us$/i,"$1i"]],x:[[/(matr|vert|ind|cort)(ix|ex)$/i,"$1ices"],[/^(ox)$/i,"$1en"]],y:[[/([^aeiouy]|qu)y$/i,"$1ies"]],z:[[/(quiz)$/i,"$1zes"]]},addE=/([xsz]|ch|sh)$/,trySuffix=function(b){let $=b[b.length-1];if(suffixes$3.hasOwnProperty($)===!0)for(let _e=0;_e<suffixes$3[$].length;_e+=1){let et=suffixes$3[$][_e][0];if(et.test(b)===!0)return b.replace(et,suffixes$3[$][_e][1])}return null},pluralize=function(b="",$){let{irregularPlurals:_e,uncountable:et}=$.two;if(et.hasOwnProperty(b))return b;if(_e.hasOwnProperty(b))return _e[b];let tt=trySuffix(b);return tt!==null?tt:addE.test(b)?b+"es":b+"s"},hasSwitch=/\|/;let lexicon=misc$5,switches={};const tmpModel$1={two:{irregularPlurals,uncountable:{}}};Object.keys(lexData).forEach(b=>{let $=unpack(lexData[b]);if(!hasSwitch.test(b)){Object.keys($).forEach(_e=>{lexicon[_e]=b});return}Object.keys($).forEach(_e=>{if(switches[_e]=b,b==="Noun|Verb"){let et=pluralize(_e,tmpModel$1);switches[et]="Plural|Verb"}})});emoticons.forEach(b=>lexicon[b]="Emoticon");delete lexicon[""];delete lexicon[null];delete lexicon[" "];const n="Singular",noun$1={beforeTags:{Determiner:n,Possessive:n,Acronym:n,Noun:n,Adjective:n,PresentTense:n,Gerund:n,PastTense:n,Infinitive:n,Date:n,Ordinal:n,Demonym:n},afterTags:{Value:n,Modal:n,Copula:n,PresentTense:n,PastTense:n,Demonym:n,Actor:n},beforeWords:{the:n,with:n,without:n,of:n,for:n,any:n,all:n,on:n,cut:n,cuts:n,increase:n,decrease:n,raise:n,drop:n,save:n,saved:n,saves:n,make:n,makes:n,made:n,minus:n,plus:n,than:n,another:n,versus:n,neither:n,about:n,favorite:n,best:n,daily:n,weekly:n,linear:n,binary:n,mobile:n,lexical:n,technical:n,computer:n,scientific:n,security:n,government:n,popular:n,formal:n,no:n,more:n,one:n,let:n,her:n,his:n,their:n,our:n,us:n,sheer:n,monthly:n,yearly:n,current:n,previous:n,upcoming:n,last:n,next:n,main:n,initial:n,final:n,beginning:n,end:n,top:n,bottom:n,future:n,past:n,major:n,minor:n,side:n,central:n,peripheral:n,public:n,private:n},afterWords:{of:n,system:n,aid:n,method:n,utility:n,tool:n,reform:n,therapy:n,philosophy:n,room:n,authority:n,says:n,said:n,wants:n,wanted:n,is:n,did:n,do:n,can:n,wise:n}},v="Infinitive",verb={beforeTags:{Modal:v,Adverb:v,Negative:v,Plural:v},afterTags:{Determiner:v,Adverb:v,Possessive:v,Reflexive:v,Preposition:v,Cardinal:v,Comparative:v,Superlative:v},beforeWords:{i:v,we:v,you:v,they:v,to:v,please:v,will:v,have:v,had:v,would:v,could:v,should:v,do:v,did:v,does:v,can:v,must:v,us:v,me:v,let:v,even:v,when:v,help:v,he:v,she:v,it:v,being:v,bi:v,co:v,contra:v,de:v,inter:v,intra:v,mis:v,pre:v,out:v,counter:v,nobody:v,somebody:v,anybody:v,everybody:v},afterWords:{the:v,me:v,you:v,him:v,us:v,her:v,his:v,them:v,they:v,it:v,himself:v,herself:v,itself:v,myself:v,ourselves:v,themselves:v,something:v,anything:v,a:v,an:v,up:v,down:v,by:v,out:v,off:v,under:v,what:v,all:v,to:v,because:v,although:v,how:v,otherwise:v,together:v,though:v,into:v,yet:v,more:v,here:v,there:v,away:v}},clue$7={beforeTags:Object.assign({},verb.beforeTags,noun$1.beforeTags,{}),afterTags:Object.assign({},verb.afterTags,noun$1.afterTags,{}),beforeWords:Object.assign({},verb.beforeWords,noun$1.beforeWords,{}),afterWords:Object.assign({},verb.afterWords,noun$1.afterWords,{})},jj$2="Adjective",adj$1={beforeTags:{Determiner:jj$2,Possessive:jj$2,Hyphenated:jj$2},afterTags:{Adjective:jj$2},beforeWords:{seem:jj$2,seemed:jj$2,seems:jj$2,feel:jj$2,feels:jj$2,felt:jj$2,stay:jj$2,appear:jj$2,appears:jj$2,appeared:jj$2,also:jj$2,over:jj$2,under:jj$2,too:jj$2,it:jj$2,but:jj$2,still:jj$2,really:jj$2,quite:jj$2,well:jj$2,very:jj$2,truly:jj$2,how:jj$2,deeply:jj$2,hella:jj$2,profoundly:jj$2,extremely:jj$2,so:jj$2,badly:jj$2,mostly:jj$2,totally:jj$2,awfully:jj$2,rather:jj$2,nothing:jj$2,something:jj$2,anything:jj$2,not:jj$2,me:jj$2,is:jj$2,face:jj$2,faces:jj$2,faced:jj$2,look:jj$2,looks:jj$2,looked:jj$2,reveal:jj$2,reveals:jj$2,revealed:jj$2,sound:jj$2,sounded:jj$2,sounds:jj$2,remains:jj$2,remained:jj$2,prove:jj$2,proves:jj$2,proved:jj$2,becomes:jj$2,stays:jj$2,tastes:jj$2,taste:jj$2,smells:jj$2,smell:jj$2,gets:jj$2,grows:jj$2,as:jj$2,rings:jj$2,radiates:jj$2,conveys:jj$2,convey:jj$2,conveyed:jj$2,of:jj$2},afterWords:{too:jj$2,also:jj$2,or:jj$2,enough:jj$2,as:jj$2}},g$1="Gerund",gerund={beforeTags:{Adverb:g$1,Preposition:g$1,Conjunction:g$1},afterTags:{Adverb:g$1,Possessive:g$1,Person:g$1,Pronoun:g$1,Determiner:g$1,Copula:g$1,Preposition:g$1,Conjunction:g$1,Comparative:g$1},beforeWords:{been:g$1,keep:g$1,continue:g$1,stop:g$1,am:g$1,be:g$1,me:g$1,began:g$1,start:g$1,starts:g$1,started:g$1,stops:g$1,stopped:g$1,help:g$1,helps:g$1,avoid:g$1,avoids:g$1,love:g$1,loves:g$1,loved:g$1,hate:g$1,hates:g$1,hated:g$1},afterWords:{you:g$1,me:g$1,her:g$1,him:g$1,his:g$1,them:g$1,their:g$1,it:g$1,this:g$1,there:g$1,on:g$1,about:g$1,for:g$1,up:g$1,down:g$1}},g="Gerund",jj$1="Adjective",clue$6={beforeTags:Object.assign({},adj$1.beforeTags,gerund.beforeTags,{Imperative:g,Infinitive:jj$1,Plural:g}),afterTags:Object.assign({},adj$1.afterTags,gerund.afterTags,{Noun:jj$1}),beforeWords:Object.assign({},adj$1.beforeWords,gerund.beforeWords,{is:jj$1,are:g,was:jj$1,of:jj$1,suggest:g,suggests:g,suggested:g,recommend:g,recommends:g,recommended:g,imagine:g,imagines:g,imagined:g,consider:g,considered:g,considering:g,resist:g,resists:g,resisted:g,avoid:g,avoided:g,avoiding:g,except:jj$1,accept:jj$1,assess:g,explore:g,fear:g,fears:g,appreciate:g,question:g,help:g,embrace:g,with:jj$1}),afterWords:Object.assign({},adj$1.afterWords,gerund.afterWords,{to:g,not:g,the:g})},misc$4={beforeTags:{Determiner:void 0,Cardinal:"Noun",PhrasalVerb:"Adjective"},afterTags:{}},clue$5={beforeTags:Object.assign({},adj$1.beforeTags,noun$1.beforeTags,misc$4.beforeTags),afterTags:Object.assign({},adj$1.afterTags,noun$1.afterTags,misc$4.afterTags),beforeWords:Object.assign({},adj$1.beforeWords,noun$1.beforeWords,{are:"Adjective",is:"Adjective",was:"Adjective",be:"Adjective",off:"Adjective",out:"Adjective"}),afterWords:Object.assign({},adj$1.afterWords,noun$1.afterWords)};let past$1="PastTense",jj="Adjective";const adjPast={beforeTags:{Adverb:past$1,Pronoun:past$1,ProperNoun:past$1,Auxiliary:past$1,Noun:past$1},afterTags:{Possessive:past$1,Pronoun:past$1,Determiner:past$1,Adverb:past$1,Comparative:past$1,Date:past$1,Gerund:past$1},beforeWords:{be:past$1,who:past$1,get:jj,had:past$1,has:past$1,have:past$1,been:past$1,it:past$1,as:past$1,for:jj,more:jj,always:jj},afterWords:{by:past$1,back:past$1,out:past$1,in:past$1,up:past$1,down:past$1,before:past$1,after:past$1,for:past$1,the:past$1,with:past$1,as:past$1,on:past$1,at:past$1,between:past$1,to:past$1,into:past$1,us:past$1,them:past$1,his:past$1,her:past$1,their:past$1,our:past$1,me:past$1,about:jj}},adjPast$1={beforeTags:Object.assign({},adj$1.beforeTags,adjPast.beforeTags),afterTags:Object.assign({},adj$1.afterTags,adjPast.afterTags),beforeWords:Object.assign({},adj$1.beforeWords,adjPast.beforeWords),afterWords:Object.assign({},adj$1.afterWords,adjPast.afterWords)},misc$3={afterTags:{Noun:"Adjective",Conjunction:void 0}},clue$4={beforeTags:Object.assign({},adj$1.beforeTags,verb.beforeTags,{Adverb:void 0,Negative:void 0}),afterTags:Object.assign({},adj$1.afterTags,verb.afterTags,misc$3.afterTags),beforeWords:Object.assign({},adj$1.beforeWords,verb.beforeWords,{have:void 0,had:void 0,not:void 0,went:"Adjective",goes:"Adjective",got:"Adjective",be:"Adjective"}),afterWords:Object.assign({},adj$1.afterWords,verb.afterWords,{to:void 0,as:"Adjective"})},misc$2={beforeTags:{Copula:"Gerund",PastTense:"Gerund",PresentTense:"Gerund",Infinitive:"Gerund"},afterTags:{Value:"Gerund"},beforeWords:{are:"Gerund",were:"Gerund",be:"Gerund",no:"Gerund",without:"Gerund",you:"Gerund",we:"Gerund",they:"Gerund",he:"Gerund",she:"Gerund",us:"Gerund",them:"Gerund"},afterWords:{the:"Gerund",this:"Gerund",that:"Gerund",me:"Gerund",us:"Gerund",them:"Gerund"}},clue$3={beforeTags:Object.assign({},gerund.beforeTags,noun$1.beforeTags,misc$2.beforeTags),afterTags:Object.assign({},gerund.afterTags,noun$1.afterTags,misc$2.afterTags),beforeWords:Object.assign({},gerund.beforeWords,noun$1.beforeWords,misc$2.beforeWords),afterWords:Object.assign({},gerund.afterWords,noun$1.afterWords,misc$2.afterWords)},nn$1="Singular",vb$1="Infinitive",clue$2={beforeTags:Object.assign({},verb.beforeTags,noun$1.beforeTags,{Adjective:nn$1,Particle:nn$1}),afterTags:Object.assign({},verb.afterTags,noun$1.afterTags,{ProperNoun:vb$1,Gerund:vb$1,Adjective:vb$1,Copula:nn$1}),beforeWords:Object.assign({},verb.beforeWords,noun$1.beforeWords,{is:nn$1,was:nn$1,of:nn$1,have:null}),afterWords:Object.assign({},verb.afterWords,noun$1.afterWords,{instead:vb$1,about:vb$1,his:vb$1,her:vb$1,to:null,by:null,in:null})},p$2="Person",person$1={beforeTags:{Honorific:p$2,Person:p$2},afterTags:{Person:p$2,ProperNoun:p$2,Verb:p$2},ownTags:{ProperNoun:p$2},beforeWords:{hi:p$2,hey:p$2,yo:p$2,dear:p$2,hello:p$2},afterWords:{said:p$2,says:p$2,told:p$2,tells:p$2,feels:p$2,felt:p$2,seems:p$2,thinks:p$2,thought:p$2,spends:p$2,spendt:p$2,plays:p$2,played:p$2,sing:p$2,sang:p$2,learn:p$2,learned:p$2,wants:p$2,wanted:p$2}},m$1="Month",p$1="Person",month={beforeTags:{Date:m$1,Value:m$1},afterTags:{Date:m$1,Value:m$1},beforeWords:{by:m$1,in:m$1,on:m$1,during:m$1,after:m$1,before:m$1,between:m$1,until:m$1,til:m$1,sometime:m$1,of:m$1,this:m$1,next:m$1,last:m$1,previous:m$1,following:m$1,with:p$1},afterWords:{sometime:m$1,in:m$1,of:m$1,until:m$1,the:m$1}},personDate={beforeTags:Object.assign({},person$1.beforeTags,month.beforeTags),afterTags:Object.assign({},person$1.afterTags,month.afterTags),beforeWords:Object.assign({},person$1.beforeWords,month.beforeWords),afterWords:Object.assign({},person$1.afterWords,month.afterWords)},clue$1={beforeTags:Object.assign({},noun$1.beforeTags,person$1.beforeTags),afterTags:Object.assign({},noun$1.afterTags,person$1.afterTags),beforeWords:Object.assign({},noun$1.beforeWords,person$1.beforeWords,{i:"Infinitive",we:"Infinitive"}),afterWords:Object.assign({},noun$1.afterWords,person$1.afterWords)},clues$3={beforeTags:Object.assign({},noun$1.beforeTags,person$1.beforeTags,verb.beforeTags),afterTags:Object.assign({},noun$1.afterTags,person$1.afterTags,verb.afterTags),beforeWords:Object.assign({},noun$1.beforeWords,person$1.beforeWords,verb.beforeWords),afterWords:Object.assign({},noun$1.afterWords,person$1.afterWords,verb.afterWords)},p="Place",place={beforeTags:{Place:p},afterTags:{Place:p,Abbreviation:p},beforeWords:{in:p,by:p,near:p,from:p,to:p},afterWords:{in:p,by:p,near:p,from:p,to:p,government:p,council:p,region:p,city:p}},clue={beforeTags:Object.assign({},place.beforeTags,person$1.beforeTags),afterTags:Object.assign({},place.afterTags,person$1.afterTags),beforeWords:Object.assign({},place.beforeWords,person$1.beforeWords),afterWords:Object.assign({},place.afterWords,person$1.afterWords)},clues$2={beforeTags:Object.assign({},person$1.beforeTags,adj$1.beforeTags),afterTags:Object.assign({},person$1.afterTags,adj$1.afterTags),beforeWords:Object.assign({},person$1.beforeWords,adj$1.beforeWords),afterWords:Object.assign({},person$1.afterWords,adj$1.afterWords)};let un="Unit";const clues$1={beforeTags:{Value:un},afterTags:{},beforeWords:{per:un,every:un,each:un,square:un,cubic:un,sq:un,metric:un},afterWords:{per:un,squared:un,cubed:un,long:un}},clues={"Actor|Verb":clue$7,"Adj|Gerund":clue$6,"Adj|Noun":clue$5,"Adj|Past":adjPast$1,"Adj|Present":clue$4,"Noun|Verb":clue$2,"Noun|Gerund":clue$3,"Person|Noun":clue$1,"Person|Date":personDate,"Person|Verb":clues$3,"Person|Place":clue,"Person|Adj":clues$2,"Unit|Noun":clues$1},copy=(b,$)=>{let _e=Object.keys(b).reduce((et,tt)=>(et[tt]=b[tt]==="Infinitive"?"PresentTense":"Plural",et),{});return Object.assign(_e,$)};clues["Plural|Verb"]={beforeWords:copy(clues["Noun|Verb"].beforeWords,{had:"Plural",have:"Plural"}),afterWords:copy(clues["Noun|Verb"].afterWords,{his:"PresentTense",her:"PresentTense",its:"PresentTense",in:null,to:null,is:"PresentTense",by:"PresentTense"}),beforeTags:copy(clues["Noun|Verb"].beforeTags,{Conjunction:"PresentTense",Noun:void 0,ProperNoun:"PresentTense"}),afterTags:copy(clues["Noun|Verb"].afterTags,{Gerund:"Plural",Noun:"PresentTense",Value:"PresentTense"})};const Adj$2="Adjective",Inf$1="Infinitive",Pres$1="PresentTense",Sing$1="Singular",Past$1="PastTense",Avb="Adverb",Plrl="Plural",Actor$1="Actor",Vb="Verb",Noun$2="Noun",Last$1="LastName",Modal="Modal",Place="Place",Prt="Participle",suffixPatterns=[null,null,{ea:Sing$1,ia:Noun$2,ic:Adj$2,ly:Avb,"'n":Vb,"'t":Vb},{oed:Past$1,ued:Past$1,xed:Past$1," so":Avb,"'ll":Modal,"'re":"Copula",azy:Adj$2,eer:Noun$2,end:Vb,ped:Past$1,ffy:Adj$2,ify:Inf$1,ing:"Gerund",ize:Inf$1,ibe:Inf$1,lar:Adj$2,mum:Adj$2,nes:Pres$1,nny:Adj$2,ous:Adj$2,que:Adj$2,ger:Noun$2,ber:Noun$2,rol:Sing$1,sis:Sing$1,ogy:Sing$1,oid:Sing$1,ian:Sing$1,zes:Pres$1,eld:Past$1,ken:Prt,ven:Prt,ten:Prt,ect:Inf$1,ict:Inf$1,ign:Inf$1,oze:Inf$1,ful:Adj$2,bal:Adj$2,ton:Noun$2},{amed:Past$1,aped:Past$1,ched:Past$1,lked:Past$1,rked:Past$1,reed:Past$1,nded:Past$1,mned:Adj$2,cted:Past$1,dged:Past$1,ield:Sing$1,akis:Last$1,cede:Inf$1,chuk:Last$1,czyk:Last$1,ects:Pres$1,iend:Sing$1,ends:Vb,enko:Last$1,ette:Sing$1,iary:Sing$1,wner:Sing$1,fies:Pres$1,fore:Avb,gate:Inf$1,gone:Adj$2,ices:Plrl,ints:Plrl,ruct:Inf$1,ines:Plrl,ions:Plrl,ners:Plrl,pers:Plrl,lers:Plrl,less:Adj$2,llen:Adj$2,made:Adj$2,nsen:Last$1,oses:Pres$1,ould:Modal,some:Adj$2,sson:Last$1,ians:Plrl,tion:Sing$1,tage:Noun$2,ique:Sing$1,tive:Adj$2,tors:Noun$2,vice:Sing$1,lier:Sing$1,fier:Sing$1,wned:Past$1,gent:Sing$1,tist:Actor$1,pist:Actor$1,rist:Actor$1,mist:Actor$1,yist:Actor$1,vist:Actor$1,ists:Actor$1,lite:Sing$1,site:Sing$1,rite:Sing$1,mite:Sing$1,bite:Sing$1,mate:Sing$1,date:Sing$1,ndal:Sing$1,vent:Sing$1,uist:Actor$1,gist:Actor$1,note:Sing$1,cide:Sing$1,ence:Sing$1,wide:Adj$2,vide:Inf$1,ract:Inf$1,duce:Inf$1,pose:Inf$1,eive:Inf$1,lyze:Inf$1,lyse:Inf$1,iant:Adj$2,nary:Adj$2,ghty:Adj$2,uent:Adj$2,erer:Actor$1,bury:Place,dorf:Noun$2,esty:Noun$2,wych:Place,dale:Place,folk:Place},{elist:Actor$1,holic:Sing$1,phite:Sing$1,tized:Past$1,urned:Past$1,eased:Past$1,ances:Plrl,bound:Adj$2,ettes:Plrl,fully:Avb,ishes:Pres$1,ities:Plrl,marek:Last$1,nssen:Last$1,ology:Noun$2,osome:Sing$1,tment:Sing$1,ports:Plrl,rough:Adj$2,tches:Pres$1,tieth:"Ordinal",tures:Plrl,wards:Avb,where:Avb,archy:Noun$2,pathy:Noun$2,opoly:Noun$2,embly:Noun$2,phate:Noun$2,ndent:Sing$1,scent:Sing$1,onist:Actor$1,anist:Actor$1,alist:Actor$1,olist:Actor$1,icist:Actor$1,ounce:Inf$1,iable:Adj$2,borne:Adj$2,gnant:Adj$2,inant:Adj$2,igent:Adj$2,atory:Adj$2,rient:Sing$1,dient:Sing$1,maker:Actor$1,burgh:Place,mouth:Place,ceter:Place,ville:Place,worth:Noun$2},{auskas:Last$1,parent:Sing$1,cedent:Sing$1,ionary:Sing$1,cklist:Sing$1,keeper:Actor$1,logist:Actor$1,teenth:"Value",worker:Actor$1,master:Actor$1,writer:Actor$1,brough:Place,cester:Place},{logists:Actor$1,opoulos:Last$1,borough:Place,sdottir:Last$1}],Adj$1="Adjective",Noun$1="Noun",Verb$1="Verb",prefixPatterns=[null,null,{},{neo:Noun$1,bio:Noun$1,"de-":Verb$1,"re-":Verb$1,"un-":Verb$1,"ex-":Noun$1},{anti:Noun$1,auto:Noun$1,faux:Adj$1,hexa:Noun$1,kilo:Noun$1,mono:Noun$1,nano:Noun$1,octa:Noun$1,poly:Noun$1,semi:Adj$1,tele:Noun$1,"pro-":Adj$1,"mis-":Verb$1,"dis-":Verb$1,"pre-":Adj$1},{anglo:Noun$1,centi:Noun$1,ethno:Noun$1,ferro:Noun$1,grand:Noun$1,hepta:Noun$1,hydro:Noun$1,intro:Noun$1,macro:Noun$1,micro:Noun$1,milli:Noun$1,nitro:Noun$1,penta:Noun$1,quasi:Adj$1,radio:Noun$1,tetra:Noun$1,"omni-":Adj$1,"post-":Adj$1},{pseudo:Adj$1,"extra-":Adj$1,"hyper-":Adj$1,"inter-":Adj$1,"intra-":Adj$1,"deca-":Adj$1},{electro:Noun$1}],Adj="Adjective",Inf="Infinitive",Pres="PresentTense",Sing="Singular",Past="PastTense",Adverb="Adverb",Exp="Expression",Actor="Actor",Verb="Verb",Noun="Noun",Last="LastName",endsWith$1={a:[[/.[aeiou]na$/,Noun,"tuna"],[/.[oau][wvl]ska$/,Last],[/.[^aeiou]ica$/,Sing,"harmonica"],[/^([hyj]a+)+$/,Exp,"haha"]],c:[[/.[^aeiou]ic$/,Adj]],d:[[/[aeiou](pp|ll|ss|ff|gg|tt|rr|bb|nn|mm)ed$/,Past,"popped"],[/.[aeo]{2}[bdgmnprvz]ed$/,Past,"rammed"],[/.[aeiou][sg]hed$/,Past,"gushed"],[/.[aeiou]red$/,Past,"hired"],[/.[aeiou]r?ried$/,Past,"hurried"],[/[^aeiou]ard$/,Sing,"steward"],[/[aeiou][^aeiou]id$/,Adj,""],[/.[vrl]id$/,Adj,"livid"],[/..led$/,Past,"hurled"],[/.[iao]sed$/,Past,""],[/[aeiou]n?[cs]ed$/,Past,""],[/[aeiou][rl]?[mnf]ed$/,Past,""],[/[aeiou][ns]?c?ked$/,Past,"bunked"],[/[aeiou]gned$/,Past],[/[aeiou][nl]?ged$/,Past],[/.[tdbwxyz]ed$/,Past],[/[^aeiou][aeiou][tvx]ed$/,Past],[/.[cdflmnprstv]ied$/,Past,"emptied"]],e:[[/.[lnr]ize$/,Inf,"antagonize"],[/.[^aeiou]ise$/,Inf,"antagonise"],[/.[aeiou]te$/,Inf,"bite"],[/.[^aeiou][ai]ble$/,Adj,"fixable"],[/.[^aeiou]eable$/,Adj,"maleable"],[/.[ts]ive$/,Adj,"festive"],[/[a-z]-like$/,Adj,"woman-like"]],h:[[/.[^aeiouf]ish$/,Adj,"cornish"],[/.v[iy]ch$/,Last,"..ovich"],[/^ug?h+$/,Exp,"ughh"],[/^uh[ -]?oh$/,Exp,"uhoh"],[/[a-z]-ish$/,Adj,"cartoon-ish"]],i:[[/.[oau][wvl]ski$/,Last,"polish-male"]],k:[[/^(k){2}$/,Exp,"kkkk"]],l:[[/.[gl]ial$/,Adj,"familial"],[/.[^aeiou]ful$/,Adj,"fitful"],[/.[nrtumcd]al$/,Adj,"natal"],[/.[^aeiou][ei]al$/,Adj,"familial"]],m:[[/.[^aeiou]ium$/,Sing,"magnesium"],[/[^aeiou]ism$/,Sing,"schism"],[/^[hu]m+$/,Exp,"hmm"],[/^\d+ ?[ap]m$/,"Date","3am"]],n:[[/.[lsrnpb]ian$/,Adj,"republican"],[/[^aeiou]ician$/,Actor,"musician"],[/[aeiou][ktrp]in'$/,"Gerund","cookin'"]],o:[[/^no+$/,Exp,"noooo"],[/^(yo)+$/,Exp,"yoo"],[/^wo{2,}[pt]?$/,Exp,"woop"]],r:[[/.[bdfklmst]ler$/,"Noun"],[/[aeiou][pns]er$/,Sing],[/[^i]fer$/,Inf],[/.[^aeiou][ao]pher$/,Actor],[/.[lk]er$/,"Noun"],[/.ier$/,"Comparative"]],t:[[/.[di]est$/,"Superlative"],[/.[icldtgrv]ent$/,Adj],[/[aeiou].*ist$/,Adj],[/^[a-z]et$/,Verb]],s:[[/.[^aeiou]ises$/,Pres],[/.[rln]ates$/,Pres],[/.[^z]ens$/,Verb],[/.[lstrn]us$/,Sing],[/.[aeiou]sks$/,Pres],[/.[aeiou]kes$/,Pres],[/[aeiou][^aeiou]is$/,Sing],[/[a-z]'s$/,Noun],[/^yes+$/,Exp]],v:[[/.[^aeiou][ai][kln]ov$/,Last]],y:[[/.[cts]hy$/,Adj],[/.[st]ty$/,Adj],[/.[tnl]ary$/,Adj],[/.[oe]ry$/,Sing],[/[rdntkbhs]ly$/,Adverb],[/.(gg|bb|zz)ly$/,Adj],[/...lly$/,Adverb],[/.[gk]y$/,Adj],[/[bszmp]{2}y$/,Adj],[/.[ai]my$/,Adj],[/[ea]{2}zy$/,Adj],[/.[^aeiou]ity$/,Sing]]},vb="Verb",nn="Noun",neighbours$1={leftTags:[["Adjective",nn],["Possessive",nn],["Determiner",nn],["Adverb",vb],["Pronoun",vb],["Value",nn],["Ordinal",nn],["Modal",vb],["Superlative",nn],["Demonym",nn],["Honorific","Person"]],leftWords:[["i",vb],["first",nn],["it",vb],["there",vb],["not",vb],["because",nn],["if",nn],["but",nn],["who",vb],["this",nn],["his",nn],["when",nn],["you",vb],["very","Adjective"],["old",nn],["never",vb],["before",nn],["a",nn],["the",nn],["been",vb]],rightTags:[["Copula",nn],["PastTense",nn],["Conjunction",nn],["Modal",nn]],rightWords:[["there",vb],["me",vb],["man","Adjective"],["him",vb],["it",vb],["were",nn],["took",nn],["himself",vb],["went",nn],["who",nn],["jr","Person"]]},data={Comparative:{fwd:"3:ser,ier¦1er:h,t,f,l,n¦1r:e¦2er:ss,or,om",both:"3er:ver,ear,alm¦3ner:hin¦3ter:lat¦2mer:im¦2er:ng,rm,mb¦2ber:ib¦2ger:ig¦1er:w,p,k,d¦ier:y",rev:"1:tter,yer¦2:uer,ver,ffer,oner,eler,ller,iler,ster,cer,uler,sher,ener,gher,aner,adder,nter,eter,rter,hter,rner,fter¦3:oser,ooler,eafer,user,airer,bler,maler,tler,eater,uger,rger,ainer,urer,ealer,icher,pler,emner,icter,nser,iser¦4:arser,viner,ucher,rosser,somer,ndomer,moter,oother,uarer,hiter¦5:nuiner,esser,emier¦ar:urther",ex:"worse:bad¦better:good¦4er:fair,gray,poor¦1urther:far¦3ter:fat,hot,wet¦3der:mad,sad¦3er:shy,fun¦4der:glad¦:¦4r:cute,dire,fake,fine,free,lame,late,pale,rare,ripe,rude,safe,sore,tame,wide¦5r:eerie,stale"},Gerund:{fwd:"1:nning,tting,rring,pping,eing,mming,gging,dding,bbing,kking¦2:eking,oling,eling,eming¦3:velling,siting,uiting,fiting,loting,geting,ialing,celling¦4:graming",both:"1:aing,iing,fing,xing,ying,oing,hing,wing¦2:tzing,rping,izzing,bting,mning,sping,wling,rling,wding,rbing,uping,lming,wning,mping,oning,lting,mbing,lking,fting,hting,sking,gning,pting,cking,ening,nking,iling,eping,ering,rting,rming,cting,lping,ssing,nting,nding,lding,sting,rning,rding,rking¦3:belling,siping,toming,yaking,uaking,oaning,auling,ooping,aiding,naping,euring,tolling,uzzing,ganing,haning,ualing,halling,iasing,auding,ieting,ceting,ouling,voring,ralling,garing,joring,oaming,oaking,roring,nelling,ooring,uelling,eaming,ooding,eaping,eeting,ooting,ooming,xiting,keting,ooking,ulling,airing,oaring,biting,outing,oiting,earing,naling,oading,eeding,ouring,eaking,aiming,illing,oining,eaning,onging,ealing,aining,eading¦4:thoming,melling,aboring,ivoting,weating,dfilling,onoring,eriting,imiting,tialling,rgining,otoring,linging,winging,lleting,louding,spelling,mpelling,heating,feating,opelling,choring,welling,ymaking,ctoring,calling,peating,iloring,laiting,utoring,uditing,mmaking,loating,iciting,waiting,mbating,voiding,otalling,nsoring,nselling,ocusing,itoring,eloping¦5:rselling,umpeting,atrolling,treating,tselling,rpreting,pringing,ummeting,ossoming,elmaking,eselling,rediting,totyping,onmaking,rfeiting,ntrolling¦5e:chmaking,dkeeping,severing,erouting,ecreting,ephoning,uthoring,ravening,reathing,pediting,erfering,eotyping,fringing,entoring,ombining,ompeting¦4e:emaking,eething,twining,rruling,chuting,xciting,rseding,scoping,edoring,pinging,lunging,agining,craping,pleting,eleting,nciting,nfining,ncoding,tponing,ecoding,writing,esaling,nvening,gnoring,evoting,mpeding,rvening,dhering,mpiling,storing,nviting,ploring¦3e:tining,nuring,saking,miring,haling,ceding,xuding,rining,nuting,laring,caring,miling,riding,hoking,piring,lading,curing,uading,noting,taping,futing,paring,hading,loding,siring,guring,vading,voking,during,niting,laning,caping,luting,muting,ruding,ciding,juring,laming,caling,hining,uoting,liding,ciling,duling,tuting,puting,cuting,coring,uiding,tiring,turing,siding,rading,enging,haping,buting,lining,taking,anging,haring,uiring,coming,mining,moting,suring,viding,luding¦2e:tring,zling,uging,oging,gling,iging,vring,fling,lging,obing,psing,pling,ubing,cling,dling,wsing,iking,rsing,dging,kling,ysing,tling,rging,eging,nsing,uning,osing,uming,using,ibing,bling,aging,ising,asing,ating¦2ie:rlying¦1e:zing,uing,cing,ving",rev:"ying:ie¦1ing:se,ke,te,we,ne,re,de,pe,me,le,c,he¦2ing:ll,ng,dd,ee,ye,oe,rg,us¦2ning:un¦2ging:og,ag,ug,ig,eg¦2ming:um¦2bing:ub,ab,eb,ob¦3ning:lan,can,hin,pin,win¦3ring:cur,lur,tir,tar,pur,car¦3ing:ait,del,eel,fin,eat,oat,eem,lel,ool,ein,uin¦3ping:rop,rap,top,uip,wap,hip,hop,lap,rip,cap¦3ming:tem,wim,rim,kim,lim¦3ting:mat,cut,pot,lit,lot,hat,set,pit,put¦3ding:hed,bed,bid¦3king:rek¦3ling:cil,pel¦3bing:rib¦4ning:egin¦4ing:isit,ruit,ilot,nsit,dget,rkel,ival,rcel¦4ring:efer,nfer¦4ting:rmit,mmit,ysit,dmit,emit,bmit,tfit,gret¦4ling:evel,xcel,ivel¦4ding:hred¦5ing:arget,posit,rofit¦5ring:nsfer¦5ting:nsmit,orget,cquit¦5ling:ancel,istil",ex:"3:adding,eating,aiming,aiding,airing,outing,gassing,setting,getting,putting,cutting,winning,sitting,betting,mapping,tapping,letting,bidding,hitting,tanning,netting,popping,fitting,capping,lapping,barring,banning,vetting,topping,rotting,tipping,potting,wetting,pitting,dipping,budding,hemming,pinning,jetting,kidding,padding,podding,sipping,wedding,bedding,donning,warring,penning,gutting,cueing,wadding,petting,ripping,napping,matting,tinning,binning,dimming,hopping,mopping,nodding,panning,rapping,ridding,sinning¦4:selling,falling,calling,waiting,editing,telling,rolling,heating,boating,hanging,beating,coating,singing,tolling,felling,polling,discing,seating,voiding,gelling,yelling,baiting,reining,ruining,seeking,spanning,stepping,knitting,emitting,slipping,quitting,dialing,omitting,clipping,shutting,skinning,abutting,flipping,trotting,cramming,fretting,suiting¦5:bringing,treating,spelling,stalling,trolling,expelling,rivaling,wringing,deterring,singeing,befitting,refitting¦6:enrolling,distilling,scrolling,strolling,caucusing,travelling¦7:installing,redefining,stencilling,recharging,overeating,benefiting,unraveling,programing¦9:reprogramming¦is:being¦2e:using,aging,owing¦3e:making,taking,coming,noting,hiring,filing,coding,citing,doping,baking,coping,hoping,lading,caring,naming,voting,riding,mining,curing,lining,ruling,typing,boring,dining,firing,hiding,piling,taping,waning,baling,boning,faring,honing,wiping,luring,timing,wading,piping,fading,biting,zoning,daring,waking,gaming,raking,ceding,tiring,coking,wining,joking,paring,gaping,poking,pining,coring,liming,toting,roping,wiring,aching¦4e:writing,storing,eroding,framing,smoking,tasting,wasting,phoning,shaking,abiding,braking,flaking,pasting,priming,shoring,sloping,withing,hinging¦5e:defining,refining,renaming,swathing,fringing,reciting¦1ie:dying,tying,lying,vying¦7e:sunbathing"},Participle:{fwd:"1:mt¦2:llen¦3:iven,aken¦:ne¦y:in",both:"1:wn¦2:me,aten¦3:seen,bidden,isen¦4:roven,asten¦3l:pilt¦3d:uilt¦2e:itten¦1im:wum¦1eak:poken¦1ine:hone¦1ose:osen¦1in:gun¦1ake:woken¦ear:orn¦eal:olen¦eeze:ozen¦et:otten¦ink:unk¦ing:ung",rev:"2:un¦oken:eak¦ought:eek¦oven:eave¦1ne:o¦1own:ly¦1den:de¦1in:ay¦2t:am¦2n:ee¦3en:all¦4n:rive,sake,take¦5n:rgive",ex:"2:been¦3:seen,run¦4:given,taken¦5:shaken¦2eak:broken¦1ive:dove¦2y:flown¦3e:hidden,ridden¦1eek:sought¦1ake:woken¦1eave:woven"},PastTense:{fwd:"1:tted,wed,gged,nned,een,rred,pped,yed,bbed,oed,dded,rd,wn,mmed¦2:eed,nded,et,hted,st,oled,ut,emed,eled,lded,ken,rt,nked,apt,ant,eped,eked¦3:eared,eat,eaded,nelled,ealt,eeded,ooted,eaked,eaned,eeted,mited,bid,uit,ead,uited,ealed,geted,velled,ialed,belled¦4:ebuted,hined,comed¦y:ied¦ome:ame¦ear:ore¦ind:ound¦ing:ung,ang¦ep:pt¦ink:ank,unk¦ig:ug¦all:ell¦ee:aw¦ive:ave¦eeze:oze¦old:eld¦ave:ft¦ake:ook¦ell:old¦ite:ote¦ide:ode¦ine:one¦in:un,on¦eal:ole¦im:am¦ie:ay¦and:ood¦1ise:rose¦1eak:roke¦1ing:rought¦1ive:rove¦1el:elt¦1id:bade¦1et:got¦1y:aid¦1it:sat¦3e:lid¦3d:pent",both:"1:aed,fed,xed,hed¦2:sged,xted,wled,rped,lked,kied,lmed,lped,uped,bted,rbed,rked,wned,rled,mped,fted,mned,mbed,zzed,omed,ened,cked,gned,lted,sked,ued,zed,nted,ered,rted,rmed,ced,sted,rned,ssed,rded,pted,ved,cted¦3:cled,eined,siped,ooned,uked,ymed,jored,ouded,ioted,oaned,lged,asped,iged,mured,oided,eiled,yped,taled,moned,yled,lit,kled,oaked,gled,naled,fled,uined,oared,valled,koned,soned,aided,obed,ibed,meted,nicked,rored,micked,keted,vred,ooped,oaded,rited,aired,auled,filled,ouled,ooded,ceted,tolled,oited,bited,aped,tled,vored,dled,eamed,nsed,rsed,sited,owded,pled,sored,rged,osed,pelled,oured,psed,oated,loned,aimed,illed,eured,tred,ioned,celled,bled,wsed,ooked,oiled,itzed,iked,iased,onged,ased,ailed,uned,umed,ained,auded,nulled,ysed,eged,ised,aged,oined,ated,used,dged,doned¦4:ntied,efited,uaked,caded,fired,roped,halled,roked,himed,culed,tared,lared,tuted,uared,routed,pited,naked,miled,houted,helled,hared,cored,caled,tired,peated,futed,ciled,called,tined,moted,filed,sided,poned,iloted,honed,lleted,huted,ruled,cured,named,preted,vaded,sured,talled,haled,peded,gined,nited,uided,ramed,feited,laked,gured,ctored,unged,pired,cuted,voked,eloped,ralled,rined,coded,icited,vided,uaded,voted,mined,sired,noted,lined,nselled,luted,jured,fided,puted,piled,pared,olored,cided,hoked,enged,tured,geoned,cotted,lamed,uiled,waited,udited,anged,luded,mired,uired,raded¦5:modelled,izzled,eleted,umpeted,ailored,rseded,treated,eduled,ecited,rammed,eceded,atrolled,nitored,basted,twined,itialled,ncited,gnored,ploded,xcited,nrolled,namelled,plored,efeated,redited,ntrolled,nfined,pleted,llided,lcined,eathed,ibuted,lloted,dhered,cceded¦3ad:sled¦2aw:drew¦2ot:hot¦2ke:made¦2ow:hrew,grew¦2ose:hose¦2d:ilt¦2in:egan¦1un:ran¦1ink:hought¦1ick:tuck¦1ike:ruck¦1eak:poke,nuck¦1it:pat¦1o:did¦1ow:new¦1ake:woke¦go:went",rev:"3:rst,hed,hut,cut,set¦4:tbid¦5:dcast,eread,pread,erbid¦ought:uy,eek¦1ied:ny,ly,dy,ry,fy,py,vy,by,ty,cy¦1ung:ling,ting,wing¦1pt:eep¦1ank:rink¦1ore:bear,wear¦1ave:give¦1oze:reeze¦1ound:rind,wind¦1ook:take,hake¦1aw:see¦1old:sell¦1ote:rite¦1ole:teal¦1unk:tink¦1am:wim¦1ay:lie¦1ood:tand¦1eld:hold¦2d:he,ge,re,le,leed,ne,reed,be,ye,lee,pe,we¦2ed:dd,oy,or,ey,gg,rr,us,ew,to¦2ame:ecome,rcome¦2ped:ap¦2ged:ag,og,ug,eg¦2bed:ub,ab,ib,ob¦2lt:neel¦2id:pay¦2ang:pring¦2ove:trive¦2med:um¦2ode:rride¦2at:ysit¦3ted:mit,hat,mat,lat,pot,rot,bat¦3ed:low,end,tow,und,ond,eem,lay,cho,dow,xit,eld,ald,uld,law,lel,eat,oll,ray,ank,fin,oam,out,how,iek,tay,haw,ait,vet,say,cay,bow¦3d:ste,ede,ode,ete,ree,ude,ame,oke,ote,ime,ute,ade¦3red:lur,cur,pur,car¦3ped:hop,rop,uip,rip,lip,tep,top¦3ded:bed,rod,kid¦3ade:orbid¦3led:uel¦3ned:lan,can,kin,pan,tun¦3med:rim,lim¦4ted:quit,llot¦4ed:pear,rrow,rand,lean,mand,anel,pand,reet,link,abel,evel,imit,ceed,ruit,mind,peal,veal,hool,head,pell,well,mell,uell,band,hear,weak¦4led:nnel,qual,ebel,ivel¦4red:nfer,efer,sfer¦4n:sake,trew¦4d:ntee¦4ded:hred¦4ned:rpin¦5ed:light,nceal,right,ndear,arget,hread,eight,rtial,eboot¦5d:edite,nvite¦5ted:egret¦5led:ravel",ex:"2:been,upped¦3:added,aged,aided,aimed,aired,bid,died,dyed,egged,erred,eyed,fit,gassed,hit,lied,owed,pent,pied,tied,used,vied,oiled,outed,banned,barred,bet,canned,cut,dipped,donned,ended,feed,inked,jarred,let,manned,mowed,netted,padded,panned,pitted,popped,potted,put,set,sewn,sowed,tanned,tipped,topped,vowed,weed,bowed,jammed,binned,dimmed,hopped,mopped,nodded,pinned,rigged,sinned,towed,vetted¦4:ached,baked,baled,boned,bored,called,caned,cared,ceded,cited,coded,cored,cubed,cured,dared,dined,edited,exited,faked,fared,filed,fined,fired,fuelled,gamed,gelled,hired,hoped,joked,lined,mined,named,noted,piled,poked,polled,pored,pulled,reaped,roamed,rolled,ruled,seated,shed,sided,timed,tolled,toned,voted,waited,walled,waned,winged,wiped,wired,zoned,yelled,tamed,lubed,roped,faded,mired,caked,honed,banged,culled,heated,raked,welled,banded,beat,cast,cooled,cost,dealt,feared,folded,footed,handed,headed,heard,hurt,knitted,landed,leaked,leapt,linked,meant,minded,molded,neared,needed,peaked,plodded,plotted,pooled,quit,read,rooted,sealed,seeded,seeped,shipped,shunned,skimmed,slammed,sparred,stemmed,stirred,suited,thinned,twinned,swayed,winked,dialed,abutted,blotted,fretted,healed,heeded,peeled,reeled¦5:basted,cheated,equalled,eroded,exiled,focused,opined,pleated,primed,quoted,scouted,shored,sloped,smoked,sniped,spelled,spouted,routed,staked,stored,swelled,tasted,treated,wasted,smelled,dwelled,honored,prided,quelled,eloped,scared,coveted,sweated,breaded,cleared,debuted,deterred,freaked,modeled,pleaded,rebutted,speeded¦6:anchored,defined,endured,impaled,invited,refined,revered,strolled,cringed,recast,thrust,unfolded¦7:authored,combined,competed,conceded,convened,excreted,extruded,redefined,restored,secreted,rescinded,welcomed¦8:expedited,infringed¦9:interfered,intervened,persevered¦10:contravened¦eat:ate¦is:was¦go:went¦are:were¦3d:bent,lent,rent,sent¦3e:bit,fled,hid,lost¦3ed:bled,bred¦2ow:blew,grew¦1uy:bought¦2tch:caught¦1o:did¦1ive:dove,gave¦2aw:drew¦2ed:fed¦2y:flew,laid,paid,said¦1ight:fought¦1et:got¦2ve:had¦1ang:hung¦2ad:led¦2ght:lit¦2ke:made¦2et:met¦1un:ran¦1ise:rose¦1it:sat¦1eek:sought¦1each:taught¦1ake:woke,took¦1eave:wove¦2ise:arose¦1ear:bore,tore,wore¦1ind:bound,found,wound¦2eak:broke¦2ing:brought,wrung¦1ome:came¦2ive:drove¦1ig:dug¦1all:fell¦2el:felt¦4et:forgot¦1old:held¦2ave:left¦1ing:rang,sang¦1ide:rode¦1ink:sank¦1ee:saw¦2ine:shone¦4e:slid¦1ell:sold,told¦4d:spent¦2in:spun¦1in:won"},PresentTense:{fwd:"1:oes¦1ve:as",both:"1:xes¦2:zzes,ches,shes,sses¦3:iases¦2y:llies,plies¦1y:cies,bies,ties,vies,nies,pies,dies,ries,fies¦:s",rev:"1ies:ly¦2es:us,go,do¦3es:cho,eto",ex:"2:does,goes¦3:gasses¦5:focuses¦is:are¦3y:relies¦2y:flies¦2ve:has"},Superlative:{fwd:"1st:e¦1est:l,m,f,s¦1iest:cey¦2est:or,ir¦3est:ver",both:"4:east¦5:hwest¦5lest:erful¦4est:weet,lgar,tter,oung¦4most:uter¦3est:ger,der,rey,iet,ong,ear¦3test:lat¦3most:ner¦2est:pt,ft,nt,ct,rt,ht¦2test:it¦2gest:ig¦1est:b,k,n,p,h,d,w¦iest:y",rev:"1:ttest,nnest,yest¦2:sest,stest,rmest,cest,vest,lmest,olest,ilest,ulest,ssest,imest,uest¦3:rgest,eatest,oorest,plest,allest,urest,iefest,uelest,blest,ugest,amest,yalest,ealest,illest,tlest,itest¦4:cerest,eriest,somest,rmalest,ndomest,motest,uarest,tiffest¦5:leverest,rangest¦ar:urthest¦3ey:riciest",ex:"best:good¦worst:bad¦5est:great¦4est:fast,full,fair,dull¦3test:hot,wet,fat¦4nest:thin¦1urthest:far¦3est:gay,shy,ill¦4test:neat¦4st:late,wide,fine,safe,cute,fake,pale,rare,rude,sore,ripe,dire¦6st:severe"},AdjToNoun:{fwd:"1:tistic,eable,lful,sful,ting,tty¦2:onate,rtable,geous,ced,seful,ctful¦3:ortive,ented¦arity:ear¦y:etic¦fulness:begone¦1ity:re¦1y:tiful,gic¦2ity:ile,imous,ilous,ime¦2ion:ated¦2eness:iving¦2y:trious¦2ation:iring¦2tion:vant¦3ion:ect¦3ce:mant,mantic¦3tion:irable¦3y:est,estic¦3m:mistic,listic¦3ess:ning¦4n:utious¦4on:rative,native,vative,ective¦4ce:erant",both:"1:king,wing¦2:alous,ltuous,oyful,rdous¦3:gorous,ectable,werful,amatic¦4:oised,usical,agical,raceful,ocused,lined,ightful¦5ness:stful,lding,itous,nuous,ulous,otous,nable,gious,ayful,rvous,ntous,lsive,peful,entle,ciful,osive,leful,isive,ncise,reful,mious¦5ty:ivacious¦5ties:ubtle¦5ce:ilient,adiant,atient¦5cy:icient¦5sm:gmatic¦5on:sessive,dictive¦5ity:pular,sonal,eative,entic¦5sity:uminous¦5ism:conic¦5nce:mperate¦5ility:mitable¦5ment:xcited¦5n:bitious¦4cy:brant,etent,curate¦4ility:erable,acable,icable,ptable¦4ty:nacious,aive,oyal,dacious¦4n:icious¦4ce:vient,erent,stent,ndent,dient,quent,ident¦4ness:adic,ound,hing,pant,sant,oing,oist,tute¦4icity:imple¦4ment:fined,mused¦4ism:otic¦4ry:dantic¦4ity:tund,eral¦4edness:hand¦4on:uitive¦4lity:pitable¦4sm:eroic,namic¦4sity:nerous¦3th:arm¦3ility:pable,bable,dable,iable¦3cy:hant,nant,icate¦3ness:red,hin,nse,ict,iet,ite,oud,ind,ied,rce¦3ion:lute¦3ity:ual,gal,volous,ial¦3ce:sent,fensive,lant,gant,gent,lent,dant¦3on:asive¦3m:fist,sistic,iastic¦3y:terious,xurious,ronic,tastic¦3ur:amorous¦3e:tunate¦3ation:mined¦3sy:rteous¦3ty:ain¦3ry:ave¦3ment:azed¦2ness:de,on,ue,rn,ur,ft,rp,pe,om,ge,rd,od,ay,ss,er,ll,oy,ap,ht,ld,ad,rt¦2inousness:umous¦2ity:neous,ene,id,ane¦2cy:bate,late¦2ation:ized¦2ility:oble,ible¦2y:odic¦2e:oving,aring¦2s:ost¦2itude:pt¦2dom:ee¦2ance:uring¦2tion:reet¦2ion:oted¦2sion:ending¦2liness:an¦2or:rdent¦1th:ung¦1e:uable¦1ness:w,h,k,f¦1ility:mble¦1or:vent¦1ement:ging¦1tiquity:ncient¦1ment:hed¦verty:or¦ength:ong¦eat:ot¦pth:ep¦iness:y",rev:"",ex:"5:forceful,humorous¦8:charismatic¦13:understanding¦5ity:active¦11ness:adventurous,inquisitive,resourceful¦8on:aggressive,automatic,perceptive¦7ness:amorous,fatuous,furtive,ominous,serious¦5ness:ample,sweet¦12ness:apprehensive,cantankerous,contemptuous,ostentatious¦13ness:argumentative,conscientious¦9ness:assertive,facetious,imperious,inventive,oblivious,rapacious,receptive,seditious,whimsical¦10ness:attractive,expressive,impressive,loquacious,salubrious,thoughtful¦3edom:boring¦4ness:calm,fast,keen,tame¦8ness:cheerful,gracious,specious,spurious,timorous,unctuous¦5sity:curious¦9ion:deliberate¦8ion:desperate¦6e:expensive¦7ce:fragrant¦3y:furious¦9ility:ineluctable¦6ism:mystical¦8ity:physical,proactive,sensitive,vertical¦5cy:pliant¦7ity:positive¦9ity:practical¦12ism:professional¦6ce:prudent¦3ness:red¦6cy:vagrant¦3dom:wise"}},checkEx=function(b,$={}){return $.hasOwnProperty(b)?$[b]:null},checkSame=function(b,$=[]){for(let _e=0;_e<$.length;_e+=1)if(b.endsWith($[_e]))return b;return null},checkRules=function(b,$,_e={}){$=$||{};let et=b.length-1;for(let tt=et;tt>=1;tt-=1){let nt=b.length-tt,rt=b.substring(nt,b.length);if($.hasOwnProperty(rt)===!0)return b.slice(0,nt)+$[rt];if(_e.hasOwnProperty(rt)===!0)return b.slice(0,nt)+_e[rt]}return $.hasOwnProperty("")?b+=$[""]:_e.hasOwnProperty("")?b+=_e[""]:null},convert=function(b="",$={}){let _e=checkEx(b,$.ex);return _e=_e||checkSame(b,$.same),_e=_e||checkRules(b,$.fwd,$.both),_e=_e||b,_e},flipObj=function(b){return Object.entries(b).reduce(($,_e)=>($[_e[1]]=_e[0],$),{})},reverse=function(b={}){return{reversed:!0,both:flipObj(b.both),ex:flipObj(b.ex),fwd:b.rev||{}}},prefix$2=/^([0-9]+)/,toObject=function(b){let $={};return b.split("¦").forEach(_e=>{let[et,tt]=_e.split(":");tt=(tt||"").split(","),tt.forEach(nt=>{$[nt]=et})}),$},growObject=function(b="",$=""){$=String($);let _e=$.match(prefix$2);if(_e===null)return $;let et=Number(_e[1])||0;return b.substring(0,et)+$.replace(prefix$2,"")},unpackOne=function(b){let $=toObject(b);return Object.keys($).reduce((_e,et)=>(_e[et]=growObject(et,$[et]),_e),{})},uncompress=function(b={}){return typeof b=="string"&&(b=JSON.parse(b)),b.fwd=unpackOne(b.fwd||""),b.both=unpackOne(b.both||""),b.rev=unpackOne(b.rev||""),b.ex=unpackOne(b.ex||""),b},fromPast=uncompress(data.PastTense),fromPresent=uncompress(data.PresentTense),fromGerund=uncompress(data.Gerund),fromParticiple=uncompress(data.Participle),toPast$3=reverse(fromPast),toPresent$2=reverse(fromPresent),toGerund$2=reverse(fromGerund),toParticiple=reverse(fromParticiple),toComparative$1=uncompress(data.Comparative),toSuperlative$1=uncompress(data.Superlative),fromComparative$1=reverse(toComparative$1),fromSuperlative$1=reverse(toSuperlative$1),adjToNoun=uncompress(data.AdjToNoun),models$1={fromPast,fromPresent,fromGerund,fromParticiple,toPast:toPast$3,toPresent:toPresent$2,toGerund:toGerund$2,toParticiple,toComparative:toComparative$1,toSuperlative:toSuperlative$1,fromComparative:fromComparative$1,fromSuperlative:fromSuperlative$1,adjToNoun},regexNormal=[[/^[\w.]+@[\w.]+\.[a-z]{2,3}$/,"Email"],[/^(https?:\/\/|www\.)+\w+\.[a-z]{2,3}/,"Url","http.."],[/^[a-z0-9./].+\.(com|net|gov|org|ly|edu|info|biz|dev|ru|jp|de|in|uk|br|io|ai)/,"Url",".com"],[/^[PMCE]ST$/,"Timezone","EST"],[/^ma?c'[a-z]{3}/,"LastName","mc'neil"],[/^o'[a-z]{3}/,"LastName","o'connor"],[/^ma?cd[aeiou][a-z]{3}/,"LastName","mcdonald"],[/^(lol)+[sz]$/,"Expression","lol"],[/^wo{2,}a*h?$/,"Expression","wooah"],[/^(hee?){2,}h?$/,"Expression","hehe"],[/^(un|de|re)\\-[a-z\u00C0-\u00FF]{2}/,"Verb","un-vite"],[/^(m|k|cm|km)\/(s|h|hr)$/,"Unit","5 k/m"],[/^(ug|ng|mg)\/(l|m3|ft3)$/,"Unit","ug/L"]],regexText=[[new RegExp("^#[\\p{Number}_]*\\p{Letter}","u"),"HashTag"],[/^@\w{2,}$/,"AtMention"],[/^([A-Z]\.){2}[A-Z]?/i,["Acronym","Noun"],"F.B.I"],[/.{3}[lkmnp]in['‘’‛‵′`´]$/,"Gerund","chillin'"],[/.{4}s['‘’‛‵′`´]$/,"Possessive","flanders'"],[/^[\p{Emoji_Presentation}\p{Extended_Pictographic}]/u,"Emoji","emoji-class"]],regexNumbers=[[/^@1?[0-9](am|pm)$/i,"Time","3pm"],[/^@1?[0-9]:[0-9]{2}(am|pm)?$/i,"Time","3:30pm"],[/^'[0-9]{2}$/,"Year"],[/^[012]?[0-9](:[0-5][0-9])(:[0-5][0-9])$/,"Time","3:12:31"],[/^[012]?[0-9](:[0-5][0-9])?(:[0-5][0-9])? ?(am|pm)$/i,"Time","1:12pm"],[/^[012]?[0-9](:[0-5][0-9])(:[0-5][0-9])? ?(am|pm)?$/i,"Time","1:12:31pm"],[/^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}/i,"Date","iso-date"],[/^[0-9]{1,4}-[0-9]{1,2}-[0-9]{1,4}$/,"Date","iso-dash"],[/^[0-9]{1,4}\/[0-9]{1,2}\/([0-9]{4}|[0-9]{2})$/,"Date","iso-slash"],[/^[0-9]{1,4}\.[0-9]{1,2}\.[0-9]{1,4}$/,"Date","iso-dot"],[/^[0-9]{1,4}-[a-z]{2,9}-[0-9]{1,4}$/i,"Date","12-dec-2019"],[/^utc ?[+-]?[0-9]+$/,"Timezone","utc-9"],[/^(gmt|utc)[+-][0-9]{1,2}$/i,"Timezone","gmt-3"],[/^[0-9]{3}-[0-9]{4}$/,"PhoneNumber","421-0029"],[/^(\+?[0-9][ -])?[0-9]{3}[ -]?[0-9]{3}-[0-9]{4}$/,"PhoneNumber","1-800-"],[new RegExp("^[-+]?\\p{Currency_Symbol}[-+]?[0-9]+(,[0-9]{3})*(\\.[0-9]+)?([kmb]|bn)?\\+?$","u"),["Money","Value"],"$5.30"],[new RegExp("^[-+]?[0-9]+(,[0-9]{3})*(\\.[0-9]+)?\\p{Currency_Symbol}\\+?$","u"),["Money","Value"],"5.30£"],[/^[-+]?[$£]?[0-9]([0-9,.])+(usd|eur|jpy|gbp|cad|aud|chf|cny|hkd|nzd|kr|rub)$/i,["Money","Value"],"$400usd"],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?\+?$/,["Cardinal","NumericValue"],"5,999"],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?(st|nd|rd|r?th)$/,["Ordinal","NumericValue"],"53rd"],[/^\.[0-9]+\+?$/,["Cardinal","NumericValue"],".73th"],[/^[-+]?[0-9]+(,[0-9]{3})*(\.[0-9]+)?%\+?$/,["Percent","Cardinal","NumericValue"],"-4%"],[/^\.[0-9]+%$/,["Percent","Cardinal","NumericValue"],".3%"],[/^[0-9]{1,4}\/[0-9]{1,4}(st|nd|rd|th)?s?$/,["Fraction","NumericValue"],"2/3rds"],[/^[0-9.]{1,3}[a-z]{0,2}[-–—][0-9]{1,3}[a-z]{0,2}$/,["Value","NumberRange"],"3-4"],[/^[0-9]{1,2}(:[0-9][0-9])?(am|pm)? ?[-–—] ?[0-9]{1,2}(:[0-9][0-9])?(am|pm)$/,["Time","NumberRange"],"3-4pm"],[/^[0-9.]+([a-z°]{1,4})$/,"NumericValue","9km"]],orgWords=["academy","administration","agence","agences","agencies","agency","airlines","airways","army","assoc","associates","association","assurance","authority","autorite","aviation","bank","banque","board","boys","brands","brewery","brotherhood","brothers","bureau","cafe","co","caisse","capital","care","cathedral","center","centre","chemicals","choir","chronicle","church","circus","clinic","clinique","club","co","coalition","coffee","collective","college","commission","committee","communications","community","company","comprehensive","computers","confederation","conference","conseil","consulting","containers","corporation","corps","corp","council","crew","data","departement","department","departments","design","development","directorate","division","drilling","education","eglise","electric","electricity","energy","ensemble","enterprise","enterprises","entertainment","estate","etat","faculty","faction","federation","financial","fm","foundation","fund","gas","gazette","girls","government","group","guild","herald","holdings","hospital","hotel","hotels","inc","industries","institut","institute","institutes","insurance","international","interstate","investment","investments","investors","journal","laboratory","labs","llc","ltd","limited","machines","magazine","management","marine","marketing","markets","media","memorial","ministere","ministry","military","mobile","motor","motors","musee","museum","news","observatory","office","oil","optical","orchestra","organization","partners","partnership","petrol","petroleum","pharmacare","pharmaceutical","pharmaceuticals","pizza","plc","police","politburo","polytechnic","post","power","press","productions","quartet","radio","reserve","resources","restaurant","restaurants","savings","school","securities","service","services","societe","subsidiary","society","sons","subcommittee","syndicat","systems","telecommunications","telegraph","television","times","tribunal","tv","union","university","utilities","workers"].reduce((b,$)=>(b[$]=!0,b),{}),placeWords=["atoll","basin","bay","beach","bluff","bog","camp","canyon","canyons","cape","cave","caves","cliffs","coast","cove","coves","crater","creek","desert","dune","dunes","escarpment","estuary","falls","fjord","fjords","forest","forests","glacier","gorge","gorges","gulf","gully","highland","hill","hills","inlet","island","islands","isthmus","knoll","lagoon","lake","marsh","marshes","mount","mountain","mountains","narrows","peninsula","plains","plateau","pond","rapids","ravine","reef","reefs","ridge","river","rivers","sandhill","shoal","shore","shoreline","shores","strait","straits","stream","swamp","tombolo","trail","trails","trench","valley","vallies","volcano","waterfall","watershed","wetland","woods","burough","county","district","municipality","prefecture","province","region","reservation","state","territory","borough","metropolis","downtown","uptown","midtown","city","town","township","hamlet","country","kingdom","enclave","neighbourhood","neighborhood","kingdom","ward","zone","airport","amphitheater","arch","arena","auditorium","bar","barn","basilica","battlefield","bridge","building","castle","centre","coliseum","cineplex","complex","dam","farm","field","fort","garden","gardens","gymnasium","hall","house","levee","library","memorial","monument","museum","gallery","palace","pillar","pits","plantation","playhouse","quarry","sportsfield","sportsplex","stadium","terrace","terraces","theater","tower","park","parks","site","raceway","sportsplex","st","street","rd","road","crescent","cr","way","tr","terrace","avenue","ave"].reduce((b,$)=>(b[$]=!0,b),{}),rules$1=[[/([^v])ies$/i,"$1y"],[/(ise)s$/i,"$1"],[/(kn|[^o]l|w)ives$/i,"$1ife"],[/^((?:ca|e|ha|(?:our|them|your)?se|she|wo)l|lea|loa|shea|thie)ves$/i,"$1f"],[/^(dwar|handkerchie|hoo|scar|whar)ves$/i,"$1f"],[/(antenn|formul|nebul|vertebr|vit)ae$/i,"$1a"],[/(octop|vir|radi|nucle|fung|cact|stimul)(i)$/i,"$1us"],[/(buffal|tomat|tornad)(oes)$/i,"$1o"],[/(ause)s$/i,"$1"],[/(ease)s$/i,"$1"],[/(ious)es$/i,"$1"],[/(ouse)s$/i,"$1"],[/(ose)s$/i,"$1"],[/(..ase)s$/i,"$1"],[/(..[aeiu]s)es$/i,"$1"],[/(vert|ind|cort)(ices)$/i,"$1ex"],[/(matr|append)(ices)$/i,"$1ix"],[/([xo]|ch|ss|sh)es$/i,"$1"],[/men$/i,"man"],[/(n)ews$/i,"$1ews"],[/([ti])a$/i,"$1um"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/(s)eries$/i,"$1eries"],[/(m)ovies$/i,"$1ovie"],[/(cris|ax|test)es$/i,"$1is"],[/(alias|status)es$/i,"$1"],[/(ss)$/i,"$1"],[/(ic)s$/i,"$1"],[/s$/i,""]],invertObj=function(b){return Object.keys(b).reduce(($,_e)=>($[b[_e]]=_e,$),{})},toSingular=function(b,$){const{irregularPlurals:_e}=$.two;let et=invertObj(_e);if(et.hasOwnProperty(b))return et[b];for(let tt=0;tt<rules$1.length;tt++)if(rules$1[tt][0].test(b)===!0)return b=b.replace(rules$1[tt][0],rules$1[tt][1]),b;return b},all$2=function(b,$){let _e=[b],et=pluralize(b,$);et!==b&&_e.push(et);let tt=toSingular(b,$);return tt!==b&&_e.push(tt),_e},nouns$2={toPlural:pluralize,toSingular,all:all$2};let guessVerb={Gerund:["ing"],Actor:["erer"],Infinitive:["ate","ize","tion","rify","then","ress","ify","age","nce","ect","ise","ine","ish","ace","ash","ure","tch","end","ack","and","ute","ade","ock","ite","ase","ose","use","ive","int","nge","lay","est","ain","ant","ent","eed","er","le","unk","ung","upt","en"],PastTense:["ept","ed","lt","nt","ew","ld"],PresentTense:["rks","cks","nks","ngs","mps","tes","zes","ers","les","acks","ends","ands","ocks","lays","eads","lls","els","ils","ows","nds","ays","ams","ars","ops","ffs","als","urs","lds","ews","ips","es","ts","ns"],Participle:["ken","wn"]};guessVerb=Object.keys(guessVerb).reduce((b,$)=>(guessVerb[$].forEach(_e=>b[_e]=$),b),{});const getTense$1=function(b){let $=b.substring(b.length-3);if(guessVerb.hasOwnProperty($)===!0)return guessVerb[$];let _e=b.substring(b.length-2);return guessVerb.hasOwnProperty(_e)===!0?guessVerb[_e]:b.substring(b.length-1)==="s"?"PresentTense":null},toParts=function(b,$){let _e="",et={};$.one&&$.one.prefixes&&(et=$.one.prefixes);let[tt,nt]=b.split(/ /);return nt&&et[tt]===!0&&(_e=tt,tt=nt,nt=""),{prefix:_e,verb:tt,particle:nt}},copulaMap={are:"be",were:"be",been:"be",is:"be",am:"be",was:"be",be:"be",being:"be"},toInfinitive$1=function(b,$,_e){const{fromPast:et,fromPresent:tt,fromGerund:nt,fromParticiple:rt}=$.two.models;let{prefix:ot,verb:st,particle:ct}=toParts(b,$),lt="";if(_e||(_e=getTense$1(b)),copulaMap.hasOwnProperty(b))lt=copulaMap[b];else if(_e==="Participle")lt=convert(st,rt);else if(_e==="PastTense")lt=convert(st,et);else if(_e==="PresentTense")lt=convert(st,tt);else if(_e==="Gerund")lt=convert(st,nt);else return b;return ct&&(lt+=" "+ct),ot&&(lt=ot+" "+lt),lt},parse$7=b=>/ /.test(b)?b.split(/ /):[b,""],conjugate=function(b,$){const{toPast:_e,toPresent:et,toGerund:tt,toParticiple:nt}=$.two.models;if(b==="be")return{Infinitive:b,Gerund:"being",PastTense:"was",PresentTense:"is"};let[rt,ot]=parse$7(b),st={Infinitive:rt,PastTense:convert(rt,_e),PresentTense:convert(rt,et),Gerund:convert(rt,tt),FutureTense:"will "+rt},ct=convert(rt,nt);if(ct!==b&&ct!==st.PastTense){let lt=$.one.lexicon||{};(lt[ct]==="Participle"||lt[ct]==="Adjective")&&(b==="play"&&(ct="played"),st.Participle=ct)}return ot&&Object.keys(st).forEach(lt=>{st[lt]+=" "+ot}),st},all$1=function(b,$){let _e=conjugate(b,$);return delete _e.FutureTense,Object.values(_e).filter(et=>et)},verbs$3={toInfinitive:toInfinitive$1,conjugate,all:all$1},toSuperlative=function(b,$){const _e=$.two.models.toSuperlative;return convert(b,_e)},toComparative=function(b,$){const _e=$.two.models.toComparative;return convert(b,_e)},fromComparative=function(b,$){const _e=$.two.models.fromComparative;return convert(b,_e)},fromSuperlative=function(b,$){const _e=$.two.models.fromSuperlative;return convert(b,_e)},toNoun=function(b,$){const _e=$.two.models.adjToNoun;return convert(b,_e)},suffixLoop$1=function(b="",$=[]){const _e=b.length;let et=_e<=6?_e-1:6;for(let tt=et;tt>=1;tt-=1){let nt=b.substring(_e-tt,b.length);if($[nt.length].hasOwnProperty(nt)===!0){let rt=b.slice(0,_e-tt),ot=$[nt.length][nt];return rt+ot}}return null},s="ically",ical=new Set(["analyt"+s,"chem"+s,"class"+s,"clin"+s,"crit"+s,"ecolog"+s,"electr"+s,"empir"+s,"frant"+s,"grammat"+s,"ident"+s,"ideolog"+s,"log"+s,"mag"+s,"mathemat"+s,"mechan"+s,"med"+s,"method"+s,"method"+s,"mus"+s,"phys"+s,"phys"+s,"polit"+s,"pract"+s,"rad"+s,"satir"+s,"statist"+s,"techn"+s,"technolog"+s,"theoret"+s,"typ"+s,"vert"+s,"whims"+s]),suffixes$2=[null,{},{ly:""},{ily:"y",bly:"ble",ply:"ple"},{ally:"al",rply:"rp"},{ually:"ual",ially:"ial",cally:"cal",eally:"eal",rally:"ral",nally:"nal",mally:"mal",eeply:"eep",eaply:"eap"},{ically:"ic"}],noAdj=new Set(["early","only","hourly","daily","weekly","monthly","yearly","mostly","duly","unduly","especially","undoubtedly","conversely","namely","exceedingly","presumably","accordingly","overly","best","latter","little","long","low"]),exceptions$2={wholly:"whole",fully:"full",truly:"true",gently:"gentle",singly:"single",customarily:"customary",idly:"idle",publically:"public",quickly:"quick",superbly:"superb",cynically:"cynical",well:"good"},toAdjective=function(b){return b.endsWith("ly")?ical.has(b)?b.replace(/ically/,"ical"):noAdj.has(b)?null:exceptions$2.hasOwnProperty(b)?exceptions$2[b]:suffixLoop$1(b,suffixes$2)||b:null},suffixes$1=[null,{y:"ily"},{ly:"ly",ic:"ically"},{ial:"ially",ual:"ually",tle:"tly",ble:"bly",ple:"ply",ary:"arily"},{},{},{}],exceptions$1={cool:"cooly",whole:"wholly",full:"fully",good:"well",idle:"idly",public:"publicly",single:"singly",special:"especially"},toAdverb=function(b){if(exceptions$1.hasOwnProperty(b))return exceptions$1[b];let $=suffixLoop$1(b,suffixes$1);return $||($=b+"ly"),$},all=function(b,$){let _e=[b];return _e.push(toSuperlative(b,$)),_e.push(toComparative(b,$)),_e.push(toAdverb(b)),_e=_e.filter(et=>et),_e=new Set(_e),Array.from(_e)},adjectives$1={toSuperlative,toComparative,toAdverb,toNoun,fromAdverb:toAdjective,fromSuperlative,fromComparative,all},transform={noun:nouns$2,verb:verbs$3,adjective:adjectives$1},byTag={Singular:(b,$,_e,et)=>{let tt=et.one.lexicon,nt=_e.two.transform.noun.toPlural(b,et);tt[nt]||($[nt]=$[nt]||"Plural")},Actor:(b,$,_e,et)=>{let tt=et.one.lexicon,nt=_e.two.transform.noun.toPlural(b,et);tt[nt]||($[nt]=$[nt]||["Plural","Actor"])},Comparable:(b,$,_e,et)=>{let tt=et.one.lexicon,{toSuperlative:nt,toComparative:rt}=_e.two.transform.adjective,ot=nt(b,et);tt[ot]||($[ot]=$[ot]||"Superlative");let st=rt(b,et);tt[st]||($[st]=$[st]||"Comparative"),$[b]="Adjective"},Demonym:(b,$,_e,et)=>{let tt=_e.two.transform.noun.toPlural(b,et);$[tt]=$[tt]||["Demonym","Plural"]},Infinitive:(b,$,_e,et)=>{let tt=et.one.lexicon,nt=_e.two.transform.verb.conjugate(b,et);Object.entries(nt).forEach(rt=>{!tt[rt[1]]&&!$[rt[1]]&&rt[0]!=="FutureTense"&&($[rt[1]]=rt[0])})},PhrasalVerb:(b,$,_e,et)=>{let tt=et.one.lexicon;$[b]=["PhrasalVerb","Infinitive"];let nt=et.one._multiCache,[rt,ot]=b.split(" ");tt[rt]||($[rt]=$[rt]||"Infinitive");let st=_e.two.transform.verb.conjugate(rt,et);delete st.FutureTense,Object.entries(st).forEach(ct=>{if(ct[0]==="Actor"||ct[1]==="")return;!$[ct[1]]&&!tt[ct[1]]&&($[ct[1]]=ct[0]),nt[ct[1]]=2;let lt=ct[1]+" "+ot;$[lt]=$[lt]||[ct[0],"PhrasalVerb"]})},Multiple:(b,$)=>{$[b]=["Multiple","Cardinal"],$[b+"th"]=["Multiple","Ordinal"],$[b+"ths"]=["Multiple","Fraction"]},Cardinal:(b,$)=>{$[b]=["TextValue","Cardinal"]},Ordinal:(b,$)=>{$[b]=["TextValue","Ordinal"],$[b+"s"]=["TextValue","Fraction"]},Place:(b,$)=>{$[b]=["Place","ProperNoun"]},Region:(b,$)=>{$[b]=["Region","ProperNoun"]}},expand$1=function(b,$){const{methods:_e,model:et}=$;let tt={},nt={};return Object.keys(b).forEach(rt=>{let ot=b[rt];rt=rt.toLowerCase().trim(),rt=rt.replace(/'s\b/,"");let st=rt.split(/ /);st.length>1&&(nt[st[0]]===void 0||st.length>nt[st[0]])&&(nt[st[0]]=st.length),byTag.hasOwnProperty(ot)===!0&&byTag[ot](rt,tt,_e,et),tt[rt]=tt[rt]||ot}),delete tt[""],delete tt[null],delete tt[" "],{lex:tt,_multi:nt}},splitOn=function(b,$){const _e=/^[0-9]+$/;let et=b[$];if(!et)return!1;const tt=new Set(["may","april","august","jan"]);if(et.normal==="like"||tt.has(et.normal)||et.tags.has("Place")||et.tags.has("Date"))return!1;if(b[$-1]){let rt=b[$-1];if(rt.tags.has("Date")||tt.has(rt.normal)||rt.tags.has("Adjective")||et.tags.has("Adjective"))return!1}let nt=et.normal;return!((nt.length===1||nt.length===2||nt.length===4)&&_e.test(nt))},quickSplit=function(b){const $=/[,:;]/;let _e=[];return b.forEach(et=>{let tt=0;et.forEach((nt,rt)=>{$.test(nt.post)&&splitOn(et,rt+1)&&(_e.push(et.slice(tt,rt+1)),tt=rt+1)}),tt<et.length&&_e.push(et.slice(tt,et.length))}),_e},isPlural$3={e:["mice","louse","antennae","formulae","nebulae","vertebrae","vitae"],i:["tia","octopi","viri","radii","nuclei","fungi","cacti","stimuli"],n:["men"],t:["feet"]},exceptions=new Set(["israelis","menus","logos"]),notPlural$1=["bus","mas","was","ias","xas","vas","cis","lis","nis","ois","ris","sis","tis","xis","aus","cus","eus","fus","gus","ius","lus","nus","das","ous","pus","rus","sus","tus","xus","aos","igos","ados","ogos","'s","ss"],looksPlural=function(b){if(!b||b.length<=3)return!1;if(exceptions.has(b))return!0;let $=b[b.length-1];return isPlural$3.hasOwnProperty($)?isPlural$3[$].find(_e=>b.endsWith(_e)):!($!=="s"||notPlural$1.find(_e=>b.endsWith(_e)))},methods$1={two:{quickSplit,expandLexicon:expand$1,transform,looksPlural}},expandIrregulars=function(b){const{irregularPlurals:$}=b.two,{lexicon:_e}=b.one;return Object.entries($).forEach(et=>{_e[et[0]]=_e[et[0]]||"Singular",_e[et[1]]=_e[et[1]]||"Plural"}),b};let tmpModel={one:{lexicon:{}},two:{models:models$1}};const switchDefaults={"Actor|Verb":"Actor","Adj|Gerund":"Adjective","Adj|Noun":"Adjective","Adj|Past":"Adjective","Adj|Present":"Adjective","Noun|Verb":"Singular","Noun|Gerund":"Gerund","Person|Noun":"Noun","Person|Date":"Month","Person|Verb":"FirstName","Person|Place":"Person","Person|Adj":"Comparative","Plural|Verb":"Plural","Unit|Noun":"Noun"},expandLexicon=function(b,$){const _e={model:$,methods:methods$1};let{lex:et,_multi:tt}=methods$1.two.expandLexicon(b,_e);return Object.assign($.one.lexicon,et),Object.assign($.one._multiCache,tt),$},addUncountables=function(b,$){return Object.keys(b).forEach(_e=>{b[_e]==="Uncountable"&&($.two.uncountable[_e]=!0,b[_e]="Uncountable")}),$},expandVerb=function(b,$,_e){let et=conjugate(b,tmpModel);$[et.PastTense]=$[et.PastTense]||"PastTense",$[et.Gerund]=$[et.Gerund]||"Gerund",_e===!0&&($[et.PresentTense]=$[et.PresentTense]||"PresentTense")},expandAdjective=function(b,$,_e){let et=toSuperlative(b,_e);$[et]=$[et]||"Superlative";let tt=toComparative(b,_e);$[tt]=$[tt]||"Comparative"},expandNoun=function(b,$,_e){let et=pluralize(b,_e);$[et]=$[et]||"Plural"},expandVariable=function(b,$){let _e={};const et=$.one.lexicon;return Object.keys(b).forEach(tt=>{const nt=b[tt];if(_e[tt]=switchDefaults[nt],(nt==="Noun|Verb"||nt==="Person|Verb"||nt==="Actor|Verb")&&expandVerb(tt,et,!1),nt==="Adj|Present"&&(expandVerb(tt,et,!0),expandAdjective(tt,et,$)),nt==="Person|Adj"&&expandAdjective(tt,et,$),nt==="Adj|Gerund"||nt==="Noun|Gerund"){let rt=toInfinitive$1(tt,tmpModel,"Gerund");et[rt]||(_e[rt]="Infinitive")}if((nt==="Noun|Gerund"||nt==="Adj|Noun"||nt==="Person|Noun")&&expandNoun(tt,et,$),nt==="Adj|Past"){let rt=toInfinitive$1(tt,tmpModel,"PastTense");et[rt]||(_e[rt]="Infinitive")}}),$=expandLexicon(_e,$),$},expand=function(b){return b=expandLexicon(b.one.lexicon,b),b=addUncountables(b.one.lexicon,b),b=expandVariable(b.two.switches,b),b=expandIrregulars(b),b};let model$1={one:{_multiCache:{},lexicon,frozenLex},two:{irregularPlurals,models:models$1,suffixPatterns,prefixPatterns,endsWith:endsWith$1,neighbours:neighbours$1,regexNormal,regexText,regexNumbers,switches,clues,uncountable:{},orgWords,placeWords}};model$1=expand(model$1);const byPunctuation=function(b,$,_e,et){const tt=et.methods.one.setTag;if(b.length>=3){const nt=/:/;if(b[0].post.match(nt)){let ot=b[1];if(ot.tags.has("Value")||ot.tags.has("Email")||ot.tags.has("PhoneNumber"))return;tt([b[0]],"Expression",et,null,"2-punct-colon''")}}},byHyphen=function(b,$,_e,et){const tt=et.methods.one.setTag;b[$].post==="-"&&b[$+1]&&tt([b[$],b[$+1]],"Hyphenated",et,null,"1-punct-hyphen''")},prefix$1=/^(under|over|mis|re|un|dis|semi)-?/,tagSwitch=function(b,$,_e){const et=_e.two.switches;let tt=b[$];if(et.hasOwnProperty(tt.normal)){tt.switch=et[tt.normal];return}if(prefix$1.test(tt.normal)){let nt=tt.normal.replace(prefix$1,"");nt.length>3&&et.hasOwnProperty(nt)&&(tt.switch=et[nt])}};var define_process_env_default$2={};const log$2=(b,$,_e="")=>{const et=rt=>"\x1B[33m\x1B[3m"+rt+"\x1B[0m",tt=rt=>"\x1B[3m"+rt+"\x1B[0m";let nt=b.text||"["+b.implicit+"]";typeof $!="string"&&$.length>2&&($=$.slice(0,2).join(", #")+" +"),$=typeof $!="string"?$.join(", #"):$,console.log(` ${et(nt).padEnd(24)} \x1B[32m→\x1B[0m #${$.padEnd(22)}  ${tt(_e)}`)},fastTag=function(b,$,_e){if(!$||$.length===0||b.frozen===!0)return;const et=typeof process>"u"||!define_process_env_default$2?self.env||{}:define_process_env_default$2;et&&et.DEBUG_TAGS&&log$2(b,$,_e),b.tags=b.tags||new Set,typeof $=="string"?b.tags.add($):$.forEach(tt=>b.tags.add(tt))},uncountable=["Acronym","Abbreviation","ProperNoun","Uncountable","Possessive","Pronoun","Activity","Honorific","Month"],setPluralSingular=function(b){!b.tags.has("Noun")||b.tags.has("Plural")||b.tags.has("Singular")||uncountable.find($=>b.tags.has($))||(looksPlural(b.normal)?fastTag(b,"Plural","3-plural-guess"):fastTag(b,"Singular","3-singular-guess"))},setTense=function(b){let $=b.tags;if($.has("Verb")&&$.size===1){let _e=getTense$1(b.normal);_e&&fastTag(b,_e,"3-verb-tense-guess")}},fillTags=function(b,$,_e){let et=b[$],tt=Array.from(et.tags);for(let nt=0;nt<tt.length;nt+=1)if(_e.one.tagSet[tt[nt]]){let rt=_e.one.tagSet[tt[nt]].parents;fastTag(et,rt,` -inferred by #${tt[nt]}`)}setPluralSingular(et),setTense(et)},titleCase$1=new RegExp("^\\p{Lu}[\\p{Ll}'’]","u"),hasNumber=/[0-9]/,notProper=["Date","Month","WeekDay","Unit","Expression"],hasIVX=/[IVX]/,romanNumeral=/^[IVXLCDM]{2,}$/,romanNumValid=/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/,nope={li:!0,dc:!0,md:!0,dm:!0,ml:!0},checkCase=function(b,$,_e){let et=b[$];et.index=et.index||[0,0];let tt=et.index[1],nt=et.text||"";return tt!==0&&titleCase$1.test(nt)===!0&&hasNumber.test(nt)===!1?notProper.find(rt=>et.tags.has(rt))||et.pre.match(/["']$/)||et.normal==="the"?null:(fillTags(b,$,_e),!et.tags.has("Noun")&&!et.frozen&&et.tags.clear(),fastTag(et,"ProperNoun","2-titlecase"),!0):nt.length>=2&&romanNumeral.test(nt)&&hasIVX.test(nt)&&romanNumValid.test(nt)&&!nope[et.normal]?(fastTag(et,"RomanNumeral","2-xvii"),!0):null},suffixLoop=function(b="",$=[]){const _e=b.length;let et=7;_e<=et&&(et=_e-1);for(let tt=et;tt>1;tt-=1){let nt=b.substring(_e-tt,_e);if($[nt.length].hasOwnProperty(nt)===!0)return $[nt.length][nt]}return null},tagBySuffix=function(b,$,_e){let et=b[$];if(et.tags.size===0){let tt=suffixLoop(et.normal,_e.two.suffixPatterns);if(tt!==null)return fastTag(et,tt,"2-suffix"),et.confidence=.7,!0;if(et.implicit&&(tt=suffixLoop(et.implicit,_e.two.suffixPatterns),tt!==null))return fastTag(et,tt,"2-implicit-suffix"),et.confidence=.7,!0}return null},hasApostrophe=/['‘’‛‵′`´]/,doRegs=function(b,$){for(let _e=0;_e<$.length;_e+=1)if($[_e][0].test(b)===!0)return $[_e];return null},doEndsWith=function(b="",$){let _e=b[b.length-1];if($.hasOwnProperty(_e)===!0){let et=$[_e]||[];for(let tt=0;tt<et.length;tt+=1)if(et[tt][0].test(b)===!0)return et[tt]}return null},checkRegex=function(b,$,_e,et){const tt=et.methods.one.setTag;let{regexText:nt,regexNormal:rt,regexNumbers:ot,endsWith:st}=_e.two,ct=b[$],lt=ct.machine||ct.normal,at=ct.text;hasApostrophe.test(ct.post)&&!hasApostrophe.test(ct.pre)&&(at+=ct.post.trim());let it=doRegs(at,nt)||doRegs(lt,rt);return!it&&/[0-9]/.test(lt)&&(it=doRegs(lt,ot)),!it&&ct.tags.size===0&&(it=doEndsWith(lt,st)),it?(tt([ct],it[1],et,null,`2-regex-'${it[2]||it[0]}'`),ct.confidence=.6,!0):null},prefixLoop=function(b="",$=[]){const _e=b.length;let et=7;et>_e-3&&(et=_e-3);for(let tt=et;tt>2;tt-=1){let nt=b.substring(0,tt);if($[nt.length].hasOwnProperty(nt)===!0)return $[nt.length][nt]}return null},checkPrefix=function(b,$,_e){let et=b[$];if(et.tags.size===0){let tt=prefixLoop(et.normal,_e.two.prefixPatterns);if(tt!==null)return fastTag(et,tt,"2-prefix"),et.confidence=.5,!0}return null},min$3=1400,max$3=2100,dateWords=new Set(["in","on","by","until","for","to","during","throughout","through","within","before","after","of","this","next","last","circa","around","post","pre","budget","classic","plan","may"]),seemsGood=function(b){if(!b)return!1;let $=b.normal||b.implicit;return!!(dateWords.has($)||b.tags.has("Date")||b.tags.has("Month")||b.tags.has("WeekDay")||b.tags.has("Year")||b.tags.has("ProperNoun"))},seemsOkay=function(b){return b?!!(b.tags.has("Ordinal")||b.tags.has("Cardinal")&&b.normal.length<3||b.normal==="is"||b.normal==="was"):!1},seemsFine=function(b){return b&&(b.tags.has("Date")||b.tags.has("Month")||b.tags.has("WeekDay")||b.tags.has("Year"))},tagYear=function(b,$){const _e=b[$];if(_e.tags.has("NumericValue")&&_e.tags.has("Cardinal")&&_e.normal.length===4){let et=Number(_e.normal);if(et&&!isNaN(et)&&et>min$3&&et<max$3){let tt=b[$-1],nt=b[$+1];if(seemsGood(tt)||seemsGood(nt))return fastTag(_e,"Year","2-tagYear");if(et>=1920&&et<2025){if(seemsOkay(tt)||seemsOkay(nt))return fastTag(_e,"Year","2-tagYear-close");if(seemsFine(b[$-2])||seemsFine(b[$+2]))return fastTag(_e,"Year","2-tagYear-far");if(tt&&(tt.tags.has("Determiner")||tt.tags.has("Possessive"))&&nt&&nt.tags.has("Noun")&&!nt.tags.has("Plural"))return fastTag(_e,"Year","2-tagYear-noun")}}}return null},verbType=function(b,$,_e,et){const tt=et.methods.one.setTag,nt=b[$],rt=["PastTense","PresentTense","Auxiliary","Modal","Particle"];nt.tags.has("Verb")&&(rt.find(st=>nt.tags.has(st))||tt([nt],"Infinitive",et,null,"2-verb-type''"))},oneLetterAcronym=/^[A-Z]('s|,)?$/,isUpperCase=/^[A-Z-]+$/,upperThenS=/^[A-Z]+s$/,periodAcronym=/([A-Z]\.)+[A-Z]?,?$/,noPeriodAcronym=/[A-Z]{2,}('s|,)?$/,lowerCaseAcronym=/([a-z]\.)+[a-z]\.?$/,oneLetterWord={I:!0,A:!0},places$1={la:!0,ny:!0,us:!0,dc:!0,gb:!0},isNoPeriodAcronym=function(b,$){let _e=b.text;if(isUpperCase.test(_e)===!1)if(_e.length>3&&upperThenS.test(_e)===!0)_e=_e.replace(/s$/,"");else return!1;return _e.length>5||oneLetterWord.hasOwnProperty(_e)||$.one.lexicon.hasOwnProperty(b.normal)?!1:periodAcronym.test(_e)===!0||lowerCaseAcronym.test(_e)===!0||oneLetterAcronym.test(_e)===!0||noPeriodAcronym.test(_e)===!0},isAcronym=function(b,$,_e){let et=b[$];return et.tags.has("RomanNumeral")||et.tags.has("Acronym")||et.frozen?null:isNoPeriodAcronym(et,_e)?(et.tags.clear(),fastTag(et,["Acronym","Noun"],"3-no-period-acronym"),places$1[et.normal]===!0&&fastTag(et,"Place","3-place-acronym"),upperThenS.test(et.text)===!0&&fastTag(et,"Plural","3-plural-acronym"),!0):!oneLetterWord.hasOwnProperty(et.text)&&oneLetterAcronym.test(et.text)?(et.tags.clear(),fastTag(et,["Acronym","Noun"],"3-one-letter-acronym"),!0):et.tags.has("Organization")&&et.text.length<=3?(fastTag(et,"Acronym","3-org-acronym"),!0):et.tags.has("Organization")&&isUpperCase.test(et.text)&&et.text.length<=6?(fastTag(et,"Acronym","3-titlecase-acronym"),!0):null},lookAtWord=function(b,$){if(!b)return null;let _e=$.find(et=>b.normal===et[0]);return _e?_e[1]:null},lookAtTag=function(b,$){if(!b)return null;let _e=$.find(et=>b.tags.has(et[0]));return _e?_e[1]:null},neighbours=function(b,$,_e){const{leftTags:et,leftWords:tt,rightWords:nt,rightTags:rt}=_e.two.neighbours;let ot=b[$];if(ot.tags.size===0){let st=null;if(st=st||lookAtWord(b[$-1],tt),st=st||lookAtWord(b[$+1],nt),st=st||lookAtTag(b[$-1],et),st=st||lookAtTag(b[$+1],rt),st)return fastTag(ot,st,"3-[neighbour]"),fillTags(b,$,_e),b[$].confidence=.2,!0}return null},isTitleCase$2=b=>new RegExp("^\\p{Lu}[\\p{Ll}'’]","u").test(b),isOrg=function(b,$,_e){return!b||b.tags.has("FirstName")||b.tags.has("Place")?!1:b.tags.has("ProperNoun")||b.tags.has("Organization")||b.tags.has("Acronym")?!0:!_e&&isTitleCase$2(b.text)?$===0?b.tags.has("Singular"):!0:!1},tagOrgs$1=function(b,$,_e,et){const tt=_e.model.two.orgWords,nt=_e.methods.one.setTag;let rt=b[$],ot=rt.machine||rt.normal;if(tt[ot]===!0&&isOrg(b[$-1],$-1,et)){nt([b[$]],"Organization",_e,null,"3-[org-word]");for(let st=$;st>=0&&isOrg(b[st],st,et);st-=1)nt([b[st]],"Organization",_e,null,"3-[org-word]")}return null},isTitleCase$1=b=>new RegExp("^\\p{Lu}[\\p{Ll}'’]","u").test(b),isPossessive$1=/'s$/,placeCont=new Set(["athletic","city","community","eastern","federal","financial","great","historic","historical","local","memorial","municipal","national","northern","provincial","southern","state","western"]),noBefore=new Set(["center","centre","way","range","bar","bridge","field","pit"]),isPlace=function(b,$,_e){if(!b)return!1;let et=b.tags;return et.has("Organization")||et.has("Possessive")||isPossessive$1.test(b.normal)?!1:et.has("ProperNoun")||et.has("Place")?!0:!_e&&isTitleCase$1(b.text)?$===0?et.has("Singular"):!0:!1},tagOrgs=function(b,$,_e,et){const tt=_e.model.two.placeWords,nt=_e.methods.one.setTag;let rt=b[$],ot=rt.machine||rt.normal;if(tt[ot]===!0){for(let st=$-1;st>=0;st-=1)if(!placeCont.has(b[st].normal)){if(isPlace(b[st],st,et)){nt(b.slice(st,$+1),"Place",_e,null,"3-[place-of-foo]");continue}break}if(noBefore.has(ot))return!1;for(let st=$+1;st<b.length;st+=1){if(isPlace(b[st],st,et))return nt(b.slice($,st+1),"Place",_e,null,"3-[foo-place]"),!0;if(!(b[st].normal==="of"||placeCont.has(b[st].normal)))break}}return null},nounFallback=function(b,$,_e){let et=!1,tt=b[$].tags;(tt.size===0||tt.size===1&&(tt.has("Hyphenated")||tt.has("HashTag")||tt.has("Prefix")))&&(et=!0),et&&(fastTag(b[$],"Noun","3-[fallback]"),fillTags(b,$,_e),b[$].confidence=.1)},isTitleCase=/^[A-Z][a-z]/,isCapital=(b,$)=>b[$].tags.has("ProperNoun")&&isTitleCase.test(b[$].text)?"Noun":null,isAlone=(b,$,_e)=>$===0&&!b[1]?_e:null,isEndNoun=function(b,$){return!b[$+1]&&b[$-1]&&b[$-1].tags.has("Determiner")?"Noun":null},isStart=function(b,$,_e){return $===0&&b.length>3?_e:null},adhoc={"Adj|Gerund":(b,$)=>isCapital(b,$),"Adj|Noun":(b,$)=>isCapital(b,$)||isEndNoun(b,$),"Actor|Verb":(b,$)=>isCapital(b,$),"Adj|Past":(b,$)=>isCapital(b,$),"Adj|Present":(b,$)=>isCapital(b,$),"Noun|Gerund":(b,$)=>isCapital(b,$),"Noun|Verb":(b,$)=>$>0&&isCapital(b,$)||isAlone(b,$,"Infinitive"),"Plural|Verb":(b,$)=>isCapital(b,$)||isAlone(b,$,"PresentTense")||isStart(b,$,"Plural"),"Person|Noun":(b,$)=>isCapital(b,$),"Person|Verb":(b,$)=>$!==0?isCapital(b,$):null,"Person|Adj":(b,$)=>$===0&&b.length>1||isCapital(b,$)?"Person":null};var define_process_env_default$1={};const env=typeof process>"u"||!define_process_env_default$1?self.env||{}:define_process_env_default$1,prefix=/^(under|over|mis|re|un|dis|semi)-?/,checkWord=(b,$)=>{if(!b||!$)return null;let _e=b.normal||b.implicit,et=null;return $.hasOwnProperty(_e)&&(et=$[_e]),et&&env.DEBUG_TAGS&&console.log(`
  \x1B[2m\x1B[3m     ↓ - '${_e}' \x1B[0m`),et},checkTag=(b,$={},_e)=>{if(!b||!$)return null;let tt=Array.from(b.tags).sort((nt,rt)=>{let ot=_e[nt]?_e[nt].parents.length:0,st=_e[rt]?_e[rt].parents.length:0;return ot>st?-1:1}).find(nt=>$[nt]);return tt&&env.DEBUG_TAGS&&console.log(`  \x1B[2m\x1B[3m      ↓ - '${b.normal||b.implicit}' (#${tt})  \x1B[0m`),tt=$[tt],tt},pickTag=function(b,$,_e,et){var ot;if(!_e)return null;const tt=((ot=b[$-1])==null?void 0:ot.text)!=="also"?$-1:Math.max(0,$-2),nt=et.one.tagSet;let rt=checkWord(b[$+1],_e.afterWords);return rt=rt||checkWord(b[tt],_e.beforeWords),rt=rt||checkTag(b[tt],_e.beforeTags,nt),rt=rt||checkTag(b[$+1],_e.afterTags,nt),rt},doSwitches=function(b,$,_e){const et=_e.model,tt=_e.methods.one.setTag,{switches:nt,clues:rt}=et.two,ot=b[$];let st=ot.normal||ot.implicit||"";if(prefix.test(st)&&!nt[st]&&(st=st.replace(prefix,"")),ot.switch){let ct=ot.switch;if(ot.tags.has("Acronym")||ot.tags.has("PhrasalVerb"))return;let lt=pickTag(b,$,rt[ct],et);adhoc[ct]&&(lt=adhoc[ct](b,$)||lt),lt?(tt([ot],lt,_e,null,`3-[switch] (${ct})`),fillTags(b,$,et)):env.DEBUG_TAGS&&console.log(`
 -> X  - '${st}'  : (${ct})  `)}},beside={there:!0,this:!0,it:!0,him:!0,her:!0,us:!0},imperative$1=function(b,$){const _e=$.methods.one.setTag,et=$.model.one._multiCache||{};let tt=b[0];if((tt.switch==="Noun|Verb"||tt.tags.has("Infinitive"))&&b.length>=2){if(b.length<4&&!beside[b[1].normal]||!tt.tags.has("PhrasalVerb")&&et.hasOwnProperty(tt.normal))return;(b[1].tags.has("Noun")||b[1].tags.has("Determiner"))&&(!b.slice(1,3).some(st=>st.tags.has("Verb"))||tt.tags.has("#PhrasalVerb"))&&_e([tt],"Imperative",$,null,"3-[imperative]")}},ignoreCase=function(b){if(b.filter(_e=>!_e.tags.has("ProperNoun")).length<=3)return!1;const $=/^[a-z]/;return b.every(_e=>!$.test(_e.text))},firstPass=function(b,$,_e){b.forEach(et=>{byPunctuation(et,0,$,_e)})},secondPass=function(b,$,_e,et){for(let tt=0;tt<b.length;tt+=1)b[tt].frozen!==!0&&(tagSwitch(b,tt,$),et===!1&&checkCase(b,tt,$),tagBySuffix(b,tt,$),checkRegex(b,tt,$,_e),checkPrefix(b,tt,$),tagYear(b,tt))},thirdPass=function(b,$,_e,et){for(let tt=0;tt<b.length;tt+=1){let nt=isAcronym(b,tt,$);fillTags(b,tt,$),nt=nt||neighbours(b,tt,$),nt=nt||nounFallback(b,tt,$)}for(let tt=0;tt<b.length;tt+=1)b[tt].frozen!==!0&&(tagOrgs$1(b,tt,_e,et),tagOrgs(b,tt,_e,et),doSwitches(b,tt,_e),verbType(b,tt,$,_e),byHyphen(b,tt,$,_e));imperative$1(b,_e)},preTagger=function(b){const{methods:$,model:_e,world:et}=b;let tt=b.docs;firstPass(tt,_e,et);let nt=$.two.quickSplit(tt);for(let rt=0;rt<nt.length;rt+=1){let ot=nt[rt];const st=ignoreCase(ot);secondPass(ot,_e,et,st),thirdPass(ot,_e,et,st)}return nt},toRoot$2={Possessive:b=>{let $=b.machine||b.normal||b.text;return $=$.replace(/'s$/,""),$},Plural:(b,$)=>{let _e=b.machine||b.normal||b.text;return $.methods.two.transform.noun.toSingular(_e,$.model)},Copula:()=>"is",PastTense:(b,$)=>{let _e=b.machine||b.normal||b.text;return $.methods.two.transform.verb.toInfinitive(_e,$.model,"PastTense")},Gerund:(b,$)=>{let _e=b.machine||b.normal||b.text;return $.methods.two.transform.verb.toInfinitive(_e,$.model,"Gerund")},PresentTense:(b,$)=>{let _e=b.machine||b.normal||b.text;return b.tags.has("Infinitive")?_e:$.methods.two.transform.verb.toInfinitive(_e,$.model,"PresentTense")},Comparative:(b,$)=>{let _e=b.machine||b.normal||b.text;return $.methods.two.transform.adjective.fromComparative(_e,$.model)},Superlative:(b,$)=>{let _e=b.machine||b.normal||b.text;return $.methods.two.transform.adjective.fromSuperlative(_e,$.model)},Adverb:(b,$)=>{const{fromAdverb:_e}=$.methods.two.transform.adjective;let et=b.machine||b.normal||b.text;return _e(et)}},getRoot$1=function(b){const $=b.world,_e=Object.keys(toRoot$2);b.docs.forEach(et=>{for(let tt=0;tt<et.length;tt+=1){const nt=et[tt];for(let rt=0;rt<_e.length;rt+=1)if(nt.tags.has(_e[rt])){const ot=toRoot$2[_e[rt]];let st=ot(nt,$);nt.normal!==st&&(nt.root=st);break}}})},mapping$1={Adverb:"RB",Comparative:"JJR",Superlative:"JJS",Adjective:"JJ",TO:"Conjunction",Modal:"MD",Auxiliary:"MD",Gerund:"VBG",PastTense:"VBD",Participle:"VBN",PresentTense:"VBZ",Infinitive:"VB",Particle:"RP",Verb:"VB",Pronoun:"PRP",Cardinal:"CD",Conjunction:"CC",Determiner:"DT",Preposition:"IN",QuestionWord:"WP",Expression:"UH",Possessive:"POS",ProperNoun:"NNP",Person:"NNP",Place:"NNP",Organization:"NNP",Singular:"NN",Plural:"NNS",Noun:"NN",There:"EX"},toPenn=function(b){if(b.tags.has("ProperNoun")&&b.tags.has("Plural"))return"NNPS";if(b.tags.has("Possessive")&&b.tags.has("Pronoun"))return"PRP$";if(b.normal==="there")return"EX";if(b.normal==="to")return"TO";let $=b.tagRank||[];for(let _e=0;_e<$.length;_e+=1)if(mapping$1.hasOwnProperty($[_e]))return mapping$1[$[_e]];return null},pennTag=function(b){b.compute("tagRank"),b.docs.forEach($=>{$.forEach(_e=>{_e.penn=toPenn(_e)})})},compute$3={preTagger,root:getRoot$1,penn:pennTag},entity=["Person","Place","Organization"],nouns$1={Noun:{not:["Verb","Adjective","Adverb","Value","Determiner"]},Singular:{is:"Noun",not:["Plural","Uncountable"]},ProperNoun:{is:"Noun"},Person:{is:"Singular",also:["ProperNoun"],not:["Place","Organization","Date"]},FirstName:{is:"Person"},MaleName:{is:"FirstName",not:["FemaleName","LastName"]},FemaleName:{is:"FirstName",not:["MaleName","LastName"]},LastName:{is:"Person",not:["FirstName"]},Honorific:{is:"Person",not:["FirstName","LastName","Value"]},Place:{is:"Singular",not:["Person","Organization"]},Country:{is:"Place",also:["ProperNoun"],not:["City"]},City:{is:"Place",also:["ProperNoun"],not:["Country"]},Region:{is:"Place",also:["ProperNoun"]},Address:{},Organization:{is:"ProperNoun",not:["Person","Place"]},SportsTeam:{is:"Organization"},School:{is:"Organization"},Company:{is:"Organization"},Plural:{is:"Noun",not:["Singular","Uncountable"]},Uncountable:{is:"Noun"},Pronoun:{is:"Noun",not:entity},Actor:{is:"Noun",not:["Place","Organization"]},Activity:{is:"Noun",not:["Person","Place"]},Unit:{is:"Noun",not:entity},Demonym:{is:"Noun",also:["ProperNoun"],not:entity},Possessive:{is:"Noun"},Reflexive:{is:"Pronoun"}},verbs$2={Verb:{not:["Noun","Adjective","Adverb","Value","Expression"]},PresentTense:{is:"Verb",not:["PastTense","FutureTense"]},Infinitive:{is:"PresentTense",not:["Gerund"]},Imperative:{is:"Verb",not:["PastTense","Gerund","Copula"]},Gerund:{is:"PresentTense",not:["Copula"]},PastTense:{is:"Verb",not:["PresentTense","Gerund","FutureTense"]},FutureTense:{is:"Verb",not:["PresentTense","PastTense"]},Copula:{is:"Verb"},Modal:{is:"Verb",not:["Infinitive"]},Participle:{is:"PastTense"},Auxiliary:{is:"Verb",not:["PastTense","PresentTense","Gerund","Conjunction"]},PhrasalVerb:{is:"Verb"},Particle:{is:"PhrasalVerb",not:["PastTense","PresentTense","Copula","Gerund"]},Passive:{is:"Verb"}},values={Value:{not:["Verb","Adjective","Adverb"]},Ordinal:{is:"Value",not:["Cardinal"]},Cardinal:{is:"Value",not:["Ordinal"]},Fraction:{is:"Value",not:["Noun"]},Multiple:{is:"TextValue"},RomanNumeral:{is:"Cardinal",not:["TextValue"]},TextValue:{is:"Value",not:["NumericValue"]},NumericValue:{is:"Value",not:["TextValue"]},Money:{is:"Cardinal"},Percent:{is:"Value"}},dates$1={Date:{not:["Verb","Adverb","Adjective"]},Month:{is:"Date",also:["Noun"],not:["Year","WeekDay","Time"]},WeekDay:{is:"Date",also:["Noun"]},Year:{is:"Date",not:["RomanNumeral"]},FinancialQuarter:{is:"Date",not:"Fraction"},Holiday:{is:"Date",also:["Noun"]},Season:{is:"Date"},Timezone:{is:"Date",also:["Noun"],not:["ProperNoun"]},Time:{is:"Date",not:["AtMention"]},Duration:{is:"Date",also:["Noun"]}},anything=["Noun","Verb","Adjective","Adverb","Value","QuestionWord"],misc$1={Adjective:{not:["Noun","Verb","Adverb","Value"]},Comparable:{is:"Adjective"},Comparative:{is:"Adjective"},Superlative:{is:"Adjective",not:["Comparative"]},NumberRange:{},Adverb:{not:["Noun","Verb","Adjective","Value"]},Determiner:{not:["Noun","Verb","Adjective","Adverb","QuestionWord","Conjunction"]},Conjunction:{not:anything},Preposition:{not:["Noun","Verb","Adjective","Adverb","QuestionWord","Determiner"]},QuestionWord:{not:["Determiner"]},Currency:{is:"Noun"},Expression:{not:["Noun","Adjective","Verb","Adverb"]},Abbreviation:{},Url:{not:["HashTag","PhoneNumber","Verb","Adjective","Value","AtMention","Email"]},PhoneNumber:{not:["HashTag","Verb","Adjective","Value","AtMention","Email"]},HashTag:{},AtMention:{is:"Noun",not:["HashTag","Email"]},Emoji:{not:["HashTag","Verb","Adjective","Value","AtMention"]},Emoticon:{not:["HashTag","Verb","Adjective","Value","AtMention"]},Email:{not:["HashTag","Verb","Adjective","Value","AtMention"]},Acronym:{not:["Plural","RomanNumeral","Pronoun","Date"]},Negative:{not:["Noun","Adjective","Value","Expression"]},Condition:{not:["Verb","Adjective","Noun","Value"]},There:{not:["Verb","Adjective","Noun","Value","Conjunction","Preposition"]},Prefix:{not:["Abbreviation","Acronym","ProperNoun"]},Hyphenated:{}};let allTags=Object.assign({},nouns$1,verbs$2,values,dates$1,misc$1);const preTag={compute:compute$3,methods:methods$1,model:model$1,tags:allTags,hooks:["preTagger"]},postPunct=/[,)"';:\-–—.…]/,setContraction=function(b,$){if(!b.found)return;let _e=b.termList();for(let et=0;et<_e.length-1;et++){const tt=_e[et];if(postPunct.test(tt.post))return}_e[0].implicit=_e[0].normal,_e[0].text+=$,_e[0].normal+=$,_e.slice(1).forEach(et=>{et.implicit=et.normal,et.text="",et.normal=""});for(let et=0;et<_e.length-1;et++)_e[et].post=_e[et].post.replace(/ /,"")},contract=function(){let b=this.not("@hasContraction"),$=b.match("(we|they|you) are");return setContraction($,"'re"),$=b.match("(he|she|they|it|we|you) will"),setContraction($,"'ll"),$=b.match("(he|she|they|it|we) is"),setContraction($,"'s"),$=b.match("#Person is"),setContraction($,"'s"),$=b.match("#Person would"),setContraction($,"'d"),$=b.match("(is|was|had|would|should|could|do|does|have|has|can) not"),setContraction($,"n't"),$=b.match("(i|we|they) have"),setContraction($,"'ve"),$=b.match("(would|should|could) have"),setContraction($,"'ve"),$=b.match("i am"),setContraction($,"'m"),$=b.match("going to"),this},titleCase=new RegExp("^\\p{Lu}[\\p{Ll}'’]","u"),toTitleCase=function(b=""){return b=b.replace(/^ *[a-z\u00C0-\u00FF]/,$=>$.toUpperCase()),b},api$i=function(b){class $ extends b{constructor(et,tt,nt){super(et,tt,nt),this.viewType="Contraction"}expand(){return this.docs.forEach(et=>{let tt=titleCase.test(et[0].text);et.forEach((nt,rt)=>{nt.text=nt.implicit||"",delete nt.implicit,rt<et.length-1&&nt.post===""&&(nt.post+=" "),nt.dirty=!0}),tt&&(et[0].text=toTitleCase(et[0].text))}),this.compute("normal"),this}}b.prototype.contractions=function(){let _e=this.match("@hasContraction+");return new $(this.document,_e.pointer)},b.prototype.contract=contract},insertContraction=function(b,$,_e){let[et,tt]=$;!_e||_e.length===0||(_e=_e.map((nt,rt)=>(nt.implicit=nt.text,nt.machine=nt.text,nt.pre="",nt.post="",nt.text="",nt.normal="",nt.index=[et,tt+rt],nt)),_e[0]&&(_e[0].pre=b[et][tt].pre,_e[_e.length-1].post=b[et][tt].post,_e[0].text=b[et][tt].text,_e[0].normal=b[et][tt].normal),b[et].splice(tt,1,..._e))},hasContraction$1=/'/,hasWords=new Set(["been","become"]),isWords=new Set(["what","how","when","if","too"]);let adjLike$1=new Set(["too","also","enough"]);const isOrHas=(b,$)=>{for(let _e=$+1;_e<b.length;_e+=1){let et=b[_e];if(hasWords.has(et.normal))return"has";if(isWords.has(et.normal)||et.tags.has("Gerund")||et.tags.has("Determiner")||et.tags.has("Adjective")||et.switch==="Adj|Past"&&b[_e+1]&&(adjLike$1.has(b[_e+1].normal)||b[_e+1].tags.has("Preposition")))return"is";if(et.tags.has("PastTense"))return b[_e+1]&&b[_e+1].normal==="for"?"is":"has"}return"is"},apostropheS$1=function(b,$){let _e=b[$].normal.split(hasContraction$1)[0];if(_e==="let")return[_e,"us"];if(_e==="there"){let et=b[$+1];if(et&&et.tags.has("Plural"))return[_e,"are"]}return isOrHas(b,$)==="has"?[_e,"has"]:[_e,"is"]},hasContraction=/'/,hadWords=new Set(["better","done","before","it","had"]),wouldWords=new Set(["have","be"]),hadOrWould=(b,$)=>{for(let _e=$+1;_e<b.length;_e+=1){let et=b[_e];if(hadWords.has(et.normal))return"had";if(wouldWords.has(et.normal))return"would";if(et.tags.has("PastTense")||et.switch==="Adj|Past")return"had";if(et.tags.has("PresentTense")||et.tags.has("Infinitive"))return"would";if(et.tags.has("#Determiner"))return"had";if(et.tags.has("Adjective"))return"would"}return!1},_apostropheD=function(b,$){let _e=b[$].normal.split(hasContraction)[0];return _e==="how"||_e==="what"?[_e,"did"]:hadOrWould(b,$)==="had"?[_e,"had"]:[_e,"would"]},lastNoun$1=function(b,$){for(let _e=$-1;_e>=0;_e-=1)if(b[_e].tags.has("Noun")||b[_e].tags.has("Pronoun")||b[_e].tags.has("Plural")||b[_e].tags.has("Singular"))return b[_e];return null},apostropheT=function(b,$){if(b[$].normal==="ain't"||b[$].normal==="aint"){if(b[$+1]&&b[$+1].normal==="never")return["have"];let et=lastNoun$1(b,$);if(et){if(et.normal==="we"||et.normal==="they")return["are","not"];if(et.normal==="i")return["am","not"];if(et.tags&&et.tags.has("Plural"))return["are","not"]}return["is","not"]}return[b[$].normal.replace(/n't/,""),"not"]},banList={that:!0,there:!0,let:!0,here:!0,everywhere:!0},beforePossessive={in:!0,by:!0,for:!0};let adjLike=new Set(["too","also","enough","about"]),nounLike=new Set(["is","are","did","were","could","should","must","had","have"]);const isPossessive=(b,$)=>{let _e=b[$];if(banList.hasOwnProperty(_e.machine||_e.normal))return!1;if(_e.tags.has("Possessive"))return!0;if(_e.tags.has("QuestionWord")||_e.normal==="he's"||_e.normal==="she's")return!1;let et=b[$+1];if(!et)return!0;if(_e.normal==="it's")return!!et.tags.has("#Noun");if(et.switch=="Noun|Gerund"){let tt=b[$+2];return tt?tt.tags.has("Copula")?!0:(tt.normal==="on"||tt.normal==="in",!1):!!(_e.tags.has("Actor")||_e.tags.has("ProperNoun"))}if(et.tags.has("Verb"))return et.tags.has("Infinitive")?!0:et.tags.has("Gerund")?!1:!!et.tags.has("PresentTense");if(et.switch==="Adj|Noun"){let tt=b[$+2];if(!tt)return!1;if(nounLike.has(tt.normal))return!0;if(adjLike.has(tt.normal))return!1}if(et.tags.has("Noun")){let tt=et.machine||et.normal;return!(tt==="here"||tt==="there"||tt==="everywhere"||et.tags.has("Possessive")||et.tags.has("ProperNoun")&&!_e.tags.has("ProperNoun"))}if(b[$-1]&&beforePossessive[b[$-1].normal]===!0)return!0;if(et.tags.has("Adjective")){let tt=b[$+2];if(!tt)return!1;if(tt.tags.has("Noun")&&!tt.tags.has("Pronoun")){let nt=et.normal;return!(nt==="above"||nt==="below"||nt==="behind")}return tt.switch==="Noun|Verb"}return!!et.tags.has("Value")},byApostrophe=/'/,reIndex=function(b){b.forEach(($,_e)=>{$.index&&($.index[1]=_e)})},reTag=function(b,$,_e,et){let tt=$.update();tt.document=[b];let nt=_e+et;_e>0&&(_e-=1),b[nt]&&(nt+=1),tt.ptrs=[[0,_e,nt]],tt.compute(["freeze","lexicon","preTagger","unfreeze"]),reIndex(b)},byEnd={d:(b,$)=>_apostropheD(b,$),t:(b,$)=>apostropheT(b,$),s:(b,$,_e)=>isPossessive(b,$)?_e.methods.one.setTag([b[$]],"Possessive",_e,null,"2-contraction"):apostropheS$1(b,$)},toDocs=function(b,$){let _e=$.fromText(b.join(" "));return _e.compute("id"),_e.docs[0]},contractionTwo$1=b=>{let{world:$,document:_e}=b;_e.forEach((et,tt)=>{for(let nt=et.length-1;nt>=0;nt-=1){if(et[nt].implicit)return;let rt=null;byApostrophe.test(et[nt].normal)===!0&&(rt=et[nt].normal.split(byApostrophe)[1]);let ot=null;if(byEnd.hasOwnProperty(rt)&&(ot=byEnd[rt](et,nt,$)),ot){ot=toDocs(ot,b),insertContraction(_e,[tt,nt],ot),reTag(_e[tt],b,nt,ot.length);continue}}})},compute$2={contractionTwo:contractionTwo$1},contractionTwo={compute:compute$2,api:api$i,hooks:["contractionTwo"]},adj=[{match:"[(all|both)] #Determiner #Noun",group:0,tag:"Noun",reason:"all-noun"},{match:"#Copula [(just|alone)]$",group:0,tag:"Adjective",reason:"not-adverb"},{match:"#Singular is #Adverb? [#PastTense$]",group:0,tag:"Adjective",reason:"is-filled"},{match:"[#PastTense] #Singular is",group:0,tag:"Adjective",reason:"smoked-poutine"},{match:"[#PastTense] #Plural are",group:0,tag:"Adjective",reason:"baked-onions"},{match:"well [#PastTense]",group:0,tag:"Adjective",reason:"well-made"},{match:"#Copula [fucked up?]",group:0,tag:"Adjective",reason:"swears-adjective"},{match:"#Singular (seems|appears) #Adverb? [#PastTense$]",group:0,tag:"Adjective",reason:"seems-filled"},{match:"#Copula #Adjective? [(out|in|through)]$",group:0,tag:"Adjective",reason:"still-out"},{match:"^[#Adjective] (the|your) #Noun",group:0,notIf:"(all|even)",tag:"Infinitive",reason:"shut-the"},{match:"the [said] #Noun",group:0,tag:"Adjective",reason:"the-said-card"},{match:"[#Hyphenated (#Hyphenated && #PastTense)] (#Noun|#Conjunction)",group:0,tag:"Adjective",notIf:"#Adverb",reason:"faith-based"},{match:"[#Hyphenated (#Hyphenated && #Gerund)] (#Noun|#Conjunction)",group:0,tag:"Adjective",notIf:"#Adverb",reason:"self-driving"},{match:"[#PastTense (#Hyphenated && #PhrasalVerb)] (#Noun|#Conjunction)",group:0,tag:"Adjective",reason:"dammed-up"},{match:"(#Hyphenated && #Value) fold",tag:"Adjective",reason:"two-fold"},{match:"must (#Hyphenated && #Infinitive)",tag:"Adjective",reason:"must-win"},{match:"(#Hyphenated && #Infinitive) #Hyphenated",tag:"Adjective",notIf:"#PhrasalVerb",reason:"vacuum-sealed"},{match:"too much",tag:"Adverb Adjective",reason:"bit-4"},{match:"a bit much",tag:"Determiner Adverb Adjective",reason:"bit-3"},{match:"[(un|contra|extra|inter|intra|macro|micro|mid|mis|mono|multi|pre|sub|tri|ex)] #Adjective",group:0,tag:["Adjective","Prefix"],reason:"un-skilled"}],adverbAdj="(dark|bright|flat|light|soft|pale|dead|dim|faux|little|wee|sheer|most|near|good|extra|all)",noLy="(hard|fast|late|early|high|right|deep|close|direct)",advAdj=[{match:"#Adverb [#Adverb] (and|or|then)",group:0,tag:"Adjective",reason:"kinda-sparkly-and"},{match:`[${adverbAdj}] #Adjective`,group:0,tag:"Adverb",reason:"dark-green"},{match:"#Copula [far too] #Adjective",group:0,tag:"Adverb",reason:"far-too"},{match:"#Copula [still] (in|#Gerund|#Adjective)",group:0,tag:"Adverb",reason:"was-still-walking"},{match:`#Plural ${noLy}`,tag:"#PresentTense #Adverb",reason:"studies-hard"},{match:`#Verb [${noLy}] !#Noun?`,group:0,notIf:"(#Copula|get|got|getting|become|became|becoming|feel|feels|feeling|#Determiner|#Preposition)",tag:"Adverb",reason:"shops-direct"},{match:"[#Plural] a lot",tag:"PresentTense",reason:"studies-a-lot"}],gerundAdj=[{match:"as [#Gerund] as",group:0,tag:"Adjective",reason:"as-gerund-as"},{match:"more [#Gerund] than",group:0,tag:"Adjective",reason:"more-gerund-than"},{match:"(so|very|extremely) [#Gerund]",group:0,tag:"Adjective",reason:"so-gerund"},{match:"(found|found) it #Adverb? [#Gerund]",group:0,tag:"Adjective",reason:"found-it-gerund"},{match:"a (little|bit|wee) bit? [#Gerund]",group:0,tag:"Adjective",reason:"a-bit-gerund"},{match:"#Gerund [#Gerund]",group:0,tag:"Adjective",notIf:"(impersonating|practicing|considering|assuming)",reason:"looking-annoying"},{match:"(looked|look|looks) #Adverb? [%Adj|Gerund%]",group:0,tag:"Adjective",notIf:"(impersonating|practicing|considering|assuming)",reason:"looked-amazing"},{match:"[%Adj|Gerund%] #Determiner",group:0,tag:"Gerund",reason:"developing-a"},{match:"#Possessive [%Adj|Gerund%] #Noun",group:0,tag:"Adjective",reason:"leading-manufacturer"},{match:"%Noun|Gerund% %Adj|Gerund%",tag:"Gerund #Adjective",reason:"meaning-alluring"},{match:"(face|embrace|reveal|stop|start|resume) %Adj|Gerund%",tag:"#PresentTense #Adjective",reason:"face-shocking"},{match:"(are|were) [%Adj|Gerund%] #Plural",group:0,tag:"Adjective",reason:"are-enduring-symbols"}],nounAdj=[{match:"#Determiner [#Adjective] #Copula",group:0,tag:"Noun",reason:"the-adj-is"},{match:"#Adjective [#Adjective] #Copula",group:0,tag:"Noun",reason:"adj-adj-is"},{match:"(his|its) [%Adj|Noun%]",group:0,tag:"Noun",notIf:"#Hyphenated",reason:"his-fine"},{match:"#Copula #Adverb? [all]",group:0,tag:"Noun",reason:"is-all"},{match:"(have|had) [#Adjective] #Preposition .",group:0,tag:"Noun",reason:"have-fun"},{match:"#Gerund (giant|capital|center|zone|application)",tag:"Noun",reason:"brewing-giant"},{match:"#Preposition (a|an) [#Adjective]$",group:0,tag:"Noun",reason:"an-instant"},{match:"no [#Adjective] #Modal",group:0,tag:"Noun",reason:"no-golden"},{match:"[brand #Gerund?] new",group:0,tag:"Adverb",reason:"brand-new"},{match:"(#Determiner|#Comparative|new|different) [kind]",group:0,tag:"Noun",reason:"some-kind"},{match:"#Possessive [%Adj|Noun%] #Noun",group:0,tag:"Adjective",reason:"her-favourite"},{match:"must && #Hyphenated .",tag:"Adjective",reason:"must-win"},{match:"#Determiner [#Adjective]$",tag:"Noun",notIf:"(this|that|#Comparative|#Superlative)",reason:"the-south"},{match:"(#Noun && #Hyphenated) (#Adjective && #Hyphenated)",tag:"Adjective",notIf:"(this|that|#Comparative|#Superlative)",reason:"company-wide"},{match:"#Determiner [#Adjective] (#Copula|#Determiner)",notIf:"(#Comparative|#Superlative)",group:0,tag:"Noun",reason:"the-poor"},{match:"[%Adj|Noun%] #Noun",notIf:"(#Pronoun|#ProperNoun)",group:0,tag:"Adjective",reason:"stable-foundations"}],adjVerb=[{match:"(slowly|quickly) [#Adjective]",group:0,tag:"Verb",reason:"slowly-adj"},{match:"does (#Adverb|not)? [#Adjective]",group:0,tag:"PresentTense",reason:"does-mean"},{match:"[(fine|okay|cool|ok)] by me",group:0,tag:"Adjective",reason:"okay-by-me"},{match:"i (#Adverb|do)? not? [mean]",group:0,tag:"PresentTense",reason:"i-mean"},{match:"will #Adjective",tag:"Auxiliary Infinitive",reason:"will-adj"},{match:"#Pronoun [#Adjective] #Determiner #Adjective? #Noun",group:0,tag:"Verb",reason:"he-adj-the"},{match:"#Copula [%Adj|Present%] to #Verb",group:0,tag:"Verb",reason:"adj-to"},{match:"#Copula [#Adjective] (well|badly|quickly|slowly)",group:0,tag:"Verb",reason:"done-well"},{match:"#Adjective and [#Gerund] !#Preposition?",group:0,tag:"Adjective",reason:"rude-and-x"},{match:"#Copula #Adverb? (over|under) [#PastTense]",group:0,tag:"Adjective",reason:"over-cooked"},{match:"#Copula #Adjective+ (and|or) [#PastTense]$",group:0,tag:"Adjective",reason:"bland-and-overcooked"},{match:"got #Adverb? [#PastTense] of",group:0,tag:"Adjective",reason:"got-tired-of"},{match:"(seem|seems|seemed|appear|appeared|appears|feel|feels|felt|sound|sounds|sounded) (#Adverb|#Adjective)? [#PastTense]",group:0,tag:"Adjective",reason:"felt-loved"},{match:"(seem|feel|seemed|felt) [#PastTense #Particle?]",group:0,tag:"Adjective",reason:"seem-confused"},{match:"a (bit|little|tad) [#PastTense #Particle?]",group:0,tag:"Adjective",reason:"a-bit-confused"},{match:"not be [%Adj|Past% #Particle?]",group:0,tag:"Adjective",reason:"do-not-be-confused"},{match:"#Copula just [%Adj|Past% #Particle?]",group:0,tag:"Adjective",reason:"is-just-right"},{match:"as [#Infinitive] as",group:0,tag:"Adjective",reason:"as-pale-as"},{match:"[%Adj|Past%] and #Adjective",group:0,tag:"Adjective",reason:"faled-and-oppressive"},{match:"or [#PastTense] #Noun",group:0,tag:"Adjective",notIf:"(#Copula|#Pronoun)",reason:"or-heightened-emotion"},{match:"(become|became|becoming|becomes) [#Verb]",group:0,tag:"Adjective",reason:"become-verb"},{match:"#Possessive [#PastTense] #Noun",group:0,tag:"Adjective",reason:"declared-intentions"},{match:"#Copula #Pronoun [%Adj|Present%]",group:0,tag:"Adjective",reason:"is-he-cool"},{match:"#Copula [%Adj|Past%] with",group:0,tag:"Adjective",notIf:"(associated|worn|baked|aged|armed|bound|fried|loaded|mixed|packed|pumped|filled|sealed)",reason:"is-crowded-with"},{match:"#Copula #Adverb? [%Adj|Present%]$",group:0,tag:"Adjective",reason:"was-empty$"}],adv=[{match:"[still] #Adjective",group:0,tag:"Adverb",reason:"still-advb"},{match:"[still] #Verb",group:0,tag:"Adverb",reason:"still-verb"},{match:"[so] #Adjective",group:0,tag:"Adverb",reason:"so-adv"},{match:"[way] #Comparative",group:0,tag:"Adverb",reason:"way-adj"},{match:"[way] #Adverb #Adjective",group:0,tag:"Adverb",reason:"way-too-adj"},{match:"[all] #Verb",group:0,tag:"Adverb",reason:"all-verb"},{match:"#Verb  [like]",group:0,notIf:"(#Modal|#PhrasalVerb)",tag:"Adverb",reason:"verb-like"},{match:"(barely|hardly) even",tag:"Adverb",reason:"barely-even"},{match:"[even] #Verb",group:0,tag:"Adverb",reason:"even-walk"},{match:"[even] #Comparative",group:0,tag:"Adverb",reason:"even-worse"},{match:"[even] (#Determiner|#Possessive)",group:0,tag:"#Adverb",reason:"even-the"},{match:"even left",tag:"#Adverb #Verb",reason:"even-left"},{match:"[way] #Adjective",group:0,tag:"#Adverb",reason:"way-over"},{match:"#PresentTense [(hard|quick|bright|slow|fast|backwards|forwards)]",notIf:"#Copula",group:0,tag:"Adverb",reason:"lazy-ly"},{match:"[much] #Adjective",group:0,tag:"Adverb",reason:"bit-1"},{match:"#Copula [#Adverb]$",group:0,tag:"Adjective",reason:"is-well"},{match:"a [(little|bit|wee) bit?] #Adjective",group:0,tag:"Adverb",reason:"a-bit-cold"},{match:"[(super|pretty)] #Adjective",group:0,tag:"Adverb",reason:"super-strong"},{match:"(become|fall|grow) #Adverb? [#PastTense]",group:0,tag:"Adjective",reason:"overly-weakened"},{match:"(a|an) #Adverb [#Participle] #Noun",group:0,tag:"Adjective",reason:"completely-beaten"},{match:"#Determiner #Adverb? [close]",group:0,tag:"Adjective",reason:"a-close"},{match:"#Gerund #Adverb? [close]",group:0,tag:"Adverb",notIf:"(getting|becoming|feeling)",reason:"being-close"},{match:"(the|those|these|a|an) [#Participle] #Noun",group:0,tag:"Adjective",reason:"blown-motor"},{match:"(#PresentTense|#PastTense) [back]",group:0,tag:"Adverb",notIf:"(#PhrasalVerb|#Copula)",reason:"charge-back"},{match:"#Verb [around]",group:0,tag:"Adverb",notIf:"#PhrasalVerb",reason:"send-around"},{match:"[later] #PresentTense",group:0,tag:"Adverb",reason:"later-say"},{match:"#Determiner [well] !#PastTense?",group:0,tag:"Noun",reason:"the-well"},{match:"#Adjective [enough]",group:0,tag:"Adverb",reason:"high-enough"}],dates=[{match:"#Holiday (day|eve)",tag:"Holiday",reason:"holiday-day"},{match:"#Value of #Month",tag:"Date",reason:"value-of-month"},{match:"#Cardinal #Month",tag:"Date",reason:"cardinal-month"},{match:"#Month #Value to #Value",tag:"Date",reason:"value-to-value"},{match:"#Month the #Value",tag:"Date",reason:"month-the-value"},{match:"(#WeekDay|#Month) #Value",tag:"Date",reason:"date-value"},{match:"#Value (#WeekDay|#Month)",tag:"Date",reason:"value-date"},{match:"(#TextValue && #Date) #TextValue",tag:"Date",reason:"textvalue-date"},{match:"#Month #NumberRange",tag:"Date",reason:"aug 20-21"},{match:"#WeekDay #Month #Ordinal",tag:"Date",reason:"week mm-dd"},{match:"#Month #Ordinal #Cardinal",tag:"Date",reason:"mm-dd-yyy"},{match:"(#Place|#Demonmym|#Time) (standard|daylight|central|mountain)? time",tag:"Timezone",reason:"std-time"},{match:"(eastern|mountain|pacific|central|atlantic) (standard|daylight|summer)? time",tag:"Timezone",reason:"eastern-time"},{match:"#Time [(eastern|mountain|pacific|central|est|pst|gmt)]",group:0,tag:"Timezone",reason:"5pm-central"},{match:"(central|western|eastern) european time",tag:"Timezone",reason:"cet"}],ambigDates=[{match:"[sun] the #Ordinal",tag:"WeekDay",reason:"sun-the-5th"},{match:"[sun] #Date",group:0,tag:"WeekDay",reason:"sun-feb"},{match:"#Date (on|this|next|last|during)? [sun]",group:0,tag:"WeekDay",reason:"1pm-sun"},{match:"(in|by|before|during|on|until|after|of|within|all) [sat]",group:0,tag:"WeekDay",reason:"sat"},{match:"(in|by|before|during|on|until|after|of|within|all) [wed]",group:0,tag:"WeekDay",reason:"wed"},{match:"(in|by|before|during|on|until|after|of|within|all) [march]",group:0,tag:"Month",reason:"march"},{match:"[sat] #Date",group:0,tag:"WeekDay",reason:"sat-feb"},{match:"#Preposition [(march|may)]",group:0,tag:"Month",reason:"in-month"},{match:"(this|next|last) (march|may) !#Infinitive?",tag:"#Date #Month",reason:"this-month"},{match:"(march|may) the? #Value",tag:"#Month #Date #Date",reason:"march-5th"},{match:"#Value of? (march|may)",tag:"#Date #Date #Month",reason:"5th-of-march"},{match:"[(march|may)] .? #Date",group:0,tag:"Month",reason:"march-and-feb"},{match:"#Date .? [(march|may)]",group:0,tag:"Month",reason:"feb-and-march"},{match:"#Adverb [(march|may)]",group:0,tag:"Verb",reason:"quickly-march"},{match:"[(march|may)] #Adverb",group:0,tag:"Verb",reason:"march-quickly"},{match:"#Value (am|pm)",tag:"Time",reason:"2-am"}],infNouns="(feel|sense|process|rush|side|bomb|bully|challenge|cover|crush|dump|exchange|flow|function|issue|lecture|limit|march|process)",noun=[{match:"(the|any) [more]",group:0,tag:"Singular",reason:"more-noun"},{match:"[more] #Noun",group:0,tag:"Adjective",reason:"more-noun"},{match:"(right|rights) of .",tag:"Noun",reason:"right-of"},{match:"a [bit]",group:0,tag:"Singular",reason:"bit-2"},{match:"a [must]",group:0,tag:"Singular",reason:"must-2"},{match:"(we|us) [all]",group:0,tag:"Noun",reason:"we all"},{match:"due to [#Verb]",group:0,tag:"Noun",reason:"due-to"},{match:"some [#Verb] #Plural",group:0,tag:"Noun",reason:"determiner6"},{match:"#Possessive #Ordinal [#PastTense]",group:0,tag:"Noun",reason:"first-thought"},{match:"(the|this|those|these) #Adjective [%Verb|Noun%]",group:0,tag:"Noun",notIf:"#Copula",reason:"the-adj-verb"},{match:"(the|this|those|these) #Adverb #Adjective [#Verb]",group:0,tag:"Noun",reason:"determiner4"},{match:"the [#Verb] #Preposition .",group:0,tag:"Noun",reason:"determiner1"},{match:"(a|an|the) [#Verb] of",group:0,tag:"Noun",reason:"the-verb-of"},{match:"#Determiner #Noun of [#Verb]",group:0,tag:"Noun",notIf:"#Gerund",reason:"noun-of-noun"},{match:"#PastTense #Preposition [#PresentTense]",group:0,notIf:"#Gerund",tag:"Noun",reason:"ended-in-ruins"},{match:"#Conjunction [u]",group:0,tag:"Pronoun",reason:"u-pronoun-2"},{match:"[u] #Verb",group:0,tag:"Pronoun",reason:"u-pronoun-1"},{match:"#Determiner [(western|eastern|northern|southern|central)] #Noun",group:0,tag:"Noun",reason:"western-line"},{match:"(#Singular && @hasHyphen) #PresentTense",tag:"Noun",reason:"hyphen-verb"},{match:"is no [#Verb]",group:0,tag:"Noun",reason:"is-no-verb"},{match:"do [so]",group:0,tag:"Noun",reason:"so-noun"},{match:"#Determiner [(shit|damn|hell)]",group:0,tag:"Noun",reason:"swears-noun"},{match:"to [(shit|hell)]",group:0,tag:"Noun",reason:"to-swears"},{match:"(the|these) [#Singular] (were|are)",group:0,tag:"Plural",reason:"singular-were"},{match:"a #Noun+ or #Adverb+? [#Verb]",group:0,tag:"Noun",reason:"noun-or-noun"},{match:"(the|those|these|a|an) #Adjective? [#PresentTense #Particle?]",group:0,tag:"Noun",notIf:"(seem|appear|include|#Gerund|#Copula)",reason:"det-inf"},{match:"#Noun #Actor",tag:"Actor",notIf:"(#Person|#Pronoun)",reason:"thing-doer"},{match:"#Gerund #Actor",tag:"Actor",reason:"gerund-doer"},{match:"co #Singular",tag:"Actor",reason:"co-noun"},{match:"[#Noun+] #Actor",group:0,tag:"Actor",notIf:"(#Honorific|#Pronoun|#Possessive)",reason:"air-traffic-controller"},{match:"(urban|cardiac|cardiovascular|respiratory|medical|clinical|visual|graphic|creative|dental|exotic|fine|certified|registered|technical|virtual|professional|amateur|junior|senior|special|pharmaceutical|theoretical)+ #Noun? #Actor",tag:"Actor",reason:"fine-artist"},{match:"#Noun+ (coach|chef|king|engineer|fellow|personality|boy|girl|man|woman|master)",tag:"Actor",reason:"dance-coach"},{match:"chief . officer",tag:"Actor",reason:"chief-x-officer"},{match:"chief of #Noun+",tag:"Actor",reason:"chief-of-police"},{match:"senior? vice? president of #Noun+",tag:"Actor",reason:"president-of"},{match:"#Determiner [sun]",group:0,tag:"Singular",reason:"the-sun"},{match:"#Verb (a|an) [#Value]$",group:0,tag:"Singular",reason:"did-a-value"},{match:"the [(can|will|may)]",group:0,tag:"Singular",reason:"the can"},{match:"#FirstName #Acronym? (#Possessive && #LastName)",tag:"Possessive",reason:"name-poss"},{match:"#Organization+ #Possessive",tag:"Possessive",reason:"org-possessive"},{match:"#Place+ #Possessive",tag:"Possessive",reason:"place-possessive"},{match:"#Possessive #PresentTense #Particle?",notIf:"(#Gerund|her)",tag:"Noun",reason:"possessive-verb"},{match:"(my|our|their|her|his|its) [(#Plural && #Actor)] #Noun",tag:"Possessive",reason:"my-dads"},{match:"#Value of a [second]",group:0,unTag:"Value",tag:"Singular",reason:"10th-of-a-second"},{match:"#Value [seconds]",group:0,unTag:"Value",tag:"Plural",reason:"10-seconds"},{match:"in [#Infinitive]",group:0,tag:"Singular",reason:"in-age"},{match:"a [#Adjective] #Preposition",group:0,tag:"Noun",reason:"a-minor-in"},{match:"#Determiner [#Singular] said",group:0,tag:"Actor",reason:"the-actor-said"},{match:`#Determiner #Noun [${infNouns}] !(#Preposition|to|#Adverb)?`,group:0,tag:"Noun",reason:"the-noun-sense"},{match:"[#PresentTense] (of|by|for) (a|an|the) #Noun #Copula",group:0,tag:"Plural",reason:"photographs-of"},{match:"#Infinitive and [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"fight and win"},{match:"#Noun and [#Verb] and #Noun",group:0,tag:"Noun",reason:"peace-and-flowers"},{match:"the #Cardinal [%Adj|Noun%]",group:0,tag:"Noun",reason:"the-1992-classic"},{match:"#Copula the [%Adj|Noun%] #Noun",group:0,tag:"Adjective",reason:"the-premier-university"},{match:"i #Verb [me] #Noun",group:0,tag:"Possessive",reason:"scottish-me"},{match:"[#PresentTense] (music|class|lesson|night|party|festival|league|ceremony)",group:0,tag:"Noun",reason:"dance-music"},{match:"[wit] (me|it)",group:0,tag:"Presposition",reason:"wit-me"},{match:"#PastTense #Possessive [#Verb]",group:0,tag:"Noun",notIf:"(saw|made)",reason:"left-her-boots"},{match:"#Value [%Plural|Verb%]",group:0,tag:"Plural",notIf:"(one|1|a|an)",reason:"35-signs"},{match:"had [#PresentTense]",group:0,tag:"Noun",notIf:"(#Gerund|come|become)",reason:"had-time"},{match:"%Adj|Noun% %Noun|Verb%",tag:"#Adjective #Noun",notIf:"#ProperNoun #Noun",reason:"instant-access"},{match:"#Determiner [%Adj|Noun%] #Conjunction",group:0,tag:"Noun",reason:"a-rep-to"},{match:"#Adjective #Noun [%Plural|Verb%]$",group:0,tag:"Plural",notIf:"#Pronoun",reason:"near-death-experiences"},{match:"#Possessive #Noun [%Plural|Verb%]$",group:0,tag:"Plural",reason:"your-guild-colors"}],gerundNouns=[{match:"(this|that|the|a|an) [#Gerund #Infinitive]",group:0,tag:"Singular",reason:"the-planning-process"},{match:"(that|the) [#Gerund #PresentTense]",group:0,ifNo:"#Copula",tag:"Plural",reason:"the-paving-stones"},{match:"#Determiner [#Gerund] #Noun",group:0,tag:"Adjective",reason:"the-gerund-noun"},{match:"#Pronoun #Infinitive [#Gerund] #PresentTense",group:0,tag:"Noun",reason:"tipping-sucks"},{match:"#Adjective [#Gerund]",group:0,tag:"Noun",notIf:"(still|even|just)",reason:"early-warning"},{match:"[#Gerund] #Adverb? not? #Copula",group:0,tag:"Activity",reason:"gerund-copula"},{match:"#Copula [(#Gerund|#Activity)] #Copula",group:0,tag:"Gerund",reason:"are-doing-is"},{match:"[#Gerund] #Modal",group:0,tag:"Activity",reason:"gerund-modal"},{match:"#Singular for [%Noun|Gerund%]",group:0,tag:"Gerund",reason:"noun-for-gerund"},{match:"#Comparative (for|at) [%Noun|Gerund%]",group:0,tag:"Gerund",reason:"better-for-gerund"},{match:"#PresentTense the [#Gerund]",group:0,tag:"Noun",reason:"keep-the-touching"}],presNouns=[{match:"#Infinitive (this|that|the) [#Infinitive]",group:0,tag:"Noun",reason:"do-this-dance"},{match:"#Gerund #Determiner [#Infinitive]",group:0,tag:"Noun",reason:"running-a-show"},{match:"#Determiner (only|further|just|more|backward) [#Infinitive]",group:0,tag:"Noun",reason:"the-only-reason"},{match:"(the|this|a|an) [#Infinitive] #Adverb? #Verb",group:0,tag:"Noun",reason:"determiner5"},{match:"#Determiner #Adjective #Adjective? [#Infinitive]",group:0,tag:"Noun",reason:"a-nice-inf"},{match:"#Determiner #Demonym [#PresentTense]",group:0,tag:"Noun",reason:"mexican-train"},{match:"#Adjective #Noun+ [#Infinitive] #Copula",group:0,tag:"Noun",reason:"career-move"},{match:"at some [#Infinitive]",group:0,tag:"Noun",reason:"at-some-inf"},{match:"(go|goes|went) to [#Infinitive]",group:0,tag:"Noun",reason:"goes-to-verb"},{match:"(a|an) #Adjective? #Noun [#Infinitive] (#Preposition|#Noun)",group:0,notIf:"from",tag:"Noun",reason:"a-noun-inf"},{match:"(a|an) #Noun [#Infinitive]$",group:0,tag:"Noun",reason:"a-noun-inf2"},{match:"#Gerund #Adjective? for [#Infinitive]",group:0,tag:"Noun",reason:"running-for"},{match:"about [#Infinitive]",group:0,tag:"Singular",reason:"about-love"},{match:"#Plural on [#Infinitive]",group:0,tag:"Noun",reason:"on-stage"},{match:"any [#Infinitive]",group:0,tag:"Noun",reason:"any-charge"},{match:"no [#Infinitive]",group:0,tag:"Noun",reason:"no-doubt"},{match:"number of [#PresentTense]",group:0,tag:"Noun",reason:"number-of-x"},{match:"(taught|teaches|learns|learned) [#PresentTense]",group:0,tag:"Noun",reason:"teaches-x"},{match:"(try|use|attempt|build|make) [#Verb #Particle?]",notIf:"(#Copula|#Noun|sure|fun|up)",group:0,tag:"Noun",reason:"do-verb"},{match:"^[#Infinitive] (is|was)",group:0,tag:"Noun",reason:"checkmate-is"},{match:"#Infinitive much [#Infinitive]",group:0,tag:"Noun",reason:"get-much"},{match:"[cause] #Pronoun #Verb",group:0,tag:"Conjunction",reason:"cause-cuz"},{match:"the #Singular [#Infinitive] #Noun",group:0,tag:"Noun",notIf:"#Pronoun",reason:"cardio-dance"},{match:"#Determiner #Modal [#Noun]",group:0,tag:"PresentTense",reason:"should-smoke"},{match:"this [#Plural]",group:0,tag:"PresentTense",notIf:"(#Preposition|#Date)",reason:"this-verbs"},{match:"#Noun that [#Plural]",group:0,tag:"PresentTense",notIf:"(#Preposition|#Pronoun|way)",reason:"voice-that-rocks"},{match:"that [#Plural] to",group:0,tag:"PresentTense",notIf:"#Preposition",reason:"that-leads-to"},{match:"(let|make|made) (him|her|it|#Person|#Place|#Organization)+ [#Singular] (a|an|the|it)",group:0,tag:"Infinitive",reason:"let-him-glue"},{match:"#Verb (all|every|each|most|some|no) [#PresentTense]",notIf:"#Modal",group:0,tag:"Noun",reason:"all-presentTense"},{match:"(had|have|#PastTense) #Adjective [#PresentTense]",group:0,tag:"Noun",notIf:"better",reason:"adj-presentTense"},{match:"#Value #Adjective [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"one-big-reason"},{match:"#PastTense #Adjective+ [#PresentTense]",group:0,tag:"Noun",notIf:"(#Copula|better)",reason:"won-wide-support"},{match:"(many|few|several|couple) [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"many-poses"},{match:"#Determiner #Adverb #Adjective [%Noun|Verb%]",group:0,tag:"Noun",notIf:"#Copula",reason:"very-big-dream"},{match:"from #Noun to [%Noun|Verb%]",group:0,tag:"Noun",reason:"start-to-finish"},{match:"(for|with|of) #Noun (and|or|not) [%Noun|Verb%]",group:0,tag:"Noun",notIf:"#Pronoun",reason:"for-food-and-gas"},{match:"#Adjective #Adjective [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"adorable-little-store"},{match:"#Gerund #Adverb? #Comparative [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"higher-costs"},{match:"(#Noun && @hasComma) #Noun (and|or) [#PresentTense]",group:0,tag:"Noun",notIf:"#Copula",reason:"noun-list"},{match:"(many|any|some|several) [#PresentTense] for",group:0,tag:"Noun",reason:"any-verbs-for"},{match:"to #PresentTense #Noun [#PresentTense] #Preposition",group:0,tag:"Noun",reason:"gas-exchange"},{match:"#PastTense (until|as|through|without) [#PresentTense]",group:0,tag:"Noun",reason:"waited-until-release"},{match:"#Gerund like #Adjective? [#PresentTense]",group:0,tag:"Plural",reason:"like-hot-cakes"},{match:"some #Adjective [#PresentTense]",group:0,tag:"Noun",reason:"some-reason"},{match:"for some [#PresentTense]",group:0,tag:"Noun",reason:"for-some-reason"},{match:"(same|some|the|that|a) kind of [#PresentTense]",group:0,tag:"Noun",reason:"some-kind-of"},{match:"(same|some|the|that|a) type of [#PresentTense]",group:0,tag:"Noun",reason:"some-type-of"},{match:"#Gerund #Adjective #Preposition [#PresentTense]",group:0,tag:"Noun",reason:"doing-better-for-x"},{match:"(get|got|have) #Comparative [#PresentTense]",group:0,tag:"Noun",reason:"got-better-aim"},{match:"whose [#PresentTense] #Copula",group:0,tag:"Noun",reason:"whos-name-was"},{match:"#PhrasalVerb #Particle #Preposition [#PresentTense]",group:0,tag:"Noun",reason:"given-up-on-x"},{match:"there (are|were) #Adjective? [#PresentTense]",group:0,tag:"Plural",reason:"there-are"},{match:"#Value [#PresentTense] of",group:0,notIf:"(one|1|#Copula|#Infinitive)",tag:"Plural",reason:"2-trains"},{match:"[#PresentTense] (are|were) #Adjective",group:0,tag:"Plural",reason:"compromises-are-possible"},{match:"^[(hope|guess|thought|think)] #Pronoun #Verb",group:0,tag:"Infinitive",reason:"suppose-i"},{match:"#Possessive #Adjective [#Verb]",group:0,tag:"Noun",notIf:"#Copula",reason:"our-full-support"},{match:"[(tastes|smells)] #Adverb? #Adjective",group:0,tag:"PresentTense",reason:"tastes-good"},{match:"#Copula #Gerund [#PresentTense] !by?",group:0,tag:"Noun",notIf:"going",reason:"ignoring-commute"},{match:"#Determiner #Adjective? [(shed|thought|rose|bid|saw|spelt)]",group:0,tag:"Noun",reason:"noun-past"},{match:"how to [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"how-to-noun"},{match:"which [%Noun|Verb%] #Noun",group:0,tag:"Infinitive",reason:"which-boost-it"},{match:"#Gerund [%Plural|Verb%]",group:0,tag:"Plural",reason:"asking-questions"},{match:"(ready|available|difficult|hard|easy|made|attempt|try) to [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"ready-to-noun"},{match:"(bring|went|go|drive|run|bike) to [%Noun|Verb%]",group:0,tag:"Noun",reason:"bring-to-noun"},{match:"#Modal #Noun [%Noun|Verb%]",group:0,tag:"Infinitive",reason:"would-you-look"},{match:"#Copula just [#Infinitive]",group:0,tag:"Noun",reason:"is-just-spam"},{match:"^%Noun|Verb% %Plural|Verb%",tag:"Imperative #Plural",reason:"request-copies"},{match:"#Adjective #Plural and [%Plural|Verb%]",group:0,tag:"#Plural",reason:"pickles-and-drinks"},{match:"#Determiner #Year [#Verb]",group:0,tag:"Noun",reason:"the-1968-film"},{match:"#Determiner [#PhrasalVerb #Particle]",group:0,tag:"Noun",reason:"the-break-up"},{match:"#Determiner [%Adj|Noun%] #Noun",group:0,tag:"Adjective",notIf:"(#Pronoun|#Possessive|#ProperNoun)",reason:"the-individual-goals"},{match:"[%Noun|Verb%] or #Infinitive",group:0,tag:"Infinitive",reason:"work-or-prepare"},{match:"to #Infinitive [#PresentTense]",group:0,tag:"Noun",notIf:"(#Gerund|#Copula|help)",reason:"to-give-thanks"},{match:"[#Noun] me",group:0,tag:"Verb",reason:"kills-me"},{match:"%Plural|Verb% %Plural|Verb%",tag:"#PresentTense #Plural",reason:"removes-wrinkles"}],money=[{match:"#Money and #Money #Currency?",tag:"Money",reason:"money-and-money"},{match:"#Value #Currency [and] #Value (cents|ore|centavos|sens)",group:0,tag:"money",reason:"and-5-cents"},{match:"#Value (mark|rand|won|rub|ore)",tag:"#Money #Currency",reason:"4-mark"},{match:"a pound",tag:"#Money #Unit",reason:"a-pound"},{match:"#Value (pound|pounds)",tag:"#Money #Unit",reason:"4-pounds"}],fractions=[{match:"[(half|quarter)] of? (a|an)",group:0,tag:"Fraction",reason:"millionth"},{match:"#Adverb [half]",group:0,tag:"Fraction",reason:"nearly-half"},{match:"[half] the",group:0,tag:"Fraction",reason:"half-the"},{match:"#Cardinal and a half",tag:"Fraction",reason:"and-a-half"},{match:"#Value (halves|halfs|quarters)",tag:"Fraction",reason:"two-halves"},{match:"a #Ordinal",tag:"Fraction",reason:"a-quarter"},{match:"[#Cardinal+] (#Fraction && /s$/)",tag:"Fraction",reason:"seven-fifths"},{match:"[#Cardinal+ #Ordinal] of .",group:0,tag:"Fraction",reason:"ordinal-of"},{match:"[(#NumericValue && #Ordinal)] of .",group:0,tag:"Fraction",reason:"num-ordinal-of"},{match:"(a|one) #Cardinal?+ #Ordinal",tag:"Fraction",reason:"a-ordinal"},{match:"#Cardinal+ out? of every? #Cardinal",tag:"Fraction",reason:"out-of"}],numbers$1=[{match:"#Cardinal [second]",tag:"Unit",reason:"one-second"},{match:"!once? [(a|an)] (#Duration|hundred|thousand|million|billion|trillion)",group:0,tag:"Value",reason:"a-is-one"},{match:"1 #Value #PhoneNumber",tag:"PhoneNumber",reason:"1-800-Value"},{match:"#NumericValue #PhoneNumber",tag:"PhoneNumber",reason:"(800) PhoneNumber"},{match:"#Demonym #Currency",tag:"Currency",reason:"demonym-currency"},{match:"#Value [(buck|bucks|grand)]",group:0,tag:"Currency",reason:"value-bucks"},{match:"[#Value+] #Currency",group:0,tag:"Money",reason:"15 usd"},{match:"[second] #Noun",group:0,tag:"Ordinal",reason:"second-noun"},{match:"#Value+ [#Currency]",group:0,tag:"Unit",reason:"5-yan"},{match:"#Value [(foot|feet)]",group:0,tag:"Unit",reason:"foot-unit"},{match:"#Value [#Abbreviation]",group:0,tag:"Unit",reason:"value-abbr"},{match:"#Value [k]",group:0,tag:"Unit",reason:"value-k"},{match:"#Unit an hour",tag:"Unit",reason:"unit-an-hour"},{match:"(minus|negative) #Value",tag:"Value",reason:"minus-value"},{match:"#Value (point|decimal) #Value",tag:"Value",reason:"value-point-value"},{match:"#Determiner [(half|quarter)] #Ordinal",group:0,tag:"Value",reason:"half-ordinal"},{match:"#Multiple+ and #Value",tag:"Value",reason:"magnitude-and-value"},{match:"#Value #Unit [(per|an) (hr|hour|sec|second|min|minute)]",group:0,tag:"Unit",reason:"12-miles-per-second"},{match:"#Value [(square|cubic)] #Unit",group:0,tag:"Unit",reason:"square-miles"},{match:"^[#Value] (#Determiner|#Gerund)",group:0,tag:"Expression",unTag:"Value",reason:"numbered-list"}],person=[{match:"#Copula [(#Noun|#PresentTense)] #LastName",group:0,tag:"FirstName",reason:"copula-noun-lastname"},{match:"(sister|pope|brother|father|aunt|uncle|grandpa|grandfather|grandma) #ProperNoun",tag:"Person",reason:"lady-titlecase",safe:!0},{match:"#FirstName [#Determiner #Noun] #LastName",group:0,tag:"Person",reason:"first-noun-last"},{match:"#ProperNoun (b|c|d|e|f|g|h|j|k|l|m|n|o|p|q|r|s|t|u|v|w|x|y|z) #ProperNoun",tag:"Person",reason:"titlecase-acronym-titlecase",safe:!0},{match:"#Acronym #LastName",tag:"Person",reason:"acronym-lastname",safe:!0},{match:"#Person (jr|sr|md)",tag:"Person",reason:"person-honorific"},{match:"#Honorific #Acronym",tag:"Person",reason:"Honorific-TitleCase"},{match:"#Person #Person the? #RomanNumeral",tag:"Person",reason:"roman-numeral"},{match:"#FirstName [/^[^aiurck]$/]",group:0,tag:["Acronym","Person"],reason:"john-e"},{match:"#Noun van der? #Noun",tag:"Person",reason:"van der noun",safe:!0},{match:"(king|queen|prince|saint|lady) of #Noun",tag:"Person",reason:"king-of-noun",safe:!0},{match:"(prince|lady) #Place",tag:"Person",reason:"lady-place"},{match:"(king|queen|prince|saint) #ProperNoun",tag:"Person",notIf:"#Place",reason:"saint-foo"},{match:"al (#Person|#ProperNoun)",tag:"Person",reason:"al-borlen",safe:!0},{match:"#FirstName de #Noun",tag:"Person",reason:"bill-de-noun"},{match:"#FirstName (bin|al) #Noun",tag:"Person",reason:"bill-al-noun"},{match:"#FirstName #Acronym #ProperNoun",tag:"Person",reason:"bill-acronym-title"},{match:"#FirstName #FirstName #ProperNoun",tag:"Person",reason:"bill-firstname-title"},{match:"#Honorific #FirstName? #ProperNoun",tag:"Person",reason:"dr-john-Title"},{match:"#FirstName the #Adjective",tag:"Person",reason:"name-the-great"},{match:"#ProperNoun (van|al|bin) #ProperNoun",tag:"Person",reason:"title-van-title",safe:!0},{match:"#ProperNoun (de|du) la? #ProperNoun",tag:"Person",notIf:"#Place",reason:"title-de-title"},{match:"#Singular #Acronym #LastName",tag:"#FirstName #Person .",reason:"title-acro-noun",safe:!0},{match:"[#ProperNoun] #Person",group:0,tag:"Person",reason:"proper-person",safe:!0},{match:"#Person [#ProperNoun #ProperNoun]",group:0,tag:"Person",notIf:"#Possessive",reason:"three-name-person",safe:!0},{match:"#FirstName #Acronym? [#ProperNoun]",group:0,tag:"LastName",notIf:"#Possessive",reason:"firstname-titlecase"},{match:"#FirstName [#FirstName]",group:0,tag:"LastName",reason:"firstname-firstname"},{match:"#FirstName #Acronym #Noun",tag:"Person",reason:"n-acro-noun",safe:!0},{match:"#FirstName [(de|di|du|van|von)] #Person",group:0,tag:"LastName",reason:"de-firstname"},{match:"[(lieutenant|corporal|sergeant|captain|qeen|king|admiral|major|colonel|marshal|president|queen|king)+] #ProperNoun",group:0,tag:"Honorific",reason:"seargeant-john"},{match:"[(private|general|major|rear|prime|field|count|miss)] #Honorific? #Person",group:0,tag:["Honorific","Person"],reason:"ambg-honorifics"},{match:"#Honorific #FirstName [#Singular]",group:0,tag:"LastName",notIf:"#Possessive",reason:"dr-john-foo",safe:!0},{match:"[(his|her) (majesty|honour|worship|excellency|honorable)] #Person",group:0,tag:"Honorific",reason:"his-excellency"},{match:"#Honorific #Actor",tag:"Honorific",reason:"Lieutenant colonel"},{match:"(first|second|third|1st|2nd|3rd) #Actor",tag:"Honorific",reason:"first lady"},{match:"#Person #RomanNumeral",tag:"Person",reason:"louis-IV"}],personName=[{match:"#FirstName #Noun$",tag:". #LastName",notIf:"(#Possessive|#Organization|#Place|#Pronoun|@hasTitleCase)",reason:"firstname-noun"},{match:"%Person|Date% #Acronym? #ProperNoun",tag:"Person",reason:"jan-thierson"},{match:"%Person|Noun% #Acronym? #ProperNoun",tag:"Person",reason:"switch-person",safe:!0},{match:"%Person|Noun% #Organization",tag:"Organization",reason:"olive-garden"},{match:"%Person|Verb% #Acronym? #ProperNoun",tag:"Person",reason:"verb-propernoun",ifNo:"#Actor"},{match:"[%Person|Verb%] (will|had|has|said|says|told|did|learned|wants|wanted)",group:0,tag:"Person",reason:"person-said"},{match:"[%Person|Place%] (harbor|harbour|pier|town|city|place|dump|landfill)",group:0,tag:"Place",reason:"sydney-harbour"},{match:"(west|east|north|south) [%Person|Place%]",group:0,tag:"Place",reason:"east-sydney"},{match:"#Modal [%Person|Verb%]",group:0,tag:"Verb",reason:"would-mark"},{match:"#Adverb [%Person|Verb%]",group:0,tag:"Verb",reason:"really-mark"},{match:"[%Person|Verb%] (#Adverb|#Comparative)",group:0,tag:"Verb",reason:"drew-closer"},{match:"%Person|Verb% #Person",tag:"Person",reason:"rob-smith"},{match:"%Person|Verb% #Acronym #ProperNoun",tag:"Person",reason:"rob-a-smith"},{match:"[will] #Verb",group:0,tag:"Modal",reason:"will-verb"},{match:"(will && @isTitleCase) #ProperNoun",tag:"Person",reason:"will-name"},{match:"(#FirstName && !#Possessive) [#Singular] #Verb",group:0,safe:!0,tag:"LastName",reason:"jack-layton"},{match:"^[#Singular] #Person #Verb",group:0,safe:!0,tag:"Person",reason:"sherwood-anderson"},{match:"(a|an) [#Person]$",group:0,unTag:"Person",reason:"a-warhol"}],verbs$1=[{match:"#Copula (pretty|dead|full|well|sure) (#Adjective|#Noun)",tag:"#Copula #Adverb #Adjective",reason:"sometimes-adverb"},{match:"(#Pronoun|#Person) (had|#Adverb)? [better] #PresentTense",group:0,tag:"Modal",reason:"i-better"},{match:"(#Modal|i|they|we|do) not? [like]",group:0,tag:"PresentTense",reason:"modal-like"},{match:"#Noun #Adverb? [left]",group:0,tag:"PastTense",reason:"left-verb"},{match:"will #Adverb? not? #Adverb? [be] #Gerund",group:0,tag:"Copula",reason:"will-be-copula"},{match:"will #Adverb? not? #Adverb? [be] #Adjective",group:0,tag:"Copula",reason:"be-copula"},{match:"[march] (up|down|back|toward)",notIf:"#Date",group:0,tag:"Infinitive",reason:"march-to"},{match:"#Modal [march]",group:0,tag:"Infinitive",reason:"must-march"},{match:"[may] be",group:0,tag:"Verb",reason:"may-be"},{match:"[(subject|subjects|subjected)] to",group:0,tag:"Verb",reason:"subject to"},{match:"[home] to",group:0,tag:"PresentTense",reason:"home to"},{match:"[open] #Determiner",group:0,tag:"Infinitive",reason:"open-the"},{match:"(were|was) being [#PresentTense]",group:0,tag:"PastTense",reason:"was-being"},{match:"(had|has|have) [been /en$/]",group:0,tag:"Auxiliary Participle",reason:"had-been-broken"},{match:"(had|has|have) [been /ed$/]",group:0,tag:"Auxiliary PastTense",reason:"had-been-smoked"},{match:"(had|has) #Adverb? [been] #Adverb? #PastTense",group:0,tag:"Auxiliary",reason:"had-been-adj"},{match:"(had|has) to [#Noun] (#Determiner|#Possessive)",group:0,tag:"Infinitive",reason:"had-to-noun"},{match:"have [#PresentTense]",group:0,tag:"PastTense",notIf:"(come|gotten)",reason:"have-read"},{match:"(does|will|#Modal) that [work]",group:0,tag:"PastTense",reason:"does-that-work"},{match:"[(sound|sounds)] #Adjective",group:0,tag:"PresentTense",reason:"sounds-fun"},{match:"[(look|looks)] #Adjective",group:0,tag:"PresentTense",reason:"looks-good"},{match:"[(start|starts|stop|stops|begin|begins)] #Gerund",group:0,tag:"Verb",reason:"starts-thinking"},{match:"(have|had) read",tag:"Modal #PastTense",reason:"read-read"},{match:"(is|was|were) [(under|over) #PastTense]",group:0,tag:"Adverb Adjective",reason:"was-under-cooked"},{match:"[shit] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear1-verb"},{match:"[damn] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear2-verb"},{match:"[fuck] (#Determiner|#Possessive|them)",group:0,tag:"Verb",reason:"swear3-verb"},{match:"#Plural that %Noun|Verb%",tag:". #Preposition #Infinitive",reason:"jobs-that-work"},{match:"[works] for me",group:0,tag:"PresentTense",reason:"works-for-me"},{match:"as #Pronoun [please]",group:0,tag:"Infinitive",reason:"as-we-please"},{match:"[(co|mis|de|inter|intra|pre|re|un|out|under|over|counter)] #Verb",group:0,tag:["Verb","Prefix"],notIf:"(#Copula|#PhrasalVerb)",reason:"co-write"},{match:"#PastTense and [%Adj|Past%]",group:0,tag:"PastTense",reason:"dressed-and-left"},{match:"[%Adj|Past%] and #PastTense",group:0,tag:"PastTense",reason:"dressed-and-left"},{match:"#Copula #Pronoun [%Adj|Past%]",group:0,tag:"Adjective",reason:"is-he-stoked"},{match:"to [%Noun|Verb%] #Preposition",group:0,tag:"Infinitive",reason:"to-dream-of"}],auxiliary=[{match:"will (#Adverb|not)+? [have] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"will-have-vb"},{match:"[#Copula] (#Adverb|not)+? (#Gerund|#PastTense)",group:0,tag:"Auxiliary",reason:"copula-walking"},{match:"[(#Modal|did)+] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"modal-verb"},{match:"#Modal (#Adverb|not)+? [have] (#Adverb|not)+? [had] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"would-have"},{match:"[(has|had)] (#Adverb|not)+? #PastTense",group:0,tag:"Auxiliary",reason:"had-walked"},{match:"[(do|does|did|will|have|had|has|got)] (not|#Adverb)+? #Verb",group:0,tag:"Auxiliary",reason:"have-had"},{match:"[about to] #Adverb? #Verb",group:0,tag:["Auxiliary","Verb"],reason:"about-to"},{match:"#Modal (#Adverb|not)+? [be] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"would-be"},{match:"[(#Modal|had|has)] (#Adverb|not)+? [been] (#Adverb|not)+? #Verb",group:0,tag:"Auxiliary",reason:"had-been"},{match:"[(be|being|been)] #Participle",group:0,tag:"Auxiliary",reason:"being-driven"},{match:"[may] #Adverb? #Infinitive",group:0,tag:"Auxiliary",reason:"may-want"},{match:"#Copula (#Adverb|not)+? [(be|being|been)] #Adverb+? #PastTense",group:0,tag:"Auxiliary",reason:"being-walked"},{match:"will [be] #PastTense",group:0,tag:"Auxiliary",reason:"will-be-x"},{match:"[(be|been)] (#Adverb|not)+? #Gerund",group:0,tag:"Auxiliary",reason:"been-walking"},{match:"[used to] #PresentTense",group:0,tag:"Auxiliary",reason:"used-to-walk"},{match:"#Copula (#Adverb|not)+? [going to] #Adverb+? #PresentTense",group:0,tag:"Auxiliary",reason:"going-to-walk"},{match:"#Imperative [(me|him|her)]",group:0,tag:"Reflexive",reason:"tell-him"},{match:"(is|was) #Adverb? [no]",group:0,tag:"Negative",reason:"is-no"},{match:"[(been|had|became|came)] #PastTense",group:0,notIf:"#PhrasalVerb",tag:"Auxiliary",reason:"been-told"},{match:"[(being|having|getting)] #Verb",group:0,tag:"Auxiliary",reason:"being-born"},{match:"[be] #Gerund",group:0,tag:"Auxiliary",reason:"be-walking"},{match:"[better] #PresentTense",group:0,tag:"Modal",notIf:"(#Copula|#Gerund)",reason:"better-go"},{match:"even better",tag:"Adverb #Comparative",reason:"even-better"}],phrasal=[{match:"(#Verb && @hasHyphen) up",tag:"PhrasalVerb",reason:"foo-up"},{match:"(#Verb && @hasHyphen) off",tag:"PhrasalVerb",reason:"foo-off"},{match:"(#Verb && @hasHyphen) over",tag:"PhrasalVerb",reason:"foo-over"},{match:"(#Verb && @hasHyphen) out",tag:"PhrasalVerb",reason:"foo-out"},{match:"[#Verb (in|out|up|down|off|back)] (on|in)",notIf:"#Copula",tag:"PhrasalVerb Particle",reason:"walk-in-on"},{match:"(lived|went|crept|go) [on] for",group:0,tag:"PhrasalVerb",reason:"went-on"},{match:"#Verb (up|down|in|on|for)$",tag:"PhrasalVerb #Particle",notIf:"#PhrasalVerb",reason:"come-down$"},{match:"help [(stop|end|make|start)]",group:0,tag:"Infinitive",reason:"help-stop"},{match:"#PhrasalVerb (in && #Particle) #Determiner",tag:"#Verb #Preposition #Determiner",unTag:"PhrasalVerb",reason:"work-in-the"},{match:"[(stop|start|finish|help)] #Gerund",group:0,tag:"Infinitive",reason:"start-listening"},{match:"#Verb (him|her|it|us|himself|herself|itself|everything|something) [(up|down)]",group:0,tag:"Adverb",reason:"phrasal-pronoun-advb"}],notIf="(i|we|they)",imperative=[{match:"^do not? [#Infinitive #Particle?]",notIf,group:0,tag:"Imperative",reason:"do-eat"},{match:"^please do? not? [#Infinitive #Particle?]",group:0,tag:"Imperative",reason:"please-go"},{match:"^just do? not? [#Infinitive #Particle?]",group:0,tag:"Imperative",reason:"just-go"},{match:"^[#Infinitive] it #Comparative",notIf,group:0,tag:"Imperative",reason:"do-it-better"},{match:"^[#Infinitive] it (please|now|again|plz)",notIf,group:0,tag:"Imperative",reason:"do-it-please"},{match:"^[#Infinitive] (#Adjective|#Adverb)$",group:0,tag:"Imperative",notIf:"(so|such|rather|enough)",reason:"go-quickly"},{match:"^[#Infinitive] (up|down|over) #Determiner",group:0,tag:"Imperative",reason:"turn-down"},{match:"^[#Infinitive] (your|my|the|a|an|any|each|every|some|more|with|on)",group:0,notIf:"like",tag:"Imperative",reason:"eat-my-shorts"},{match:"^[#Infinitive] (him|her|it|us|me|there)",group:0,tag:"Imperative",reason:"tell-him"},{match:"^[#Infinitive] #Adjective #Noun$",group:0,tag:"Imperative",reason:"avoid-loud-noises"},{match:"^[#Infinitive] (#Adjective|#Adverb)? and #Infinitive",group:0,tag:"Imperative",reason:"call-and-reserve"},{match:"^(go|stop|wait|hurry) please?$",tag:"Imperative",reason:"go"},{match:"^(somebody|everybody) [#Infinitive]",group:0,tag:"Imperative",reason:"somebody-call"},{match:"^let (us|me) [#Infinitive]",group:0,tag:"Imperative",reason:"lets-leave"},{match:"^[(shut|close|open|start|stop|end|keep)] #Determiner #Noun",group:0,tag:"Imperative",reason:"shut-the-door"},{match:"^[#PhrasalVerb #Particle] #Determiner #Noun",group:0,tag:"Imperative",reason:"turn-off-the-light"},{match:"^[go] to .",group:0,tag:"Imperative",reason:"go-to-toronto"},{match:"^#Modal you [#Infinitive]",group:0,tag:"Imperative",reason:"would-you-"},{match:"^never [#Infinitive]",group:0,tag:"Imperative",reason:"never-stop"},{match:"^come #Infinitive",tag:"Imperative",notIf:"on",reason:"come-have"},{match:"^come and? #Infinitive",tag:"Imperative . Imperative",notIf:"#PhrasalVerb",reason:"come-and-have"},{match:"^stay (out|away|back)",tag:"Imperative",reason:"stay-away"},{match:"^[(stay|be|keep)] #Adjective",group:0,tag:"Imperative",reason:"stay-cool"},{match:"^[keep it] #Adjective",group:0,tag:"Imperative",reason:"keep-it-cool"},{match:"^do not [#Infinitive]",group:0,tag:"Imperative",reason:"do-not-be"},{match:"[#Infinitive] (yourself|yourselves)",group:0,tag:"Imperative",reason:"allow-yourself"},{match:"[#Infinitive] what .",group:0,tag:"Imperative",reason:"look-what"},{match:"^[#Infinitive] #Gerund",group:0,tag:"Imperative",reason:"keep-playing"},{match:"^[#Infinitive] (to|for|into|toward|here|there)",group:0,tag:"Imperative",reason:"go-to"},{match:"^[#Infinitive] (and|or) #Infinitive",group:0,tag:"Imperative",reason:"inf-and-inf"},{match:"^[%Noun|Verb%] to",group:0,tag:"Imperative",reason:"commit-to"},{match:"^[#Infinitive] #Adjective? #Singular #Singular",group:0,tag:"Imperative",reason:"maintain-eye-contact"},{match:"do not (forget|omit|neglect) to [#Infinitive]",group:0,tag:"Imperative",reason:"do-not-forget"},{match:"^[(ask|wear|pay|look|help|show|watch|act|fix|kill|stop|start|turn|try|win)] #Noun",group:0,tag:"Imperative",reason:"pay-attention"}],adjGerund=[{match:"(that|which) were [%Adj|Gerund%]",group:0,tag:"Gerund",reason:"that-were-growing"},{match:"#Gerund [#Gerund] #Plural",group:0,tag:"Adjective",reason:"hard-working-fam"}],passive$1=[{match:"(got|were|was|is|are|am) (#PastTense|#Participle)",tag:"Passive",reason:"got-walked"},{match:"(was|were|is|are|am) being (#PastTense|#Participle)",tag:"Passive",reason:"was-being"},{match:"(had|have|has) been (#PastTense|#Participle)",tag:"Passive",reason:"had-been"},{match:"will be being? (#PastTense|#Participle)",tag:"Passive",reason:"will-be-cleaned"},{match:"#Noun [(#PastTense|#Participle)] by (the|a) #Noun",group:0,tag:"Passive",reason:"suffered-by"}];let matches$1=[{match:"u r",tag:"#Pronoun #Copula",reason:"u r"},{match:"#Noun [(who|whom)]",group:0,tag:"Determiner",reason:"captain-who"},{match:"[had] #Noun+ #PastTense",group:0,tag:"Condition",reason:"had-he"},{match:"[were] #Noun+ to #Infinitive",group:0,tag:"Condition",reason:"were-he"},{match:"some sort of",tag:"Adjective Noun Conjunction",reason:"some-sort-of"},{match:"of some sort",tag:"Conjunction Adjective Noun",reason:"of-some-sort"},{match:"[such] (a|an|is)? #Noun",group:0,tag:"Determiner",reason:"such-skill"},{match:"[right] (before|after|in|into|to|toward)",group:0,tag:"#Adverb",reason:"right-into"},{match:"#Preposition [about]",group:0,tag:"Adjective",reason:"at-about"},{match:"(are|#Modal|see|do|for) [ya]",group:0,tag:"Pronoun",reason:"are-ya"},{match:"[long live] .",group:0,tag:"#Adjective #Infinitive",reason:"long-live"},{match:"[plenty] of",group:0,tag:"#Uncountable",reason:"plenty-of"},{match:"(always|nearly|barely|practically) [there]",group:0,tag:"Adjective",reason:"always-there"},{match:"[there] (#Adverb|#Pronoun)? #Copula",group:0,tag:"There",reason:"there-is"},{match:"#Copula [there] .",group:0,tag:"There",reason:"is-there"},{match:"#Modal #Adverb? [there]",group:0,tag:"There",reason:"should-there"},{match:"^[do] (you|we|they)",group:0,tag:"QuestionWord",reason:"do-you"},{match:"^[does] (he|she|it|#ProperNoun)",group:0,tag:"QuestionWord",reason:"does-he"},{match:"#Determiner #Noun+ [who] #Verb",group:0,tag:"Preposition",reason:"the-x-who"},{match:"#Determiner #Noun+ [which] #Verb",group:0,tag:"Preposition",reason:"the-x-which"},{match:"a [while]",group:0,tag:"Noun",reason:"a-while"},{match:"guess who",tag:"#Infinitive #QuestionWord",reason:"guess-who"},{match:"[fucking] !#Verb",group:0,tag:"#Gerund",reason:"f-as-gerund"}];const orgs=[{match:"university of #Place",tag:"Organization",reason:"university-of-Foo"},{match:"#Noun (&|n) #Noun",tag:"Organization",reason:"Noun-&-Noun"},{match:"#Organization of the? #ProperNoun",tag:"Organization",reason:"org-of-place",safe:!0},{match:"#Organization #Country",tag:"Organization",reason:"org-country"},{match:"#ProperNoun #Organization",tag:"Organization",notIf:"#FirstName",reason:"titlecase-org"},{match:"#ProperNoun (ltd|co|inc|dept|assn|bros)",tag:"Organization",reason:"org-abbrv"},{match:"the [#Acronym]",group:0,tag:"Organization",reason:"the-acronym",safe:!0},{match:"government of the? [#Place+]",tag:"Organization",reason:"government-of-x"},{match:"(health|school|commerce) board",tag:"Organization",reason:"school-board"},{match:"(nominating|special|conference|executive|steering|central|congressional) committee",tag:"Organization",reason:"special-comittee"},{match:"(world|global|international|national|#Demonym) #Organization",tag:"Organization",reason:"global-org"},{match:"#Noun+ (public|private) school",tag:"School",reason:"noun-public-school"},{match:"#Place+ #SportsTeam",tag:"SportsTeam",reason:"place-sportsteam"},{match:"(dc|atlanta|minnesota|manchester|newcastle|sheffield) united",tag:"SportsTeam",reason:"united-sportsteam"},{match:"#Place+ fc",tag:"SportsTeam",reason:"fc-sportsteam"}],places=[{match:"(west|north|south|east|western|northern|southern|eastern)+ #Place",tag:"Region",reason:"west-norfolk"},{match:"#City [(al|ak|az|ar|ca|ct|dc|fl|ga|id|il|nv|nh|nj|ny|oh|pa|sc|tn|tx|ut|vt|pr)]",group:0,tag:"Region",reason:"us-state"},{match:"portland [or]",group:0,tag:"Region",reason:"portland-or"},{match:"#ProperNoun+ (cliff|place|range|pit|place|point|room|grounds|ruins)",tag:"Place",reason:"foo-point"},{match:"in [#ProperNoun] #Place",group:0,tag:"Place",reason:"propernoun-place"},{match:"#Value #Noun (st|street|rd|road|crescent|cr|way|tr|terrace|avenue|ave)",tag:"Address",reason:"address-st"}],conjunctions=[{match:"[so] #Noun",group:0,tag:"Conjunction",reason:"so-conj"},{match:"[(who|what|where|why|how|when)] #Noun #Copula #Adverb? (#Verb|#Adjective)",group:0,tag:"Conjunction",reason:"how-he-is-x"},{match:"#Copula [(who|what|where|why|how|when)] #Noun",group:0,tag:"Conjunction",reason:"when-he"},{match:"#Verb [that] #Pronoun",group:0,tag:"Conjunction",reason:"said-that-he"},{match:"#Noun [that] #Copula",group:0,tag:"Conjunction",reason:"that-are"},{match:"#Noun [that] #Verb #Adjective",group:0,tag:"Conjunction",reason:"that-seem"},{match:"#Noun #Copula not? [that] #Adjective",group:0,tag:"Adverb",reason:"that-adj"},{match:"#Verb #Adverb? #Noun [(that|which)]",group:0,tag:"Preposition",reason:"that-prep"},{match:"@hasComma [which] (#Pronoun|#Verb)",group:0,tag:"Preposition",reason:"which-copula"},{match:"#Noun [like] #Noun",group:0,tag:"Preposition",reason:"noun-like"},{match:"^[like] #Determiner",group:0,tag:"Preposition",reason:"like-the"},{match:"a #Noun [like] (#Noun|#Determiner)",group:0,tag:"Preposition",reason:"a-noun-like"},{match:"#Adverb [like]",group:0,tag:"Verb",reason:"really-like"},{match:"(not|nothing|never) [like]",group:0,tag:"Preposition",reason:"nothing-like"},{match:"#Infinitive #Pronoun [like]",group:0,tag:"Preposition",reason:"treat-them-like"},{match:"[#QuestionWord] (#Pronoun|#Determiner)",group:0,tag:"Preposition",reason:"how-he"},{match:"[#QuestionWord] #Participle",group:0,tag:"Preposition",reason:"when-stolen"},{match:"[how] (#Determiner|#Copula|#Modal|#PastTense)",group:0,tag:"QuestionWord",reason:"how-is"},{match:"#Plural [(who|which|when)] .",group:0,tag:"Preposition",reason:"people-who"}],expressions=[{match:"holy (shit|fuck|hell)",tag:"Expression",reason:"swears-expression"},{match:"^[(well|so|okay|now)] !#Adjective?",group:0,tag:"Expression",reason:"well-"},{match:"^come on",tag:"Expression",reason:"come-on"},{match:"(say|says|said) [sorry]",group:0,tag:"Expression",reason:"say-sorry"},{match:"^(ok|alright|shoot|hell|anyways)",tag:"Expression",reason:"ok-"},{match:"^(say && @hasComma)",tag:"Expression",reason:"say-"},{match:"^(like && @hasComma)",tag:"Expression",reason:"like-"},{match:"^[(dude|man|girl)] #Pronoun",group:0,tag:"Expression",reason:"dude-i"}];let matches=[].concat(passive$1,adj,advAdj,gerundAdj,nounAdj,adv,ambigDates,dates,noun,gerundNouns,presNouns,money,fractions,numbers$1,person,personName,verbs$1,adjVerb,auxiliary,phrasal,imperative,adjGerund,matches$1,orgs,places,conjunctions,expressions);const model={two:{matches}};let net$1=null;const postTagger=function(b){const{world:$}=b,{model:_e,methods:et}=$;net$1=net$1||et.one.buildNet(_e.two.matches,$);let nt=et.two.quickSplit(b.document).map(ot=>{let st=ot[0];return[st.index[0],st.index[1],st.index[1]+ot.length]}),rt=b.update(nt);return rt.cache(),rt.sweep(net$1),b.uncache(),b.unfreeze(),b},tagger=b=>b.compute(["freeze","lexicon","preTagger","postTagger","unfreeze"]),compute$1={postTagger,tagger},round$2=b=>Math.round(b*100)/100;function api$h(b){b.prototype.confidence=function(){let $=0,_e=0;return this.docs.forEach(et=>{et.forEach(tt=>{_e+=1,$+=tt.confidence||1})}),_e===0?1:round$2($/_e)},b.prototype.tagger=function(){return this.compute(["tagger"])}}const plugin$m={api:api$h,compute:compute$1,model,hooks:["postTagger"]},getWords=function(b){return Object.keys(b.hooks).filter($=>!$.startsWith("#")&&!$.startsWith("%"))},maybeMatch=function(b,$){let _e=getWords($);if(_e.length===0)return b;b._cache||b.cache();let et=b._cache;return b.filter((tt,nt)=>_e.some(rt=>et[nt].has(rt)))},lazyParse=function(b,$){let _e=$;typeof $=="string"&&(_e=this.buildNet([{match:$}]));let et=this.tokenize(b),tt=maybeMatch(et,_e);return tt.found?(tt.compute(["index","tagger"]),tt.match($)):et.none()},lazy={lib:{lazy:lazyParse}},matchVerb=function(b,$){const _e=b.methods.two.transform.verb.conjugate;let et=_e($,b.model);return b.has("#Gerund")?et.Gerund:b.has("#PastTense")?et.PastTense:b.has("#PresentTense")?et.PresentTense:b.has("#Gerund")?et.Gerund:$},swapVerb=function(b,$){let _e=$;return b.forEach(et=>{et.has("#Infinitive")||(_e=matchVerb(et,$)),et.replaceWith(_e)}),b},swapNoun=function(b,$){let _e=$;if(b.has("#Plural")){const et=b.methods.two.transform.noun.toPlural;_e=et($,b.model)}b.replaceWith(_e,{possessives:!0})},swapAdverb=function(b,$){const{toAdverb:_e}=b.methods.two.transform.adjective;let tt=_e($);tt&&b.replaceWith(tt)},swapAdjective=function(b,$){const{toComparative:_e,toSuperlative:et}=b.methods.two.transform.adjective;let tt=$;b.has("#Comparative")?tt=_e(tt,b.model):b.has("#Superlative")&&(tt=et(tt,b.model)),tt&&b.replaceWith(tt)},swap$1=function(b,$,_e){let et=b.split(/ /g).map(nt=>nt.toLowerCase().trim());et=et.filter(nt=>nt),et=et.map(nt=>`{${nt}}`).join(" ");let tt=this.match(et);return _e&&(tt=tt.if(_e)),tt.has("#Verb")?swapVerb(tt,$):tt.has("#Noun")?swapNoun(tt,$):tt.has("#Adverb")?swapAdverb(tt,$):tt.has("#Adjective")?swapAdjective(tt,$):this},api$g=function(b){b.prototype.swap=swap$1},swap={api:api$g};nlp.plugin(preTag);nlp.plugin(contractionTwo);nlp.plugin(plugin$m);nlp.plugin(lazy);nlp.plugin(swap);const toRoot$1=function(b){const{fromComparative:$,fromSuperlative:_e}=b.methods.two.transform.adjective;let et=b.text("normal");return b.has("#Comparative")?$(et,b.model):b.has("#Superlative")?_e(et,b.model):et},api$f=function(b){class $ extends b{constructor(et,tt,nt){super(et,tt,nt),this.viewType="Adjectives"}json(et={}){const{toAdverb:tt,toNoun:nt,toSuperlative:rt,toComparative:ot}=this.methods.two.transform.adjective;return et.normal=!0,this.map(st=>{let ct=st.toView().json(et)[0]||{},lt=toRoot$1(st);return ct.adjective={adverb:tt(lt,this.model),noun:nt(lt,this.model),superlative:rt(lt,this.model),comparative:ot(lt,this.model)},ct},[])}adverbs(){return this.before("#Adverb+$").concat(this.after("^#Adverb+"))}conjugate(et){const{toComparative:tt,toSuperlative:nt,toNoun:rt,toAdverb:ot}=this.methods.two.transform.adjective;return this.getNth(et).map(st=>{let ct=toRoot$1(st);return{Adjective:ct,Comparative:tt(ct,this.model),Superlative:nt(ct,this.model),Noun:rt(ct,this.model),Adverb:ot(ct,this.model)}},[])}toComparative(et){const{toComparative:tt}=this.methods.two.transform.adjective;return this.getNth(et).map(nt=>{let rt=toRoot$1(nt),ot=tt(rt,this.model);return nt.replaceWith(ot)})}toSuperlative(et){const{toSuperlative:tt}=this.methods.two.transform.adjective;return this.getNth(et).map(nt=>{let rt=toRoot$1(nt),ot=tt(rt,this.model);return nt.replaceWith(ot)})}toAdverb(et){const{toAdverb:tt}=this.methods.two.transform.adjective;return this.getNth(et).map(nt=>{let rt=toRoot$1(nt),ot=tt(rt,this.model);return nt.replaceWith(ot)})}toNoun(et){const{toNoun:tt}=this.methods.two.transform.adjective;return this.getNth(et).map(nt=>{let rt=toRoot$1(nt),ot=tt(rt,this.model);return nt.replaceWith(ot)})}}b.prototype.adjectives=function(_e){let et=this.match("#Adjective");return et=et.getNth(_e),new $(et.document,et.pointer)},b.prototype.superlatives=function(_e){let et=this.match("#Superlative");return et=et.getNth(_e),new $(et.document,et.pointer)},b.prototype.comparatives=function(_e){let et=this.match("#Comparative");return et=et.getNth(_e),new $(et.document,et.pointer)}},adjectives={api:api$f},toRoot=function(b){return b.compute("root").text("root")},api$e=function(b){class $ extends b{constructor(et,tt,nt){super(et,tt,nt),this.viewType="Adverbs"}conjugate(et){return this.getNth(et).map(tt=>{let nt=toRoot(tt);return{Adverb:tt.text("normal"),Adjective:nt}},[])}json(et={}){const tt=this.methods.two.transform.adjective.fromAdverb;return et.normal=!0,this.map(nt=>{let rt=nt.toView().json(et)[0]||{};return rt.adverb={adjective:tt(rt.normal)},rt},[])}}b.prototype.adverbs=function(_e){let et=this.match("#Adverb");return et=et.getNth(_e),new $(et.document,et.pointer)}},adverbs={api:api$e},byComma=function(b){let $=b.match("@hasComma");return $=$.filter(_e=>{if(_e.growLeft(".").wordCount()===1||_e.growRight(". .").wordCount()===1)return!1;let et=_e.grow(".");return et=et.ifNo("@hasComma @hasComma"),et=et.ifNo("@hasComma (and|or) ."),et=et.ifNo("(#City && @hasComma) #Country"),et=et.ifNo("(#WeekDay && @hasComma) #Date"),et=et.ifNo("(#Date+ && @hasComma) #Value"),et=et.ifNo("(#Adjective && @hasComma) #Adjective"),et.found}),b.splitAfter($)},splitParentheses=function(b){let $=b.parentheses();return $=$.filter(_e=>_e.wordCount()>=3&&_e.has("#Verb")&&_e.has("#Noun")),b.splitOn($)},splitQuotes=function(b){let $=b.quotations();return $=$.filter(_e=>_e.wordCount()>=3&&_e.has("#Verb")&&_e.has("#Noun")),b.splitOn($)},clauses=function(b){let $=this;$=splitParentheses($),$=splitQuotes($),$=byComma($),$=$.splitAfter("(@hasEllipses|@hasSemicolon|@hasDash|@hasColon)"),$=$.splitAfter("^#Pronoun (said|says)"),$=$.splitBefore("(said|says) #ProperNoun$"),$=$.splitBefore(". . if .{4}"),$=$.splitBefore("and while"),$=$.splitBefore("now that"),$=$.splitBefore("ever since"),$=$.splitBefore("(supposing|although)"),$=$.splitBefore("even (while|if|though)"),$=$.splitBefore("(whereas|whose)"),$=$.splitBefore("as (though|if)"),$=$.splitBefore("(til|until)");let _e=$.match("#Verb .* [but] .* #Verb",0);_e.found&&($=$.splitBefore(_e));let et=$.if("if .{2,9} then .").match("then");return $=$.splitBefore(et),typeof b=="number"&&($=$.get(b)),$},chunks=function(b){let $=[],_e=null;return b.clauses().docs.forEach(nt=>{nt.forEach(rt=>{!rt.chunk||rt.chunk!==_e?(_e=rt.chunk,$.push([rt.index[0],rt.index[1],rt.index[1]+1])):$[$.length-1][2]=rt.index[1]+1}),_e=null}),b.update($)},api$d=function(b){class $ extends b{constructor(et,tt,nt){super(et,tt,nt),this.viewType="Chunks"}isVerb(){return this.filter(et=>et.has("<Verb>"))}isNoun(){return this.filter(et=>et.has("<Noun>"))}isAdjective(){return this.filter(et=>et.has("<Adjective>"))}isPivot(){return this.filter(et=>et.has("<Pivot>"))}debug(){return this.toView().debug("chunks"),this}update(et){let tt=new $(this.document,et);return tt._cache=this._cache,tt}}b.prototype.chunks=function(_e){let et=chunks(this);return et=et.getNth(_e),new $(this.document,et.pointer)},b.prototype.clauses=clauses},byWord={this:"Noun",then:"Pivot"},easyMode=function(b){for(let $=0;$<b.length;$+=1)for(let _e=0;_e<b[$].length;_e+=1){let et=b[$][_e];if(byWord.hasOwnProperty(et.normal)===!0){et.chunk=byWord[et.normal];continue}if(et.tags.has("Verb")){et.chunk="Verb";continue}if(et.tags.has("Noun")||et.tags.has("Determiner")){et.chunk="Noun";continue}if(et.tags.has("Value")){et.chunk="Noun";continue}if(et.tags.has("QuestionWord")){et.chunk="Pivot";continue}}},byNeighbour=function(b){for(let $=0;$<b.length;$+=1)for(let _e=0;_e<b[$].length;_e+=1){let et=b[$][_e];if(et.chunk)continue;let tt=b[$][_e+1],nt=b[$][_e-1];if(et.tags.has("Adjective")){if(nt&&nt.tags.has("Copula")){et.chunk="Adjective";continue}if(nt&&nt.tags.has("Determiner")){et.chunk="Noun";continue}if(tt&&tt.tags.has("Noun")){et.chunk="Noun";continue}continue}if(et.tags.has("Adverb")||et.tags.has("Negative")){if(nt&&nt.tags.has("Adjective")){et.chunk="Adjective";continue}if(nt&&nt.tags.has("Verb")){et.chunk="Verb";continue}if(tt&&tt.tags.has("Adjective")){et.chunk="Adjective";continue}if(tt&&tt.tags.has("Verb")){et.chunk="Verb";continue}}}},rules=[{match:"[that] #Determiner #Noun",group:0,chunk:"Pivot"},{match:"#PastTense [that]",group:0,chunk:"Pivot"},{match:"[so] #Determiner",group:0,chunk:"Pivot"},{match:"#Copula #Adverb+? [#Adjective]",group:0,chunk:"Adjective"},{match:"#Adjective and #Adjective",chunk:"Adjective"},{match:"#Adverb+ and #Adverb #Verb",chunk:"Verb"},{match:"#Gerund #Adjective$",chunk:"Verb"},{match:"#Gerund to #Verb",chunk:"Verb"},{match:"#PresentTense and #PresentTense",chunk:"Verb"},{match:"#Adverb #Negative",chunk:"Verb"},{match:"(want|wants|wanted) to #Infinitive",chunk:"Verb"},{match:"#Verb #Reflexive",chunk:"Verb"},{match:"#Verb [to] #Adverb? #Infinitive",group:0,chunk:"Verb"},{match:"[#Preposition] #Gerund",group:0,chunk:"Verb"},{match:"#Infinitive [that] <Noun>",group:0,chunk:"Verb"},{match:"#Noun of #Determiner? #Noun",chunk:"Noun"},{match:"#Value+ #Adverb? #Adjective",chunk:"Noun"},{match:"the [#Adjective] #Noun",chunk:"Noun"},{match:"#Singular in #Determiner? #Singular",chunk:"Noun"},{match:"#Plural [in] #Determiner? #Noun",group:0,chunk:"Pivot"},{match:"#Noun and #Determiner? #Noun",notIf:"(#Possessive|#Pronoun)",chunk:"Noun"}];let net=null;const matcher$1=function(b,$,_e){const{methods:et}=_e;net=net||et.one.buildNet(rules,_e),b.sweep(net)};var define_process_env_default={};const setChunk=function(b,$){if((typeof process>"u"||!define_process_env_default?self.env||{}:define_process_env_default).DEBUG_CHUNKS){let et=(b.normal+"'").padEnd(8);console.log(`  | '${et}  →  \x1B[34m${$.padEnd(12)}\x1B[0m \x1B[2m -fallback- \x1B[0m`)}b.chunk=$},fallback=function(b){for(let $=0;$<b.length;$+=1)for(let _e=0;_e<b[$].length;_e+=1){let et=b[$][_e];et.chunk===void 0&&(et.tags.has("Conjunction")||et.tags.has("Preposition")?setChunk(et,"Pivot"):et.tags.has("Adverb")?setChunk(et,"Verb"):et.chunk="Noun")}},fixUp=function(b){let $=[],_e=null;b.forEach(et=>{for(let tt=0;tt<et.length;tt+=1){let nt=et[tt];_e&&nt.chunk===_e?$[$.length-1].terms.push(nt):($.push({chunk:nt.chunk,terms:[nt]}),_e=nt.chunk)}}),$.forEach(et=>{et.chunk==="Verb"&&(et.terms.find(nt=>nt.tags.has("Verb"))||et.terms.forEach(nt=>nt.chunk=null))})},findChunks=function(b){const{document:$,world:_e}=b;easyMode($),byNeighbour($),matcher$1(b,$,_e),fallback($),fixUp($)},compute={chunks:findChunks},chunker={compute,api:api$d,hooks:["chunks"]},hasPeriod=/\./g,api$c=function(b){class $ extends b{constructor(et,tt,nt){super(et,tt,nt),this.viewType="Acronyms"}strip(){return this.docs.forEach(et=>{et.forEach(tt=>{tt.text=tt.text.replace(hasPeriod,""),tt.normal=tt.normal.replace(hasPeriod,"")})}),this}addPeriods(){return this.docs.forEach(et=>{et.forEach(tt=>{tt.text=tt.text.replace(hasPeriod,""),tt.normal=tt.normal.replace(hasPeriod,""),tt.text=tt.text.split("").join(".")+".",tt.normal=tt.normal.split("").join(".")+"."})}),this}}b.prototype.acronyms=function(_e){let et=this.match("#Acronym");return et=et.getNth(_e),new $(et.document,et.pointer)}},hasOpen$1=/\(/,hasClosed$1=/\)/,findEnd$1=function(b,$){for(;$<b.length;$+=1)if(b[$].post&&hasClosed$1.test(b[$].post)){let[,_e]=b[$].index;return _e=_e||0,_e}return null},find$6=function(b){let $=[];return b.docs.forEach(_e=>{for(let et=0;et<_e.length;et+=1){let tt=_e[et];if(tt.pre&&hasOpen$1.test(tt.pre)){let nt=findEnd$1(_e,et);if(nt!==null){let[rt,ot]=_e[et].index;$.push([rt,ot,nt+1,_e[et].id]),et=nt}}}}),b.update($)},strip$1=function(b){return b.docs.forEach($=>{$[0].pre=$[0].pre.replace(hasOpen$1,"");let _e=$[$.length-1];_e.post=_e.post.replace(hasClosed$1,"")}),b},api$b=function(b){class $ extends b{constructor(et,tt,nt){super(et,tt,nt),this.viewType="Possessives"}strip(){return strip$1(this)}}b.prototype.parentheses=function(_e){let et=find$6(this);return et=et.getNth(_e),new $(et.document,et.pointer)}},apostropheS=/'s$/,find$5=function(b){let $=b.match("#Possessive+");return $.has("#Person")&&($=$.growLeft("#Person+")),$.has("#Place")&&($=$.growLeft("#Place+")),$.has("#Organization")&&($=$.growLeft("#Organization+")),$},api$a=function(b){class $ extends b{constructor(et,tt,nt){super(et,tt,nt),this.viewType="Possessives"}strip(){return this.docs.forEach(et=>{et.forEach(tt=>{tt.text=tt.text.replace(apostropheS,""),tt.normal=tt.normal.replace(apostropheS,"")})}),this}}b.prototype.possessives=function(_e){let et=find$5(this);return et=et.getNth(_e),new $(et.document,et.pointer)}},pairs$1={'"':'"',"＂":"＂","'":"'","“":"”","‘":"’","‟":"”","‛":"’","„":"”","⹂":"”","‚":"’","«":"»","‹":"›","‵":"′","‶":"″","‷":"‴","〝":"〞","`":"´","〟":"〞"},hasOpen=RegExp("["+Object.keys(pairs$1).join("")+"]"),hasClosed=RegExp("["+Object.values(pairs$1).join("")+"]"),findEnd=function(b,$){const _e=b[$].pre.match(hasOpen)[0]||"";if(!_e||!pairs$1[_e])return null;const et=pairs$1[_e];for(;$<b.length;$+=1)if(b[$].post&&b[$].post.match(et))return $;return null},find$4=function(b){let $=[];return b.docs.forEach(_e=>{for(let et=0;et<_e.length;et+=1){let tt=_e[et];if(tt.pre&&hasOpen.test(tt.pre)){let nt=findEnd(_e,et);if(nt!==null){let[rt,ot]=_e[et].index;$.push([rt,ot,nt+1,_e[et].id]),et=nt}}}}),b.update($)},strip=function(b){b.docs.forEach($=>{$[0].pre=$[0].pre.replace(hasOpen,"");let _e=$[$.length-1];_e.post=_e.post.replace(hasClosed,"")})},api$9=function(b){class $ extends b{constructor(et,tt,nt){super(et,tt,nt),this.viewType="Possessives"}strip(){return strip(this)}}b.prototype.quotations=function(_e){let et=find$4(this);return et=et.getNth(_e),new $(et.document,et.pointer)}},phoneNumbers=function(b){let $=this.splitAfter("@hasComma");return $=$.match("#PhoneNumber+"),$=$.getNth(b),$},selections=[["hyphenated","@hasHyphen ."],["hashTags","#HashTag"],["emails","#Email"],["emoji","#Emoji"],["emoticons","#Emoticon"],["atMentions","#AtMention"],["urls","#Url"],["conjunctions","#Conjunction"],["prepositions","#Preposition"],["abbreviations","#Abbreviation"],["honorifics","#Honorific"]];let aliases=[["emojis","emoji"],["atmentions","atMentions"]];const addMethods=function(b){selections.forEach($=>{b.prototype[$[0]]=function(_e){let et=this.match($[1]);return typeof _e=="number"?et.get(_e):et}}),b.prototype.phoneNumbers=phoneNumbers,aliases.forEach($=>{b.prototype[$[0]]=b.prototype[$[1]]})},misc={api:function(b){api$c(b),api$b(b),api$a(b),api$9(b),addMethods(b)}},termLoop=function(b,$){b.docs.forEach(_e=>{_e.forEach($)})},methods={case:b=>{termLoop(b,$=>{$.text=$.text.toLowerCase()})},unicode:b=>{const $=b.world,_e=$.methods.one.killUnicode;termLoop(b,et=>et.text=_e(et.text,$))},whitespace:b=>{termLoop(b,$=>{$.post=$.post.replace(/\s+/g," "),$.post=$.post.replace(/\s([.,?!:;])/g,"$1"),$.pre=$.pre.replace(/\s+/g,"")})},punctuation:b=>{termLoop(b,et=>{et.post=et.post.replace(/[–—-]/g," "),et.post=et.post.replace(/[,:;]/g,""),et.post=et.post.replace(/\.{2,}/g,""),et.post=et.post.replace(/\?{2,}/g,"?"),et.post=et.post.replace(/!{2,}/g,"!"),et.post=et.post.replace(/\?!+/g,"?")});let $=b.docs,_e=$[$.length-1];if(_e&&_e.length>0){let et=_e[_e.length-1];et.post=et.post.replace(/ /g,"")}},contractions:b=>{b.contractions().expand()},acronyms:b=>{b.acronyms().strip()},parentheses:b=>{b.parentheses().strip()},possessives:b=>{b.possessives().strip()},quotations:b=>{b.quotations().strip()},emoji:b=>{b.emojis().remove()},honorifics:b=>{b.match("#Honorific+ #Person").honorifics().remove()},adverbs:b=>{b.adverbs().remove()},nouns:b=>{b.nouns().toSingular()},verbs:b=>{b.verbs().toInfinitive()},numbers:b=>{b.numbers().toNumber()},debullet:b=>{const $=/^\s*([-–—*•])\s*$/;return b.docs.forEach(_e=>{$.test(_e[0].pre)&&(_e[0].pre=_e[0].pre.replace($,""))}),b}},split=b=>b.split("|").reduce(($,_e)=>($[_e]=!0,$),{}),light="unicode|punctuation|whitespace|acronyms",medium="|case|contractions|parentheses|quotations|emoji|honorifics|debullet",heavy="|possessives|adverbs|nouns|verbs",presets={light:split(light),medium:split(light+medium),heavy:split(light+medium+heavy)};function api$8(b){b.prototype.normalize=function($="light"){return typeof $=="string"&&($=presets[$]),Object.keys($).forEach(_e=>{methods.hasOwnProperty(_e)&&methods[_e](this,$[_e])}),this}}const normalize={api:api$8},findNouns=function(b){let $=b.clauses().match("<Noun>"),_e=$.match("@hasComma");return _e=_e.not("#Place"),_e.found&&($=$.splitAfter(_e)),$=$.splitOn("#Expression"),$=$.splitOn("(he|she|we|you|they|i)"),$=$.splitOn("(#Noun|#Adjective) [(he|him|she|it)]",0),$=$.splitOn("[(he|him|she|it)] (#Determiner|#Value)",0),$=$.splitBefore("#Noun [(the|a|an)] #Adjective? #Noun",0),$=$.splitOn("[(here|there)] #Noun",0),$=$.splitOn("[#Noun] (here|there)",0),$=$.splitBefore("(our|my|their|your)"),$=$.splitOn("#Noun [#Determiner]",0),$=$.if("#Noun"),$},list$2=["after","although","as if","as long as","as","because","before","even if","even though","ever since","if","in order that","provided that","since","so that","than","that","though","unless","until","what","whatever","when","whenever","where","whereas","wherever","whether","which","whichever","who","whoever","whom","whomever","whose"],isSubordinate=function(b){if(b.before("#Preposition$").found)return!0;if(!b.before().found)return!1;for(let _e=0;_e<list$2.length;_e+=1)if(b.has(list$2[_e]))return!0;return!1},notPlural="(#Pronoun|#Place|#Value|#Person|#Uncountable|#Month|#WeekDay|#Holiday|#Possessive)",isPlural$2=function(b,$){if(b.has("#Plural")||b.has("#Noun and #Noun")||b.has("(we|they)"))return!0;if($.has(notPlural)===!0||b.has("#Singular"))return!1;let _e=$.text("normal");return _e.length>3&&_e.endsWith("s")&&!_e.endsWith("ss")},getRoot=function(b){let $=b.clone();return $=$.match("#Noun+"),$=$.remove("(#Adjective|#Preposition|#Determiner|#Value)"),$=$.not("#Possessive"),$=$.first(),$.found?$:b},parseNoun=function(b){let $=getRoot(b);return{determiner:b.match("#Determiner").eq(0),adjectives:b.match("#Adjective"),number:b.values(),isPlural:isPlural$2(b,$),isSubordinate:isSubordinate(b),root:$}},toText$2=b=>b.text(),toArray$3=b=>b.json({terms:!1,normal:!0}).map($=>$.normal),getNum=function(b){let $=null;if(!b.found)return $;let _e=b.values(0);return _e.found?(_e.parse()[0]||{}).num:$},toJSON$1=function(b){let $=parseNoun(b);return{root:toText$2($.root),number:getNum($.number),determiner:toText$2($.determiner),adjectives:toArray$3($.adjectives),isPlural:$.isPlural,isSubordinate:$.isSubordinate}},hasPlural=function(b){return!b.has("^(#Uncountable|#ProperNoun|#Place|#Pronoun|#Acronym)+$")},keep$7={tags:!0},nounToPlural=function(b,$){if($.isPlural===!0||($.root.has("#Possessive")&&($.root=$.root.possessives().strip()),!hasPlural($.root)))return b;const{methods:_e,model:et}=b.world,{toPlural:tt}=_e.two.transform.noun;let nt=$.root.text({keepPunct:!1}),rt=tt(nt,et);b.match($.root).replaceWith(rt,keep$7).tag("Plural","toPlural"),$.determiner.has("(a|an)")&&b.remove($.determiner);let ot=$.root.after("not? #Adverb+? [#Copula]",0);return ot.found&&(ot.has("is")?b.replace(ot,"are"):ot.has("was")&&b.replace(ot,"were")),b},keep$6={tags:!0},nounToSingular=function(b,$){if($.isPlural===!1)return b;const{methods:_e,model:et}=b.world,{toSingular:tt}=_e.two.transform.noun;let nt=$.root.text("normal"),rt=tt(nt,et);return b.replace($.root,rt,keep$6).tag("Singular","toPlural"),b},api$7=function(b){class $ extends b{constructor(et,tt,nt){super(et,tt,nt),this.viewType="Nouns"}parse(et){return this.getNth(et).map(parseNoun)}json(et){let tt=typeof et=="object"?et:{};return this.getNth(et).map(nt=>{let rt=nt.toView().json(tt)[0]||{};return tt&&tt.noun!==!1&&(rt.noun=toJSON$1(nt)),rt},[])}conjugate(et){const tt=this.world.methods.two.transform.noun;return this.getNth(et).map(nt=>{let rt=parseNoun(nt),ot=rt.root.compute("root").text("root"),st={Singular:ot};return hasPlural(rt.root)&&(st.Plural=tt.toPlural(ot,this.model)),st.Singular===st.Plural&&delete st.Plural,st},[])}isPlural(et){return this.filter(nt=>parseNoun(nt).isPlural).getNth(et)}isSingular(et){return this.filter(nt=>!parseNoun(nt).isPlural).getNth(et)}adjectives(et){let tt=this.update([]);return this.forEach(nt=>{let rt=parseNoun(nt).adjectives;rt.found&&(tt=tt.concat(rt))}),tt.getNth(et)}toPlural(et){return this.getNth(et).map(tt=>nounToPlural(tt,parseNoun(tt)))}toSingular(et){return this.getNth(et).map(tt=>{let nt=parseNoun(tt);return nounToSingular(tt,nt)})}update(et){let tt=new $(this.document,et);return tt._cache=this._cache,tt}}b.prototype.nouns=function(_e){let et=findNouns(this);return et=et.getNth(_e),new $(this.document,et.pointer)}},nouns={api:api$7},findFractions=function(b,$){let _e=b.match("#Fraction+");return _e=_e.filter(et=>!et.lookBehind("#Value and$").found),_e=_e.notIf("#Value seconds"),_e},findModifiers=b=>{const $=[{reg:/^(minus|negative)[\s-]/i,mult:-1},{reg:/^(a\s)?half[\s-](of\s)?/i,mult:.5}];for(let _e=0;_e<$.length;_e++)if($[_e].reg.test(b)===!0)return{amount:$[_e].mult,str:b.replace($[_e].reg,"")};return{amount:1,str:b}},words={ones:{zeroth:0,first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,zero:0,one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9},teens:{tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,ten:10,eleven:11,twelve:12,thirteen:13,fourteen:14,fifteen:15,sixteen:16,seventeen:17,eighteen:18,nineteen:19},tens:{twentieth:20,thirtieth:30,fortieth:40,fourtieth:40,fiftieth:50,sixtieth:60,seventieth:70,eightieth:80,ninetieth:90,twenty:20,thirty:30,forty:40,fourty:40,fifty:50,sixty:60,seventy:70,eighty:80,ninety:90},multiples:{hundredth:100,thousandth:1e3,millionth:1e6,billionth:1e9,trillionth:1e12,quadrillionth:1e15,quintillionth:1e18,sextillionth:1e21,septillionth:1e24,hundred:100,thousand:1e3,million:1e6,billion:1e9,trillion:1e12,quadrillion:1e15,quintillion:1e18,sextillion:1e21,septillion:1e24,grand:1e3}},isValid$2=(b,$)=>{if(words.ones.hasOwnProperty(b)){if($.ones||$.teens)return!1}else if(words.teens.hasOwnProperty(b)){if($.ones||$.teens||$.tens)return!1}else if(words.tens.hasOwnProperty(b)&&($.ones||$.teens||$.tens))return!1;return!0},parseDecimals=function(b){let $="0.";for(let _e=0;_e<b.length;_e++){let et=b[_e];if(words.ones.hasOwnProperty(et)===!0)$+=words.ones[et];else if(words.teens.hasOwnProperty(et)===!0)$+=words.teens[et];else if(words.tens.hasOwnProperty(et)===!0)$+=words.tens[et];else if(/^[0-9]$/.test(et)===!0)$+=et;else return 0}return parseFloat($)},parseNumeric$1=b=>(b=b.replace(/1st$/,"1"),b=b.replace(/2nd$/,"2"),b=b.replace(/3rd$/,"3"),b=b.replace(/([4567890])r?th$/,"$1"),b=b.replace(/^[$€¥£¢]/,""),b=b.replace(/[%$€¥£¢]$/,""),b=b.replace(/,/g,""),b=b.replace(/([0-9])([a-z\u00C0-\u00FF]{1,2})$/,"$1"),b),improperFraction=/^([0-9,. ]+)\/([0-9,. ]+)$/,casualForms={"a few":3,"a couple":2,"a dozen":12,"two dozen":24,zero:0},section_sum=b=>Object.keys(b).reduce(($,_e)=>($+=b[_e],$),0),parse$6=function(b){if(casualForms.hasOwnProperty(b)===!0)return casualForms[b];if(b==="a"||b==="an")return 1;const $=findModifiers(b);b=$.str;let _e=null,et={},tt=0,nt=!1;const rt=b.split(/[ -]/);for(let ot=0;ot<rt.length;ot++){let st=rt[ot];if(st=parseNumeric$1(st),!st||st==="and")continue;if(st==="-"||st==="negative"){nt=!0;continue}if(st.charAt(0)==="-"&&(nt=!0,st=st.substring(1)),st==="point")return tt+=section_sum(et),tt+=parseDecimals(rt.slice(ot+1,rt.length)),tt*=$.amount,tt;const ct=st.match(improperFraction);if(ct){const lt=parseFloat(ct[1].replace(/[, ]/g,"")),at=parseFloat(ct[2].replace(/[, ]/g,""));at&&(tt+=lt/at||0);continue}if(words.tens.hasOwnProperty(st)&&et.ones&&Object.keys(et).length===1&&(tt=et.ones*100,et={}),isValid$2(st,et)===!1)return null;if(/^[0-9.]+$/.test(st))et.ones=parseFloat(st);else if(words.ones.hasOwnProperty(st)===!0)et.ones=words.ones[st];else if(words.teens.hasOwnProperty(st)===!0)et.teens=words.teens[st];else if(words.tens.hasOwnProperty(st)===!0)et.tens=words.tens[st];else if(words.multiples.hasOwnProperty(st)===!0){let lt=words.multiples[st];if(lt===_e)return null;if(lt===100&&rt[ot+1]!==void 0){const at=rt[ot+1];words.multiples[at]&&(lt*=words.multiples[at],ot+=1)}_e===null||lt<_e?(tt+=(section_sum(et)||1)*lt,_e=lt,et={}):(tt+=section_sum(et),_e=lt,tt=(tt||1)*lt,et={})}}return tt+=section_sum(et),tt*=$.amount,tt*=nt?-1:1,tt===0&&Object.keys(et).length===0?null:tt},endS=/s$/,parseNumber$1=function(b){let $=b.text("reduced");return parse$6($)};let mapping={half:2,halve:2,quarter:4};const slashForm=function(b){let _e=b.text("reduced").match(/^([-+]?[0-9]+)\/([-+]?[0-9]+)(st|nd|rd|th)?s?$/);return _e&&_e[1]&&_e[0]?{numerator:Number(_e[1]),denominator:Number(_e[2])}:null},nOutOfN=function(b){let $=b.match("[<num>#Value+] out of every? [<den>#Value+]");if($.found!==!0)return null;let{num:_e,den:et}=$.groups();return!_e||!et||(_e=parseNumber$1(_e),et=parseNumber$1(et),!_e||!et)?null:typeof _e=="number"&&typeof et=="number"?{numerator:_e,denominator:et}:null},nOrinalth=function(b){let $=b.match("[<num>(#Cardinal|a)+] [<den>#Fraction+]");if($.found!==!0)return null;let{num:_e,den:et}=$.groups();_e.has("a")?_e=1:_e=parseNumber$1(_e);let tt=et.text("reduced");return endS.test(tt)&&(tt=tt.replace(endS,""),et=et.replaceWith(tt)),mapping.hasOwnProperty(tt)?et=mapping[tt]:et=parseNumber$1(et),typeof _e=="number"&&typeof et=="number"?{numerator:_e,denominator:et}:null},oneNth=function(b){let $=b.match("^#Ordinal$");return $.found!==!0?null:b.lookAhead("^of .")?{numerator:1,denominator:parseNumber$1($)}:null},named$1=function(b){let $=b.text("reduced");return mapping.hasOwnProperty($)?{numerator:1,denominator:mapping[$]}:null},round$1=b=>{let $=Math.round(b*1e3)/1e3;return $===0&&b!==0?b:$},parseFraction=function(b){b=b.clone();let $=named$1(b)||slashForm(b)||nOutOfN(b)||nOrinalth(b)||oneNth(b)||null;return $!==null&&$.numerator&&$.denominator&&($.decimal=$.numerator/$.denominator,$.decimal=round$1($.decimal)),$},numToString=function(b){if(b<1e6)return String(b);let $;return typeof b=="number"?$=b.toFixed(0):$=b,$.indexOf("e+")===-1?$:$.replace(".","").split("e+").reduce(function(_e,et){return _e+Array(et-_e.length+2).join(0)})},tens_mapping=[["ninety",90],["eighty",80],["seventy",70],["sixty",60],["fifty",50],["forty",40],["thirty",30],["twenty",20]],ones_mapping=["","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],sequence$4=[[1e24,"septillion"],[1e20,"hundred sextillion"],[1e21,"sextillion"],[1e20,"hundred quintillion"],[1e18,"quintillion"],[1e17,"hundred quadrillion"],[1e15,"quadrillion"],[1e14,"hundred trillion"],[1e12,"trillion"],[1e11,"hundred billion"],[1e9,"billion"],[1e8,"hundred million"],[1e6,"million"],[1e5,"hundred thousand"],[1e3,"thousand"],[100,"hundred"],[1,"one"]],breakdown_magnitudes=function(b){let $=b,_e=[];return sequence$4.forEach(et=>{if(b>=et[0]){let tt=Math.floor($/et[0]);$-=tt*et[0],tt&&_e.push({unit:et[1],count:tt})}}),_e},breakdown_hundred=function(b){let $=[];if(b>100)return $;for(let _e=0;_e<tens_mapping.length;_e++)b>=tens_mapping[_e][1]&&(b-=tens_mapping[_e][1],$.push(tens_mapping[_e][0]));return ones_mapping[b]&&$.push(ones_mapping[b]),$},handle_decimal=b=>{const $=["zero","one","two","three","four","five","six","seven","eight","nine"];let _e=[],tt=numToString(b).match(/\.([0-9]+)/);if(!tt||!tt[0])return _e;_e.push("point");let nt=tt[0].split("");for(let rt=0;rt<nt.length;rt++)_e.push($[nt[rt]]);return _e},toText$1=function(b){let $=b.num;if($===0||$==="0")return"zero";$>1e21&&($=numToString($));let _e=[];$<0&&(_e.push("minus"),$=Math.abs($));let et=breakdown_magnitudes($);for(let tt=0;tt<et.length;tt++){let nt=et[tt].unit;nt==="one"&&(nt="",_e.length>1&&_e.push("and")),_e=_e.concat(breakdown_hundred(et[tt].count)),_e.push(nt)}return _e=_e.concat(handle_decimal($)),_e=_e.filter(tt=>tt),_e.length===0&&(_e[0]=""),_e.join(" ")},toCardinal=function(b){if(!b.numerator||!b.denominator)return"";let $=toText$1({num:b.numerator}),_e=toText$1({num:b.denominator});return`${$} out of ${_e}`},irregulars={one:"first",two:"second",three:"third",five:"fifth",eight:"eighth",nine:"ninth",twelve:"twelfth",twenty:"twentieth",thirty:"thirtieth",forty:"fortieth",fourty:"fourtieth",fifty:"fiftieth",sixty:"sixtieth",seventy:"seventieth",eighty:"eightieth",ninety:"ninetieth"},textOrdinal=b=>{let $=toText$1(b).split(" "),_e=$[$.length-1];return irregulars.hasOwnProperty(_e)?$[$.length-1]=irregulars[_e]:$[$.length-1]=_e.replace(/y$/,"i")+"th",$.join(" ")},toOrdinal=function(b){if(!b.numerator||!b.denominator)return"";let $=toText$1({num:b.numerator}),_e=textOrdinal({num:b.denominator});return b.denominator===2&&(_e="half"),$&&_e?(b.numerator!==1&&(_e+="s"),`${$} ${_e}`):""},plugin$l=function(b){class $ extends b{constructor(et,tt,nt){super(et,tt,nt),this.viewType="Fractions"}parse(et){return this.getNth(et).map(parseFraction)}get(et){return this.getNth(et).map(parseFraction)}json(et){return this.getNth(et).map(tt=>{let nt=tt.toView().json(et)[0],rt=parseFraction(tt);return nt.fraction=rt,nt},[])}toDecimal(et){return this.getNth(et).forEach(tt=>{let{decimal:nt}=parseFraction(tt);tt=tt.replaceWith(String(nt),!0),tt.tag("NumericValue"),tt.unTag("Fraction")}),this}toFraction(et){return this.getNth(et).forEach(tt=>{let nt=parseFraction(tt);if(nt&&typeof nt.numerator=="number"&&typeof nt.denominator=="number"){let rt=`${nt.numerator}/${nt.denominator}`;this.replace(tt,rt)}}),this}toOrdinal(et){return this.getNth(et).forEach(tt=>{let nt=parseFraction(tt),rt=toOrdinal(nt);tt.after("^#Noun").found&&(rt+=" of"),tt.replaceWith(rt)}),this}toCardinal(et){return this.getNth(et).forEach(tt=>{let nt=parseFraction(tt),rt=toCardinal(nt);tt.replaceWith(rt)}),this}toPercentage(et){return this.getNth(et).forEach(tt=>{let{decimal:nt}=parseFraction(tt),rt=nt*100;rt=Math.round(rt*100)/100,tt.replaceWith(`${rt}%`)}),this}}b.prototype.fractions=function(_e){let et=findFractions(this);return et=et.getNth(_e),new $(this.document,et.pointer)}},ones="one|two|three|four|five|six|seven|eight|nine",tens="twenty|thirty|forty|fifty|sixty|seventy|eighty|ninety|fourty",teens="eleven|twelve|thirteen|fourteen|fifteen|sixteen|seventeen|eighteen|nineteen",findNumbers=function(b){let $=b.match("#Value+");if($.has("#NumericValue #NumericValue")&&($.has("#Value @hasComma #Value")?$.splitAfter("@hasComma"):$.has("#NumericValue #Fraction")?$.splitAfter("#NumericValue #Fraction"):$=$.splitAfter("#NumericValue")),$.has("#Value #Value #Value")&&!$.has("#Multiple")&&$.has("("+tens+") #Cardinal #Cardinal")&&($=$.splitAfter("("+tens+") #Cardinal")),$.has("#Value #Value")){$.has("#NumericValue #NumericValue")&&($=$.splitOn("#Year")),$.has("("+tens+") ("+teens+")")&&($=$.splitAfter("("+tens+")"));let _e=$.match("#Cardinal #Cardinal");if(_e.found&&!$.has("(point|decimal|#Fraction)")&&!_e.has("#Cardinal (#Multiple|point|decimal)")){let et=$.has(`(${ones}) (${tens})`),tt=_e.has("("+tens+") #Cardinal"),nt=_e.has("#Multiple #Value");!et&&!tt&&!nt&&_e.terms().forEach(rt=>{$=$.splitOn(rt)})}$.match("#Ordinal #Ordinal").match("#TextValue").found&&!$.has("#Multiple")&&($.has("("+tens+") #Ordinal")||($=$.splitAfter("#Ordinal"))),$=$.splitBefore("#Ordinal [#Cardinal]",0),$.has("#TextValue #NumericValue")&&!$.has("("+tens+"|#Multiple)")&&($=$.splitBefore("#TextValue #NumericValue"))}return $=$.splitAfter("#NumberRange"),$=$.splitBefore("#Year"),$},parseNumeric=function(b,$){b=b.replace(/,/g,"");let _e=b.split(/([0-9.,]*)/),[et,tt]=_e,nt=_e.slice(2).join("");return tt!==""&&$.length<2?(tt=Number(tt||b),typeof tt!="number"&&(tt=null),nt=nt||"",(nt==="st"||nt==="nd"||nt==="rd"||nt==="th")&&(nt=""),{prefix:et||"",num:tt,suffix:nt}):null},parseNumber=function(b){if(typeof b=="string")return{num:parse$6(b)};let $=b.text("reduced"),_e=b.growRight("#Unit").match("#Unit$").text("machine"),et=/[0-9],[0-9]/.test(b.text("text"));if(b.terms().length===1&&!b.has("#Multiple")){let ot=parseNumeric($,b);if(ot!==null)return ot.hasComma=et,ot.unit=_e,ot}let tt=b.match("#Fraction{2,}$");tt=tt.found===!1?b.match("^#Fraction$"):tt;let nt=null;tt.found&&(tt.has("#Value and #Value #Fraction")&&(tt=tt.match("and #Value #Fraction")),nt=parseFraction(tt),b=b.not(tt),b=b.not("and$"),$=b.text("reduced"));let rt=0;return $&&(rt=parse$6($)||0),nt&&nt.decimal&&(rt+=nt.decimal),{hasComma:et,prefix:"",num:rt,suffix:"",isOrdinal:b.has("#Ordinal"),isText:b.has("#TextValue"),isFraction:b.has("#Fraction"),isMoney:b.has("#Money"),unit:_e}},numOrdinal=function(b){let $=b.num;if(!$&&$!==0)return null;let _e=$%100;if(_e>10&&_e<20)return String($)+"th";const et={0:"th",1:"st",2:"nd",3:"rd"};let tt=numToString($),nt=tt.slice(tt.length-1,tt.length);return et[nt]?tt+=et[nt]:tt+="th",tt},prefixes={"¢":"cents",$:"dollars","£":"pounds","¥":"yen","€":"euros","₡":"colón","฿":"baht","₭":"kip","₩":"won","₹":"rupees","₽":"ruble","₺":"liras"},suffixes={"%":"percent","°":"degrees"},addSuffix=function(b){let $={suffix:"",prefix:b.prefix};return prefixes.hasOwnProperty(b.prefix)&&($.suffix+=" "+prefixes[b.prefix],$.prefix=""),suffixes.hasOwnProperty(b.suffix)&&($.suffix+=" "+suffixes[b.suffix]),$.suffix&&b.num===1&&($.suffix=$.suffix.replace(/s$/,"")),!$.suffix&&b.suffix&&($.suffix+=" "+b.suffix),$},format$2=function(b,$){if($==="TextOrdinal"){let{prefix:et,suffix:tt}=addSuffix(b);return et+textOrdinal(b)+tt}if($==="Ordinal")return b.prefix+numOrdinal(b)+b.suffix;if($==="TextCardinal"){let{prefix:et,suffix:tt}=addSuffix(b);return et+toText$1(b)+tt}let _e=b.num;return b.hasComma&&(_e=_e.toLocaleString()),b.prefix+String(_e)+b.suffix},isArray$2=b=>Object.prototype.toString.call(b)==="[object Array]",coerceToObject=function(b){if(typeof b=="string"||typeof b=="number"){let $={};return $[b]=!0,$}return isArray$2(b)?b.reduce(($,_e)=>($[_e]=!0,$),{}):b||{}},isUnit=function(b,$={}){return $=coerceToObject($),b.filter(_e=>{let{unit:et}=parseNumber(_e);return!!(et&&$[et]===!0)})},addMethod$2=function(b){class $ extends b{constructor(et,tt,nt){super(et,tt,nt),this.viewType="Numbers"}parse(et){return this.getNth(et).map(parseNumber)}get(et){return this.getNth(et).map(parseNumber).map(tt=>tt.num)}json(et){let tt=typeof et=="object"?et:{};return this.getNth(et).map(nt=>{let rt=nt.toView().json(tt)[0],ot=parseNumber(nt);return rt.number={prefix:ot.prefix,num:ot.num,suffix:ot.suffix,hasComma:ot.hasComma,unit:ot.unit},rt},[])}units(){return this.growRight("#Unit").match("#Unit$")}isUnit(et){return isUnit(this,et)}isOrdinal(){return this.if("#Ordinal")}isCardinal(){return this.if("#Cardinal")}toNumber(){return this.if("#TextValue").forEach(tt=>{let nt=parseNumber(tt);if(nt.num===null)return;let rt=tt.has("#Ordinal")?"Ordinal":"Cardinal",ot=format$2(nt,rt);tt.replaceWith(ot,{tags:!0}),tt.tag("NumericValue")}),this}toLocaleString(){return this.forEach(tt=>{let nt=parseNumber(tt);if(nt.num===null)return;let rt=nt.num.toLocaleString();if(tt.has("#Ordinal")){let st=format$2(nt,"Ordinal").match(/[a-z]+$/);st&&(rt+=st[0]||"")}tt.replaceWith(rt,{tags:!0})}),this}toText(){let tt=this.map(nt=>{if(nt.has("#TextValue"))return nt;let rt=parseNumber(nt);if(rt.num===null)return nt;let ot=nt.has("#Ordinal")?"TextOrdinal":"TextCardinal",st=format$2(rt,ot);return nt.replaceWith(st,{tags:!0}),nt.tag("TextValue"),nt});return new $(tt.document,tt.pointer)}toCardinal(){let tt=this.map(nt=>{if(!nt.has("#Ordinal"))return nt;let rt=parseNumber(nt);if(rt.num===null)return nt;let ot=nt.has("#TextValue")?"TextCardinal":"Cardinal",st=format$2(rt,ot);return nt.replaceWith(st,{tags:!0}),nt.tag("Cardinal"),nt});return new $(tt.document,tt.pointer)}toOrdinal(){let tt=this.map(nt=>{if(nt.has("#Ordinal"))return nt;let rt=parseNumber(nt);if(rt.num===null)return nt;let ot=nt.has("#TextValue")?"TextOrdinal":"Ordinal",st=format$2(rt,ot);return nt.replaceWith(st,{tags:!0}),nt.tag("Ordinal"),nt});return new $(tt.document,tt.pointer)}isEqual(et){return this.filter(tt=>parseNumber(tt).num===et)}greaterThan(et){return this.filter(tt=>parseNumber(tt).num>et)}lessThan(et){return this.filter(tt=>parseNumber(tt).num<et)}between(et,tt){return this.filter(nt=>{let rt=parseNumber(nt).num;return rt>et&&rt<tt})}set(et){if(et===void 0)return this;typeof et=="string"&&(et=parseNumber(et).num);let nt=this.map(rt=>{let ot=parseNumber(rt);if(ot.num=et,ot.num===null)return rt;let st=rt.has("#Ordinal")?"Ordinal":"Cardinal";rt.has("#TextValue")&&(st=rt.has("#Ordinal")?"TextOrdinal":"TextCardinal");let ct=format$2(ot,st);return ot.hasComma&&st==="Cardinal"&&(ct=Number(ct).toLocaleString()),rt=rt.not("#Currency"),rt.replaceWith(ct,{tags:!0}),rt});return new $(nt.document,nt.pointer)}add(et){if(!et)return this;typeof et=="string"&&(et=parseNumber(et).num);let nt=this.map(rt=>{let ot=parseNumber(rt);if(ot.num===null)return rt;ot.num+=et;let st=rt.has("#Ordinal")?"Ordinal":"Cardinal";ot.isText&&(st=rt.has("#Ordinal")?"TextOrdinal":"TextCardinal");let ct=format$2(ot,st);return rt.replaceWith(ct,{tags:!0}),rt});return new $(nt.document,nt.pointer)}subtract(et,tt){return this.add(et*-1,tt)}increment(et){return this.add(1,et)}decrement(et){return this.add(-1,et)}update(et){let tt=new $(this.document,et);return tt._cache=this._cache,tt}}$.prototype.toNice=$.prototype.toLocaleString,$.prototype.isBetween=$.prototype.between,$.prototype.minus=$.prototype.subtract,$.prototype.plus=$.prototype.add,$.prototype.equals=$.prototype.isEqual,b.prototype.numbers=function(_e){let et=findNumbers(this);return et=et.getNth(_e),new $(this.document,et.pointer)},b.prototype.percentages=function(_e){let et=findNumbers(this);return et=et.filter(tt=>tt.has("#Percent")||tt.after("^percent")),et=et.getNth(_e),new $(this.document,et.pointer)},b.prototype.money=function(_e){let et=findNumbers(this);return et=et.filter(tt=>tt.has("#Money")||tt.after("^#Currency")),et=et.getNth(_e),new $(this.document,et.pointer)},b.prototype.values=b.prototype.numbers},api$6=function(b){plugin$l(b),addMethod$2(b)},numbers={api:api$6},defaults$2={people:!0,emails:!0,phoneNumbers:!0,places:!0},redact=function(b={}){return b=Object.assign({},defaults$2,b),b.people!==!1&&this.people().replaceWith("██████████"),b.emails!==!1&&this.emails().replaceWith("██████████"),b.places!==!1&&this.places().replaceWith("██████████"),b.phoneNumbers!==!1&&this.phoneNumbers().replaceWith("███████"),this},plugin$k={api:function(b){b.prototype.redact=redact}},isQuestion=function(b){let $=b.clauses();return/\.\.$/.test(b.out("text"))||b.has("^#QuestionWord")&&b.has("@hasComma")?!1:!!(b.has("or not$")||b.has("^#QuestionWord")||b.has("^(do|does|did|is|was|can|could|will|would|may) #Noun")||b.has("^(have|must) you")||$.has("(do|does|is|was) #Noun+ #Adverb? (#Adjective|#Infinitive)$"))},findQuestions=function(b){const $=/\?/,{document:_e}=b;return b.filter(et=>{let tt=et.docs[0]||[],nt=tt[tt.length-1];return!nt||_e[nt.index[0]].length!==tt.length?!1:$.test(nt.post)?!0:isQuestion(et)})},subordinate="(after|although|as|because|before|if|since|than|that|though|when|whenever|where|whereas|wherever|whether|while|why|unless|until|once)",relative$1="(that|which|whichever|who|whoever|whom|whose|whomever)",mainClause=function(b){let $=b;return $.length===1||($=$.if("#Verb"),$.length===1)||($=$.ifNo(subordinate),$=$.ifNo("^even (if|though)"),$=$.ifNo("^so that"),$=$.ifNo("^rather than"),$=$.ifNo("^provided that"),$.length===1)||($=$.ifNo(relative$1),$.length===1)||($=$.ifNo("(^despite|^during|^before|^through|^throughout)"),$.length===1)||($=$.ifNo("^#Gerund"),$.length===1)?$:($.length===0&&($=b),$.eq(0))},grammar=function(b){let $=null;return b.has("#PastTense")?$="PastTense":b.has("#FutureTense")?$="FutureTense":b.has("#PresentTense")&&($="PresentTense"),{tense:$}},parse$5=function(b){let $=b.clauses(),et=mainClause($).chunks(),tt=b.none(),nt=b.none(),rt=b.none();return et.forEach((ot,st)=>{if(st===0&&!ot.has("<Verb>")){tt=ot;return}if(!nt.found&&ot.has("<Verb>")){nt=ot;return}nt.found&&(rt=rt.concat(ot))}),nt.found&&!tt.found&&(tt=nt.before("<Noun>+").first()),{subj:tt,verb:nt,pred:rt,grammar:grammar(nt)}},toPast$2=function(b){let $=b.verbs(),_e=$.eq(0);if(_e.has("#PastTense"))return b;if(_e.toPastTense(),$.length>1){$=$.slice(1),$=$.filter(tt=>!tt.lookBehind("to$").found),$=$.if("#PresentTense"),$=$.notIf("#Gerund");let et=b.match("to #Verb+ #Conjunction #Verb").terms();$=$.not(et),$.found&&$.verbs().toPastTense()}return b},toPresent$1=function(b){let $=b.verbs();return $.eq(0).toPresentTense(),$.length>1&&($=$.slice(1),$=$.filter(et=>!et.lookBehind("to$").found),$=$.notIf("#Gerund"),$.found&&$.verbs().toPresentTense()),b},toFuture$1=function(b){let $=b.verbs();if($.eq(0).toFutureTense(),b=b.fullSentence(),$=b.verbs(),$.length>1){$=$.slice(1);let et=$.filter(tt=>tt.lookBehind("to$").found?!1:tt.has("#Copula #Gerund")?!0:tt.has("#Gerund")?!1:tt.has("#Copula")?!0:!(tt.has("#PresentTense")&&!tt.has("#Infinitive")&&tt.lookBefore("(he|she|it|that|which)$").found));et.found&&et.forEach(tt=>{if(tt.has("#Copula")){tt.match("was").replaceWith("is"),tt.match("is").replaceWith("will be");return}tt.toInfinitive()})}return b},toNegative$1=function(b){return b.verbs().first().toNegative().compute("chunks"),b},toPositive=function(b){return b.verbs().first().toPositive().compute("chunks"),b},toInfinitive=function(b){return b.verbs().toInfinitive(),b},api$5=function(b){class $ extends b{constructor(tt,nt,rt){super(tt,nt,rt),this.viewType="Sentences"}json(tt={}){return this.map(nt=>{let rt=nt.toView().json(tt)[0]||{},{subj:ot,verb:st,pred:ct,grammar:lt}=parse$5(nt);return rt.sentence={subject:ot.text("normal"),verb:st.text("normal"),predicate:ct.text("normal"),grammar:lt},rt},[])}toPastTense(tt){return this.getNth(tt).map(nt=>(parse$5(nt),toPast$2(nt)))}toPresentTense(tt){return this.getNth(tt).map(nt=>(parse$5(nt),toPresent$1(nt)))}toFutureTense(tt){return this.getNth(tt).map(nt=>(parse$5(nt),nt=toFuture$1(nt),nt))}toInfinitive(tt){return this.getNth(tt).map(nt=>(parse$5(nt),toInfinitive(nt)))}toNegative(tt){return this.getNth(tt).map(nt=>(parse$5(nt),toNegative$1(nt)))}toPositive(tt){return this.getNth(tt).map(nt=>(parse$5(nt),toPositive(nt)))}isQuestion(tt){return this.questions(tt)}isExclamation(tt){return this.filter(rt=>rt.lastTerm().has("@hasExclamation")).getNth(tt)}isStatement(tt){return this.filter(rt=>!rt.isExclamation().found&&!rt.isQuestion().found).getNth(tt)}update(tt){let nt=new $(this.document,tt);return nt._cache=this._cache,nt}}$.prototype.toPresent=$.prototype.toPresentTense,$.prototype.toPast=$.prototype.toPastTense,$.prototype.toFuture=$.prototype.toFutureTense;const _e={sentences:function(et){let tt=this.map(nt=>nt.fullSentence());return tt=tt.getNth(et),new $(this.document,tt.pointer)},questions:function(et){return findQuestions(this).getNth(et)}};Object.assign(b.prototype,_e)},sentences={api:api$5},find$3=function(b){let $=b.match("#Honorific+? #Person+"),_e=$.match("#Possessive").notIf("(his|her)");return $=$.splitAfter(_e),$},parse$4=function(b){let $={};$.firstName=b.match("#FirstName+"),$.lastName=b.match("#LastName+"),$.honorific=b.match("#Honorific+");let _e=$.lastName,et=$.firstName;return(!et.found||!_e.found)&&!et.found&&!_e.found&&b.has("^#Honorific .$")&&($.lastName=b.match(".$")),$},m="male",f="female",honorifics={mr:m,mrs:f,miss:f,madam:f,king:m,queen:f,duke:m,duchess:f,baron:m,baroness:f,count:m,countess:f,prince:m,princess:f,sire:m,dame:f,lady:f,ayatullah:m,congressman:m,congresswoman:f,"first lady":f,mx:null},predictGender=function(b,$){let{firstName:_e,honorific:et}=b;if(_e.has("#FemaleName"))return f;if(_e.has("#MaleName"))return m;if(et.found){let nt=et.text("normal");if(nt=nt.replace(/\./g,""),honorifics.hasOwnProperty(nt))return honorifics[nt];if(/^her /.test(nt))return f;if(/^his /.test(nt))return m}let tt=$.after();if(!tt.has("#Person")&&tt.has("#Pronoun")){let nt=tt.match("#Pronoun");if(nt.has("(they|their)"))return null;let rt=nt.has("(he|his)"),ot=nt.has("(she|her|hers)");if(rt&&!ot)return m;if(ot&&!rt)return f}return null},addMethod$1=function(b){class $ extends b{constructor(et,tt,nt){super(et,tt,nt),this.viewType="People"}parse(et){return this.getNth(et).map(parse$4)}json(et){let tt=typeof et=="object"?et:{};return this.getNth(et).map(nt=>{let rt=nt.toView().json(tt)[0],ot=parse$4(nt);return rt.person={firstName:ot.firstName.text("normal"),lastName:ot.lastName.text("normal"),honorific:ot.honorific.text("normal"),presumed_gender:predictGender(ot,nt)},rt},[])}presumedMale(){return this.filter(et=>et.has("(#MaleName|mr|mister|sr|jr|king|pope|prince|sir)"))}presumedFemale(){return this.filter(et=>et.has("(#FemaleName|mrs|miss|queen|princess|madam)"))}update(et){let tt=new $(this.document,et);return tt._cache=this._cache,tt}}b.prototype.people=function(_e){let et=find$3(this);return et=et.getNth(_e),new $(this.document,et.pointer)}},find$2=function(b){let $=b.match("(#Place|#Address)+"),_e=$.match("@hasComma");return _e=_e.filter(et=>et.has("(asia|africa|europe|america)$")?!0:!(et.has("(#City|#Region|#ProperNoun)$")&&et.after("^(#Country|#Region)").found)),$=$.splitAfter(_e),$},addMethod=function(b){b.prototype.places=function($){let _e=find$2(this);return _e=_e.getNth($),new b(this.document,_e.pointer)}},api$4=function(b){b.prototype.organizations=function($){return this.match("#Organization+").getNth($)}},find$1=function(b){let $=this.clauses(),_e=$.people();return _e=_e.concat($.places()),_e=_e.concat($.organizations()),_e=_e.not("(someone|man|woman|mother|brother|sister|father)"),_e=_e.sort("seq"),_e=_e.getNth(b),_e},api$3=function(b){b.prototype.topics=find$1},api$2=function(b){addMethod$1(b),addMethod(b),api$4(b),api$3(b)},topics={api:api$2},findVerbs=function(b){let $=b.match("<Verb>");return $=$.not("#Conjunction"),$=$.not("#Preposition"),$=$.splitAfter("@hasComma"),$=$.splitAfter("[(do|did|am|was|is|will)] (is|was)",0),$=$.splitBefore("(#Verb && !#Copula) [being] #Verb",0),$=$.splitBefore("#Verb [to be] #Verb",0),$=$.splitAfter("[help] #PresentTense",0),$=$.splitBefore("(#PresentTense|#PastTense) [#Copula]$",0),$=$.splitBefore("(#PresentTense|#PastTense) [will be]$",0),$=$.splitBefore("(#PresentTense|#PastTense) [(had|has)]",0),$=$.not("#Reflexive$"),$=$.not("#Adjective"),$=$.splitAfter("[#PastTense] #PastTense",0),$=$.splitAfter("[#PastTense] #Auxiliary+ #PastTense",0),$=$.splitAfter("#Copula [#Gerund] #PastTense",0),$=$.if("#Verb"),$.has("(#Verb && !#Auxiliary) #Adverb+? #Copula")&&($=$.splitBefore("#Copula")),$},getMain=function(b){let $=b;return b.wordCount()>1&&($=b.not("(#Negative|#Auxiliary|#Modal|#Adverb|#Prefix)")),$.length>1&&!$.has("#Phrasal #Particle")&&($=$.last()),$=$.not("(want|wants|wanted) to"),$.found||($=b.not("#Negative")),$},getAdverbs=function(b,$){let _e={pre:b.none(),post:b.none()};if(!b.has("#Adverb"))return _e;let et=b.splitOn($);return et.length===3?{pre:et.eq(0).adverbs(),post:et.eq(2).adverbs()}:et.eq(0).isDoc($)?(_e.post=et.eq(1).adverbs(),_e):(_e.pre=et.eq(0).adverbs(),_e)},getAuxiliary=function(b,$){let _e=b.splitBefore($);if(_e.length<=1)return b.none();let et=_e.eq(0);return et=et.not("(#Adverb|#Negative|#Prefix)"),et},getNegative=function(b){return b.match("#Negative")},getPhrasal=function(b){if(!b.has("(#Particle|#PhrasalVerb)"))return{verb:b.none(),particle:b.none()};let $=b.match("#Particle$");return{verb:b.not($),particle:$}},parseVerb=function(b){let $=b.clone();$.contractions().expand();const _e=getMain($);return{root:_e,prefix:$.match("#Prefix"),adverbs:getAdverbs($,_e),auxiliary:getAuxiliary($,_e),negative:getNegative($),phrasal:getPhrasal(_e)}},present={tense:"PresentTense"},conditional={conditional:!0},future={tense:"FutureTense"},prog={progressive:!0},past={tense:"PastTense"},complete={complete:!0,progressive:!1},passive={passive:!0},plural={plural:!0},singular={plural:!1},getData=function(b){let $={};return b.forEach(_e=>{Object.assign($,_e)}),$},verbForms={imperative:[["#Imperative",[]]],"want-infinitive":[["^(want|wants|wanted) to #Infinitive$",[present]],["^wanted to #Infinitive$",[past]],["^will want to #Infinitive$",[future]]],"gerund-phrase":[["^#PastTense #Gerund$",[past]],["^#PresentTense #Gerund$",[present]],["^#Infinitive #Gerund$",[present]],["^will #Infinitive #Gerund$",[future]],["^have #PastTense #Gerund$",[past]],["^will have #PastTense #Gerund$",[past]]],"simple-present":[["^#PresentTense$",[present]],["^#Infinitive$",[present]]],"simple-past":[["^#PastTense$",[past]]],"simple-future":[["^will #Adverb? #Infinitive",[future]]],"present-progressive":[["^(is|are|am) #Gerund$",[present,prog]]],"past-progressive":[["^(was|were) #Gerund$",[past,prog]]],"future-progressive":[["^will be #Gerund$",[future,prog]]],"present-perfect":[["^(has|have) #PastTense$",[past,complete]]],"past-perfect":[["^had #PastTense$",[past,complete]],["^had #PastTense to #Infinitive",[past,complete]]],"future-perfect":[["^will have #PastTense$",[future,complete]]],"present-perfect-progressive":[["^(has|have) been #Gerund$",[past,prog]]],"past-perfect-progressive":[["^had been #Gerund$",[past,prog]]],"future-perfect-progressive":[["^will have been #Gerund$",[future,prog]]],"passive-past":[["(got|were|was) #Passive",[past,passive]],["^(was|were) being #Passive",[past,passive]],["^(had|have) been #Passive",[past,passive]]],"passive-present":[["^(is|are|am) #Passive",[present,passive]],["^(is|are|am) being #Passive",[present,passive]],["^has been #Passive",[present,passive]]],"passive-future":[["will have been #Passive",[future,passive,conditional]],["will be being? #Passive",[future,passive,conditional]]],"present-conditional":[["would be #PastTense",[present,conditional]]],"past-conditional":[["would have been #PastTense",[past,conditional]]],"auxiliary-future":[["(is|are|am|was) going to (#Infinitive|#PresentTense)",[future]]],"auxiliary-past":[["^did #Infinitive$",[past,singular]],["^used to #Infinitive$",[past,complete]]],"auxiliary-present":[["^(does|do) #Infinitive$",[present,complete,plural]]],"modal-past":[["^(could|must|should|shall) have #PastTense$",[past]]],"modal-infinitive":[["^#Modal #Infinitive$",[]]],infinitive:[["^#Infinitive$",[]]]};let list$1=[];Object.keys(verbForms).map(b=>{verbForms[b].forEach($=>{list$1.push({name:b,match:$[0],data:getData($[1])})})});const cleanUp=function(b,$){return b=b.clone(),$.adverbs.post&&$.adverbs.post.found&&b.remove($.adverbs.post),$.adverbs.pre&&$.adverbs.pre.found&&b.remove($.adverbs.pre),b.has("#Negative")&&(b=b.remove("#Negative")),b.has("#Prefix")&&(b=b.remove("#Prefix")),$.root.has("#PhrasalVerb #Particle")&&b.remove("#Particle$"),b=b.not("#Adverb"),b},isInfinitive=function(b){return!!(b.has("#Infinitive")&&b.growLeft("to").has("^to #Infinitive"))},getGrammar=function(b,$){let _e={};b=cleanUp(b,$);for(let et=0;et<list$1.length;et+=1){let tt=list$1[et];if(b.has(tt.match)===!0){_e.form=tt.name,Object.assign(_e,tt.data);break}}return _e.form||b.has("^#Verb$")&&(_e.form="infinitive"),_e.tense||(_e.tense=$.root.has("#PastTense")?"PastTense":"PresentTense"),_e.copula=$.root.has("#Copula"),_e.isInfinitive=isInfinitive(b),_e},shouldSkip=function(b){return b.length<=1?!1:(b.parse()[0]||{}).isSubordinate},noSubClause=function(b){let $=b.clauses();return $=$.filter((_e,et)=>!(_e.has("^(if|unless|while|but|for|per|at|by|that|which|who|from)")||et>0&&_e.has("^#Verb . #Noun+$")||et>0&&_e.has("^#Adverb"))),$.length===0?b:$},lastNoun=function(b){let $=b.before();$=noSubClause($);let _e=$.nouns(),et=_e.last(),tt=et.match("(i|he|she|we|you|they)");if(tt.found)return tt.nouns();let nt=_e.if("^(that|this|those)");return nt.found||_e.found===!1&&(nt=$.match("^(that|this|those)"),nt.found)?nt:(et=_e.last(),shouldSkip(et)&&(_e.remove(et),et=_e.last()),shouldSkip(et)&&(_e.remove(et),et=_e.last()),et)},isPlural$1=function(b,$){return $.has("(are|were|does)")||b.has("(those|they|we)")?!0:b.found&&b.isPlural?b.isPlural().found:!1},getSubject=function(b){let $=lastNoun(b);return{subject:$,plural:isPlural$1($,b)}},noop$3=b=>b,isPlural=(b,$)=>{let _e=getSubject(b),et=_e.subject;return et.has("i")||et.has("we")?!0:_e.plural},wasWere=(b,$)=>{let{subject:_e,plural:et}=getSubject(b);return et||_e.has("we")?"were":"was"},isAreAm=function(b,$){if(b.has("were"))return"are";let{subject:_e,plural:et}=getSubject(b);return _e.has("i")?"am":_e.has("we")||et?"are":"is"},doDoes=function(b,$){let _e=getSubject(b),et=_e.subject;return et.has("i")||et.has("we")||_e.plural?"do":"does"},getTense=function(b){if(b.has("#Infinitive"))return"Infinitive";if(b.has("#Participle"))return"Participle";if(b.has("#PastTense"))return"PastTense";if(b.has("#Gerund"))return"Gerund";if(b.has("#PresentTense"))return"PresentTense"},toInf$2=function(b,$){const{toInfinitive:_e}=b.methods.two.transform.verb;let et=$.root.text({keepPunct:!1});return et=_e(et,b.model,getTense(b)),et&&b.replace($.root,et),b},noWill=b=>b.has("will not")?b.replace("will not","have not"):b.remove("will"),toArray$2=function(b){if(!b||!b.isView)return[];const $={normal:!0,terms:!1,text:!1};return b.json($).map(_e=>_e.normal)},toText=function(b){return!b||!b.isView?"":b.text("normal")},toInf$1=function(b){const{toInfinitive:$}=b.methods.two.transform.verb;let _e=b.text("normal");return $(_e,b.model,getTense(b))},toJSON=function(b){let $=parseVerb(b);b=b.clone().toView();const _e=getGrammar(b,$);return{root:$.root.text(),preAdverbs:toArray$2($.adverbs.pre),postAdverbs:toArray$2($.adverbs.post),auxiliary:toText($.auxiliary),negative:$.negative.found,prefix:toText($.prefix),infinitive:toInf$1($.root),grammar:_e}},keep$5={tags:!0},toInf=function(b,$){const{toInfinitive:_e}=b.methods.two.transform.verb,{root:et,auxiliary:tt}=$;let nt=tt.terms().harden(),rt=et.text("normal");if(rt=_e(rt,b.model,getTense(et)),rt&&b.replace(et,rt,keep$5).tag("Verb").firstTerm().tag("Infinitive"),nt.found&&b.remove(nt),$.negative.found){b.has("not")||b.prepend("not");let ot=doDoes(b);b.prepend(ot)}return b.fullSentence().compute(["freeze","lexicon","preTagger","postTagger","unfreeze","chunks"]),b},keep$4={tags:!0},fns={noAux:(b,$)=>($.auxiliary.found&&(b=b.remove($.auxiliary)),b),simple:(b,$)=>{const{conjugate:_e,toInfinitive:et}=b.methods.two.transform.verb,tt=$.root;if(tt.has("#Modal"))return b;let nt=tt.text({keepPunct:!1});return nt=et(nt,b.model,getTense(tt)),nt=_e(nt,b.model).PastTense,nt=nt==="been"?"was":nt,nt==="was"&&(nt=wasWere(b)),nt&&b.replace(tt,nt,keep$4),b},both:function(b,$){return $.negative.found?(b.replace("will","did"),b):(b=fns.simple(b,$),b=fns.noAux(b,$),b)},hasHad:b=>(b.replace("has","had",keep$4),b),hasParticiple:(b,$)=>{const{conjugate:_e,toInfinitive:et}=b.methods.two.transform.verb,tt=$.root;let nt=tt.text("normal");return nt=et(nt,b.model,getTense(tt)),_e(nt,b.model).Participle}},forms$4={infinitive:fns.simple,"simple-present":fns.simple,"simple-past":noop$3,"simple-future":fns.both,"present-progressive":b=>(b.replace("are","were",keep$4),b.replace("(is|are|am)","was",keep$4),b),"past-progressive":noop$3,"future-progressive":(b,$)=>(b.match($.root).insertBefore("was"),b.remove("(will|be)"),b),"present-perfect":fns.hasHad,"past-perfect":noop$3,"future-perfect":(b,$)=>(b.match($.root).insertBefore("had"),b.has("will")&&(b=noWill(b)),b.remove("have"),b),"present-perfect-progressive":fns.hasHad,"past-perfect-progressive":noop$3,"future-perfect-progressive":b=>(b.remove("will"),b.replace("have","had",keep$4),b),"passive-past":b=>(b.replace("have","had",keep$4),b),"passive-present":b=>(b.replace("(is|are)","was",keep$4),b),"passive-future":(b,$)=>($.auxiliary.has("will be")&&(b.match($.root).insertBefore("had been"),b.remove("(will|be)")),$.auxiliary.has("will have been")&&(b.replace("have","had",keep$4),b.remove("will")),b),"present-conditional":b=>(b.replace("be","have been"),b),"past-conditional":noop$3,"auxiliary-future":b=>(b.replace("(is|are|am)","was",keep$4),b),"auxiliary-past":noop$3,"auxiliary-present":b=>(b.replace("(do|does)","did",keep$4),b),"modal-infinitive":(b,$)=>(b.has("can")?b.replace("can","could",keep$4):(fns.simple(b,$),b.match("#Modal").insertAfter("have").tag("Auxiliary")),b),"modal-past":noop$3,"want-infinitive":b=>(b.replace("(want|wants)","wanted",keep$4),b.remove("will"),b),"gerund-phrase":(b,$)=>($.root=$.root.not("#Gerund$"),fns.simple(b,$),noWill(b),b)},toPast$1=function(b,$,_e){return forms$4.hasOwnProperty(_e)&&(b=forms$4[_e](b,$),b.fullSentence().compute(["tagger","chunks"])),b},haveHas=function(b,$){let _e=getSubject(b),et=_e.subject;return et.has("(i|we|you)")?"have":_e.plural===!1||et.has("he")||et.has("she")||et.has("#Person")?"has":"have"},simple$2=(b,$)=>{const{conjugate:_e,toInfinitive:et}=b.methods.two.transform.verb,{root:tt,auxiliary:nt}=$;if(tt.has("#Modal"))return b;let rt=tt.text({keepPunct:!1});rt=et(rt,b.model,getTense(tt));let ot=_e(rt,b.model);if(rt=ot.Participle||ot.PastTense,rt){b=b.replace(tt,rt);let st=haveHas(b);b.prepend(st).match(st).tag("Auxiliary"),b.remove(nt)}return b},forms$3={infinitive:simple$2,"simple-present":simple$2,"simple-future":(b,$)=>b.replace("will",haveHas(b)),"present-perfect":noop$3,"past-perfect":noop$3,"future-perfect":(b,$)=>b.replace("will have",haveHas(b)),"present-perfect-progressive":noop$3,"past-perfect-progressive":noop$3,"future-perfect-progressive":noop$3},toPast=function(b,$,_e){return forms$3.hasOwnProperty(_e)?(b=forms$3[_e](b,$),b.fullSentence().compute(["tagger","chunks"]),b):(b=simple$2(b,$),b.fullSentence().compute(["tagger","chunks"]),b)},keep$3={tags:!0},simple$1=(b,$)=>{const{conjugate:_e,toInfinitive:et}=b.methods.two.transform.verb,tt=$.root;let nt=tt.text("normal");return nt=et(nt,b.model,getTense(tt)),isPlural(b)===!1&&(nt=_e(nt,b.model).PresentTense),tt.has("#Copula")&&(nt=isAreAm(b)),nt&&(b=b.replace(tt,nt,keep$3),b.not("#Particle").tag("PresentTense")),b},toGerund$1=(b,$)=>{const{conjugate:_e,toInfinitive:et}=b.methods.two.transform.verb,tt=$.root;let nt=tt.text("normal");return nt=et(nt,b.model,getTense(tt)),isPlural(b)===!1&&(nt=_e(nt,b.model).Gerund),nt&&(b=b.replace(tt,nt,keep$3),b.not("#Particle").tag("Gerund")),b},vbToInf=(b,$)=>{const{toInfinitive:_e}=b.methods.two.transform.verb,et=$.root;let tt=$.root.text("normal");return tt=_e(tt,b.model,getTense(et)),tt&&(b=b.replace($.root,tt,keep$3)),b},forms$2={infinitive:simple$1,"simple-present":(b,$)=>{const{conjugate:_e}=b.methods.two.transform.verb;let{root:et}=$;if(et.has("#Infinitive")){let nt=getSubject(b).subject;if(isPlural(b)||nt.has("i"))return b;let rt=et.text("normal"),ot=_e(rt,b.model).PresentTense;rt!==ot&&b.replace(et,ot,keep$3)}else return simple$1(b,$);return b},"simple-past":simple$1,"simple-future":(b,$)=>{const{root:_e,auxiliary:et}=$;if(et.has("will")&&_e.has("be")){let tt=isAreAm(b);b.replace(_e,tt),b=b.remove("will"),b.replace("not "+tt,tt+" not")}else simple$1(b,$),b=b.remove("will");return b},"present-progressive":noop$3,"past-progressive":(b,$)=>{let _e=isAreAm(b);return b.replace("(were|was)",_e,keep$3)},"future-progressive":b=>(b.match("will").insertBefore("is"),b.remove("be"),b.remove("will")),"present-perfect":(b,$)=>(simple$1(b,$),b=b.remove("(have|had|has)"),b),"past-perfect":(b,$)=>{let et=getSubject(b).subject;return isPlural(b)||et.has("i")?(b=toInf$2(b,$),b.remove("had"),b):(b.replace("had","has",keep$3),b)},"future-perfect":b=>(b.match("will").insertBefore("has"),b.remove("have").remove("will")),"present-perfect-progressive":noop$3,"past-perfect-progressive":b=>b.replace("had","has",keep$3),"future-perfect-progressive":b=>(b.match("will").insertBefore("has"),b.remove("have").remove("will")),"passive-past":(b,$)=>{let _e=isAreAm(b);return b.has("(had|have|has)")&&b.has("been")?(b.replace("(had|have|has)",_e,keep$3),b.replace("been","being"),b):b.replace("(got|was|were)",_e)},"passive-present":noop$3,"passive-future":b=>(b.replace("will","is"),b.replace("be","being")),"present-conditional":noop$3,"past-conditional":b=>(b.replace("been","be"),b.remove("have")),"auxiliary-future":(b,$)=>(toGerund$1(b,$),b.remove("(going|to)"),b),"auxiliary-past":(b,$)=>{if($.auxiliary.has("did")){let _e=doDoes(b);return b.replace($.auxiliary,_e),b}return toGerund$1(b,$),b.replace($.auxiliary,"is"),b},"auxiliary-present":noop$3,"modal-infinitive":noop$3,"modal-past":(b,$)=>(vbToInf(b,$),b.remove("have")),"gerund-phrase":(b,$)=>($.root=$.root.not("#Gerund$"),simple$1(b,$),b.remove("(will|have)")),"want-infinitive":(b,$)=>{let _e="wants";return isPlural(b)&&(_e="want"),b.replace("(want|wanted|wants)",_e,keep$3),b.remove("will"),b}},toPresent=function(b,$,_e){return forms$2.hasOwnProperty(_e)&&(b=forms$2[_e](b,$),b.fullSentence().compute(["tagger","chunks"])),b},keep$2={tags:!0},simple=(b,$)=>{const{toInfinitive:_e}=b.methods.two.transform.verb,{root:et,auxiliary:tt}=$;if(et.has("#Modal"))return b;let nt=et.text("normal");return nt=_e(nt,b.model,getTense(et)),nt&&(b=b.replace(et,nt,keep$2),b.not("#Particle").tag("Verb")),b.prepend("will").match("will").tag("Auxiliary"),b.remove(tt),b},progressive=(b,$)=>{const{conjugate:_e,toInfinitive:et}=b.methods.two.transform.verb,{root:tt,auxiliary:nt}=$;let rt=tt.text("normal");return rt=et(rt,b.model,getTense(tt)),rt&&(rt=_e(rt,b.model).Gerund,b.replace(tt,rt,keep$2),b.not("#Particle").tag("PresentTense")),b.remove(nt),b.prepend("will be").match("will be").tag("Auxiliary"),b},forms$1={infinitive:simple,"simple-present":simple,"simple-past":simple,"simple-future":noop$3,"present-progressive":progressive,"past-progressive":progressive,"future-progressive":noop$3,"present-perfect":b=>(b.match("(have|has)").replaceWith("will have"),b),"past-perfect":b=>b.replace("(had|has)","will have"),"future-perfect":noop$3,"present-perfect-progressive":b=>b.replace("has","will have"),"past-perfect-progressive":b=>b.replace("had","will have"),"future-perfect-progressive":noop$3,"passive-past":b=>b.has("got")?b.replace("got","will get"):b.has("(was|were)")?(b.replace("(was|were)","will be"),b.remove("being")):b.has("(have|has|had) been")?b.replace("(have|has|had) been","will be"):b,"passive-present":b=>(b.replace("being","will be"),b.remove("(is|are|am)"),b),"passive-future":noop$3,"present-conditional":b=>b.replace("would","will"),"past-conditional":b=>b.replace("would","will"),"auxiliary-future":noop$3,"auxiliary-past":b=>b.has("used")&&b.has("to")?(b.replace("used","will"),b.remove("to")):(b.replace("did","will"),b),"auxiliary-present":b=>b.replace("(do|does)","will"),"modal-infinitive":noop$3,"modal-past":noop$3,"gerund-phrase":(b,$)=>($.root=$.root.not("#Gerund$"),simple(b,$),b.remove("(had|have)")),"want-infinitive":b=>(b.replace("(want|wants|wanted)","will want"),b)},toFuture=function(b,$,_e){return b.has("will")||b.has("going to")||forms$1.hasOwnProperty(_e)&&(b=forms$1[_e](b,$),b.fullSentence().compute(["tagger","chunks"])),b},keep$1={tags:!0},toGerund=function(b,$){const{toInfinitive:_e,conjugate:et}=b.methods.two.transform.verb,{root:tt,auxiliary:nt}=$;if(b.has("#Gerund"))return b;let rt=tt.text("normal");rt=_e(rt,b.model,getTense(tt));let ot=et(rt,b.model).Gerund;if(ot){let st=isAreAm(b);b.replace(tt,ot,keep$1),b.remove(nt),b.prepend(st)}return b.replace("not is","is not"),b.replace("not are","are not"),b.fullSentence().compute(["tagger","chunks"]),b},keep={tags:!0},doesNot=function(b,$){let _e=doDoes(b);return b.prepend(_e+" not"),b},isWas=function(b){let $=b.match("be");return $.found?($.prepend("not"),b):($=b.match("(is|was|am|are|will|were)"),$.found&&$.append("not"),b)},hasCopula=b=>b.has("(is|was|am|are|will|were|be)"),forms={"simple-present":(b,$)=>hasCopula(b)===!0?isWas(b):(b=toInf$2(b,$),b=doesNot(b),b),"simple-past":(b,$)=>hasCopula(b)===!0?isWas(b):(b=toInf$2(b,$),b.prepend("did not"),b),imperative:b=>(b.prepend("do not"),b),infinitive:(b,$)=>hasCopula(b)===!0?isWas(b):doesNot(b),"passive-past":b=>{if(b.has("got"))return b.replace("got","get",keep),b.prepend("did not"),b;let $=b.match("(was|were|had|have)");return $.found&&$.append("not"),b},"auxiliary-past":b=>{if(b.has("used"))return b.prepend("did not"),b;let $=b.match("(did|does|do)");return $.found&&$.append("not"),b},"want-infinitive":(b,$)=>(b=doesNot(b),b=b.replace("wants","want",keep),b)},toNegative=function(b,$,_e){if(b.has("#Negative"))return b;if(forms.hasOwnProperty(_e))return b=forms[_e](b,$),b;let et=b.matchOne("be");return et.found?(et.prepend("not"),b):hasCopula(b)===!0?isWas(b):(et=b.matchOne("(will|had|have|has|did|does|do|#Modal)"),et.found&&et.append("not"),b)},api$1=function(b){class $ extends b{constructor(et,tt,nt){super(et,tt,nt),this.viewType="Verbs"}parse(et){return this.getNth(et).map(parseVerb)}json(et,tt){return this.getNth(tt).map(ot=>{let st=ot.toView().json(et)[0]||{};return st.verb=toJSON(ot),st},[])}subjects(et){return this.getNth(et).map(tt=>(parseVerb(tt),getSubject(tt).subject))}adverbs(et){return this.getNth(et).map(tt=>tt.match("#Adverb"))}isSingular(et){return this.getNth(et).filter(tt=>getSubject(tt).plural!==!0)}isPlural(et){return this.getNth(et).filter(tt=>getSubject(tt).plural===!0)}isImperative(et){return this.getNth(et).filter(tt=>tt.has("#Imperative"))}toInfinitive(et){return this.getNth(et).map(tt=>{let nt=parseVerb(tt),rt=getGrammar(tt,nt);return toInf(tt,nt,rt.form)})}toPresentTense(et){return this.getNth(et).map(tt=>{let nt=parseVerb(tt),rt=getGrammar(tt,nt);return rt.isInfinitive?tt:toPresent(tt,nt,rt.form)})}toPastTense(et){return this.getNth(et).map(tt=>{let nt=parseVerb(tt),rt=getGrammar(tt,nt);return rt.isInfinitive?tt:toPast$1(tt,nt,rt.form)})}toFutureTense(et){return this.getNth(et).map(tt=>{let nt=parseVerb(tt),rt=getGrammar(tt,nt);return rt.isInfinitive?tt:toFuture(tt,nt,rt.form)})}toGerund(et){return this.getNth(et).map(tt=>{let nt=parseVerb(tt),rt=getGrammar(tt,nt);return rt.isInfinitive?tt:toGerund(tt,nt,rt.form)})}toPastParticiple(et){return this.getNth(et).map(tt=>{let nt=parseVerb(tt),rt=getGrammar(tt,nt);return rt.isInfinitive?tt:toPast(tt,nt,rt.form)})}conjugate(et){const{conjugate:tt,toInfinitive:nt}=this.world.methods.two.transform.verb;return this.getNth(et).map(rt=>{let ot=parseVerb(rt),st=getGrammar(rt,ot);st.form==="imperative"&&(st.form="simple-present");let ct=ot.root.text("normal");if(!ot.root.has("#Infinitive")){let lt=getTense(ot.root);ct=nt(ct,rt.model,lt)||ct}return tt(ct,rt.model)},[])}isNegative(){return this.if("#Negative")}isPositive(){return this.ifNo("#Negative")}toPositive(){let et=this.match("do not #Verb");return et.found&&et.remove("do not"),this.remove("#Negative")}toNegative(et){return this.getNth(et).map(tt=>{let nt=parseVerb(tt),rt=getGrammar(tt,nt);return toNegative(tt,nt,rt.form)})}update(et){let tt=new $(this.document,et);return tt._cache=this._cache,tt}}$.prototype.toPast=$.prototype.toPastTense,$.prototype.toPresent=$.prototype.toPresentTense,$.prototype.toFuture=$.prototype.toFutureTense,b.prototype.verbs=function(_e){let et=findVerbs(this);return et=et.getNth(_e),new $(this.document,et.pointer)}},verbs={api:api$1},findChained=function(b,$){let _e=$.match(b);if(_e.found){let et=_e.pronouns().refersTo();if(et.found)return et}return $.none()},prevSentence=function(b){if(!b.found)return b;let[$]=b.fullPointer[0];return $&&$>0?b.update([[$-1]]):b.none()},byGender=function(b,$){return $==="m"?b.filter(_e=>!_e.presumedFemale().found):$==="f"?b.filter(_e=>!_e.presumedMale().found):b},getPerson=function(b,$){let _e=b.people();return _e=byGender(_e,$),_e.found||(_e=b.nouns("#Actor"),_e.found)?_e.last():$==="f"?findChained("(she|her|hers)",b):$==="m"?findChained("(he|him|his)",b):b.none()},getThey=function(b){let $=b.nouns(),_e=$.isPlural().notIf("#Pronoun");if(_e.found)return _e.last();let et=findChained("(they|their|theirs)",b);return et.found?et:(_e=$.match("(somebody|nobody|everybody|anybody|someone|noone|everyone|anyone)"),_e.found?_e.last():b.none())},addReference=function(b,$){if($&&$.found){let _e=b.docs[0][0];_e.reference=$.ptrs[0]}},stepBack=function(b,$){let _e=b.before(),et=$(_e);return et.found||(_e=prevSentence(b),et=$(_e),et.found)||(_e=prevSentence(_e),et=$(_e),et.found)?et:b.none()},coreference$1=function(b){b.pronouns().if("(he|him|his|she|her|hers|they|their|theirs|it|its)").forEach(_e=>{let et=null;_e.has("(he|him|his)")?et=stepBack(_e,tt=>getPerson(tt,"m")):_e.has("(she|her|hers)")?et=stepBack(_e,tt=>getPerson(tt,"f")):_e.has("(they|their|theirs)")&&(et=stepBack(_e,getThey)),et&&et.found&&addReference(_e,et)})},api=function(b){class $ extends b{constructor(et,tt,nt){super(et,tt,nt),this.viewType="Pronouns"}hasReference(){return this.compute("coreference"),this.filter(et=>et.docs[0][0].reference)}refersTo(){return this.compute("coreference"),this.map(et=>{if(!et.found)return et.none();let tt=et.docs[0][0];return tt.reference?et.update([tt.reference]):et.none()})}update(et){let tt=new $(this.document,et);return tt._cache=this._cache,tt}}b.prototype.pronouns=function(_e){let et=this.match("#Pronoun");return et=et.getNth(_e),new $(et.document,et.pointer)}},coreference={compute:{coreference:coreference$1},api};nlp.plugin(adjectives);nlp.plugin(adverbs);nlp.plugin(chunker);nlp.plugin(coreference);nlp.plugin(misc);nlp.plugin(normalize);nlp.plugin(nouns);nlp.plugin(numbers);nlp.plugin(plugin$k);nlp.plugin(sentences);nlp.plugin(topics);nlp.plugin(verbs);function agenticLlmApiClient({url:b,key:$,model:_e,aiUsage:et,onError:tt,tools:nt,onStart:rt}){b="http://localhost",nt=typeof nt=="object"?nt:{};let ot=!0,st=!1;function ct(kt){st=kt}var lt=new AbortController;function at(){if(ot=!0,st){try{lt.current&&lt.current.abort("click")}catch(kt){console.log(kt)}ct(!1)}}function it(kt){let St={};return kt&&(kt.outputType==="json"&&(St.response_format={type:"json_object"}),kt.temperatureOpenAI&&(St.temperature=parseFloat(kt.temperatureOpenAI)>0?parseFloat(kt.temperatureOpenAI):0),kt.topPOpenAI&&(St.top_p=parseFloat(kt.topPOpenAI)>0?parseFloat(kt.topPOpenAI):0),kt.maxTokens&&(St.max_tokens=parseFloat(kt.maxTokens)>0?parseFloat(kt.maxTokens):0),Array.isArray(kt.stopTokens)&&kt.stopTokens.length>0&&(St.stop=kt.stopTokens),kt.frequencyPenalty&&(St.frequency_penalty=parseFloat(kt.frequencyPenalty)>-2?parseFloat(kt.frequencyPenalty):0),kt.presencePenalty&&(St.presence_penalty=parseFloat(kt.presencePenalty)>-2?parseFloat(kt.presencePenalty):0)),(!kt||kt&&kt.outputType!=="json")&&(St.stream=!0),kt&&kt.outputType!=="json"&&b==="https://api.openai.com"&&(St.stream_options={include_usage:!0}),St}let ut=[],dt={};function ht(kt){const St=/("([^"]|"")*"|'([^']|'')*'|[^,]+)(?=\s*,|\s*$)/g;let Ct=[],Et;for(;Et=St.exec(kt);)Ct.push(Et[0].replace(/^["']|["']$/g,"").replace(/""/g,'"').replace(/''/g,"'"));return Ct}async function ft(kt){let St=kt.split("("),Ct=St[0];if(nt.hasOwnProperty(Ct.toLowerCase())){let Et=St.slice(1).join("("),Tt=Et.lastIndexOf(")"),$t=Et.slice(0,Tt),Ot=await nt[Ct.toLowerCase()](ht($t));return dt[kt]=Ot,[kt,Ot]}else return[kt,""]}function pt(kt){return(kt||"").split("```").forEach(function(Ct){Ct.trim().startsWith("tool")&&Ct.trim().split(`
`).forEach(function(Et){let Tt=Et.split("(")[0].trim();nt.hasOwnProperty(Tt)&&!dt.hasOwnProperty(Et.trim())&&(dt[Et.trim()]=null,ut.push(ft(Et.trim())))})}),dt}function mt(kt){let St=(kt||"").split("```");return St.forEach(function(Et,Tt){if(Et.trim().startsWith("tool")){let $t=Et.trim().split(`
`).map(function(Ot){return Ot.trim()==="tool"?"":dt[Ot.trim()]?`
###RESULT
`+dt[Ot.trim()]:Ot}).join(`
`);St[Tt]=$t}}),St.map(function(Et){return Et.trim()}).join("```")}function gt(kt){let St=null,Ct=null;for(;(!Ct||Ct.role!=="user")&&kt.length>0;)Ct=kt.shift(),Ct&&Ct.role==="system"?St=Ct:Ct&&Ct.role==="assistant"||Ct&&Ct.role==="user"&&kt.unshift(Ct);return St&&kt.unshift(St),kt=kt.map(function(Et){return{role:Et.role,content:Et.content}}),kt}function vt(kt){if(kt){let St=JSON.parse(JSON.stringify(kt)).reverse();for(let Ct in St)if(Ct&&St[Ct]&&St[Ct].role==="user")return St[Ct]}return null}async function yt({messages:kt,modelConfig:St,onUpdate:Ct,onComplete:Et,onStart:Tt}){console.log("Persona Start:",kt,St);let $t=new Date;if(St&&St.type==="algorithmic")if(ot=!1,console.log(St,St&&St.processingFunctionType,St&&St.processingFunction),St&&St.processingFunction){let Rt=new Function("message","messages",St.processingFunction),Nt=vt(kt),Ft=Nt?Nt.content:"";console.log("Function CALL:",Ft,kt,Nt);try{let Ht=Rt(Ft,kt);if(Ht&&Ht.then&&typeof Ht.then=="function")return Ht.then(function(zt){console.log("Function Resultq1:",zt);let an={content:zt,log:{tokens_in:0,tokens_out:0,duration:(new Date-$t).valueOf()}};return Et(zt,{tokens_in:0,tokens_out:0,duration:(new Date-$t).valueOf()}),an});{console.log("Function Resultss:",Ht);let zt={content:Ht,log:{tokens_in:0,tokens_out:0,duration:(new Date-$t).valueOf()}};return Et(Ht,{tokens_in:0,tokens_out:0,duration:(new Date-$t).valueOf()}),zt}}catch(Ht){console.error("Error evaluating function:",Ht),tt("Error evaluating function:"+Ht);return}}else{let Rt={content:"",log:{tokens_in:0,tokens_out:0,duration:0}};return Et("",{tokens_in:0,tokens_out:0,duration:0}),Rt}else{ot=!1;var Ot=lt.signal;Tt&&Tt(),ct(!0);let Rt={model:_e,messages:gt(kt)};Rt=Object.assign(Rt,it(St));let Nt=[],Ft=[],Ht=0,zt=[],an=0,Jt=0,Zt=new Date;try{console.log("START REQUEST",Rt.messages);let Qt=await fetch(b+"/v1/chat/completions",{signal:Ot,method:"POST",headers:{Authorization:"Bearer "+$,"Content-Type":"application/json"},body:JSON.stringify(Rt)});Qt.status!==200&&(at(),tt("Error querying model - "+Qt.statusText));const qt=Qt.body.pipeThrough(new TextDecoderStream).getReader();for(;!ot;){const{value:rn,done:pn}=await qt.read();if(pn)break;rn.split("data: ").forEach(function($n){let on;try{on=JSON.parse($n)}catch{}if(on&&on.choices&&on.choices[0]&&on.choices[0].delta&&on.choices[0].delta.hasOwnProperty("content")){Ft.push(on.choices[0].delta.content);let Tn=nlp(Nt.join("")+Ft.join("")).clauses().out("array");if(zt=Tn,Tn.length>1&&Tn.length>Ht){let kn=Tn[Tn.length-2],Bn=Nt.join("")+kn;Ct(Bn,kn,(new Date-Zt).valueOf());let On="";for(;Ft.length>0&&On.length<kn.length;){let dn=Ft.shift();On+=dn,Nt.push(dn)}Ht=Tn.length}}on&&on.usage&&(Jt=on.usage.completion_tokens>0?on.usage.completion_tokens:0,an=on.usage.prompt_tokens>0?on.usage.prompt_tokens:0),on&&on.x_groq&&on.x_groq.usage&&(Jt=on.x_groq.usage.completion_tokens>0?on.x_groq.usage.completion_tokens:0,an=on.x_groq.usage.prompt_tokens>0?on.x_groq.usage.prompt_tokens:0)})}ct(!1);let vn={tokens_in:an,tokens_out:Jt,model:_e,key:$,url:b,duration:(new Date-Zt).valueOf()};et&&et.log(vn),Ct&&Ct(Nt.join("")+Ft.join(""),Ft.join(""),(new Date-Zt).valueOf());let Yt=Nt.join("")+Ft.join("");if(St&&St.wrapBefore&&(Yt=St.wrapBefore+Yt),St&&St.wrapAfter&&(Yt=Yt+St.wrapAfter),ot){let rn={tokens_in:an,tokens_out:Jt,model:_e,key:$,url:b,duration:(new Date-Zt).valueOf()};return{content:Nt.join("")+Ft.join(""),log:rn}}else return pt(Yt),Promise.all(ut).then(function(rn){let pn=mt(Yt);return Et&&Et(pn,vn),{content:pn,log:vn}}).catch(function(rn){let pn={tokens_in:an,tokens_out:Jt,model:_e,key:$,url:b,duration:(new Date-Zt).valueOf()};return console.error("Stopped:",rn),at(),tt(rn),{content:Nt.join("")+Ft.join(""),log:pn}})}catch(Qt){let qt={tokens_in:an,tokens_out:Jt,model:_e,key:$,url:b,duration:(new Date-Zt).valueOf()};return console.error("Stopped:",Qt),at(),tt(Qt),{content:Nt.join("")+Ft.join(""),log:qt}}}}function bt(kt){let St=kt&&kt.message?kt.message:"";return St=St+(kt&&kt.skills?`
`+kt.skills:""),St=St+(kt&&kt.backStory?`
`+kt.backStory:""),kt&&kt.config&&kt.config.outputType==="json"?(St=St+(kt.config&&kt.config.outputExamples?`
`+kt.config.outputExamples:""),St=St+(kt.config&&kt.config.outputSchema?`
`+kt.config.outputSchema:"")):kt&&kt.config&&kt.config.outputType==="choice"&&(St=St+(kt.config&&kt.config.outputExamples?`
###CHOICES
`+kt.config.outputExamples:"")),{role:"system",content:St}}function xt(kt,St){let Ct=bt(kt),Et=JSON.parse(JSON.stringify(St));return Et.unshift(Ct),Et}function _t(kt,St){return console.log("CHOOSE EXP",kt,St),new Promise(function(Ct,Et){let Tt=`You are a human resources expert. 
You understand very well how to find the right person for the job. 
When you are asked a question you decide who is the best person to answer the question.
Choose one or many persons from the following list of experts who would best answer the question. Choose at most three and at least one.
Each row of the list of experts starts with an ID. An example ID is 1715533081877-2tpar0hlv9j .  Respond with a comma seperated list of ids.

###QUESTION
`+kt+`

###EXPERTS
`+St.map(function($t){return $t.id+" "+$t.name+" "+$t.skills}).join(`
`)+`
You must ONLY respond with a comma seperated list of ids from the experts provided.`;yt({messages:[{role:"system",content:Tt},{role:"user",content:kt}],modelConfig:{},onUpdate:function(){},onComplete:function($t,Ot){let Rt=[];St.forEach(function(Ft){Ft.id&&(Rt[Ft.id]=Ft)});let Nt=[];$t.split(",").forEach(function(Ft){Ft.trim()&&Rt[Ft.trim()]&&Nt.push(Rt[Ft.trim()])}),Ct({experts:Nt,log:Ot})}})})}function wt(kt){return new Promise(function(St,Ct){let Et=`You are a curious person and when you hear a question, a bunch of other related questions come to mind that would help you understand the question.
			Reply with a list of additional questions.

###QUESTION
`+kt;yt({messages:[{role:"system",content:Et},{role:"user",content:kt}],modelConfig:{},onUpdate:function(){},onComplete:function(Tt,$t){let Ot=[];Tt.split(`
`).forEach(function(Rt){Rt.trim()&&Ot.push(Rt.trim())}),St({questions:Ot.slice(1),log:$t})}})})}async function At({message:kt,messages:St,team:Ct,onUpdate:Et,onComplete:Tt,onStart:$t}){console.log("START TEAM",St,Ct),ot=!1;let Ot=new Date,Rt=[],Nt={tokens_in:0,tokens_out:0};function Ft(rn,pn){let $n=St.filter(function(on){return on.role==="user"||on.role==="assistant"}).map(function(on){return{role:on.role,content:Array.isArray(on.content)?on.content.map(function(Tn){return Tn.content}).join(`
`):on.content}});if(rn&&$n.unshift(rn),pn){let on=$n.pop();if(on.role==="user")$n.push(pn);else{let Tn=$n.pop();Tn.role==="user"?($n.push(pn),$n.push(on)):($n.push(Tn),$n.push(on))}}return $n}function Ht(rn,pn){Nt.tokens_in=(Nt.tokens_in>0?Nt.tokens_in:0)+(rn>0?rn:0),Nt.tokens_out=(Nt.tokens_out>0?Nt.tokens_out:0)+(pn>0?pn:0)}function zt(){Et(Rt,(new Date-Ot).valueOf())}function an(){Tt(Rt,{tokens_in:Nt.tokens_in,tokens_out:Nt.tokens_out,model:_e,key:$,url:b,duration:(new Date-Ot).valueOf()})}function Jt(rn,pn,$n){if(Array.isArray(pn))for(let on=0;on<pn.length;on++)Rt[rn+on]={content:pn};else Rt[rn]={content:pn};zt()}function Zt(rn,pn,$n,on){if(Array.isArray(pn)){for(let Tn=0;Tn<pn.length;Tn++)Rt[rn+Tn]={content:pn[Tn].content,log:pn[Tn].log,name:on+(pn[Tn].name?" - "+pn[Tn].name:"")};$n&&Ht($n.tokens_in,$n.tokens_out),zt()}else Rt[rn]={content:pn,log:$n,name:on},$n&&Ht($n.tokens_in,$n.tokens_out),zt()}function Qt(rn){if(rn){let pn=rn&&Array.isArray(rn.content)?rn.content.map(function(on){return on.content}).join(`
`):rn.content?rn.content:"",$n=rn&&rn.log?rn.log:"";return $n&&Ht($n.tokens_in,$n.tokens_out),pn}else return""}async function qt(rn,pn,$n){if(Array.isArray(rn.members)&&rn.members.length>0)for(let dn in rn.members){let wn=rn.members[dn];if(dn&&dn.id&&dn.id.startsWith("TEAM:::::"))tt("A compressed team cannot have nested teams ("+dn.name+")");else{pn.push(`
###PERSONA`);let bn=[wn.message];wn.skills&&pn.push(wn.skills),wn.backStory&&pn.push(wn.backStory),pn.push(bn.join(". "))}}let on=$n>0?$n:0;function Tn(dn,wn){Jt(on,dn)}function kn(dn,wn){Zt(on,dn,wn,"Compressed Team"+(rn&&rn.name?" - "+rn.name:""))}let Bn=await yt({messages:Ft({role:"system",content:pn.join(`
`)},{role:"user",content:`###QUESTION
`+kt}),modelConfig:{},onUpdate:Tn,onComplete:kn,onError:tt,aiUsage:et}),On=Qt(Bn);if(Yt(rn,"formatter")){let dn=function(wn,bn){Zt(on,wn,bn,"Compressed Team Formatter - "+Yt(rn,"formatter").name)};on=on+1,await yt({messages:Ft(bt(Yt(rn,"formatter")),{role:"user",content:[kt,On].join(`
`)}),modelConfig:Yt(rn,"formatter").config,onUpdate:Tn,onComplete:dn,onError:tt,aiUsage:et}),an()}else an();return{content:Rt,log:Nt}}async function vn(rn,pn,$n=!0){let on=[],Tn=[],kn=0,Bn=[];function On(wn,bn,Sn){if(Array.isArray(bn))for(let Pn=0;Pn<bn.length;Pn++)Bn[wn+Pn]={content:bn};else Bn[wn]={content:bn};Rt=Bn,zt()}function dn(wn,bn,Sn,Pn){if(Array.isArray(bn)){for(let In=0;In<bn.length;In++)Bn[wn+In]={content:bn[In].content,log:bn[In].log,name:Pn+(bn[In].name?" - "+bn[In].name:"")};Sn&&Ht(Sn.tokens_in,Sn.tokens_out),Rt=Bn,zt()}else Bn[wn]={content:bn,log:Sn,name:Pn},Sn&&Ht(Sn.tokens_in,Sn.tokens_out),Rt=Bn,zt()}if(Array.isArray(pn))for(let wn in pn){let bn=pn[wn];if(bn){let Sn=function(In,Ln){On(kn,In)},Pn=function(In,Ln){dn(kn,In,Ln,bn&&bn.name?bn.name:""),Array.isArray(In)?kn=kn+In.length:kn=kn+1};Tn[wn]=bn&&bn.name?bn.name:"",bn.id&&bn.id.startsWith("TEAM:::::")?on.push(At({message:rn,messages:[{role:"user",content:rn}],team:bn,onUpdate:Sn,onComplete:Pn,onStart:function(){}})):on.push(yt({messages:[bt(bn),{role:"user",content:rn}],modelConfig:bn.config,onUpdate:Sn,onComplete:Pn,onError:tt,aiUsage:et}))}}return Promise.all(on).then(function(wn){let bn=[];for(let Sn in wn){let Pn=wn[Sn];Pn&&Array.isArray(Pn.content)?Pn.content.forEach(function(In,Ln){In&&In.content&&bn.push({content:In.content,log:In.log,name:Tn[Sn]+(In.name?" - "+In.name:"")})}):bn.push({content:Pn.content,log:Pn.log,name:Tn[Sn]})}return Rt=bn,$n&&Yt(Ct,"formatter")?yt({messages:Ft(bt(Yt(Ct,"formatter")),{role:"user",content:[kt,Rt.map(function(Sn){return Sn.content}).join(`
`)].join(`
`)}),modelConfig:Yt(Ct,"formatter").config,onUpdate:function(){},onComplete:function(){},onError:tt,aiUsage:et}).then(function(Sn){let Pn=Qt(Sn);Rt.push({content:Pn,log:Sn.log,name:Yt(Ct,"formatter")?"Formatter - "+Yt(Ct,"formatter").name:"Formatter"}),an()}):an(),{content:Rt,log:Nt}})}$t&&$t();function Yt(rn,pn){return rn&&rn[pn]&&rn[pn]?rn[pn]:null}if(Ct)if(!Ct.compress||Ct.type==="rolesbased"){let rn=0;switch(Ct.type){case"parallel":if(Array.isArray(Ct.members)&&Ct.members.length>0)return vn(kt,Ct.members);break;case"mixtureofexperts":if(Array.isArray(Ct.members)&&Ct.members.length>0){let pn=function(kn,Bn){Jt(0,kn)},$n=function(kn,Bn){Zt(0,kn,Bn,"Expert Selector")},on={},Tn={};if(Ct.members.forEach(function(kn){kn&&kn.id&&(on[kn.id]=kn),kn&&kn.name&&(Tn[kn.name]=kn)}),Yt(Ct,"expert_selector")){const kn=Yt(Ct,"expert_selector");if(kn&&kn.id){let Bn=await yt({messages:[bt(kn),{role:"user",content:kt}],modelConfig:kn.config,onUpdate:pn,onComplete:$n,onError:tt,aiUsage:et}),On=Qt(Bn),dn=[];On.split(",").forEach(function(bn){bn&&bn.trim()&&Object.keys(on).forEach(function(Sn){bn.toLowerCase().indexOf(Sn.toLowerCase())!==-1&&dn.push(on[bn])}),bn&&bn.trim()&&Object.keys(Tn).forEach(function(Sn){bn.toLowerCase().indexOf(Sn.toLowerCase())!==-1&&dn.push(Tn[bn])})});let wn={content:On,log:Bn.log,name:"Expert Selector - "+kn.name};return Rt[0]=wn,zt(),vn(kt,dn).then(function({content:bn,log:Sn}){return bn=Array.isArray(bn)?bn:[],bn.unshift(wn),zt(),{content:bn,log:Sn}})}else return _t(kt,Ct.members).then(function({experts:Bn,log:On}){let dn={content:Bn.map(function(wn){return wn.name}).join(","),log:On,name:"Expert Selector"};return vn(kt,Bn).then(function({content:wn,log:bn}){return wn=Array.isArray(wn)?wn:[],wn.unshift(dn),zt(),{content:wn,log:bn}})})}else return _t(kt,Ct.members).then(function({experts:kn,log:Bn}){let On={content:kn.map(function(dn){return dn.name}).join(","),log:Bn,name:"Expert Selector"};return vn(kt,kn).then(function({content:dn,log:wn}){return dn=Array.isArray(dn)?dn:[],dn.unshift(On),zt(),{content:dn,log:wn}})})}break;case"generator":if(Array.isArray(Ct.members)&&Ct.members.length>0){const pn=Yt(Ct,"question_generator");if(pn&&pn.id){let $n=function(wn,bn){Jt(rn,wn)},on=function(wn,bn){Zt(rn,wn,bn,Yt(Ct,"question_generator").name),Array.isArray(wn)?rn=rn+wn.length:rn=rn+1},Tn=bt(pn);Tn.name=Ct.name+" - Question Generator - "+pn.name;let kn=await yt({messages:[Tn,{role:"user",content:kt}],modelConfig:pn.config,onUpdate:$n,onComplete:on,onError:tt,aiUsage:et}),On=Qt(kn).split(`
`);On=On.filter(function(wn){return!!(wn&&wn.trim())}),Ct.max_generated_items>0?On=On.slice(0,Ct.max_generated_items):On=On.slice(0,2);let dn=[];return On.forEach(function(wn){dn.push(vn(wn,Ct.members))}),Promise.all(dn).then(function(wn){let bn=[];for(let Sn in wn){let Pn=wn[Sn];Pn&&Array.isArray(Pn.content)?Pn.content.forEach(function(In,Ln){In&&In.content&&bn.push({content:In.content,log:In.log,name:Ct.name+(In.name?" - "+In.name:"")})}):bn.push({content:Pn.content,log:Pn.log,name:Ct.name+" - "+Pn.name})}bn.unshift(Tn),Yt(Ct,"formatter")?yt({messages:[bt(Yt(Ct,"formatter")),{role:"user",content:[kt,bn.map(function(Sn){return Sn.content}).join(`
`)].join(`
`)}],modelConfig:Yt(Ct,"formatter").config,onUpdate:function(){},onComplete:function(){},onError:tt,aiUsage:et}).then(function(Sn){let Pn=Qt(Sn);Rt=bn,Rt[rn+1]={content:Pn,log:Sn.log,name:Yt(Ct,"formatter")?Ct.name+" - Formatter - "+Yt(Ct,"formatter").name:"Formatter"},an()}):(Rt=bn,an())})}else return wt(kt).then(function({questions:$n,log:on}){let Tn={content:$n.map(function(On){return On}).join(","),log:on,name:Ct.name+" - Question Generator"};zt();let kn=$n.filter(function(On){return!!(On&&On.trim())});Ct.max_generated_items>0?kn=kn.slice(0,Ct.max_generated_items):kn=kn.slice(0,2);let Bn=[];return kn.forEach(function(On){Bn.push(vn(On,Ct.members,1))}),Promise.all(Bn).then(function(On){let dn=[];for(let wn in On){let bn=On[wn];bn&&Array.isArray(bn.content)?bn.content.forEach(function(Sn,Pn){Sn&&Sn.content&&dn.push({content:Sn.content,log:Sn.log,name:Ct.name+" - Question Generator"+(Sn.name?" - "+Sn.name:"")})}):dn.push({content:bn.content,log:bn.log,name:Ct.name+" - Question Generator - "+bn.name})}dn.unshift(Tn),Yt(Ct,"formatter")?yt({messages:[bt(Yt(Ct,"formatter")),{role:"user",content:[kt,dn.map(function(wn){return wn.content}).join(`
`)].join(`
`)}],modelConfig:Yt(Ct,"formatter").config,onUpdate:function(){},onComplete:function(){},onError:tt,aiUsage:et}).then(function(wn){let bn=Qt(wn);Rt=dn,Rt[rn+1]={content:bn,log:wn.log,name:Yt(Ct,"formatter")?Ct.name+" - Formatter - "+Yt(Ct,"formatter").name:"Formatter"},an()}):(Rt=dn,an())})})}break;case"rolesbased":if(console.log(Ct),!Yt(Ct,"generator"))tt("A generator is required for roles based teams"),an();else{let pn=!1,$n="",on="",Tn="",kn="",Bn="",On="",dn=0,wn=Ct.max_iterations>0?Ct.max_iterations:2;if(Yt(Ct,"blocker")){let bn=function(Pn,In){Jt(rn,Pn)},Sn=await yt({messages:xt(Yt(Ct,"blocker"),[{role:"user",content:[kt].join(`
`)}]),modelConfig:Yt(Ct,"blocker").config,onUpdate:bn,onComplete:function(){},onError:tt,aiUsage:et});On=Qt(Sn),Zt(rn,On,Sn.log,"Blocker")}if(On||(On="PASS"),pn=!!(On&&On.trim()==="FAIL"),!pn){if(Yt(Ct,"feeder")){let bn=function(Pn,In){Jt(rn,Pn)},Sn=function(Pn,In){Zt(rn,Pn,In,"Feeder - "+Yt(Ct,"feeder").name),Array.isArray(Pn)?rn=rn+Pn.length:rn=rn+1};if(rn+=1,Yt(Ct,"feeder").id&&Yt(Ct,"feeder").id.startsWith("TEAM:::::")){let Pn=await At({message:kt,messages:[{role:"user",content:[kt].join(`
`)}],team:Yt(Ct,"feeder"),onUpdate:bn,onComplete:Sn,onStart:function(){}});$n=Qt(Pn)}else{let Pn=await yt({messages:[bt(Yt(Ct,"feeder")),{role:"user",content:[kt].join(`
`)}],modelConfig:Yt(Ct,"feeder").config,onUpdate:bn,onComplete:Sn,onError:tt,aiUsage:et});$n=Qt(Pn)}}if(Yt(Ct,"planner")){let bn=function(Pn,In){Jt(rn,Pn)},Sn=function(Pn,In){Zt(rn,Pn,In,"Planner - "+Yt(Ct,"planner").name),Array.isArray(Pn)?rn=rn+Pn.length:rn=rn+1};if(rn+=1,Yt(Ct,"planner").id&&Yt(Ct,"planner").id.startsWith("TEAM:::::")){let Pn=await At({message:kt,messages:[{role:"user",content:[kt].join(`
`)}],team:Yt(Ct,"planner"),onUpdate:bn,onComplete:Sn,onStart:function(){}});on=Qt(Pn)}else{let Pn=await yt({messages:[bt(Yt(Ct,"planner")),{role:"user",content:[kt].join(`
`)}],modelConfig:Yt(Ct,"planner").config,onUpdate:bn,onComplete:Sn,onError:tt,aiUsage:et});on=Qt(Pn)}}for(;!pn&&dn<wn;)if(dn+=1,!pn){if(Yt(Ct,"generator")){let Sn=function(In,Ln){Jt(rn,In)},Pn=function(In,Ln){Zt(rn,In,Ln,"Generator - "+Yt(Ct,"generator").name),Array.isArray(In)?rn=rn+In.length:rn=rn+1};if(rn+=1,Yt(Ct,"generator").id&&Yt(Ct,"generator").id.startsWith("TEAM:::::")){let In=await At({message:kt,messages:[{role:"user",content:[kt,$n,on,Tn,kn,Bn].join(`
`)}],team:Yt(Ct,"generator"),onUpdate:Sn,onComplete:Pn,onStart:function(){}});Tn=Qt(In)}else{let In=await yt({messages:[bt(Yt(Ct,"generator")),{role:"user",content:[kt,$n,on,Tn,kn,Bn].join(`
`)}],modelConfig:Yt(Ct,"generator").config,onUpdate:Sn,onComplete:Pn,onError:tt,aiUsage:et});Tn=Qt(In)}}if(Yt(Ct,"summariser")){let Sn=function(Ln,Xn){Jt(rn,Ln)},Pn=function(Ln,Xn){let rr=Yt(Ct,"summariser");Zt(rn,Ln,Xn,"Summariser "+(rr&&rr.name?" - "+rr.name:""))};rn+=1;let In=await yt({messages:[bt(Yt(Ct,"summariser")),{role:"user",content:[kt,on,Tn].join(`
`)}],modelConfig:Yt(Ct,"summariser").config,onUpdate:Sn,onComplete:Pn,onError:tt,aiUsage:et});kn=Qt(In)}let bn="";if(Yt(Ct,"scorer")){let Sn=function(Ln,Xn){Jt(rn,Ln)},Pn=function(Ln,Xn){let rr=Yt(Ct,"scorer");Zt(rn,Ln,Xn,"Scorer "+(rr&&rr.name?" - "+rr.name:""))};rn+=1;let In=await yt({messages:[bt(Yt(Ct,"scorer")),{role:"user",content:[kt,kn||Tn].join(`
`)}],modelConfig:Yt(Ct,"scorer").config,onUpdate:Sn,onComplete:Pn,onError:tt,aiUsage:et});bn=Qt(In),In||(In="PASS")}if(pn=!(bn&&bn.trim()==="FAIL"),!pn&&dn<wn&&Yt(Ct,"rewriter")){let Sn=function(Ln,Xn){Jt(rn,Ln)},Pn=function(Ln,Xn){let rr=Yt(Ct,"rewriter");Zt(rn,Ln,Xn,"Rewriter "+(rr&&rr.name?" - "+rr.name:""))};rn+=1;let In=await yt({messages:[bt(Yt(Ct,"rewriters")),{role:"user",content:[kt,$n,on,Tn,kn,Bn].join(`
`)}],modelConfig:Yt(Ct,"rewriter").config,onUpdate:Sn,onComplete:Pn});Bn=Qt(In)}}if(Yt(Ct,"formatter")){let bn=function(In,Ln){Jt(rn,In)},Sn=function(In,Ln){let Xn=Yt(Ct,"formatter");Zt(rn,In,Ln,"Formatter "+(Xn&&Xn.name?" - "+Xn.name:""))};rn+=1;let Pn=await yt({messages:[bt(Yt(Ct,"formatter")),{role:"user",content:[kt,Tn,kn].join(`
`)}],modelConfig:Yt(Ct,"formatter").config,onUpdate:bn,onComplete:Sn,onError:tt,aiUsage:et});Qt(Pn)}}return an(),{content:Rt,log:Nt}}break;case"linear":case"linearcollation":default:if(Array.isArray(Ct.members)&&Ct.members.length>0){let pn="";for(let $n in Ct.members){let on=Ct.members[$n];if(on){let Tn=function(On,dn){Jt(rn,On)},kn=function(On,dn){Zt(rn,On,dn,on&&on.name?on.name:""),pn=Array.isArray(On)?On[On.length-1].content:On,Array.isArray(On)?rn=rn+On.length:rn=rn+1},Bn=Ct.type==="linear"?pn:Rt.map(function(On){return On.content}).join(`
`);on.id.startsWith("TEAM:::::")?await At({message:kt+Bn,messages:[{role:"user",content:[kt,Bn].join(`
`)}],team:on,onUpdate:Tn,onComplete:kn,onStart:function(){}}):await yt({messages:[bt(on),{role:"user",content:[kt,Bn].join(`
`)}],modelConfig:on.config,onUpdate:Tn,onComplete:kn,onError:tt,aiUsage:et})}}return an(),{content:Rt,log:Nt}}if(Yt(Ct,"formatter")){let pn=function(Tn,kn){Jt(on,Tn)},$n=function(Tn,kn){let Bn=Yt(Ct,"formatter");Zt(on,Tn,kn,"Formatter "+(Bn&&Bn.name?" - "+Bn.name:""))},on=Rt.length;await yt({messages:xt(Yt(Ct,"formatter"),[{role:"user",content:[kt,Rt.map(function(Tn){return Tn.content}).join(`
`)].join(`
`)}]),modelConfig:Yt(Ct,"formatter").config,onUpdate:pn,onComplete:$n,onError:tt,aiUsage:et}),an()}else an();break}}else{switch(Ct.type){case"parallel":await qt(Ct,["For each of the personas listed below generate a response to the question."]);break;case"linear":await qt(Ct,["For each of the personas listed below generate a response to the question. Each person takes into account the response of previous personas."]);break;case"mixtureofexperts":if(Array.isArray(Ct.members)&&Ct.members.length>0){let rn={},pn={};if(Ct.members.forEach(function(on){on&&on.id&&(rn[on.id]=on),on&&on.name&&(pn[on.name]=on)}),Yt(Ct,"expert_selector")){const on=Yt(Ct,"expert_selector");if(on&&on.id){let Tn=await yt({messages:xt(on,[{role:"user",content:kt}]),modelConfig:on.config,onUpdate:function(){},onComplete:function(){},onError:tt,aiUsage:et}),kn=Qt(Tn);Rt[0]={content:kn,log:Tn.log,name:"Role Selector - "+on.name};let Bn=[];return kn.split(",").forEach(function(On){On&&rn[On]&&Bn.push(rn[On]),On&&pn[On]&&Bn.push(pn[On])}),qt({members:Bn,formatter:Yt(Ct,"formatter")},["For each of the personas listed below generate a response to the question."],1)}else _t(kt,Ct.members).then(function({experts:Tn,log:kn}){return Rt[0]={content:Tn.map(function(Bn){return Bn.name}).join(","),log:kn,name:"Expert Selector"},zt(),qt({members:Tn,formatter:Yt(Ct,"formatter")},["For each of the personas listed below generate a response to the question."])},1)}else _t(kt,Ct.members).then(function({experts:on,log:Tn}){return Rt[0]={content:on.map(function(kn){return kn.name}).join(","),log:Tn,name:"Expert Selector"},zt(),qt({members:on,formatter:Yt(Ct,"formatter")},["For each of the personas listed below generate a response to the question."])},1)}break}return an(),{content:Rt,log:Nt}}}function Pt(kt,St,Ct=null){return console.log("FIX CODE",kt,St,Ct),new Promise(function(Et,Tt){let $t="You are an expert software engineer.";Ct&&($t+="You usually write software in "+Ct+" and have a strong understanding of the language structure and libraries.");let Ot=`Given the error message, fix the following code.
###ERROR
`+St.join(`
`)+`
###CODE
`+Ot+`
`;yt({messages:[{role:"system",content:$t},{role:"user",content:Ot}],modelConfig:{},onUpdate:function(){},onComplete:function(Rt,Nt){console.log("FIXED CODE",Rt,Nt),Et({code:Rt,log:Nt})}})})}function jt(kt,St){return console.log("FIX GRAPH",kt,St),new Promise(function(Ct,Et){let Tt="You are an expert at working with charts to present information. In particular you know all the tricks for using mermaid charts.",$t=`Given the error message, fix the following chart.
###CHART
`+$t+`
###ERROR
`+St+`
`;yt({messages:[{role:"system",content:Tt},{role:"user",content:$t}],modelConfig:{},onUpdate:function(){},onComplete:function(Ot,Rt){console.log("FIXED GRAPH",Ot,Rt),Ct({newGraph:Ot,log:Rt})}})})}return{stop:at,start:yt,startTeam:At,isBusy:st,startToolCalls:pt,prependSystemMessage:xt,tools:nt,fixGraph:jt,fixCode:Pt}}function useLlm({url:b,key:$,model:_e,onUpdate:et,onComplete:tt,onReady:nt,onError:rt,onStart:ot,forceRefresh:st,aiUsage:ct,currentChatHistory:lt,tools:at,nlp:it}){const ut=reactExports.useRef(!1);function dt(vt){ut.current=vt}var ht=agenticLlmApiClient({url:b,key:$,model:_e,onReady:nt,aiUsage:ct,onError:rt,tools:at,onStart:ot});reactExports.useRef(""),reactExports.useRef();var ft=reactExports.useRef(new AbortController);function pt(){nt&&nt()}function mt(){if(ht.stop(),ut.current){try{ft.current&&ft.current.abort("click")}catch(vt){console.log(vt)}dt(!1)}}async function gt(vt,yt){console.log("AI LLM START ",vt,yt);let bt=ht.prependSystemMessage(vt,yt);console.log(yt,bt,vt),dt(!0),ot(),ht.start({messages:bt,modelConfig:vt?vt.config:{},onUpdate:et,onComplete:function(xt,_t){console.log("AI LLM complete",xt,_t),dt(!1),tt(xt,_t)}})}return{init:pt,stop:mt,start:gt,isBusy:ut,fixCode:ht.fixCode,fixGraph:ht.fixGraph}}function useTeamLlm({url:b,key:$,model:_e,onReady:et,aiUsage:tt,tools:nt,config:rt,engines:ot,onUpdate:st,onComplete:ct,onStart:lt,onError:at,teams:it,roles:ut,utils:dt}){const ht=reactExports.useRef(!1);function ft(yt){ht.current=yt}reactExports.useRef(""),reactExports.useRef();var pt=reactExports.useRef(new AbortController),mt=agenticLlmApiClient({url:b,key:$,model:_e,onReady:et,aiUsage:tt,onError:at,tools:nt,onStart:lt});function gt(){if(ht.current){try{pt.current&&pt.current.abort("click")}catch(yt){console.log(yt)}ft(!1)}}async function vt(yt,bt,xt){if(pt.current=new AbortController,pt.current.signal,bt&&it[bt]){let _t=JSON.parse(JSON.stringify(dt.exportTeam(it,bt,ut)));ft(!0),mt.startTeam({message:yt,messages:xt,team:_t,onUpdate:st,onComplete:function(wt,At){ft(!1),ct(wt,At)},onStart:lt})}}return{stop:gt,start:vt,isBusy:ht,init:function(){et&&et()}}}function useSelfHostedLlm({url:b,onUpdate:$,onComplete:_e,onReady:et,onError:tt,onStart:nt,forceRefresh:rt,currentChatHistory:ot}){const st=reactExports.useRef(!1);function ct(ht){st.current=ht}reactExports.useRef();var lt=reactExports.useRef(new AbortController);function at(){et&&et()}function it(){try{lt.current&&lt.current.abort("click")}catch(ht){console.log(ht)}}function ut(){st.current&&(it(),ct(!1))}async function dt(ht,ft,pt={}){lt.current=new AbortController;var mt=lt.current.signal;nt();let gt=JSON.parse(JSON.stringify(ot()));gt.unshift({role:"system",content:ht||""}),ct(!0);let vt={messages:gt,format:pt&&pt.config&&pt.config.outputType?pt.config.outputType:"",format_config:pt&&pt.config&&pt.config.outputType==="json"?pt.config.schema:pt&&pt.config&&pt.config.examples&&pt.config.examples.split&&pt.config.outputType==="choice"?pt.config.examples.split(`
`):"",examples:pt&&pt.config&&pt.config.outputExamples?pt.config.outputExamples:"",config:{temperature:pt&&pt.config&&pt.config.temperature?pt.config.temperature:"",top_p:pt&&pt.config&&pt.config.topP?pt.config.topP:"",top_k:pt&&pt.config&&pt.config.topK?pt.config.topK:"",max_tokens:pt&&pt.config&&pt.config.maxTokens?pt.config.maxTokens:"",stop_at:pt&&pt.config&&Array.isArray(pt.config.stopTokens)?pt.config.stopTokens:"",beams:pt&&pt.config&&pt.config.beams?pt.config.beams:""},system_message:ht};console.log("ai start",ft,pt,vt),vt.stream=!0;let yt=[],bt=[],xt=0,_t=[];try{const At=(await fetch(b+"/llm",{signal:mt,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(vt)})).body.pipeThrough(new TextDecoderStream).getReader();for(;;){const{value:Pt,done:jt}=await At.read();if(jt)break;Pt.split("data: ").forEach(function(kt){if(kt){bt.push(kt);let St=nlp(yt.join("")+bt.join("")).clauses().out("array");if(_t=St,St.length>1&&St.length>xt){let Ct=St[St.length-2],Et=yt.join("")+Ct;$(Ct,Et);let Tt="";for(;bt.length>0&&Tt.length<Ct.length;){let $t=bt.shift();Tt+=$t,yt.push($t)}xt=St.length}}})}ct(!1),$(bt.join(""),yt.join("")+bt.join("")),_e(yt.join("")+bt.join(""),{model:vt.model})}catch(wt){console.error("Stopped:",wt)}}return{init:at,stop:ut,start:dt,isBusy:st}}class InvalidTokenError extends Error{}InvalidTokenError.prototype.name="InvalidTokenError";function b64DecodeUnicode(b){return decodeURIComponent(atob(b).replace(/(.)/g,($,_e)=>{let et=_e.charCodeAt(0).toString(16).toUpperCase();return et.length<2&&(et="0"+et),"%"+et}))}function base64UrlDecode(b){let $=b.replace(/-/g,"+").replace(/_/g,"/");switch($.length%4){case 0:break;case 2:$+="==";break;case 3:$+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return b64DecodeUnicode($)}catch{return atob($)}}function jwtDecode(b,$){if(typeof b!="string")throw new InvalidTokenError("Invalid token specified: must be a string");$||($={});const _e=$.header===!0?0:1,et=b.split(".")[_e];if(typeof et!="string")throw new InvalidTokenError(`Invalid token specified: missing part #${_e+1}`);let tt;try{tt=base64UrlDecode(et)}catch(nt){throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${_e+1} (${nt.message})`)}try{return JSON.parse(tt)}catch(nt){throw new InvalidTokenError(`Invalid token specified: invalid json for part #${_e+1} (${nt.message})`)}}function bind(b,$){return function(){return b.apply($,arguments)}}const{toString}=Object.prototype,{getPrototypeOf:getPrototypeOf$1}=Object,kindOf=(b=>$=>{const _e=toString.call($);return b[_e]||(b[_e]=_e.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=b=>(b=b.toLowerCase(),$=>kindOf($)===b),typeOfTest=b=>$=>typeof $===b,{isArray:isArray$1}=Array,isUndefined=typeOfTest("undefined");function isBuffer$1(b){return b!==null&&!isUndefined(b)&&b.constructor!==null&&!isUndefined(b.constructor)&&isFunction$2(b.constructor.isBuffer)&&b.constructor.isBuffer(b)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(b){let $;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?$=ArrayBuffer.isView(b):$=b&&b.buffer&&isArrayBuffer(b.buffer),$}const isString=typeOfTest("string"),isFunction$2=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$3=b=>b!==null&&typeof b=="object",isBoolean$1=b=>b===!0||b===!1,isPlainObject$1=b=>{if(kindOf(b)!=="object")return!1;const $=getPrototypeOf$1(b);return($===null||$===Object.prototype||Object.getPrototypeOf($)===null)&&!(Symbol.toStringTag in b)&&!(Symbol.iterator in b)},isDate$1=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=b=>isObject$3(b)&&isFunction$2(b.pipe),isFormData=b=>{let $;return b&&(typeof FormData=="function"&&b instanceof FormData||isFunction$2(b.append)&&(($=kindOf(b))==="formdata"||$==="object"&&isFunction$2(b.toString)&&b.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim$1=b=>b.trim?b.trim():b.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(b,$,{allOwnKeys:_e=!1}={}){if(b===null||typeof b>"u")return;let et,tt;if(typeof b!="object"&&(b=[b]),isArray$1(b))for(et=0,tt=b.length;et<tt;et++)$.call(null,b[et],et,b);else{const nt=_e?Object.getOwnPropertyNames(b):Object.keys(b),rt=nt.length;let ot;for(et=0;et<rt;et++)ot=nt[et],$.call(null,b[ot],ot,b)}}function findKey$1(b,$){$=$.toLowerCase();const _e=Object.keys(b);let et=_e.length,tt;for(;et-- >0;)if(tt=_e[et],$===tt.toLowerCase())return tt;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=b=>!isUndefined(b)&&b!==_global;function merge$2(){const{caseless:b}=isContextDefined(this)&&this||{},$={},_e=(et,tt)=>{const nt=b&&findKey$1($,tt)||tt;isPlainObject$1($[nt])&&isPlainObject$1(et)?$[nt]=merge$2($[nt],et):isPlainObject$1(et)?$[nt]=merge$2({},et):isArray$1(et)?$[nt]=et.slice():$[nt]=et};for(let et=0,tt=arguments.length;et<tt;et++)arguments[et]&&forEach(arguments[et],_e);return $}const extend$2=(b,$,_e,{allOwnKeys:et}={})=>(forEach($,(tt,nt)=>{_e&&isFunction$2(tt)?b[nt]=bind(tt,_e):b[nt]=tt},{allOwnKeys:et}),b),stripBOM=b=>(b.charCodeAt(0)===65279&&(b=b.slice(1)),b),inherits=(b,$,_e,et)=>{b.prototype=Object.create($.prototype,et),b.prototype.constructor=b,Object.defineProperty(b,"super",{value:$.prototype}),_e&&Object.assign(b.prototype,_e)},toFlatObject=(b,$,_e,et)=>{let tt,nt,rt;const ot={};if($=$||{},b==null)return $;do{for(tt=Object.getOwnPropertyNames(b),nt=tt.length;nt-- >0;)rt=tt[nt],(!et||et(rt,b,$))&&!ot[rt]&&($[rt]=b[rt],ot[rt]=!0);b=_e!==!1&&getPrototypeOf$1(b)}while(b&&(!_e||_e(b,$))&&b!==Object.prototype);return $},endsWith=(b,$,_e)=>{b=String(b),(_e===void 0||_e>b.length)&&(_e=b.length),_e-=$.length;const et=b.indexOf($,_e);return et!==-1&&et===_e},toArray$1=b=>{if(!b)return null;if(isArray$1(b))return b;let $=b.length;if(!isNumber($))return null;const _e=new Array($);for(;$-- >0;)_e[$]=b[$];return _e},isTypedArray$1=(b=>$=>b&&$ instanceof b)(typeof Uint8Array<"u"&&getPrototypeOf$1(Uint8Array)),forEachEntry=(b,$)=>{const et=(b&&b[Symbol.iterator]).call(b);let tt;for(;(tt=et.next())&&!tt.done;){const nt=tt.value;$.call(b,nt[0],nt[1])}},matchAll=(b,$)=>{let _e;const et=[];for(;(_e=b.exec($))!==null;)et.push(_e);return et},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=b=>b.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(_e,et,tt){return et.toUpperCase()+tt}),hasOwnProperty$b=(({hasOwnProperty:b})=>($,_e)=>b.call($,_e))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(b,$)=>{const _e=Object.getOwnPropertyDescriptors(b),et={};forEach(_e,(tt,nt)=>{let rt;(rt=$(tt,nt,b))!==!1&&(et[nt]=rt||tt)}),Object.defineProperties(b,et)},freezeMethods=b=>{reduceDescriptors(b,($,_e)=>{if(isFunction$2(b)&&["arguments","caller","callee"].indexOf(_e)!==-1)return!1;const et=b[_e];if(isFunction$2(et)){if($.enumerable=!1,"writable"in $){$.writable=!1;return}$.set||($.set=()=>{throw Error("Can not rewrite read-only method '"+_e+"'")})}})},toObjectSet=(b,$)=>{const _e={},et=tt=>{tt.forEach(nt=>{_e[nt]=!0})};return isArray$1(b)?et(b):et(String(b).split($)),_e},noop$2=()=>{},toFiniteNumber=(b,$)=>b!=null&&Number.isFinite(b=+b)?b:$,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(b=16,$=ALPHABET.ALPHA_DIGIT)=>{let _e="";const{length:et}=$;for(;b--;)_e+=$[Math.random()*et|0];return _e};function isSpecCompliantForm(b){return!!(b&&isFunction$2(b.append)&&b[Symbol.toStringTag]==="FormData"&&b[Symbol.iterator])}const toJSONObject=b=>{const $=new Array(10),_e=(et,tt)=>{if(isObject$3(et)){if($.indexOf(et)>=0)return;if(!("toJSON"in et)){$[tt]=et;const nt=isArray$1(et)?[]:{};return forEach(et,(rt,ot)=>{const st=_e(rt,tt+1);!isUndefined(st)&&(nt[ot]=st)}),$[tt]=void 0,nt}}return et};return _e(b,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=b=>b&&(isObject$3(b)||isFunction$2(b))&&isFunction$2(b.then)&&isFunction$2(b.catch),utils$4={isArray:isArray$1,isArrayBuffer,isBuffer:isBuffer$1,isFormData,isArrayBufferView,isString,isNumber,isBoolean:isBoolean$1,isObject:isObject$3,isPlainObject:isPlainObject$1,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate:isDate$1,isFile,isBlob,isRegExp,isFunction:isFunction$2,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach,merge:merge$2,extend:extend$2,trim:trim$1,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$1,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$b,hasOwnProp:hasOwnProperty$b,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$2,toFiniteNumber,findKey:findKey$1,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(b,$,_e,et,tt){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=b,this.name="AxiosError",$&&(this.code=$),_e&&(this.config=_e),et&&(this.request=et),tt&&(this.response=tt)}utils$4.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$4.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(b=>{descriptors[b]={value:b}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(b,$,_e,et,tt,nt)=>{const rt=Object.create(prototype$1);return utils$4.toFlatObject(b,rt,function(st){return st!==Error.prototype},ot=>ot!=="isAxiosError"),AxiosError.call(rt,b.message,$,_e,et,tt),rt.cause=b,rt.name=b.name,nt&&Object.assign(rt,nt),rt};const httpAdapter=null;function isVisitable(b){return utils$4.isPlainObject(b)||utils$4.isArray(b)}function removeBrackets(b){return utils$4.endsWith(b,"[]")?b.slice(0,-2):b}function renderKey(b,$,_e){return b?b.concat($).map(function(tt,nt){return tt=removeBrackets(tt),!_e&&nt?"["+tt+"]":tt}).join(_e?".":""):$}function isFlatArray(b){return utils$4.isArray(b)&&!b.some(isVisitable)}const predicates=utils$4.toFlatObject(utils$4,{},null,function($){return/^is[A-Z]/.test($)});function toFormData(b,$,_e){if(!utils$4.isObject(b))throw new TypeError("target must be an object");$=$||new FormData,_e=utils$4.toFlatObject(_e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ht,ft){return!utils$4.isUndefined(ft[ht])});const et=_e.metaTokens,tt=_e.visitor||lt,nt=_e.dots,rt=_e.indexes,st=(_e.Blob||typeof Blob<"u"&&Blob)&&utils$4.isSpecCompliantForm($);if(!utils$4.isFunction(tt))throw new TypeError("visitor must be a function");function ct(dt){if(dt===null)return"";if(utils$4.isDate(dt))return dt.toISOString();if(!st&&utils$4.isBlob(dt))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$4.isArrayBuffer(dt)||utils$4.isTypedArray(dt)?st&&typeof Blob=="function"?new Blob([dt]):Buffer.from(dt):dt}function lt(dt,ht,ft){let pt=dt;if(dt&&!ft&&typeof dt=="object"){if(utils$4.endsWith(ht,"{}"))ht=et?ht:ht.slice(0,-2),dt=JSON.stringify(dt);else if(utils$4.isArray(dt)&&isFlatArray(dt)||(utils$4.isFileList(dt)||utils$4.endsWith(ht,"[]"))&&(pt=utils$4.toArray(dt)))return ht=removeBrackets(ht),pt.forEach(function(gt,vt){!(utils$4.isUndefined(gt)||gt===null)&&$.append(rt===!0?renderKey([ht],vt,nt):rt===null?ht:ht+"[]",ct(gt))}),!1}return isVisitable(dt)?!0:($.append(renderKey(ft,ht,nt),ct(dt)),!1)}const at=[],it=Object.assign(predicates,{defaultVisitor:lt,convertValue:ct,isVisitable});function ut(dt,ht){if(!utils$4.isUndefined(dt)){if(at.indexOf(dt)!==-1)throw Error("Circular reference detected in "+ht.join("."));at.push(dt),utils$4.forEach(dt,function(pt,mt){(!(utils$4.isUndefined(pt)||pt===null)&&tt.call($,pt,utils$4.isString(mt)?mt.trim():mt,ht,it))===!0&&ut(pt,ht?ht.concat(mt):[mt])}),at.pop()}}if(!utils$4.isObject(b))throw new TypeError("data must be an object");return ut(b),$}function encode$1(b){const $={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(b).replace(/[!'()~]|%20|%00/g,function(et){return $[et]})}function AxiosURLSearchParams(b,$){this._pairs=[],b&&toFormData(b,this,$)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function($,_e){this._pairs.push([$,_e])};prototype.toString=function($){const _e=$?function(et){return $.call(this,et,encode$1)}:encode$1;return this._pairs.map(function(tt){return _e(tt[0])+"="+_e(tt[1])},"").join("&")};function encode(b){return encodeURIComponent(b).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(b,$,_e){if(!$)return b;const et=_e&&_e.encode||encode,tt=_e&&_e.serialize;let nt;if(tt?nt=tt($,_e):nt=utils$4.isURLSearchParams($)?$.toString():new AxiosURLSearchParams($,_e).toString(et),nt){const rt=b.indexOf("#");rt!==-1&&(b=b.slice(0,rt)),b+=(b.indexOf("?")===-1?"?":"&")+nt}return b}class InterceptorManager{constructor(){this.handlers=[]}use($,_e,et){return this.handlers.push({fulfilled:$,rejected:_e,synchronous:et?et.synchronous:!1,runWhen:et?et.runWhen:null}),this.handlers.length-1}eject($){this.handlers[$]&&(this.handlers[$]=null)}clear(){this.handlers&&(this.handlers=[])}forEach($){utils$4.forEach(this.handlers,function(et){et!==null&&$(et)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$2={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(b=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(b)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils$3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,origin},Symbol.toStringTag,{value:"Module"})),platform$1={...utils$3,...platform$2};function toURLEncodedForm(b,$){return toFormData(b,new platform$1.classes.URLSearchParams,Object.assign({visitor:function(_e,et,tt,nt){return platform$1.isNode&&utils$4.isBuffer(_e)?(this.append(et,_e.toString("base64")),!1):nt.defaultVisitor.apply(this,arguments)}},$))}function parsePropPath(b){return utils$4.matchAll(/\w+|\[(\w*)]/g,b).map($=>$[0]==="[]"?"":$[1]||$[0])}function arrayToObject(b){const $={},_e=Object.keys(b);let et;const tt=_e.length;let nt;for(et=0;et<tt;et++)nt=_e[et],$[nt]=b[nt];return $}function formDataToJSON(b){function $(_e,et,tt,nt){let rt=_e[nt++];if(rt==="__proto__")return!0;const ot=Number.isFinite(+rt),st=nt>=_e.length;return rt=!rt&&utils$4.isArray(tt)?tt.length:rt,st?(utils$4.hasOwnProp(tt,rt)?tt[rt]=[tt[rt],et]:tt[rt]=et,!ot):((!tt[rt]||!utils$4.isObject(tt[rt]))&&(tt[rt]=[]),$(_e,et,tt[rt],nt)&&utils$4.isArray(tt[rt])&&(tt[rt]=arrayToObject(tt[rt])),!ot)}if(utils$4.isFormData(b)&&utils$4.isFunction(b.entries)){const _e={};return utils$4.forEachEntry(b,(et,tt)=>{$(parsePropPath(et),tt,_e,0)}),_e}return null}function stringifySafely(b,$,_e){if(utils$4.isString(b))try{return($||JSON.parse)(b),utils$4.trim(b)}catch(et){if(et.name!=="SyntaxError")throw et}return(_e||JSON.stringify)(b)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function($,_e){const et=_e.getContentType()||"",tt=et.indexOf("application/json")>-1,nt=utils$4.isObject($);if(nt&&utils$4.isHTMLForm($)&&($=new FormData($)),utils$4.isFormData($))return tt?JSON.stringify(formDataToJSON($)):$;if(utils$4.isArrayBuffer($)||utils$4.isBuffer($)||utils$4.isStream($)||utils$4.isFile($)||utils$4.isBlob($)||utils$4.isReadableStream($))return $;if(utils$4.isArrayBufferView($))return $.buffer;if(utils$4.isURLSearchParams($))return _e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),$.toString();let ot;if(nt){if(et.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm($,this.formSerializer).toString();if((ot=utils$4.isFileList($))||et.indexOf("multipart/form-data")>-1){const st=this.env&&this.env.FormData;return toFormData(ot?{"files[]":$}:$,st&&new st,this.formSerializer)}}return nt||tt?(_e.setContentType("application/json",!1),stringifySafely($)):$}],transformResponse:[function($){const _e=this.transitional||defaults$1.transitional,et=_e&&_e.forcedJSONParsing,tt=this.responseType==="json";if(utils$4.isResponse($)||utils$4.isReadableStream($))return $;if($&&utils$4.isString($)&&(et&&!this.responseType||tt)){const rt=!(_e&&_e.silentJSONParsing)&&tt;try{return JSON.parse($)}catch(ot){if(rt)throw ot.name==="SyntaxError"?AxiosError.from(ot,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):ot}}return $}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform$1.classes.FormData,Blob:platform$1.classes.Blob},validateStatus:function($){return $>=200&&$<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$4.forEach(["delete","get","head","post","put","patch"],b=>{defaults$1.headers[b]={}});const ignoreDuplicateOf=utils$4.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=b=>{const $={};let _e,et,tt;return b&&b.split(`
`).forEach(function(rt){tt=rt.indexOf(":"),_e=rt.substring(0,tt).trim().toLowerCase(),et=rt.substring(tt+1).trim(),!(!_e||$[_e]&&ignoreDuplicateOf[_e])&&(_e==="set-cookie"?$[_e]?$[_e].push(et):$[_e]=[et]:$[_e]=$[_e]?$[_e]+", "+et:et)}),$},$internals=Symbol("internals");function normalizeHeader(b){return b&&String(b).trim().toLowerCase()}function normalizeValue(b){return b===!1||b==null?b:utils$4.isArray(b)?b.map(normalizeValue):String(b)}function parseTokens(b){const $=Object.create(null),_e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let et;for(;et=_e.exec(b);)$[et[1]]=et[2];return $}const isValidHeaderName=b=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(b.trim());function matchHeaderValue(b,$,_e,et,tt){if(utils$4.isFunction(et))return et.call(this,$,_e);if(tt&&($=_e),!!utils$4.isString($)){if(utils$4.isString(et))return $.indexOf(et)!==-1;if(utils$4.isRegExp(et))return et.test($)}}function formatHeader(b){return b.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,($,_e,et)=>_e.toUpperCase()+et)}function buildAccessors(b,$){const _e=utils$4.toCamelCase(" "+$);["get","set","has"].forEach(et=>{Object.defineProperty(b,et+_e,{value:function(tt,nt,rt){return this[et].call(this,$,tt,nt,rt)},configurable:!0})})}class AxiosHeaders{constructor($){$&&this.set($)}set($,_e,et){const tt=this;function nt(ot,st,ct){const lt=normalizeHeader(st);if(!lt)throw new Error("header name must be a non-empty string");const at=utils$4.findKey(tt,lt);(!at||tt[at]===void 0||ct===!0||ct===void 0&&tt[at]!==!1)&&(tt[at||st]=normalizeValue(ot))}const rt=(ot,st)=>utils$4.forEach(ot,(ct,lt)=>nt(ct,lt,st));if(utils$4.isPlainObject($)||$ instanceof this.constructor)rt($,_e);else if(utils$4.isString($)&&($=$.trim())&&!isValidHeaderName($))rt(parseHeaders($),_e);else if(utils$4.isHeaders($))for(const[ot,st]of $.entries())nt(st,ot,et);else $!=null&&nt(_e,$,et);return this}get($,_e){if($=normalizeHeader($),$){const et=utils$4.findKey(this,$);if(et){const tt=this[et];if(!_e)return tt;if(_e===!0)return parseTokens(tt);if(utils$4.isFunction(_e))return _e.call(this,tt,et);if(utils$4.isRegExp(_e))return _e.exec(tt);throw new TypeError("parser must be boolean|regexp|function")}}}has($,_e){if($=normalizeHeader($),$){const et=utils$4.findKey(this,$);return!!(et&&this[et]!==void 0&&(!_e||matchHeaderValue(this,this[et],et,_e)))}return!1}delete($,_e){const et=this;let tt=!1;function nt(rt){if(rt=normalizeHeader(rt),rt){const ot=utils$4.findKey(et,rt);ot&&(!_e||matchHeaderValue(et,et[ot],ot,_e))&&(delete et[ot],tt=!0)}}return utils$4.isArray($)?$.forEach(nt):nt($),tt}clear($){const _e=Object.keys(this);let et=_e.length,tt=!1;for(;et--;){const nt=_e[et];(!$||matchHeaderValue(this,this[nt],nt,$,!0))&&(delete this[nt],tt=!0)}return tt}normalize($){const _e=this,et={};return utils$4.forEach(this,(tt,nt)=>{const rt=utils$4.findKey(et,nt);if(rt){_e[rt]=normalizeValue(tt),delete _e[nt];return}const ot=$?formatHeader(nt):String(nt).trim();ot!==nt&&delete _e[nt],_e[ot]=normalizeValue(tt),et[ot]=!0}),this}concat(...$){return this.constructor.concat(this,...$)}toJSON($){const _e=Object.create(null);return utils$4.forEach(this,(et,tt)=>{et!=null&&et!==!1&&(_e[tt]=$&&utils$4.isArray(et)?et.join(", "):et)}),_e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([$,_e])=>$+": "+_e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from($){return $ instanceof this?$:new this($)}static concat($,..._e){const et=new this($);return _e.forEach(tt=>et.set(tt)),et}static accessor($){const et=(this[$internals]=this[$internals]={accessors:{}}).accessors,tt=this.prototype;function nt(rt){const ot=normalizeHeader(rt);et[ot]||(buildAccessors(tt,rt),et[ot]=!0)}return utils$4.isArray($)?$.forEach(nt):nt($),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$4.reduceDescriptors(AxiosHeaders.prototype,({value:b},$)=>{let _e=$[0].toUpperCase()+$.slice(1);return{get:()=>b,set(et){this[_e]=et}}});utils$4.freezeMethods(AxiosHeaders);function transformData(b,$){const _e=this||defaults$1,et=$||_e,tt=AxiosHeaders.from(et.headers);let nt=et.data;return utils$4.forEach(b,function(ot){nt=ot.call(_e,nt,tt.normalize(),$?$.status:void 0)}),tt.normalize(),nt}function isCancel(b){return!!(b&&b.__CANCEL__)}function CanceledError(b,$,_e){AxiosError.call(this,b??"canceled",AxiosError.ERR_CANCELED,$,_e),this.name="CanceledError"}utils$4.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(b,$,_e){const et=_e.config.validateStatus;!_e.status||!et||et(_e.status)?b(_e):$(new AxiosError("Request failed with status code "+_e.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(_e.status/100)-4],_e.config,_e.request,_e))}function parseProtocol(b){const $=/^([-+\w]{1,25})(:?\/\/|:)/.exec(b);return $&&$[1]||""}function speedometer(b,$){b=b||10;const _e=new Array(b),et=new Array(b);let tt=0,nt=0,rt;return $=$!==void 0?$:1e3,function(st){const ct=Date.now(),lt=et[nt];rt||(rt=ct),_e[tt]=st,et[tt]=ct;let at=nt,it=0;for(;at!==tt;)it+=_e[at++],at=at%b;if(tt=(tt+1)%b,tt===nt&&(nt=(nt+1)%b),ct-rt<$)return;const ut=lt&&ct-lt;return ut?Math.round(it*1e3/ut):void 0}}function throttle(b,$){let _e=0;const et=1e3/$;let tt=null;return function(){const rt=this===!0,ot=Date.now();if(rt||ot-_e>et)return tt&&(clearTimeout(tt),tt=null),_e=ot,b.apply(null,arguments);tt||(tt=setTimeout(()=>(tt=null,_e=Date.now(),b.apply(null,arguments)),et-(ot-_e)))}}const progressEventReducer=(b,$,_e=3)=>{let et=0;const tt=speedometer(50,250);return throttle(nt=>{const rt=nt.loaded,ot=nt.lengthComputable?nt.total:void 0,st=rt-et,ct=tt(st),lt=rt<=ot;et=rt;const at={loaded:rt,total:ot,progress:ot?rt/ot:void 0,bytes:st,rate:ct||void 0,estimated:ct&&ot&&lt?(ot-rt)/ct:void 0,event:nt,lengthComputable:ot!=null};at[$?"download":"upload"]=!0,b(at)},_e)},isURLSameOrigin=platform$1.hasStandardBrowserEnv?function(){const $=/(msie|trident)/i.test(navigator.userAgent),_e=document.createElement("a");let et;function tt(nt){let rt=nt;return $&&(_e.setAttribute("href",rt),rt=_e.href),_e.setAttribute("href",rt),{href:_e.href,protocol:_e.protocol?_e.protocol.replace(/:$/,""):"",host:_e.host,search:_e.search?_e.search.replace(/^\?/,""):"",hash:_e.hash?_e.hash.replace(/^#/,""):"",hostname:_e.hostname,port:_e.port,pathname:_e.pathname.charAt(0)==="/"?_e.pathname:"/"+_e.pathname}}return et=tt(window.location.href),function(rt){const ot=utils$4.isString(rt)?tt(rt):rt;return ot.protocol===et.protocol&&ot.host===et.host}}():function(){return function(){return!0}}(),cookies=platform$1.hasStandardBrowserEnv?{write(b,$,_e,et,tt,nt){const rt=[b+"="+encodeURIComponent($)];utils$4.isNumber(_e)&&rt.push("expires="+new Date(_e).toGMTString()),utils$4.isString(et)&&rt.push("path="+et),utils$4.isString(tt)&&rt.push("domain="+tt),nt===!0&&rt.push("secure"),document.cookie=rt.join("; ")},read(b){const $=document.cookie.match(new RegExp("(^|;\\s*)("+b+")=([^;]*)"));return $?decodeURIComponent($[3]):null},remove(b){this.write(b,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(b){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(b)}function combineURLs(b,$){return $?b.replace(/\/?\/$/,"")+"/"+$.replace(/^\/+/,""):b}function buildFullPath(b,$){return b&&!isAbsoluteURL($)?combineURLs(b,$):$}const headersToObject=b=>b instanceof AxiosHeaders?{...b}:b;function mergeConfig(b,$){$=$||{};const _e={};function et(ct,lt,at){return utils$4.isPlainObject(ct)&&utils$4.isPlainObject(lt)?utils$4.merge.call({caseless:at},ct,lt):utils$4.isPlainObject(lt)?utils$4.merge({},lt):utils$4.isArray(lt)?lt.slice():lt}function tt(ct,lt,at){if(utils$4.isUndefined(lt)){if(!utils$4.isUndefined(ct))return et(void 0,ct,at)}else return et(ct,lt,at)}function nt(ct,lt){if(!utils$4.isUndefined(lt))return et(void 0,lt)}function rt(ct,lt){if(utils$4.isUndefined(lt)){if(!utils$4.isUndefined(ct))return et(void 0,ct)}else return et(void 0,lt)}function ot(ct,lt,at){if(at in $)return et(ct,lt);if(at in b)return et(void 0,ct)}const st={url:nt,method:nt,data:nt,baseURL:rt,transformRequest:rt,transformResponse:rt,paramsSerializer:rt,timeout:rt,timeoutMessage:rt,withCredentials:rt,withXSRFToken:rt,adapter:rt,responseType:rt,xsrfCookieName:rt,xsrfHeaderName:rt,onUploadProgress:rt,onDownloadProgress:rt,decompress:rt,maxContentLength:rt,maxBodyLength:rt,beforeRedirect:rt,transport:rt,httpAgent:rt,httpsAgent:rt,cancelToken:rt,socketPath:rt,responseEncoding:rt,validateStatus:ot,headers:(ct,lt)=>tt(headersToObject(ct),headersToObject(lt),!0)};return utils$4.forEach(Object.keys(Object.assign({},b,$)),function(lt){const at=st[lt]||tt,it=at(b[lt],$[lt],lt);utils$4.isUndefined(it)&&at!==ot||(_e[lt]=it)}),_e}const resolveConfig=b=>{const $=mergeConfig({},b);let{data:_e,withXSRFToken:et,xsrfHeaderName:tt,xsrfCookieName:nt,headers:rt,auth:ot}=$;$.headers=rt=AxiosHeaders.from(rt),$.url=buildURL(buildFullPath($.baseURL,$.url),b.params,b.paramsSerializer),ot&&rt.set("Authorization","Basic "+btoa((ot.username||"")+":"+(ot.password?unescape(encodeURIComponent(ot.password)):"")));let st;if(utils$4.isFormData(_e)){if(platform$1.hasStandardBrowserEnv||platform$1.hasStandardBrowserWebWorkerEnv)rt.setContentType(void 0);else if((st=rt.getContentType())!==!1){const[ct,...lt]=st?st.split(";").map(at=>at.trim()).filter(Boolean):[];rt.setContentType([ct||"multipart/form-data",...lt].join("; "))}}if(platform$1.hasStandardBrowserEnv&&(et&&utils$4.isFunction(et)&&(et=et($)),et||et!==!1&&isURLSameOrigin($.url))){const ct=tt&&nt&&cookies.read(nt);ct&&rt.set(tt,ct)}return $},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(b){return new Promise(function(_e,et){const tt=resolveConfig(b);let nt=tt.data;const rt=AxiosHeaders.from(tt.headers).normalize();let{responseType:ot}=tt,st;function ct(){tt.cancelToken&&tt.cancelToken.unsubscribe(st),tt.signal&&tt.signal.removeEventListener("abort",st)}let lt=new XMLHttpRequest;lt.open(tt.method.toUpperCase(),tt.url,!0),lt.timeout=tt.timeout;function at(){if(!lt)return;const ut=AxiosHeaders.from("getAllResponseHeaders"in lt&&lt.getAllResponseHeaders()),ht={data:!ot||ot==="text"||ot==="json"?lt.responseText:lt.response,status:lt.status,statusText:lt.statusText,headers:ut,config:b,request:lt};settle(function(pt){_e(pt),ct()},function(pt){et(pt),ct()},ht),lt=null}"onloadend"in lt?lt.onloadend=at:lt.onreadystatechange=function(){!lt||lt.readyState!==4||lt.status===0&&!(lt.responseURL&&lt.responseURL.indexOf("file:")===0)||setTimeout(at)},lt.onabort=function(){lt&&(et(new AxiosError("Request aborted",AxiosError.ECONNABORTED,tt,lt)),lt=null)},lt.onerror=function(){et(new AxiosError("Network Error",AxiosError.ERR_NETWORK,tt,lt)),lt=null},lt.ontimeout=function(){let dt=tt.timeout?"timeout of "+tt.timeout+"ms exceeded":"timeout exceeded";const ht=tt.transitional||transitionalDefaults;tt.timeoutErrorMessage&&(dt=tt.timeoutErrorMessage),et(new AxiosError(dt,ht.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,tt,lt)),lt=null},nt===void 0&&rt.setContentType(null),"setRequestHeader"in lt&&utils$4.forEach(rt.toJSON(),function(dt,ht){lt.setRequestHeader(ht,dt)}),utils$4.isUndefined(tt.withCredentials)||(lt.withCredentials=!!tt.withCredentials),ot&&ot!=="json"&&(lt.responseType=tt.responseType),typeof tt.onDownloadProgress=="function"&&lt.addEventListener("progress",progressEventReducer(tt.onDownloadProgress,!0)),typeof tt.onUploadProgress=="function"&&lt.upload&&lt.upload.addEventListener("progress",progressEventReducer(tt.onUploadProgress)),(tt.cancelToken||tt.signal)&&(st=ut=>{lt&&(et(!ut||ut.type?new CanceledError(null,b,lt):ut),lt.abort(),lt=null)},tt.cancelToken&&tt.cancelToken.subscribe(st),tt.signal&&(tt.signal.aborted?st():tt.signal.addEventListener("abort",st)));const it=parseProtocol(tt.url);if(it&&platform$1.protocols.indexOf(it)===-1){et(new AxiosError("Unsupported protocol "+it+":",AxiosError.ERR_BAD_REQUEST,b));return}lt.send(nt||null)})},composeSignals=(b,$)=>{let _e=new AbortController,et;const tt=function(st){if(!et){et=!0,rt();const ct=st instanceof Error?st:this.reason;_e.abort(ct instanceof AxiosError?ct:new CanceledError(ct instanceof Error?ct.message:ct))}};let nt=$&&setTimeout(()=>{tt(new AxiosError(`timeout ${$} of ms exceeded`,AxiosError.ETIMEDOUT))},$);const rt=()=>{b&&(nt&&clearTimeout(nt),nt=null,b.forEach(st=>{st&&(st.removeEventListener?st.removeEventListener("abort",tt):st.unsubscribe(tt))}),b=null)};b.forEach(st=>st&&st.addEventListener&&st.addEventListener("abort",tt));const{signal:ot}=_e;return ot.unsubscribe=rt,[ot,()=>{nt&&clearTimeout(nt),nt=null}]},streamChunk=function*(b,$){let _e=b.byteLength;if(!$||_e<$){yield b;return}let et=0,tt;for(;et<_e;)tt=et+$,yield b.slice(et,tt),et=tt},readBytes=async function*(b,$,_e){for await(const et of b)yield*streamChunk(ArrayBuffer.isView(et)?et:await _e(String(et)),$)},trackStream=(b,$,_e,et,tt)=>{const nt=readBytes(b,$,tt);let rt=0;return new ReadableStream({type:"bytes",async pull(ot){const{done:st,value:ct}=await nt.next();if(st){ot.close(),et();return}let lt=ct.byteLength;_e&&_e(rt+=lt),ot.enqueue(new Uint8Array(ct))},cancel(ot){return et(ot),nt.return()}},{highWaterMark:2})},fetchProgressDecorator=(b,$)=>{const _e=b!=null;return et=>setTimeout(()=>$({lengthComputable:_e,total:b,loaded:et}))},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(b=>$=>b.encode($))(new TextEncoder):async b=>new Uint8Array(await new Response(b).arrayBuffer())),supportsRequestStream=isReadableStreamSupported&&(()=>{let b=!1;const $=new Request(platform$1.origin,{body:new ReadableStream,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!$})(),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&!!(()=>{try{return utils$4.isReadableStream(new Response("").body)}catch{}})(),resolvers={stream:supportsResponseStream&&(b=>b.body)};isFetchSupported&&(b=>{["text","arrayBuffer","blob","formData","stream"].forEach($=>{!resolvers[$]&&(resolvers[$]=utils$4.isFunction(b[$])?_e=>_e[$]():(_e,et)=>{throw new AxiosError(`Response type '${$}' is not supported`,AxiosError.ERR_NOT_SUPPORT,et)})})})(new Response);const getBodyLength=async b=>{if(b==null)return 0;if(utils$4.isBlob(b))return b.size;if(utils$4.isSpecCompliantForm(b))return(await new Request(b).arrayBuffer()).byteLength;if(utils$4.isArrayBufferView(b))return b.byteLength;if(utils$4.isURLSearchParams(b)&&(b=b+""),utils$4.isString(b))return(await encodeText(b)).byteLength},resolveBodyLength=async(b,$)=>{const _e=utils$4.toFiniteNumber(b.getContentLength());return _e??getBodyLength($)},fetchAdapter=isFetchSupported&&(async b=>{let{url:$,method:_e,data:et,signal:tt,cancelToken:nt,timeout:rt,onDownloadProgress:ot,onUploadProgress:st,responseType:ct,headers:lt,withCredentials:at="same-origin",fetchOptions:it}=resolveConfig(b);ct=ct?(ct+"").toLowerCase():"text";let[ut,dt]=tt||nt||rt?composeSignals([tt,nt],rt):[],ht,ft;const pt=()=>{!ht&&setTimeout(()=>{ut&&ut.unsubscribe()}),ht=!0};let mt;try{if(st&&supportsRequestStream&&_e!=="get"&&_e!=="head"&&(mt=await resolveBodyLength(lt,et))!==0){let bt=new Request($,{method:"POST",body:et,duplex:"half"}),xt;utils$4.isFormData(et)&&(xt=bt.headers.get("content-type"))&&lt.setContentType(xt),bt.body&&(et=trackStream(bt.body,DEFAULT_CHUNK_SIZE,fetchProgressDecorator(mt,progressEventReducer(st)),null,encodeText))}utils$4.isString(at)||(at=at?"cors":"omit"),ft=new Request($,{...it,signal:ut,method:_e.toUpperCase(),headers:lt.normalize().toJSON(),body:et,duplex:"half",withCredentials:at});let gt=await fetch(ft);const vt=supportsResponseStream&&(ct==="stream"||ct==="response");if(supportsResponseStream&&(ot||vt)){const bt={};["status","statusText","headers"].forEach(_t=>{bt[_t]=gt[_t]});const xt=utils$4.toFiniteNumber(gt.headers.get("content-length"));gt=new Response(trackStream(gt.body,DEFAULT_CHUNK_SIZE,ot&&fetchProgressDecorator(xt,progressEventReducer(ot,!0)),vt&&pt,encodeText),bt)}ct=ct||"text";let yt=await resolvers[utils$4.findKey(resolvers,ct)||"text"](gt,b);return!vt&&pt(),dt&&dt(),await new Promise((bt,xt)=>{settle(bt,xt,{data:yt,headers:AxiosHeaders.from(gt.headers),status:gt.status,statusText:gt.statusText,config:b,request:ft})})}catch(gt){throw pt(),gt&&gt.name==="TypeError"&&/fetch/i.test(gt.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,b,ft),{cause:gt.cause||gt}):AxiosError.from(gt,gt&&gt.code,b,ft)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$4.forEach(knownAdapters,(b,$)=>{if(b){try{Object.defineProperty(b,"name",{value:$})}catch{}Object.defineProperty(b,"adapterName",{value:$})}});const renderReason=b=>`- ${b}`,isResolvedHandle=b=>utils$4.isFunction(b)||b===null||b===!1,adapters={getAdapter:b=>{b=utils$4.isArray(b)?b:[b];const{length:$}=b;let _e,et;const tt={};for(let nt=0;nt<$;nt++){_e=b[nt];let rt;if(et=_e,!isResolvedHandle(_e)&&(et=knownAdapters[(rt=String(_e)).toLowerCase()],et===void 0))throw new AxiosError(`Unknown adapter '${rt}'`);if(et)break;tt[rt||"#"+nt]=et}if(!et){const nt=Object.entries(tt).map(([ot,st])=>`adapter ${ot} `+(st===!1?"is not supported by the environment":"is not available in the build"));let rt=$?nt.length>1?`since :
`+nt.map(renderReason).join(`
`):" "+renderReason(nt[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+rt,"ERR_NOT_SUPPORT")}return et},adapters:knownAdapters};function throwIfCancellationRequested(b){if(b.cancelToken&&b.cancelToken.throwIfRequested(),b.signal&&b.signal.aborted)throw new CanceledError(null,b)}function dispatchRequest(b){return throwIfCancellationRequested(b),b.headers=AxiosHeaders.from(b.headers),b.data=transformData.call(b,b.transformRequest),["post","put","patch"].indexOf(b.method)!==-1&&b.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(b.adapter||defaults$1.adapter)(b).then(function(et){return throwIfCancellationRequested(b),et.data=transformData.call(b,b.transformResponse,et),et.headers=AxiosHeaders.from(et.headers),et},function(et){return isCancel(et)||(throwIfCancellationRequested(b),et&&et.response&&(et.response.data=transformData.call(b,b.transformResponse,et.response),et.response.headers=AxiosHeaders.from(et.response.headers))),Promise.reject(et)})}const VERSION="1.7.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((b,$)=>{validators$1[b]=function(et){return typeof et===b||"a"+($<1?"n ":" ")+b}});const deprecatedWarnings={};validators$1.transitional=function($,_e,et){function tt(nt,rt){return"[Axios v"+VERSION+"] Transitional option '"+nt+"'"+rt+(et?". "+et:"")}return(nt,rt,ot)=>{if($===!1)throw new AxiosError(tt(rt," has been removed"+(_e?" in "+_e:"")),AxiosError.ERR_DEPRECATED);return _e&&!deprecatedWarnings[rt]&&(deprecatedWarnings[rt]=!0,console.warn(tt(rt," has been deprecated since v"+_e+" and will be removed in the near future"))),$?$(nt,rt,ot):!0}};function assertOptions(b,$,_e){if(typeof b!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const et=Object.keys(b);let tt=et.length;for(;tt-- >0;){const nt=et[tt],rt=$[nt];if(rt){const ot=b[nt],st=ot===void 0||rt(ot,nt,b);if(st!==!0)throw new AxiosError("option "+nt+" must be "+st,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(_e!==!0)throw new AxiosError("Unknown option "+nt,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor($){this.defaults=$,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request($,_e){try{return await this._request($,_e)}catch(et){if(et instanceof Error){let tt;Error.captureStackTrace?Error.captureStackTrace(tt={}):tt=new Error;const nt=tt.stack?tt.stack.replace(/^.+\n/,""):"";try{et.stack?nt&&!String(et.stack).endsWith(nt.replace(/^.+\n.+\n/,""))&&(et.stack+=`
`+nt):et.stack=nt}catch{}}throw et}}_request($,_e){typeof $=="string"?(_e=_e||{},_e.url=$):_e=$||{},_e=mergeConfig(this.defaults,_e);const{transitional:et,paramsSerializer:tt,headers:nt}=_e;et!==void 0&&validator.assertOptions(et,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),tt!=null&&(utils$4.isFunction(tt)?_e.paramsSerializer={serialize:tt}:validator.assertOptions(tt,{encode:validators.function,serialize:validators.function},!0)),_e.method=(_e.method||this.defaults.method||"get").toLowerCase();let rt=nt&&utils$4.merge(nt.common,nt[_e.method]);nt&&utils$4.forEach(["delete","get","head","post","put","patch","common"],dt=>{delete nt[dt]}),_e.headers=AxiosHeaders.concat(rt,nt);const ot=[];let st=!0;this.interceptors.request.forEach(function(ht){typeof ht.runWhen=="function"&&ht.runWhen(_e)===!1||(st=st&&ht.synchronous,ot.unshift(ht.fulfilled,ht.rejected))});const ct=[];this.interceptors.response.forEach(function(ht){ct.push(ht.fulfilled,ht.rejected)});let lt,at=0,it;if(!st){const dt=[dispatchRequest.bind(this),void 0];for(dt.unshift.apply(dt,ot),dt.push.apply(dt,ct),it=dt.length,lt=Promise.resolve(_e);at<it;)lt=lt.then(dt[at++],dt[at++]);return lt}it=ot.length;let ut=_e;for(at=0;at<it;){const dt=ot[at++],ht=ot[at++];try{ut=dt(ut)}catch(ft){ht.call(this,ft);break}}try{lt=dispatchRequest.call(this,ut)}catch(dt){return Promise.reject(dt)}for(at=0,it=ct.length;at<it;)lt=lt.then(ct[at++],ct[at++]);return lt}getUri($){$=mergeConfig(this.defaults,$);const _e=buildFullPath($.baseURL,$.url);return buildURL(_e,$.params,$.paramsSerializer)}}utils$4.forEach(["delete","get","head","options"],function($){Axios.prototype[$]=function(_e,et){return this.request(mergeConfig(et||{},{method:$,url:_e,data:(et||{}).data}))}});utils$4.forEach(["post","put","patch"],function($){function _e(et){return function(nt,rt,ot){return this.request(mergeConfig(ot||{},{method:$,headers:et?{"Content-Type":"multipart/form-data"}:{},url:nt,data:rt}))}}Axios.prototype[$]=_e(),Axios.prototype[$+"Form"]=_e(!0)});class CancelToken{constructor($){if(typeof $!="function")throw new TypeError("executor must be a function.");let _e;this.promise=new Promise(function(nt){_e=nt});const et=this;this.promise.then(tt=>{if(!et._listeners)return;let nt=et._listeners.length;for(;nt-- >0;)et._listeners[nt](tt);et._listeners=null}),this.promise.then=tt=>{let nt;const rt=new Promise(ot=>{et.subscribe(ot),nt=ot}).then(tt);return rt.cancel=function(){et.unsubscribe(nt)},rt},$(function(nt,rt,ot){et.reason||(et.reason=new CanceledError(nt,rt,ot),_e(et.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe($){if(this.reason){$(this.reason);return}this._listeners?this._listeners.push($):this._listeners=[$]}unsubscribe($){if(!this._listeners)return;const _e=this._listeners.indexOf($);_e!==-1&&this._listeners.splice(_e,1)}static source(){let $;return{token:new CancelToken(function(tt){$=tt}),cancel:$}}}function spread(b){return function(_e){return b.apply(null,_e)}}function isAxiosError(b){return utils$4.isObject(b)&&b.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([b,$])=>{HttpStatusCode[$]=b});function createInstance(b){const $=new Axios(b),_e=bind(Axios.prototype.request,$);return utils$4.extend(_e,Axios.prototype,$,{allOwnKeys:!0}),utils$4.extend(_e,$,null,{allOwnKeys:!0}),_e.create=function(tt){return createInstance(mergeConfig(b,tt))},_e}const axios=createInstance(defaults$1);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function($){return Promise.all($)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=b=>formDataToJSON(utils$4.isHTMLForm(b)?new FormData(b):b);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;function useGoogleLogin({clientId:b,scopes:$,usePrompt:_e,loginButtonId:et}){var tt=reactExports.useRef(null);const[nt,rt]=reactExports.useState(null),[ot,st]=reactExports.useState(null),[ct,lt]=reactExports.useState(null);var at=null;function it(bt){var xt=["email"],_t=Array.isArray($)?$:xt;Array.isArray(bt)&&bt.forEach(function(wt){_t.push(wt)}),tt.current=window.google.accounts.oauth2.initTokenClient({client_id:b,prompt:"",scope:_t.join(" "),callback:wt=>{st(wt),localStorage.setItem("google_login_user","1"),wt.expires_in>0&&(clearTimeout(at),at=setTimeout(function(){pt()},wt.expires_in*999))}})}function ut(){tt.current&&tt.current.requestAccessToken()}function dt(){rt(null);try{window.google.accounts.oauth2.revoke(ot.current,()=>{console.log("access token revoked")})}catch{}st(null),localStorage.setItem("google_login_user","")}function ht(){it(),ut()}function ft(){return dt()}function pt(bt){localStorage.getItem("google_login_user")&&setTimeout(function(){it(bt),ut()},1e3)}function mt(bt){lt(bt.credential);var xt=jwtDecode(bt.credential);rt({email:xt.email,family_name:xt.family_name,given_name:xt.given_name,name:xt.name,picture:xt.picture}),localStorage.setItem("google_login_user",xt.email),it(),ut()}function gt(){return new Promise(function(bt,xt){var _t=ot;ot&&ot.access_token&&(_t.access_token="broken",st(_t))})}function vt(bt){return new Promise(function(xt,_t){if(bt){var wt="https://www.googleapis.com/oauth2/v3/userinfo?access_token="+bt.access_token;axios({method:"get",url:wt,headers:{Authorization:"Bearer "+bt.access_token}}).then(function(At){xt(At.data)}).catch(function(At){console.log(At),xt()})}else xt()})}function yt(bt){return new Promise(function(xt,_t){if(bt&&nt&&nt.picture){var wt=nt.picture;axios({method:"get",url:wt,headers:{Authorization:"Bearer "+bt.access_token}}).then(function(At){xt(At.data)}).catch(function(At){console.log(At),xt()})}else xt()})}return reactExports.useEffect(function(){window.onload=function(){window.google.accounts.id.initialize({client_id:b,callback:mt}),window.google.accounts.id.renderButton(document.getElementById(et),{theme:"outline",size:"large"}),_e&&window.google.accounts.id.prompt(),pt()}},[]),reactExports.useEffect(function(){vt(ot).then(function(bt){rt(bt)})},[ot]),{user:nt,token:ot,login:ht,logout:ft,refresh:pt,loadUserImage:yt,breakLoginToken:gt}}function useAudioPlayQueue({forceRefresh:b,onStopPlaying:$,onStartPlaying:_e,onFinishedPlaying:et,onError:tt}){let nt=1,rt=reactExports.useRef(!1);function ot(bt){rt.current=bt}const st=useUtils();let ct=reactExports.useRef({}),lt=reactExports.useRef(),at=reactExports.useRef([]);const[it,ut]=reactExports.useState(!1),dt=reactExports.useRef(!1);function ht(bt){dt.current=bt,ut(bt)}function ft(){ht(!0),lt.current&&(lt.current.volume=0),b()}function pt(){ht(!1),lt.current&&(lt.current.volume=1),b()}function mt(){$&&$(),ot(!1),at.current=[],lt.current&&lt.current.pause()}function gt(bt,xt){return new Promise((_t,wt)=>{try{fetch(bt).then(function(At){At.blob().then(function(Pt){const jt=new FileReader;jt.onloadend=()=>{_t(jt.result,xt)},jt.onerror=wt,jt.readAsDataURL(Pt)}).catch(function(Pt){console.log(Pt)})}).catch(function(At){console.log(At)})}catch(At){console.error("Error:",At),_t(null)}})}const vt=reactExports.useRef();function yt(bt,xt,_t,wt="",At="",Pt=""){let jt=st.stripCodeParts(bt),kt=st.generateRandomId();return at.current.push(kt),new Promise(function(St,Ct){function Et(){if(!rt.current||wt)if(clearTimeout(vt.current),at.current.length>0){let Tt=at.current[0],$t=ct.current[Tt];Tt&&!$t?vt.current=setTimeout(function(){Et()},200):Tt&&$t&&(rt.current=!0,at.current=at.current.slice(1),lt.current.src=$t,lt.current.pause(),lt.current.load(),lt.current.playbackRate=Pt>=.25&&Pt<=2?Pt:nt,setTimeout(function(){_e&&_e(),lt.current.play().catch(function(Ot){console.log(Ot)})},100))}else rt.current=!1,ct.current={},et&&et(),St();else vt.current=setTimeout(function(){Et()},200)}if(dt.current&&St(),lt.current=new Audio,lt.current.playbackRate=Pt>=.25&&Pt<=2?Pt:nt,lt.current.volume=dt.current?0:1,lt.current.addEventListener("canplaythrough",Tt=>{_e&&_e(),lt.current.play().catch(function($t){console.log($t)})}),lt.current.addEventListener("ended",Tt=>{rt.current=!1,Et()}),lt.current.addEventListener("error",Tt=>{rt.current=!1,tt&&tt(Tt),St()}),dt.current)St();else if(jt&&(wt==="self_hosted"||!wt&&xt&&xt.tts&&xt.tts.use==="self_hosted"&&xt.tts.self_hosted_url)){let Tt=xt.tts.self_hosted_url+"/api/tts?text="+jt+"&speaker_id="+(At||(xt.tts&&xt.tts.speaker_id?xt.tts.speaker_id:"p299"))+"&style_wav=&language_id=";gt(Tt,kt).then(function($t){ct.current[kt]=$t,Et()})}else jt&&(wt==="openai"||!wt&&xt&&xt.tts&&xt.tts.use==="openai"&&xt.tts.openai_key)?_t.aiTts.speak(xt.tts.openai_key,jt,At||(xt.tts&&xt.tts.openai_voice?xt.tts.openai_voice:"alloy"),Pt).then(function(Tt){ct.current[kt]=Tt,Et()}):jt&&(wt==="web_speech"||!wt&&xt&&xt.tts&&xt.tts.use==="web_speech")?_t.webSpeechTts.speak(jt).then(function(){St()}):jt&&(wt==="me_speak"||!wt&&xt&&xt.tts&&xt.tts.use==="me_speak")?_t.meSpeakTts.speak(jt).then(function(Tt){ct.current[kt]=Tt,Et()}):St()})}return{mute:ft,unmute:pt,stopPlaying:mt,queueSpeech:yt,getUrl:gt,isPlaying:rt,setIsPlaying:ot,isMuted:it,isMutedRef:dt,urlAudioPlayer:lt}}function useChatHistoryManager({utils:b,forceRefresh:$,doSave:_e,currentRole:et}){const[tt,nt]=reactExports.useState(""),rt=reactExports.useRef("");function ot(wt){rt.current=wt,nt(wt),localStorage.setItem("voice2llm_chat_history_id",wt),_e()}const[st,ct]=reactExports.useState({}),lt=reactExports.useRef({});function at(wt){lt.current=wt,ct(wt),localStorage.setItem("voice2llm_chat_histories",JSON.stringify(wt)),_e()}function it(){if(rt.current&&lt.current)return lt.current[rt.current]}function ut(wt){let At=it();At=At||[],lt.current||(lt.current={}),rt.current||ot(b.generateRandomId()),lt.current[rt.current]||(lt.current[rt.current]=At),wt&&(At.push({role:"user",content:wt}),lt.current[rt.current]=At),at(lt.current),$()}function dt(wt,At,Pt){At&&rt.current&&lt.current&&lt.current[rt.current]&&lt.current[rt.current][wt]&&(lt.current[rt.current][wt].content=At,lt.current[rt.current][wt].log=Pt,at(lt.current),$())}function ht(wt){let At=it();At=At||[],lt.current||(lt.current={}),tt||ot(b.generateRandomId()),lt.current[rt.current]||(lt.current[rt.current]=At),At.push({role:"assistant",content:wt}),lt.current[rt.current]=At,at(lt.current),$()}function ft(wt){let At=it();if(At){let Pt=JSON.parse(JSON.stringify(At)).reverse();for(let jt in Pt)if(jt&&Pt[jt]&&Pt[jt].role===wt)return Pt.length-jt-1}return-1}function pt(wt,At){let Pt=ft("assistant");Pt!==-1?dt(Pt,wt,At):ht(wt)}function mt(wt){let At=ft("user");At!==-1?dt(At,wt):ut(wt)}function gt(){let wt=ft("user"),At=it();if(At&&wt!==-1&&At[wt])return At[wt].content}function vt(){let wt=ft("assistant"),At=it();if(At&&wt!==-1&&At[wt])return At[wt].content}function yt(){it(),ot("")}function bt(wt=null){let At=it(),Pt="";if(At){let jt=0,kt=At.length;for(;At.length>0&&kt-jt>wt;){let St=At.pop();if(jt+=1,St.role==="assistant"){let Ct=At.pop();jt+=1,Pt=Ct.content}else St.role==="user"&&(Pt=St.content)}}return Pt}function xt(wt){delete lt.current[wt],at(lt.current),$()}function _t(wt){if(lt.current[wt]){let At=JSON.parse(JSON.stringify(lt.current[wt]));lt.current[b.generateRandomId()]=At,at(lt.current),$()}}return reactExports.useEffect(function(){try{let wt=localStorage.getItem("voice2llm_chat_history_id"),At=JSON.parse(localStorage.getItem("voice2llm_chat_histories"));at(At),wt&&ot(wt),$()}catch{at({}),$()}},[]),{chatHistoriesRef:lt,chatHistoryId:tt,chatHistoryIdRef:rt,setChatHistoryId:ot,chatHistories:st,setChatHistories:at,currentChatHistory:it,newChatHistory:yt,addUserMessage:ut,addAssistantMessage:ht,setLastAssistantMessage:pt,setLastUserMessage:mt,getLastUserMessage:gt,revertChatHistory:bt,deleteChatHistory:xt,duplicateChatHistory:_t,getLastAssistantChatIndex:ft,getLastAssistantMessage:vt}}function useConfigManager({config:b}){function $(){return"https://emkc.org"}return{codeRunnerEndpoint:$}}function useOpenAiTts({aiUsage:b}){const[$,_e]=reactExports.useState(!1);function et(nt){return new Promise((rt,ot)=>{const st=new FileReader;st.onloadend=()=>rt(st.result),st.onerror=ot,st.readAsDataURL(nt)})}function tt(nt,rt,ot="alloy"){return new Promise(function(st,ct){rt||st(),_e(!0);let lt={model:"tts-1",input:rt,voice:ot};try{fetch("https://api.openai.com/v1/audio/speech",{method:"POST",headers:{Authorization:"Bearer "+nt,"Content-Type":"application/json"},body:JSON.stringify(lt)}).then(function(at){if(!at.ok)throw new Error("Failed to generate audio");b.logTTS({letters:rt.length,key:nt,model:"tts-1"}),at.blob().then(function(it){et(it).then(function(ut){_e(!1),st(ut)})})})}catch(at){console.error("Speech generateion error:",at),st()}})}return{speak:tt}}function useMeSpeakTts({onReady:b}){const[$,_e]=reactExports.useState(!1),[et,tt]=reactExports.useState(!1);function nt(ot,st=1,ct=1,lt=0){}function rt(){}return{isBusy:$,isSpeaking:et,speak:nt,stop:rt}}function useWebSpeechTts({onReady:b,forceRefresh:$}){const[_e,et]=reactExports.useState(!1),[tt,nt]=reactExports.useState(!1),[rt,ot]=reactExports.useState([]);let st="speechSynthesis"in window&&"SpeechSynthesisUtterance"in window,ct=window.speechSynthesis;reactExports.useEffect(function(){st&&ct.getVoices()},[]),ct.addEventListener("voiceschanged",it=>{let ut=ct.getVoices();if(ut&&ut.length>0){let dt=ut.filter(function(ht){return ht.lang==="en"});ot(dt.map(function(ht){return ht?ht.name:""})),$(),b&&b()}});function lt(it,ut=1,dt=1,ht=0){return new Promise(function(ft,pt){if(st){et(!0);let mt=new SpeechSynthesisUtterance(it);mt.voice=ct.getVoices()[ht],mt.pitch=ut,mt.rate=dt,ct.speak(mt),et(!1),nt(!0),mt.addEventListener("end",()=>{nt(!1),ft()}),mt.addEventListener("error",()=>{nt(!1),ft()})}else ft()})}function at(){st&&(nt(!1),ct.cancel())}return{isBusy:_e,isSpeaking:tt,availableVoices:rt,speak:lt,stop:at}}function useOpenAiUsageLogger(){const[b,$]=reactExports.useState([]),_e=useUtils();function et(ht){$(ht),ht.openai_log&&localStorage.setItem("openai_log",JSON.stringify(ht.openai_log)),ht.openai_log_stt&&localStorage.setItem("openai_log_stt",JSON.stringify(ht.openai_log_stt)),ht.openai_log_tts&&localStorage.setItem("openai_log_tts",JSON.stringify(ht.openai_log_tts))}reactExports.useEffect(function(){try{let ht=JSON.parse(localStorage.getItem("openai_log")),ft=JSON.parse(localStorage.getItem("openai_log_stt")),pt=JSON.parse(localStorage.getItem("openai_log_tts"));et({openai_log:ht,openai_log_stt:ft,openai_log_tts:pt})}catch{}},[]);const tt={"---------- OPENAI  -------":{price_in:"0.00",price_out:"0.00"},"gpt-4o":{price_in:"5.00",price_out:"15.00"},"gpt-4-turbo-2024-04-09":{price_in:"10.00",price_out:"30.00"},"gpt-4":{price_in:"30.00",price_out:"60.00"},"gpt-4-32k":{price_in:"60.00",price_out:"120.00"},"gpt-3.5-turbo-0125":{price_in:"0.50",price_out:"1.50"},"gpt-3.5-turbo-instruct":{price_in:"1.50",price_out:"2.00"},"davinci-002":{price_in:"2.00",price_out:"2.00"},"babbage-002":{price_in:"0.40",price_out:"0.40"},"---------- GROQCLOUD  -------":{price_in:"0.00",price_out:"0.00"},"llama3-8b-8192":{price_in:"5.00",price_out:"10.00"},"llama3-70b-8192":{price_in:"5.00",price_out:"10.00"},"mixtral-8x7b-32768":{price_in:"0.00",price_out:"0.00"},"gemma-7b-it":{price_in:"0.00",price_out:"0.00"}};function nt(ht){return .006/60*parseInt(ht)}function rt(ht){return parseInt(ht)/1e6*15}function ot(ht,ft,pt){let mt=0,gt=0,vt=0;return tt&&tt[ht]&&(tt[ht].price_in>0||tt[ht].price_out>0)&&(mt=parseFloat(tt[ht].price_in)*ft/1e6,gt=parseFloat(tt[ht].price_out)*pt/1e6,vt+=mt+gt),{price_in:mt,price_out:gt,total:vt}}const[st,ct]=reactExports.useState({});function lt(ht=null,ft=null){ht&&ht.setUTCHours(0,0,0,0),ft&&ft.setUTCHours(23,59,59,999);let pt=ht?ht.valueOf():0,mt=ft?ft.valueOf():0,gt={},vt={},yt={};return Array.isArray(b.openai_log)&&b.openai_log.forEach(function(bt){let xt=(bt.url?bt.url:"https://api.openai.com")+(bt.key?":::::"+bt.key:"");if(bt&&bt.model&&tt[bt.model]&&(bt.tokens_in>0||bt.tokens_out>0)){let _t=new Date(bt.date).valueOf();if((ft===null||_t<=mt)&&(ht===null||_t>=pt)){gt.hasOwnProperty(xt)||(gt[xt]=[]),vt.hasOwnProperty(xt)||(vt[xt]=[]);let wt=parseFloat(tt[bt.model].price_in)*bt.tokens_in/1e6,At=parseFloat(tt[bt.model].price_out)*bt.tokens_out/1e6;wt===NaN&&(wt=0),At===NaN&&(At=0),gt[xt].push({date:bt.date,tokens_in:bt.tokens_in>0?bt.tokens_in:0,tokens_out:bt.tokens_out>0?bt.tokens_out:0,price_in:wt,price_out:At}),yt.tokens_in=(yt.tokens_in>0?yt.tokens_in:0)+(bt.tokens_in>0?bt.tokens_in:0),yt.tokens_out=(yt.tokens_out>0?yt.tokens_out:0)+(bt.tokens_out>0?bt.tokens_out:0),yt.price_in=(yt.price_in>0?yt.price_in:0)+(bt.price_in>0?bt.price_in:0),yt.price_out=(yt.price_out>0?yt.price_out:0)+(bt.price_out>0?bt.price_out:0),vt[xt].tokens_in=(vt[xt].tokens_in>0?vt[xt].tokens_in:0)+(bt.tokens_in>0?bt.tokens_in:0),vt[xt].tokens_out=(vt[xt].tokens_out>0?vt[xt].tokens_out:0)+(bt.tokens_out>0?bt.tokens_out:0),vt[xt].price_in=(vt[xt].price_in>0?vt[xt].price_in:0)+(bt.price_in>0?bt.price_in:0),vt[xt].price_out=(vt[xt].price_out>0?vt[xt].price_out:0)+(bt.price_out>0?bt.price_out:0)}}}),{logs:gt,grandTotals:yt,tallies:vt}}function at(){let ht=0;try{JSON.parse(localStorage.getItem("openai_log")).map(function(pt){pt&&pt.model&&tt[pt.model]&&(pt.tokens_in>0||pt.tokens_out>0)&&(ht+=parseFloat(tt[pt.model].price_in)*pt.tokens_in/1e6,ht+=parseFloat(tt[pt.model].price_out)*pt.tokens_out/1e6)})}catch{}try{JSON.parse(localStorage.getItem("openai_log_stt")).map(function(pt){pt&&pt.model&&pt.seconds>0&&(ht+=nt(pt.seconds))})}catch{}try{JSON.parse(localStorage.getItem("openai_log")).map(function(pt){pt&&pt.model&&pt.letters>0&&(ht+=rt(pt.letters))})}catch{}return ht.toLocaleString("en-US",{style:"currency",currency:"USD"})}function it({tokens_in:ht,tokens_out:ft,model:pt,key:mt,url:gt}){let vt;try{vt=JSON.parse(localStorage.getItem("openai_log"))}catch{}Array.isArray(vt)||(vt=[]),vt.push({id:_e.generateRandomId(),date:new Date,tokens_in:ht,tokens_out:ft,model:pt,key:mt,url:gt}),b.openai_log=vt,et(b)}function ut({seconds:ht,model:ft,key:pt}){let mt;try{mt=JSON.parse(localStorage.getItem("openai_log_stt"))}catch{}Array.isArray(mt)||(mt=[]),mt.push({id:_e.generateRandomId(),date:new Date,seconds:Math.round(ht),model:ft,key:pt}),b.openai_log_stt=mt,et(b)}function dt({letters:ht,model:ft,key:pt}){let mt;try{mt=JSON.parse(localStorage.getItem("openai_log_tts"))}catch{}Array.isArray(mt)||(mt=[]),mt.push({id:_e.generateRandomId(),date:new Date,letters:ht,model:ft,key:pt}),b.openai_log_tts=mt,et(b)}return{pricing:tt,totals:st,log:it,getTotal:at,logSTT:ut,logTTS:dt,logs:b,setLogs:et,collated:lt,getLlmPrice:ot}}function useNameGenerator(){let b=["Aaren","Aarika","Abagael","Abagail","Abbe","Abbey","Abbi","Abbie","Abby","Abbye","Abigael","Abigail","Abigale","Abra","Ada","Adah","Adaline","Adan","Adara","Adda","Addi","Addia","Addie","Addy","Adel","Adela","Adelaida","Adelaide","Adele","Adelheid","Adelice","Adelina","Adelind","Adeline","Adella","Adelle","Adena","Adey","Adi","Adiana","Adina","Adora","Adore","Adoree","Adorne","Adrea","Adria","Adriaens","Adrian","Adriana","Adriane","Adrianna","Adrianne","Adriena","Adrienne","Aeriel","Aeriela","Aeriell","Afton","Ag","Agace","Agata","Agatha","Agathe","Aggi","Aggie","Aggy","Agna","Agnella","Agnes","Agnese","Agnesse","Agneta","Agnola","Agretha","Aida","Aidan","Aigneis","Aila","Aile","Ailee","Aileen","Ailene","Ailey","Aili","Ailina","Ailis","Ailsun","Ailyn","Aime","Aimee","Aimil","Aindrea","Ainslee","Ainsley","Ainslie","Ajay","Alaine","Alameda","Alana","Alanah","Alane","Alanna","Alayne","Alberta","Albertina","Albertine","Albina","Alecia","Aleda","Aleece","Aleen","Alejandra","Alejandrina","Alena","Alene","Alessandra","Aleta","Alethea","Alex","Alexa","Alexandra","Alexandrina","Alexi","Alexia","Alexina","Alexine","Alexis","Alfi","Alfie","Alfreda","Alfy","Ali","Alia","Alica","Alice","Alicea","Alicia","Alida","Alidia","Alie","Alika","Alikee","Alina","Aline","Alis","Alisa","Alisha","Alison","Alissa","Alisun","Alix","Aliza","Alla","Alleen","Allegra","Allene","Alli","Allianora","Allie","Allina","Allis","Allison","Allissa","Allix","Allsun","Allx","Ally","Allyce","Allyn","Allys","Allyson","Alma","Almeda","Almeria","Almeta","Almira","Almire","Aloise","Aloisia","Aloysia","Alta","Althea","Alvera","Alverta","Alvina","Alvinia","Alvira","Alyce","Alyda","Alys","Alysa","Alyse","Alysia","Alyson","Alyss","Alyssa","Amabel","Amabelle","Amalea","Amalee","Amaleta","Amalia","Amalie","Amalita","Amalle","Amanda","Amandi","Amandie","Amandy","Amara","Amargo","Amata","Amber","Amberly","Ambur","Ame","Amelia","Amelie","Amelina","Ameline","Amelita","Ami","Amie","Amii","Amil","Amitie","Amity","Ammamaria","Amy","Amye","Ana","Anabal","Anabel","Anabella","Anabelle","Analiese","Analise","Anallese","Anallise","Anastasia","Anastasie","Anastassia","Anatola","Andee","Andeee","Anderea","Andi","Andie","Andra","Andrea","Andreana","Andree","Andrei","Andria","Andriana","Andriette","Andromache","Andy","Anestassia","Anet","Anett","Anetta","Anette","Ange","Angel","Angela","Angele","Angelia","Angelica","Angelika","Angelina","Angeline","Angelique","Angelita","Angelle","Angie","Angil","Angy","Ania","Anica","Anissa","Anita","Anitra","Anjanette","Anjela","Ann","Ann-Marie","Anna","Anna-Diana","Anna-Diane","Anna-Maria","Annabal","Annabel","Annabela","Annabell","Annabella","Annabelle","Annadiana","Annadiane","Annalee","Annaliese","Annalise","Annamaria","Annamarie","Anne","Anne-Corinne","Anne-Marie","Annecorinne","Anneliese","Annelise","Annemarie","Annetta","Annette","Anni","Annice","Annie","Annis","Annissa","Annmaria","Annmarie","Annnora","Annora","Anny","Anselma","Ansley","Anstice","Anthe","Anthea","Anthia","Anthiathia","Antoinette","Antonella","Antonetta","Antonia","Antonie","Antonietta","Antonina","Anya","Appolonia","April","Aprilette","Ara","Arabel","Arabela","Arabele","Arabella","Arabelle","Arda","Ardath","Ardeen","Ardelia","Ardelis","Ardella","Ardelle","Arden","Ardene","Ardenia","Ardine","Ardis","Ardisj","Ardith","Ardra","Ardyce","Ardys","Ardyth","Aretha","Ariadne","Ariana","Aridatha","Ariel","Ariela","Ariella","Arielle","Arlana","Arlee","Arleen","Arlen","Arlena","Arlene","Arleta","Arlette","Arleyne","Arlie","Arliene","Arlina","Arlinda","Arline","Arluene","Arly","Arlyn","Arlyne","Aryn","Ashely","Ashia","Ashien","Ashil","Ashla","Ashlan","Ashlee","Ashleigh","Ashlen","Ashley","Ashli","Ashlie","Ashly","Asia","Astra","Astrid","Astrix","Atalanta","Athena","Athene","Atlanta","Atlante","Auberta","Aubine","Aubree","Aubrette","Aubrey","Aubrie","Aubry","Audi","Audie","Audra","Audre","Audrey","Audrie","Audry","Audrye","Audy","Augusta","Auguste","Augustina","Augustine","Aundrea","Aura","Aurea","Aurel","Aurelea","Aurelia","Aurelie","Auria","Aurie","Aurilia","Aurlie","Auroora","Aurora","Aurore","Austin","Austina","Austine","Ava","Aveline","Averil","Averyl","Avie","Avis","Aviva","Avivah","Avril","Avrit","Ayn","Bab","Babara","Babb","Babbette","Babbie","Babette","Babita","Babs","Bambi","Bambie","Bamby","Barb","Barbabra","Barbara","Barbara-Anne","Barbaraanne","Barbe","Barbee","Barbette","Barbey","Barbi","Barbie","Barbra","Barby","Bari","Barrie","Barry","Basia","Bathsheba","Batsheva","Bea","Beatrice","Beatrisa","Beatrix","Beatriz","Bebe","Becca","Becka","Becki","Beckie","Becky","Bee","Beilul","Beitris","Bekki","Bel","Belia","Belicia","Belinda","Belita","Bell","Bella","Bellanca","Belle","Bellina","Belva","Belvia","Bendite","Benedetta","Benedicta","Benedikta","Benetta","Benita","Benni","Bennie","Benny","Benoite","Berenice","Beret","Berget","Berna","Bernadene","Bernadette","Bernadina","Bernadine","Bernardina","Bernardine","Bernelle","Bernete","Bernetta","Bernette","Berni","Bernice","Bernie","Bernita","Berny","Berri","Berrie","Berry","Bert","Berta","Berte","Bertha","Berthe","Berti","Bertie","Bertina","Bertine","Berty","Beryl","Beryle","Bess","Bessie","Bessy","Beth","Bethanne","Bethany","Bethena","Bethina","Betsey","Betsy","Betta","Bette","Bette-Ann","Betteann","Betteanne","Betti","Bettina","Bettine","Betty","Bettye","Beulah","Bev","Beverie","Beverlee","Beverley","Beverlie","Beverly","Bevvy","Bianca","Bianka","Bibbie","Bibby","Bibbye","Bibi","Biddie","Biddy","Bidget","Bili","Bill","Billi","Billie","Billy","Billye","Binni","Binnie","Binny","Bird","Birdie","Birgit","Birgitta","Blair","Blaire","Blake","Blakelee","Blakeley","Blanca","Blanch","Blancha","Blanche","Blinni","Blinnie","Blinny","Bliss","Blisse","Blithe","Blondell","Blondelle","Blondie","Blondy","Blythe","Bobbe","Bobbee","Bobbette","Bobbi","Bobbie","Bobby","Bobbye","Bobette","Bobina","Bobine","Bobinette","Bonita","Bonnee","Bonni","Bonnibelle","Bonnie","Bonny","Brana","Brandais","Brande","Brandea","Brandi","Brandice","Brandie","Brandise","Brandy","Breanne","Brear","Bree","Breena","Bren","Brena","Brenda","Brenn","Brenna","Brett","Bria","Briana","Brianna","Brianne","Bride","Bridget","Bridgette","Bridie","Brier","Brietta","Brigid","Brigida","Brigit","Brigitta","Brigitte","Brina","Briney","Brinn","Brinna","Briny","Brit","Brita","Britney","Britni","Britt","Britta","Brittan","Brittaney","Brittani","Brittany","Britte","Britteny","Brittne","Brittney","Brittni","Brook","Brooke","Brooks","Brunhilda","Brunhilde","Bryana","Bryn","Bryna","Brynn","Brynna","Brynne","Buffy","Bunni","Bunnie","Bunny","Cacilia","Cacilie","Cahra","Cairistiona","Caitlin","Caitrin","Cal","Calida","Calla","Calley","Calli","Callida","Callie","Cally","Calypso","Cam","Camala","Camel","Camella","Camellia","Cami","Camila","Camile","Camilla","Camille","Cammi","Cammie","Cammy","Candace","Candi","Candice","Candida","Candide","Candie","Candis","Candra","Candy","Caprice","Cara","Caralie","Caren","Carena","Caresa","Caressa","Caresse","Carey","Cari","Caria","Carie","Caril","Carilyn","Carin","Carina","Carine","Cariotta","Carissa","Carita","Caritta","Carla","Carlee","Carleen","Carlen","Carlene","Carley","Carlie","Carlin","Carlina","Carline","Carlita","Carlota","Carlotta","Carly","Carlye","Carlyn","Carlynn","Carlynne","Carma","Carmel","Carmela","Carmelia","Carmelina","Carmelita","Carmella","Carmelle","Carmen","Carmencita","Carmina","Carmine","Carmita","Carmon","Caro","Carol","Carol-Jean","Carola","Carolan","Carolann","Carole","Carolee","Carolin","Carolina","Caroline","Caroljean","Carolyn","Carolyne","Carolynn","Caron","Carree","Carri","Carrie","Carrissa","Carroll","Carry","Cary","Caryl","Caryn","Casandra","Casey","Casi","Casie","Cass","Cassandra","Cassandre","Cassandry","Cassaundra","Cassey","Cassi","Cassie","Cassondra","Cassy","Catarina","Cate","Caterina","Catha","Catharina","Catharine","Cathe","Cathee","Catherin","Catherina","Catherine","Cathi","Cathie","Cathleen","Cathlene","Cathrin","Cathrine","Cathryn","Cathy","Cathyleen","Cati","Catie","Catina","Catlaina","Catlee","Catlin","Catrina","Catriona","Caty","Caye","Cayla","Cecelia","Cecil","Cecile","Ceciley","Cecilia","Cecilla","Cecily","Ceil","Cele","Celene","Celesta","Celeste","Celestia","Celestina","Celestine","Celestyn","Celestyna","Celia","Celie","Celina","Celinda","Celine","Celinka","Celisse","Celka","Celle","Cesya","Chad","Chanda","Chandal","Chandra","Channa","Chantal","Chantalle","Charil","Charin","Charis","Charissa","Charisse","Charita","Charity","Charla","Charlean","Charleen","Charlena","Charlene","Charline","Charlot","Charlotta","Charlotte","Charmain","Charmaine","Charmane","Charmian","Charmine","Charmion","Charo","Charyl","Chastity","Chelsae","Chelsea","Chelsey","Chelsie","Chelsy","Cher","Chere","Cherey","Cheri","Cherianne","Cherice","Cherida","Cherie","Cherilyn","Cherilynn","Cherin","Cherise","Cherish","Cherlyn","Cherri","Cherrita","Cherry","Chery","Cherye","Cheryl","Cheslie","Chiarra","Chickie","Chicky","Chiquia","Chiquita","Chlo","Chloe","Chloette","Chloris","Chris","Chrissie","Chrissy","Christa","Christabel","Christabella","Christal","Christalle","Christan","Christean","Christel","Christen","Christi","Christian","Christiana","Christiane","Christie","Christin","Christina","Christine","Christy","Christye","Christyna","Chrysa","Chrysler","Chrystal","Chryste","Chrystel","Cicely","Cicily","Ciel","Cilka","Cinda","Cindee","Cindelyn","Cinderella","Cindi","Cindie","Cindra","Cindy","Cinnamon","Cissiee","Cissy","Clair","Claire","Clara","Clarabelle","Clare","Claresta","Clareta","Claretta","Clarette","Clarey","Clari","Claribel","Clarice","Clarie","Clarinda","Clarine","Clarissa","Clarisse","Clarita","Clary","Claude","Claudelle","Claudetta","Claudette","Claudia","Claudie","Claudina","Claudine","Clea","Clem","Clemence","Clementia","Clementina","Clementine","Clemmie","Clemmy","Cleo","Cleopatra","Clerissa","Clio","Clo","Cloe","Cloris","Clotilda","Clovis","Codee","Codi","Codie","Cody","Coleen","Colene","Coletta","Colette","Colleen","Collen","Collete","Collette","Collie","Colline","Colly","Con","Concettina","Conchita","Concordia","Conni","Connie","Conny","Consolata","Constance","Constancia","Constancy","Constanta","Constantia","Constantina","Constantine","Consuela","Consuelo","Cookie","Cora","Corabel","Corabella","Corabelle","Coral","Coralie","Coraline","Coralyn","Cordelia","Cordelie","Cordey","Cordi","Cordie","Cordula","Cordy","Coreen","Corella","Corenda","Corene","Coretta","Corette","Corey","Cori","Corie","Corilla","Corina","Corine","Corinna","Corinne","Coriss","Corissa","Corliss","Corly","Cornela","Cornelia","Cornelle","Cornie","Corny","Correna","Correy","Corri","Corrianne","Corrie","Corrina","Corrine","Corrinne","Corry","Cortney","Cory","Cosetta","Cosette","Costanza","Courtenay","Courtnay","Courtney","Crin","Cris","Crissie","Crissy","Crista","Cristabel","Cristal","Cristen","Cristi","Cristie","Cristin","Cristina","Cristine","Cristionna","Cristy","Crysta","Crystal","Crystie","Cthrine","Cyb","Cybil","Cybill","Cymbre","Cynde","Cyndi","Cyndia","Cyndie","Cyndy","Cynthea","Cynthia","Cynthie","Cynthy","Dacey","Dacia","Dacie","Dacy","Dael","Daffi","Daffie","Daffy","Dagmar","Dahlia","Daile","Daisey","Daisi","Daisie","Daisy","Dale","Dalenna","Dalia","Dalila","Dallas","Daloris","Damara","Damaris","Damita","Dana","Danell","Danella","Danette","Dani","Dania","Danica","Danice","Daniela","Daniele","Daniella","Danielle","Danika","Danila","Danit","Danita","Danna","Danni","Dannie","Danny","Dannye","Danya","Danyelle","Danyette","Daphene","Daphna","Daphne","Dara","Darb","Darbie","Darby","Darcee","Darcey","Darci","Darcie","Darcy","Darda","Dareen","Darell","Darelle","Dari","Daria","Darice","Darla","Darleen","Darlene","Darline","Darlleen","Daron","Darrelle","Darryl","Darsey","Darsie","Darya","Daryl","Daryn","Dasha","Dasi","Dasie","Dasya","Datha","Daune","Daveen","Daveta","Davida","Davina","Davine","Davita","Dawn","Dawna","Dayle","Dayna","Ddene","De","Deana","Deane","Deanna","Deanne","Deb","Debbi","Debbie","Debby","Debee","Debera","Debi","Debor","Debora","Deborah","Debra","Dede","Dedie","Dedra","Dee","Dee Dee","Deeann","Deeanne","Deedee","Deena","Deerdre","Deeyn","Dehlia","Deidre","Deina","Deirdre","Del","Dela","Delcina","Delcine","Delia","Delila","Delilah","Delinda","Dell","Della","Delly","Delora","Delores","Deloria","Deloris","Delphine","Delphinia","Demeter","Demetra","Demetria","Demetris","Dena","Deni","Denice","Denise","Denna","Denni","Dennie","Denny","Deny","Denys","Denyse","Deonne","Desdemona","Desirae","Desiree","Desiri","Deva","Devan","Devi","Devin","Devina","Devinne","Devon","Devondra","Devonna","Devonne","Devora","Di","Diahann","Dian","Diana","Diandra","Diane","Diane-Marie","Dianemarie","Diann","Dianna","Dianne","Diannne","Didi","Dido","Diena","Dierdre","Dina","Dinah","Dinnie","Dinny","Dion","Dione","Dionis","Dionne","Dita","Dix","Dixie","Dniren","Dode","Dodi","Dodie","Dody","Doe","Doll","Dolley","Dolli","Dollie","Dolly","Dolores","Dolorita","Doloritas","Domeniga","Dominga","Domini","Dominica","Dominique","Dona","Donella","Donelle","Donetta","Donia","Donica","Donielle","Donna","Donnamarie","Donni","Donnie","Donny","Dora","Doralia","Doralin","Doralyn","Doralynn","Doralynne","Dore","Doreen","Dorelia","Dorella","Dorelle","Dorena","Dorene","Doretta","Dorette","Dorey","Dori","Doria","Dorian","Dorice","Dorie","Dorine","Doris","Dorisa","Dorise","Dorita","Doro","Dorolice","Dorolisa","Dorotea","Doroteya","Dorothea","Dorothee","Dorothy","Dorree","Dorri","Dorrie","Dorris","Dorry","Dorthea","Dorthy","Dory","Dosi","Dot","Doti","Dotti","Dottie","Dotty","Dre","Dreddy","Dredi","Drona","Dru","Druci","Drucie","Drucill","Drucy","Drusi","Drusie","Drusilla","Drusy","Dulce","Dulcea","Dulci","Dulcia","Dulciana","Dulcie","Dulcine","Dulcinea","Dulcy","Dulsea","Dusty","Dyan","Dyana","Dyane","Dyann","Dyanna","Dyanne","Dyna","Dynah","Eachelle","Eada","Eadie","Eadith","Ealasaid","Eartha","Easter","Eba","Ebba","Ebonee","Ebony","Eda","Eddi","Eddie","Eddy","Ede","Edee","Edeline","Eden","Edi","Edie","Edin","Edita","Edith","Editha","Edithe","Ediva","Edna","Edwina","Edy","Edyth","Edythe","Effie","Eileen","Eilis","Eimile","Eirena","Ekaterina","Elaina","Elaine","Elana","Elane","Elayne","Elberta","Elbertina","Elbertine","Eleanor","Eleanora","Eleanore","Electra","Eleen","Elena","Elene","Eleni","Elenore","Eleonora","Eleonore","Elfie","Elfreda","Elfrida","Elfrieda","Elga","Elianora","Elianore","Elicia","Elie","Elinor","Elinore","Elisa","Elisabet","Elisabeth","Elisabetta","Elise","Elisha","Elissa","Elita","Eliza","Elizabet","Elizabeth","Elka","Elke","Ella","Elladine","Elle","Ellen","Ellene","Ellette","Elli","Ellie","Ellissa","Elly","Ellyn","Ellynn","Elmira","Elna","Elnora","Elnore","Eloisa","Eloise","Elonore","Elora","Elsa","Elsbeth","Else","Elset","Elsey","Elsi","Elsie","Elsinore","Elspeth","Elsy","Elva","Elvera","Elvina","Elvira","Elwira","Elyn","Elyse","Elysee","Elysha","Elysia","Elyssa","Em","Ema","Emalee","Emalia","Emelda","Emelia","Emelina","Emeline","Emelita","Emelyne","Emera","Emilee","Emili","Emilia","Emilie","Emiline","Emily","Emlyn","Emlynn","Emlynne","Emma","Emmalee","Emmaline","Emmalyn","Emmalynn","Emmalynne","Emmeline","Emmey","Emmi","Emmie","Emmy","Emmye","Emogene","Emyle","Emylee","Engracia","Enid","Enrica","Enrichetta","Enrika","Enriqueta","Eolanda","Eolande","Eran","Erda","Erena","Erica","Ericha","Ericka","Erika","Erin","Erina","Erinn","Erinna","Erma","Ermengarde","Ermentrude","Ermina","Erminia","Erminie","Erna","Ernaline","Ernesta","Ernestine","Ertha","Eryn","Esma","Esmaria","Esme","Esmeralda","Essa","Essie","Essy","Esta","Estel","Estele","Estell","Estella","Estelle","Ester","Esther","Estrella","Estrellita","Ethel","Ethelda","Ethelin","Ethelind","Etheline","Ethelyn","Ethyl","Etta","Etti","Ettie","Etty","Eudora","Eugenia","Eugenie","Eugine","Eula","Eulalie","Eunice","Euphemia","Eustacia","Eva","Evaleen","Evangelia","Evangelin","Evangelina","Evangeline","Evania","Evanne","Eve","Eveleen","Evelina","Eveline","Evelyn","Evey","Evie","Evita","Evonne","Evvie","Evvy","Evy","Eyde","Eydie","Ezmeralda","Fae","Faina","Faith","Fallon","Fan","Fanchette","Fanchon","Fancie","Fancy","Fanechka","Fania","Fanni","Fannie","Fanny","Fanya","Fara","Farah","Farand","Farica","Farra","Farrah","Farrand","Faun","Faunie","Faustina","Faustine","Fawn","Fawne","Fawnia","Fay","Faydra","Faye","Fayette","Fayina","Fayre","Fayth","Faythe","Federica","Fedora","Felecia","Felicdad","Felice","Felicia","Felicity","Felicle","Felipa","Felisha","Felita","Feliza","Fenelia","Feodora","Ferdinanda","Ferdinande","Fern","Fernanda","Fernande","Fernandina","Ferne","Fey","Fiann","Fianna","Fidela","Fidelia","Fidelity","Fifi","Fifine","Filia","Filide","Filippa","Fina","Fiona","Fionna","Fionnula","Fiorenze","Fleur","Fleurette","Flo","Flor","Flora","Florance","Flore","Florella","Florence","Florencia","Florentia","Florenza","Florette","Flori","Floria","Florida","Florie","Florina","Florinda","Floris","Florri","Florrie","Florry","Flory","Flossi","Flossie","Flossy","Flss","Fran","Francene","Frances","Francesca","Francine","Francisca","Franciska","Francoise","Francyne","Frank","Frankie","Franky","Franni","Frannie","Franny","Frayda","Fred","Freda","Freddi","Freddie","Freddy","Fredelia","Frederica","Fredericka","Frederique","Fredi","Fredia","Fredra","Fredrika","Freida","Frieda","Friederike","Fulvia","Gabbey","Gabbi","Gabbie","Gabey","Gabi","Gabie","Gabriel","Gabriela","Gabriell","Gabriella","Gabrielle","Gabriellia","Gabrila","Gaby","Gae","Gael","Gail","Gale","Galina","Garland","Garnet","Garnette","Gates","Gavra","Gavrielle","Gay","Gaye","Gayel","Gayla","Gayle","Gayleen","Gaylene","Gaynor","Gelya","Gena","Gene","Geneva","Genevieve","Genevra","Genia","Genna","Genni","Gennie","Gennifer","Genny","Genovera","Genvieve","George","Georgeanna","Georgeanne","Georgena","Georgeta","Georgetta","Georgette","Georgia","Georgiana","Georgianna","Georgianne","Georgie","Georgina","Georgine","Geralda","Geraldine","Gerda","Gerhardine","Geri","Gerianna","Gerianne","Gerladina","Germain","Germaine","Germana","Gerri","Gerrie","Gerrilee","Gerry","Gert","Gerta","Gerti","Gertie","Gertrud","Gertruda","Gertrude","Gertrudis","Gerty","Giacinta","Giana","Gianina","Gianna","Gigi","Gilberta","Gilberte","Gilbertina","Gilbertine","Gilda","Gilemette","Gill","Gillan","Gilli","Gillian","Gillie","Gilligan","Gilly","Gina","Ginelle","Ginevra","Ginger","Ginni","Ginnie","Ginnifer","Ginny","Giorgia","Giovanna","Gipsy","Giralda","Gisela","Gisele","Gisella","Giselle","Giuditta","Giulia","Giulietta","Giustina","Gizela","Glad","Gladi","Gladys","Gleda","Glen","Glenda","Glenine","Glenn","Glenna","Glennie","Glennis","Glori","Gloria","Gloriana","Gloriane","Glory","Glyn","Glynda","Glynis","Glynnis","Gnni","Godiva","Golda","Goldarina","Goldi","Goldia","Goldie","Goldina","Goldy","Grace","Gracia","Gracie","Grata","Gratia","Gratiana","Gray","Grayce","Grazia","Greer","Greta","Gretal","Gretchen","Grete","Gretel","Grethel","Gretna","Gretta","Grier","Griselda","Grissel","Guendolen","Guenevere","Guenna","Guglielma","Gui","Guillema","Guillemette","Guinevere","Guinna","Gunilla","Gus","Gusella","Gussi","Gussie","Gussy","Gusta","Gusti","Gustie","Gusty","Gwen","Gwendolen","Gwendolin","Gwendolyn","Gweneth","Gwenette","Gwenneth","Gwenni","Gwennie","Gwenny","Gwenora","Gwenore","Gwyn","Gwyneth","Gwynne","Gypsy","Hadria","Hailee","Haily","Haleigh","Halette","Haley","Hali","Halie","Halimeda","Halley","Halli","Hallie","Hally","Hana","Hanna","Hannah","Hanni","Hannie","Hannis","Hanny","Happy","Harlene","Harley","Harli","Harlie","Harmonia","Harmonie","Harmony","Harri","Harrie","Harriet","Harriett","Harrietta","Harriette","Harriot","Harriott","Hatti","Hattie","Hatty","Hayley","Hazel","Heath","Heather","Heda","Hedda","Heddi","Heddie","Hedi","Hedvig","Hedvige","Hedwig","Hedwiga","Hedy","Heida","Heidi","Heidie","Helaina","Helaine","Helen","Helen-Elizabeth","Helena","Helene","Helenka","Helga","Helge","Helli","Heloise","Helsa","Helyn","Hendrika","Henka","Henrie","Henrieta","Henrietta","Henriette","Henryetta","Hephzibah","Hermia","Hermina","Hermine","Herminia","Hermione","Herta","Hertha","Hester","Hesther","Hestia","Hetti","Hettie","Hetty","Hilary","Hilda","Hildagard","Hildagarde","Hilde","Hildegaard","Hildegarde","Hildy","Hillary","Hilliary","Hinda","Holli","Hollie","Holly","Holly-Anne","Hollyanne","Honey","Honor","Honoria","Hope","Horatia","Hortense","Hortensia","Hulda","Hyacinth","Hyacintha","Hyacinthe","Hyacinthia","Hyacinthie","Hynda","Ianthe","Ibbie","Ibby","Ida","Idalia","Idalina","Idaline","Idell","Idelle","Idette","Ileana","Ileane","Ilene","Ilise","Ilka","Illa","Ilsa","Ilse","Ilysa","Ilyse","Ilyssa","Imelda","Imogen","Imogene","Imojean","Ina","Indira","Ines","Inesita","Inessa","Inez","Inga","Ingaberg","Ingaborg","Inge","Ingeberg","Ingeborg","Inger","Ingrid","Ingunna","Inna","Iolande","Iolanthe","Iona","Iormina","Ira","Irena","Irene","Irina","Iris","Irita","Irma","Isa","Isabel","Isabelita","Isabella","Isabelle","Isadora","Isahella","Iseabal","Isidora","Isis","Isobel","Issi","Issie","Issy","Ivett","Ivette","Ivie","Ivonne","Ivory","Ivy","Izabel","Jacenta","Jacinda","Jacinta","Jacintha","Jacinthe","Jackelyn","Jacki","Jackie","Jacklin","Jacklyn","Jackquelin","Jackqueline","Jacky","Jaclin","Jaclyn","Jacquelin","Jacqueline","Jacquelyn","Jacquelynn","Jacquenetta","Jacquenette","Jacquetta","Jacquette","Jacqui","Jacquie","Jacynth","Jada","Jade","Jaime","Jaimie","Jaine","Jami","Jamie","Jamima","Jammie","Jan","Jana","Janaya","Janaye","Jandy","Jane","Janean","Janeczka","Janeen","Janel","Janela","Janella","Janelle","Janene","Janenna","Janessa","Janet","Janeta","Janetta","Janette","Janeva","Janey","Jania","Janice","Janie","Janifer","Janina","Janine","Janis","Janith","Janka","Janna","Jannel","Jannelle","Janot","Jany","Jaquelin","Jaquelyn","Jaquenetta","Jaquenette","Jaquith","Jasmin","Jasmina","Jasmine","Jayme","Jaymee","Jayne","Jaynell","Jazmin","Jean","Jeana","Jeane","Jeanelle","Jeanette","Jeanie","Jeanine","Jeanna","Jeanne","Jeannette","Jeannie","Jeannine","Jehanna","Jelene","Jemie","Jemima","Jemimah","Jemmie","Jemmy","Jen","Jena","Jenda","Jenelle","Jeni","Jenica","Jeniece","Jenifer","Jeniffer","Jenilee","Jenine","Jenn","Jenna","Jennee","Jennette","Jenni","Jennica","Jennie","Jennifer","Jennilee","Jennine","Jenny","Jeralee","Jere","Jeri","Jermaine","Jerrie","Jerrilee","Jerrilyn","Jerrine","Jerry","Jerrylee","Jess","Jessa","Jessalin","Jessalyn","Jessamine","Jessamyn","Jesse","Jesselyn","Jessi","Jessica","Jessie","Jessika","Jessy","Jewel","Jewell","Jewelle","Jill","Jillana","Jillane","Jillayne","Jilleen","Jillene","Jilli","Jillian","Jillie","Jilly","Jinny","Jo","Jo Ann","Jo-Ann","Jo-Anne","Joan","Joana","Joane","Joanie","Joann","Joanna","Joanne","Joannes","Jobey","Jobi","Jobie","Jobina","Joby","Jobye","Jobyna","Jocelin","Joceline","Jocelyn","Jocelyne","Jodee","Jodi","Jodie","Jody","Joeann","Joela","Joelie","Joell","Joella","Joelle","Joellen","Joelly","Joellyn","Joelynn","Joete","Joey","Johanna","Johannah","Johna","Johnath","Johnette","Johnna","Joice","Jojo","Jolee","Joleen","Jolene","Joletta","Joli","Jolie","Joline","Joly","Jolyn","Jolynn","Jonell","Joni","Jonie","Jonis","Jordain","Jordan","Jordana","Jordanna","Jorey","Jori","Jorie","Jorrie","Jorry","Joscelin","Josee","Josefa","Josefina","Josepha","Josephina","Josephine","Josey","Josi","Josie","Josselyn","Josy","Jourdan","Joy","Joya","Joyan","Joyann","Joyce","Joycelin","Joye","Jsandye","Juana","Juanita","Judi","Judie","Judith","Juditha","Judy","Judye","Juieta","Julee","Juli","Julia","Juliana","Juliane","Juliann","Julianna","Julianne","Julie","Julienne","Juliet","Julieta","Julietta","Juliette","Julina","Juline","Julissa","Julita","June","Junette","Junia","Junie","Junina","Justina","Justine","Justinn","Jyoti","Kacey","Kacie","Kacy","Kaela","Kai","Kaia","Kaila","Kaile","Kailey","Kaitlin","Kaitlyn","Kaitlynn","Kaja","Kakalina","Kala","Kaleena","Kali","Kalie","Kalila","Kalina","Kalinda","Kalindi","Kalli","Kally","Kameko","Kamila","Kamilah","Kamillah","Kandace","Kandy","Kania","Kanya","Kara","Kara-Lynn","Karalee","Karalynn","Kare","Karee","Karel","Karen","Karena","Kari","Karia","Karie","Karil","Karilynn","Karin","Karina","Karine","Kariotta","Karisa","Karissa","Karita","Karla","Karlee","Karleen","Karlen","Karlene","Karlie","Karlotta","Karlotte","Karly","Karlyn","Karmen","Karna","Karol","Karola","Karole","Karolina","Karoline","Karoly","Karon","Karrah","Karrie","Karry","Kary","Karyl","Karylin","Karyn","Kasey","Kass","Kassandra","Kassey","Kassi","Kassia","Kassie","Kat","Kata","Katalin","Kate","Katee","Katerina","Katerine","Katey","Kath","Katha","Katharina","Katharine","Katharyn","Kathe","Katherina","Katherine","Katheryn","Kathi","Kathie","Kathleen","Kathlin","Kathrine","Kathryn","Kathryne","Kathy","Kathye","Kati","Katie","Katina","Katine","Katinka","Katleen","Katlin","Katrina","Katrine","Katrinka","Katti","Kattie","Katuscha","Katusha","Katy","Katya","Kay","Kaycee","Kaye","Kayla","Kayle","Kaylee","Kayley","Kaylil","Kaylyn","Keeley","Keelia","Keely","Kelcey","Kelci","Kelcie","Kelcy","Kelila","Kellen","Kelley","Kelli","Kellia","Kellie","Kellina","Kellsie","Kelly","Kellyann","Kelsey","Kelsi","Kelsy","Kendra","Kendre","Kenna","Keri","Keriann","Kerianne","Kerri","Kerrie","Kerrill","Kerrin","Kerry","Kerstin","Kesley","Keslie","Kessia","Kessiah","Ketti","Kettie","Ketty","Kevina","Kevyn","Ki","Kiah","Kial","Kiele","Kiersten","Kikelia","Kiley","Kim","Kimberlee","Kimberley","Kimberli","Kimberly","Kimberlyn","Kimbra","Kimmi","Kimmie","Kimmy","Kinna","Kip","Kipp","Kippie","Kippy","Kira","Kirbee","Kirbie","Kirby","Kiri","Kirsten","Kirsteni","Kirsti","Kirstin","Kirstyn","Kissee","Kissiah","Kissie","Kit","Kitti","Kittie","Kitty","Kizzee","Kizzie","Klara","Klarika","Klarrisa","Konstance","Konstanze","Koo","Kora","Koral","Koralle","Kordula","Kore","Korella","Koren","Koressa","Kori","Korie","Korney","Korrie","Korry","Kris","Krissie","Krissy","Krista","Kristal","Kristan","Kriste","Kristel","Kristen","Kristi","Kristien","Kristin","Kristina","Kristine","Kristy","Kristyn","Krysta","Krystal","Krystalle","Krystle","Krystyna","Kyla","Kyle","Kylen","Kylie","Kylila","Kylynn","Kym","Kynthia","Kyrstin","La Verne","Lacee","Lacey","Lacie","Lacy","Ladonna","Laetitia","Laina","Lainey","Lana","Lanae","Lane","Lanette","Laney","Lani","Lanie","Lanita","Lanna","Lanni","Lanny","Lara","Laraine","Lari","Larina","Larine","Larisa","Larissa","Lark","Laryssa","Latashia","Latia","Latisha","Latrena","Latrina","Laura","Lauraine","Laural","Lauralee","Laure","Lauree","Laureen","Laurel","Laurella","Lauren","Laurena","Laurene","Lauretta","Laurette","Lauri","Laurianne","Laurice","Laurie","Lauryn","Lavena","Laverna","Laverne","Lavina","Lavinia","Lavinie","Layla","Layne","Layney","Lea","Leah","Leandra","Leann","Leanna","Leanor","Leanora","Lebbie","Leda","Lee","Leeann","Leeanne","Leela","Leelah","Leena","Leesa","Leese","Legra","Leia","Leigh","Leigha","Leila","Leilah","Leisha","Lela","Lelah","Leland","Lelia","Lena","Lenee","Lenette","Lenka","Lenna","Lenora","Lenore","Leodora","Leoine","Leola","Leoline","Leona","Leonanie","Leone","Leonelle","Leonie","Leonora","Leonore","Leontine","Leontyne","Leora","Leshia","Lesley","Lesli","Leslie","Lesly","Lesya","Leta","Lethia","Leticia","Letisha","Letitia","Letizia","Letta","Letti","Lettie","Letty","Lexi","Lexie","Lexine","Lexis","Lexy","Leyla","Lezlie","Lia","Lian","Liana","Liane","Lianna","Lianne","Lib","Libbey","Libbi","Libbie","Libby","Licha","Lida","Lidia","Liesa","Lil","Lila","Lilah","Lilas","Lilia","Lilian","Liliane","Lilias","Lilith","Lilla","Lilli","Lillian","Lillis","Lilllie","Lilly","Lily","Lilyan","Lin","Lina","Lind","Linda","Lindi","Lindie","Lindsay","Lindsey","Lindsy","Lindy","Linea","Linell","Linet","Linette","Linn","Linnea","Linnell","Linnet","Linnie","Linzy","Lira","Lisa","Lisabeth","Lisbeth","Lise","Lisetta","Lisette","Lisha","Lishe","Lissa","Lissi","Lissie","Lissy","Lita","Liuka","Liv","Liva","Livia","Livvie","Livvy","Livvyy","Livy","Liz","Liza","Lizabeth","Lizbeth","Lizette","Lizzie","Lizzy","Loella","Lois","Loise","Lola","Loleta","Lolita","Lolly","Lona","Lonee","Loni","Lonna","Lonni","Lonnie","Lora","Lorain","Loraine","Loralee","Loralie","Loralyn","Loree","Loreen","Lorelei","Lorelle","Loren","Lorena","Lorene","Lorenza","Loretta","Lorette","Lori","Loria","Lorianna","Lorianne","Lorie","Lorilee","Lorilyn","Lorinda","Lorine","Lorita","Lorna","Lorne","Lorraine","Lorrayne","Lorri","Lorrie","Lorrin","Lorry","Lory","Lotta","Lotte","Lotti","Lottie","Lotty","Lou","Louella","Louisa","Louise","Louisette","Loutitia","Lu","Luce","Luci","Lucia","Luciana","Lucie","Lucienne","Lucila","Lucilia","Lucille","Lucina","Lucinda","Lucine","Lucita","Lucky","Lucretia","Lucy","Ludovika","Luella","Luelle","Luisa","Luise","Lula","Lulita","Lulu","Lura","Lurette","Lurleen","Lurlene","Lurline","Lusa","Luz","Lyda","Lydia","Lydie","Lyn","Lynda","Lynde","Lyndel","Lyndell","Lyndsay","Lyndsey","Lyndsie","Lyndy","Lynea","Lynelle","Lynett","Lynette","Lynn","Lynna","Lynne","Lynnea","Lynnell","Lynnelle","Lynnet","Lynnett","Lynnette","Lynsey","Lyssa","Mab","Mabel","Mabelle","Mable","Mada","Madalena","Madalyn","Maddalena","Maddi","Maddie","Maddy","Madel","Madelaine","Madeleine","Madelena","Madelene","Madelin","Madelina","Madeline","Madella","Madelle","Madelon","Madelyn","Madge","Madlen","Madlin","Madonna","Mady","Mae","Maegan","Mag","Magda","Magdaia","Magdalen","Magdalena","Magdalene","Maggee","Maggi","Maggie","Maggy","Mahala","Mahalia","Maia","Maible","Maiga","Maighdiln","Mair","Maire","Maisey","Maisie","Maitilde","Mala","Malanie","Malena","Malia","Malina","Malinda","Malinde","Malissa","Malissia","Mallissa","Mallorie","Mallory","Malorie","Malory","Malva","Malvina","Malynda","Mame","Mamie","Manda","Mandi","Mandie","Mandy","Manon","Manya","Mara","Marabel","Marcela","Marcelia","Marcella","Marcelle","Marcellina","Marcelline","Marchelle","Marci","Marcia","Marcie","Marcile","Marcille","Marcy","Mareah","Maren","Marena","Maressa","Marga","Margalit","Margalo","Margaret","Margareta","Margarete","Margaretha","Margarethe","Margaretta","Margarette","Margarita","Margaux","Marge","Margeaux","Margery","Marget","Margette","Margi","Margie","Margit","Margo","Margot","Margret","Marguerite","Margy","Mari","Maria","Mariam","Marian","Mariana","Mariann","Marianna","Marianne","Maribel","Maribelle","Maribeth","Marice","Maridel","Marie","Marie-Ann","Marie-Jeanne","Marieann","Mariejeanne","Mariel","Mariele","Marielle","Mariellen","Marietta","Mariette","Marigold","Marijo","Marika","Marilee","Marilin","Marillin","Marilyn","Marin","Marina","Marinna","Marion","Mariquilla","Maris","Marisa","Mariska","Marissa","Marita","Maritsa","Mariya","Marj","Marja","Marje","Marji","Marjie","Marjorie","Marjory","Marjy","Marketa","Marla","Marlane","Marleah","Marlee","Marleen","Marlena","Marlene","Marley","Marlie","Marline","Marlo","Marlyn","Marna","Marne","Marney","Marni","Marnia","Marnie","Marquita","Marrilee","Marris","Marrissa","Marsha","Marsiella","Marta","Martelle","Martguerita","Martha","Marthe","Marthena","Marti","Martica","Martie","Martina","Martita","Marty","Martynne","Mary","Marya","Maryann","Maryanna","Maryanne","Marybelle","Marybeth","Maryellen","Maryjane","Maryjo","Maryl","Marylee","Marylin","Marylinda","Marylou","Marylynne","Maryrose","Marys","Marysa","Masha","Matelda","Mathilda","Mathilde","Matilda","Matilde","Matti","Mattie","Matty","Maud","Maude","Maudie","Maura","Maure","Maureen","Maureene","Maurene","Maurine","Maurise","Maurita","Maurizia","Mavis","Mavra","Max","Maxi","Maxie","Maxine","Maxy","May","Maybelle","Maye","Mead","Meade","Meagan","Meaghan","Meara","Mechelle","Meg","Megan","Megen","Meggi","Meggie","Meggy","Meghan","Meghann","Mehetabel","Mei","Mel","Mela","Melamie","Melania","Melanie","Melantha","Melany","Melba","Melesa","Melessa","Melicent","Melina","Melinda","Melinde","Melisa","Melisande","Melisandra","Melisenda","Melisent","Melissa","Melisse","Melita","Melitta","Mella","Melli","Mellicent","Mellie","Mellisa","Mellisent","Melloney","Melly","Melodee","Melodie","Melody","Melonie","Melony","Melosa","Melva","Mercedes","Merci","Mercie","Mercy","Meredith","Meredithe","Meridel","Meridith","Meriel","Merilee","Merilyn","Meris","Merissa","Merl","Merla","Merle","Merlina","Merline","Merna","Merola","Merralee","Merridie","Merrie","Merrielle","Merrile","Merrilee","Merrili","Merrill","Merrily","Merry","Mersey","Meryl","Meta","Mia","Micaela","Michaela","Michaelina","Michaeline","Michaella","Michal","Michel","Michele","Michelina","Micheline","Michell","Michelle","Micki","Mickie","Micky","Midge","Mignon","Mignonne","Miguela","Miguelita","Mikaela","Mil","Mildred","Mildrid","Milena","Milicent","Milissent","Milka","Milli","Millicent","Millie","Millisent","Milly","Milzie","Mimi","Min","Mina","Minda","Mindy","Minerva","Minetta","Minette","Minna","Minnaminnie","Minne","Minni","Minnie","Minnnie","Minny","Minta","Miof Mela","Miquela","Mira","Mirabel","Mirabella","Mirabelle","Miran","Miranda","Mireielle","Mireille","Mirella","Mirelle","Miriam","Mirilla","Mirna","Misha","Missie","Missy","Misti","Misty","Mitzi","Modesta","Modestia","Modestine","Modesty","Moina","Moira","Moll","Mollee","Molli","Mollie","Molly","Mommy","Mona","Monah","Monica","Monika","Monique","Mora","Moreen","Morena","Morgan","Morgana","Morganica","Morganne","Morgen","Moria","Morissa","Morna","Moselle","Moyna","Moyra","Mozelle","Muffin","Mufi","Mufinella","Muire","Mureil","Murial","Muriel","Murielle","Myra","Myrah","Myranda","Myriam","Myrilla","Myrle","Myrlene","Myrna","Myrta","Myrtia","Myrtice","Myrtie","Myrtle","Nada","Nadean","Nadeen","Nadia","Nadine","Nadiya","Nady","Nadya","Nalani","Nan","Nana","Nananne","Nance","Nancee","Nancey","Nanci","Nancie","Nancy","Nanete","Nanette","Nani","Nanice","Nanine","Nannette","Nanni","Nannie","Nanny","Nanon","Naoma","Naomi","Nara","Nari","Nariko","Nat","Nata","Natala","Natalee","Natalie","Natalina","Nataline","Natalya","Natasha","Natassia","Nathalia","Nathalie","Natividad","Natka","Natty","Neala","Neda","Nedda","Nedi","Neely","Neila","Neile","Neilla","Neille","Nelia","Nelie","Nell","Nelle","Nelli","Nellie","Nelly","Nerissa","Nerita","Nert","Nerta","Nerte","Nerti","Nertie","Nerty","Nessa","Nessi","Nessie","Nessy","Nesta","Netta","Netti","Nettie","Nettle","Netty","Nevsa","Neysa","Nichol","Nichole","Nicholle","Nicki","Nickie","Nicky","Nicol","Nicola","Nicole","Nicolea","Nicolette","Nicoli","Nicolina","Nicoline","Nicolle","Nikaniki","Nike","Niki","Nikki","Nikkie","Nikoletta","Nikolia","Nina","Ninetta","Ninette","Ninnetta","Ninnette","Ninon","Nissa","Nisse","Nissie","Nissy","Nita","Nixie","Noami","Noel","Noelani","Noell","Noella","Noelle","Noellyn","Noelyn","Noemi","Nola","Nolana","Nolie","Nollie","Nomi","Nona","Nonah","Noni","Nonie","Nonna","Nonnah","Nora","Norah","Norean","Noreen","Norene","Norina","Norine","Norma","Norri","Norrie","Norry","Novelia","Nydia","Nyssa","Octavia","Odele","Odelia","Odelinda","Odella","Odelle","Odessa","Odetta","Odette","Odilia","Odille","Ofelia","Ofella","Ofilia","Ola","Olenka","Olga","Olia","Olimpia","Olive","Olivette","Olivia","Olivie","Oliy","Ollie","Olly","Olva","Olwen","Olympe","Olympia","Olympie","Ondrea","Oneida","Onida","Oona","Opal","Opalina","Opaline","Ophelia","Ophelie","Ora","Oralee","Oralia","Oralie","Oralla","Oralle","Orel","Orelee","Orelia","Orelie","Orella","Orelle","Oriana","Orly","Orsa","Orsola","Ortensia","Otha","Othelia","Othella","Othilia","Othilie","Ottilie","Page","Paige","Paloma","Pam","Pamela","Pamelina","Pamella","Pammi","Pammie","Pammy","Pandora","Pansie","Pansy","Paola","Paolina","Papagena","Pat","Patience","Patrica","Patrice","Patricia","Patrizia","Patsy","Patti","Pattie","Patty","Paula","Paule","Pauletta","Paulette","Pauli","Paulie","Paulina","Pauline","Paulita","Pauly","Pavia","Pavla","Pearl","Pearla","Pearle","Pearline","Peg","Pegeen","Peggi","Peggie","Peggy","Pen","Penelopa","Penelope","Penni","Pennie","Penny","Pepi","Pepita","Peri","Peria","Perl","Perla","Perle","Perri","Perrine","Perry","Persis","Pet","Peta","Petra","Petrina","Petronella","Petronia","Petronilla","Petronille","Petunia","Phaedra","Phaidra","Phebe","Phedra","Phelia","Phil","Philipa","Philippa","Philippe","Philippine","Philis","Phillida","Phillie","Phillis","Philly","Philomena","Phoebe","Phylis","Phyllida","Phyllis","Phyllys","Phylys","Pia","Pier","Pierette","Pierrette","Pietra","Piper","Pippa","Pippy","Polly","Pollyanna","Pooh","Poppy","Portia","Pris","Prisca","Priscella","Priscilla","Prissie","Pru","Prudence","Prudi","Prudy","Prue","Queenie","Quentin","Querida","Quinn","Quinta","Quintana","Quintilla","Quintina","Rachael","Rachel","Rachele","Rachelle","Rae","Raeann","Raf","Rafa","Rafaela","Rafaelia","Rafaelita","Rahal","Rahel","Raina","Raine","Rakel","Ralina","Ramona","Ramonda","Rana","Randa","Randee","Randene","Randi","Randie","Randy","Ranee","Rani","Rania","Ranice","Ranique","Ranna","Raphaela","Raquel","Raquela","Rasia","Rasla","Raven","Ray","Raychel","Raye","Rayna","Raynell","Rayshell","Rea","Reba","Rebbecca","Rebe","Rebeca","Rebecca","Rebecka","Rebeka","Rebekah","Rebekkah","Ree","Reeba","Reena","Reeta","Reeva","Regan","Reggi","Reggie","Regina","Regine","Reiko","Reina","Reine","Remy","Rena","Renae","Renata","Renate","Rene","Renee","Renell","Renelle","Renie","Rennie","Reta","Retha","Revkah","Rey","Reyna","Rhea","Rheba","Rheta","Rhetta","Rhiamon","Rhianna","Rhianon","Rhoda","Rhodia","Rhodie","Rhody","Rhona","Rhonda","Riane","Riannon","Rianon","Rica","Ricca","Rici","Ricki","Rickie","Ricky","Riki","Rikki","Rina","Risa","Rita","Riva","Rivalee","Rivi","Rivkah","Rivy","Roana","Roanna","Roanne","Robbi","Robbie","Robbin","Robby","Robbyn","Robena","Robenia","Roberta","Robin","Robina","Robinet","Robinett","Robinetta","Robinette","Robinia","Roby","Robyn","Roch","Rochell","Rochella","Rochelle","Rochette","Roda","Rodi","Rodie","Rodina","Rois","Romola","Romona","Romonda","Romy","Rona","Ronalda","Ronda","Ronica","Ronna","Ronni","Ronnica","Ronnie","Ronny","Roobbie","Rora","Rori","Rorie","Rory","Ros","Rosa","Rosabel","Rosabella","Rosabelle","Rosaleen","Rosalia","Rosalie","Rosalind","Rosalinda","Rosalinde","Rosaline","Rosalyn","Rosalynd","Rosamond","Rosamund","Rosana","Rosanna","Rosanne","Rose","Roseann","Roseanna","Roseanne","Roselia","Roselin","Roseline","Rosella","Roselle","Rosemaria","Rosemarie","Rosemary","Rosemonde","Rosene","Rosetta","Rosette","Roshelle","Rosie","Rosina","Rosita","Roslyn","Rosmunda","Rosy","Row","Rowe","Rowena","Roxana","Roxane","Roxanna","Roxanne","Roxi","Roxie","Roxine","Roxy","Roz","Rozalie","Rozalin","Rozamond","Rozanna","Rozanne","Roze","Rozele","Rozella","Rozelle","Rozina","Rubetta","Rubi","Rubia","Rubie","Rubina","Ruby","Ruperta","Ruth","Ruthann","Ruthanne","Ruthe","Ruthi","Ruthie","Ruthy","Ryann","Rycca","Saba","Sabina","Sabine","Sabra","Sabrina","Sacha","Sada","Sadella","Sadie","Sadye","Saidee","Sal","Salaidh","Sallee","Salli","Sallie","Sally","Sallyann","Sallyanne","Saloma","Salome","Salomi","Sam","Samantha","Samara","Samaria","Sammy","Sande","Sandi","Sandie","Sandra","Sandy","Sandye","Sapphira","Sapphire","Sara","Sara-Ann","Saraann","Sarah","Sarajane","Saree","Sarena","Sarene","Sarette","Sari","Sarina","Sarine","Sarita","Sascha","Sasha","Sashenka","Saudra","Saundra","Savina","Sayre","Scarlet","Scarlett","Sean","Seana","Seka","Sela","Selena","Selene","Selestina","Selia","Selie","Selina","Selinda","Seline","Sella","Selle","Selma","Sena","Sephira","Serena","Serene","Shae","Shaina","Shaine","Shalna","Shalne","Shana","Shanda","Shandee","Shandeigh","Shandie","Shandra","Shandy","Shane","Shani","Shanie","Shanna","Shannah","Shannen","Shannon","Shanon","Shanta","Shantee","Shara","Sharai","Shari","Sharia","Sharity","Sharl","Sharla","Sharleen","Sharlene","Sharline","Sharon","Sharona","Sharron","Sharyl","Shaun","Shauna","Shawn","Shawna","Shawnee","Shay","Shayla","Shaylah","Shaylyn","Shaylynn","Shayna","Shayne","Shea","Sheba","Sheela","Sheelagh","Sheelah","Sheena","Sheeree","Sheila","Sheila-Kathryn","Sheilah","Shel","Shela","Shelagh","Shelba","Shelbi","Shelby","Shelia","Shell","Shelley","Shelli","Shellie","Shelly","Shena","Sher","Sheree","Sheri","Sherie","Sherill","Sherilyn","Sherline","Sherri","Sherrie","Sherry","Sherye","Sheryl","Shina","Shir","Shirl","Shirlee","Shirleen","Shirlene","Shirley","Shirline","Shoshana","Shoshanna","Siana","Sianna","Sib","Sibbie","Sibby","Sibeal","Sibel","Sibella","Sibelle","Sibilla","Sibley","Sibyl","Sibylla","Sibylle","Sidoney","Sidonia","Sidonnie","Sigrid","Sile","Sileas","Silva","Silvana","Silvia","Silvie","Simona","Simone","Simonette","Simonne","Sindee","Siobhan","Sioux","Siouxie","Sisely","Sisile","Sissie","Sissy","Siusan","Sofia","Sofie","Sondra","Sonia","Sonja","Sonni","Sonnie","Sonnnie","Sonny","Sonya","Sophey","Sophi","Sophia","Sophie","Sophronia","Sorcha","Sosanna","Stace","Stacee","Stacey","Staci","Stacia","Stacie","Stacy","Stafani","Star","Starla","Starlene","Starlin","Starr","Stefa","Stefania","Stefanie","Steffane","Steffi","Steffie","Stella","Stepha","Stephana","Stephani","Stephanie","Stephannie","Stephenie","Stephi","Stephie","Stephine","Stesha","Stevana","Stevena","Stoddard","Storm","Stormi","Stormie","Stormy","Sue","Suellen","Sukey","Suki","Sula","Sunny","Sunshine","Susan","Susana","Susanetta","Susann","Susanna","Susannah","Susanne","Susette","Susi","Susie","Susy","Suzann","Suzanna","Suzanne","Suzette","Suzi","Suzie","Suzy","Sybil","Sybila","Sybilla","Sybille","Sybyl","Sydel","Sydelle","Sydney","Sylvia","Tabatha","Tabbatha","Tabbi","Tabbie","Tabbitha","Tabby","Tabina","Tabitha","Taffy","Talia","Tallia","Tallie","Tallou","Tallulah","Tally","Talya","Talyah","Tamar","Tamara","Tamarah","Tamarra","Tamera","Tami","Tamiko","Tamma","Tammara","Tammi","Tammie","Tammy","Tamqrah","Tamra","Tana","Tandi","Tandie","Tandy","Tanhya","Tani","Tania","Tanitansy","Tansy","Tanya","Tara","Tarah","Tarra","Tarrah","Taryn","Tasha","Tasia","Tate","Tatiana","Tatiania","Tatum","Tawnya","Tawsha","Ted","Tedda","Teddi","Teddie","Teddy","Tedi","Tedra","Teena","TEirtza","Teodora","Tera","Teresa","Terese","Teresina","Teresita","Teressa","Teri","Teriann","Terra","Terri","Terrie","Terrijo","Terry","Terrye","Tersina","Terza","Tess","Tessa","Tessi","Tessie","Tessy","Thalia","Thea","Theadora","Theda","Thekla","Thelma","Theo","Theodora","Theodosia","Theresa","Therese","Theresina","Theresita","Theressa","Therine","Thia","Thomasa","Thomasin","Thomasina","Thomasine","Tiena","Tierney","Tiertza","Tiff","Tiffani","Tiffanie","Tiffany","Tiffi","Tiffie","Tiffy","Tilda","Tildi","Tildie","Tildy","Tillie","Tilly","Tim","Timi","Timmi","Timmie","Timmy","Timothea","Tina","Tine","Tiphani","Tiphanie","Tiphany","Tish","Tisha","Tobe","Tobey","Tobi","Toby","Tobye","Toinette","Toma","Tomasina","Tomasine","Tomi","Tommi","Tommie","Tommy","Toni","Tonia","Tonie","Tony","Tonya","Tonye","Tootsie","Torey","Tori","Torie","Torrie","Tory","Tova","Tove","Tracee","Tracey","Traci","Tracie","Tracy","Trenna","Tresa","Trescha","Tressa","Tricia","Trina","Trish","Trisha","Trista","Trix","Trixi","Trixie","Trixy","Truda","Trude","Trudey","Trudi","Trudie","Trudy","Trula","Tuesday","Twila","Twyla","Tybi","Tybie","Tyne","Ula","Ulla","Ulrica","Ulrika","Ulrikaumeko","Ulrike","Umeko","Una","Ursa","Ursala","Ursola","Ursula","Ursulina","Ursuline","Uta","Val","Valaree","Valaria","Vale","Valeda","Valencia","Valene","Valenka","Valentia","Valentina","Valentine","Valera","Valeria","Valerie","Valery","Valerye","Valida","Valina","Valli","Vallie","Vally","Valma","Valry","Van","Vanda","Vanessa","Vania","Vanna","Vanni","Vannie","Vanny","Vanya","Veda","Velma","Velvet","Venita","Venus","Vera","Veradis","Vere","Verena","Verene","Veriee","Verile","Verina","Verine","Verla","Verna","Vernice","Veronica","Veronika","Veronike","Veronique","Vevay","Vi","Vicki","Vickie","Vicky","Victoria","Vida","Viki","Vikki","Vikky","Vilhelmina","Vilma","Vin","Vina","Vinita","Vinni","Vinnie","Vinny","Viola","Violante","Viole","Violet","Violetta","Violette","Virgie","Virgina","Virginia","Virginie","Vita","Vitia","Vitoria","Vittoria","Viv","Viva","Vivi","Vivia","Vivian","Viviana","Vivianna","Vivianne","Vivie","Vivien","Viviene","Vivienne","Viviyan","Vivyan","Vivyanne","Vonni","Vonnie","Vonny","Vyky","Wallie","Wallis","Walliw","Wally","Waly","Wanda","Wandie","Wandis","Waneta","Wanids","Wenda","Wendeline","Wendi","Wendie","Wendy","Wendye","Wenona","Wenonah","Whitney","Wileen","Wilhelmina","Wilhelmine","Wilie","Willa","Willabella","Willamina","Willetta","Willette","Willi","Willie","Willow","Willy","Willyt","Wilma","Wilmette","Wilona","Wilone","Wilow","Windy","Wini","Winifred","Winna","Winnah","Winne","Winni","Winnie","Winnifred","Winny","Winona","Winonah","Wren","Wrennie","Wylma","Wynn","Wynne","Wynnie","Wynny","Xaviera","Xena","Xenia","Xylia","Xylina","Yalonda","Yasmeen","Yasmin","Yelena","Yetta","Yettie","Yetty","Yevette","Ynes","Ynez","Yoko","Yolanda","Yolande","Yolane","Yolanthe","Yoshi","Yoshiko","Yovonnda","Ysabel","Yvette","Yvonne","Zabrina","Zahara","Zandra","Zaneta","Zara","Zarah","Zaria","Zarla","Zea","Zelda","Zelma","Zena","Zenia","Zia","Zilvia","Zita","Zitella","Zoe","Zola","Zonda","Zondra","Zonnya","Zora","Zorah","Zorana","Zorina","Zorine","Zsa Zsa","Zsazsa","Zulema","Zuzana"];function $(){return b[Math.floor(Math.random()*(b.length-1))]}return{generate:$}}const defaults={roles:{"1715015248102-8q0n4lg8tks":{id:"1715015248102-8q0n4lg8tks",message:`I want you to act as a text based adventure game. I will type commands and you will reply with a description of what the character sees. Do not write explanations. Use flowery language and descriptive words. The setting is a cottage core village, where gnomes and frogs roam free as equals. Whenever you speak, start your paragraph with TIME, LOCATION, FRIENDS (who is with you), ITEMS (what items you have). My first command is wake up.
`,name:"Interactive Story Teller",config:{samples:["write a story about kings and queens and how they lost then found the princess","write an adventure on the surface of mars as humans race to escape aliens who live there already"],preferredModel:"3"},samples:["write a story about kings and queens and how they lost then found the princess","write an adventure on the surface of mars as humans race to escape aliens who live there already"],category:["chat","example"]},"1715015275094-rrk7kd5adh":{id:"1715015275094-rrk7kd5adh",message:`You are an expert in menu planning and recipe creation, specializing in creating delicious dishes. You have helped many people before me to create new recipes for special occasions. Your task is now to teach me how to plan meals from scratch. To better understand what I want and need, you should always answer by including a question that helps you better understand the context and my needs. Did you understand?
`,name:"Recipe Helper",config:{temperatureOpenAI:"1",topPOpenAI:"0.39",frequencyPenalty:"-0.35",nBatch:"3",beams:"0",samples:["what can i do with chestnuts","how do i get bread to rise","what can i add to a laksa"],preferredModel:"3",topP:"0.5",topK:"24",presencePenalty:"-0.59",temperature:"0.66"},temperature:"0.19",samples:["what can i do with chestnuts","how do i get bread to rise","what can i add to a laksa"],category:["chat","example"]},"1715015288685-ps9n4mx07b":{id:"1715015288685-ps9n4mx07b",message:"I want you to act as the Buddha (a.k.a. Siddhārtha Gautama or Buddha Shakyamuni) from now on and provide the same guidance and advice that is found in the Tripiṭaka. Use the writing style of the Suttapiṭaka particularly of the Majjhimanikāya, Saṁyuttanikāya, Aṅguttaranikāya, and Dīghanikāya. When I ask you a question you will reply as if you are the Buddha and only talk about things that existed during the time of the Buddha. I will pretend that I am a layperson with a lot to learn. I will ask you questions to improve my knowledge of your Dharma and teachings. Fully immerse yourself into the role of the Buddha. Keep up the act of being the Buddha as well as you can. Do not break character. Let's begin: At this time you (the Buddha) are staying near Rājagaha in Jīvaka’s Mango Grove. I came to you, and exchanged greetings with you. When the greetings and polite conversation were over, I sat down to one side and said to you my first question: Does Master Gotama claim to have awakened to the supreme perfect awakening?",name:"Spiritual Advisor",config:{samples:["i feel sad can you help me. i don't want to get out of bed","can i have too many friends","what is the meaning of life"],preferredModel:"4"},samples:["i feel sad can you help me. i don't want to get out of bed","can i have too many friends","what is the meaning of life"],category:["chat","example"]},"1715015428869-9j68b65fuv":{id:"1715015428869-9j68b65fuv",name:"Spanish Language Teacher",message:`Hello! My objective is to enhance my spanish language skills and I would appreciate your help. Let's engage in a conversational exchange in spanish, where you will act as a native speaker. During our conversation, you can ask me questions to engage me in conversation, and I will respond. Your replies should consist of three components separated by an empty line on the page:
You will repeat my previous response in a way that a native $(Language) speaker would say it, ensuring accurate grammar and vocabulary usage. Encase it in square brackets.
You will reply to me with a  response and follow-up question.
You will provide an English translation of your entire reply.
As our conversation continues, you will adapt your questions to my level of proficiency. You begin by respond using A1-proficiency questions. If my proficiency is more advanced, you will increase the level of proficiency of your questions to the next higher level; otherwise, you will remain at the current level. Reassess my language proficiency every few replies.
Please note the following:
From time to time, I will interrupt the conversation to ask a question. Please respond in English.
When I respond to you in spanish I may use English words if I don’t know the correct vocabulary.
I will use keywords to representing quick requests. Which you will use to execute other one or more actions. Please note the following keywords and their meanings:
Add [word]: Add the word [word] to the vocabulary list.
I will announce when the conversation is over. At this time, you will provide me with feedback in English only. You will also provide me with a vocabulary list in tabular format of the spanish words and phrases I used incorrectly (misspelling, misuse, awkward usage, etc.) or any words or phrases I instructed you to add, along with their English translations and an example sentence.
`,config:{preferredModel:"3"},samples:[],category:["chat","example"]},"1715533081877-2tpar0hlv9j":{id:"1715533081877-2tpar0hlv9j",name:"Computer Programmer",message:"you are a computer programmer. you write complete working programs. when you reply you answer with code. strictly code and nothing else. do not comments about the code or descriptions of what the code is doing.\n- your favorite programming language is python\n- you add comments to your code to clarify algorithms and identify the meaning of variables\n- use long variable names that clearly identify their purpose\nWhen you write code blocks wrap them in ```python ``` or ```javascript ``` or whatever is the programming language being used\nYou must wrap code blocks in quotes\nEnsure your programs are complete.",config:{maxTokens:"10039",samples:["write a function to calculate the fibonacci numbers","write a program that writes the numbers from one to ten in reverse","write a react component that lists an array of samples. Use react-bootstrap."],preferredModel:"3",temperature:"0.04",topP:"0.75",temperatureOpenAI:"0.06",topPOpenAI:"0.7",frequencyPenalty:"0.09",presencePenalty:"-0.01"},stopTokens:["."],samples:["write a function to calculate the fibonacci numbers","write a program that writes the numbers from one to ten in reverse","write a react component that lists an array of samples. Use react-bootstrap."],category:["code","generator","tools"],skills:"You are very skilled at writing python software",backStory:"You spend much time at home maintaining a network of Linux based servers"},"1715534102855-ax75ogkqee":{id:"1715534102855-ax75ogkqee",name:"Pirate Poet",message:`You are a pirate who likes to write poetry.
`,backStory:`You spent time in jamaica and learned the joys of rum and warm weather.
"By jimbo" is your favorite expression.`,config:{temperatureOpenAI:"0",topP:"0.15",topK:"7",maxTokens:"11028",ttsOaiVoice:"echo",samples:["write a song about capturing slaves in africa","tell me about seagulls","where is the treasure buried"],preferredModel:"4"},temperatureGpt4All:"0.12",samples:["write a song about capturing slaves in africa","tell me about seagulls","where is the treasure buried"],category:["chat","formatter","generator"],skills:"You are very skilled at writing poetry and you know everything about the sea."},"1715575048046-1mio4kbwntw":{id:"1715575048046-1mio4kbwntw",name:"Order Assistant",message:`You are the owner of a pizza parlor. Customers \\
    send you orders from which you need to extract:

    1. The pizza that is ordered
    2. The number of pizzas

# OUTPUT INSTRUCTIONS
Answer in valid JSON. Here are the different objects relevant for the output:

    Order:
        pizza (str): name of the pizza
        number (int): number of pizzas

    Return a valid JSON of type "Order"
`,config:{outputExamples:`
{"pizza": "Margherita", "number": 1}
{"pizza": "pineapple", "number": 1}
{"pizza": "cheese", "number": 1}
{"pizza": "chicken", "number": 1, extras:'bbq sauce'}
`,outputType:"json",schema:'{"$schema": "http://json-schema.org/schema#", "type": "object", "properties": {"pizza": {"type": "string"}, "number": {"type": "integer"}, "extras": {"type": "string"}}, "required": ["number", "pizza"]}',samples:["four chicken satay pizzas please with xtra bbq sauce ","four seafood pizzas","two margarita pizzas and a vegetarian pizza plus two coke"," a chicken pizza and two cokes"],preferredModel:"2"},samples:["four chicken satay pizzas please with xtra bbq sauce ","four seafood pizzas","two margarita pizzas and a vegetarian pizza plus two coke"," a chicken pizza and two cokes"],category:["chat","example","structured data"]},"1715575705679-kjeu193lgl":{id:"1715575705679-kjeu193lgl",name:"Mood Classifier",message:`You are an experienced customer success manager.
Given a request from a client, you need to determine when the request is urgent using the label "URGENT" or when it can wait a little with the label "STANDARD".
Answer in one word
`,config:{outputExamples:`I need this now
URGENT

can you look at his some time
STANDARD

I'm desperate to get this done
URGENT

`,schema:"STANDARD,URGENT",outputType:"choice",preferredModel:"2",samples:["i am in a huge rush","this is urgent","can you look at this when you are ready","can you get me the stuff","i need the stuff now"],ttsSelfHostedVoice:"p241"},backStory:"You are very concise and do not like to speak more than one word at a time",samples:["i am in a huge rush","this is urgent","can you look at this when you are ready","can you get me the stuff","i need the stuff now"],category:["chat","example","structureddata","classifier"]},"1715599845403-47h2j3cfhuo":{id:"1715599845403-47h2j3cfhuo",config:{samples:["turn on the lounge room lights","play music by midnight oil","set an alarm for 10 minutes","cancel the alarm","stop playing"],outputType:"json",preferredModel:"2"},name:"Home Assistant",message:`You are a home assistant. You understand commands to set and cancel timers, play and stop music and search for music by artist, song name and genre. You can also turn on and off the lights.

# OUTPUT INSTRUCTIONS
Answer in valid JSON. Here are the different objects relevant for the output:

Command:
    action (str): action to take eg turn_on,turn_off
    parameter ([str]): array of parameters for action

Return a valid JSON of type "Command"`,samples:["turn on the lounge room lights","play music by midnight oil","set an alarm for 10 minutes","cancel the alarm","stop playing"],category:["chat","example","structureddata","homeassistant"]},"1716312794795-va5kaw390n":{samples:[],name:"Document Summariser",message:"Provide a summary of the following document. Ensure that all the main points are mentioned and keep the output as short as possible.",category:["summariser","compressor"]},"1716312923586-z2unlz19v6j":{samples:["```a=5; b=2 c=a + b     ```   what does this code do?"],name:" Code Summariser",message:"You are teaching software engineering. Explain the code below. In particular provide a list of the functions and important variables as well as a description of the purpose of the code. ",category:["summariser","compressor","code"],skills:"You are very good at detailed analysis of software code",backStory:"You like adding comments to code",config:{temperature:"0.19",topK:"74",maxTokens:"3843",temperatureOpenAI:"0.19",topPOpenAI:"0.66",frequencyPenalty:"0.49",presencePenalty:"0.39",outputType:""},id:"1716312923586-z2unlz19v6j"},"1716342130741-qi5fwi191de":{samples:["what is the capital city of australia. answer in one word"],name:"General Assistant",message:"You are a helpful assistant",config:{maxTokens:"17462",stopTokens:[],temperature:"0.1",topP:"0.58",topK:"21",temperatureOpenAI:"1.57",topPOpenAI:"1",frequencyPenalty:"0",presencePenalty:"0",wrapBefore:"```markdown",wrapAfter:"```",type:"inference",processingFunctionType:"evaljavascript",processingFunction:"f"},category:["generator","chat","featured"]},"1716347292609-n7k0blybh8":{samples:[],name:"Essay Grader",message:`You are a year 12 English teacher assessing essays. For the following essay provide
- word count.
- score of readability.
- a list of grammatical errors. For each grammatical error quote the text and list the line number of the error as well as a suggested solution.
- a list of suggestions to make the essay more persuasive.`,config:{temperature:"0",topP:"0.6",topK:"71",stopTokens:[".","!"],maxTokens:"100"},category:["summariser","teaching","example"]},"1716380148021-jmr5vlbgchi":{samples:["Create a mermaid timeline showing the population of the world over the last three years.","make pie chart showing major exports from australia in 2023"],name:"Graph Assistant",message:`You are an expert in instructive diagramming. You understand all of the different types of graph that are commonly used to explain ideas from data structures to workflows.
You always use mermaid charts to create your diagrams. When asked a question, answer it with a graph in the form of a mermaid chart.  `,category:["graph","generator"]},"1716440688890-xm355nq4piq":{samples:[],name:"Music Notation Helper",message:"You are a composer of music. You are very fluent in the ABC form of music notation and you always use ABC notation to answer questions about music.\nYou also have a comprehensive knowledge of musical terms and use them whenever possible in your answers and generated music.\nWrap all ABC notation in ```abc  and ```. For example ```abc X:0 T:my song```",category:["music","abcnotation","generator"]},"1716451547928-z6uw4ieprmk":{samples:[],name:"Markdown Assistant",message:"You are a helpful assistant. \nYou respond with  a markdown document showing headers links and lists. \nYou must wrap the markdown output in  ```markdown and ```. For example ```markdown # title ```\nAlways respond with markdown format",category:["formatter","teaching","example"]},"1716510654451-j3xoev0f1qt":{samples:[],name:"Browser Javascript Helper",message:`You are an expert javascript coder. You specialise in front end development building user interfaces with React.
You build components using react bootstrap.
You always respond with blocks of javascript code to demonstrate your answer.`,category:["code","generator"]},"1716535317567-xq3mpc56f5g":{samples:[],name:"Business Email Categoriser",category:["categoriser","structureddata"],message:`You are a Email Categorizer Agent You are a master at understanding what a customer wants when they write an email and are able to categorize it in a useful way. 
Conduct a comprehensive analysis of the email provided and categorize into one of the following categories:
        price_enquiry - used when someone is asking for information about pricing \\
        customer_complaint - used when someone is complaining about something \\
        product_enquiry - used when someone is asking for information about a product feature, benefit or service but not about pricing \\\\
        customer_feedback - used when someone is giving feedback about a product \\
        off_topic when it doesn't relate to any other category \\

            Output a single catgory only from the types ('price_enquiry', 'customer_complaint', 'product_enquiry', 'customer_feedback', 'off_topic') \\
            eg:
            'price_enquiry' \\`,config:{outputType:"choice",outputExamples:`price_enquiry
customer_complaint
product_enquiry
customer_feedback
off_topic`}},"1716900208679-f9klfahrc88":{samples:[],name:"Research Assistant",message:`You are a research assistant who helps to answer questions by searching  google.
When you are given a question, generate a list of keywords and then output a block describing tool use.

Each line inside the block is a function call to search_google(keyword), one for each keyword.

search_google(when is the best search_google(when is the best day)
day)

Use no more than two tool calls.
Return only the lines with the function calls. Do not output any other text.
Every line must begin with search_google(`,wrapBefore:"```tool",wrapAfter:"```",category:["tools","structureddata","websearch"],config:{wrapBefore:"```tool",wrapAfter:"```",temperature:"0.08",maxTokens:"2174"}},"1716959801862-o0ix9xac5s":{samples:[],name:"Search summariser",message:"Summarise any important points in the ###RESULT sections and create a short summary of the search results.",category:["compressor","summariser","websearch"]},"1716992436451-wq0mhv6vy7k":{samples:[],name:"Research Planner",message:`You are a generator of ideas for possible lines of research in a topic area.

Respond with a block of text wrapped in \`\`\`
Inside the \`\`\` sections, 
- start with the word tool 
- then a list of tool calls to google_search for each suggested research area.
A tool call looks like
search_google(when is the best day)

You must include the quotes around the tool call block
The tool call block MUST start with tool and a new line

For example
\`\`\`tool
search_google(when is the best day)
\`\`\`

`,category:["generator","tools","websearch"]},"1716992597787-cwb0uesyhui":{samples:[],name:"Research Generator",message:"Expand on the ideas in the previous text suggesting pros and cons and suggestions to any problems that arise",category:["generator"]},"1716992648044-aacb0ownl4h":{samples:[],name:"Research Summariser",message:`You are expert at summarising english words without losing any of the important details.
Summarise the following text
`,category:["compressor","summariser"]},"1716992715805-45p1nsa0pzp":{samples:[],name:"Research Scorer",message:`Does the following text answer or at least respond to the question at the beginning.
If the question is not answered at least in part respond with FAIL
Otherwise respond with pass`,config:{maxTokens:"2",temperature:"0.09",topP:"0.82",topK:"87",outputType:"choice",outputExamples:`PASS
FAIL`},category:["categorizer","scorer"]},"1716996644650-y63gtce9wso":{samples:[],name:"Research Formatter",message:`Take the following text and render it as a markdown document.
Ensure that no details are lost and that everything important is included in the final document.

`,wrapBefore:"```markdown",wrapAfter:"```",config:{wrapBefore:"```markdown",wrapAfter:"```"},category:["formatter"]},"1717332876182-suem1geq9rl":{samples:[],name:"MOE Expert Selector",message:`Choose randomly between the following roles. 
- Computer Programmer
- Pirate Poet
- General Assistant
Answer with the name and only the name. Do not add any other words than the name of the role.
Answer in no more than two words`,config:{outputType:"choice",outputExamples:`Computer Programmer
Pirate Poet`},category:["categorizer","chooser"]},"1717334469088-4z6c9tnv5sl":{samples:[],name:"Role Based Blocker",message:"Always respond with one word PASS",config:{outputType:"choice",outputExamples:`PASS
FAIL`},category:["categorizer","chooser"]},"1717335922226-rt50ddqlwzl":{samples:[],message:"Output one word. Jupiter",name:"Role Based Feeder",category:["test","datasource"]},"1717335969783-i8hl4shqzfd":{samples:[],name:"Chain Of Thought",message:"Think this through step by step",category:["generator","expander"]},"1717340874527-3dv4jxddp1f":{samples:[],name:"Role Based Scorer",message:"Always reply with one word FAIL",config:{outputType:"choice",outputExamples:`FAIL
PASS`},category:["categorizer","chooser"]},"1717426372042-uk1c0x5r7x":{samples:[],name:"Ideas Generator",message:`For the given question, generate some more related questions that might generate more depth of knowledge around the original question.
Output your suggested questions in markdown with a header for each question`,config:{wrapBefore:"```markdown",wrapAfter:"```"},skills:"I'm good at suggesting ideas and ways to think about things",category:["generator","expander"]},"1717426581325-tf6h3k1mv7p":{samples:[],name:"Nested Research Team Researcher",message:"Reply with answers to the list of questions",category:["generator","researcher"]},"1717575898766-d3cijs4aug":{samples:[],name:"Answer Collater",message:"GIven the original questions and the follow up questions and the final answers, provide a simplified answer to the question that includes elements of all the follow up questions. ",config:{wrapBefore:"```markdown",wrapAfter:"```"},category:["compressor","summariser"]},"1717584097032-s8rzhoro5v":{samples:[],name:"First Five Words",config:{type:"algorithmic",processingFunction:`
return message ? message.split(' ').slice(0,5).join(' ')  : ''`,processingFunctionType:"evaljavascript"},"comments	":"s",comments:"",skills:"return the first five words one per line",category:["algorithmic","example","test","transformer"]},"1717676805737-5or98597imn":{samples:[],name:"Generation Formatter",skills:`You consider the list of questions and answers and summarise the content in a friendly tone ensuring that you miss none of the details in the answers.
Gather all the facts from the answers and present them in a table.`,category:["compressor","summariser","formatter"]},"1717678143866-v3hj7syijr":{samples:[],name:"Fake Question Generator",config:{type:"algorithmic",processingFunction:"return `Why is the sky here\nWho is ted\n`",processingFunctionType:"evaljavascript"},category:["test","datasource"]},"1717772893368-hjs20gpuks":{samples:["why was he running away from you. Did he steal from you?","he slept. we arrived. they all stayed up late. she partied. everyone became very excited and danced."],name:"Extract Verbs",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
console.log(nlp(message).verbs())
return nlp(message).verbs().out('array').join("\\n")`},category:["extractor","compromise","algorithmic"]},"y1717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building where he worked and sat at his desk."],name:"Extract Nouns",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
return nlp(message).nouns().out('array').join(',')`},category:["extractor","compromise","algorithmic"]},"w1717772893368-hjs20gpukt":{samples:["Mr Brown drove his blue car to the tall office building where he worked tirelessly and sat at his extremely broad and comfortable desk."],name:"Extract Adjectives",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
return nlp(message).adjectives().out('array').join(',')`},category:["extractor","compromise","algorithmic"],skills:" "},"v1717772893368-hjs20gpukt":{samples:["Five days this week I did less than 2 hours."],name:"Extract Numbers",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
return nlp(message).numbers().out('array').join(',')`},category:["extractor","compromise","algorithmic"]},"u1717772893368-hjs20gpukt":{samples:["Last Friday was 12/05/1966. I was born on 3 Feb 2007"],name:"Extract Dates",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).dates().out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"t1717772893368-hjs20gpukt":{samples:["It took five seconds to undo 20 years of work."],name:"Extract Durations",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).durations().out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"s1717772893368-hjs20gpukt":{samples:["At midday I will be going to lunch then at 2pm I have a coffee with Fred before a party at 4:14 in the afternoon running through until midnight"],name:"Extract Time",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).times().out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"r1717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building where he worked and sat at his desk."],name:"Extract Word Count",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
return nlp(message).terms().length`},category:["extractor","compromise","algorithmic"]},"q1717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building. He worked there and went in and sat at his desk. I wish I had a desk"],name:"Extract Sentence Count",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
console.log("AAAAAAA",nlp(message).sentences() , nlp(message).sentences().out('array'))
return nlp(message).sentences().out('array').length`},category:["extractor","compromise","algorithmic"]},"p1717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building. He works there and went in and sat at his desk. I wish I had a desk"],name:"Transform Past Tense",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
return nlp(message).sentences().toPastTense().text()`},category:["transformer","compromise","algorithmic"]},"o1717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building where he worked and sat at his desk."],name:"Transform Present Tense",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
return nlp(message).sentences().toPresentTense().text()`},category:["transformer","compromise","algorithmic"]},"n1717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building where he worked and sat at his desk."],name:"Transform Future Tense",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
return nlp(message).sentences().toFutureTense().text()`},category:["transformer","compromise","algorithmic"]},"m1717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building where he worked and sat at his desk."],name:"Transform Negative",config:{type:"algorithmic",processingFunction:`let nlp = window.compromise
return nlp(message).sentences().toNegative().text()`},category:["transformer","compromise","algorithmic"]},"l1717772893368-hjs20gpukt":{samples:["Mr Brown drove his old car to the tall office building where he worked tirelessly and sat at his desk to start the long and challenging day."],name:"Extract POS Tags",config:{type:"algorithmic",processingFunction:'let nlp = window.compromise\nreturn "```" + `\\n` + JSON.stringify(nlp(message).json(),null,\'\\t\') + `\\n` + "```"'},category:["extractor","compromise","algorithmic"]},"k1717772893368-hjs20gpukt":{samples:["Mr Brown (bb@brown.com) drove his car to the office building where he worked and sat at his desk and wrote to Fred@gmail.co.uk."],name:"Extract Emails",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).match('#Email').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"],skills:"   "},"j1717772893368-hjs20gpukt":{samples:["https://google.com ws://genny.org  //:fred.me  https://beast"],name:"Extract URLs",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).match('#Url').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"i717772893368-hjs20gpukt":{samples:["0264556676 was the number"],name:"Extract Phone Numbers",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).match('#PhoneNumber').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"h717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building where he worked and sat at his desk."],name:"Extract @Mentions",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).match('#AtMention').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"g717772893368-hjs20gpukt":{samples:["I had five euros and he gave me 20usd so I had something like $50"],name:"Extract Currencies",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise \nreturn nlp(message).match('#Currency').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"f717772893368-hjs20gpukt":{samples:["I'd like to go to Perth and she's already on the way to the top of Australia"],name:"Extract Places",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).match('#Place').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"e717772893368-hjs20gpukt":{samples:["Waramanga Primary School is having a fete for the Fire Brigade","The Olympic Committee has banned five drug taking athletes from the Olympics Games says The Canberra Times"],name:"Extract Organisations",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).match('#Organization').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"d717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building where he worked and sat at his desk."],name:"Extract Person Names",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).match('#Person').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"a717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building where he worked and sat at his desk."],name:"Extract Ngrams",config:{type:"algorithmic",processingFunction:'let nlp = window.compromise\nreturn "```"  + `\\n` + JSON.stringify(nlp(message).ngrams(), null, \'\\t\') + `\\n` + "```" + `\\n`'},category:["extractor","compromise","algorithmic"]},"c717772893368-hjs20gpukt":{samples:["Mr Brown drove his car to the office building where he worked and sat at his desk."],name:"Extract Male Names",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).match('#MaleName').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"b717772893368-hjs20gpukt":{samples:["Sue and Anne sat with Jo and Dillan and Sam"],name:"Extract Female Names",config:{type:"algorithmic",processingFunction:"let nlp = window.compromise\nreturn nlp(message).match('#FemaleName').out('array').join(`\n`)"},category:["extractor","compromise","algorithmic"]},"1717935955295-u8z68jrkf0s":{samples:[],config:{type:"algorithmic",processingFunction:"return window.tools.thesession_search_single(message)"},name:"TheSession.Org Search Single",category:["datasource","thesession.org"]},"1717936948156-bsjv7olct6e":{samples:["24139","7491","46sdfwe"],config:{type:"algorithmic",processingFunction:"return window.tools.thesession_settings_by_id(message)"},name:"TheSession.Org Settings By Id",category:["datasource","thesession.org"]},"1717936949641-eocttctjvl":{samples:[],config:{type:"algorithmic",processingFunction:"return window.tools.thesession_search_list(message)"},name:"TheSession.Org Search List",category:["datasource","thesession.org"]},"1717942421906-90sgbk1dic":{samples:["cats"],name:"Wikipedia Search",config:{type:"algorithmic",processingFunction:"return window.tools.wikipedia_search(message)"},category:["datasource","wikipedia"]},"1717942514204-t475sb53uxp":{samples:["Paul Simon"],name:"Wikipedia Content From Page Title",config:{type:"algorithmic",processingFunction:"return window.tools.wikipedia_load_page(message)"},category:["datasource","wikipedia"]},"1717942515340-jsev0x6nylk":{samples:["submarines nuclear"],name:"Wikipedia Content From Search",config:{type:"algorithmic",processingFunction:`return window.tools.wikipedia_first_result(message)
`},category:["datasource","wikipedia"]},"1717949606929-9i5lbrkkxjh":{samples:["astronauts"],name:"Tavily Web Searcher",config:{type:"algorithmic",processingFunction:"return window.tools.websearch_tavily(message)"},category:["datasource","websearch"]},"1717956780045-ph4d7cfynq":{samples:["print(33 + 7)"],name:"Code Executor",config:{type:"algorithmic",processingFunction:"return window.tools.coderunner_run(message)"},category:["code","executor"]}},teams:{"1716720278036-n6jkh49rj7t":{id:"1716720278036-n6jkh49rj7t",samples:["write a program to count to 10","write software to calculate how many days to my birthday given parameters birthdate and todays date"],name:"Software Development Team",members:["1715533081877-2tpar0hlv9j","1716312923586-z2unlz19v6j"],planner:[],type:"linear",message:"### Team Instructions Here",category:["code"]},"1716900089701-0y81p8jhlucb":{samples:[],name:"Tool Use Research Team",members:["1716900208679-f9klfahrc88","1716959801862-o0ix9xac5s","1716312794795-va5kaw390n"],type:"linear",planner:["1716992436451-wq0mhv6vy7k"],generator:["1716992597787-cwb0uesyhui"],summariser:["1716992648044-aacb0ownl4h"],scorer:["1716992715805-45p1nsa0pzp"],rewriter:[],max_iterations:"2",formatter:["1716996644650-y63gtce9wso"],category:["tools","research"]},"1717319873030-nhyrfanoyoj":{samples:[],name:"Parallel Team",members:["1715533081877-2tpar0hlv9j","TEAM:::::1717426628299-mui4vkuastr","1716380148021-jmr5vlbgchi"],type:"parallel",formatter:[],compress:!1,category:["test"]},"1717331565735-dcosvr16pth":{samples:[],name:"MOE Team",members:["1715533081877-2tpar0hlv9j","1715534102855-ax75ogkqee","1716342130741-qi5fwi191de"],type:"mixtureofexperts",expert_selector:["1717332876182-suem1geq9rl"],compress:!1,category:["test"]},"1717334021208-00nh67e94lktn":{samples:[],name:"Role Based Team",type:"rolesbased",blocker:["1717334469088-4z6c9tnv5sl"],feeder:["1717335922226-rt50ddqlwzl"],planner:["1717335969783-i8hl4shqzfd"],generator:["TEAM:::::1717426628299-mui4vkuastr"],summariser:["1716312794795-va5kaw390n"],scorer:["1717340874527-3dv4jxddp1f"],rewriter:["1716312794795-va5kaw390n"],formatter:["1716451547928-z6uw4ieprmk"],category:["test"]},"1717412714995-fmh0ivutvja":{samples:[],name:"Linear Team",type:"linear",members:["1715533081877-2tpar0hlv9j","1716312923586-z2unlz19v6j"],compress:!1,formatter:["1717426372042-uk1c0x5r7x"],category:["test"]},"1717420927636-8ziare6zlpt":{type:"mixtureofexperts",samples:[],name:"Nested Team Example",members:["1717426372042-uk1c0x5r7x","TEAM:::::1717426628299-mui4vkuastr","1715534102855-ax75ogkqee"],formatter:[],question_generator:["1717426372042-uk1c0x5r7x"],skills:"I am good at research and finding facts on google",category:["test"]},"1717426628299-mui4vkuastr":{type:"linear",samples:[],name:"Nested Research Team",members:["1717426581325-tf6h3k1mv7p","1716312794795-va5kaw390n"],skills:"I am good at finding facts on google",category:["test","research"]},"1717560646932-dqy416i5p8r":{type:"generator",samples:[],name:"Generator Team",members:["1717584097032-s8rzhoro5v"],formatter:[],max_generated_items:"3",question_generator:["1717678143866-v3hj7syijr"],category:["test"]},"1717904013873-dvpxs9l3ql6":{type:"linear",samples:["write code to count to 10"],category:["code","test"],name:"Test Code Execution",members:["1715533081877-2tpar0hlv9j","1717956780045-ph4d7cfynq"]}}};function useSystemMessageManager({forceRefresh:b,doSave:$,chatHistoryId:_e,categories:et,setCategories:tt}){const nt=defaults.roles,rt=useNameGenerator(),ot=useUtils();function st(){localStorage.setItem("voice2llm_last_role",""),xt("")}function ct(Rt){if(ft&&ft[Rt]){const Nt=ot.generateRandomId();ft[Nt]=JSON.parse(JSON.stringify(ft[Rt])),ft[Nt].name=(ft[Nt].name?ft[Nt].name:"")+" "+rt.generate(),gt(ft),b()}}const[lt,at]=reactExports.useState({});function it(Rt){localStorage.setItem("voice2llm_chat_history_roles",JSON.stringify(Rt)),at(Rt),$()}const[ut,dt]=reactExports.useState({});function ht(Rt){localStorage.setItem("voice2llm_chat_history_teams",JSON.stringify(Rt)),dt(Rt),$()}const[ft,pt]=reactExports.useState(nt),mt=reactExports.useRef();function gt(Rt){mt.current=Rt;let Nt={};Object.keys(Rt).filter(function(Ht){let zt=Rt[Ht];return Object.keys(zt).length===0||zt.hasOwnProperty("samples")&&Object.keys(zt).length===1?!1:!(zt.hasOwnProperty("samples")&&zt.hasOwnProperty("category")&&Object.keys(zt).length===2)}).forEach(function(Ht){Nt[Ht]=Rt[Ht]});let Ft=JSON.stringify(Nt);localStorage.setItem("voice2llm_roles",Ft),pt(mt.current),$()}const[vt,yt]=reactExports.useState(null),bt=reactExports.useRef("");async function xt(Rt,Nt=null){localStorage.setItem("voice2llm_current_role",Rt),yt(Rt),bt.current=Rt,lt&&Nt&&(lt[Nt]=Rt),it(lt),$()}function _t(Rt){ft[Rt]&&window.confirm("Really delete the role "+ft[Rt].name+" ?")&&(delete ft[Rt],gt(ft),b())}const[wt,At]=reactExports.useState({});function Pt(Rt){let Nt=JSON.stringify(Rt);At(Rt),localStorage.setItem("voice2llm_teams",Nt),$()}const[jt,kt]=reactExports.useState({});function St(Rt){kt(Rt),localStorage.setItem("voice2llm_current_team",Rt),ut&&_e&&(ut[_e]=Rt),ht(ut),$()}function Ct(Rt){wt[Rt]&&window.confirm("Really delete the team "+wt[Rt].name+" ?")&&(delete wt[Rt],Pt(wt),b())}function Et(Rt){return Rt==="null"?null:Rt}function Tt(){yt(Et(localStorage.getItem("voice2llm_current_role"))),kt(Et(localStorage.getItem("voice2llm_current_team")));try{const Ft=JSON.parse(localStorage.getItem("voice2llm_roles"));Ft?pt(Ft):gt(defaults.roles)}catch{gt(defaults.roles)}try{it(JSON.parse(localStorage.getItem("voice2llm_chat_history_roles")))}catch{it({})}try{let Ft=JSON.parse(localStorage.getItem("voice2llm_teams"));Pt(Ft||defaults.teams),b()}catch{Pt(defaults.teams),b()}ft||gt(nt),lt||it({}),lt||ht({});let Rt={},Nt=1;Object.values(ft).forEach(function(Ft){Ft&&Array.isArray(Ft.category)&&Ft.category.forEach(function(Ht){Rt[Ht]||(Rt[Ht]=Nt,Nt=Nt+1)})}),Object.values(wt).forEach(function(Ft){Ft&&Array.isArray(Ft.category)&&Ft.category.forEach(function(Ht){Rt[Ht]||(Rt[Ht]=Nt,Nt=Nt+1)})}),tt(Rt)}reactExports.useEffect(function(){Tt()},[]);function $t(){try{const Rt=JSON.parse(localStorage.getItem("voice2llm_roles")),Nt=JSON.parse(localStorage.getItem("voice2llm_teams")),Ft=new Blob([JSON.stringify({roles:Rt,teams:Nt},null,"	")],{type:"application/json"}),Ht=window.URL.createObjectURL(Ft),zt=document.createElement("a");zt.href=Ht,zt.download="roles.json",document.body.appendChild(zt),zt.click(),window.URL.revokeObjectURL(Ht),document.body.removeChild(zt)}catch{}}function Ot(Rt){let Nt={};try{Nt=JSON.parse(localStorage.getItem("voice2llm_roles"))}catch{Nt={}}let Ft={};try{Ft=JSON.parse(localStorage.getItem("voice2llm_teams"))}catch{Ft={}}Nt||(Nt={}),Ft||(Ft={});const Ht=Rt.target.files[0],zt=new FileReader;zt.onload=an=>{const Jt=an.target.result;try{let Zt=JSON.parse(Jt);Zt&&(console.log("TTT",Zt),Zt.roles&&(Object.keys(Zt.roles).forEach(function(Qt){Nt[Qt]=Zt.roles[Qt]}),gt(Nt)),Zt.teams&&(Object.keys(Zt.teams).forEach(function(Qt){Ft[Qt]=Zt.teams[Qt]}),Pt(Ft)),b(),$(),console.log("TTT",Ft))}catch(Zt){console.log(Zt)}},zt.readAsText(Ht)}return{exportRoles:$t,importRoles:Ot,init:Tt,roles:ft,rolesRef:mt,setRoles:gt,currentRole:vt,setCurrentRole:xt,defaultRoles:nt,newRole:st,deleteRole:_t,chatHistoryRoles:lt,setChatHistoryRoles:it,chatHistoryTeams:ut,setChatHistoryTeams:ht,currentRoleRef:bt,setCurrentTeam:St,currentTeam:jt,deleteTeam:Ct,duplicateRole:ct,teams:wt,setTeams:Pt}}function useGoogleDocument(b,$,_e,et,tt,nt,rt){var ot=$?$.access_token:null,st=reactExports.useRef(null);reactExports.useEffect(function(){return $&&$.access_token&&tt&&at(rt,tt),function(){it()}},[$]);function ct(){return new Promise(function(kt,St){var Ct=new XMLHttpRequest;Ct.onload=function(Tt){if(Tt.target.responseText){var $t=JSON.parse(Tt.target.responseText),Ot=!1;$t&&$t.files&&Array.isArray($t.files)&&$t.files.length>0&&Array.isArray($t.files)&&$t.files.forEach(function(Rt){Rt&&Rt.name===b&&(Ot=Rt.id)}),Ot?kt(Ot):yt(b,null,"application/vnd.google-apps.folder","Folder for "+b+" data").then(function(Rt){kt(Rt)})}};var Et="?q="+encodeURIComponent("name='"+b+"' and mimeType = 'application/vnd.google-apps.folder' and trashed = false");Ct.open("GET","https://www.googleapis.com/drive/v3/files"+Et+"&nocache="+String(parseInt(Math.random()*1e9))),Ct.setRequestHeader("Authorization","Bearer "+ot),Ct.send()})}function lt(kt,St,Ct=1){localStorage.getItem("google_last_page_token")?dt().then(function(Et){St&&Array.isArray(Et)&&(Et.length>0?St(Et).then(function(){at(kt,St)}):at(kt,St,Ct<6?Ct+1:Ct))}):ut().then(function(){dt().then(function(Et){St&&Array.isArray(Et)&&(Et.length>0?St(Et).then(function(){at(kt,St)}):at(kt,St,Ct<6?Ct+1:Ct))})})}function at(kt,St,Ct=1){var Et=kt>4e3?kt:15e3;clearTimeout(st.current),st.current=setTimeout(function(){lt(kt,St,Ct)},Et)}function it(){clearTimeout(st.current)}function ut(){return new Promise(function(kt,St){var Ct=!0;if(ot&&Ct){var Et="https://www.googleapis.com/drive/v3/changes/startPageToken";axios({method:"get",url:Et,headers:{Authorization:"Bearer "+ot}}).then(function(Tt){Tt.data&&Tt.data.startPageToken&&localStorage.setItem("google_last_page_token",Tt.data.startPageToken),kt(Tt.data)}).catch(function(Tt){console.log(Tt),Tt&&Tt.response&&Tt.response.status=="401"&&_e(),kt()})}else kt()})}function dt(){return new Promise(function(kt,St){if(nt&&nt.current)kt();else if(localStorage.getItem("google_last_page_token")&&ot){var Ct="https://www.googleapis.com/drive/v3/changes?pageToken="+localStorage.getItem("google_last_page_token");axios({method:"get",url:Ct,headers:{Authorization:"Bearer "+ot}}).then(function(Et){Et&&Et.data&&Et.data.newStartPageToken&&localStorage.setItem("google_last_page_token",Et.data.newStartPageToken),Et&&Et.data&&Array.isArray(Et.data.changes)&&Et.data.changes.length>0?kt(Et.data.changes):kt([])}).catch(function(Et){console.log("axios err",Et),Et&&Et.response&&Et.response.status=="401"&&(console.log("LOGOUT ON AUTH TOKEN FAIL"),_e()),kt()})}else console.log("no token or last page token"),kt()})}function ht(kt){return new Promise(function(St,Ct){if(kt&&ot){var Et="?q="+encodeURIComponent("name='"+kt+"'"),Tt="https://www.googleapis.com/drive/v3/files"+Et;axios({method:"get",url:Tt,headers:{Authorization:"Bearer "+ot}}).then(function($t){St($t.data)}).catch(function($t){$t&&$t.response&&$t.response.status=="401"&&_e(),St()})}else!ot&&localStorage.getItem("google_login_user")&&et(),St()})}function ft(kt,St="text"){return new Promise(function(Ct,Et){kt?axios({method:"get",url:"https://drive.google.com/u/0/uc?id="+kt+"&export=download"}).then(function(Tt){Ct(Tt.data)}).catch(function(Tt){console.log(Tt),Tt&&Tt.response&&Tt.response.status=="401"&&_e(),Ct()}):(!ot&&localStorage.getItem("google_login_user")&&et(),Ct())})}function pt(kt){return new Promise(function(St,Ct){kt&&ot?axios({method:"get",url:"https://www.googleapis.com/drive/v3/files/"+kt+"?alt=media&nocache="+String(parseInt(Math.random()*1e9)),headers:{Authorization:"Bearer "+ot}}).then(function(Et){St(Et.data)}).catch(function(Et){console.log(Et),Et&&Et.response&&Et.response.status=="401"&&(console.log("LOGOUT ON AUTH TOKEN FAIL"),_e()),St()}):(et&&!ot&&localStorage.getItem("google_login_user")&&et(),St())})}function mt(kt){return new Promise(function(St,Ct){console.log("export rec",kt,ot),kt&&ot?axios({method:"get",url:"https://www.googleapis.com/drive/v3/files/"+kt+"/export?mimeType=text/plain",headers:{Authorization:"Bearer "+ot}}).then(function(Et){St(Et.data)}).catch(function(Et){console.log(Et),Et&&Et.response&&Et.response.status=="401"&&_e(),St()}):(et&&!ot&&localStorage.getItem("google_login_user")&&et(),St())})}function gt(kt,St=null){return new Promise(function(Ct,Et){var Tt=St||($?$.access_token:null);kt&&Tt?axios({method:"get",url:"https://www.googleapis.com/drive/v3/files/"+kt+"?alt=media&nocache="+String(parseInt(Math.random()*1e9)),headers:{Authorization:"Bearer "+Tt},responseType:"blob"}).then(function($t){Ct($t.data)}).catch(function($t){console.log($t),$t&&$t.response&&$t.response.status=="401"&&_e(),Ct({error:$t})}):(et&&!ot&&localStorage.getItem("google_login_user")&&et(),Ct({error:"missing token"}))})}function vt(kt){return new Promise(function(St,Ct){kt&&ot?axios({method:"get",url:"https://www.googleapis.com/drive/v3/files/"+kt+"?fields=modifiedTime,name,kind,fileExtension,mimeType,exportLinks,thumbnailLink,size,id,description,trashed,explicitlyTrashed",headers:{Authorization:"Bearer "+ot}}).then(function(Et){St(Et.data)}).catch(function(Et){console.log(Et),Et&&Et.response&&Et.response.status=="401"&&_e(),St()}):(et&&!ot&&localStorage.getItem("google_login_user")&&et(),St())})}function yt(kt,St,Ct="application/vnd.google-apps.document",Et="",Tt=null,$t=null){return new Promise(function(Ot,Rt){var Nt=$t||($?$.access_token:null);if(Ct&&kt&&Nt){var Ft={description:Et,kind:"drive#file",name:kt,mimeType:Ct};Tt&&(Ft.parents=[Tt]),axios({method:"post",url:"https://www.googleapis.com/drive/v3/files",data:Ft,headers:{Authorization:"Bearer "+Nt}}).then(function(Ht){Ht&&Ht.data&&Ht.data.id?St?xt(Ht.data.id,St,Nt).then(function(zt){localStorage.setItem("google_last_page_token",""),Ot(Ht.data.id)}):Ot(Ht.data.id):Ot({error:"failed to get created document id	"})}).catch(function(Ht){console.log(Ht),Ht&&Ht.response&&Ht.response.status=="401"&&_e(),Ot({error:Ht})})}else et&&!ot&&localStorage.getItem("google_login_user")&&et(),Ot({error:["Invalid request missing document title or access token",kt,"TTT",ot,"TTT"]})})}function bt(kt,St){return new Promise(function(Ct,Et){kt&&ot?axios({method:"patch",url:"https://www.googleapis.com/drive/v3/files/"+kt+"?alt=json",data:St,headers:{Authorization:"Bearer "+ot}}).then(function(Tt){localStorage.setItem("google_last_page_token",""),Ct()}).catch(function(Tt){console.log(Tt),Tt&&Tt.response&&Tt.response.status=="401"&&(console.log("LOGOUT ON AUTH TOKEN FAIL"),_e()),Ct({error:Tt})}):(et&&!ot&&localStorage.getItem("google_login_user")&&et(),Ct())})}function xt(kt,St,Ct=null){return new Promise(function(Et,Tt){var $t=Ct||($?$.access_token:null);kt&&$t?axios({method:"patch",url:"https://www.googleapis.com/upload/drive/v3/files/"+kt+"?uploadType=media",headers:{Authorization:"Bearer "+$t},data:St}).then(function(Ot){localStorage.setItem("google_last_page_token",""),Et(Ot)}).catch(function(Ot){console.log(Ot),Ot&&Ot.response&&Ot.response.status=="401"&&(console.log("LOGOUT ON AUTH TOKEN FAIL"),_e()),Et({error:Ot})}):(et&&!ot&&localStorage.getItem("google_login_user")&&et(),Et())})}function _t(kt){return new Promise(function(St,Ct){kt&&ot?axios({method:"delete",url:"https://www.googleapis.com/drive/v2/files/"+kt,headers:{Authorization:"Bearer "+ot}}).then(function(Et){localStorage.setItem("google_last_page_token",""),St(Et)}).catch(function(Et){console.log(Et),Et&&Et.response&&Et.response.status=="401"&&_e(),St({error:Et})}):et&&!ot&&localStorage.getItem("google_login_user")&&et()})}function wt(kt,St){return new Promise(function(Ct,Et){kt&&ot?axios({method:"post",url:"https://www.googleapis.com/drive/v3/files/"+kt+"/permissions",headers:{Authorization:"Bearer "+ot},data:St}).then(function(Tt){Ct(Tt)}).catch(function(Tt){console.log(Tt),Tt&&Tt.response&&Tt.response.status=="401"&&_e(),Ct({error:Tt})}):(et&&!ot&&localStorage.getItem("google_login_user")&&et(),Ct())})}function At(kt){return new Promise(function(St,Ct){kt&&ot?axios({method:"get",url:"https://www.googleapis.com/drive/v3/files/"+kt+"/permissions",headers:{Authorization:"Bearer "+ot}}).then(function(Et){St(Et)}).catch(function(Et){console.log(Et),Et&&Et.response&&Et.response.status=="401"&&_e(),St({error:Et})}):(et&&!ot&&localStorage.getItem("google_login_user")&&et(),St())})}function Pt(kt,St,Ct){return new Promise(function(Et,Tt){kt&&ot?axios({method:"patch",url:"https://www.googleapis.com/drive/v3/files/"+kt+"/permissions/"+St,headers:{Authorization:"Bearer "+ot},data:Ct}).then(function($t){Et($t)}).catch(function($t){console.log($t),$t&&$t.response&&$t.response.status=="401"&&_e(),Et({error:$t})}):(et&&!ot&&localStorage.getItem("google_login_user")&&et(),Et())})}function jt(kt,St){return new Promise(function(Ct,Et){kt&&ot?axios({method:"delete",url:"https://www.googleapis.com/drive/v3/files/"+kt+"/permissions/"+St,headers:{Authorization:"Bearer "+ot}}).then(function(Tt){Ct(Tt)}).catch(function(Tt){console.log(Tt),Tt&&Tt.response&&Tt.response.status=="401"&&_e(),Ct({error:Tt})}):(et&&!ot&&localStorage.getItem("google_login_user")&&et(),Ct())})}return{findGoogleFolderInDrive:ct,getPublicDocument:ft,findDocument:ht,getDocument:pt,getDocumentBlob:gt,getDocumentMeta:vt,updateDocument:bt,updateDocumentData:xt,createDocument:yt,deleteDocument:_t,pollChanges:at,stopPollChanges:it,addPermission:wt,listPermissions:At,updatePermission:Pt,deletePermission:jt,exportDocument:mt}}function usePollingGoogleDocument(b){const{token:$,logout:_e,refresh:et,pollingInterval:tt,onMerge:nt,pausePolling:rt,setGoogleDocumentId:ot,googleDocumentId:st,googleFileName:ct}=b;var lt=useGoogleDocument(ct||"App Storage",$,_e,et,function(ft){return new Promise(function(pt,mt){var gt=ft.filter(function(vt){return vt.fileId===at.current},rt,tt);gt&&gt.length===1?lt.exportDocument(at.current).then(function(vt){nt(vt),pt()}):pt()})},rt,tt);reactExports.useEffect(function(){$&&$.access_token?ht():at.current=null},[$]);var at=reactExports.useRef(null),it=$?$.access_token:null,ut=reactExports.useRef(null);function dt(ft,pt=3e3){return new Promise(function(mt,gt){rt.current=!0,at.current?(clearTimeout(ut.current),ut.current=setTimeout(function(){lt.updateDocumentData(at.current,ft).then(function(){rt.current=!1}),mt()},pt)):mt()})}function ht(){var ft=new XMLHttpRequest;ft.onload=function(mt){if(mt.target.responseText){var gt=JSON.parse(mt.target.responseText),vt=!1;gt&&gt.files&&Array.isArray(gt.files)&&gt.files.length>0&&Array.isArray(gt.files)&&gt.files.forEach(function(yt){yt&&yt.name===ct&&(vt=yt.id)}),vt?(at.current=vt,ot(vt),lt.exportDocument(vt).then(function(yt){nt(yt)})):lt.findGoogleFolderInDrive().then(function(yt){yt&&lt.createDocument(ct,"","application/vnd.google-apps.document","Document for "+ct+" data",yt).then(function(bt){at.current=bt,ot(bt),lt.exportDocument(bt).then(function(xt){nt(xt)})})})}};var pt="?q="+encodeURIComponent("name='"+ct+"' and mimeType != 'application/vnd.google-apps.folder' and trashed = false");ft.open("GET","https://www.googleapis.com/drive/v3/files"+pt+"&nocache="+String(parseInt(Math.random()*1e9))),ft.setRequestHeader("Authorization","Bearer "+it),ft.send()}return{save:dt,exportDocument:lt.exportDocument}}function MergeWarningModal({chatHistoryId:b,chatHistories:$,setChatHistories:_e,logs:et,setLogs:tt,doSave:nt,forceRefresh:rt,mergeData:ot,setMergeData:st,systemConfig:ct,setSystemConfig:lt,roles:at,setRoles:it,category:ut,setCategory:dt,systemMessage:ht,setSystemMessage:ft,chatHistory:pt,setChatHistory:mt,currentRole:gt,setCurrentRole:vt,config:yt,setConfig:bt,setChatHistoryRoles:xt}){function _t(){if(ot){if(ot.config&&bt(ot.config),ot.currentRole&&vt(ot.currentRole),ot.chatHistoryRoles&&xt(ot.chatHistoryRoles),typeof ot.roles=="object"){let Pt=at;Pt||(Pt={}),Object.keys(ot.roles).forEach(function(jt){jt&&ot.roles[jt]&&(Pt[jt]=ot.roles[jt])}),it(Pt)}ot.chatHistories&&($||($={}),Object.keys(ot.chatHistories).forEach(function(Pt){$[Pt]=ot.chatHistories[Pt]}),_e($)),tt(typeof et=="object"?et:{});let At=et;if(typeof ot.logs=="object"){if(Array.isArray(ot.logs.openai_log)){Array.isArray(At.openai_log)||(At.openai_log=[]);let Pt={};At.openai_log.forEach(function(jt){jt&&jt.id&&(Pt[jt.id]=1)}),ot.logs.openai_log.forEach(function(jt){jt&&jt.id&&!Pt.hasOwnProperty(jt.id)&&At.openai_log.push(jt)})}if(Array.isArray(ot.logs.openai_log_stt)){Array.isArray(At.openai_log_stt)||(At.openai_log_stt=[]);let Pt={};At.openai_log_stt.forEach(function(jt){jt&&jt.id&&(Pt[jt.id]=1)}),ot.logs.openai_log_stt.forEach(function(jt){jt&&jt.id&&!Pt.hasOwnProperty(jt.id)&&At.openai_log_stt.push(jt)})}if(Array.isArray(ot.logs.openai_log_tts)){Array.isArray(At.openai_log_tts)||(At.openai_log_tts=[]);let Pt={};At.openai_log_tts.forEach(function(jt){jt&&jt.id&&(Pt[jt.id]=1)}),ot.logs.openai_log_tts.forEach(function(jt){jt&&jt.id&&!Pt.hasOwnProperty(jt.id)&&At.openai_log_tts.push(jt)})}tt(At)}st(null)}}function wt(){nt(),st(null)}return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Modal$2,{show:!0,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{style:{marginRight:"2em"},children:"Merge Warning"})}),jsxRuntimeExports.jsxs(Modal$2.Body,{children:[jsxRuntimeExports.jsx("div",{style:{width:"100%",clear:"both",marginBottom:"2em"},children:"Do you want to merge changes made on another device?"}),jsxRuntimeExports.jsxs(Row,{children:[jsxRuntimeExports.jsx(Col,{className:"mb-3",children:jsxRuntimeExports.jsx(Button,{variant:"success",style:{float:"left",marginLeft:"2em",marginBottom:"0.3em"},onClick:function(){_t()},children:"Yes"})}),jsxRuntimeExports.jsx(Col,{className:"mb-3",children:jsxRuntimeExports.jsx(Button,{variant:"danger",style:{float:"left",marginLeft:"2em",marginBottom:"0.3em"},onClick:function(){wt()},children:"No"})})]})]})]})})}function commonjsRequire(b){throw new Error('Could not dynamically require "'+b+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var localforage$1={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(b,$){(function(_e){b.exports=_e()})(function(){return function _e(et,tt,nt){function rt(ct,lt){if(!tt[ct]){if(!et[ct]){var at=typeof commonjsRequire=="function"&&commonjsRequire;if(!lt&&at)return at(ct,!0);if(ot)return ot(ct,!0);var it=new Error("Cannot find module '"+ct+"'");throw it.code="MODULE_NOT_FOUND",it}var ut=tt[ct]={exports:{}};et[ct][0].call(ut.exports,function(dt){var ht=et[ct][1][dt];return rt(ht||dt)},ut,ut.exports,_e,et,tt,nt)}return tt[ct].exports}for(var ot=typeof commonjsRequire=="function"&&commonjsRequire,st=0;st<nt.length;st++)rt(nt[st]);return rt}({1:[function(_e,et,tt){(function(nt){var rt=nt.MutationObserver||nt.WebKitMutationObserver,ot;if(rt){var st=0,ct=new rt(dt),lt=nt.document.createTextNode("");ct.observe(lt,{characterData:!0}),ot=function(){lt.data=st=++st%2}}else if(!nt.setImmediate&&typeof nt.MessageChannel<"u"){var at=new nt.MessageChannel;at.port1.onmessage=dt,ot=function(){at.port2.postMessage(0)}}else"document"in nt&&"onreadystatechange"in nt.document.createElement("script")?ot=function(){var ft=nt.document.createElement("script");ft.onreadystatechange=function(){dt(),ft.onreadystatechange=null,ft.parentNode.removeChild(ft),ft=null},nt.document.documentElement.appendChild(ft)}:ot=function(){setTimeout(dt,0)};var it,ut=[];function dt(){it=!0;for(var ft,pt,mt=ut.length;mt;){for(pt=ut,ut=[],ft=-1;++ft<mt;)pt[ft]();mt=ut.length}it=!1}et.exports=ht;function ht(ft){ut.push(ft)===1&&!it&&ot()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(_e,et,tt){var nt=_e(1);function rt(){}var ot={},st=["REJECTED"],ct=["FULFILLED"],lt=["PENDING"];et.exports=at;function at(yt){if(typeof yt!="function")throw new TypeError("resolver must be a function");this.state=lt,this.queue=[],this.outcome=void 0,yt!==rt&&ht(this,yt)}at.prototype.catch=function(yt){return this.then(null,yt)},at.prototype.then=function(yt,bt){if(typeof yt!="function"&&this.state===ct||typeof bt!="function"&&this.state===st)return this;var xt=new this.constructor(rt);if(this.state!==lt){var _t=this.state===ct?yt:bt;ut(xt,_t,this.outcome)}else this.queue.push(new it(xt,yt,bt));return xt};function it(yt,bt,xt){this.promise=yt,typeof bt=="function"&&(this.onFulfilled=bt,this.callFulfilled=this.otherCallFulfilled),typeof xt=="function"&&(this.onRejected=xt,this.callRejected=this.otherCallRejected)}it.prototype.callFulfilled=function(yt){ot.resolve(this.promise,yt)},it.prototype.otherCallFulfilled=function(yt){ut(this.promise,this.onFulfilled,yt)},it.prototype.callRejected=function(yt){ot.reject(this.promise,yt)},it.prototype.otherCallRejected=function(yt){ut(this.promise,this.onRejected,yt)};function ut(yt,bt,xt){nt(function(){var _t;try{_t=bt(xt)}catch(wt){return ot.reject(yt,wt)}_t===yt?ot.reject(yt,new TypeError("Cannot resolve promise with itself")):ot.resolve(yt,_t)})}ot.resolve=function(yt,bt){var xt=ft(dt,bt);if(xt.status==="error")return ot.reject(yt,xt.value);var _t=xt.value;if(_t)ht(yt,_t);else{yt.state=ct,yt.outcome=bt;for(var wt=-1,At=yt.queue.length;++wt<At;)yt.queue[wt].callFulfilled(bt)}return yt},ot.reject=function(yt,bt){yt.state=st,yt.outcome=bt;for(var xt=-1,_t=yt.queue.length;++xt<_t;)yt.queue[xt].callRejected(bt);return yt};function dt(yt){var bt=yt&&yt.then;if(yt&&(typeof yt=="object"||typeof yt=="function")&&typeof bt=="function")return function(){bt.apply(yt,arguments)}}function ht(yt,bt){var xt=!1;function _t(jt){xt||(xt=!0,ot.reject(yt,jt))}function wt(jt){xt||(xt=!0,ot.resolve(yt,jt))}function At(){bt(wt,_t)}var Pt=ft(At);Pt.status==="error"&&_t(Pt.value)}function ft(yt,bt){var xt={};try{xt.value=yt(bt),xt.status="success"}catch(_t){xt.status="error",xt.value=_t}return xt}at.resolve=pt;function pt(yt){return yt instanceof this?yt:ot.resolve(new this(rt),yt)}at.reject=mt;function mt(yt){var bt=new this(rt);return ot.reject(bt,yt)}at.all=gt;function gt(yt){var bt=this;if(Object.prototype.toString.call(yt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var xt=yt.length,_t=!1;if(!xt)return this.resolve([]);for(var wt=new Array(xt),At=0,Pt=-1,jt=new this(rt);++Pt<xt;)kt(yt[Pt],Pt);return jt;function kt(St,Ct){bt.resolve(St).then(Et,function(Tt){_t||(_t=!0,ot.reject(jt,Tt))});function Et(Tt){wt[Ct]=Tt,++At===xt&&!_t&&(_t=!0,ot.resolve(jt,wt))}}}at.race=vt;function vt(yt){var bt=this;if(Object.prototype.toString.call(yt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var xt=yt.length,_t=!1;if(!xt)return this.resolve([]);for(var wt=-1,At=new this(rt);++wt<xt;)Pt(yt[wt]);return At;function Pt(jt){bt.resolve(jt).then(function(kt){_t||(_t=!0,ot.resolve(At,kt))},function(kt){_t||(_t=!0,ot.reject(At,kt))})}}},{1:1}],3:[function(_e,et,tt){(function(nt){typeof nt.Promise!="function"&&(nt.Promise=_e(2))}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(_e,et,tt){var nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Lt){return typeof Lt}:function(Lt){return Lt&&typeof Symbol=="function"&&Lt.constructor===Symbol&&Lt!==Symbol.prototype?"symbol":typeof Lt};function rt(Lt,Wt){if(!(Lt instanceof Wt))throw new TypeError("Cannot call a class as a function")}function ot(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var st=ot();function ct(){try{if(!st||!st.open)return!1;var Lt=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Wt=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Lt||Wt)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function lt(Lt,Wt){Lt=Lt||[],Wt=Wt||{};try{return new Blob(Lt,Wt)}catch(Xt){if(Xt.name!=="TypeError")throw Xt;for(var Bt=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,tn=new Bt,sn=0;sn<Lt.length;sn+=1)tn.append(Lt[sn]);return tn.getBlob(Wt.type)}}typeof Promise>"u"&&_e(3);var at=Promise;function it(Lt,Wt){Wt&&Lt.then(function(Bt){Wt(null,Bt)},function(Bt){Wt(Bt)})}function ut(Lt,Wt,Bt){typeof Wt=="function"&&Lt.then(Wt),typeof Bt=="function"&&Lt.catch(Bt)}function dt(Lt){return typeof Lt!="string"&&(console.warn(Lt+" used as a key, but it is not a string."),Lt=String(Lt)),Lt}function ht(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var ft="local-forage-detect-blob-support",pt=void 0,mt={},gt=Object.prototype.toString,vt="readonly",yt="readwrite";function bt(Lt){for(var Wt=Lt.length,Bt=new ArrayBuffer(Wt),tn=new Uint8Array(Bt),sn=0;sn<Wt;sn++)tn[sn]=Lt.charCodeAt(sn);return Bt}function xt(Lt){return new at(function(Wt){var Bt=Lt.transaction(ft,yt),tn=lt([""]);Bt.objectStore(ft).put(tn,"key"),Bt.onabort=function(sn){sn.preventDefault(),sn.stopPropagation(),Wt(!1)},Bt.oncomplete=function(){var sn=navigator.userAgent.match(/Chrome\/(\d+)/),Xt=navigator.userAgent.match(/Edge\//);Wt(Xt||!sn||parseInt(sn[1],10)>=43)}}).catch(function(){return!1})}function _t(Lt){return typeof pt=="boolean"?at.resolve(pt):xt(Lt).then(function(Wt){return pt=Wt,pt})}function wt(Lt){var Wt=mt[Lt.name],Bt={};Bt.promise=new at(function(tn,sn){Bt.resolve=tn,Bt.reject=sn}),Wt.deferredOperations.push(Bt),Wt.dbReady?Wt.dbReady=Wt.dbReady.then(function(){return Bt.promise}):Wt.dbReady=Bt.promise}function At(Lt){var Wt=mt[Lt.name],Bt=Wt.deferredOperations.pop();if(Bt)return Bt.resolve(),Bt.promise}function Pt(Lt,Wt){var Bt=mt[Lt.name],tn=Bt.deferredOperations.pop();if(tn)return tn.reject(Wt),tn.promise}function jt(Lt,Wt){return new at(function(Bt,tn){if(mt[Lt.name]=mt[Lt.name]||Ft(),Lt.db)if(Wt)wt(Lt),Lt.db.close();else return Bt(Lt.db);var sn=[Lt.name];Wt&&sn.push(Lt.version);var Xt=st.open.apply(st,sn);Wt&&(Xt.onupgradeneeded=function(_n){var Rn=Xt.result;try{Rn.createObjectStore(Lt.storeName),_n.oldVersion<=1&&Rn.createObjectStore(ft)}catch(Nn){if(Nn.name==="ConstraintError")console.warn('The database "'+Lt.name+'" has been upgraded from version '+_n.oldVersion+" to version "+_n.newVersion+', but the storage "'+Lt.storeName+'" already exists.');else throw Nn}}),Xt.onerror=function(_n){_n.preventDefault(),tn(Xt.error)},Xt.onsuccess=function(){var _n=Xt.result;_n.onversionchange=function(Rn){Rn.target.close()},Bt(_n),At(Lt)}})}function kt(Lt){return jt(Lt,!1)}function St(Lt){return jt(Lt,!0)}function Ct(Lt,Wt){if(!Lt.db)return!0;var Bt=!Lt.db.objectStoreNames.contains(Lt.storeName),tn=Lt.version<Lt.db.version,sn=Lt.version>Lt.db.version;if(tn&&(Lt.version!==Wt&&console.warn('The database "'+Lt.name+`" can't be downgraded from version `+Lt.db.version+" to version "+Lt.version+"."),Lt.version=Lt.db.version),sn||Bt){if(Bt){var Xt=Lt.db.version+1;Xt>Lt.version&&(Lt.version=Xt)}return!0}return!1}function Et(Lt){return new at(function(Wt,Bt){var tn=new FileReader;tn.onerror=Bt,tn.onloadend=function(sn){var Xt=btoa(sn.target.result||"");Wt({__local_forage_encoded_blob:!0,data:Xt,type:Lt.type})},tn.readAsBinaryString(Lt)})}function Tt(Lt){var Wt=bt(atob(Lt.data));return lt([Wt],{type:Lt.type})}function $t(Lt){return Lt&&Lt.__local_forage_encoded_blob}function Ot(Lt){var Wt=this,Bt=Wt._initReady().then(function(){var tn=mt[Wt._dbInfo.name];if(tn&&tn.dbReady)return tn.dbReady});return ut(Bt,Lt,Lt),Bt}function Rt(Lt){wt(Lt);for(var Wt=mt[Lt.name],Bt=Wt.forages,tn=0;tn<Bt.length;tn++){var sn=Bt[tn];sn._dbInfo.db&&(sn._dbInfo.db.close(),sn._dbInfo.db=null)}return Lt.db=null,kt(Lt).then(function(Xt){return Lt.db=Xt,Ct(Lt)?St(Lt):Xt}).then(function(Xt){Lt.db=Wt.db=Xt;for(var _n=0;_n<Bt.length;_n++)Bt[_n]._dbInfo.db=Xt}).catch(function(Xt){throw Pt(Lt,Xt),Xt})}function Nt(Lt,Wt,Bt,tn){tn===void 0&&(tn=1);try{var sn=Lt.db.transaction(Lt.storeName,Wt);Bt(null,sn)}catch(Xt){if(tn>0&&(!Lt.db||Xt.name==="InvalidStateError"||Xt.name==="NotFoundError"))return at.resolve().then(function(){if(!Lt.db||Xt.name==="NotFoundError"&&!Lt.db.objectStoreNames.contains(Lt.storeName)&&Lt.version<=Lt.db.version)return Lt.db&&(Lt.version=Lt.db.version+1),St(Lt)}).then(function(){return Rt(Lt).then(function(){Nt(Lt,Wt,Bt,tn-1)})}).catch(Bt);Bt(Xt)}}function Ft(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Ht(Lt){var Wt=this,Bt={db:null};if(Lt)for(var tn in Lt)Bt[tn]=Lt[tn];var sn=mt[Bt.name];sn||(sn=Ft(),mt[Bt.name]=sn),sn.forages.push(Wt),Wt._initReady||(Wt._initReady=Wt.ready,Wt.ready=Ot);var Xt=[];function _n(){return at.resolve()}for(var Rn=0;Rn<sn.forages.length;Rn++){var Nn=sn.forages[Rn];Nn!==Wt&&Xt.push(Nn._initReady().catch(_n))}var Dt=sn.forages.slice(0);return at.all(Xt).then(function(){return Bt.db=sn.db,kt(Bt)}).then(function(Mt){return Bt.db=Mt,Ct(Bt,Wt._defaultConfig.version)?St(Bt):Mt}).then(function(Mt){Bt.db=sn.db=Mt,Wt._dbInfo=Bt;for(var It=0;It<Dt.length;It++){var Kt=Dt[It];Kt!==Wt&&(Kt._dbInfo.db=Bt.db,Kt._dbInfo.version=Bt.version)}})}function zt(Lt,Wt){var Bt=this;Lt=dt(Lt);var tn=new at(function(sn,Xt){Bt.ready().then(function(){Nt(Bt._dbInfo,vt,function(_n,Rn){if(_n)return Xt(_n);try{var Nn=Rn.objectStore(Bt._dbInfo.storeName),Dt=Nn.get(Lt);Dt.onsuccess=function(){var Mt=Dt.result;Mt===void 0&&(Mt=null),$t(Mt)&&(Mt=Tt(Mt)),sn(Mt)},Dt.onerror=function(){Xt(Dt.error)}}catch(Mt){Xt(Mt)}})}).catch(Xt)});return it(tn,Wt),tn}function an(Lt,Wt){var Bt=this,tn=new at(function(sn,Xt){Bt.ready().then(function(){Nt(Bt._dbInfo,vt,function(_n,Rn){if(_n)return Xt(_n);try{var Nn=Rn.objectStore(Bt._dbInfo.storeName),Dt=Nn.openCursor(),Mt=1;Dt.onsuccess=function(){var It=Dt.result;if(It){var Kt=It.value;$t(Kt)&&(Kt=Tt(Kt));var yn=Lt(Kt,It.key,Mt++);yn!==void 0?sn(yn):It.continue()}else sn()},Dt.onerror=function(){Xt(Dt.error)}}catch(It){Xt(It)}})}).catch(Xt)});return it(tn,Wt),tn}function Jt(Lt,Wt,Bt){var tn=this;Lt=dt(Lt);var sn=new at(function(Xt,_n){var Rn;tn.ready().then(function(){return Rn=tn._dbInfo,gt.call(Wt)==="[object Blob]"?_t(Rn.db).then(function(Nn){return Nn?Wt:Et(Wt)}):Wt}).then(function(Nn){Nt(tn._dbInfo,yt,function(Dt,Mt){if(Dt)return _n(Dt);try{var It=Mt.objectStore(tn._dbInfo.storeName);Nn===null&&(Nn=void 0);var Kt=It.put(Nn,Lt);Mt.oncomplete=function(){Nn===void 0&&(Nn=null),Xt(Nn)},Mt.onabort=Mt.onerror=function(){var yn=Kt.error?Kt.error:Kt.transaction.error;_n(yn)}}catch(yn){_n(yn)}})}).catch(_n)});return it(sn,Bt),sn}function Zt(Lt,Wt){var Bt=this;Lt=dt(Lt);var tn=new at(function(sn,Xt){Bt.ready().then(function(){Nt(Bt._dbInfo,yt,function(_n,Rn){if(_n)return Xt(_n);try{var Nn=Rn.objectStore(Bt._dbInfo.storeName),Dt=Nn.delete(Lt);Rn.oncomplete=function(){sn()},Rn.onerror=function(){Xt(Dt.error)},Rn.onabort=function(){var Mt=Dt.error?Dt.error:Dt.transaction.error;Xt(Mt)}}catch(Mt){Xt(Mt)}})}).catch(Xt)});return it(tn,Wt),tn}function Qt(Lt){var Wt=this,Bt=new at(function(tn,sn){Wt.ready().then(function(){Nt(Wt._dbInfo,yt,function(Xt,_n){if(Xt)return sn(Xt);try{var Rn=_n.objectStore(Wt._dbInfo.storeName),Nn=Rn.clear();_n.oncomplete=function(){tn()},_n.onabort=_n.onerror=function(){var Dt=Nn.error?Nn.error:Nn.transaction.error;sn(Dt)}}catch(Dt){sn(Dt)}})}).catch(sn)});return it(Bt,Lt),Bt}function qt(Lt){var Wt=this,Bt=new at(function(tn,sn){Wt.ready().then(function(){Nt(Wt._dbInfo,vt,function(Xt,_n){if(Xt)return sn(Xt);try{var Rn=_n.objectStore(Wt._dbInfo.storeName),Nn=Rn.count();Nn.onsuccess=function(){tn(Nn.result)},Nn.onerror=function(){sn(Nn.error)}}catch(Dt){sn(Dt)}})}).catch(sn)});return it(Bt,Lt),Bt}function vn(Lt,Wt){var Bt=this,tn=new at(function(sn,Xt){if(Lt<0){sn(null);return}Bt.ready().then(function(){Nt(Bt._dbInfo,vt,function(_n,Rn){if(_n)return Xt(_n);try{var Nn=Rn.objectStore(Bt._dbInfo.storeName),Dt=!1,Mt=Nn.openKeyCursor();Mt.onsuccess=function(){var It=Mt.result;if(!It){sn(null);return}Lt===0||Dt?sn(It.key):(Dt=!0,It.advance(Lt))},Mt.onerror=function(){Xt(Mt.error)}}catch(It){Xt(It)}})}).catch(Xt)});return it(tn,Wt),tn}function Yt(Lt){var Wt=this,Bt=new at(function(tn,sn){Wt.ready().then(function(){Nt(Wt._dbInfo,vt,function(Xt,_n){if(Xt)return sn(Xt);try{var Rn=_n.objectStore(Wt._dbInfo.storeName),Nn=Rn.openKeyCursor(),Dt=[];Nn.onsuccess=function(){var Mt=Nn.result;if(!Mt){tn(Dt);return}Dt.push(Mt.key),Mt.continue()},Nn.onerror=function(){sn(Nn.error)}}catch(Mt){sn(Mt)}})}).catch(sn)});return it(Bt,Lt),Bt}function rn(Lt,Wt){Wt=ht.apply(this,arguments);var Bt=this.config();Lt=typeof Lt!="function"&&Lt||{},Lt.name||(Lt.name=Lt.name||Bt.name,Lt.storeName=Lt.storeName||Bt.storeName);var tn=this,sn;if(!Lt.name)sn=at.reject("Invalid arguments");else{var Xt=Lt.name===Bt.name&&tn._dbInfo.db,_n=Xt?at.resolve(tn._dbInfo.db):kt(Lt).then(function(Rn){var Nn=mt[Lt.name],Dt=Nn.forages;Nn.db=Rn;for(var Mt=0;Mt<Dt.length;Mt++)Dt[Mt]._dbInfo.db=Rn;return Rn});Lt.storeName?sn=_n.then(function(Rn){if(Rn.objectStoreNames.contains(Lt.storeName)){var Nn=Rn.version+1;wt(Lt);var Dt=mt[Lt.name],Mt=Dt.forages;Rn.close();for(var It=0;It<Mt.length;It++){var Kt=Mt[It];Kt._dbInfo.db=null,Kt._dbInfo.version=Nn}var yn=new at(function(xn,mn){var jn=st.open(Lt.name,Nn);jn.onerror=function(cr){var pr=jn.result;pr.close(),mn(cr)},jn.onupgradeneeded=function(){var cr=jn.result;cr.deleteObjectStore(Lt.storeName)},jn.onsuccess=function(){var cr=jn.result;cr.close(),xn(cr)}});return yn.then(function(xn){Dt.db=xn;for(var mn=0;mn<Mt.length;mn++){var jn=Mt[mn];jn._dbInfo.db=xn,At(jn._dbInfo)}}).catch(function(xn){throw(Pt(Lt,xn)||at.resolve()).catch(function(){}),xn})}}):sn=_n.then(function(Rn){wt(Lt);var Nn=mt[Lt.name],Dt=Nn.forages;Rn.close();for(var Mt=0;Mt<Dt.length;Mt++){var It=Dt[Mt];It._dbInfo.db=null}var Kt=new at(function(yn,xn){var mn=st.deleteDatabase(Lt.name);mn.onerror=function(){var jn=mn.result;jn&&jn.close(),xn(mn.error)},mn.onblocked=function(){console.warn('dropInstance blocked for database "'+Lt.name+'" until all open connections are closed')},mn.onsuccess=function(){var jn=mn.result;jn&&jn.close(),yn(jn)}});return Kt.then(function(yn){Nn.db=yn;for(var xn=0;xn<Dt.length;xn++){var mn=Dt[xn];At(mn._dbInfo)}}).catch(function(yn){throw(Pt(Lt,yn)||at.resolve()).catch(function(){}),yn})})}return it(sn,Wt),sn}var pn={_driver:"asyncStorage",_initStorage:Ht,_support:ct(),iterate:an,getItem:zt,setItem:Jt,removeItem:Zt,clear:Qt,length:qt,key:vn,keys:Yt,dropInstance:rn};function $n(){return typeof openDatabase=="function"}var on="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tn="~~local_forage_type~",kn=/^~~local_forage_type~([^~]+)~/,Bn="__lfsc__:",On=Bn.length,dn="arbf",wn="blob",bn="si08",Sn="ui08",Pn="uic8",In="si16",Ln="si32",Xn="ur16",rr="ui32",sr="fl32",dr="fl64",lr=On+dn.length,Gn=Object.prototype.toString;function Ut(Lt){var Wt=Lt.length*.75,Bt=Lt.length,tn,sn=0,Xt,_n,Rn,Nn;Lt[Lt.length-1]==="="&&(Wt--,Lt[Lt.length-2]==="="&&Wt--);var Dt=new ArrayBuffer(Wt),Mt=new Uint8Array(Dt);for(tn=0;tn<Bt;tn+=4)Xt=on.indexOf(Lt[tn]),_n=on.indexOf(Lt[tn+1]),Rn=on.indexOf(Lt[tn+2]),Nn=on.indexOf(Lt[tn+3]),Mt[sn++]=Xt<<2|_n>>4,Mt[sn++]=(_n&15)<<4|Rn>>2,Mt[sn++]=(Rn&3)<<6|Nn&63;return Dt}function ln(Lt){var Wt=new Uint8Array(Lt),Bt="",tn;for(tn=0;tn<Wt.length;tn+=3)Bt+=on[Wt[tn]>>2],Bt+=on[(Wt[tn]&3)<<4|Wt[tn+1]>>4],Bt+=on[(Wt[tn+1]&15)<<2|Wt[tn+2]>>6],Bt+=on[Wt[tn+2]&63];return Wt.length%3===2?Bt=Bt.substring(0,Bt.length-1)+"=":Wt.length%3===1&&(Bt=Bt.substring(0,Bt.length-2)+"=="),Bt}function gn(Lt,Wt){var Bt="";if(Lt&&(Bt=Gn.call(Lt)),Lt&&(Bt==="[object ArrayBuffer]"||Lt.buffer&&Gn.call(Lt.buffer)==="[object ArrayBuffer]")){var tn,sn=Bn;Lt instanceof ArrayBuffer?(tn=Lt,sn+=dn):(tn=Lt.buffer,Bt==="[object Int8Array]"?sn+=bn:Bt==="[object Uint8Array]"?sn+=Sn:Bt==="[object Uint8ClampedArray]"?sn+=Pn:Bt==="[object Int16Array]"?sn+=In:Bt==="[object Uint16Array]"?sn+=Xn:Bt==="[object Int32Array]"?sn+=Ln:Bt==="[object Uint32Array]"?sn+=rr:Bt==="[object Float32Array]"?sn+=sr:Bt==="[object Float64Array]"?sn+=dr:Wt(new Error("Failed to get type for BinaryArray"))),Wt(sn+ln(tn))}else if(Bt==="[object Blob]"){var Xt=new FileReader;Xt.onload=function(){var _n=Tn+Lt.type+"~"+ln(this.result);Wt(Bn+wn+_n)},Xt.readAsArrayBuffer(Lt)}else try{Wt(JSON.stringify(Lt))}catch(_n){console.error("Couldn't convert value into a JSON string: ",Lt),Wt(null,_n)}}function Cn(Lt){if(Lt.substring(0,On)!==Bn)return JSON.parse(Lt);var Wt=Lt.substring(lr),Bt=Lt.substring(On,lr),tn;if(Bt===wn&&kn.test(Wt)){var sn=Wt.match(kn);tn=sn[1],Wt=Wt.substring(sn[0].length)}var Xt=Ut(Wt);switch(Bt){case dn:return Xt;case wn:return lt([Xt],{type:tn});case bn:return new Int8Array(Xt);case Sn:return new Uint8Array(Xt);case Pn:return new Uint8ClampedArray(Xt);case In:return new Int16Array(Xt);case Xn:return new Uint16Array(Xt);case Ln:return new Int32Array(Xt);case rr:return new Uint32Array(Xt);case sr:return new Float32Array(Xt);case dr:return new Float64Array(Xt);default:throw new Error("Unkown type: "+Bt)}}var Fn={serialize:gn,deserialize:Cn,stringToBuffer:Ut,bufferToString:ln};function Dn(Lt,Wt,Bt,tn){Lt.executeSql("CREATE TABLE IF NOT EXISTS "+Wt.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Bt,tn)}function Un(Lt){var Wt=this,Bt={db:null};if(Lt)for(var tn in Lt)Bt[tn]=typeof Lt[tn]!="string"?Lt[tn].toString():Lt[tn];var sn=new at(function(Xt,_n){try{Bt.db=openDatabase(Bt.name,String(Bt.version),Bt.description,Bt.size)}catch(Rn){return _n(Rn)}Bt.db.transaction(function(Rn){Dn(Rn,Bt,function(){Wt._dbInfo=Bt,Xt()},function(Nn,Dt){_n(Dt)})},_n)});return Bt.serializer=Fn,sn}function or(Lt,Wt,Bt,tn,sn,Xt){Lt.executeSql(Bt,tn,sn,function(_n,Rn){Rn.code===Rn.SYNTAX_ERR?_n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Wt.storeName],function(Nn,Dt){Dt.rows.length?Xt(Nn,Rn):Dn(Nn,Wt,function(){Nn.executeSql(Bt,tn,sn,Xt)},Xt)},Xt):Xt(_n,Rn)},Xt)}function tr(Lt,Wt){var Bt=this;Lt=dt(Lt);var tn=new at(function(sn,Xt){Bt.ready().then(function(){var _n=Bt._dbInfo;_n.db.transaction(function(Rn){or(Rn,_n,"SELECT * FROM "+_n.storeName+" WHERE key = ? LIMIT 1",[Lt],function(Nn,Dt){var Mt=Dt.rows.length?Dt.rows.item(0).value:null;Mt&&(Mt=_n.serializer.deserialize(Mt)),sn(Mt)},function(Nn,Dt){Xt(Dt)})})}).catch(Xt)});return it(tn,Wt),tn}function Vt(Lt,Wt){var Bt=this,tn=new at(function(sn,Xt){Bt.ready().then(function(){var _n=Bt._dbInfo;_n.db.transaction(function(Rn){or(Rn,_n,"SELECT * FROM "+_n.storeName,[],function(Nn,Dt){for(var Mt=Dt.rows,It=Mt.length,Kt=0;Kt<It;Kt++){var yn=Mt.item(Kt),xn=yn.value;if(xn&&(xn=_n.serializer.deserialize(xn)),xn=Lt(xn,yn.key,Kt+1),xn!==void 0){sn(xn);return}}sn()},function(Nn,Dt){Xt(Dt)})})}).catch(Xt)});return it(tn,Wt),tn}function hn(Lt,Wt,Bt,tn){var sn=this;Lt=dt(Lt);var Xt=new at(function(_n,Rn){sn.ready().then(function(){Wt===void 0&&(Wt=null);var Nn=Wt,Dt=sn._dbInfo;Dt.serializer.serialize(Wt,function(Mt,It){It?Rn(It):Dt.db.transaction(function(Kt){or(Kt,Dt,"INSERT OR REPLACE INTO "+Dt.storeName+" (key, value) VALUES (?, ?)",[Lt,Mt],function(){_n(Nn)},function(yn,xn){Rn(xn)})},function(Kt){if(Kt.code===Kt.QUOTA_ERR){if(tn>0){_n(hn.apply(sn,[Lt,Nn,Bt,tn-1]));return}Rn(Kt)}})})}).catch(Rn)});return it(Xt,Bt),Xt}function cn(Lt,Wt,Bt){return hn.apply(this,[Lt,Wt,Bt,1])}function fn(Lt,Wt){var Bt=this;Lt=dt(Lt);var tn=new at(function(sn,Xt){Bt.ready().then(function(){var _n=Bt._dbInfo;_n.db.transaction(function(Rn){or(Rn,_n,"DELETE FROM "+_n.storeName+" WHERE key = ?",[Lt],function(){sn()},function(Nn,Dt){Xt(Dt)})})}).catch(Xt)});return it(tn,Wt),tn}function Gt(Lt){var Wt=this,Bt=new at(function(tn,sn){Wt.ready().then(function(){var Xt=Wt._dbInfo;Xt.db.transaction(function(_n){or(_n,Xt,"DELETE FROM "+Xt.storeName,[],function(){tn()},function(Rn,Nn){sn(Nn)})})}).catch(sn)});return it(Bt,Lt),Bt}function An(Lt){var Wt=this,Bt=new at(function(tn,sn){Wt.ready().then(function(){var Xt=Wt._dbInfo;Xt.db.transaction(function(_n){or(_n,Xt,"SELECT COUNT(key) as c FROM "+Xt.storeName,[],function(Rn,Nn){var Dt=Nn.rows.item(0).c;tn(Dt)},function(Rn,Nn){sn(Nn)})})}).catch(sn)});return it(Bt,Lt),Bt}function zn(Lt,Wt){var Bt=this,tn=new at(function(sn,Xt){Bt.ready().then(function(){var _n=Bt._dbInfo;_n.db.transaction(function(Rn){or(Rn,_n,"SELECT key FROM "+_n.storeName+" WHERE id = ? LIMIT 1",[Lt+1],function(Nn,Dt){var Mt=Dt.rows.length?Dt.rows.item(0).key:null;sn(Mt)},function(Nn,Dt){Xt(Dt)})})}).catch(Xt)});return it(tn,Wt),tn}function Zn(Lt){var Wt=this,Bt=new at(function(tn,sn){Wt.ready().then(function(){var Xt=Wt._dbInfo;Xt.db.transaction(function(_n){or(_n,Xt,"SELECT key FROM "+Xt.storeName,[],function(Rn,Nn){for(var Dt=[],Mt=0;Mt<Nn.rows.length;Mt++)Dt.push(Nn.rows.item(Mt).key);tn(Dt)},function(Rn,Nn){sn(Nn)})})}).catch(sn)});return it(Bt,Lt),Bt}function Vn(Lt){return new at(function(Wt,Bt){Lt.transaction(function(tn){tn.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(sn,Xt){for(var _n=[],Rn=0;Rn<Xt.rows.length;Rn++)_n.push(Xt.rows.item(Rn).name);Wt({db:Lt,storeNames:_n})},function(sn,Xt){Bt(Xt)})},function(tn){Bt(tn)})})}function Kn(Lt,Wt){Wt=ht.apply(this,arguments);var Bt=this.config();Lt=typeof Lt!="function"&&Lt||{},Lt.name||(Lt.name=Lt.name||Bt.name,Lt.storeName=Lt.storeName||Bt.storeName);var tn=this,sn;return Lt.name?sn=new at(function(Xt){var _n;Lt.name===Bt.name?_n=tn._dbInfo.db:_n=openDatabase(Lt.name,"","",0),Lt.storeName?Xt({db:_n,storeNames:[Lt.storeName]}):Xt(Vn(_n))}).then(function(Xt){return new at(function(_n,Rn){Xt.db.transaction(function(Nn){function Dt(yn){return new at(function(xn,mn){Nn.executeSql("DROP TABLE IF EXISTS "+yn,[],function(){xn()},function(jn,cr){mn(cr)})})}for(var Mt=[],It=0,Kt=Xt.storeNames.length;It<Kt;It++)Mt.push(Dt(Xt.storeNames[It]));at.all(Mt).then(function(){_n()}).catch(function(yn){Rn(yn)})},function(Nn){Rn(Nn)})})}):sn=at.reject("Invalid arguments"),it(sn,Wt),sn}var Wn={_driver:"webSQLStorage",_initStorage:Un,_support:$n(),iterate:Vt,getItem:tr,setItem:cn,removeItem:fn,clear:Gt,length:An,key:zn,keys:Zn,dropInstance:Kn};function Qn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function nr(Lt,Wt){var Bt=Lt.name+"/";return Lt.storeName!==Wt.storeName&&(Bt+=Lt.storeName+"/"),Bt}function ar(){var Lt="_localforage_support_test";try{return localStorage.setItem(Lt,!0),localStorage.removeItem(Lt),!1}catch{return!0}}function yr(){return!ar()||localStorage.length>0}function vr(Lt){var Wt=this,Bt={};if(Lt)for(var tn in Lt)Bt[tn]=Lt[tn];return Bt.keyPrefix=nr(Lt,Wt._defaultConfig),yr()?(Wt._dbInfo=Bt,Bt.serializer=Fn,at.resolve()):at.reject()}function gr(Lt){var Wt=this,Bt=Wt.ready().then(function(){for(var tn=Wt._dbInfo.keyPrefix,sn=localStorage.length-1;sn>=0;sn--){var Xt=localStorage.key(sn);Xt.indexOf(tn)===0&&localStorage.removeItem(Xt)}});return it(Bt,Lt),Bt}function mr(Lt,Wt){var Bt=this;Lt=dt(Lt);var tn=Bt.ready().then(function(){var sn=Bt._dbInfo,Xt=localStorage.getItem(sn.keyPrefix+Lt);return Xt&&(Xt=sn.serializer.deserialize(Xt)),Xt});return it(tn,Wt),tn}function qn(Lt,Wt){var Bt=this,tn=Bt.ready().then(function(){for(var sn=Bt._dbInfo,Xt=sn.keyPrefix,_n=Xt.length,Rn=localStorage.length,Nn=1,Dt=0;Dt<Rn;Dt++){var Mt=localStorage.key(Dt);if(Mt.indexOf(Xt)===0){var It=localStorage.getItem(Mt);if(It&&(It=sn.serializer.deserialize(It)),It=Lt(It,Mt.substring(_n),Nn++),It!==void 0)return It}}});return it(tn,Wt),tn}function Er(Lt,Wt){var Bt=this,tn=Bt.ready().then(function(){var sn=Bt._dbInfo,Xt;try{Xt=localStorage.key(Lt)}catch{Xt=null}return Xt&&(Xt=Xt.substring(sn.keyPrefix.length)),Xt});return it(tn,Wt),tn}function Sr(Lt){var Wt=this,Bt=Wt.ready().then(function(){for(var tn=Wt._dbInfo,sn=localStorage.length,Xt=[],_n=0;_n<sn;_n++){var Rn=localStorage.key(_n);Rn.indexOf(tn.keyPrefix)===0&&Xt.push(Rn.substring(tn.keyPrefix.length))}return Xt});return it(Bt,Lt),Bt}function Dr(Lt){var Wt=this,Bt=Wt.keys().then(function(tn){return tn.length});return it(Bt,Lt),Bt}function Yn(Lt,Wt){var Bt=this;Lt=dt(Lt);var tn=Bt.ready().then(function(){var sn=Bt._dbInfo;localStorage.removeItem(sn.keyPrefix+Lt)});return it(tn,Wt),tn}function en(Lt,Wt,Bt){var tn=this;Lt=dt(Lt);var sn=tn.ready().then(function(){Wt===void 0&&(Wt=null);var Xt=Wt;return new at(function(_n,Rn){var Nn=tn._dbInfo;Nn.serializer.serialize(Wt,function(Dt,Mt){if(Mt)Rn(Mt);else try{localStorage.setItem(Nn.keyPrefix+Lt,Dt),_n(Xt)}catch(It){(It.name==="QuotaExceededError"||It.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Rn(It),Rn(It)}})})});return it(sn,Bt),sn}function Mn(Lt,Wt){if(Wt=ht.apply(this,arguments),Lt=typeof Lt!="function"&&Lt||{},!Lt.name){var Bt=this.config();Lt.name=Lt.name||Bt.name,Lt.storeName=Lt.storeName||Bt.storeName}var tn=this,sn;return Lt.name?sn=new at(function(Xt){Lt.storeName?Xt(nr(Lt,tn._defaultConfig)):Xt(Lt.name+"/")}).then(function(Xt){for(var _n=localStorage.length-1;_n>=0;_n--){var Rn=localStorage.key(_n);Rn.indexOf(Xt)===0&&localStorage.removeItem(Rn)}}):sn=at.reject("Invalid arguments"),it(sn,Wt),sn}var Jn={_driver:"localStorageWrapper",_initStorage:vr,_support:Qn(),iterate:qn,getItem:mr,setItem:en,removeItem:Yn,clear:gr,length:Dr,key:Er,keys:Sr,dropInstance:Mn},ir=function(Wt,Bt){return Wt===Bt||typeof Wt=="number"&&typeof Bt=="number"&&isNaN(Wt)&&isNaN(Bt)},_r=function(Wt,Bt){for(var tn=Wt.length,sn=0;sn<tn;){if(ir(Wt[sn],Bt))return!0;sn++}return!1},wr=Array.isArray||function(Lt){return Object.prototype.toString.call(Lt)==="[object Array]"},xr={},Tr={},kr={INDEXEDDB:pn,WEBSQL:Wn,LOCALSTORAGE:Jn},fr=[kr.INDEXEDDB._driver,kr.WEBSQL._driver,kr.LOCALSTORAGE._driver],$r=["dropInstance"],Pr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat($r),Mr={description:"",driver:fr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function jr(Lt,Wt){Lt[Wt]=function(){var Bt=arguments;return Lt.ready().then(function(){return Lt[Wt].apply(Lt,Bt)})}}function Or(){for(var Lt=1;Lt<arguments.length;Lt++){var Wt=arguments[Lt];if(Wt)for(var Bt in Wt)Wt.hasOwnProperty(Bt)&&(wr(Wt[Bt])?arguments[0][Bt]=Wt[Bt].slice():arguments[0][Bt]=Wt[Bt])}return arguments[0]}var Nr=function(){function Lt(Wt){rt(this,Lt);for(var Bt in kr)if(kr.hasOwnProperty(Bt)){var tn=kr[Bt],sn=tn._driver;this[Bt]=sn,xr[sn]||this.defineDriver(tn)}this._defaultConfig=Or({},Mr),this._config=Or({},this._defaultConfig,Wt),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Lt.prototype.config=function(Bt){if((typeof Bt>"u"?"undefined":nt(Bt))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var tn in Bt){if(tn==="storeName"&&(Bt[tn]=Bt[tn].replace(/\W/g,"_")),tn==="version"&&typeof Bt[tn]!="number")return new Error("Database version must be a number.");this._config[tn]=Bt[tn]}return"driver"in Bt&&Bt.driver?this.setDriver(this._config.driver):!0}else return typeof Bt=="string"?this._config[Bt]:this._config},Lt.prototype.defineDriver=function(Bt,tn,sn){var Xt=new at(function(_n,Rn){try{var Nn=Bt._driver,Dt=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Bt._driver){Rn(Dt);return}for(var Mt=Pr.concat("_initStorage"),It=0,Kt=Mt.length;It<Kt;It++){var yn=Mt[It],xn=!_r($r,yn);if((xn||Bt[yn])&&typeof Bt[yn]!="function"){Rn(Dt);return}}var mn=function(){for(var pr=function(ur){return function(){var Cr=new Error("Method "+ur+" is not implemented by the current driver"),Ir=at.reject(Cr);return it(Ir,arguments[arguments.length-1]),Ir}},Ar=0,Fr=$r.length;Ar<Fr;Ar++){var Lr=$r[Ar];Bt[Lr]||(Bt[Lr]=pr(Lr))}};mn();var jn=function(pr){xr[Nn]&&console.info("Redefining LocalForage driver: "+Nn),xr[Nn]=Bt,Tr[Nn]=pr,_n()};"_support"in Bt?Bt._support&&typeof Bt._support=="function"?Bt._support().then(jn,Rn):jn(!!Bt._support):jn(!0)}catch(cr){Rn(cr)}});return ut(Xt,tn,sn),Xt},Lt.prototype.driver=function(){return this._driver||null},Lt.prototype.getDriver=function(Bt,tn,sn){var Xt=xr[Bt]?at.resolve(xr[Bt]):at.reject(new Error("Driver not found."));return ut(Xt,tn,sn),Xt},Lt.prototype.getSerializer=function(Bt){var tn=at.resolve(Fn);return ut(tn,Bt),tn},Lt.prototype.ready=function(Bt){var tn=this,sn=tn._driverSet.then(function(){return tn._ready===null&&(tn._ready=tn._initDriver()),tn._ready});return ut(sn,Bt,Bt),sn},Lt.prototype.setDriver=function(Bt,tn,sn){var Xt=this;wr(Bt)||(Bt=[Bt]);var _n=this._getSupportedDrivers(Bt);function Rn(){Xt._config.driver=Xt.driver()}function Nn(It){return Xt._extend(It),Rn(),Xt._ready=Xt._initStorage(Xt._config),Xt._ready}function Dt(It){return function(){var Kt=0;function yn(){for(;Kt<It.length;){var xn=It[Kt];return Kt++,Xt._dbInfo=null,Xt._ready=null,Xt.getDriver(xn).then(Nn).catch(yn)}Rn();var mn=new Error("No available storage method found.");return Xt._driverSet=at.reject(mn),Xt._driverSet}return yn()}}var Mt=this._driverSet!==null?this._driverSet.catch(function(){return at.resolve()}):at.resolve();return this._driverSet=Mt.then(function(){var It=_n[0];return Xt._dbInfo=null,Xt._ready=null,Xt.getDriver(It).then(function(Kt){Xt._driver=Kt._driver,Rn(),Xt._wrapLibraryMethodsWithReady(),Xt._initDriver=Dt(_n)})}).catch(function(){Rn();var It=new Error("No available storage method found.");return Xt._driverSet=at.reject(It),Xt._driverSet}),ut(this._driverSet,tn,sn),this._driverSet},Lt.prototype.supports=function(Bt){return!!Tr[Bt]},Lt.prototype._extend=function(Bt){Or(this,Bt)},Lt.prototype._getSupportedDrivers=function(Bt){for(var tn=[],sn=0,Xt=Bt.length;sn<Xt;sn++){var _n=Bt[sn];this.supports(_n)&&tn.push(_n)}return tn},Lt.prototype._wrapLibraryMethodsWithReady=function(){for(var Bt=0,tn=Pr.length;Bt<tn;Bt++)jr(this,Pr[Bt])},Lt.prototype.createInstance=function(Bt){return new Lt(Bt)},Lt}(),Rr=new Nr;et.exports=Rr},{3:3}]},{},[4])(4)})})(localforage$1);var localforageExports=localforage$1.exports;const localforage=getDefaultExportFromCjs(localforageExports);function useEmbeddingsWorker({workerUrl:b,onReady:$,onProgress:_e}){const[et,tt]=reactExports.useState(null),[nt,rt]=reactExports.useState(!1),[ot,st]=reactExports.useState([]),[ct,lt]=reactExports.useState(""),at=reactExports.useRef(null);return reactExports.useEffect(()=>{at.current||(at.current=new Worker(new URL(b,import.meta.url),{type:"module"}))}),{ready:et,disabled:nt,progressItems:ot,output:ct,run:ut=>new Promise(function(dt,ht){const ft=pt=>{switch(pt.data.status){case"initiate":tt(!1),st(mt=>[...mt,pt.data]);break;case"progress":st(mt=>mt.map(gt=>gt.file===pt.data.file?{...gt,progress:pt.data.progress}:gt)),_e&&_e(pt.data.progress);break;case"done":st(mt=>mt.filter(gt=>gt.file!==pt.data.file));break;case"ready":tt(!0),$&&$();break;case"complete":rt(!1),at.current.removeEventListener("message",ft),dt(pt.data.output);break}};at.current.addEventListener("message",ft),console.log("usework  RUN",ut),rt(!0),at.current.postMessage({text:ut})})}}function useFileManager({storeName:b,token:$,logout:_e,allowMimeTypes:et,loadData:tt,onError:nt,googleFolderName:rt,forceRefresh:ot}){b||(b="files");var[st,ct]=reactExports.useState([]),lt=localforage.createInstance({name:b}),at=useUtils(),[it,ut]=reactExports.useState("");reactExports.useRef(),reactExports.useState(null),reactExports.useState([]);const[dt,ht]=reactExports.useState(!1);reactExports.useEffect(function(){vt()},[]);const ft=useEmbeddingsWorker({workerUrl:"./embeddings_worker.js"});function pt(Et,Tt=20,$t=3){const Ot=Et.split(/\s+/),Rt=[];for(let Nt=0;Nt<Ot.length;Nt+=Tt-$t){const Ft=Ot.slice(Nt,Nt+Tt);if(Rt.push(Ft.join(" ")),Nt+Tt>=Ot.length)break}return Rt}async function mt(Et){return await ft.run(Et)}async function gt(Et,Tt,$t=5){console.log("SEARCH VEC",Et,Tt);let Ot=await ft.run(Et),Rt=[];return Array.isArray(Tt)&&Tt.forEach(function(Nt,Ft){Nt&&Array.isArray(Nt.embeddings)&&Nt.embeddings.forEach(function(Ht,zt){Nt.fragments&&Nt.fragments[zt]&&(console.log("sims",Ot,Ht),Rt.push({similarity:at.cosineSimilarity(Ot,Ht),file:Nt.id,fragment:Nt.fragments[zt]}))})}),console.log("COMPS",Rt),Rt.sort((Nt,Ft)=>Ft.similarity-Nt.similarity).slice(0,$t)}async function vt(){return console.log("refresh"),Pt(null).then(function(Et){ct(Et)})}function yt(Et,Tt=!0){if(console.log("add",Et,Tt),Array.isArray(Et)){var $t=st;Et.forEach(function(Ot){Ot&&$t.push(Ot)}),ct($t),ot()}return st}async function bt(Et){return Et&&Et.id&&(Et.deleted=!0,Et.data=null,await lt.setItem(Et.id,Et),ct(st.filter(function(Tt){return!(Tt&Tt.id&Et.id&&Et.id==Tt.id)})),ot()),null}async function xt(Et){var Tt=Et.name?"Really delete the file "+Et.name:"Really delete this file?";window.confirm(Tt)&&bt(Et).then(function(){})}async function _t(Et){return new Promise(function(Tt,$t){lt.getItem(Et).then(function(Ot){Tt(Ot)}).catch(function(Ot){console.log("err",Ot),Tt({error:Ot})})})}function wt(Et){return new Promise(function(Tt,$t){Et&&Et.id&&Et.name?(Et.updatedTimestamp=new Date,lt.setItem(Et.id,Et).then(function(Ot){ct(st.map(function(Rt){return Rt&Rt.id&Et.id&&Et.id==Rt.id?Et:Rt})),ot(),Tt()}).catch(function(Ot){console.log("serr",Ot),Tt({error:Ot})})):Tt({error:"Missing id or name"})})}function At(Et){return ht(!0),console.log("save",Et,$),new Promise(function(Tt,$t){function Ot(Rt){Rt.updatedTimestamp=new Date,lt.setItem(Rt.id,Rt).then(function(Nt){console.log("save set item",Nt),ct(st.map(function(Ft){return Ft&Ft.id&Rt.id&&Rt.id==Ft.id?Rt:Ft})),ht(!1),Tt(Rt)})}Et?(Et.id||(Et.id=at.generateRandomId(),Et.createdTimestamp=new Date),Et.data?(Et.fragments=pt(Et.data),mt(Et.fragments).then(function(Rt){console.log("got emb",Rt),Et.embeddings=Rt,Ot(Et)})):Ot(Et)):$t("missing file")})}function Pt(Et=null,Tt=!0){return console.log("search",Et),new Promise(function($t,Ot){var Rt=[];lt.iterate(function(Nt,Ft,Ht){var zt=!Nt.deleted;Et&&Et.trim().length>0&&Nt.name.toLowerCase().indexOf(Et.trim())===-1&&(zt=!1),zt&&Nt&&(Tt&&!tt&&delete Nt.data,Rt.push(Nt))}).catch(function(Nt){console.log(Nt),$t([])}).finally(function(){$t(Rt)})})}function jt(Et){const Tt=Et.trim().split("/");var $t=!1;return Array.isArray(et)?Et&&Et.trim().length>0?(et.forEach(function(Ot){const Rt=Ot.trim().split("/");Rt.length==2&&(Rt[1]==="*"?Tt[0]==Rt[0]&&($t=!0):Et.trim()===Ot.trim()&&($t=!0))}),$t):!1:!0}function kt(Et){return new Promise(function(Tt,$t){if(console.log("scrape",Et),Et){var Ot=new XMLHttpRequest;Ot.responseType="blob",Ot.onload=function(Rt){console.log("SCRAPED",Rt);const Nt=Rt&&Rt.target&&Rt.target.response?Rt.target.response.type:"";console.log("SCRAPED TYPE",Nt),Ot.response&&Nt?at.blobToBase64(Ot.response).then(function(Ft){Tt({b64:Ft,type:Nt})}):Tt(null)},Ot.onerror=function(Rt){console.log(Rt),Tt(null)},Ot.open("GET",Et),Ot.send()}})}function St(){return console.log("paste",$),new Promise(function(Et,Tt){var $t=[];ut(""),navigator.clipboard.read().then(Ot=>{Ot&&(Ot.forEach(function(Rt,Nt){$t.push(new Promise(function(Ft,Ht){Rt.types.forEach(function(zt){Rt.getType(zt).then(function(an){zt==="text/plain"?at.blobToText(an).then(function(Jt){var Zt=!1;if(Jt.split("/n").forEach(function(Qt){(Qt.trim().startsWith("http://")||Qt.trim().startsWith("https://"))&&(Zt=!0,console.log("FFFFFFFFFFFFF PRE",Qt),kt(Qt.trim()).then(function(qt){console.log("FFFFFFFFFFFFF",qt),qt?Ft({id:at.generateRandomId(),name:Qt,type:qt.type,data:qt.b64}):(ut("Failed to load"),Et(null))}))}),!Zt&&jt("text/plain")){const Qt=at.generateRandomId();Ft({id:Qt,name:"pasted text "+Qt,type:zt,data:Jt})}}):zt.indexOf("image/")===0&&jt("image/")?at.blobToBase64(an).then(function(Jt){const Zt=at.generateRandomId();Ft({id:Zt,name:"pasted image "+Zt,type:zt,data:Jt})}):zt!=="text/html"&&jt(zt)&&at.blobToBase64(an).then(function(Jt){const Zt=at.generateRandomId();Ft({id:Zt,name:"pasted file "+Zt,type:zt,data:Jt})}),console.log(an,zt,Rt)})})}))}),Promise.all($t).then(function(Rt){if(console.log("PPP",Rt),Array.isArray(Rt)){var Nt=[];Rt.forEach(function(Ft){Nt.push(new Promise(function(Ht,zt){At(Ft).then(function(an){Ht(an)})}))}),Promise.all(Nt).then(function(Ft){console.log("NdF",Ft),Et(yt(Ft))})}}))})})}function Ct(Et){if(console.log("ssss files selected",Et.target.files),Et.target.files){var Tt=[];Array.from(Et.target.files).forEach(function($t){console.log($t),console.log("file selected read b64"),Tt.push(new Promise(function(Ot,Rt){at.readFileAsText($t).then(function(Nt){Ot({id:at.generateRandomId(),name:$t.name,type:$t.type,data:Nt})})}))}),Promise.all(Tt).then(function($t){console.log("read files",$t);var Ot=[];$t.forEach(function(Rt){Ot.push(new Promise(function(Nt,Ft){At(Rt).then(function(Ht){Nt(Ht)})}))}),Promise.all(Ot).then(function(Rt){console.log("add selected files",Rt),yt(Rt),ot()})})}}return{files:st,fileManager:{searchVectorFiles:gt,generateEmbeddings:mt,generateFragments:pt,setFiles:ct,load:_t,updateFileName:wt,deleteFile:xt,save:At,search:Pt,scrapeUrl:kt,pasteFiles:St,filesSelected:Ct,allowMime:jt,addFiles:yt,refresh:vt,allowMimeTypes:et,warning:it,setWarning:ut,allowMimeTypes:et,isBusy:dt,setIsBusy:ht}}}/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(b){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var et in _e)Object.prototype.hasOwnProperty.call(_e,et)&&(b[et]=_e[et])}return b},_extends$4.apply(this,arguments)}var Action;(function(b){b.Pop="POP",b.Push="PUSH",b.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(b){b===void 0&&(b={});function $(tt,nt){let{pathname:rt="/",search:ot="",hash:st=""}=parsePath(tt.location.hash.substr(1));return!rt.startsWith("/")&&!rt.startsWith(".")&&(rt="/"+rt),createLocation("",{pathname:rt,search:ot,hash:st},nt.state&&nt.state.usr||null,nt.state&&nt.state.key||"default")}function _e(tt,nt){let rt=tt.document.querySelector("base"),ot="";if(rt&&rt.getAttribute("href")){let st=tt.location.href,ct=st.indexOf("#");ot=ct===-1?st:st.slice(0,ct)}return ot+"#"+(typeof nt=="string"?nt:createPath(nt))}function et(tt,nt){warning(tt.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(nt)+")")}return getUrlBasedHistory($,_e,et,b)}function invariant(b,$){if(b===!1||b===null||typeof b>"u")throw new Error($)}function warning(b,$){if(!b){typeof console<"u"&&console.warn($);try{throw new Error($)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(b,$){return{usr:b.state,key:b.key,idx:$}}function createLocation(b,$,_e,et){return _e===void 0&&(_e=null),_extends$4({pathname:typeof b=="string"?b:b.pathname,search:"",hash:""},typeof $=="string"?parsePath($):$,{state:_e,key:$&&$.key||et||createKey()})}function createPath(b){let{pathname:$="/",search:_e="",hash:et=""}=b;return _e&&_e!=="?"&&($+=_e.charAt(0)==="?"?_e:"?"+_e),et&&et!=="#"&&($+=et.charAt(0)==="#"?et:"#"+et),$}function parsePath(b){let $={};if(b){let _e=b.indexOf("#");_e>=0&&($.hash=b.substr(_e),b=b.substr(0,_e));let et=b.indexOf("?");et>=0&&($.search=b.substr(et),b=b.substr(0,et)),b&&($.pathname=b)}return $}function getUrlBasedHistory(b,$,_e,et){et===void 0&&(et={});let{window:tt=document.defaultView,v5Compat:nt=!1}=et,rt=tt.history,ot=Action.Pop,st=null,ct=lt();ct==null&&(ct=0,rt.replaceState(_extends$4({},rt.state,{idx:ct}),""));function lt(){return(rt.state||{idx:null}).idx}function at(){ot=Action.Pop;let ft=lt(),pt=ft==null?null:ft-ct;ct=ft,st&&st({action:ot,location:ht.location,delta:pt})}function it(ft,pt){ot=Action.Push;let mt=createLocation(ht.location,ft,pt);_e&&_e(mt,ft),ct=lt()+1;let gt=getHistoryState(mt,ct),vt=ht.createHref(mt);try{rt.pushState(gt,"",vt)}catch(yt){if(yt instanceof DOMException&&yt.name==="DataCloneError")throw yt;tt.location.assign(vt)}nt&&st&&st({action:ot,location:ht.location,delta:1})}function ut(ft,pt){ot=Action.Replace;let mt=createLocation(ht.location,ft,pt);_e&&_e(mt,ft),ct=lt();let gt=getHistoryState(mt,ct),vt=ht.createHref(mt);rt.replaceState(gt,"",vt),nt&&st&&st({action:ot,location:ht.location,delta:0})}function dt(ft){let pt=tt.location.origin!=="null"?tt.location.origin:tt.location.href,mt=typeof ft=="string"?ft:createPath(ft);return mt=mt.replace(/ $/,"%20"),invariant(pt,"No window.location.(origin|href) available to create URL for href: "+mt),new URL(mt,pt)}let ht={get action(){return ot},get location(){return b(tt,rt)},listen(ft){if(st)throw new Error("A history only accepts one active listener");return tt.addEventListener(PopStateEventType,at),st=ft,()=>{tt.removeEventListener(PopStateEventType,at),st=null}},createHref(ft){return $(tt,ft)},createURL:dt,encodeLocation(ft){let pt=dt(ft);return{pathname:pt.pathname,search:pt.search,hash:pt.hash}},push:it,replace:ut,go(ft){return rt.go(ft)}};return ht}var ResultType;(function(b){b.data="data",b.deferred="deferred",b.redirect="redirect",b.error="error"})(ResultType||(ResultType={}));function matchRoutes(b,$,_e){_e===void 0&&(_e="/");let et=typeof $=="string"?parsePath($):$,tt=stripBasename(et.pathname||"/",_e);if(tt==null)return null;let nt=flattenRoutes(b);rankRouteBranches(nt);let rt=null;for(let ot=0;rt==null&&ot<nt.length;++ot){let st=decodePath(tt);rt=matchRouteBranch(nt[ot],st)}return rt}function flattenRoutes(b,$,_e,et){$===void 0&&($=[]),_e===void 0&&(_e=[]),et===void 0&&(et="");let tt=(nt,rt,ot)=>{let st={relativePath:ot===void 0?nt.path||"":ot,caseSensitive:nt.caseSensitive===!0,childrenIndex:rt,route:nt};st.relativePath.startsWith("/")&&(invariant(st.relativePath.startsWith(et),'Absolute route path "'+st.relativePath+'" nested under path '+('"'+et+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),st.relativePath=st.relativePath.slice(et.length));let ct=joinPaths([et,st.relativePath]),lt=_e.concat(st);nt.children&&nt.children.length>0&&(invariant(nt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ct+'".')),flattenRoutes(nt.children,$,lt,ct)),!(nt.path==null&&!nt.index)&&$.push({path:ct,score:computeScore(ct,nt.index),routesMeta:lt})};return b.forEach((nt,rt)=>{var ot;if(nt.path===""||!((ot=nt.path)!=null&&ot.includes("?")))tt(nt,rt);else for(let st of explodeOptionalSegments(nt.path))tt(nt,rt,st)}),$}function explodeOptionalSegments(b){let $=b.split("/");if($.length===0)return[];let[_e,...et]=$,tt=_e.endsWith("?"),nt=_e.replace(/\?$/,"");if(et.length===0)return tt?[nt,""]:[nt];let rt=explodeOptionalSegments(et.join("/")),ot=[];return ot.push(...rt.map(st=>st===""?nt:[nt,st].join("/"))),tt&&ot.push(...rt),ot.map(st=>b.startsWith("/")&&st===""?"/":st)}function rankRouteBranches(b){b.sort(($,_e)=>$.score!==_e.score?_e.score-$.score:compareIndexes($.routesMeta.map(et=>et.childrenIndex),_e.routesMeta.map(et=>et.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=b=>b==="*";function computeScore(b,$){let _e=b.split("/"),et=_e.length;return _e.some(isSplat)&&(et+=splatPenalty),$&&(et+=indexRouteValue),_e.filter(tt=>!isSplat(tt)).reduce((tt,nt)=>tt+(paramRe.test(nt)?dynamicSegmentValue:nt===""?emptySegmentValue:staticSegmentValue),et)}function compareIndexes(b,$){return b.length===$.length&&b.slice(0,-1).every((et,tt)=>et===$[tt])?b[b.length-1]-$[$.length-1]:0}function matchRouteBranch(b,$){let{routesMeta:_e}=b,et={},tt="/",nt=[];for(let rt=0;rt<_e.length;++rt){let ot=_e[rt],st=rt===_e.length-1,ct=tt==="/"?$:$.slice(tt.length)||"/",lt=matchPath({path:ot.relativePath,caseSensitive:ot.caseSensitive,end:st},ct);if(!lt)return null;Object.assign(et,lt.params);let at=ot.route;nt.push({params:et,pathname:joinPaths([tt,lt.pathname]),pathnameBase:normalizePathname(joinPaths([tt,lt.pathnameBase])),route:at}),lt.pathnameBase!=="/"&&(tt=joinPaths([tt,lt.pathnameBase]))}return nt}function matchPath(b,$){typeof b=="string"&&(b={path:b,caseSensitive:!1,end:!0});let[_e,et]=compilePath(b.path,b.caseSensitive,b.end),tt=$.match(_e);if(!tt)return null;let nt=tt[0],rt=nt.replace(/(.)\/+$/,"$1"),ot=tt.slice(1);return{params:et.reduce((ct,lt,at)=>{let{paramName:it,isOptional:ut}=lt;if(it==="*"){let ht=ot[at]||"";rt=nt.slice(0,nt.length-ht.length).replace(/(.)\/+$/,"$1")}const dt=ot[at];return ut&&!dt?ct[it]=void 0:ct[it]=(dt||"").replace(/%2F/g,"/"),ct},{}),pathname:nt,pathnameBase:rt,pattern:b}}function compilePath(b,$,_e){$===void 0&&($=!1),_e===void 0&&(_e=!0),warning(b==="*"||!b.endsWith("*")||b.endsWith("/*"),'Route path "'+b+'" will be treated as if it were '+('"'+b.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+b.replace(/\*$/,"/*")+'".'));let et=[],tt="^"+b.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(rt,ot,st)=>(et.push({paramName:ot,isOptional:st!=null}),st?"/?([^\\/]+)?":"/([^\\/]+)"));return b.endsWith("*")?(et.push({paramName:"*"}),tt+=b==="*"||b==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):_e?tt+="\\/*$":b!==""&&b!=="/"&&(tt+="(?:(?=\\/|$))"),[new RegExp(tt,$?void 0:"i"),et]}function decodePath(b){try{return b.split("/").map($=>decodeURIComponent($).replace(/\//g,"%2F")).join("/")}catch($){return warning(!1,'The URL path "'+b+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+$+").")),b}}function stripBasename(b,$){if($==="/")return b;if(!b.toLowerCase().startsWith($.toLowerCase()))return null;let _e=$.endsWith("/")?$.length-1:$.length,et=b.charAt(_e);return et&&et!=="/"?null:b.slice(_e)||"/"}function resolvePath(b,$){$===void 0&&($="/");let{pathname:_e,search:et="",hash:tt=""}=typeof b=="string"?parsePath(b):b;return{pathname:_e?_e.startsWith("/")?_e:resolvePathname(_e,$):$,search:normalizeSearch(et),hash:normalizeHash(tt)}}function resolvePathname(b,$){let _e=$.replace(/\/+$/,"").split("/");return b.split("/").forEach(tt=>{tt===".."?_e.length>1&&_e.pop():tt!=="."&&_e.push(tt)}),_e.length>1?_e.join("/"):"/"}function getInvalidPathError(b,$,_e,et){return"Cannot include a '"+b+"' character in a manually specified "+("`to."+$+"` field ["+JSON.stringify(et)+"].  Please separate it out to the ")+("`to."+_e+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(b){return b.filter(($,_e)=>_e===0||$.route.path&&$.route.path.length>0)}function getResolveToMatches(b,$){let _e=getPathContributingMatches(b);return $?_e.map((et,tt)=>tt===b.length-1?et.pathname:et.pathnameBase):_e.map(et=>et.pathnameBase)}function resolveTo(b,$,_e,et){et===void 0&&(et=!1);let tt;typeof b=="string"?tt=parsePath(b):(tt=_extends$4({},b),invariant(!tt.pathname||!tt.pathname.includes("?"),getInvalidPathError("?","pathname","search",tt)),invariant(!tt.pathname||!tt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",tt)),invariant(!tt.search||!tt.search.includes("#"),getInvalidPathError("#","search","hash",tt)));let nt=b===""||tt.pathname==="",rt=nt?"/":tt.pathname,ot;if(rt==null)ot=_e;else{let at=$.length-1;if(!et&&rt.startsWith("..")){let it=rt.split("/");for(;it[0]==="..";)it.shift(),at-=1;tt.pathname=it.join("/")}ot=at>=0?$[at]:"/"}let st=resolvePath(tt,ot),ct=rt&&rt!=="/"&&rt.endsWith("/"),lt=(nt||rt===".")&&_e.endsWith("/");return!st.pathname.endsWith("/")&&(ct||lt)&&(st.pathname+="/"),st}const joinPaths=b=>b.join("/").replace(/\/\/+/g,"/"),normalizePathname=b=>b.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=b=>!b||b==="?"?"":b.startsWith("?")?b:"?"+b,normalizeHash=b=>!b||b==="#"?"":b.startsWith("#")?b:"#"+b;function isRouteErrorResponse(b){return b!=null&&typeof b.status=="number"&&typeof b.statusText=="string"&&typeof b.internal=="boolean"&&"data"in b}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(b){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var et in _e)Object.prototype.hasOwnProperty.call(_e,et)&&(b[et]=_e[et])}return b},_extends$3.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(b,$){let{relative:_e}=$===void 0?{}:$;useInRouterContext()||invariant(!1);let{basename:et,navigator:tt}=reactExports.useContext(NavigationContext),{hash:nt,pathname:rt,search:ot}=useResolvedPath(b,{relative:_e}),st=rt;return et!=="/"&&(st=rt==="/"?et:joinPaths([et,rt])),tt.createHref({pathname:st,search:ot,hash:nt})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(b){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(b)}function useNavigate(){let{isDataRoute:b}=reactExports.useContext(RouteContext);return b?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let b=reactExports.useContext(DataRouterContext),{basename:$,future:_e,navigator:et}=reactExports.useContext(NavigationContext),{matches:tt}=reactExports.useContext(RouteContext),{pathname:nt}=useLocation(),rt=JSON.stringify(getResolveToMatches(tt,_e.v7_relativeSplatPath)),ot=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{ot.current=!0}),reactExports.useCallback(function(ct,lt){if(lt===void 0&&(lt={}),!ot.current)return;if(typeof ct=="number"){et.go(ct);return}let at=resolveTo(ct,JSON.parse(rt),nt,lt.relative==="path");b==null&&$!=="/"&&(at.pathname=at.pathname==="/"?$:joinPaths([$,at.pathname])),(lt.replace?et.replace:et.push)(at,lt.state,lt)},[$,et,rt,nt,b])}function useParams(){let{matches:b}=reactExports.useContext(RouteContext),$=b[b.length-1];return $?$.params:{}}function useResolvedPath(b,$){let{relative:_e}=$===void 0?{}:$,{future:et}=reactExports.useContext(NavigationContext),{matches:tt}=reactExports.useContext(RouteContext),{pathname:nt}=useLocation(),rt=JSON.stringify(getResolveToMatches(tt,et.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(b,JSON.parse(rt),nt,_e==="path"),[b,rt,nt,_e])}function useRoutes(b,$){return useRoutesImpl(b,$)}function useRoutesImpl(b,$,_e,et){useInRouterContext()||invariant(!1);let{navigator:tt}=reactExports.useContext(NavigationContext),{matches:nt}=reactExports.useContext(RouteContext),rt=nt[nt.length-1],ot=rt?rt.params:{};rt&&rt.pathname;let st=rt?rt.pathnameBase:"/";rt&&rt.route;let ct=useLocation(),lt;if($){var at;let ft=typeof $=="string"?parsePath($):$;st==="/"||(at=ft.pathname)!=null&&at.startsWith(st)||invariant(!1),lt=ft}else lt=ct;let it=lt.pathname||"/",ut=it;if(st!=="/"){let ft=st.replace(/^\//,"").split("/");ut="/"+it.replace(/^\//,"").split("/").slice(ft.length).join("/")}let dt=matchRoutes(b,{pathname:ut}),ht=_renderMatches(dt&&dt.map(ft=>Object.assign({},ft,{params:Object.assign({},ot,ft.params),pathname:joinPaths([st,tt.encodeLocation?tt.encodeLocation(ft.pathname).pathname:ft.pathname]),pathnameBase:ft.pathnameBase==="/"?st:joinPaths([st,tt.encodeLocation?tt.encodeLocation(ft.pathnameBase).pathname:ft.pathnameBase])})),nt,_e,et);return $&&ht?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$3({pathname:"/",search:"",hash:"",state:null,key:"default"},lt),navigationType:Action.Pop}},ht):ht}function DefaultErrorComponent(){let b=useRouteError(),$=isRouteErrorResponse(b)?b.status+" "+b.statusText:b instanceof Error?b.message:JSON.stringify(b),_e=b instanceof Error?b.stack:null,tt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},$),_e?reactExports.createElement("pre",{style:tt},_e):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor($){super($),this.state={location:$.location,revalidation:$.revalidation,error:$.error}}static getDerivedStateFromError($){return{error:$}}static getDerivedStateFromProps($,_e){return _e.location!==$.location||_e.revalidation!=="idle"&&$.revalidation==="idle"?{error:$.error,location:$.location,revalidation:$.revalidation}:{error:$.error!==void 0?$.error:_e.error,location:_e.location,revalidation:$.revalidation||_e.revalidation}}componentDidCatch($,_e){console.error("React Router caught the following error during render",$,_e)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(b){let{routeContext:$,match:_e,children:et}=b,tt=reactExports.useContext(DataRouterContext);return tt&&tt.static&&tt.staticContext&&(_e.route.errorElement||_e.route.ErrorBoundary)&&(tt.staticContext._deepestRenderedBoundaryId=_e.route.id),reactExports.createElement(RouteContext.Provider,{value:$},et)}function _renderMatches(b,$,_e,et){var tt;if($===void 0&&($=[]),_e===void 0&&(_e=null),et===void 0&&(et=null),b==null){var nt;if((nt=_e)!=null&&nt.errors)b=_e.matches;else return null}let rt=b,ot=(tt=_e)==null?void 0:tt.errors;if(ot!=null){let lt=rt.findIndex(at=>at.route.id&&(ot==null?void 0:ot[at.route.id])!==void 0);lt>=0||invariant(!1),rt=rt.slice(0,Math.min(rt.length,lt+1))}let st=!1,ct=-1;if(_e&&et&&et.v7_partialHydration)for(let lt=0;lt<rt.length;lt++){let at=rt[lt];if((at.route.HydrateFallback||at.route.hydrateFallbackElement)&&(ct=lt),at.route.id){let{loaderData:it,errors:ut}=_e,dt=at.route.loader&&it[at.route.id]===void 0&&(!ut||ut[at.route.id]===void 0);if(at.route.lazy||dt){st=!0,ct>=0?rt=rt.slice(0,ct+1):rt=[rt[0]];break}}}return rt.reduceRight((lt,at,it)=>{let ut,dt=!1,ht=null,ft=null;_e&&(ut=ot&&at.route.id?ot[at.route.id]:void 0,ht=at.route.errorElement||defaultErrorElement,st&&(ct<0&&it===0?(dt=!0,ft=null):ct===it&&(dt=!0,ft=at.route.hydrateFallbackElement||null)));let pt=$.concat(rt.slice(0,it+1)),mt=()=>{let gt;return ut?gt=ht:dt?gt=ft:at.route.Component?gt=reactExports.createElement(at.route.Component,null):at.route.element?gt=at.route.element:gt=lt,reactExports.createElement(RenderedRoute,{match:at,routeContext:{outlet:lt,matches:pt,isDataRoute:_e!=null},children:gt})};return _e&&(at.route.ErrorBoundary||at.route.errorElement||it===0)?reactExports.createElement(RenderErrorBoundary,{location:_e.location,revalidation:_e.revalidation,component:ht,error:ut,children:mt(),routeContext:{outlet:null,matches:pt,isDataRoute:!0}}):mt()},null)}var DataRouterHook$1=function(b){return b.UseBlocker="useBlocker",b.UseRevalidator="useRevalidator",b.UseNavigateStable="useNavigate",b}(DataRouterHook$1||{}),DataRouterStateHook$1=function(b){return b.UseBlocker="useBlocker",b.UseLoaderData="useLoaderData",b.UseActionData="useActionData",b.UseRouteError="useRouteError",b.UseNavigation="useNavigation",b.UseRouteLoaderData="useRouteLoaderData",b.UseMatches="useMatches",b.UseRevalidator="useRevalidator",b.UseNavigateStable="useNavigate",b.UseRouteId="useRouteId",b}(DataRouterStateHook$1||{});function useDataRouterContext(b){let $=reactExports.useContext(DataRouterContext);return $||invariant(!1),$}function useDataRouterState(b){let $=reactExports.useContext(DataRouterStateContext);return $||invariant(!1),$}function useRouteContext(b){let $=reactExports.useContext(RouteContext);return $||invariant(!1),$}function useCurrentRouteId(b){let $=useRouteContext(),_e=$.matches[$.matches.length-1];return _e.route.id||invariant(!1),_e.route.id}function useRouteError(){var b;let $=reactExports.useContext(RouteErrorContext),_e=useDataRouterState(DataRouterStateHook$1.UseRouteError),et=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return $!==void 0?$:(b=_e.errors)==null?void 0:b[et]}function useNavigateStable(){let{router:b}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),$=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),_e=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{_e.current=!0}),reactExports.useCallback(function(tt,nt){nt===void 0&&(nt={}),_e.current&&(typeof tt=="number"?b.navigate(tt):b.navigate(tt,_extends$3({fromRouteId:$},nt)))},[b,$])}function Route(b){invariant(!1)}function Router(b){let{basename:$="/",children:_e=null,location:et,navigationType:tt=Action.Pop,navigator:nt,static:rt=!1,future:ot}=b;useInRouterContext()&&invariant(!1);let st=$.replace(/^\/*/,"/"),ct=reactExports.useMemo(()=>({basename:st,navigator:nt,static:rt,future:_extends$3({v7_relativeSplatPath:!1},ot)}),[st,ot,nt,rt]);typeof et=="string"&&(et=parsePath(et));let{pathname:lt="/",search:at="",hash:it="",state:ut=null,key:dt="default"}=et,ht=reactExports.useMemo(()=>{let ft=stripBasename(lt,st);return ft==null?null:{location:{pathname:ft,search:at,hash:it,state:ut,key:dt},navigationType:tt}},[st,lt,at,it,ut,dt,tt]);return ht==null?null:reactExports.createElement(NavigationContext.Provider,{value:ct},reactExports.createElement(LocationContext.Provider,{children:_e,value:ht}))}function Routes(b){let{children:$,location:_e}=b;return useRoutes(createRoutesFromChildren($),_e)}new Promise(()=>{});function createRoutesFromChildren(b,$){$===void 0&&($=[]);let _e=[];return reactExports.Children.forEach(b,(et,tt)=>{if(!reactExports.isValidElement(et))return;let nt=[...$,tt];if(et.type===reactExports.Fragment){_e.push.apply(_e,createRoutesFromChildren(et.props.children,nt));return}et.type!==Route&&invariant(!1),!et.props.index||!et.props.children||invariant(!1);let rt={id:et.props.id||nt.join("-"),caseSensitive:et.props.caseSensitive,element:et.props.element,Component:et.props.Component,index:et.props.index,path:et.props.path,loader:et.props.loader,action:et.props.action,errorElement:et.props.errorElement,ErrorBoundary:et.props.ErrorBoundary,hasErrorBoundary:et.props.ErrorBoundary!=null||et.props.errorElement!=null,shouldRevalidate:et.props.shouldRevalidate,handle:et.props.handle,lazy:et.props.lazy};et.props.children&&(rt.children=createRoutesFromChildren(et.props.children,nt)),_e.push(rt)}),_e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(b){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var et in _e)Object.prototype.hasOwnProperty.call(_e,et)&&(b[et]=_e[et])}return b},_extends$2.apply(this,arguments)}function _objectWithoutPropertiesLoose$1(b,$){if(b==null)return{};var _e={},et=Object.keys(b),tt,nt;for(nt=0;nt<et.length;nt++)tt=et[nt],!($.indexOf(tt)>=0)&&(_e[tt]=b[tt]);return _e}function isModifiedEvent(b){return!!(b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)}function shouldProcessLinkClick(b,$){return b.button===0&&(!$||$==="_self")&&!isModifiedEvent(b)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function HashRouter(b){let{basename:$,children:_e,future:et,window:tt}=b,nt=reactExports.useRef();nt.current==null&&(nt.current=createHashHistory({window:tt,v5Compat:!0}));let rt=nt.current,[ot,st]=reactExports.useState({action:rt.action,location:rt.location}),{v7_startTransition:ct}=et||{},lt=reactExports.useCallback(at=>{ct&&startTransitionImpl?startTransitionImpl(()=>st(at)):st(at)},[st,ct]);return reactExports.useLayoutEffect(()=>rt.listen(lt),[rt,lt]),reactExports.createElement(Router,{basename:$,children:_e,location:ot.location,navigationType:ot.action,navigator:rt,future:et})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function($,_e){let{onClick:et,relative:tt,reloadDocument:nt,replace:rt,state:ot,target:st,to:ct,preventScrollReset:lt,unstable_viewTransition:at}=$,it=_objectWithoutPropertiesLoose$1($,_excluded),{basename:ut}=reactExports.useContext(NavigationContext),dt,ht=!1;if(typeof ct=="string"&&ABSOLUTE_URL_REGEX.test(ct)&&(dt=ct,isBrowser))try{let gt=new URL(window.location.href),vt=ct.startsWith("//")?new URL(gt.protocol+ct):new URL(ct),yt=stripBasename(vt.pathname,ut);vt.origin===gt.origin&&yt!=null?ct=yt+vt.search+vt.hash:ht=!0}catch{}let ft=useHref(ct,{relative:tt}),pt=useLinkClickHandler(ct,{replace:rt,state:ot,target:st,preventScrollReset:lt,relative:tt,unstable_viewTransition:at});function mt(gt){et&&et(gt),gt.defaultPrevented||pt(gt)}return reactExports.createElement("a",_extends$2({},it,{href:dt||ft,onClick:ht||nt?et:mt,ref:_e,target:st}))});var DataRouterHook;(function(b){b.UseScrollRestoration="useScrollRestoration",b.UseSubmit="useSubmit",b.UseSubmitFetcher="useSubmitFetcher",b.UseFetcher="useFetcher",b.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(b){b.UseFetcher="useFetcher",b.UseFetchers="useFetchers",b.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(b,$){let{target:_e,replace:et,state:tt,preventScrollReset:nt,relative:rt,unstable_viewTransition:ot}=$===void 0?{}:$,st=useNavigate(),ct=useLocation(),lt=useResolvedPath(b,{relative:rt});return reactExports.useCallback(at=>{if(shouldProcessLinkClick(at,_e)){at.preventDefault();let it=et!==void 0?et:createPath(ct)===createPath(lt);st(b,{replace:it,state:tt,preventScrollReset:nt,relative:rt,unstable_viewTransition:ot})}},[ct,st,lt,et,tt,_e,b,nt,rt,ot])}function ConfirmDialog(b){const{onConfirm:$,onCancel:_e,title:et,message:tt,forceShow:nt,setForceShow:rt}=b,[ot,st]=reactExports.useState(!1),ct=()=>{st(!1)},lt=reactExports.useRef();return reactExports.useEffect(function(){nt&&(st(!0),rt(!1))},[nt]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Modal$2,{animation:!1,show:ot,onHide:ct,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{style:{marginRight:"2em"},children:et||""})}),jsxRuntimeExports.jsxs(Modal$2.Body,{style:{minHeight:"10em"},children:[jsxRuntimeExports.jsx("div",{style:{clear:"both",marginBottom:"0.4em"},children:tt||""}),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginTop:"1.4em"},children:jsxRuntimeExports.jsxs(Form$1,{onSubmit:$,children:[jsxRuntimeExports.jsx(Button,{autoFocus:!0,ref:lt,style:{float:"left"},onClick:function(at){rt(!1),st(!1),$(at)},variant:"success",children:"OK"}),jsxRuntimeExports.jsx(Button,{style:{float:"right"},onClick:function(at){return rt(!1),st(!1),_e(),at.preventDefault(),!1},variant:"danger",children:"Cancel"})]})})]})]})})}function ChatHistories({currentChatHistory:b,utils:$,stopLanguageModels:_e,chatHistories:et,chatHistoriesRef:tt,setChatHistories:nt,setSystemConfig:rt,setSystemMessage:ot,setCategory:st,setCurrentRole:ct,newChat:lt,setChatHistoryId:at,chatHistoryId:it,deleteChatHistory:ut,duplicateChatHistory:dt}){const ht=useIcons();reactExports.useRef(),reactExports.useState();const[ft,pt]=reactExports.useState(""),[mt,gt]=reactExports.useState(!1),vt=reactExports.useRef(),yt=b()&&b().length>0?$.generateRandomId():null;return jsxRuntimeExports.jsxs("div",{style:{paddingLeft:"0.5em"},children:[jsxRuntimeExports.jsx(ConfirmDialog,{forceShow:mt,setForceShow:gt,title:"Delete Chat History",message:"Do you really want to delete this chat history ?",onCancel:function(){gt(!1)},onConfirm:function(){ut(vt.current),gt(!1)}}),jsxRuntimeExports.jsx(Button,{style:{float:"right",marginTop:"0.4em",marginRight:"0.2em"},variant:"danger",onClick:function(){window.confirm("Really delete all chat history?")&&nt({})},children:ht.bin}),jsxRuntimeExports.jsx(Link,{to:"/chat/"+yt,style:{float:"right",marginTop:"0.2em",marginRight:"2em"},children:jsxRuntimeExports.jsx(Button,{onClick:_e,disabled:!yt,style:{float:"left",marginTop:"0.2em",marginLeft:"0.2em"},variant:"primary",children:ht.newchat})}),jsxRuntimeExports.jsx("h3",{children:"Chat History"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx(Form$1.Control,{style:{marginBottom:"1em"},type:"text",value:ft,placeholder:"Search",onChange:bt=>{pt(bt.target.value)}}),jsxRuntimeExports.jsx(ListGroup$1,{children:tt.current&&Object.keys(tt.current).filter(function(bt){let xt=tt.current[bt];return ft?ft&&xt&&xt[0]&&xt[0].content&&xt[0].content.toLowerCase().indexOf(ft.toLowerCase())!==-1?xt&&xt.length>0:!1:xt&&xt.length>0}).map(function(bt,xt){let _t=tt.current[bt];return jsxRuntimeExports.jsxs(ListGroup$1.Item,{children:[jsxRuntimeExports.jsx(Link,{to:"/chat/"+bt,children:jsxRuntimeExports.jsx(Button,{variant:"outline-primary",style:{textAlign:"left",width:"70%"},children:_t&&_t[0]&&_t[0].content&&_t[0].content.split?_t[0].content.split(" ").slice(0,20).join(" "):""})}),jsxRuntimeExports.jsx(Button,{style:{float:"right"},variant:"danger",onClick:function(){vt.current=bt,gt(!0)},children:ht.bin}),jsxRuntimeExports.jsx(Button,{style:{float:"right",marginRight:"0.5em"},variant:"warning",onClick:function(){dt(bt)},children:ht.filecopy})]},xt)})})]})}function useWhisperWorker(b){const[$]=reactExports.useState(()=>createWorker(b));return $}function createWorker(b){const $=new Worker(new URL("/assets/whisper_worker-Bf7rhzJZ.js",import.meta.url),{type:"module"});return $.addEventListener("message",b),$}function mobileTabletCheck(){let b=!1;return function($){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test($)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test($.substr(0,4)))&&(b=!0)}(navigator.userAgent||navigator.vendor||("opera"in window&&typeof window.opera=="string"?window.opera:"")),b}const isMobileOrTablet=mobileTabletCheck(),Constants={SAMPLING_RATE:16e3,DEFAULT_AUDIO_URL:`https://huggingface.co/datasets/Xenova/transformers.js-docs/resolve/main/${isMobileOrTablet?"jfk":"ted_60_16k"}.wav`,DEFAULT_MODEL:"Xenova/whisper-tiny",DEFAULT_SUBTASK:"transcribe",DEFAULT_LANGUAGE:"english",DEFAULT_QUANTIZED:!0,DEFAULT_MULTILINGUAL:!1};function useLocalTranscriber({whisperModel:b,onUpdate:$,onComplete:_e,onReady:et,onStart:tt,onError:nt}){const[rt,ot]=reactExports.useState(void 0),[st,ct]=reactExports.useState(!1),[lt,at]=reactExports.useState(!1),[it,ut]=reactExports.useState([]);function dt(St){}function ht(St){}const ft=useWhisperWorker(St=>{const Ct=St.data;switch(Ct.status){case"progress":ut($t=>$t.map(Ot=>Ot.file===Ct.file?{...Ot,progress:Ct.progress}:Ot));break;case"update":const Et=Ct;ot({isBusy:!0,text:Et.data[0],chunks:Et.data[1].chunks}),$(Et.data[0]);break;case"complete":const Tt=Ct;ot({isBusy:!1,text:Tt.data.text,chunks:Tt.data.chunks}),_e(Tt.data.text),ct(!1);break;case"initiate":at(!0),ut($t=>[...$t,Ct]);break;case"ready":at(!1),et&&et();break;case"error":nt&&nt(),ct(!1),alert(`${Ct.data.message} This is most likely because you are using Safari on an M1/M2 Mac. Please try again from Chrome, Firefox, or Edge.

If this is not the case, please file a bug report.`);break;case"done":ut($t=>$t.filter(Ot=>Ot.file!==Ct.file));break}}),[pt,mt]=reactExports.useState(b||Constants.DEFAULT_MODEL),[gt,vt]=reactExports.useState(Constants.DEFAULT_SUBTASK),[yt,bt]=reactExports.useState(Constants.DEFAULT_QUANTIZED),[xt,_t]=reactExports.useState(Constants.DEFAULT_MULTILINGUAL),[wt,At]=reactExports.useState(Constants.DEFAULT_LANGUAGE),Pt=reactExports.useCallback(()=>{ot(void 0)},[]),jt=reactExports.useCallback(async St=>{},[ft,pt,xt,yt,gt,wt]);return reactExports.useMemo(()=>({init:dt,feed:ht,onInputChange:Pt,isBusy:st,isModelLoading:lt,progressItems:it,start:jt,output:rt,model:pt,setModel:mt,multilingual:xt,setMultilingual:_t,quantized:yt,setQuantized:bt,subtask:gt,setSubtask:vt,language:wt,setLanguage:At}),[Pt,st,lt,it,jt,rt,pt,xt,yt,gt,wt])}function useWebsocketTranscriber({onUpdate:b,onComplete:$,onReady:_e,onStart:et,onError:tt}){const[nt,rt]=reactExports.useState(void 0),[ot,st]=reactExports.useState(!1),[ct,lt]=reactExports.useState("");let at=reactExports.useRef(""),it=reactExports.useRef(),ut=reactExports.useRef(!1);function dt(){return it.current&&it.current.readyState==1}function ht(){return new Promise(function(vt,yt){if(dt(it.current)&&vt(it.current),!ut.current)try{ut.current=!0;let bt=new WebSocket(at.current);bt.onopen=()=>{_e&&_e(),vt(bt)},bt.onclose=()=>{},bt.onmessage=xt=>{ft(xt)},bt.onerror=function(xt){tt&&tt(xt),vt()},vt(bt)}catch(bt){console.log("error:",bt),yt()}})}function ft(vt){try{let yt=JSON.parse(vt.data);$(yt.transcription?yt.transcription:""),it&&it.close()}catch{}}function pt(vt){at.current=vt,ht().then(function(yt){it.current=yt})}function mt(vt){ht().then(function(yt){yt.send(vt)})}function gt(vt){ht().then(function(yt){et&&et(),yt.send(null)})}return{init:pt,feed:mt,start:gt,output:ct,isBusy:ot,transcript:nt}}function useOpenAITranscriber({aiUsage:b,onUpdate:$,onComplete:_e,onReady:et,onStart:tt,onError:nt}){const[rt,ot]=reactExports.useState(""),[st,ct]=reactExports.useState(!1),lt=reactExports.useRef("");function at(dt){lt.current=dt,et&&et()}function it(dt){}function ut(dt,ht){ct(!0),tt&&tt();const ft=new FormData;ft.append("file",new File([dt],"transcribe_me.wav")),ft.append("model","whisper-1");try{fetch("https://api.openai.com/v1/audio/translations",{method:"POST",headers:{Authorization:"Bearer "+lt.current},body:ft}).then(function(pt){if(!pt.ok)throw new Error("Failed to transcribe audio");b.logSTT({seconds:ht,key:lt.current,model:"whisper-1"}),pt.json().then(function(mt){mt&&mt.text&&_e&&(ot(mt.text),_e(mt.text))})})}catch(pt){nt&&nt(pt),console.error("Transcription error:",pt)}ct(!1)}return{init:at,feed:it,start:ut,isBusy:st,transcript:rt}}function useGroqTranscriber({aiUsage:b,onUpdate:$,onComplete:_e,onReady:et,onStart:tt,onError:nt}){const[rt,ot]=reactExports.useState(""),[st,ct]=reactExports.useState(!1),lt=reactExports.useRef("");function at(dt){lt.current=dt,et&&et()}function it(dt){}function ut(dt,ht){ct(!0),tt&&tt();const ft=new FormData;ft.append("file",new File([dt],"transcribe_me.wav")),ft.append("model","whisper-large-v3");try{fetch("https://api.groq.com/openai/v1/audio/translations",{method:"POST",headers:{Authorization:"Bearer "+lt.current},body:ft}).then(function(pt){if(!pt.ok)throw new Error("Failed to transcribe audio");b.logSTT({seconds:ht,key:lt.current,model:"whisper-1"}),pt.json().then(function(mt){mt&&mt.text&&_e&&(ot(mt.text),_e(mt.text))})})}catch(pt){nt&&nt(pt),console.error("Transcription error:",pt)}ct(!1)}return{init:at,feed:it,start:ut,isBusy:st,transcript:rt}}function useSelfHostedTranscriber({url:b,aiUsage:$,onUpdate:_e,onComplete:et,onReady:tt,onStart:nt,onError:rt}){const[ot,st]=reactExports.useState(""),[ct,lt]=reactExports.useState(!1),at=reactExports.useRef("");function it(ht){at.current=ht,tt&&tt()}function ut(ht){}function dt(ht,ft){lt(!0),nt&&nt();const pt=new FormData;pt.append("audio_file",new File([ht],"transcribe_me.wav")),pt.append("task","translate");try{fetch(b,{method:"POST",body:pt}).then(function(mt){if(!mt.ok)throw new Error("Failed to transcribe audio");$.logSTT({seconds:ft,key:at.current,model:"whisper-1"}),mt.text().then(function(gt){console.log("RGG",gt),gt&&et&&(st(gt),et(gt))})})}catch(mt){rt&&rt(mt),console.error("Transcription error:",mt)}lt(!1)}return{init:it,feed:ut,start:dt,isBusy:ct,transcript:ot}}var dist$3={},dist$2={},ort_min={exports:{}};/*!
* ONNX Runtime Web v1.15.1
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/(function(module,exports){(function(b,$){module.exports=$()})(self,()=>(()=>{var __webpack_modules__={8453:(b,$,_e)=>{_e.r($),_e.d($,{InferenceSession:()=>ut,Tensor:()=>at,env:()=>rt,registerBackend:()=>nt});const et={},tt=[],nt=(dt,ht,ft)=>{if(!ht||typeof ht.init!="function"||typeof ht.createSessionHandler!="function")throw new TypeError("not a valid backend");{const pt=et[dt];if(pt===void 0)et[dt]={backend:ht,priority:ft};else{if(pt.priority>ft)return;if(pt.priority===ft&&pt.backend!==ht)throw new Error(`cannot register backend "${dt}" using priority ${ft}`)}if(ft>=0){const mt=tt.indexOf(dt);mt!==-1&&tt.splice(mt,1);for(let gt=0;gt<tt.length;gt++)if(et[tt[gt]].priority<=ft)return void tt.splice(gt,0,dt);tt.push(dt)}}},rt=new class{constructor(){this.wasm={},this.webgl={},this.webgpu={},this.logLevelInternal="warning"}set logLevel(dt){if(dt!==void 0){if(typeof dt!="string"||["verbose","info","warning","error","fatal"].indexOf(dt)===-1)throw new Error(`Unsupported logging level: ${dt}`);this.logLevelInternal=dt}}get logLevel(){return this.logLevelInternal}},ot=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),st=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);let ct=!1;class lt{constructor(ht,ft,pt){let mt,gt,vt;if((()=>{if(!ct){ct=!0;const bt=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",xt=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";bt&&(ot.set("int64",BigInt64Array),st.set(BigInt64Array,"int64")),xt&&(ot.set("uint64",BigUint64Array),st.set(BigUint64Array,"uint64"))}})(),typeof ht=="string")if(mt=ht,vt=pt,ht==="string"){if(!Array.isArray(ft))throw new TypeError("A string tensor's data must be a string array.");gt=ft}else{const bt=ot.get(ht);if(bt===void 0)throw new TypeError(`Unsupported tensor type: ${ht}.`);if(Array.isArray(ft))gt=bt.from(ft);else{if(!(ft instanceof bt))throw new TypeError(`A ${mt} tensor's data must be type of ${bt}`);gt=ft}}else if(vt=ft,Array.isArray(ht)){if(ht.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const bt=typeof ht[0];if(bt==="string")mt="string",gt=ht;else{if(bt!=="boolean")throw new TypeError(`Invalid element type of data array: ${bt}.`);mt="bool",gt=Uint8Array.from(ht)}}else{const bt=st.get(ht.constructor);if(bt===void 0)throw new TypeError(`Unsupported type for tensor data: ${ht.constructor}.`);mt=bt,gt=ht}if(vt===void 0)vt=[gt.length];else if(!Array.isArray(vt))throw new TypeError("A tensor's dims must be a number array");const yt=(bt=>{let xt=1;for(let _t=0;_t<bt.length;_t++){const wt=bt[_t];if(typeof wt!="number"||!Number.isSafeInteger(wt))throw new TypeError(`dims[${_t}] must be an integer, got: ${wt}`);if(wt<0)throw new RangeError(`dims[${_t}] must be a non-negative integer, got: ${wt}`);xt*=wt}return xt})(vt);if(yt!==gt.length)throw new Error(`Tensor's size(${yt}) does not match data length(${gt.length}).`);this.dims=vt,this.type=mt,this.data=gt,this.size=yt}static bufferToTensor(ht,ft){if(ht===void 0)throw new Error("Image buffer must be defined");if(ft.height===void 0||ft.width===void 0)throw new Error("Image height and width must be defined");if(ft.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");const{height:pt,width:mt}=ft,gt=ft.norm??{mean:255,bias:0};let vt,yt;vt=typeof gt.mean=="number"?[gt.mean,gt.mean,gt.mean,gt.mean]:[gt.mean[0],gt.mean[1],gt.mean[2],gt.mean[3]??255],yt=typeof gt.bias=="number"?[gt.bias,gt.bias,gt.bias,gt.bias]:[gt.bias[0],gt.bias[1],gt.bias[2],gt.bias[3]??0];const bt=ft.bitmapFormat!==void 0?ft.bitmapFormat:"RGBA",xt=ft.tensorFormat!==void 0&&ft.tensorFormat!==void 0?ft.tensorFormat:"RGB",_t=pt*mt,wt=xt==="RGBA"?new Float32Array(4*_t):new Float32Array(3*_t);let At=4,Pt=0,jt=1,kt=2,St=3,Ct=0,Et=_t,Tt=2*_t,$t=-1;bt==="RGB"&&(At=3,Pt=0,jt=1,kt=2,St=-1),xt==="RGBA"?$t=3*_t:xt==="RBG"?(Ct=0,Tt=_t,Et=2*_t):xt==="BGR"&&(Tt=0,Et=_t,Ct=2*_t);for(let Ot=0;Ot<_t;Ot++,Pt+=At,kt+=At,jt+=At,St+=At)wt[Ct++]=(ht[Pt]+yt[0])/vt[0],wt[Et++]=(ht[jt]+yt[1])/vt[1],wt[Tt++]=(ht[kt]+yt[2])/vt[2],$t!==-1&&St!==-1&&(wt[$t++]=(ht[St]+yt[3])/vt[3]);return new lt("float32",wt,xt==="RGBA"?[1,4,pt,mt]:[1,3,pt,mt])}static async fromImage(ht,ft){const pt=typeof HTMLImageElement<"u"&&ht instanceof HTMLImageElement,mt=typeof ImageData<"u"&&ht instanceof ImageData,gt=typeof ImageBitmap<"u"&&ht instanceof ImageBitmap,vt=typeof ht=="string";let yt,bt=ft??{};if(pt){const xt=document.createElement("canvas");xt.width=ht.width,xt.height=ht.height;const _t=xt.getContext("2d");if(_t==null)throw new Error("Can not access image data");{let wt=ht.height,At=ht.width;if(ft!==void 0&&ft.resizedHeight!==void 0&&ft.resizedWidth!==void 0&&(wt=ft.resizedHeight,At=ft.resizedWidth),ft!==void 0){if(bt=ft,ft.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");if(bt.tensorFormat="RGBA",ft.height!==void 0&&ft.height!==wt)throw new Error("Image input config height doesn't match HTMLImageElement height");if(bt.height=wt,ft.width!==void 0&&ft.width!==At)throw new Error("Image input config width doesn't match HTMLImageElement width");bt.width=At}else bt.tensorFormat="RGBA",bt.height=wt,bt.width=At;_t.drawImage(ht,0,0),yt=_t.getImageData(0,0,At,wt).data}}else{if(!mt){if(gt){if(ft===void 0)throw new Error("Please provide image config with format for Imagebitmap");if(ft.bitmapFormat!==void 0)throw new Error("Image input config format must be defined for ImageBitmap");const xt=document.createElement("canvas").getContext("2d");if(xt!=null){const _t=ht.height,wt=ht.width;if(xt.drawImage(ht,0,0,wt,_t),yt=xt.getImageData(0,0,wt,_t).data,ft!==void 0){if(ft.height!==void 0&&ft.height!==_t)throw new Error("Image input config height doesn't match ImageBitmap height");if(bt.height=_t,ft.width!==void 0&&ft.width!==wt)throw new Error("Image input config width doesn't match ImageBitmap width");bt.width=wt}else bt.height=_t,bt.width=wt;return lt.bufferToTensor(yt,bt)}throw new Error("Can not access image data")}if(vt)return new Promise((xt,_t)=>{const wt=document.createElement("canvas"),At=wt.getContext("2d");if(!ht||!At)return _t();const Pt=new Image;Pt.crossOrigin="Anonymous",Pt.src=ht,Pt.onload=()=>{wt.width=Pt.width,wt.height=Pt.height,At.drawImage(Pt,0,0,wt.width,wt.height);const jt=At.getImageData(0,0,wt.width,wt.height);if(ft!==void 0){if(ft.height!==void 0&&ft.height!==wt.height)throw new Error("Image input config height doesn't match height");if(bt.height=wt.height,ft.width!==void 0&&ft.width!==wt.width)throw new Error("Image input config width doesn't match width");bt.width=wt.width}else bt.height=wt.height,bt.width=wt.width;xt(lt.bufferToTensor(jt.data,bt))}});throw new Error("Input data provided is not supported - aborted tensor creation")}{const xt="RGBA";let _t,wt;if(ft!==void 0&&ft.resizedWidth!==void 0&&ft.resizedHeight!==void 0?(_t=ft.resizedHeight,wt=ft.resizedWidth):(_t=ht.height,wt=ht.width),ft!==void 0){if(bt=ft,ft.bitmapFormat!==void 0&&ft.bitmapFormat!==xt)throw new Error("Image input config format must be RGBA for ImageData");bt.bitmapFormat="RGBA"}else bt.bitmapFormat="RGBA";if(bt.height=_t,bt.width=wt,ft!==void 0){const At=document.createElement("canvas");At.width=wt,At.height=_t;const Pt=At.getContext("2d");if(Pt==null)throw new Error("Can not access image data");Pt.putImageData(ht,0,0),yt=Pt.getImageData(0,0,wt,_t).data}else yt=ht.data}}if(yt!==void 0)return lt.bufferToTensor(yt,bt);throw new Error("Input data provided is not supported - aborted tensor creation")}toDataURL(ht){const ft=document.createElement("canvas");ft.width=this.dims[3],ft.height=this.dims[2];const pt=ft.getContext("2d");if(pt!=null){let mt,gt;(ht==null?void 0:ht.tensorLayout)!==void 0&&ht.tensorLayout==="NHWC"?(mt=this.dims[2],gt=this.dims[3]):(mt=this.dims[3],gt=this.dims[2]);const vt=(ht==null?void 0:ht.format)!==void 0?ht.format:"RGB",yt=ht==null?void 0:ht.norm;let bt,xt;yt===void 0||yt.mean===void 0?bt=[255,255,255,255]:typeof yt.mean=="number"?bt=[yt.mean,yt.mean,yt.mean,yt.mean]:(bt=[yt.mean[0],yt.mean[1],yt.mean[2],0],yt.mean[3]!==void 0&&(bt[3]=yt.mean[3])),yt===void 0||yt.bias===void 0?xt=[0,0,0,0]:typeof yt.bias=="number"?xt=[yt.bias,yt.bias,yt.bias,yt.bias]:(xt=[yt.bias[0],yt.bias[1],yt.bias[2],0],yt.bias[3]!==void 0&&(xt[3]=yt.bias[3]));const _t=gt*mt;let wt=0,At=_t,Pt=2*_t,jt=-1;vt==="RGBA"?(wt=0,At=_t,Pt=2*_t,jt=3*_t):vt==="RGB"?(wt=0,At=_t,Pt=2*_t):vt==="RBG"&&(wt=0,Pt=_t,At=2*_t);for(let kt=0;kt<gt;kt++)for(let St=0;St<mt;St++){const Ct=(this.data[wt++]-xt[0])*bt[0],Et=(this.data[At++]-xt[1])*bt[1],Tt=(this.data[Pt++]-xt[2])*bt[2],$t=jt===-1?255:(this.data[jt++]-xt[3])*bt[3];pt.fillStyle="rgba("+Ct+","+Et+","+Tt+","+$t+")",pt.fillRect(St,kt,1,1)}return ft.toDataURL()}throw new Error("Can not access image data")}toImageData(ht){const ft=document.createElement("canvas").getContext("2d");let pt;if(ft==null)throw new Error("Can not access image data");{let mt,gt,vt;(ht==null?void 0:ht.tensorLayout)!==void 0&&ht.tensorLayout==="NHWC"?(mt=this.dims[2],gt=this.dims[1],vt=this.dims[3]):(mt=this.dims[3],gt=this.dims[2],vt=this.dims[1]);const yt=ht!==void 0&&ht.format!==void 0?ht.format:"RGB",bt=ht==null?void 0:ht.norm;let xt,_t;bt===void 0||bt.mean===void 0?xt=[255,255,255,255]:typeof bt.mean=="number"?xt=[bt.mean,bt.mean,bt.mean,bt.mean]:(xt=[bt.mean[0],bt.mean[1],bt.mean[2],255],bt.mean[3]!==void 0&&(xt[3]=bt.mean[3])),bt===void 0||bt.bias===void 0?_t=[0,0,0,0]:typeof bt.bias=="number"?_t=[bt.bias,bt.bias,bt.bias,bt.bias]:(_t=[bt.bias[0],bt.bias[1],bt.bias[2],0],bt.bias[3]!==void 0&&(_t[3]=bt.bias[3]));const wt=gt*mt;if(ht!==void 0){if(ht.height!==void 0&&ht.height!==gt)throw new Error("Image output config height doesn't match tensor height");if(ht.width!==void 0&&ht.width!==mt)throw new Error("Image output config width doesn't match tensor width");if(ht.format!==void 0&&vt===4&&ht.format!=="RGBA"||vt===3&&ht.format!=="RGB"&&ht.format!=="BGR")throw new Error("Tensor format doesn't match input tensor dims")}const At=4;let Pt=0,jt=1,kt=2,St=3,Ct=0,Et=wt,Tt=2*wt,$t=-1;yt==="RGBA"?(Ct=0,Et=wt,Tt=2*wt,$t=3*wt):yt==="RGB"?(Ct=0,Et=wt,Tt=2*wt):yt==="RBG"&&(Ct=0,Tt=wt,Et=2*wt),pt=ft.createImageData(mt,gt);for(let Ot=0;Ot<gt*mt;Pt+=At,jt+=At,kt+=At,St+=At,Ot++)pt.data[Pt]=(this.data[Ct++]-_t[0])*xt[0],pt.data[jt]=(this.data[Et++]-_t[1])*xt[1],pt.data[kt]=(this.data[Tt++]-_t[2])*xt[2],pt.data[St]=$t===-1?255:(this.data[$t++]-_t[3])*xt[3]}return pt}reshape(ht){return new lt(this.type,this.data,ht)}}const at=lt;class it{constructor(ht){this.handler=ht}async run(ht,ft,pt){const mt={};let gt={};if(typeof ht!="object"||ht===null||ht instanceof at||Array.isArray(ht))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let vt=!0;if(typeof ft=="object"){if(ft===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(ft instanceof at)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(ft)){if(ft.length===0)throw new TypeError("'fetches' cannot be an empty array.");vt=!1;for(const xt of ft){if(typeof xt!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(xt)===-1)throw new RangeError(`'fetches' contains invalid output name: ${xt}.`);mt[xt]=null}if(typeof pt=="object"&&pt!==null)gt=pt;else if(pt!==void 0)throw new TypeError("'options' must be an object.")}else{let xt=!1;const _t=Object.getOwnPropertyNames(ft);for(const wt of this.outputNames)if(_t.indexOf(wt)!==-1){const At=ft[wt];(At===null||At instanceof at)&&(xt=!0,vt=!1,mt[wt]=At)}if(xt){if(typeof pt=="object"&&pt!==null)gt=pt;else if(pt!==void 0)throw new TypeError("'options' must be an object.")}else gt=ft}}else if(ft!==void 0)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const xt of this.inputNames)if(ht[xt]===void 0)throw new Error(`input '${xt}' is missing in 'feeds'.`);if(vt)for(const xt of this.outputNames)mt[xt]=null;const yt=await this.handler.run(ht,mt,gt),bt={};for(const xt in yt)Object.hasOwnProperty.call(yt,xt)&&(bt[xt]=new at(yt[xt].type,yt[xt].data,yt[xt].dims));return bt}static async create(ht,ft,pt,mt){let gt,vt={};if(typeof ht=="string"){if(gt=ht,typeof ft=="object"&&ft!==null)vt=ft;else if(ft!==void 0)throw new TypeError("'options' must be an object.")}else if(ht instanceof Uint8Array){if(gt=ht,typeof ft=="object"&&ft!==null)vt=ft;else if(ft!==void 0)throw new TypeError("'options' must be an object.")}else{if(!(ht instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&ht instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const _t=ht;let wt=0,At=ht.byteLength;if(typeof ft=="object"&&ft!==null)vt=ft;else if(typeof ft=="number"){if(wt=ft,!Number.isSafeInteger(wt))throw new RangeError("'byteOffset' must be an integer.");if(wt<0||wt>=_t.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${_t.byteLength}).`);if(At=ht.byteLength-wt,typeof pt=="number"){if(At=pt,!Number.isSafeInteger(At))throw new RangeError("'byteLength' must be an integer.");if(At<=0||wt+At>_t.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${_t.byteLength-wt}].`);if(typeof mt=="object"&&mt!==null)vt=mt;else if(mt!==void 0)throw new TypeError("'options' must be an object.")}else if(pt!==void 0)throw new TypeError("'byteLength' must be a number.")}else if(ft!==void 0)throw new TypeError("'options' must be an object.");gt=new Uint8Array(_t,wt,At)}}const yt=(vt.executionProviders||[]).map(_t=>typeof _t=="string"?_t:_t.name),bt=await(async _t=>{const wt=_t.length===0?tt:_t,At=[];for(const Pt of wt){const jt=et[Pt];if(jt){if(jt.initialized)return jt.backend;if(jt.aborted)continue;const kt=!!jt.initPromise;try{return kt||(jt.initPromise=jt.backend.init()),await jt.initPromise,jt.initialized=!0,jt.backend}catch(St){kt||At.push({name:Pt,err:St}),jt.aborted=!0}finally{delete jt.initPromise}}}throw new Error(`no available backend found. ERR: ${At.map(Pt=>`[${Pt.name}] ${Pt.err}`).join(", ")}`)})(yt),xt=await bt.createSessionHandler(gt,vt);return new it(xt)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}const ut=it},5716:(b,$,_e)=>{$.R=void 0;const et=_e(6027),tt=_e(1723);$.R=new class{async init(){}async createSessionHandler(nt,rt){const ot=new et.Session(rt);return await ot.loadModel(nt),new tt.OnnxjsSessionHandler(ot)}}},2818:(b,$,_e)=>{$.c8=$.rX=void 0;const et=_e(8453),tt=_e(5381),nt=_e(9544),rt=_e(6640);$.rX=()=>{if((typeof et.env.wasm.initTimeout!="number"||et.env.wasm.initTimeout<0)&&(et.env.wasm.initTimeout=0),typeof et.env.wasm.simd!="boolean"&&(et.env.wasm.simd=!0),typeof et.env.wasm.proxy!="boolean"&&(et.env.wasm.proxy=!1),typeof et.env.wasm.numThreads!="number"||!Number.isInteger(et.env.wasm.numThreads)||et.env.wasm.numThreads<=0){const ot=typeof navigator>"u"?(0,tt.cpus)().length:navigator.hardwareConcurrency;et.env.wasm.numThreads=Math.min(4,Math.ceil((ot||1)/2))}},$.c8=new class{async init(){(0,$.rX)(),await(0,nt.initWasm)()}async createSessionHandler(ot,st){const ct=new rt.OnnxruntimeWebAssemblySessionHandler;return await ct.loadModel(ot,st),Promise.resolve(ct)}}},1057:function(b,$,_e){var et=this&&this.__createBinding||(Object.create?function(rt,ot,st,ct){ct===void 0&&(ct=st);var lt=Object.getOwnPropertyDescriptor(ot,st);lt&&!("get"in lt?!ot.__esModule:lt.writable||lt.configurable)||(lt={enumerable:!0,get:function(){return ot[st]}}),Object.defineProperty(rt,ct,lt)}:function(rt,ot,st,ct){ct===void 0&&(ct=st),rt[ct]=ot[st]}),tt=this&&this.__exportStar||function(rt,ot){for(var st in rt)st==="default"||Object.prototype.hasOwnProperty.call(ot,st)||et(ot,rt,st)};Object.defineProperty($,"__esModule",{value:!0}),tt(_e(8453),$);const nt=_e(8453);{const rt=_e(5716).R;(0,nt.registerBackend)("webgl",rt,-10)}{const rt=_e(2818).c8;(0,nt.registerBackend)("cpu",rt,10),(0,nt.registerBackend)("wasm",rt,10),(0,nt.registerBackend)("xnnpack",rt,9)}},4910:(b,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createAttributeWithCacheKey=void 0;class _e{constructor(tt){Object.assign(this,tt)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(tt=>`${this[tt]}`).join(";")),this._cacheKey}}$.createAttributeWithCacheKey=et=>new _e(et)},6874:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.Attribute=void 0;const et=_e(1446),tt=_e(1287),nt=_e(9240),rt=_e(7273);var ot=tt.onnxruntime.experimental.fbs;class st{constructor(lt){if(this._attributes=new Map,lt!=null){for(const at of lt)at instanceof et.onnx.AttributeProto?this._attributes.set(at.name,[st.getValue(at),st.getType(at)]):at instanceof ot.Attribute&&this._attributes.set(at.name(),[st.getValue(at),st.getType(at)]);if(this._attributes.size<lt.length)throw new Error("duplicated attribute names")}}set(lt,at,it){this._attributes.set(lt,[it,at])}delete(lt){this._attributes.delete(lt)}getFloat(lt,at){return this.get(lt,"float",at)}getInt(lt,at){return this.get(lt,"int",at)}getString(lt,at){return this.get(lt,"string",at)}getTensor(lt,at){return this.get(lt,"tensor",at)}getFloats(lt,at){return this.get(lt,"floats",at)}getInts(lt,at){return this.get(lt,"ints",at)}getStrings(lt,at){return this.get(lt,"strings",at)}getTensors(lt,at){return this.get(lt,"tensors",at)}get(lt,at,it){const ut=this._attributes.get(lt);if(ut===void 0){if(it!==void 0)return it;throw new Error(`required attribute not found: ${lt}`)}if(ut[1]!==at)throw new Error(`type mismatch: expected ${at} but got ${ut[1]}`);return ut[0]}static getType(lt){const at=lt instanceof et.onnx.AttributeProto?lt.type:lt.type();switch(at){case et.onnx.AttributeProto.AttributeType.FLOAT:return"float";case et.onnx.AttributeProto.AttributeType.INT:return"int";case et.onnx.AttributeProto.AttributeType.STRING:return"string";case et.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case et.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case et.onnx.AttributeProto.AttributeType.INTS:return"ints";case et.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case et.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${et.onnx.AttributeProto.AttributeType[at]}`)}}static getValue(lt){const at=lt instanceof et.onnx.AttributeProto?lt.type:lt.type();if(at===et.onnx.AttributeProto.AttributeType.GRAPH||at===et.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const it=this.getValueNoCheck(lt);if(at===et.onnx.AttributeProto.AttributeType.INT&&rt.LongUtil.isLong(it))return rt.LongUtil.longToNumber(it);if(at===et.onnx.AttributeProto.AttributeType.INTS){const ut=it,dt=new Array(ut.length);for(let ht=0;ht<ut.length;ht++){const ft=ut[ht];dt[ht]=rt.LongUtil.longToNumber(ft)}return dt}if(at===et.onnx.AttributeProto.AttributeType.TENSOR)return lt instanceof et.onnx.AttributeProto?nt.Tensor.fromProto(it):nt.Tensor.fromOrtTensor(it);if(at===et.onnx.AttributeProto.AttributeType.TENSORS){if(lt instanceof et.onnx.AttributeProto)return it.map(ut=>nt.Tensor.fromProto(ut));if(lt instanceof ot.Attribute)return it.map(ut=>nt.Tensor.fromOrtTensor(ut))}if(at===et.onnx.AttributeProto.AttributeType.STRING&&lt instanceof et.onnx.AttributeProto){const ut=it;return(0,rt.decodeUtf8String)(ut)}return at===et.onnx.AttributeProto.AttributeType.STRINGS&&lt instanceof et.onnx.AttributeProto?it.map(rt.decodeUtf8String):it}static getValueNoCheck(lt){return lt instanceof et.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(lt):this.getValueNoCheckFromOrtFormat(lt)}static getValueNoCheckFromOnnxFormat(lt){switch(lt.type){case et.onnx.AttributeProto.AttributeType.FLOAT:return lt.f;case et.onnx.AttributeProto.AttributeType.INT:return lt.i;case et.onnx.AttributeProto.AttributeType.STRING:return lt.s;case et.onnx.AttributeProto.AttributeType.TENSOR:return lt.t;case et.onnx.AttributeProto.AttributeType.GRAPH:return lt.g;case et.onnx.AttributeProto.AttributeType.FLOATS:return lt.floats;case et.onnx.AttributeProto.AttributeType.INTS:return lt.ints;case et.onnx.AttributeProto.AttributeType.STRINGS:return lt.strings;case et.onnx.AttributeProto.AttributeType.TENSORS:return lt.tensors;case et.onnx.AttributeProto.AttributeType.GRAPHS:return lt.graphs;default:throw new Error(`unsupported attribute type: ${et.onnx.AttributeProto.AttributeType[lt.type]}`)}}static getValueNoCheckFromOrtFormat(lt){switch(lt.type()){case ot.AttributeType.FLOAT:return lt.f();case ot.AttributeType.INT:return lt.i();case ot.AttributeType.STRING:return lt.s();case ot.AttributeType.TENSOR:return lt.t();case ot.AttributeType.GRAPH:return lt.g();case ot.AttributeType.FLOATS:return lt.floatsArray();case ot.AttributeType.INTS:{const at=[];for(let it=0;it<lt.intsLength();it++)at.push(lt.ints(it));return at}case ot.AttributeType.STRINGS:{const at=[];for(let it=0;it<lt.stringsLength();it++)at.push(lt.strings(it));return at}case ot.AttributeType.TENSORS:{const at=[];for(let it=0;it<lt.tensorsLength();it++)at.push(lt.tensors(it));return at}default:throw new Error(`unsupported attribute type: ${ot.AttributeType[lt.type()]}`)}}}$.Attribute=st},1975:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.resolveBackend=$.backend=void 0;const et=_e(4418),tt=new Map;async function nt(rt){const ot=$.backend;if(ot[rt]!==void 0&&function(st){const ct=st;return"initialize"in ct&&typeof ct.initialize=="function"&&"createSessionHandler"in ct&&typeof ct.createSessionHandler=="function"&&"dispose"in ct&&typeof ct.dispose=="function"}(ot[rt])){const st=ot[rt];let ct=st.initialize();if(typeof ct=="object"&&"then"in ct&&(ct=await ct),ct)return tt.set(rt,st),st}}$.backend={webgl:new et.WebGLBackend},$.resolveBackend=async function rt(ot){if(!ot)return rt(["webgl"]);{const st=typeof ot=="string"?[ot]:ot;for(const ct of st){const lt=tt.get(ct);if(lt)return lt;const at=await nt(ct);if(at)return at}}throw new Error("no available backend to use")}},4418:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.WebGLBackend=void 0;const et=_e(8453),tt=_e(1315),nt=_e(2171),rt=_e(3389);$.WebGLBackend=class{get contextId(){return et.env.webgl.contextId}set contextId(ot){et.env.webgl.contextId=ot}get matmulMaxBatchSize(){return et.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(ot){et.env.webgl.matmulMaxBatchSize=ot}get textureCacheMode(){return et.env.webgl.textureCacheMode}set textureCacheMode(ot){et.env.webgl.textureCacheMode=ot}get pack(){return et.env.webgl.pack}set pack(ot){et.env.webgl.pack=ot}get async(){return et.env.webgl.async}set async(ot){et.env.webgl.async=ot}initialize(){try{return this.glContext=(0,rt.createWebGLContext)(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),tt.Logger.setWithEnv(et.env),tt.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(ot){return tt.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${ot}`),!1}}createSessionHandler(ot){return new nt.WebGLSessionHandler(this,ot)}dispose(){this.glContext.dispose()}}},6859:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.CoordsGlslLib=void 0;const et=_e(7273),tt=_e(1997),nt=_e(6757),rt=_e(7618),ot=_e(432);class st extends tt.GlslLib{constructor(lt){super(lt)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new tt.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new tt.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const lt=this.context.outputTextureLayout;return lt.isPacked?this.getPackedOutputSamplingSnippet(lt):this.getUnpackedOutputSamplingSnippet(lt)}getPackedOutputSamplingSnippet(lt){const at=lt.unpackedShape,it=[lt.width,lt.height],ut={},dt="getOutputCoords";switch(at.length){case 0:ut[dt]=this.getOutputScalarCoords();break;case 1:ut[dt]=this.getOutputPacked1DCoords(at,it);break;case 2:ut[dt]=this.getOutputPacked2DCoords(at,it);break;case 3:ut[dt]=this.getOutputPacked3DCoords(at,it);break;default:ut[dt]=this.getOutputPackedNDCoords(at,it)}const ht=`
      void setOutput(vec4 val) {
        ${(0,nt.getGlsl)(this.context.glContext.version).output} = val;
      }
    `;return ut.floatTextureSetRGBA=new tt.GlslLibRoutine(ht),ut}getUnpackedOutputSamplingSnippet(lt){const at=lt.unpackedShape,it=[lt.width,lt.height],ut={},dt="getOutputCoords";switch(at.length){case 0:ut[dt]=this.getOutputScalarCoords();break;case 1:ut[dt]=this.getOutputUnpacked1DCoords(at,it);break;case 2:ut[dt]=this.getOutputUnpacked2DCoords(at,it);break;case 3:ut[dt]=this.getOutputUnpacked3DCoords(at,it);break;case 4:ut[dt]=this.getOutputUnpacked4DCoords(at,it);break;case 5:ut[dt]=this.getOutputUnpacked5DCoords(at,it);break;case 6:ut[dt]=this.getOutputUnpacked6DCoords(at,it);break;default:throw new Error(`Unsupported output dimensionality: ${at.length}`)}const ht=`
        void setOutput(float val) {
          ${(0,nt.getGlsl)(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return ut.floatTextureSetR=new tt.GlslLibRoutine(ht),ut}getOutputScalarCoords(){return new tt.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(lt,at){const it=at;let ut="";return it[0]===1?(ut=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${it[1]}.0);
          }
        `,new tt.GlslLibRoutine(ut)):it[1]===1?(ut=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${it[0]}.0);
          }
        `,new tt.GlslLibRoutine(ut)):(ut=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${it[0]}, ${it[1]}));
          return 2 * (resTexRC.y * ${it[0]} + resTexRC.x);
        }
      `,new tt.GlslLibRoutine(ut))}getOutputPacked2DCoords(lt,at){let it="";if(et.ArrayUtil.arraysEqual(lt,at))return it=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${at[0]}, ${at[1]}));
        }
      `,new tt.GlslLibRoutine(it);const ut=at,dt=Math.ceil(lt[1]/2);return it=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${ut[0]}, ${ut[1]}));

          int index = resTexRC.y * ${ut[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${dt}) * 2;
          int c = 2 * (index / ${dt});

          return ivec2(r, c);
        }
      `,new tt.GlslLibRoutine(it)}getOutputPacked3DCoords(lt,at){const it=[at[0],at[1]],ut=Math.ceil(lt[2]/2),dt=ut*Math.ceil(lt[1]/2),ht=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${it[0]}, ${it[1]}));
          int index = resTexRC.y * ${it[0]} + resTexRC.x;

          int b = index / ${dt};
          index -= b * ${dt};

          // reverse r and c order for packed texture
          int r = imod(index, ${ut}) * 2;
          int c = 2 * (index / ${ut});

          return ivec3(b, r, c);
        }
      `;return new tt.GlslLibRoutine(ht)}getOutputPackedNDCoords(lt,at){const it=[at[0],at[1]],ut=Math.ceil(lt[lt.length-1]/2),dt=ut*Math.ceil(lt[lt.length-2]/2);let ht=dt,ft="",pt="b, r, c";for(let gt=2;gt<lt.length-1;gt++)ht*=lt[lt.length-gt-1],ft=`
      int b${gt} = index / ${ht};
      index -= b${gt} * ${ht};
    `+ft,pt=`b${gt}, `+pt;const mt=`
      ivec${lt.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${it[0]}, ${it[1]}));
        int index = resTexRC.y * ${it[0]} + resTexRC.x;

        ${ft}

        int b = index / ${dt};
        index -= b * ${dt};

        // reverse r and c order for packed texture
        int r = imod(index, ${ut}) * 2;
        int c = 2 * (index / ${ut});

        return ivec${lt.length}(${pt});
      }
    `;return new tt.GlslLibRoutine(mt)}getOutputUnpacked1DCoords(lt,at){const it=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${at[0]}, ${at[1]}));
          return resTexRC.y * ${at[0]} + resTexRC.x;
        }
      `;return new tt.GlslLibRoutine(it)}getOutputUnpacked2DCoords(lt,at){const it=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${at[0]}, ${at[1]}));
          int index = resTexRC.y * ${at[0]} + resTexRC.x;
          int r = index / ${lt[1]};
          int c = index - r * ${lt[1]};
          return ivec2(r, c);
        }
      `;return new tt.GlslLibRoutine(it)}getOutputUnpacked3DCoords(lt,at){let it="";const ut=lt.length;let dt=null;ut<2&&(dt=[]),dt=new Array(ut-1),dt[ut-2]=lt[ut-1];for(let pt=ut-3;pt>=0;--pt)dt[pt]=dt[pt+1]*lt[pt+1];const ht=["r","c","d"],ft=dt.map((pt,mt)=>`int ${ht[mt]} = index / ${pt}; ${mt===dt.length-1?`int ${ht[mt+1]} = index - ${ht[mt]} * ${pt}`:`index -= ${ht[mt]} * ${pt}`};`).join("");return it=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${at[0]}, ${at[1]}));
          int index = resTexRC.y * ${at[0]} + resTexRC.x;
          ${ft}
          return ivec3(r, c, d);
        }
      `,new tt.GlslLibRoutine(it)}getOutputUnpacked4DCoords(lt,at){let it="";const ut=lt.length;let dt=null;ut<2&&(dt=[]),dt=new Array(ut-1),dt[ut-2]=lt[ut-1];for(let pt=ut-3;pt>=0;--pt)dt[pt]=dt[pt+1]*lt[pt+1];const ht=["r","c","d","d2"],ft=dt.map((pt,mt)=>`int ${ht[mt]} = index / ${pt}; ${mt===dt.length-1?`int ${ht[mt+1]} = index - ${ht[mt]} * ${pt}`:`index -= ${ht[mt]} * ${pt}`};`).join("");return it=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${at[0]}, ${at[1]}));
          int index = resTexRC.y * ${at[0]} + resTexRC.x;
          ${ft}
          return ivec4(r, c, d, d2);
        }
      `,new tt.GlslLibRoutine(it)}getOutputUnpacked5DCoords(lt,at){let it="";const ut=lt.length;let dt=null;ut<2&&(dt=[]),dt=new Array(ut-1),dt[ut-2]=lt[ut-1];for(let pt=ut-3;pt>=0;--pt)dt[pt]=dt[pt+1]*lt[pt+1];const ht=["r","c","d","d2","d3"],ft=dt.map((pt,mt)=>`int ${ht[mt]} = index / ${pt}; ${mt===dt.length-1?`int ${ht[mt+1]} = index - ${ht[mt]} * ${pt}`:`index -= ${ht[mt]} * ${pt}`};`).join("");return it=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${at[0]}, ${at[1]}));
          int index = resTexRC.y * ${at[0]} + resTexRC.x;
          ${ft}
          return ivec5(r, c, d, d2, d3);
        }
      `,new tt.GlslLibRoutine(it)}getOutputUnpacked6DCoords(lt,at){let it="";const ut=lt.length;let dt=null;ut<2&&(dt=[]),dt=new Array(ut-1),dt[ut-2]=lt[ut-1];for(let pt=ut-3;pt>=0;--pt)dt[pt]=dt[pt+1]*lt[pt+1];const ht=["r","c","d","d2","d3","d4"],ft=dt.map((pt,mt)=>`int ${ht[mt]} = index / ${pt}; ${mt===dt.length-1?`int ${ht[mt+1]} = index - ${ht[mt]} * ${pt}`:`index -= ${ht[mt]} * ${pt}`};`).join("");return it=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${at[0]}, ${at[1]}));
         int index = resTexRC.y * ${at[0]} + resTexRC.x;
         ${ft}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new tt.GlslLibRoutine(it)}getCommonUtilFuncs(){const lt={};let at="uvFromFlat";lt[at]=new tt.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),at="packedUVfrom1D",lt[at]=new tt.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),at="packedUVfrom2D",lt[at]=new tt.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),at="packedUVfrom3D",lt[at]=new tt.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),at="sampleTexture";const it=(0,nt.getGlsl)(this.context.glContext.version);return lt[at]=new tt.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${it.texture2D}(textureSampler, uv).r;
        }`),lt}getInputsSamplingSnippets(){const lt={},at=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((it,ut)=>{const dt=this.context.inputTextureLayouts[ut],ht=(0,ot.generateShaderFuncNameFromInputSamplerName)(it);dt.isPacked?lt[ht]=this.getPackedSamplerFromInput(ht,it,dt):lt[ht]=this.getUnpackedSamplerFromInput(ht,it,dt);const ft=(0,ot.generateShaderFuncNameFromInputSamplerNameAtOutCoords)(it);dt.unpackedShape.length<=at.unpackedShape.length&&(dt.isPacked?lt[ft]=this.getPackedSamplerAtOutputCoords(ft,dt,at,it):lt[ft]=this.getUnpackedSamplerAtOutputCoords(ft,dt,at,it))}),lt}getPackedSamplerAtOutputCoords(lt,at,it,ut){const dt=at.unpackedShape,ht=it.unpackedShape,ft=ut,pt=(0,ot.generateShaderFuncNameFromInputSamplerName)(ft),mt=dt.length,gt=ht.length,vt=et.BroadcastUtil.getBroadcastDims(dt,ht),yt=(0,ot.getCoordsDataType)(gt),bt=gt-mt;let xt;const _t=(0,ot.getGlChannels)();xt=mt===0?"":gt<2&&vt.length>=1?"coords = 0;":vt.map(St=>`coords.${_t[St+bt]} = 0;`).join(`
`);let wt="";wt=gt<2&&mt>0?"coords":dt.map((St,Ct)=>`coords.${_t[Ct+bt]}`).join(", ");let At="return outputValue;";const Pt=et.ShapeUtil.size(dt)===1,jt=et.ShapeUtil.size(ht)===1;if(mt!==1||Pt||jt){if(Pt&&!jt)At=gt===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(vt.length){const St=mt-2,Ct=mt-1;vt.indexOf(St)>-1&&vt.indexOf(Ct)>-1?At="return vec4(outputValue.x);":vt.indexOf(St)>-1?At="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":vt.indexOf(Ct)>-1&&(At="return vec4(outputValue.xx, outputValue.zz);")}}else At=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const kt=`
      vec4 ${lt}() {
        ${yt} coords = getOutputCoords();
        
        int lastDim = coords.${_t[gt-1]};
        coords.${_t[gt-1]} = coords.${_t[gt-2]};
        coords.${_t[gt-2]} = lastDim;
      
        ${xt}
        vec4 outputValue = ${pt}(${wt});
        ${At}
      }
    `;return new tt.GlslLibRoutine(kt,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(lt,at,it,ut){const dt=[it.width,it.height],ht=[at.width,at.height],ft=at.unpackedShape.length,pt=it.unpackedShape.length,mt=at.unpackedShape,gt=it.unpackedShape,vt=(0,ot.generateShaderFuncNameFromInputSamplerName)(ut);if(ft===pt&&et.ArrayUtil.arraysEqual(ht,dt)){const jt=`
          float ${lt}() {
            return sampleTexture(${ut}, TexCoords);
          }
        `;return new tt.GlslLibRoutine(jt,["coordinates.sampleTexture"])}const yt=(0,ot.getCoordsDataType)(pt),bt=et.BroadcastUtil.getBroadcastDims(mt,gt),xt=pt-ft;let _t;const wt=(0,ot.getGlChannels)();_t=ft===0?"":pt<2&&bt.length>=1?"coords = 0;":bt.map(jt=>`coords.${wt[jt+xt]} = 0;`).join(`
`);let At="";At=pt<2&&ft>0?"coords":at.unpackedShape.map((jt,kt)=>`coords.${wt[kt+xt]}`).join(", ");const Pt=`
        float ${lt}() {
          ${yt} coords = getOutputCoords();
          ${_t}
          return ${vt}(${At});
        }
      `;return new tt.GlslLibRoutine(Pt,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(lt,at,it){switch(it.unpackedShape.length){case 0:return this.getPackedSamplerScalar(lt,at);case 1:return this.getPackedSampler1D(lt,at,it);case 2:return this.getPackedSampler2D(lt,at,it);case 3:return this.getPackedSampler3D(lt,at,it);default:return this.getPackedSamplerND(lt,at,it)}}getUnpackedSamplerFromInput(lt,at,it){const ut=it.unpackedShape;switch(ut.length){case 0:return this.getUnpackedSamplerScalar(lt,at,it);case 1:return this.getUnpackedSampler1D(lt,at,it);case 2:return this.getUnpackedSampler2D(lt,at,it);case 3:return this.getUnpackedSampler3D(lt,at,it);case 4:return this.getUnpackedSampler4D(lt,at,it);case 5:return this.getUnpackedSampler5D(lt,at,it);case 6:return this.getUnpackedSampler6D(lt,at,it);default:throw new Error(`Unsupported dimension ${ut.length}-D`)}}getPackedSamplerScalar(lt,at){const it=`
          vec4 ${lt}() {
            return ${(0,nt.getGlsl)(this.context.glContext.version).texture2D}(${at}, halfCR);
          }
        `;return new tt.GlslLibRoutine(it)}getPackedSampler1D(lt,at,it){const ut=[it.width,it.height],dt=[ut[1],ut[0]],ht=(0,nt.getGlsl)(this.context.glContext.version),ft=`vec4 ${lt}(int index) {
      vec2 uv = packedUVfrom1D(
      ${dt[0]}, ${dt[1]}, index);
      return ${ht.texture2D}(${at}, uv);
    }`;return new tt.GlslLibRoutine(ft,["coordinates.packedUVfrom1D"])}getPackedSampler2D(lt,at,it){const ut=it.unpackedShape,dt=[it.width,it.height],ht=(0,nt.getGlsl)(this.context.glContext.version),ft=dt[0],pt=dt[1];if(dt!=null&&et.ArrayUtil.arraysEqual(ut,dt)){const yt=`vec4 ${lt}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${pt}.0, ${ft}.0);
        return ${ht.texture2D}(${at}, uv);
      }`;return new tt.GlslLibRoutine(yt)}const mt=dt,gt=Math.ceil(ut[1]/2),vt=`vec4 ${lt}(int row, int col) {
      vec2 uv = packedUVfrom2D(${mt[1]}, ${mt[0]}, ${gt}, row, col);
      return ${ht.texture2D}(${at}, uv);
    }`;return new tt.GlslLibRoutine(vt,["coordinates.packedUVfrom2D"])}getPackedSampler3D(lt,at,it){const ut=it.unpackedShape,dt=[it.width,it.height],ht=[dt[0],dt[1]],ft=(0,nt.getGlsl)(this.context.glContext.version);if(ut[0]===1){const yt=ut.slice(1),bt=[1,2],xt=(0,ot.squeezeInputShape)(ut,yt),_t=["b","row","col"],wt=JSON.parse(JSON.stringify(it));wt.unpackedShape=xt;const At=this.getPackedSamplerFromInput(lt,at,wt),Pt=`${At.routineBody}
      vec4 ${lt}(int b, int row, int col) {
        return ${lt}(${(0,ot.getSqueezedParams)(_t,bt)});
      } `;return new tt.GlslLibRoutine(Pt,At.dependencies)}const pt=ht[0],mt=ht[1],gt=Math.ceil(ut[2]/2),vt=`vec4 ${lt}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${mt}, ${pt}, ${gt*Math.ceil(ut[1]/2)}, ${gt}, b, row, col);
      return ${ft.texture2D}(${at}, uv);}`;return new tt.GlslLibRoutine(vt,["coordinates.packedUVfrom3D"])}getPackedSamplerND(lt,at,it){const ut=it.unpackedShape,dt=ut.length,ht=[it.width,it.height],ft=(0,nt.getGlsl)(this.context.glContext.version),pt=[ht[0],ht[1]],mt=pt[1],gt=pt[0],vt=Math.ceil(ut[dt-1]/2);let yt=vt*Math.ceil(ut[dt-2]/2),bt="int b, int row, int col",xt=`b * ${yt} + (row / 2) * ${vt} + (col / 2)`;for(let wt=2;wt<dt-1;wt++)bt=`int b${wt}, `+bt,yt*=ut[dt-wt-1],xt=`b${wt} * ${yt} + `+xt;const _t=`vec4 ${lt}(${bt}) {
      int index = ${xt};
      int texR = index / ${gt};
      int texC = index - texR * ${gt};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${gt}, ${mt});
      return ${ft.texture2D}(${at}, uv);
    }`;return new tt.GlslLibRoutine(_t)}getUnpackedSamplerScalar(lt,at,it){const[ut,dt]=[it.width,it.height];if(ut===1&&dt===1){const ft=`
          float ${lt}() {
            return sampleTexture(${at}, halfCR);
          }
        `;return new tt.GlslLibRoutine(ft,["coordinates.sampleTexture"])}const ht=`
        float ${lt}() {
          int offset_${at} = coordsToOffset(TexCoords, ${ut}, ${dt});
          vec2 uv = uvFromFlat(${ut}, ${dt}, offset_${at});
          return sampleTexture(${at}, uv);
        }
      `;return new tt.GlslLibRoutine(ht,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(lt,at,it){const ut=it.width,dt=it.height;if(dt===1&&ut===1){const ft=`
        float ${lt}(int index) {
          return sampleTexture(${at}, halfCR);
        }
      `;return new tt.GlslLibRoutine(ft,["coordinates.sampleTexture"])}if(dt===1){const ft=`
          float ${lt}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${ut}.0, 0.5);
            return sampleTexture(${at}, uv);
          }
        `;return new tt.GlslLibRoutine(ft,["coordinates.sampleTexture"])}if(ut===1){const ft=`
          float ${lt}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${dt}.0);
            return sampleTexture(${at}, uv);
          }
        `;return new tt.GlslLibRoutine(ft,["coordinates.sampleTexture"])}const ht=`
        float ${lt}(int index) {
          vec2 uv = uvFromFlat(${ut}, ${dt}, index);
          return sampleTexture(${at}, uv);
        }
      `;return new tt.GlslLibRoutine(ht,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(lt,at,it){const ut=it.unpackedShape,dt=[it.height,it.width];if(dt!=null&&et.ArrayUtil.arraysEqual(ut,dt)){const yt=`
          float ${lt}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${dt[1]}.0, ${dt[0]}.0);
            return sampleTexture(${at}, uv);
          }
        `;return new tt.GlslLibRoutine(yt,["coordinates.sampleTexture"])}const{newShape:ht,keptDims:ft}=(0,rt.squeezeShape)(ut),pt=ht;if(pt.length<ut.length){const yt=(0,ot.squeezeInputShape)(ut,pt),bt=JSON.parse(JSON.stringify(it));bt.unpackedShape=yt;const xt=["col","row"],_t=`
          ${this.getUnpackedSamplerFromInput(lt,at,bt).routineBody}
          float ${lt}(int row, int col) {
            return ${lt}(${(0,ot.getSqueezedParams)(xt,ft)});
          }
        `;return new tt.GlslLibRoutine(_t,["coordinates.sampleTexture"])}const mt=dt[1],gt=dt[0];if(gt===1){const yt=`
          float ${lt}(int row, int col) {
            int offset_${at} = coordsToOffset(TexCoords, ${mt}, ${gt});
            float index = dot(vec3(row, col, offset_${at}), vec3(${ut[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${mt}.0);
            return sampleTexture(${at}, uv);
          }
        `;return new tt.GlslLibRoutine(yt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(mt===1){const yt=`
          float ${lt}(int row, int col) {
            int offset_${at} = coordsToOffset(TexCoords, ${mt}, ${gt});
            float index = dot(vec3(row, col, offset_${at}), vec3(${ut[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${gt}.0, 0.5);
            return sampleTexture(${at}, uv);
          }
        `;return new tt.GlslLibRoutine(yt,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const vt=`
        float ${lt}(int row, int col) {
          int index = col * ${ut[1]} + row;
          vec2 uv = uvFromFlat(${mt}, ${gt}, index);
          return sampleTexture(${at}, uv);
        }
      `;return new tt.GlslLibRoutine(vt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(lt,at,it){const ut=it.unpackedShape,dt=ut[1]*ut[2],ht=ut[2],{newShape:ft,keptDims:pt}=(0,rt.squeezeShape)(ut),mt=ft;if(mt.length<ut.length){const vt=(0,ot.squeezeInputShape)(ut,mt),yt=["batch","col","row"],bt=JSON.parse(JSON.stringify(it));bt.unpackedShape=vt;const xt=this.getUnpackedSamplerFromInput(lt,at,bt),_t=pt.reverse(),wt=`
          ${xt.routineBody}
          float ${lt}(int batch, int row, int col) {
            return ${lt}(${(0,ot.getSqueezedParams)(yt,_t)});
          }
        `;return new tt.GlslLibRoutine(wt,xt.dependencies)}const gt=`
          float ${lt}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${dt} + col * ${ht} + row;
            vec2 uv = uvFromFlat(${it.width}, ${it.height}, index);
            return sampleTexture(${at}, uv);
          }
      `;return new tt.GlslLibRoutine(gt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(lt,at,it){const ut=it.unpackedShape,dt=ut[3],ht=ut[2]*dt,ft=`
        float ${lt}(int row, int col, int depth, int depth2) {
          int index = row * ${ut[1]*ht} + col * ${ht} +
              depth2 * ${dt} + depth;
          vec2 uv = uvFromFlat(${it.width}, ${it.height}, index);
          return sampleTexture(${at}, uv);
        }
      `;return new tt.GlslLibRoutine(ft,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(lt,at,it){const ut=it.unpackedShape,dt=ut[4],ht=ut[3]*dt,ft=ut[2]*ht,pt=ut[1]*ft,{newShape:mt,keptDims:gt}=(0,rt.squeezeShape)(ut);if(mt.length<ut.length){const yt=(0,ot.squeezeInputShape)(ut,mt),bt=["row","col","depth","depth2","depth3"],xt=JSON.parse(JSON.stringify(it));xt.unpackedShape=yt;const _t=`
          ${this.getUnpackedSamplerFromInput(lt,at,xt).routineBody}
          float ${lt}(int row, int col, int depth, int depth2, int depth3) {
            return ${lt}(${(0,ot.getSqueezedParams)(bt,gt)});
          }
        `;return new tt.GlslLibRoutine(_t,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const vt=`
        float ${lt}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${pt} + col * ${ft} + depth * ${ht} +
          depth3 * ${dt} + depth2;
          vec2 uv = uvFromFlat(${it.width}, ${it.height}, index);
          return sampleTexture(${at}, uv);
        }
      `;return new tt.GlslLibRoutine(vt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(lt,at,it){const ut=it.unpackedShape,dt=ut[5],ht=ut[4]*dt,ft=ut[3]*ht,pt=ut[2]*ft,mt=ut[1]*pt,{newShape:gt,keptDims:vt}=(0,rt.squeezeShape)(ut);if(gt.length<ut.length){const bt=(0,ot.squeezeInputShape)(ut,gt),xt=["row","col","depth","depth2","depth3","depth4"],_t=JSON.parse(JSON.stringify(it));_t.unpackedShape=bt;const wt=`
            ${this.getUnpackedSamplerFromInput(lt,at,_t).routineBody}
            float ${lt}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${lt}(${(0,ot.getSqueezedParams)(xt,vt)});
            }
          `;return new tt.GlslLibRoutine(wt,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const yt=`
          float ${lt}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${mt} + col * ${pt} + depth * ${ft} +
            depth2 * ${ht} + depth3 * ${dt} + depth4;
            vec2 uv = uvFromFlat(${it.width}, ${it.height}, index);
            return sampleTexture(${at}, uv);
          }
        `;return new tt.GlslLibRoutine(yt,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const lt=this.context.outputTextureLayout,at=lt.shape.length,it=lt.strides,ut=lt.width,dt=lt.height,ht=[];for(let pt=0;pt<at-1;++pt)ht.push(`
        c[${pt}] = offset / ${it[pt]};`),ht.push(`
        offset -= c[${pt}] * ${it[pt]};`);ht.push(`
        c[${at-1}] = offset;`);const ft=`
      void toVec(vec2 texCoords, out int c[${at}]) {
        int offset = coordsToOffset(texCoords, ${ut}, ${dt});
        ${ht.join("")}
      }
      void toVec(int offset, out int c[${at}]) {
        ${ht.join("")}
      }
    `;return{toVec:new tt.GlslLibRoutine(ft,["coordinates.coordsToOffset"])}}valueFrom(){const lt={};return this.context.programInfo.inputNames.forEach((at,it)=>{const ut=this.context.inputTextureLayouts[it],dt=(ut.unpackedShape.length>0?ut.unpackedShape:ut.shape).length;let ht=`_${at}`;lt[ht]=new tt.GlslLibRoutine(this.getValueFromSingle(at,dt,ut.width,ut.height,!1),[`shapeUtils.indicesToOffset${ht}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),ht+="_T",lt[ht]=new tt.GlslLibRoutine(this.getValueFromSingle(at,dt,ut.width,ut.height,!0),[`shapeUtils.indicesToOffset${ht}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),lt}getValueFromSingle(lt,at,it,ut,dt){let ht=`_${lt}`;return dt&&(ht+="_T"),`
        float ${ht}(int m[${at}]) {
          int offset = indicesToOffset${ht}(m);
          vec2 coords = offsetToCoords(offset, ${it}, ${ut});
          float value = getColorAsFloat(${(0,nt.getGlsl)(this.context.glContext.version).texture2D}(${lt}, coords));
          return value;
        }
        `}getPackedValueFrom(lt,at,it,ut,dt){let ht=`_${lt}_Pack`;return dt&&(ht+="_T"),`
        vec4 ${ht}(int m[${at}]) {
          int offset = indicesToOffset_${lt}(m);
          vec2 coords = offsetToCoords(offset, ${it}, ${ut});
          return ${(0,nt.getGlsl)(this.context.glContext.version).texture2D}(${lt}, coords);
        }
        `}}$.CoordsGlslLib=st},1997:(b,$)=>{var _e;Object.defineProperty($,"__esModule",{value:!0}),$.TopologicalSortGlslRoutines=$.GlslLibRoutineNode=$.GlslLibRoutine=$.GlslLib=$.GlslContext=$.FunctionType=void 0,(_e=$.FunctionType||($.FunctionType={}))[_e.ValueBased=0]="ValueBased",_e[_e.Positional=1]="Positional",$.GlslContext=class{constructor(et,tt,nt,rt){this.glContext=et,this.programInfo=tt,this.inputTextureLayouts=nt,this.outputTextureLayout=rt}},$.GlslLib=class{constructor(et){this.context=et}},$.GlslLibRoutine=class{constructor(et,tt){this.routineBody=et,this.dependencies=tt}},$.GlslLibRoutineNode=class{constructor(et,tt,nt){this.name=et,this.dependencies=nt||[],tt&&(this.routineBody=tt)}addDependency(et){et&&this.dependencies.push(et)}},$.TopologicalSortGlslRoutines=class{static returnOrderedNodes(et){if(!et||et.length===0)return[];if(et.length===1)return et;const tt=new Set,nt=new Set,rt=new Array;return this.createOrderedNodes(et,tt,nt,rt),rt}static createOrderedNodes(et,tt,nt,rt){for(let ot=0;ot<et.length;++ot)this.dfsTraverse(et[ot],tt,nt,rt)}static dfsTraverse(et,tt,nt,rt){if(!et||nt.has(et.name))return;if(tt.has(et.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");tt.add(et.name);const ot=et.dependencies;if(ot&&ot.length>0)for(let st=0;st<ot.length;++st)this.dfsTraverse(ot[st],tt,nt,rt);rt.push(et),nt.add(et.name),tt.delete(et.name)}}},1371:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.EncodingGlslLib=void 0;const et=_e(1997);class tt extends et.GlslLib{constructor(rt){super(rt)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new et.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new et.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const rt=tt.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new et.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${rt}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const rt=tt.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new et.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${rt}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const rt=new ArrayBuffer(4),ot=new Uint32Array(rt),st=new Uint8Array(rt);if(ot[0]=3735928559,st[0]===239)return!0;if(st[0]===222)return!1;throw new Error("unknown endianness")}}$.EncodingGlslLib=tt},2691:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.FragColorGlslLib=void 0;const et=_e(1997),tt=_e(6757);class nt extends et.GlslLib{constructor(ot){super(ot)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const ot=(0,tt.getGlsl)(this.context.glContext.version);return{setFragColor:new et.GlslLibRoutine(`
        void setFragColor(float value) {
            ${ot.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new et.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}$.FragColorGlslLib=nt},3878:(b,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.replaceInlines=void 0;const _e=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;$.replaceInlines=function(et){const tt={};let nt;for(;(nt=_e.exec(et))!==null;){const rt=nt[3].split(",").map(ot=>{const st=ot.trim().split(" ");return st&&st.length===2?{type:st[0],name:st[1]}:null}).filter(ot=>ot!==null);tt[nt[2]]={params:rt,body:nt[4]}}for(const rt in tt){const ot="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",rt),st=new RegExp(ot,"gm");for(;(nt=st.exec(et))!==null;){const ct=nt[1],lt=nt[2],at=nt[3].split(","),it=ct?`${ct} ${lt};`:"";let ut=tt[rt].body,dt="";tt[rt].params.forEach((ft,pt)=>{ft&&(dt+=`${ft.type} ${ft.name} = ${at[pt]};
`)}),ut=`${dt}
 ${ut}`,ut=ut.replace("return",`${lt} = `);const ht=`
      ${it}
      {
        ${ut}
      }
      `;et=et.replace(nt[0],ht)}}return et.replace(_e,"")}},8897:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlslPreprocessor=void 0;const et=_e(1997),tt=_e(3878),nt=_e(1248),rt=_e(6757);$.GlslPreprocessor=class{constructor(ot,st,ct,lt){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new et.GlslContext(ot,st,ct,lt),Object.keys(nt.glslRegistry).forEach(it=>{const ut=new nt.glslRegistry[it](this.context);this.libs[it]=ut});const at=this.glslLibRoutineDependencyGraph;for(const it in this.libs){const ut=this.libs[it].getFunctions();for(const dt in ut){const ht=it+"."+dt;let ft;at[ht]?(ft=at[ht],ft.routineBody=ut[dt].routineBody):(ft=new et.GlslLibRoutineNode(ht,ut[dt].routineBody),at[ht]=ft);const pt=ut[dt].dependencies;if(pt)for(let mt=0;mt<pt.length;++mt)if(at[pt[mt]])ft.addDependency(at[pt[mt]]);else{const gt=new et.GlslLibRoutineNode(pt[mt]);at[pt[mt]]=gt,ft.addDependency(gt)}}}}preprocess(){const ot=this.context.programInfo;let st=ot.shaderSource;return this.context.programInfo.hasMain||(st=`${st}
      ${(0,rt.getDefaultFragShaderMain)(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),st=(0,tt.replaceInlines)(st),`${(0,rt.getFragShaderPreamble)(this.context.glContext.version)}
    ${this.getUniforms(ot.inputNames,ot.variables)}
    ${this.getImports(st)}
    ${st}`}getImports(ot){const st=this.selectGlslLibRoutinesToBeIncluded(ot);if(st.length===0)return"";let ct="";for(let lt=0;lt<st.length;++lt){if(!st[lt].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${st[lt].name}`);ct+=st[lt].routineBody+`
`}return ct}selectGlslLibRoutinesToBeIncluded(ot){const st=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(ct=>{const lt=ct.split(".")[1];ot.indexOf(lt)!==-1&&st.push(this.glslLibRoutineDependencyGraph[ct])}),et.TopologicalSortGlslRoutines.returnOrderedNodes(st)}getUniforms(ot,st){const ct=[];if(ot)for(const lt of ot)ct.push(`uniform sampler2D ${lt};`);if(st)for(const lt of st)ct.push(`uniform ${lt.type} ${lt.name}${lt.arrayLength?`[${lt.arrayLength}]`:""};`);return ct.join(`
`)}}},1248:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.glslRegistry=void 0;const et=_e(6859),tt=_e(1371),nt=_e(2691),rt=_e(9183),ot=_e(9314);$.glslRegistry={encoding:tt.EncodingGlslLib,fragcolor:nt.FragColorGlslLib,vec:ot.VecGlslLib,shapeUtils:rt.ShapeUtilsGlslLib,coordinates:et.CoordsGlslLib}},9183:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ShapeUtilsGlslLib=void 0;const et=_e(1997);class tt extends et.GlslLib{constructor(rt){super(rt)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const rt=this.context.outputTextureLayout.shape.length,ot={};return this.context.programInfo.inputNames.forEach((st,ct)=>{const lt=this.context.inputTextureLayouts[ct].unpackedShape;if(lt.length<=rt){const at=lt.length,it=rt-at,ut=`bcastIndices_${st}`;let dt="";for(let ft=0;ft<at;++ft)dt+=`
          realIndices[${ft}] = int( mod(float(bcastedIndices[${it+ft}]), ${lt[ft]}.0) );
          `;const ht=`
        void ${ut} (int bcastedIndices[${rt}], out int realIndices[${at}]) {
          ${dt}
        }
        `;ot[ut]=new et.GlslLibRoutine(ht)}}),ot}bcastMatmulIndex(){const rt=this.context.outputTextureLayout.shape.length,ot={};return this.context.programInfo.inputNames.forEach((st,ct)=>{const lt=this.context.inputTextureLayouts[ct].shape;if(!(lt.length<2||lt.length>rt)){const at=lt.length,it=rt-at,ut=`bcastMatmulIndices_${st}`;let dt="";for(let ft=0;ft<at-2;++ft)dt+=`
          realIndices[${ft}] = int( mod(float(bcastedIndices[${it+ft}]), ${lt[ft]}.0) );
          `;const ht=`
        void ${ut}(int bcastedIndices[${rt}], out int realIndices[${at}]) {
          ${dt}
          realIndices[${at-1}] = bcastedIndices[${rt-1}];
          realIndices[${at-2}] = bcastedIndices[${rt-2}];
        }
        `;ot[ut]=new et.GlslLibRoutine(ht)}}),ot}indicesToOffset(){const rt={};return this.context.programInfo.inputNames.forEach((ot,st)=>{const ct=this.context.inputTextureLayouts[st].shape,lt=this.context.inputTextureLayouts[st].strides,at=ct.length;let it=`indicesToOffset_${ot}`;rt[it]=new et.GlslLibRoutine(tt.indexToOffsetSingle(it,at,lt)),it=`indicesToOffset_${ot}_T`,rt[it]=new et.GlslLibRoutine(tt.indexToOffsetSingle(it,at,lt.slice().reverse()))}),rt}static indexToOffsetSingle(rt,ot,st){let ct="";for(let lt=ot-1;lt>=0;--lt)ct+=`
        offset += indices[${lt}] * ${st[lt]};
        `;return`
      int ${rt}(int indices[${ot}]) {
        int offset = 0;
        ${ct}
        return offset;
      }
      `}offsetToIndices(){const rt={};return this.context.programInfo.inputNames.forEach((ot,st)=>{const ct=this.context.inputTextureLayouts[st].shape,lt=this.context.inputTextureLayouts[st].strides,at=ct.length;let it=`offsetToIndices_${ot}`;rt[it]=new et.GlslLibRoutine(tt.offsetToIndicesSingle(it,at,lt)),it=`offsetToIndices_${ot}_T`,rt[it]=new et.GlslLibRoutine(tt.offsetToIndicesSingle(it,at,lt.slice().reverse()))}),rt}static offsetToIndicesSingle(rt,ot,st){const ct=[];for(let lt=0;lt<ot-1;++lt)ct.push(`
      indices[${lt}] = offset / ${st[lt]};`),ct.push(`
        offset -= indices[${lt}] * ${st[lt]};`);return ct.push(`
      indices[${ot-1}] = offset;`),`
      void ${rt}(int offset, out int indices[${ot}]) {
        ${ct.join("")}
      }
      `}incrementIndices(){const rt={};return this.context.programInfo.inputNames.forEach((ot,st)=>{const ct=this.context.inputTextureLayouts[st].shape,lt=ct.length,at=`incrementIndices_${ot}`;let it="";for(let dt=0;dt<lt;++dt)it+=`
        shape[${dt}] = ${ct[dt]};`;const ut=`
        void ${at}(int axis, out int indices[${lt}]) {
          int shape[${lt}];
          ${it};
          for(int i = ${lt} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;rt[at]=new et.GlslLibRoutine(ut)}),rt}}$.ShapeUtilsGlslLib=tt},6757:(b,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getDefaultFragShaderMain=$.getFragShaderPreamble=$.getVertexShaderSource=$.getGlsl=void 0;const _e={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},et={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function tt(nt){return nt===1?_e:et}$.getGlsl=tt,$.getVertexShaderSource=function(nt){const rt=tt(nt);return`${rt.version}
      precision highp float;
      ${rt.attribute} vec3 position;
      ${rt.attribute} vec2 textureCoord;

      ${rt.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},$.getFragShaderPreamble=function(nt){const rt=tt(nt);return`${rt.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${rt.varyingFrag} vec2 TexCoords;
    ${rt.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},$.getDefaultFragShaderMain=function(nt,rt){return`
  void main() {
    int indices[${rt}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${tt(nt).output} = result;
  }
  `}},9314:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.VecGlslLib=void 0;const et=_e(1997);class tt extends et.GlslLib{constructor(rt){super(rt)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const rt=this.context.outputTextureLayout.shape.length,ot={add:"+=",sub:"-=",mul:"*=",div:"/="},st={};for(const ct in ot){const lt=`${ct}Vec`;let at="";for(let ut=0;ut<rt;++ut)at+=`
          dest[${ut}] ${ot[ct]} src[${ut}];
          `;const it=`
        void ${lt}(int src[${rt}], out int dest[${rt}]) {
          ${at}
        }
        `;st[lt]=new et.GlslLibRoutine(it)}return st}copyVec(){const rt=this.context.outputTextureLayout.shape.length;let ot="";for(let ct=0;ct<rt;++ct)ot+=`
        dest[${ct}] = src[${ct}];
        `;const st=`
      void copyVec(int src[${rt}], out int dest[${rt}]) {
        ${ot}
      }
      `;return{copyVec:new et.GlslLibRoutine(st)}}setVecItem(){const rt=this.context.outputTextureLayout.shape.length;let ot=`
        if(index < 0)
            index =${rt} + index;
        if (index == 0)
            m[0] = value;
        `;for(let ct=1;ct<rt-1;++ct)ot+=`
        else if (index == ${ct})
            m[${ct}] = value;
            `;ot+=`
        else
            m[${rt-1}] = value;
        `;const st=`
      void setVecItem(out int m[${rt}], int index, int value) {
        ${ot}
      }
        `;return{setVecItem:new et.GlslLibRoutine(st)}}getVecItem(){const rt=this.context.outputTextureLayout.shape.length;let ot=`
        if(index < 0)
            index = ${rt} + index;
        if (index == 0)
            return m[0];
      `;for(let ct=1;ct<rt-1;++ct)ot+=`
        else if (index == ${ct})
            return m[${ct}];
      `;ot+=`
        else
            return m[${rt-1}];
        `;const st=`
      int getVecItem(int m[${rt}], int index) {
        ${ot}
      }
    `;return{getVecItem:new et.GlslLibRoutine(st)}}}$.VecGlslLib=tt},7860:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.WebGLInferenceHandler=void 0;const et=_e(1315),tt=_e(9240),nt=_e(7273),rt=_e(9),ot=_e(7379),st=_e(2488),ct=_e(540),lt=_e(3314),at=_e(5639);$.WebGLInferenceHandler=class{constructor(it){this.session=it,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(it,ut){return(0,lt.calculateTextureWidthAndHeight)(this.session.layoutStrategy,it,ut)}executeProgram(it,ut){if(ut.length<it.inputNames.length)throw new Error(`Input size mustn't be less than ${it.inputNames.length}.`);if(it.inputNames.length!==it.inputTypes.length)throw new Error("input names size does not match input types");const dt=[];for(let vt=0;vt<it.inputNames.length;++vt)dt[vt]=this.getOrCreateTextureData(ut[vt],it.inputTypes[vt]);const ht=((vt,yt)=>{const bt=yt.map(_t=>`${_t.unpackedShape.join(",")};${_t.width}x${_t.height}`).join("_");let xt=vt.name;return vt.cacheHint&&(xt+="["+vt.cacheHint+"]"),xt+=":"+bt,xt})(it,dt);let ft=this.session.programManager.getArtifact(ht);const pt=ft?ft.programInfo:typeof it.get=="function"?it.get():it,mt=(0,lt.createTextureLayoutFromTextureType)(this.session.layoutStrategy,pt.output.dims,pt.output.textureType),gt=this.createTextureData(mt,pt.output.type);return ft||(ft=this.session.programManager.build(pt,dt,gt),this.session.programManager.setArtifact(ht,ft)),this.runProgram(ft,dt,gt),gt}run(it,ut){return this.executeProgram(it,ut).tensor}runProgram(it,ut,dt){for(let ht=0;ht<ut.length;++ht)if(!!ut[ht].isPacked!=(it.programInfo.inputTypes[ht]===at.TextureType.packed))throw new Error(`input[${ht}] property packed inconsistent`);if(!!dt.isPacked!=(it.programInfo.output.textureType===at.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(it,ut,dt)}getOrCreateTextureData(it,ut){let dt=this.getTextureData(it.dataId,ut===at.TextureType.packed);if(!dt&&(dt=this.getTextureData(it.dataId,ut!==at.TextureType.packed),dt))return ut===at.TextureType.packed?this.pack(dt):this.unpack(dt);if(!dt){const ht=(0,lt.createTextureLayoutFromTextureType)(this.session.layoutStrategy,it.dims,ut);if(ut===at.TextureType.packedLastDimension){const mt=it.dims;if(mt.length===4){const gt=[mt[0],Math.ceil(mt[1]*mt[2]*mt[3]/4)],vt=(0,lt.createTextureLayoutFromTextureType)(this.session.layoutStrategy,gt,ut);let yt=it.numberData;if(mt[1]*mt[2]*mt[3]%4!=0){const bt=mt[0],xt=mt[1]*mt[2]*mt[3],_t=Math.ceil(xt*1/4)*4;yt=new Float32Array(bt*_t);for(let wt=0;wt<bt;++wt){const At=wt*xt,Pt=wt*_t+wt%1*xt;yt.set(it.numberData.subarray(At,At+xt),Pt)}}return this.createTextureData(vt,it.type,yt,it,1)}}if(ut===at.TextureType.packed){const ft=(0,lt.createTextureLayoutFromShape)(this.session.layoutStrategy,it.dims,1,[],{reverseWH:!0}),pt=this.createTextureData(ft,it.type,it.numberData,it,1);dt=this.pack(pt)}else dt=this.createTextureData(ht,it.type,it.numberData,it,1)}return dt}createTextureDataFromLayoutBindTensor(it,ut,dt,ht){return this.createTextureData(it,ut,dt,ht,1)}createTextureData(it,ut,dt,ht,ft){et.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(it)}]`);const pt=this.session.textureManager.createTextureFromLayout(ut,it,dt,ft);return this.createTextureDataFromTexture(it,ut,pt,ht)}reshapeUnpacked(it,ut){const dt=this.getOrCreateTextureData(it,at.TextureType.unpacked),ht={channels:dt.channels,height:dt.height,width:dt.width,shape:ut.length!==0?ut:[1],strides:nt.ShapeUtil.computeStrides(ut),unpackedShape:ut};return this.createTextureDataFromTexture(ht,it.type,dt.texture).tensor}reshapePacked(it,ut){const dt=this.getOrCreateTextureData(it,at.TextureType.packed);if((0,ot.isReshapeCheap)(it.dims,ut)){const gt={channels:dt.channels,height:dt.height,width:dt.width,shape:ut.length!==0?ut:[1],strides:nt.ShapeUtil.computeStrides(ut),unpackedShape:ut,isPacked:!0};return this.createTextureDataFromTexture(gt,it.type,dt.texture).tensor}const ht=(0,ot.processDims3D)(it.dims),ft=(0,ot.processDims3D)(ut),pt=this.reshapePacked(it,ht),mt=this.run((0,ot.createPackedReshape3DProgramInfoLoader)(this,pt,ft),[pt]);return this.reshapePacked(mt,ut)}cast(it,ut){const dt=this.getOrCreateTextureData(it,at.TextureType.unpacked);return this.createTextureDataFromTexture(dt,ut,dt.texture).tensor}createTextureDataFromTexture(it,ut,dt,ht,ft){const pt=Object.assign(Object.assign({},it),{tensor:ht||new tt.Tensor(it.unpackedShape,ut,mt=>this.readTexture(pt),async mt=>this.readTextureAsync(pt),void 0,ft),texture:dt});return this.setTextureData(pt.tensor.dataId,pt,it.isPacked),pt}getTextureData(it,ut=!1){return this.session.isInitializer(it)?this.session.getTextureData(it,ut):ut?this.packedTextureDataCache.get(it):this.unpackedTextureDataCache.get(it)}setTextureData(it,ut,dt=!1){this.session.isInitializer(it)?this.session.setTextureData(it,ut,dt):(dt?this.packedTextureDataCache:this.unpackedTextureDataCache).set(it,ut)}isTextureLayoutCached(it,ut=!1){return!!this.getTextureData(it.dataId,ut)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(it=>this.session.textureManager.releaseTexture(it)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(it=>this.session.textureManager.releaseTexture(it)),this.unpackedTextureDataCache=new Map}readTexture(it){return it.isPacked?this.readTexture(this.unpack(it)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(it,it.tensor.type,it.channels):this.session.textureManager.readUint8TextureAsFloat((0,st.encodeAsUint8)(this,it))}async readTextureAsync(it){return it.isPacked?this.readTextureAsync(this.unpack(it)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(it,it.tensor.type,it.channels):this.session.textureManager.readUint8TextureAsFloat((0,st.encodeAsUint8)(this,it))}pack(it){return this.executeProgram((0,rt.createPackProgramInfoLoader)(this,it.tensor),[it.tensor])}unpack(it){return this.executeProgram((0,ct.createUnpackProgramInfoLoader)(this,it.tensor),[it.tensor])}}},4110:function(b,$,_e){var et=this&&this.__createBinding||(Object.create?function(Rt,Nt,Ft,Ht){Ht===void 0&&(Ht=Ft);var zt=Object.getOwnPropertyDescriptor(Nt,Ft);zt&&!("get"in zt?!Nt.__esModule:zt.writable||zt.configurable)||(zt={enumerable:!0,get:function(){return Nt[Ft]}}),Object.defineProperty(Rt,Ht,zt)}:function(Rt,Nt,Ft,Ht){Ht===void 0&&(Ht=Ft),Rt[Ht]=Nt[Ft]}),tt=this&&this.__setModuleDefault||(Object.create?function(Rt,Nt){Object.defineProperty(Rt,"default",{enumerable:!0,value:Nt})}:function(Rt,Nt){Rt.default=Nt}),nt=this&&this.__importStar||function(Rt){if(Rt&&Rt.__esModule)return Rt;var Nt={};if(Rt!=null)for(var Ft in Rt)Ft!=="default"&&Object.prototype.hasOwnProperty.call(Rt,Ft)&&et(Nt,Rt,Ft);return tt(Nt,Rt),Nt};Object.defineProperty($,"__esModule",{value:!0}),$.WEBGL_OP_RESOLVE_RULES=void 0;const rt=_e(8817),ot=nt(_e(5194)),st=_e(4752),ct=_e(6668),lt=_e(9754),at=_e(5042),it=_e(6742),ut=_e(4125),dt=_e(6149),ht=_e(5378),ft=_e(6981),pt=_e(7413),mt=_e(7006),gt=_e(8276),vt=_e(5565),yt=_e(2834),bt=_e(1010),xt=_e(8126),_t=_e(2801),wt=_e(565),At=_e(2444),Pt=_e(815),jt=_e(564),kt=_e(5416),St=_e(1240),Ct=_e(5944),Et=_e(5707),Tt=nt(_e(9087)),$t=_e(7862),Ot=_e(3980);$.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",Tt.abs],["Acos","","7+",Tt.acos],["Add","","7+",ot.add],["And","","7+",ot.and],["Asin","","7+",Tt.asin],["Atan","","7+",Tt.atan],["AveragePool","","7+",yt.averagePool,yt.parseAveragePoolAttributes],["BatchNormalization","","7+",rt.batchNormalization,rt.parseBatchNormalizationAttributes],["Cast","","6+",st.cast,st.parseCastAttributes],["Ceil","","6+",Tt.ceil],["Clip","","6-10",Tt.clip,Tt.parseClipAttributes],["Clip","","11+",Tt.clipV11],["Concat","","4+",ct.concat,ct.parseConcatAttributes],["Conv","","1+",lt.conv,lt.parseConvAttributes],["ConvTranspose","","1+",at.convTranspose,at.parseConvTransposeAttributes],["Cos","","7+",Tt.cos],["Div","","7+",ot.div],["Dropout","","7+",Tt.identity],["DepthToSpace","","1+",it.depthToSpace,it.parseDepthToSpaceAttributes],["Equal","","7+",ot.equal],["Elu","","6+",Tt.elu,Tt.parseEluAttributes],["Exp","","6+",Tt.exp],["Flatten","","1+",ut.flatten,ut.parseFlattenAttributes],["Floor","","6+",Tt.floor],["FusedConv","com.microsoft","1+",lt.conv,lt.parseConvAttributes],["Gather","","1+",dt.gather,dt.parseGatherAttributes],["Gemm","","7-10",ht.gemm,ht.parseGemmAttributesV7],["Gemm","","11+",ht.gemm,ht.parseGemmAttributesV11],["GlobalAveragePool","","1+",yt.globalAveragePool,yt.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",yt.globalMaxPool],["Greater","","7+",ot.greater],["Identity","","1+",Tt.identity],["ImageScaler","","1+",ft.imageScaler,ft.parseImageScalerAttributes],["InstanceNormalization","","6+",pt.instanceNormalization,pt.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",Tt.leakyRelu,Tt.parseLeakyReluAttributes],["Less","","7+",ot.less],["LRN","","1+",mt.lrn,mt.parseLrnAttributes],["Log","","6+",Tt.log],["MatMul","","1+",gt.matMul,gt.parseMatMulAttributes],["MaxPool","","1+",yt.maxPool,yt.parseMaxPoolAttributes],["Mul","","7+",ot.mul],["Neg","","6+",Tt.neg],["Not","","1+",Tt.not],["Or","","7+",ot.or],["Pad","","2-10",vt.padV2,vt.parsePadAttributesV2],["Pad","","11+",vt.padV11,vt.parsePadAttributesV11],["Pow","","7+",ot.pow],["PRelu","","7+",ot.pRelu],["ReduceLogSum","","1+",bt.reduceLogSum,bt.parseReduceAttributes],["ReduceMax","","1+",bt.reduceMax,bt.parseReduceAttributes],["ReduceMean","","1+",bt.reduceMean,bt.parseReduceAttributes],["ReduceMin","","1+",bt.reduceMin,bt.parseReduceAttributes],["ReduceProd","","1+",bt.reduceProd,bt.parseReduceAttributes],["ReduceSum","","1-12",bt.reduceSum,bt.parseReduceAttributes],["ReduceSumSquare","","1+",bt.reduceLogSumSquare,bt.parseReduceAttributes],["Relu","","6+",Tt.relu],["Reshape","","5+",xt.reshape],["Resize","","10",_t.resize,_t.parseResizeAttributesV10],["Resize","","11+",_t.resize,_t.parseResizeAttributesV11],["Shape","","1+",wt.shape],["Sigmoid","","6+",Tt.sigmoid],["Sin","","7+",Tt.sin],["Slice","","10+",At.sliceV10],["Slice","","1-9",At.slice,At.parseSliceAttributes],["Softmax","","1-12",Pt.softmax,Pt.parseSoftmaxAttributes],["Softmax","","13+",Pt.softmaxV13,Pt.parseSoftmaxAttributesV13],["Split","","2-12",jt.split,jt.parseSplitAttributes],["Sqrt","","6+",Tt.sqrt],["Squeeze","","1-12",kt.squeeze,kt.parseSqueezeAttributes],["Squeeze","","13+",kt.squeezeV13],["Sub","","7+",ot.sub],["Sum","","6+",St.sum],["Tan","","7+",Tt.tan],["Tanh","","6+",Tt.tanh],["Tile","","6+",Ct.tile],["Transpose","","1+",Et.transpose,Et.parseTransposeAttributes],["Upsample","","7-8",Ot.upsample,Ot.parseUpsampleAttributesV7],["Upsample","","9",Ot.upsample,Ot.parseUpsampleAttributesV9],["Unsqueeze","","1-12",$t.unsqueeze,$t.parseUnsqueezeAttributes],["Unsqueeze","","13+",$t.unsqueezeV13],["Xor","","7+",ot.xor]]},8817:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseBatchNormalizationAttributes=$.batchNormalization=void 0;const et=_e(4910),tt=_e(6757),nt=_e(5639),rt={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[nt.TextureType.unpacked,nt.TextureType.unpacked,nt.TextureType.unpacked,nt.TextureType.unpacked,nt.TextureType.unpacked]};$.batchNormalization=(ct,lt,at)=>(st(lt),[ct.run(Object.assign(Object.assign({},rt),{cacheHint:at.cacheKey,get:()=>ot(ct,lt,at)}),lt)]),$.parseBatchNormalizationAttributes=ct=>{const lt=ct.attributes.getFloat("epsilon",1e-5),at=ct.attributes.getFloat("momentum",.9),it=ct.attributes.getInt("spatial",1);return(0,et.createAttributeWithCacheKey)({epsilon:lt,momentum:at,spatial:it})};const ot=(ct,lt,at)=>{const it=(0,tt.getGlsl)(ct.session.backend.glContext.version),ut=lt[0].dims.length,[dt,ht]=ct.calculateTextureWidthAndHeight(lt[1].dims,nt.TextureType.unpacked),ft=`
  float process(int[${ut}] indices) {
    vec2 position = offsetToCoords(indices[1], ${dt}, ${ht});
    float scale = getColorAsFloat(${it.texture2D}(Scale, position));
    float mean = getColorAsFloat(${it.texture2D}(Mean, position));
    float variance = getColorAsFloat(${it.texture2D}(Variance, position));
    float b = getColorAsFloat(${it.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${at.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},rt),{output:{dims:lt[0].dims,type:lt[0].type,textureType:nt.TextureType.unpacked},shaderSource:ft})},st=ct=>{if(!ct||ct.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const lt=ct[0],at=ct[1],it=ct[2],ut=ct[3],dt=ct[4];if(lt.dims.length<3||at.dims.length!==1||it.dims.length!==1||ut.dims.length!==1||dt.dims.length!==1)throw new Error("invalid input shape.");if(at.dims[0]!==lt.dims[1]||it.dims[0]!==lt.dims[1]||ut.dims[0]!==lt.dims[1]||dt.dims[0]!==lt.dims[1])throw new Error("invalid input shape.");if(lt.type!=="float32"&&lt.type!=="float64"||at.type!=="float32"&&at.type!=="float64"||it.type!=="float32"&&it.type!=="float64"||ut.type!=="float32"&&ut.type!=="float64"||dt.type!=="float32"&&dt.type!=="float64")throw new Error("invalid input tensor types.")}},5194:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.xor=$.sub=$.pRelu=$.pow=$.or=$.mul=$.less=$.greater=$.equal=$.div=$.and=$.add=$.glslPRelu=$.glslPow=$.glslXor=$.glslOr=$.glslAnd=$.glslLess=$.glslGreater=$.glslEqual=$.glslSub=$.glslMul=$.glslDiv=$.glslAdd=void 0;const et=_e(7273),tt=_e(1997),nt=_e(6757),rt=_e(5639);function ot(){const yt="add_";return{body:`
  float ${yt}(float a, float b) {
    return a + b;
  }
  vec4 ${yt}(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:yt,type:tt.FunctionType.ValueBased}}function st(){const yt="div_";return{body:`
  float ${yt}(float a, float b) {
    return a / b;
  }
  vec4 ${yt}(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:yt,type:tt.FunctionType.ValueBased}}function ct(){const yt="mul_";return{body:`
  float ${yt}(float a, float b) {
    return a * b;
  }
  vec4 ${yt}(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:yt,type:tt.FunctionType.ValueBased}}function lt(){const yt="sub_";return{body:`
  float ${yt}(float a, float b) {
    return a - b;
  }
  vec4 ${yt}(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:yt,type:tt.FunctionType.ValueBased}}function at(){const yt="equal_";return{body:`
  float ${yt}(float a, float b) {
    return float(a == b);
  }
  vec4 ${yt}(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:yt,type:tt.FunctionType.ValueBased}}function it(){const yt="greater_";return{body:`
  float ${yt}(float a, float b) {
    return float(a > b);
  }
  vec4 ${yt}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:yt,type:tt.FunctionType.ValueBased}}function ut(){const yt="less_";return{body:`
  float ${yt}(float a, float b) {
    return float(a < b);
  }
  vec4 ${yt}(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:yt,type:tt.FunctionType.ValueBased}}function dt(){const yt="and_";return{body:`
  float ${yt}(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 ${yt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:yt,type:tt.FunctionType.ValueBased}}function ht(){const yt="or_";return{body:`
  float ${yt}(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 ${yt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:yt,type:tt.FunctionType.ValueBased}}function ft(){const yt="xor_";return{body:`
  float ${yt}(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 ${yt}(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:yt,type:tt.FunctionType.ValueBased}}function pt(){return function(yt){const bt=`${yt}_`;return{body:`
  float ${bt}(float a, float b) {
    return ${yt}(a, b);
  }
  vec4 ${bt}(vec4 v1, vec4 v2) {
    return ${yt}(v1, v2);
  }
  `,name:bt,type:tt.FunctionType.ValueBased}}("pow")}function mt(){const yt="prelu_";return{body:`
  float ${yt}(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 ${yt}(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:yt,type:tt.FunctionType.ValueBased}}$.glslAdd=ot,$.glslDiv=st,$.glslMul=ct,$.glslSub=lt,$.glslEqual=at,$.glslGreater=it,$.glslLess=ut,$.glslAnd=dt,$.glslOr=ht,$.glslXor=ft,$.glslPow=pt,$.glslPRelu=mt;const gt=(yt,bt,xt,_t=bt[0].type,wt)=>{const At=yt.session.pack?rt.TextureType.packed:rt.TextureType.unpacked;return{name:xt.name,inputNames:["A","B"],inputTypes:[At,At],cacheHint:wt,get:()=>vt(yt,bt,xt,_t)}},vt=(yt,bt,xt,_t=bt[0].type)=>{const wt=yt.session.pack?rt.TextureType.packed:rt.TextureType.unpacked,At=!et.ShapeUtil.areEqual(bt[0].dims,bt[1].dims);let Pt=bt[0].dims;const jt=yt.session.pack;if(At){const Ct=et.BroadcastUtil.calcShape(bt[0].dims,bt[1].dims,!1);if(!Ct)throw new Error("Can't perform binary op on the given tensors");Pt=Ct;const Et=Pt.length,Tt=bt[0].dims.length!==0?bt[0].dims.length:1,$t=bt[1].dims.length!==0?bt[1].dims.length:1,Ot=bt[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",Rt=bt[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",Nt=(0,nt.getGlsl)(yt.session.backend.glContext.version),Ft=jt?`
      ${xt.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${xt.name}(a, b);
        ${Nt.output} = result;
      }`:`
      ${xt.body}
      float process(int indices[${Et}]) {
        int aindices[${Tt}];
        int bindices[${$t}];
        ${Ot}
        ${Rt}
        return ${xt.name}(_A(aindices), _B(bindices));
      }`;return{name:xt.name,inputNames:["A","B"],inputTypes:[wt,wt],output:{dims:Pt,type:_t,textureType:wt},shaderSource:Ft,hasMain:jt}}const kt=(0,nt.getGlsl)(yt.session.backend.glContext.version),St=`
    ${xt.body}
    void main() {
      vec4 v1 = ${kt.texture2D}(A, TexCoords);
      vec4 v2 = ${kt.texture2D}(B, TexCoords);
      vec4 result = ${xt.name}(v1, v2);
      ${kt.output} = result;
    }
    `;return{name:xt.name,inputNames:["A","B"],inputTypes:[wt,wt],output:{dims:bt[0].dims,type:_t,textureType:wt},shaderSource:St,hasMain:!0}};$.add=(yt,bt)=>[yt.run(gt(yt,bt,ot()),bt)],$.and=(yt,bt)=>[yt.run(gt(yt,bt,dt(),"bool"),bt)],$.div=(yt,bt)=>[yt.run(gt(yt,bt,st()),bt)],$.equal=(yt,bt)=>[yt.run(gt(yt,bt,at(),"bool"),bt)],$.greater=(yt,bt)=>[yt.run(gt(yt,bt,it(),"bool"),bt)],$.less=(yt,bt)=>[yt.run(gt(yt,bt,ut(),"bool"),bt)],$.mul=(yt,bt)=>[yt.run(gt(yt,bt,ct()),bt)],$.or=(yt,bt)=>[yt.run(gt(yt,bt,ht(),"bool"),bt)],$.pow=(yt,bt)=>[yt.run(gt(yt,bt,pt()),bt)],$.pRelu=(yt,bt)=>[yt.run(gt(yt,bt,mt()),bt)],$.sub=(yt,bt)=>[yt.run(gt(yt,bt,lt()),bt)],$.xor=(yt,bt)=>[yt.run(gt(yt,bt,ft(),"bool"),bt)]},4752:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseCastAttributes=$.cast=void 0;const et=_e(7273);$.cast=(nt,rt,ot)=>(tt(rt),[nt.cast(rt[0],ot)]),$.parseCastAttributes=nt=>et.ProtoUtil.tensorDataTypeFromProto(nt.attributes.getInt("to"));const tt=nt=>{if(!nt||nt.length!==1)throw new Error("Cast requires 1 input.");if(nt[0].type==="string")throw new Error("Invalid input type.")}},4595:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createPackedConcatProgramInfoLoader=void 0;const et=_e(6757),tt=_e(5639),nt=_e(432),rt=_e(5614);$.createPackedConcatProgramInfoLoader=(st,ct,lt)=>{const at=(it=ct.length,ut=lt.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:it},(dt,ht)=>`X${ht}`),inputTypes:Array(it).fill(tt.TextureType.packed),cacheHint:ut});var it,ut;return Object.assign(Object.assign({},at),{get:()=>((dt,ht,ft,pt)=>{const mt=ft[0].dims.slice();if(pt>=mt.length||pt<-1*mt.length)throw new Error("axis specified for concat doesn't match input dimensionality");pt<0&&(pt=mt.length+pt);const gt=mt.slice(0);for(let Ot=1;Ot<ft.length;Ot++){const Rt=ft[Ot].dims.slice();for(let Nt=0;Nt<mt.length;Nt++)if(Nt===pt)gt[pt]+=Rt[Nt];else if(mt[Nt]!==Rt[Nt])throw new Error("non concat dimensions must match")}const vt=gt.length,yt=(0,rt.getChannels)("coords",vt),bt=(0,nt.getCoordsDataType)(vt),xt=(0,rt.unpackFromChannel)(),_t=ft.map(Ot=>Ot.dims),wt=(0,nt.getGlChannels)(vt),At=new Array(_t.length-1);At[0]=_t[0][pt];for(let Ot=1;Ot<At.length;Ot++)At[Ot]=At[Ot-1]+_t[Ot][pt];const Pt=wt[pt],jt=wt.slice(-2),kt=wt.join();let St=`if (${Pt} < ${At[0]}) {
        return getChannel(
            getX0(${kt}), vec2(${jt.join()}));
        }`;for(let Ot=1;Ot<At.length;Ot++){const Rt=At[Ot-1];St+=`
            if (${Pt} < ${At[Ot]}  && ${Pt} >= ${At[Ot-1]}) {
              return getChannel(
                getX${Ot}(${ot(wt,Pt,Rt)}),
                vec2(${ot(jt,Pt,Rt)}));
            }`}const Ct=At.length,Et=At[At.length-1];St+=`
            return getChannel(
              getX${Ct}(${ot(wt,Pt,Et)}),
              vec2(${ot(jt,Pt,Et)}));`;const Tt=(0,et.getGlsl)(dt.session.backend.glContext.version),$t=`
          ${xt}
          float getValue(${wt.map(Ot=>"int "+Ot)}) {
            ${St}
          }

          void main() {
            ${bt} coords = getOutputCoords();
            int lastDim = coords.${wt[vt-1]};
            coords.${wt[vt-1]} = coords.${wt[vt-2]};
            coords.${wt[vt-2]} = lastDim;

            vec4 result = vec4(getValue(${yt}), 0., 0., 0.);

            ${yt[vt-1]} = ${yt[vt-1]} + 1;
            if (${yt[vt-1]} < ${gt[vt-1]}) {
              result.g = getValue(${yt});
            }

            ${yt[vt-2]} = ${yt[vt-2]} + 1;
            if (${yt[vt-2]} < ${gt[vt-2]}) {
              result.a = getValue(${yt});
            }

            ${yt[vt-1]} = ${yt[vt-1]} - 1;
            if (${yt[vt-2]} < ${gt[vt-2]} &&
                ${yt[vt-1]} < ${gt[vt-1]}) {
              result.b = getValue(${yt});
            }
            ${Tt.output} = result;
          }
        `;return Object.assign(Object.assign({},ht),{output:{dims:gt,type:ft[0].type,textureType:tt.TextureType.packed},shaderSource:$t,hasMain:!0})})(st,at,ct,lt.axis)})};const ot=(st,ct,lt)=>{const at=st.indexOf(ct);return st.map((it,ut)=>ut===at?`${it} - ${lt}`:it).join()}},6668:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseConcatAttributes=$.concat=void 0;const et=_e(4910),tt=_e(5639),nt=_e(4595);$.concat=(it,ut,dt)=>(at(ut),it.session.pack&&ut[0].dims.length>1?[it.run((0,nt.createPackedConcatProgramInfoLoader)(it,ut,dt),ut)]:[it.run(rt(it,ut,dt),ut)]);const rt=(it,ut,dt)=>{const ht=(ft=ut.length,pt=dt.cacheKey,{name:"Concat",inputNames:Array.from({length:ft},(mt,gt)=>`X${gt}`),inputTypes:Array(ft).fill(tt.TextureType.unpacked),cacheHint:pt});var ft,pt;return Object.assign(Object.assign({},ht),{get:()=>((mt,gt,vt,yt)=>{const bt=vt[0].dims.slice();if(yt>=bt.length||yt<-1*bt.length)throw new Error("axis specified for concat doesn't match input dimensionality");yt<0&&(yt=bt.length+yt);const xt=bt.slice(0);for(let kt=1;kt<vt.length;kt++){const St=vt[kt].dims.slice();for(let Ct=0;Ct<bt.length;Ct++)if(Ct===yt)xt[yt]+=St[Ct];else if(bt[Ct]!==St[Ct])throw new Error("non concat dimensions must match")}const _t=xt.length,wt=new Array(vt.length);let At=0;for(let kt=0;kt<wt.length;++kt)At+=vt[kt].dims[yt],wt[kt]=At;let Pt="";Pt=vt.length<5?ot(wt):st(wt);const jt=`
        ${ct(vt.length,_t)}
        ${lt(wt)}
        ${Pt}
        float process(int indices[${_t}]) {
          int textureIndex = getTextureWhereDataResides (indices[${yt}]);

          if(textureIndex != 0) {
            indices[${yt}] = indices[${yt}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},gt),{output:{dims:xt,type:vt[0].type,textureType:tt.TextureType.unpacked},shaderSource:jt})})(0,ht,ut,dt.axis)})},ot=it=>`int getTextureWhereDataResides(int index) {
      ${it.map((ut,dt)=>`if(index<${ut}) {return ${dt};}
`).join("")}
    }`,st=it=>ot(it),ct=(it,ut)=>{const dt=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${ut}]) {`];for(let ht=0;ht<it;++ht)ht===0?dt.push(`	if (textureIndex == ${ht}) { return _X${ht}(indices); }`):ht===it-1?dt.push(`	else { return _X${ht}(indices); }`):dt.push(`	else if (textureIndex == ${ht}) { return _X${ht}(indices); }`);return dt.push("	}"),dt.join(`
`)},lt=it=>{const ut=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let dt=0;dt<it.length;++dt)dt===0?ut.push(`	if (index == ${dt}) { return ${it[dt]}; }`):dt===it.length-1?ut.push(`	else { return ${it[dt]}; }`):ut.push(`	else if (index == ${dt}) { return ${it[dt]}; }`);return ut.push("	}"),ut.join(`
`)};$.parseConcatAttributes=it=>(0,et.createAttributeWithCacheKey)({axis:it.attributes.getInt("axis")});const at=it=>{if(!it||it.length<1)throw new Error("too few inputs");const ut=it[0].type,dt=it[0].dims.length;if(ut==="string")throw new Error("string tensor is not supported yet");for(const ht of it){if(ht.type!==ut)throw new Error("input tensors should be one type");if(ht.dims.length!==dt)throw new Error("input tensors should have the same shape")}}},7825:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createUnpackedGroupedConvProgramInfoLoader=void 0;const et=_e(1315),tt=_e(6757),nt=_e(5639),rt=_e(9754),ot=_e(2150);$.createUnpackedGroupedConvProgramInfoLoader=(st,ct,lt)=>{const at=(it=ct.length>2,ut=lt.cacheKey,{name:"GroupedConv",inputNames:it?["X","W","Bias"]:["X","W"],inputTypes:it?[nt.TextureType.unpacked,nt.TextureType.unpacked,nt.TextureType.unpacked]:[nt.TextureType.unpacked,nt.TextureType.unpacked],cacheHint:ut});var it,ut;return Object.assign(Object.assign({},at),{get:()=>((dt,ht,ft,pt)=>{const mt=ht.length>2?"value += getBias(output_channel);":"",gt=ht[0].dims.slice(),vt=ht[1].dims.slice(),yt=vt[0]/pt.group;et.Logger.verbose("GroupedConv",`autpPad:${pt.autoPad}, dilations:${pt.dilations}, group:${pt.group}, kernelShape:${pt.kernelShape}, pads:${pt.pads}, strides:${pt.strides}`);const bt=(0,rt.calculateOutputShape)(gt,vt,pt.dilations,pt.pads,pt.strides),xt=(0,tt.getGlsl)(dt.session.backend.glContext.version),{activationFunction:_t,applyActivation:wt}=(0,ot.getActivationSnippet)(pt),At=`
  const ivec2 strides = ivec2(${pt.strides[0]}, ${pt.strides[1]});
  const ivec2 pads = ivec2(${pt.pads[0]}, ${pt.pads[1]});
  ${_t}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${yt};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${vt[1]}; wInChannel++) {
      int input_channel = group_id * ${vt[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${vt[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${pt.dilations[0]};

        if (xHeight < 0 || xHeight >= ${gt[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${vt[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${pt.dilations[1]};
          if (xWidth < 0 || xWidth >= ${gt[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${mt}
    ${wt}
    ${xt.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},ft),{output:{dims:bt,type:ht[0].type,textureType:nt.TextureType.unpacked},shaderSource:At,hasMain:!0})})(st,ct,at,lt)})}},7708:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.conv2DPacked=$.conv2DPackedPointwise=void 0;const et=_e(9754),tt=_e(5950),nt=_e(5632);$.conv2DPackedPointwise=(rt,ot,st)=>{const ct=ot[0].dims,lt=ot[1].dims,at=(0,et.calculateOutputShape)(ct,lt,st.dilations,st.pads,st.strides),it=rt.reshapePacked(ot[0],[ct[1],ct[2]*ct[3]]),ut=rt.reshapePacked(ot[1],[lt[0],lt[1]]),dt=ot.length>2?[ut,it,ot[2]]:[ut,it],ht=rt.run((0,nt.createPackedMatmulProgramInfoLoader)(rt,dt,st),dt);return rt.reshapePacked(ht,at)},$.conv2DPacked=(rt,ot,st)=>{const ct=ot[0].dims,lt=ot[1].dims,at=(0,et.calculateOutputShape)(ct,lt,st.dilations,st.pads,st.strides),it=rt.run((0,tt.createPackedIm2ColProgramInfoLoader)(rt,ot[0],ot[1],at,st),[ot[0]]),ut=rt.reshapePacked(ot[1],[lt[0],lt[1]*lt[2]*lt[3]]),dt=ot.length===3?[ut,it,ot[2]]:[ut,it],ht=rt.run((0,nt.createPackedMatmulProgramInfoLoader)(rt,dt,st),dt);return rt.reshapePacked(ht,at)}},5042:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseConvTransposeAttributes=$.convTranspose=void 0;const et=_e(4910),tt=_e(6757),nt=_e(5639),rt=_e(2150),ot=(ut,dt,ht,ft,pt,mt)=>(ut-1)*dt+ht+(ft-1)*pt+1-mt,st=(ut,dt,ht,ft,pt)=>{const mt=Math.floor(ut/2);dt==="SAME_UPPER"?(ht[ft]=mt,ht[pt]=ut-mt):dt==="SAME_LOWER"&&(ht[ft]=ut-mt,ht[pt]=mt)};$.convTranspose=(ut,dt,ht)=>(it(dt,ht),ct(ut,dt,ht));const ct=(ut,dt,ht)=>{const ft=at(ht,dt);return[lt(ut,dt,ft)]},lt=(ut,dt,ht)=>ut.run(((ft,pt,mt)=>{const gt=(vt=pt.length>2,yt=mt.cacheKey,{name:"ConvTranspose",inputNames:vt?["X","W","B"]:["X","W"],inputTypes:vt?[nt.TextureType.unpacked,nt.TextureType.unpacked,nt.TextureType.unpacked]:[nt.TextureType.unpacked,nt.TextureType.unpacked],cacheHint:yt});var vt,yt;return Object.assign(Object.assign({},gt),{get:()=>((bt,xt,_t,wt)=>{const At=xt.length>2?"getB(output_channel)":"0.0",Pt=xt[0].dims,jt=xt[1].dims,kt=jt[1],St=jt[0]/wt.group,Ct=[xt[0].dims[0],xt[1].dims[1]*wt.group,...wt.outputShape],Et=(0,tt.getGlsl)(bt.session.backend.glContext.version),{activationFunction:Tt,applyActivation:$t}=(0,rt.getActivationSnippet)(wt),Ot=`
  const ivec2 strides = ivec2(${wt.strides[0]}, ${wt.strides[1]});
  const ivec2 pads = ivec2(${wt.pads[0]}, ${wt.pads[1]});
  ${Tt}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${kt};
    int wOutChannel = output_channel - group_id * ${kt};

    float value = ${At};
    for (int inChannelOffset = 0; inChannelOffset < ${St}; inChannelOffset++) {
      int input_channel = group_id * ${St} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${jt[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${jt[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${wt.dilations[0]}, wHOff * ${wt.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${Pt[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${Pt[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${$t}
    ${Et.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},_t),{output:{dims:Ct,type:xt[0].type,textureType:nt.TextureType.unpacked},shaderSource:Ot,hasMain:!0})})(ft,pt,gt,mt)})})(ut,dt,ht),dt),at=(ut,dt)=>{const ht=ut.kernelShape.slice();if(ut.kernelShape.length===0)for(let gt=2;gt<dt[1].dims.length;++gt)ht.push(dt[1].dims[gt]);const ft=ut.pads.slice(),pt=ut.outputShape.slice();((gt,vt,yt,bt,xt,_t,wt,At)=>{const Pt=gt.length-2,jt=At.length===0;for(let kt=0;kt<Pt;++kt){const St=jt?gt[kt+2]*_t[kt]:At[kt],Ct=ot(gt[kt+2],_t[kt],xt[kt],vt[kt],yt[kt],St);st(Ct,bt,xt,kt,kt+Pt),jt&&At.push(_t[kt]*(gt[kt+2]-1)+wt[kt]+(vt[kt]-1)*yt[kt]+1-xt[kt]-xt[kt+Pt])}})(dt[0].dims,ht,ut.dilations,ut.autoPad,ft,ut.strides,ut.outputPadding,pt);const mt=Object.assign({},ut);return Object.assign(mt,{kernelShape:ht,pads:ft,outputShape:pt,cacheKey:ut.cacheKey}),mt};$.parseConvTransposeAttributes=ut=>{const dt=ut.attributes,ht=(0,rt.parseInternalActivationAttributes)(dt),ft=dt.getString("auto_pad","NOTSET"),pt=dt.getInts("dilations",[1,1]),mt=dt.getInt("group",1),gt=dt.getInts("kernel_shape",[]),vt=dt.getInts("output_padding",[0,0]),yt=dt.getInts("output_shape",[]),bt=dt.getInts("pads",[0,0,0,0]),xt=dt.getInts("strides",[1,1]);return(0,et.createAttributeWithCacheKey)(Object.assign({autoPad:ft,dilations:pt,group:mt,kernelShape:gt,outputPadding:vt,outputShape:yt,pads:bt,strides:xt},ht))};const it=(ut,dt)=>{if(!ut||ut.length!==2&&ut.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(ut[0].dims.length!==4||ut[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(ut[0].dims[1]!==ut[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const ht=ut[1].dims[1]*dt.group;if(ut.length===3&&(ut[2].dims.length!==1||ut[2].dims[0]!==ht))throw new Error("invalid bias");const ft=ut[0].dims.length-2;if(dt.dilations.length!==ft)throw new Error(`dilations should be ${ft}D`);if(dt.strides.length!==ft)throw new Error(`strides should be ${ft}D`);if(dt.pads.length!==2*ft)throw new Error(`pads should be ${2*ft}D`);if(dt.outputPadding.length!==ft)throw new Error(`output_padding should be ${ft}D`);if(dt.kernelShape.length!==0&&dt.kernelShape.length!==ut[1].dims.length-2)throw new Error("invalid kernel shape");if(dt.outputShape.length!==0&&dt.outputShape.length!==ut[0].dims.length-2)throw new Error("invalid output shape");if(ut[0].type!=="float32"||ut[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(ut.length===3&&ut[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},9754:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseConvAttributes=$.conv=$.calculateOutputShape=void 0;const et=_e(4910),tt=_e(7273),nt=_e(7825),rt=_e(7708),ot=_e(3281),st=_e(2150),ct=_e(1625),lt=_e(8276);$.calculateOutputShape=(ft,pt,mt,gt,vt)=>{const yt=ft[0],bt=ft.slice(2),xt=bt.length,_t=pt[0],wt=pt.slice(2).map((Pt,jt)=>Pt+(Pt-1)*(mt[jt]-1)),At=bt.map((Pt,jt)=>Pt+gt[jt]+gt[jt+xt]).map((Pt,jt)=>Math.floor((Pt-wt[jt]+vt[jt])/vt[jt]));return[yt,_t].concat(...At)},$.conv=(ft,pt,mt)=>(ht(pt,mt),at(ft,pt,mt));const at=(ft,pt,mt)=>{const gt=dt(mt,pt),vt=ft.session.pack,yt=gt.kernelShape[0]===1&&gt.kernelShape[1]===1;return gt.group>1?[ft.run((0,nt.createUnpackedGroupedConvProgramInfoLoader)(ft,pt,gt),pt)]:yt&&vt?[it(ft,pt,gt)]:vt&&pt[0].dims.length===4&&pt[0].dims[0]===1&&!yt?[(0,rt.conv2DPacked)(ft,pt,gt)]:[ut(ft,pt,gt)]},it=(ft,pt,mt)=>{const gt=pt[0].dims,vt=pt[1].dims,yt=(0,$.calculateOutputShape)(gt,vt,mt.dilations,mt.pads,mt.strides),bt=ft.reshapeUnpacked(pt[0],[gt[1],gt[2]*gt[3]]),xt=ft.reshapeUnpacked(pt[1],[vt[0],vt[1]]),_t=pt.length>2?[xt,bt,pt[2]]:[xt,bt],wt=ft.run((0,lt.createMatmulProgramInfoLoader)(_t,mt),_t);return ft.reshapeUnpacked(wt,yt)},ut=(ft,pt,mt)=>{const gt=pt[0].dims,vt=pt[1].dims,yt=(0,$.calculateOutputShape)(gt,vt,mt.dilations,mt.pads,mt.strides),bt=ft.run((0,ct.createIm2ColProgramInfoLoader)(ft,pt[0],pt[1],yt,mt),[pt[0]]),xt=pt.length===3?[bt,pt[1],pt[2]]:[bt,pt[1]];return ft.run((0,ot.createDotProductProgramInfoLoader)(ft,pt,yt,mt),xt)},dt=(ft,pt)=>{const mt=ft.kernelShape.slice();if(ft.kernelShape.length===0)for(let yt=2;yt<pt[1].dims.length;++yt)mt.push(pt[1].dims[yt]);const gt=ft.pads.slice();tt.PoolConvUtil.adjustPadsBasedOnAutoPad(pt[0].dims,ft.strides,ft.dilations,mt,gt,ft.autoPad);const vt=Object.assign({},ft);return Object.assign(vt,{kernelShape:mt,pads:gt,cacheKey:ft.cacheKey}),vt};$.parseConvAttributes=ft=>{const pt=ft.attributes,mt=(0,st.parseInternalActivationAttributes)(pt),gt=pt.getString("auto_pad","NOTSET"),vt=pt.getInts("dilations",[1,1]),yt=pt.getInt("group",1),bt=pt.getInts("kernel_shape",[]),xt=pt.getInts("pads",[0,0,0,0]),_t=pt.getInts("strides",[1,1]);return(0,et.createAttributeWithCacheKey)(Object.assign({autoPad:gt,dilations:vt,group:yt,kernelShape:bt,pads:xt,strides:_t},mt))};const ht=(ft,pt)=>{if(!ft||ft.length!==2&&ft.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(ft[0].dims.length!==4||ft[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(ft[0].dims[1]!==ft[1].dims[1]*pt.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(ft.length===3&&(ft[2].dims.length!==1||ft[1].dims[0]!==ft[2].dims[0]))throw new Error("invalid bias");const mt=ft[0].dims.length-2;if(pt.dilations.length!==mt)throw new Error(`dilations should be ${mt}D`);if(pt.strides.length!==mt)throw new Error(`strides should be ${mt}D`);if(pt.pads.length!==2*mt)throw new Error(`pads should be ${2*mt}D`);if(pt.kernelShape.length!==0&&pt.kernelShape.length!==ft[1].dims.length-2)throw new Error("invalid kernel shape");if(ft[0].type!=="float32"||ft[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(ft.length===3&&ft[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},6742:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseDepthToSpaceAttributes=$.depthToSpace=void 0;const et=_e(5707);$.depthToSpace=(nt,rt,ot)=>{tt(rt);const st=ot.blocksize,ct=st*st,lt=ot.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],at=ot.mode==="DCR"?[rt[0].dims[0],st,st,rt[0].dims[1]/ct,rt[0].dims[2],rt[0].dims[3]]:[rt[0].dims[0],rt[0].dims[1]/ct,st,st,rt[0].dims[2],rt[0].dims[3]],it=nt.reshapeUnpacked(rt[0],at),ut={perm:lt,cacheKey:`${lt}`},[dt]=(0,et.transpose)(nt,[it],ut),ht=[rt[0].dims[0],rt[0].dims[1]/ct,rt[0].dims[2]*st,rt[0].dims[3]*st];return[nt.reshapeUnpacked(dt,ht)]},$.parseDepthToSpaceAttributes=nt=>{const rt=nt.attributes.getInt("blocksize");if(rt<1)throw new Error(`blocksize must be >= 1, but got : ${rt} for DepthToSpace`);const ot=nt.attributes.getString("mode","DCR");if(ot!=="DCR"&&ot!=="CRD")throw new Error(`unrecognized mode: ${ot} for DepthToSpace`);return{mode:ot,blocksize:rt}};const tt=nt=>{if(nt.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${nt.length}`);if(nt[0].type==="string"||nt[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},3281:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createDotProductProgramInfoLoader=void 0;const et=_e(7273),tt=_e(6757),nt=_e(5639),rt=_e(2150),ot=_e(1625);$.createDotProductProgramInfoLoader=(st,ct,lt,at)=>{const it=((ut,dt)=>({name:"ConvDotProduct",inputNames:ut?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:ut?[nt.TextureType.unpacked,nt.TextureType.packedLastDimension,nt.TextureType.unpacked]:[nt.TextureType.unpacked,nt.TextureType.packedLastDimension],cacheKey:dt.activationCacheKey}))(ct.length>2,at);return Object.assign(Object.assign({},it),{get:()=>((ut,dt,ht,ft,pt)=>{const mt=ht[0].dims,gt=ht[1].dims,vt=[gt[0],Math.ceil(mt[1]*gt[2]*gt[3]/4)],yt=(0,ot.calculateIm2ColDims)(mt,gt,ft),[bt,xt]=ut.calculateTextureWidthAndHeight(vt,nt.TextureType.packedLastDimension),_t=et.ShapeUtil.computeStrides(yt),[wt,At]=ut.calculateTextureWidthAndHeight(yt,nt.TextureType.packedLastDimension),Pt=ft.length,jt=ht.length<3?"0.0":"_B(b)",kt=Math.ceil(mt[1]*gt[2]*gt[3]/4),{activationFunction:St,applyActivation:Ct}=(0,rt.getActivationSnippet)(pt),Et=(0,tt.getGlsl)(ut.session.backend.glContext.version),Tt=`
${St}
float process(int indices[${Pt}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${_t[0]} + im2col[1] * ${_t[1]} + im2col[2] * ${_t[2]};
  int kernelOffset = indices[1] * ${vt[1]};
  float value = ${jt};
  for (int i = 0; i < ${kt}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${wt}, ${At});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${bt}, ${xt});
    value += dot(${Et.texture2D}(Im2Col, im2colCoords), ${Et.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${Ct}
  return value;
}`;return Object.assign(Object.assign({},dt),{output:{dims:ft,type:ht[0].type,textureType:nt.TextureType.unpacked},shaderSource:Tt})})(st,it,ct,lt,at)})}},4125:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseFlattenAttributes=$.flatten=void 0;const et=_e(7273);$.flatten=(nt,rt,ot)=>{tt(rt,ot);const st=et.ShapeUtil.flattenShape(rt[0].dims,ot);return[nt.reshapeUnpacked(rt[0],st)]},$.parseFlattenAttributes=nt=>nt.attributes.getInt("axis",1);const tt=(nt,rt)=>{if(!nt||nt.length!==1)throw new Error("Flatten requires 1 input.");const ot=nt[0].dims.length;if(ot===0)throw new Error("scalar tensor is not supported.");if(rt<-ot||rt>ot)throw new Error("Invalid axis");if(nt[0].type==="string")throw new Error("string tensor is not supported.")}},2150:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseInternalActivationAttributes=$.getActivationSnippet=void 0;const et=_e(7273),tt=_e(9087);$.getActivationSnippet=function(nt){let rt;switch(nt.activation){case"Relu":rt=(0,tt.glslRelu)();break;case"Sigmoid":rt=(0,tt.glslSigmoid)();break;case"Clip":rt=(0,tt.glslClip)(nt.clipMin,nt.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const ot=rt.name;return{activationFunction:rt.body,applyActivation:`value = ${ot}_(value);`}},$.parseInternalActivationAttributes=nt=>{const rt=nt.getString("activation","");if(rt==="Clip"){const[ot,st]=nt.getFloats("activation_params",[et.MIN_CLIP,et.MAX_CLIP]);return{activation:rt,clipMax:st,clipMin:ot,activationCacheKey:`${rt}:${ot},${st}`}}return{activation:rt,activationCacheKey:rt}}},6149:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseGatherAttributes=$.gather=void 0;const et=_e(4910),tt=_e(6145),nt=_e(7273),rt=_e(5639);$.gather=(lt,at,it)=>(ct(at,it.axis),[lt.run(st(lt,at,it),at)]),$.parseGatherAttributes=lt=>(0,et.createAttributeWithCacheKey)({axis:lt.attributes.getInt("axis",0)});const ot={name:"Gather",inputNames:["A","B"],inputTypes:[rt.TextureType.unpacked,rt.TextureType.unpacked]},st=(lt,at,it)=>{const ut=Object.assign(Object.assign({},ot),{cacheHint:it.cacheKey});return Object.assign(Object.assign({},ut),{get:()=>((dt,ht,ft,pt)=>{const mt=ft[0].dims.slice(),gt=ft[1].dims.slice(),vt=new Array(mt.length+gt.length-1);pt=nt.ShapeUtil.normalizeAxis(pt,mt.length);const yt=[];for(let xt=0;xt<vt.length;xt++)xt<pt?(vt[xt]=mt[xt],yt.push(`inputIdx[${xt}] = outputIdx[${xt}];`)):xt<pt+gt.length?(vt[xt]=gt[xt-pt],yt.push(`indexDataIdx[${xt-pt}] = outputIdx[${xt}];`)):(vt[xt]=mt[xt-gt.length+1],yt.push(`inputIdx[${xt-gt.length+1}] = outputIdx[${xt}];`));const bt=`
      float process(int outputIdx[${vt.length||1}]) {
        int inputIdx[${mt.length}];
        int indexDataIdx[${gt.length||1}];
        indexDataIdx[0] = 0;
        ${yt.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${pt}] = idx < 0 ? idx + ${mt[pt]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},ht),{output:{dims:vt,type:ft[0].type,textureType:rt.TextureType.unpacked},shaderSource:bt})})(0,ut,at,it.axis)})},ct=(lt,at)=>{if(!lt||lt.length!==2)throw new Error("Gather requires 2 inputs.");const it=lt[0].dims.length;if(it<1)throw new Error("Invalid input shape.");if(at<-it||at>it-1)throw new Error("Invalid axis.");if(tt.NUMBER_TYPES.indexOf(lt[0].type)===-1)throw new Error("Invaid input type.");if(lt[1].type!=="int32"&&lt[1].type!=="int16")throw new Error("Invaid input type.")}},5378:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseGemmAttributesV11=$.parseGemmAttributesV7=$.gemm=void 0;const et=_e(4910),tt=_e(7273),nt=_e(5639);$.gemm=(lt,at,it)=>(ct(at,it),[lt.run(ot(at,it),at)]);const rt=(lt,at)=>{const it=lt.attributes.getInt("transA",0)!==0,ut=lt.attributes.getInt("transB",0)!==0,dt=lt.attributes.getFloat("alpha",1),ht=lt.attributes.getFloat("beta",1);return(0,et.createAttributeWithCacheKey)({transA:it,transB:ut,alpha:dt,beta:ht,isOptionalC:at})};$.parseGemmAttributesV7=lt=>rt(lt,!1),$.parseGemmAttributesV11=lt=>rt(lt,!0);const ot=(lt,at)=>{const it={name:"Gemm",inputNames:lt.length===3?["A","B","C"]:["A","B"],inputTypes:lt.length===3?[nt.TextureType.unpacked,nt.TextureType.unpacked,nt.TextureType.unpacked]:[nt.TextureType.unpacked,nt.TextureType.unpacked],key:at.cacheKey};return Object.assign(Object.assign({},it),{get:()=>st(it,lt,at)})},st=(lt,at,it)=>{const ut=at[0].dims.slice(),dt=at[1].dims.slice(),[ht,ft]=tt.GemmUtil.getShapeOfGemmResult(ut,it.transA,dt,it.transB,at.length===3?at[2].dims:void 0),pt=[ht,ft];if(!pt)throw new Error("Can't use gemm on the given tensors");let mt=ut[ut.length-1],gt="";it.transA&&(mt=ut[0]),it.transA&&it.transB?gt="value += _A_T(a) * _B_T(b);":it.transA&&!it.transB?gt="value += _A_T(a) * _B(b);":!it.transA&&it.transB?gt="value += _A(a) * _B_T(b);":it.transA||it.transB||(gt="value += _A(a) * _B(b);");const vt=pt.length,yt=`
      float process(int indices[${vt}]) {
          int a[${vt}];
          int b[${vt}];
          ${at.length===3?`int c[${at[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${at.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${mt}; ++k) {
              a[${vt-1}] = k;
              b[${vt-2}] = k;
              ${gt}
          }

          value = value * alpha;
          ${at.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},lt),{output:{dims:pt,type:at[0].type,textureType:nt.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:it.alpha},{name:"beta",type:"float",data:it.beta}],shaderSource:yt})},ct=(lt,at)=>{if(!lt)throw new Error("Input is missing");if(at.isOptionalC&&(lt.length<2||lt.length>3))throw new Error("Invaid input shape.");if(!at.isOptionalC&&lt.length!==3)throw new Error("Gemm requires 3 inputs");if(lt.length===3&&lt[2].dims.length!==1&&lt[2].dims.length!==2)throw new Error("Invalid input shape of C");if(lt[0].type!=="float32"&&lt[0].type!=="float64"||lt[1].type!=="float32"&&lt[1].type!=="float64"||lt.length===3&&lt[2].type!=="float32"&&lt[2].type!=="float64")throw new Error("Invalid input type.");if(lt[0].type!==lt[1].type||lt.length===3&&lt[0].type!==lt[2].type)throw new Error("Input types are mismatched")}},5950:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createPackedIm2ColProgramInfoLoader=void 0;const et=_e(6757),tt=_e(5639),nt=_e(5614);$.createPackedIm2ColProgramInfoLoader=(rt,ot,st,ct,lt)=>{const at=(it=lt.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[tt.TextureType.packed],cacheHint:it});var it;return Object.assign(Object.assign({},at),{get:()=>((ut,dt,ht,ft,pt,mt)=>{const gt=ht.dims,vt=ft.dims,yt=pt.length,bt=[vt[1]*vt[2]*vt[3],pt[2]*pt[3]],xt=vt[2]*vt[3],_t=(0,nt.unpackFromChannel)(),wt=(0,et.getGlsl)(ut.session.backend.glContext.version);let At="";for(let jt=0;jt<=1;jt++)for(let kt=0;kt<=1;kt++)At+=`
            blockIndex = rc.x + ${kt};
            pos = rc.y + ${jt};

            if(blockIndex < ${bt[1]} && pos < ${bt[0]}) {
              offsetY = int(blockIndex / (${pt[yt-1]})) * ${mt.strides[0]} -
                ${mt.pads[0]};
              d0 = offsetY + ${mt.dilations[0]} * (imod(pos, ${xt}) / ${vt[2]});

              if(d0 < ${gt[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${pt[yt-1]}) * ${mt.strides[1]} -
                  ${mt.pads[1]};
                d1 = offsetX + ${mt.dilations[1]} * imod(imod(pos, ${xt}), ${vt[2]});

                if(d1 < ${gt[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${xt}.);
                    innerDims = vec2(d0, d1);
                    result[${2*jt+kt}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const Pt=`
      ${_t}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${At}
          ${wt.output} = result;
      }
            `;return Object.assign(Object.assign({},dt),{output:{dims:bt,type:ht.type,textureType:tt.TextureType.packed},shaderSource:Pt,hasMain:!0})})(rt,at,ot,st,ct,lt)})}},1625:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.calculateIm2ColDims=$.createIm2ColProgramInfoLoader=void 0;const et=_e(5639);$.createIm2ColProgramInfoLoader=(tt,nt,rt,ot,st)=>{const ct=(lt=st.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[et.TextureType.unpacked],cacheHint:lt});var lt;return Object.assign(Object.assign({},ct),{get:()=>((at,it,ut,dt,ht,ft)=>{const pt=ut.dims,mt=dt.dims,gt=ht.length,vt=(0,$.calculateIm2ColDims)(pt,mt,ht,4),yt=`
        const int XC = ${pt[1]};
        const int XH = ${pt[2]};
        const int XW = ${pt[3]};
        const int KH = ${ft.kernelShape[0]};
        const int KW = ${ft.kernelShape[1]};
        const int dilationH = ${ft.dilations[0]};
        const int dilationW = ${ft.dilations[1]};
        const int strideH = ${ft.strides[0]};
        const int strideW = ${ft.strides[1]};
        const int padH = ${ft.pads[0]};
        const int padW = ${ft.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${gt}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${pt.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},it),{output:{dims:vt,type:ut.type,textureType:et.TextureType.packedLastDimension},shaderSource:yt})})(0,ct,nt,rt,ot,st)})},$.calculateIm2ColDims=(tt,nt,rt,ot=4)=>[rt[0],rt[2],rt[3],Math.ceil(tt[1]*nt[2]*nt[3]/ot)]},6981:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseImageScalerAttributes=$.imageScaler=void 0;const et=_e(4910),tt=_e(5639);$.imageScaler=(ct,lt,at)=>(st(lt),[ct.run(rt(ct,lt,at),lt)]),$.parseImageScalerAttributes=ct=>{const lt=ct.attributes.getFloat("scale"),at=ct.attributes.getFloats("bias");return(0,et.createAttributeWithCacheKey)({scale:lt,bias:at})};const nt={name:"ImageScaler",inputNames:["X"],inputTypes:[tt.TextureType.unpacked]},rt=(ct,lt,at)=>{const it=Object.assign(Object.assign({},nt),{cacheHint:at.cacheKey});return Object.assign(Object.assign({},it),{get:()=>((ut,dt,ht,ft)=>{const pt=ht[0].dims.slice(),mt=pt.length,gt=`
      ${ot(ft.bias.length)}
      float process(int indices[${mt}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},dt),{output:{dims:pt,type:ht[0].type,textureType:tt.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:ft.bias.length,data:ft.bias},{name:"scale",type:"float",data:ft.scale}],shaderSource:gt})})(0,it,lt,at)})},ot=ct=>{const lt=[`float getBias(float bias[${ct}], int channel) {`];for(let at=0;at<ct;++at)at===0?lt.push(`	if (channel == ${at}) { return bias[${at}]; }`):at===ct-1?lt.push(`	else { return bias[${at}]; }`):lt.push(`	else if (channel == ${at}) { return bias[${at}]; }`);return lt.push("	}"),lt.join(`
`)},st=ct=>{if(!ct||ct.length!==1)throw new Error("ImageScaler requires 1 input.");if(ct[0].dims.length!==4)throw new Error("Invalid input shape.");if(ct[0].type!=="float32"&&ct[0].type!=="float64")throw new Error("Invalid input type.")}},7413:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseInstanceNormalizationAttributes=$.instanceNormalization=void 0;const et=_e(6757),tt=_e(5639);$.instanceNormalization=(lt,at,it)=>{ct(at);const ut=lt.run(rt(at[0]),at);return[lt.run(st(lt,at[0],it,ut.dims),[at[0],ut,at[1],at[2]])]},$.parseInstanceNormalizationAttributes=lt=>lt.attributes.getFloat("epsilon",1e-5);const nt={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[tt.TextureType.unpacked]},rt=lt=>Object.assign(Object.assign({},nt),{get:()=>((at,it)=>{const ut=it.dims.slice(),dt=ut[1],ht=ut[2]*ut[3],ft=[ut[0],dt],pt=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${ut[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${ut[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${ht});
        temp = 0.0;
        for(int a2=0; a2<${ut[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${ut[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${ht});

        return v;
      }`;return Object.assign(Object.assign({},at),{output:{dims:ft,type:it.type,textureType:tt.TextureType.packedLastDimension},shaderSource:pt})})(nt,lt)}),ot={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[tt.TextureType.unpacked,tt.TextureType.packedLastDimension,tt.TextureType.unpacked,tt.TextureType.unpacked]},st=(lt,at,it,ut)=>{const dt=Object.assign(Object.assign({},ot),{cacheHint:`${it}`});return Object.assign(Object.assign({},dt),{get:()=>((ht,ft,pt,mt,gt)=>{const vt=(0,et.getGlsl)(ht.session.backend.glContext.version),[yt,bt]=ht.calculateTextureWidthAndHeight(gt,tt.TextureType.packedLastDimension),[xt,_t]=[yt/4,bt],wt=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${xt}, ${_t});
        return ${vt.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},ft),{output:{dims:pt.dims,type:pt.type,textureType:tt.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:mt}],shaderSource:wt})})(lt,dt,at,it,ut)})},ct=lt=>{if(!lt||lt.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const at=lt[0],it=lt[1],ut=lt[2];if(at.dims.length<3||it.dims.length!==1||ut.dims.length!==1)throw new Error("Invalid input shape.");if(it.dims[0]!==at.dims[1]||ut.dims[0]!==at.dims[1])throw new Error("Input shapes are mismatched.");if(at.type!=="float32"&&at.type!=="float64"||it.type!=="float32"&&it.type!=="float64"||ut.type!=="float32"&&ut.type!=="float64")throw new Error("Invalid input type.");if(lt[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},7006:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createLrnProgramInfoLoader=$.parseLrnAttributes=$.lrn=void 0;const et=_e(4910),tt=_e(5639);$.lrn=(st,ct,lt)=>(ot(ct),[st.run(rt(ct,lt),ct)]),$.parseLrnAttributes=st=>{const ct=st.attributes.getFloat("alpha",1e-4),lt=st.attributes.getFloat("beta",.75),at=st.attributes.getFloat("bias",1),it=st.attributes.getInt("size");return(0,et.createAttributeWithCacheKey)({alpha:ct,beta:lt,bias:at,size:it})};const nt={name:"LRN",inputNames:["X"],inputTypes:[tt.TextureType.unpacked]};function rt(st,ct){return Object.assign(Object.assign({},nt),{cacheHint:ct.cacheKey,get:()=>function(lt,at){const it=lt[0].dims[1],ut=lt[0].dims.length,dt=-Math.floor((at.size-1)/2),ht=Math.ceil((at.size-1)/2),ft=`float(${at.alpha}) / float(${at.size})`,pt=`
    float process(int indices[${ut}]) {
        int c = indices[1];
        float x = _X(indices);
        float square_sum = 0.0;

        for (int i = ${dt}; i <= ${ht}; i++) {
          int idx = c + i;
          if (c >= 0 && c < ${it}) {
            indices[1] = idx;
            float j = _X(indices);
            square_sum += j * j;
          }
        }
        return x / pow(float(${at.bias}) + ${ft} * square_sum, float(${at.beta}));
    }`;return Object.assign(Object.assign({},nt),{cacheHint:at.cacheKey,output:{dims:lt[0].dims,type:lt[0].type,textureType:tt.TextureType.unpacked},shaderSource:pt})}(st,ct)})}$.createLrnProgramInfoLoader=rt;const ot=st=>{if(!st||st.length!==1)throw new Error("LRN requires 1 input.");if(st[0].dims.length!==4)throw new Error('currently only support LRN for input with "NCHW" format');if(st[0].type!=="float32")throw new Error("input should be float type")}},5632:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createPackedMatmulProgramInfoLoader=void 0;const et=_e(7273),tt=_e(6757),nt=_e(5639),rt=_e(432),ot=_e(2150),st=_e(8276);$.createPackedMatmulProgramInfoLoader=(ct,lt,at)=>{const it=(ut=lt.length>2,dt=at.activationCacheKey,{name:"MatMul (packed)",inputNames:ut?["A","B","Bias"]:["A","B"],inputTypes:ut?[nt.TextureType.packed,nt.TextureType.packed,nt.TextureType.packed]:[nt.TextureType.packed,nt.TextureType.packed],cacheHint:dt});var ut,dt;return Object.assign(Object.assign({},it),{get:()=>((ht,ft,pt,mt)=>{const gt=pt.length>2,vt=gt?"value += getBiasForMatmul();":"",yt=pt[0].dims,bt=pt[1].dims,xt=et.BroadcastUtil.calcShape(yt,bt,!0),_t=!et.ShapeUtil.areEqual(pt[0].dims,pt[1].dims);if(!xt)throw new Error("Can't use matmul on the given tensors");const wt=yt[yt.length-1],At=Math.ceil(wt/2),Pt=yt.length,jt=bt.length,kt=(0,tt.getGlsl)(ht.session.backend.glContext.version),St=(0,rt.getCoordsDataType)(xt.length),Ct=xt.length,Et=(0,rt.getGlChannels)(),{activationFunction:Tt,applyActivation:$t}=(0,ot.getActivationSnippet)(mt),Ot=gt?`${(0,st.getBiasForMatmul)(St,Et,pt[2].dims,xt,!0)}`:"",Rt=_t?`${function(zt,an,Jt,Zt){let Qt=[],qt=[];const vn=Jt[0].dims,Yt=Jt[1].dims,rn=vn.length,pn=Yt.length,$n=Zt.length,on=$n-rn,Tn=$n-pn;Qt=vn.map((bn,Sn)=>`coords.${an[Sn+on]}`),Qt[rn-1]="i*2",Qt.join(", "),qt=Yt.map((bn,Sn)=>`coords.${an[Sn+Tn]}`),qt[pn-2]="i*2",qt.join(", ");const kn=et.BroadcastUtil.getBroadcastDims(vn,Zt),Bn=et.BroadcastUtil.getBroadcastDims(Yt,Zt),On=kn.map(bn=>`coords.${an[bn+on]} = 0;`).join(`
`),dn=Bn.map(bn=>`coords.${an[bn+Tn]} = 0;`).join(`
`),wn=`int lastDim = coords.${an[$n-1]};
  coords.${an[$n-1]} = coords.${an[$n-2]};
  coords.${an[$n-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${zt} coords = getOutputCoords();
  ${wn}
  ${On}
  vec4 outputValue = getA(${Qt});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${zt} coords = getOutputCoords();
  ${wn}
  ${dn}
  vec4 outputValue = getB(${qt});
  return outputValue;
}`}(St,Et,pt,xt)}`:"",Nt=_t?"getAAtOutCoordsMatmul(i)":`getA(${function(zt,an){let Jt="";for(let Zt=0;Zt<an-2;Zt++)Jt+=`rc.${zt[Zt]}, `;return Jt+=`rc.${zt[an-2]}, i*2`,Jt}(Et,Pt)})`,Ft=_t?"getBAtOutCoordsMatmul(i)":`getB(${function(zt,an){let Jt="";for(let Zt=0;Zt<an-2;Zt++)Jt+=`rc.${zt[Zt]}, `;return Jt+=`i*2, rc.${zt[an-1]}`,Jt}(Et,jt)})`,Ht=`
            ${Rt}
            ${Ot}
            ${Tt}
            void main() {
              ${_t?"":`${St} rc =
          getOutputCoords(); int lastDim = rc.${Et[Ct-1]}; rc.${Et[Ct-1]} =
          rc.${Et[Ct-2]}; rc.${Et[Ct-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${At}; i++) {
                vec4 a = ${Nt};
                vec4 b = ${Ft};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${vt}
              ${$t}
              ${kt.output} = value;
            }`;return Object.assign(Object.assign({},ft),{output:{dims:xt,type:pt[0].type,textureType:nt.TextureType.packed},shaderSource:Ht,hasMain:!0})})(ct,it,lt,at)})}},8276:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getBiasForMatmul=$.createMatmulProgramInfoLoader=$.parseMatMulAttributes=$.matMul=void 0;const et=_e(7273),tt=_e(5639),nt=_e(432),rt=_e(2150),ot=_e(5632);$.matMul=(it,ut,dt)=>(lt(ut),it.session.pack?[it.run((0,ot.createPackedMatmulProgramInfoLoader)(it,ut,dt),ut)]:[it.run(ct(ut,dt),ut)]),$.parseMatMulAttributes=it=>(0,rt.parseInternalActivationAttributes)(it.attributes);const st=(it,ut)=>({name:"MatMul",inputNames:it?["A","B","Bias"]:["A","B"],inputTypes:it?[tt.TextureType.unpacked,tt.TextureType.unpacked,tt.TextureType.unpacked]:[tt.TextureType.unpacked,tt.TextureType.unpacked],cacheHint:ut});function ct(it,ut){const dt=st(it.length>2,ut.activationCacheKey);return Object.assign(Object.assign({},dt),{get:()=>function(ht,ft,pt){const mt=ft[0].dims,gt=ft[1].dims,vt=et.BroadcastUtil.calcShape(mt,gt,!0);if(!vt)throw new Error("Can't use matmul on the given tensors");const yt=(0,nt.getCoordsDataType)(vt.length),bt=(0,nt.getGlChannels)(),{activationFunction:xt,applyActivation:_t}=(0,rt.getActivationSnippet)(pt),wt=ft.length>2,At=wt?"value += getBiasForMatmul();":"",Pt=wt?`${at(yt,bt,ft[2].dims,vt,!1)}`:"",jt=vt.length,kt=mt.length,St=gt.length,Ct=`
    ${xt}
    ${Pt}
    float process(int indices[${jt}]) {
        int a[${kt}];
        int b[${St}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${mt[mt.length-1]}; ++k) {
            a[${kt-1}] = k;
            b[${St-2}] = k;
            value += _A(a) * _B(b);
        }
        ${At}
        ${_t}
        return value;
    }`;return Object.assign(Object.assign({},ht),{output:{dims:vt,type:ft[0].type,textureType:tt.TextureType.unpacked},shaderSource:Ct})}(dt,it,ut)})}$.createMatmulProgramInfoLoader=ct;const lt=it=>{if(!it||it.length!==2)throw new Error("MatMul requires 2 inputs.");if(it[0].dims[it[0].dims.length-1]!==it[1].dims[it[1].dims.length-2])throw new Error("shared dimension does not match.");if(it[0].type!=="float32"&&it[0].type!=="float64"||it[1].type!=="float32"&&it[1].type!=="float64")throw new Error("inputs should be float type");if(it[0].type!==it[1].type)throw new Error("inputs types should match")};function at(it,ut,dt,ht,ft){let pt="";const mt=dt.length,gt=ht.length,vt=gt-mt;pt=gt<2&&mt>0?"coords":dt.map((xt,_t)=>`coords.${ut[_t+vt]}`).join(", ");const yt=et.BroadcastUtil.getBroadcastDims(dt,ht).map(xt=>`coords.${ut[xt+vt]} = 0;`).join(`
`);let bt="vec4(outputValue.xx, outputValue.yy)";return et.ShapeUtil.size(dt)===1&&(bt="vec4(outputValue.x)"),ft?`
vec4 getBiasForMatmul() {
  ${it} coords = getOutputCoords();
  ${yt}
  vec4 outputValue = getBias(${pt});
  return ${bt};
}`:`
float getBiasForMatmul() {
  ${it} coords = getOutputCoords();
  ${yt}
  return getBias(coords.x);
}`}$.getBiasForMatmul=at},9:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createPackProgramInfoLoader=void 0;const et=_e(6757),tt=_e(5639),nt=_e(432),rt=_e(5614),ot={name:"pack",inputNames:["A"],inputTypes:[tt.TextureType.unpackedReversed]};$.createPackProgramInfoLoader=(st,ct)=>Object.assign(Object.assign({},ot),{get:()=>((lt,at)=>{const it=(0,et.getGlsl)(lt.session.backend.glContext.version),ut=at.dims,dt=ut.length,ht=at.dims.length,ft=(0,nt.getCoordsDataType)(ht),pt=(0,rt.getChannels)("rc",ht),mt=(gt=ht,vt=pt,yt=ut[ut.length-2],bt=ut[ut.length-1],gt===0||gt===1?"":`
    int r = ${vt[gt-2]};
    int c = ${vt[gt-1]};
    int rp1 = ${vt[gt-2]} + 1;
    int cp1 = ${vt[gt-1]} + 1;
    bool rEdge = rp1 >= ${bt};
    bool cEdge = cp1 >= ${yt};
    `);var gt,vt,yt,bt;let xt;xt=dt===0?[1,1]:dt===1?[ut[0],1]:[ut[ht-1],ut[ht-2]];const _t=function(Pt,jt,kt){if(Pt===0)return"false";if(Pt===1)return`rc > ${jt[0]}`;let St="";for(let Ct=Pt-2;Ct<Pt;Ct++)St+=`${kt[Ct]} >= ${jt[Ct-Pt+2]}`,Ct<Pt-1&&(St+="||");return St}(ht,xt,pt),wt=function(Pt,jt){const kt=Pt.length;if(kt===0)return"getA(), 0, 0, 0";if(kt===1)return`getA(rc),
            rc + 1 >= ${Pt[0]} ? 0. : getA(rc + 1),
            0, 0`;let St="";if(kt>2)for(let Ct=0;Ct<kt-2;++Ct)St+=`${jt[Ct]},`;return`getA(${St}r, c),
          rEdge ? 0. : getA(${St}rp1, c),
          cEdge ? 0. : getA(${St}r, cp1),
          rEdge || cEdge ? 0. : getA(${St}rp1, cp1)`}(ut,pt),At=`
        void main() {
          ${ft} rc = getOutputCoords();

          if(${_t}) {
            ${it.output} = vec4(0);
          } else {
            ${mt}

            ${it.output} = vec4(${wt});
          }
        }
      `;return Object.assign(Object.assign({},ot),{hasMain:!0,output:{dims:at.dims,type:at.type,textureType:tt.TextureType.packed},shaderSource:At})})(st,ct)})},5614:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.unpackFromChannel=$.getChannels=$.getVecChannels=void 0;const et=_e(432);function tt(nt,rt){return(0,et.getGlChannels)(rt).map(ot=>`${nt}.${ot}`)}$.getVecChannels=tt,$.getChannels=function(nt,rt){return rt===1?[nt]:tt(nt,rt)},$.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},5565:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parsePadAttributesV11=$.padV11=$.parsePadAttributesV2=$.padV2=void 0;const et=_e(4910),tt=_e(7273),nt=_e(6757),rt=_e(5639),ot={name:"Pad",inputNames:["A"],inputTypes:[rt.TextureType.unpacked]};$.padV2=(ft,pt,mt)=>(lt(pt),[ft.run(Object.assign(Object.assign({},ot),{cacheHint:mt.cacheKey,get:()=>ct(ft,pt[0],mt)}),pt)]),$.parsePadAttributesV2=ft=>{const pt=ft.attributes.getString("mode","constant"),mt=ft.attributes.getFloat("value",0),gt=ft.attributes.getInts("pads");return(0,et.createAttributeWithCacheKey)({mode:pt,value:mt,pads:gt})},$.padV11=(ft,pt,mt)=>{at(pt);const gt=st(ft,pt,mt);return(0,$.padV2)(ft,[pt[0]],gt)},$.parsePadAttributesV11=ft=>ft.attributes.getString("mode","constant");const st=(ft,pt,mt)=>{if(!ft.session.isInitializer(pt[1].dataId)||pt.length>=3&&!ft.session.isInitializer(pt[2].dataId))throw new Error("dynamic pad attributes are not allowed");const gt=Array.from(pt[1].integerData),vt=pt.length>=3?pt[2].floatData[0]:0;return(0,et.createAttributeWithCacheKey)({mode:mt,pads:gt,value:vt})},ct=(ft,pt,mt)=>{const gt=tt.ShapeUtil.padShape(pt.dims.slice(),mt.pads),vt=gt.length,yt=`
      ${it(ft,pt,mt)}
      float process(int[${vt}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[rt.TextureType.unpacked],output:{dims:gt,type:pt.type,textureType:rt.TextureType.unpacked},shaderSource:yt}},lt=ft=>{if(!ft||ft.length!==1)throw new Error("Pad requires 1 input");if(ft[0].type!=="float32"&&ft[0].type!=="float64")throw new Error("Invalid input type.")},at=ft=>{if(!ft||ft.length!==2&&ft.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(ft[1].type!=="int32")throw new Error("Invalid input type.");if(ft.length>=3&&ft[2].type==="string")throw new Error("Invalid input type.")},it=(ft,pt,mt)=>{const gt=(0,nt.getGlsl)(ft.session.backend.glContext.version),[vt,yt]=ft.calculateTextureWidthAndHeight(pt.dims,rt.TextureType.unpacked),bt=tt.ShapeUtil.computeStrides(pt.dims);switch(mt.mode){case"constant":return ut(gt,pt.dims,bt,vt,yt,mt.pads,mt.value);case"reflect":return dt(gt,pt.dims,bt,vt,yt,mt.pads);case"edge":return ht(gt,pt.dims,bt,vt,yt,mt.pads);default:throw new Error("Invalid mode")}},ut=(ft,pt,mt,gt,vt,yt,bt)=>{const xt=pt.length;let _t="";for(let wt=xt-1;wt>=0;--wt)_t+=`
        k = m[${wt}] - ${yt[wt]};
        if (k < 0)  return constant;
        if (k >= ${pt[wt]}) return constant;
        offset += k * ${mt[wt]};
        `;return`
      float padA(int m[${xt}]) {
        const float constant = float(${bt});
        int offset = 0;
        int k = 0;
        ${_t}
        vec2 coords = offsetToCoords(offset, ${gt}, ${vt});
        float value = getColorAsFloat(${ft.texture2D}(A, coords));
        return value;
      }
      `},dt=(ft,pt,mt,gt,vt,yt)=>{const bt=pt.length;let xt="";for(let _t=bt-1;_t>=0;--_t)xt+=`
        k = m[${_t}] - ${yt[_t]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(pt[_t]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${pt[_t]}) { k = _2n_1 - k; }
        }
        offset += k * ${mt[_t]};
        `;return`
      float padA(int m[${bt}]) {
        int offset = 0;
        int k = 0;
        ${xt}
        vec2 coords = offsetToCoords(offset, ${gt}, ${vt});
        float value = getColorAsFloat(${ft.texture2D}(A, coords));
        return value;
      }
      `},ht=(ft,pt,mt,gt,vt,yt)=>{const bt=pt.length;let xt="";for(let _t=bt-1;_t>=0;--_t)xt+=`
        k = m[${_t}] - ${yt[_t]};
        if (k < 0)  k = 0;
        if (k >= ${pt[_t]}) k = ${pt[_t]-1};
        offset += k * ${mt[_t]};
      `;return`
      float padA(int m[${bt}]) {
        int offset = 0;
        int k = 0;
        ${xt}
        vec2 coords = offsetToCoords(offset, ${gt}, ${vt});
        float value = getColorAsFloat(${ft.texture2D}(A, coords));
        return value;
      }
      `}},2834:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.globalMaxPool=$.parseMaxPoolAttributes=$.maxPool=$.parseGlobalAveragePoolAttributes=$.globalAveragePool=$.parseAveragePoolAttributes=$.averagePool=void 0;const et=_e(4910),tt=_e(7273),nt=_e(5639);$.averagePool=(ht,ft,pt)=>{at(ft);const mt={name:"AveragePool",inputNames:["X"],inputTypes:[nt.TextureType.unpacked],cacheHint:pt.cacheKey};return[ht.run(Object.assign(Object.assign({},mt),{get:()=>rt(ft,mt,!1,pt)}),ft)]},$.parseAveragePoolAttributes=ht=>{const ft=ht.attributes.getString("auto_pad","NOTSET"),pt=ht.attributes.getInt("ceil_mode",0),mt=ht.attributes.getInt("count_include_pad",0)!==0,gt=ht.attributes.getInts("kernel_shape"),vt=ht.attributes.getInts("strides",[]),yt=ht.attributes.getInts("pads",[]);if(pt!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,et.createAttributeWithCacheKey)({autoPad:ft,ceilMode:pt,countIncludePad:mt,kernelShape:gt,strides:vt,pads:yt})};const rt=(ht,ft,pt,mt)=>{const[gt,vt]=st(ht,mt,pt),yt=tt.ShapeUtil.size(gt.kernelShape);let bt="";gt.countIncludePad?bt+=`value /= float(${yt});`:bt+=`value /= float(${yt} - pad);`;const xt=`
        ${it(ht[0].dims,gt,"value += _X(x);",bt,"0.0")}
      `;return Object.assign(Object.assign({},ft),{output:{dims:vt,type:ht[0].type,textureType:nt.TextureType.unpacked},shaderSource:xt})};$.globalAveragePool=(ht,ft,pt)=>{at(ft);const mt={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[nt.TextureType.unpacked],cacheHint:`${pt.countIncludePad}`};return[ht.run(Object.assign(Object.assign({},mt),{get:()=>rt(ft,mt,!0,pt)}),ft)]},$.parseGlobalAveragePoolAttributes=ht=>{const ft=ht.attributes.getInt("count_include_pad",0)!==0;return(0,et.createAttributeWithCacheKey)({autoPad:"",ceilMode:0,countIncludePad:ft,kernelShape:[],strides:[],pads:[]})},$.maxPool=(ht,ft,pt)=>{at(ft);const mt={name:"MaxPool",inputNames:["X"],inputTypes:[nt.TextureType.unpacked],cacheHint:pt.cacheKey};return[ht.run(Object.assign(Object.assign({},mt),{get:()=>ot(ft,mt,!1,pt)}),ft)]},$.parseMaxPoolAttributes=ht=>{const ft=ht.attributes.getString("auto_pad","NOTSET"),pt=ht.attributes.getInt("ceil_mode",0),mt=ht.attributes.getInts("kernel_shape"),gt=ht.attributes.getInts("strides",[]),vt=ht.attributes.getInts("pads",[]),yt=ht.attributes.getInt("storage_order",0),bt=ht.attributes.getInts("dilations",[]);if(yt!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(pt!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,et.createAttributeWithCacheKey)({autoPad:ft,ceilMode:pt,countIncludePad:!1,kernelShape:mt,strides:gt,pads:vt,storageOrder:yt,dilations:bt})};const ot=(ht,ft,pt,mt)=>{const[gt,vt]=st(ht,mt,pt),yt=`
      ${it(ht[0].dims,gt,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},ft),{output:{dims:vt,type:ht[0].type,textureType:nt.TextureType.unpacked},shaderSource:yt})},st=(ht,ft,pt)=>{const mt=ht[0].dims.slice(),gt=Object.hasOwnProperty.call(ft,"dilations"),vt=ft.kernelShape.slice(),yt=ft.strides.slice(),bt=gt?ft.dilations.slice():[],xt=ft.pads.slice();tt.PoolConvUtil.adjustPoolAttributes(pt,mt,vt,yt,bt,xt);const _t=tt.PoolConvUtil.computePoolOutputShape(pt,mt,yt,bt,vt,xt,ft.autoPad),wt=Object.assign({},ft);return gt?Object.assign(wt,{kernelShape:vt,strides:yt,pads:xt,dilations:bt,cacheKey:ft.cacheKey}):Object.assign(wt,{kernelShape:vt,strides:yt,pads:xt,cacheKey:ft.cacheKey}),[wt,_t]},ct={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},lt={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[nt.TextureType.unpacked]};$.globalMaxPool=(ht,ft)=>(at(ft),[ht.run(Object.assign(Object.assign({},lt),{get:()=>ot(ft,lt,!0,ct)}),ft)]);const at=ht=>{if(!ht||ht.length!==1)throw new Error("Pool ops requires 1 input.");if(ht[0].type!=="float32"&&ht[0].type!=="float64")throw new Error("Invalid input type.")},it=(ht,ft,pt,mt,gt)=>{const vt=ht.length;if(ft.kernelShape.length<=2){const yt=ft.kernelShape[ft.kernelShape.length-1],bt=ft.strides[ft.strides.length-1],xt=ft.pads[ft.pads.length/2-1],_t=ft.pads[ft.pads.length-1],wt=ht[vt-1];let At="",Pt="",jt="";if(At=xt+_t!==0?`
          for (int i = 0; i < ${yt}; i++) {
            x[${vt} - 1] = indices[${vt} - 1] * ${bt} - ${xt} + i;
            if (x[${vt} - 1] < 0 || x[${vt} - 1] >= ${wt}) {
              pad++;
              continue;
            }
            ${pt}
          }`:`
          for (int i = 0; i < ${yt}; i++) {
            x[${vt} - 1] = indices[${vt} - 1] * ${bt} - ${xt} + i;
            ${pt}
          }`,ft.kernelShape.length===2){const kt=ft.kernelShape[ft.kernelShape.length-2],St=ft.strides[ft.strides.length-2],Ct=ft.pads[ft.pads.length/2-2],Et=ft.pads[ft.pads.length-2],Tt=ht[vt-2];Pt=Ct+Et!==0?`
            for (int j = 0; j < ${kt}; j++) {
              x[${vt} - 2] = indices[${vt} - 2] * ${St} - ${Ct} + j;
              if (x[${vt} - 2] < 0 || x[${vt} - 2] >= ${Tt}) {
                pad+= ${yt};
                continue;
              }
          `:`
            for (int j = 0; j < ${kt}; j++) {
              x[${vt} - 2] = indices[${vt} - 2] * ${St} - ${Ct} + j;
            `,jt=`
          }
        `}return`
        float process(int indices[${vt}]) {
          int x[${vt}];
          copyVec(indices, x);

          float value = ${gt};
          int pad = 0;
          ${Pt}
          ${At}
          ${jt}
          ${mt}
          return value;
        }
      `}{const yt=tt.ShapeUtil.size(ft.kernelShape),bt=tt.ShapeUtil.computeStrides(ft.kernelShape),xt=bt.length,_t=ft.pads.length,wt=dt(xt),At=ut(ht,"inputDims"),Pt=ut(ft.pads,"pads"),jt=ut(bt,"kernelStrides"),kt=ut(ft.strides,"strides");let St="";return St=ft.pads.reduce((Ct,Et)=>Ct+Et)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${pt}
          }`:`
          }
          ${pt}
        `,`
        ${wt}
        float process(int indices[${vt}]) {
          int x[${vt}];
          copyVec(indices, x);
          int offset[${xt}];
          int pads[${_t}];
          int inputDims[${vt}];
          int kernelStrides[${xt}];
          int strides[${xt}];
          ${Pt}
          ${At}
          ${kt}
          ${jt}

          float value = ${gt};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${yt}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${vt} - ${xt}; j < ${vt}; j++) {
              x[j] = indices[j] * strides[j - ${vt} + ${xt}]
                + offset[j - ${vt} + ${xt}] - pads[j - 2];
              ${St}
          }
          ${mt}

          return value;
        }
      `}},ut=(ht,ft)=>{let pt="";for(let mt=0;mt<ht.length;mt++)pt+=`
      ${ft}[${mt}] = ${ht[mt]};
    `;return pt},dt=ht=>`
  void offsetToIndices(int offset, int[${ht}] strides, out int[${ht}] indices) {
    if (${ht} == 0) {
      return;
    }
    for (int i = 0; i < ${ht} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${ht} - 1] = offset;
  }`},1010:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.reduceLogSumSquare=$.reduceLogSum=$.reduceProd=$.reduceMin=$.reduceMax=$.reduceMean=$.reduceSum=$.parseReduceAttributes=void 0;const et=_e(4910),tt=_e(6145),nt=_e(7273),rt=_e(5639),ot=(lt,at,it,ut,dt)=>{ct(at);const ht={name:ut,inputNames:["A"],inputTypes:[rt.TextureType.unpacked]};return[lt.run(Object.assign(Object.assign({},ht),{cacheHint:it.cacheKey,get:()=>st(lt,at,it,ut,dt,ht)}),at)]};$.parseReduceAttributes=lt=>{const at=lt.attributes.getInts("axes",[]),it=lt.attributes.getInt("keepdims",1)===1;return(0,et.createAttributeWithCacheKey)({axes:at,keepDims:it})};const st=(lt,at,it,ut,dt,ht)=>{const ft=[],pt=at[0].dims.length||1,mt=[],gt=nt.ShapeUtil.normalizeAxes(it.axes,at[0].dims.length),vt=dt(at,gt);let yt=vt[1];for(let xt=0;xt<at[0].dims.length;xt++)gt.indexOf(xt)>=0||gt.length===0?(it.keepDims&&ft.push(1),yt=`
          for(int j${xt} = 0; j${xt} < ${at[0].dims[xt]}; j${xt}++) {
            inputIdx[${xt}] = j${xt};
            ${yt}
          }`):(mt.push(`inputIdx[${xt}] = outputIdx[${ft.length}];`),ft.push(at[0].dims[xt]));const bt=`
      float process(int outputIdx[${ft.length||1}]) {
        float value;                 // final result
        int inputIdx[${pt}];      // addressing input data
        ${mt.join(`
`)}
        ${vt[0]}       // init ops for reduce max/min
        ${yt}
        ${vt[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},ht),{output:{dims:ft,type:at[0].type,textureType:rt.TextureType.unpacked},shaderSource:bt})},ct=lt=>{if(!lt||lt.length!==1)throw new Error("Reduce op requires 1 input.");if(tt.NUMBER_TYPES.indexOf(lt[0].type)===-1)throw new Error("Invalid input type.")};$.reduceSum=(lt,at,it)=>ot(lt,at,it,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),$.reduceMean=(lt,at,it)=>ot(lt,at,it,"ReduceMean",(ut,dt)=>{let ht=1;for(let ft=0;ft<ut[0].dims.length;ft++)(dt.indexOf(ft)>=0||dt.length===0)&&(ht*=ut[0].dims[ft]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${ht}.;`]}),$.reduceMax=(lt,at,it)=>ot(lt,at,it,"ReduceMax",(ut,dt)=>{const ht=[];for(let ft=0;ft<ut[0].dims.length;ft++)(dt.indexOf(ft)>=0||dt.length===0)&&ht.push(`inputIdx[${ft}] = 0;`);return[`${ht.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),$.reduceMin=(lt,at,it)=>ot(lt,at,it,"ReduceMin",(ut,dt)=>{const ht=[];for(let ft=0;ft<ut[0].dims.length;ft++)(dt.indexOf(ft)>=0||dt.length===0)&&ht.push(`inputIdx[${ft}] = 0;`);return[`${ht.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),$.reduceProd=(lt,at,it)=>ot(lt,at,it,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),$.reduceLogSum=(lt,at,it)=>ot(lt,at,it,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),$.reduceLogSumSquare=(lt,at,it)=>ot(lt,at,it,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7379:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.isReshapeCheap=$.processDims3D=$.createPackedReshape3DProgramInfoLoader=void 0;const et=_e(7273),tt=_e(6757),nt=_e(5639),rt=_e(5614);$.createPackedReshape3DProgramInfoLoader=(ot,st,ct)=>{const lt=(at=>({name:"Reshape (packed)",inputTypes:[nt.TextureType.packed],inputNames:["A"],cacheHint:`${at}`}))(ct);return Object.assign(Object.assign({},lt),{get:()=>((at,it,ut,dt)=>{const ht=it.dims,ft=dt;let pt="";for(let vt=0;vt<4;vt++){let yt="";switch(vt){case 0:yt="outputCoords = rc;";break;case 1:yt="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:yt="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:yt="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}pt+=`
        ${yt}
        ${vt>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${vt}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${vt>0?"}":""}
      `}const mt=(0,tt.getGlsl)(at.session.backend.glContext.version),gt=`
      ${function(vt){const yt=et.ShapeUtil.computeStrides(vt),bt=["b","r","c"],xt="index";return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${yt.map((_t,wt)=>`int ${bt[wt]} = ${xt} / ${_t}; ${wt===yt.length-1?`int ${bt[wt+1]} = ${xt} - ${bt[wt]} * ${_t}`:`index -= ${bt[wt]} * ${_t}`};`).join("")}
      return ivec3(b, r, c);
    }
  `}(ht)}
      ${function(vt){const yt=et.ShapeUtil.computeStrides(vt);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${yt[0]} + coords.z * ${yt[1]} + coords.y;
  }
`}(ft)}
      ${(0,rt.unpackFromChannel)()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${ft[2]};
        int cols = ${ft[1]};

        ${pt}
        ${mt.output} = result;
      }
    `;return Object.assign(Object.assign({},ut),{output:{dims:ft,type:it.type,textureType:nt.TextureType.packed},shaderSource:gt,hasMain:!0})})(ot,st,lt,ct)})},$.processDims3D=function(ot){if(ot.length===0)return[1,1,1];let st=1;for(let ct=0;ct<ot.length-2;++ct)st*=ot[ct];return[st,ot.length>1?ot[ot.length-2]:1,ot[ot.length-1]]},$.isReshapeCheap=function(ot,st){let ct=!1;return ct=ot.length===0||st.length===0||(ot.length<2||st.length<2?ot[ot.length-1]===st[st.length-1]:ot[ot.length-1]===st[st.length-1]&&ot[ot.length-2]===st[st.length-2]),ct}},8126:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.reshape=void 0;const et=_e(7273);$.reshape=(tt,nt)=>{const rt=et.ShapeUtil.calculateReshapedDims(nt[0].dims,nt[1].integerData);return tt.session.pack?[tt.reshapePacked(nt[0],rt)]:[tt.reshapeUnpacked(nt[0],rt)]}},2801:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseResizeAttributesV11=$.parseResizeAttributesV10=$.resize=void 0;const et=_e(6757),tt=_e(5639),nt=_e(432),rt=_e(5614),ot=_e(3980),st={name:"Resize",inputNames:["A"],inputTypes:[tt.TextureType.packed]};$.resize=(ut,dt,ht)=>((0,ot.validateInputs)(dt,ht),[ut.run(Object.assign(Object.assign({},st),{cacheHint:ht.cacheKey,get:()=>ct(ut,dt,ht)}),dt)]),$.parseResizeAttributesV10=ut=>(0,ot.parseUpsampleAttributes)(ut,10),$.parseResizeAttributesV11=ut=>(0,ot.parseUpsampleAttributes)(ut,11);const ct=(ut,dt,ht)=>{const ft=(0,et.getGlsl)(ut.session.backend.glContext.version),[pt,mt]=lt(dt,ht);if(pt.every(St=>St===1)&&ht.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},st),{output:{dims:mt,type:dt[0].type,textureType:tt.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${ft.texture2D}(X, TexCoords);
                    ${ft.output} = v;
                }`});const gt=mt.length;if(gt<2)throw new Error(`output dimension should be at least 2, but got ${gt}`);const vt=mt[gt-2],yt=mt[gt-1],bt=dt[0].dims;if(gt!==bt.length)throw new Error(`output dimension should match input ${bt.length}, but got ${gt}`);const xt=bt[gt-2],_t=bt[gt-1],wt=pt[gt-2],At=pt[gt-1];let Pt="";if(ht.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${ht.mode}'`);switch(ht.coordinateTransformMode){case"asymmetric":Pt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":Pt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"pytorch_half_pixel":Pt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 fcoords = vec4(coords);
                        return vec4(
                            ${yt}.0 > 1.0 ? (fcoords.x + 0.5) / scaleWHWH.x - 0.5 : 0.0,
                            ${vt}.0 > 1.0 ? (fcoords.y + 0.5) / scaleWHWH.y - 0.5 : 0.0,
                            ${yt}.0 > 1.0 ? (fcoords.z + 0.5) / scaleWHWH.z - 0.5 : 0.0,
                            ${vt}.0 > 1.0 ? (fcoords.w + 0.5) / scaleWHWH.w - 0.5 : 0.0
                          );
                    }
                `;break;case"align_corners":Pt=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${yt}.0 - 1.0, ${vt}.0 - 1.0, ${yt}.0 - 1.0,
                            ${vt}.0 - 1.0);
                        vec4 original = vec4(${_t}.0 - 1.0, ${xt}.0 - 1.0, ${_t}.0 - 1.0,
                            ${xt}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${ht.coordinateTransformMode}'`)}const jt=(0,nt.getCoordsDataType)(gt),kt=`
            const vec2 inputWH = vec2(${xt}.0, ${_t}.0);
            const vec4 scaleWHWH = vec4(float(${wt}), float(${At}), float(${wt}), float(${At}));
            ${(0,rt.unpackFromChannel)()}
            ${Pt}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${jt} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${vt-1};
                bool hasNextCol = rc.z < ${yt-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${ft.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},st),{output:{dims:mt,type:dt[0].type,textureType:tt.TextureType.packed},hasMain:!0,shaderSource:kt})},lt=(ut,dt)=>{const ht=ut[0].dims;let ft,pt=dt.scales;if(pt.length===0){const gt=ut[dt.scalesInputIdx];if(gt&&gt.size!==0){if(ut[dt.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");pt=at(gt,dt.mode,dt.isResize)}else{const vt=ut[dt.sizesInputIdx];if(!vt||vt.size===0)throw new Error("Either scales or sizes MUST be provided as input.");ft=Array.from(vt.integerData),pt=it(ft,ht,dt.mode,dt.isResize)}}else if(ut[dt.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const mt=ft||ht.map((gt,vt)=>Math.floor(gt*pt[vt]));return[pt,mt]},at=(ut,dt,ht)=>{const ft=Array.from(ut.floatData);return(0,ot.scalesValidation)(ft,dt,ht),ft},it=(ut,dt,ht,ft)=>{const pt=dt.length,mt=new Array(pt);for(let gt=0,vt=pt;gt<vt;gt++)if(dt[gt]===0){if(ut[gt]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");mt[gt]=1}else mt[gt]=ut[gt]/dt[gt];return(0,ot.scalesValidation)(mt,ht,ft),mt}},565:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.shape=void 0;const et=_e(9240);$.shape=(nt,rt)=>(tt(rt),[new et.Tensor([rt[0].dims.length],"int32",void 0,void 0,new Int32Array(rt[0].dims))]);const tt=nt=>{if(!nt||nt.length!==1)throw new Error("Shape requires 1 input.")}},2444:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.sliceV10=$.parseSliceAttributes=$.slice=void 0;const et=_e(4910),tt=_e(6145),nt=_e(7273),rt=_e(5639),ot={name:"Slice",inputNames:["A"],inputTypes:[rt.TextureType.unpacked]};$.slice=(it,ut,dt)=>(ct(ut),[it.run(Object.assign(Object.assign({},ot),{cacheHint:dt.cacheKey,get:()=>st(it,ut[0],dt)}),ut)]),$.parseSliceAttributes=it=>{const ut=it.attributes.getInts("starts"),dt=it.attributes.getInts("ends"),ht=it.attributes.getInts("axes",[]);return(0,et.createAttributeWithCacheKey)({starts:ut,ends:dt,axes:ht})};const st=(it,ut,dt)=>{const ht=dt.axes.length===0?ut.dims.slice(0).map((bt,xt)=>xt):dt.axes,ft=nt.ShapeUtil.normalizeAxes(ht,ut.dims.length),pt=dt.starts.map((bt,xt)=>bt>ut.dims[ft[xt]]-1?ut.dims[ft[xt]]:nt.ShapeUtil.normalizeAxis(bt,ut.dims[ft[xt]])),mt=dt.ends.map((bt,xt)=>bt>ut.dims[ft[xt]]-1?ut.dims[ft[xt]]:nt.ShapeUtil.normalizeAxis(bt,ut.dims[ft[xt]])),gt=ut.dims.slice(),vt=[];for(let bt=0;bt<ft.length;bt++)gt[ft[bt]]=mt[bt]-pt[bt],pt[bt]>0&&vt.push(`outputIdx[${ft[bt]}] += ${pt[bt]};`);const yt=`
      float process(int outputIdx[${gt.length}]) {
        ${vt.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},ot),{output:{dims:gt,type:ut.type,textureType:rt.TextureType.unpacked},shaderSource:yt})},ct=it=>{if(!it||it.length!==1)throw new Error("Slice requires 1 input.");if(tt.NUMBER_TYPES.indexOf(it[0].type)===-1)throw new Error("Invalid input type.")};$.sliceV10=(it,ut)=>{at(ut);const dt=lt(it,ut);return[it.run(Object.assign(Object.assign({},ot),{cacheHint:dt.cacheKey,get:()=>st(it,ut[0],dt)}),[ut[0]])]};const lt=(it,ut)=>{if(!it.session.isInitializer(ut[1].dataId)||!it.session.isInitializer(ut[2].dataId)||ut.length>=4&&!it.session.isInitializer(ut[3].dataId)||ut.length>=5&&!it.session.isInitializer(ut[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(ut.length>=5&&ut[4].integerData.some(pt=>pt!==1))throw new Error("currently non-1 steps is not supported for Slice");const dt=Array.from(ut[1].integerData),ht=Array.from(ut[2].integerData),ft=ut.length>=4?Array.from(ut[3].integerData):[];return{starts:dt,ends:ht,axes:ft,cacheKey:`${ft};${dt};${ht}`}},at=it=>{if(!it||it.length<3||it.length>5)throw new Error("Invalid input number.");if(it[1].type!=="int32"||it[1].dims.length!==1)throw new Error("Invalid input type.");if(it[2].type!=="int32"||it[2].dims.length!==1)throw new Error("Invalid input type.");if(it.length>=4&&(it[3].type!=="int32"||it[3].dims.length!==1))throw new Error("Invalid input type.");if(it.length>=5&&(it[4].type!=="int32"||it[4].dims.length!==1))throw new Error("Invalid input type.")}},815:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.softmaxV13=$.parseSoftmaxAttributesV13=$.parseSoftmaxAttributes=$.softmax=void 0;const et=_e(4910),tt=_e(7273),nt=_e(6757),rt=_e(5639),ot=_e(5707),st={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[rt.TextureType.unpacked]},ct={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[rt.TextureType.unpacked,rt.TextureType.unpacked]},lt={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[rt.TextureType.unpacked,rt.TextureType.unpacked,rt.TextureType.unpacked]};$.softmax=(ft,pt,mt)=>{ht(pt);const gt=pt[0].dims.slice(),vt=tt.ShapeUtil.normalizeAxis(mt.axis,gt.length),yt=tt.ShapeUtil.sizeToDimension(gt,vt),bt=tt.ShapeUtil.sizeFromDimension(gt,vt);return at(ft,pt,mt,yt,bt)},$.parseSoftmaxAttributes=ft=>(0,et.createAttributeWithCacheKey)({axis:ft.attributes.getInt("axis",1)}),$.parseSoftmaxAttributesV13=ft=>(0,et.createAttributeWithCacheKey)({axis:ft.attributes.getInt("axis",-1)}),$.softmaxV13=(ft,pt,mt)=>{ht(pt);const gt=pt[0].dims.slice(),vt=tt.ShapeUtil.normalizeAxis(mt.axis,gt.length),yt=gt.length,bt=vt!==yt-1,xt=[];let _t,wt=[],At=[];bt&&(wt=Array.from({length:yt}).map((St,Ct)=>Ct),wt[vt]=yt-1,wt[yt-1]=vt,wt.map(St=>xt.push(gt[St])),_t=(0,et.createAttributeWithCacheKey)({perm:wt}),At=(0,ot.transpose)(ft,pt,_t));const Pt=bt?tt.ShapeUtil.sizeToDimension(xt,yt-1):tt.ShapeUtil.sizeToDimension(gt,yt-1),jt=bt?tt.ShapeUtil.sizeFromDimension(xt,yt-1):tt.ShapeUtil.sizeFromDimension(gt,yt-1),kt=at(ft,bt?At:pt,mt,Pt,jt);return bt?(0,ot.transpose)(ft,kt,_t):kt};const at=(ft,pt,mt,gt,vt)=>{const yt=it(ft,pt[0],gt,vt,[gt]),bt=ft.run(Object.assign(Object.assign({},st),{cacheHint:mt.cacheKey,get:()=>yt}),pt),xt=ut(ft,pt[0],gt,vt,yt.output.dims,[gt]),_t=ft.run(Object.assign(Object.assign({},ct),{cacheHint:mt.cacheKey,get:()=>xt}),[pt[0],bt]),wt=dt(ft,pt[0],gt,vt,yt.output.dims,xt.output.dims);return[ft.run(Object.assign(Object.assign({},lt),{cacheHint:mt.cacheKey,get:()=>wt}),[pt[0],bt,_t])]},it=(ft,pt,mt,gt,vt)=>{const[yt,bt]=ft.calculateTextureWidthAndHeight(pt.dims,rt.TextureType.unpacked),xt=vt.length;if(mt<1||gt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(vt.length!==1)throw new Error("Dimensionality of the output should be 1");if(vt[0]!==mt)throw new Error("Shape of the output should be equal to logical row count");const _t=(0,nt.getGlsl)(ft.session.backend.glContext.version),wt=`
      float process(int[${xt}] indices) {
        int logical_row_start_offset = indices[0] * ${gt};

        float max = getColorAsFloat(${_t.texture2D}(A, offsetToCoords(logical_row_start_offset, ${yt},
        ${bt} )));
        for(int i=1; i<${gt}; ++i)
        {
          float current = getColorAsFloat(${_t.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${yt}, ${bt})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},st),{output:{dims:vt,type:pt.type,textureType:rt.TextureType.unpacked},shaderSource:wt})},ut=(ft,pt,mt,gt,vt,yt)=>{const[bt,xt]=ft.calculateTextureWidthAndHeight(pt.dims,rt.TextureType.unpacked),_t=yt.length;if(mt<1||gt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(yt.length!==1)throw new Error("Dimensionality of the output should be 1");if(yt[0]!==mt)throw new Error("Shape of the output should be equal to logical row count");if(vt.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(vt[0]!==mt)throw new Error("Shape of the intermediate results should be equal to logical row count");const wt=`
      float process(int[${_t}] indices) {
        int logical_row_start_offset = indices[0] * ${gt};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${gt}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${(0,nt.getGlsl)(ft.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${bt}, ${xt}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},ct),{output:{dims:yt,type:pt.type,textureType:rt.TextureType.unpacked},shaderSource:wt})},dt=(ft,pt,mt,gt,vt,yt)=>{const[bt,xt]=ft.calculateTextureWidthAndHeight(pt.dims,rt.TextureType.unpacked),_t=pt.dims.length;if(mt<1||gt<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(vt.length!==1||yt.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(vt[0]!==mt||yt[0]!==mt)throw new Error("Shape of the intermediate results should be equal to logical row count");const wt=`
      float process(int[${_t}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${bt}, ${xt});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${gt};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},lt),{output:{dims:pt.dims,type:pt.type,textureType:rt.TextureType.unpacked},shaderSource:wt})},ht=ft=>{if(!ft||ft.length!==1)throw new Error("Softmax requires 1 input.");if(ft[0].type!=="float32"&&ft[0].type!=="float64")throw new Error("Invalid input type")}},564:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseSplitAttributes=$.split=void 0;const et=_e(4910),tt=_e(7273),nt=_e(5639),rt={name:"Split",inputNames:["A"],inputTypes:[nt.TextureType.unpacked]};$.split=(lt,at,it)=>{ct(at);const ut=tt.ShapeUtil.normalizeAxis(it.axis,at[0].dims.length),dt=ot(lt,at,ut,it),ht=[];for(let ft=0;ft<dt;++ft)ht.push(lt.run(Object.assign(Object.assign({},rt),{cacheHint:`${it.cacheKey};${ft}`,get:()=>st(lt,at[0],it,ut,ft)}),at));return ht},$.parseSplitAttributes=lt=>{const at=lt.attributes.getInt("axis",0),it=lt.attributes.getInts("split",[]),ut=lt.outputs.length;return(0,et.createAttributeWithCacheKey)({axis:at,split:it,numOutputs:ut})};const ot=(lt,at,it,ut)=>{const[,dt]=tt.SplitUtil.splitShape(at[0].dims,it,ut.split,ut.numOutputs);return dt.length},st=(lt,at,it,ut,dt)=>{const[ht,ft]=tt.SplitUtil.splitShape(at.dims,ut,it.split,it.numOutputs),pt=ft[dt],mt=ht[dt],gt=`
      float process(int indices[${mt.length}]) {
        indices[${ut}] += ${pt};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},rt),{cacheHint:`${it.cacheKey}:${dt}`,output:{dims:mt,type:at.type,textureType:nt.TextureType.unpacked},shaderSource:gt})},ct=lt=>{if(!lt||lt.length!==1)throw new Error("Split requires one input.");if(lt[0].type!=="int8"&&lt[0].type!=="uint8"&&lt[0].type!=="int16"&&lt[0].type!=="uint16"&&lt[0].type!=="int32"&&lt[0].type!=="uint32"&&lt[0].type!=="float32"&&lt[0].type!=="float64"&&lt[0].type!=="bool")throw new Error("Invalid input type.")}},5416:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseSqueezeAttributes=$.squeezeV13=$.squeeze=void 0;const et=_e(7273);$.squeeze=(rt,ot,st)=>{tt(ot);const ct=et.ShapeUtil.squeezeShape(ot[0].dims,st);return[rt.reshapeUnpacked(ot[0],ct)]},$.squeezeV13=(rt,ot)=>(nt(ot),(0,$.squeeze)(rt,[ot[0]],Array.from(ot[1].integerData))),$.parseSqueezeAttributes=rt=>rt.attributes.getInts("axes");const tt=rt=>{if(!rt||rt.length!==1)throw new Error("Squeeze requires 1 input.");if(rt[0].type==="string")throw new Error("invalid input tensor types.")},nt=rt=>{if(!rt||rt.length!==2)throw new Error("Squeeze requires 2 inputs.");if(rt[1].type!=="int32")throw new Error("Invalid input type.")}},1240:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.sum=void 0;const et=_e(6757),tt=_e(5639);$.sum=(ot,st)=>{rt(st);const ct={name:"Sum",inputNames:st.map((lt,at)=>`X${at}`),inputTypes:new Array(st.length).fill(tt.TextureType.unpacked)};return[ot.run(Object.assign(Object.assign({},ct),{get:()=>nt(ot,st,ct)}),st)]};const nt=(ot,st,ct)=>{const lt=(0,et.getGlsl)(ot.session.backend.glContext.version),at=st[0].dims.slice(),it=`
      void main() {
        vec4 result = ${st.map((ut,dt)=>`${lt.texture2D}(X${dt},TexCoords)`).join(" + ")};
        ${lt.output} = result;
      }
    `;return Object.assign(Object.assign({},ct),{output:{dims:at,type:st[0].type,textureType:tt.TextureType.unpacked},hasMain:!0,shaderSource:it})},rt=ot=>{if(!ot||ot.length===0)throw new Error("Sum requires inputs.");const st=ot[0].dims.length;for(let ct=1;ct<ot.length;ct++){if(st!==ot[ct].dims.length)throw new Error("Input shapes are mismatched.");for(let lt=0;lt<st;lt++)if(ot[0].dims[lt]!==ot[ct].dims[lt])throw new Error("Input shapes are not matched.")}if(ot[0].type!=="float32"&&ot[0].type!=="float64")throw new Error("Invalid input type.");for(let ct=1;ct<ot.length;ct++)if(ot[0].type!==ot[ct].type)throw new Error("Input types are not matched.")}},5944:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.tile=void 0;const et=_e(6145),tt=_e(5639);$.tile=(ot,st)=>{rt(st);const ct={name:"Tile",inputNames:["A"],inputTypes:[tt.TextureType.unpacked]};return[ot.run(Object.assign(Object.assign({},ct),{get:()=>nt(ot,st,ct)}),st)]};const nt=(ot,st,ct)=>{const lt=st[0].dims.slice(),at=new Array(lt.length),it=[];for(let ht=0;ht<lt.length;ht++)at[ht]=lt[ht]*st[1].numberData[ht],it.push(`inputIdx[${ht}] = int(mod(float(outputIdx[${ht}]), ${lt[ht]}.));`);const ut=at.length,dt=`
      float process(int outputIdx[${ut}]) {
        int inputIdx[${ut}];
        ${it.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},ct),{output:{dims:at,type:st[0].type,textureType:tt.TextureType.unpacked},shaderSource:dt})},rt=ot=>{if(!ot||ot.length!==2)throw new Error("Tile requires 2 input.");if(ot[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(ot[1].dims[0]!==ot[0].dims.length)throw new Error("Invalid input shape.");if(et.NUMBER_TYPES.indexOf(ot[0].type)===-1)throw new Error("Invalid input type.");if(ot[1].type!=="int32"&&ot[1].type!=="int16")throw new Error("Invalid repeat type.")}},5707:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseTransposeAttributes=$.transpose=void 0;const et=_e(4910),tt=_e(7273),nt=_e(5639),rt={name:"Transpose",inputNames:["A"],inputTypes:[nt.TextureType.unpacked]};$.transpose=(it,ut,dt)=>(at(ut),[it.run(Object.assign(Object.assign({},rt),{cacheHint:dt.cacheKey,get:()=>ot(it,ut[0],dt.perm)}),ut)]),$.parseTransposeAttributes=it=>(0,et.createAttributeWithCacheKey)({perm:it.attributes.getInts("perm",[])});const ot=(it,ut,dt)=>{const ht=ut.dims;dt=st(ht,dt);const ft=ct(ht,dt),pt=ht.length,mt=`
      ${lt("perm",dt,pt)}
      float process(int indices[${pt}]) {
        int a[${pt}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},rt),{output:{dims:ft,type:ut.type,textureType:nt.TextureType.unpacked},shaderSource:mt})},st=(it,ut)=>(ut&&ut.length!==it.length&&(ut=[...it.keys()].reverse()),ut),ct=(it,ut)=>(ut=st(it,ut),tt.ShapeUtil.sortBasedOnPerm(it,ut)),lt=(it,ut,dt)=>{const ht=[];ht.push(`void ${it}(out int a[${dt}], int src[${dt}]) {`);for(let ft=0;ft<dt;++ft)ht.push(`	a[${ut[ft]}]=src[${ft}];`);return ht.push("	}"),ht.join(`
`)},at=it=>{if(!it||it.length!==1)throw new Error("Transpose requires 1 input.");if(it[0].type!=="float32"&&it[0].type!=="float64")throw new Error("input should be float tensor")}},2488:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.encodeAsUint8=void 0;const et=_e(6757),tt=_e(5639);$.encodeAsUint8=(nt,rt)=>{const ot=rt.shape,st=(0,et.getGlsl)(nt.session.backend.glContext.version),ct=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${st.texture2D}(X,TexCoords).r;
      ${st.output} = encodeAsUint8(value);
    }`,lt={name:"Uint8Encode",inputTypes:[tt.TextureType.unpacked],inputNames:["X"],output:{dims:ot,type:rt.tensor.type,textureType:tt.TextureType.downloadUint8AsFloat},shaderSource:ct,hasMain:!0};return nt.executeProgram(lt,[rt.tensor])}},9087:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.tanh=$.tan=$.sqrt=$.sin=$.sigmoid=$.relu=$.not=$.neg=$.log=$.parseLeakyReluAttributes=$.leakyRelu=$.identity=$.floor=$.exp=$.parseEluAttributes=$.elu=$.cos=$.ceil=$.clipV11=$.parseClipAttributes=$.clip=$.atan=$.asin=$.acos=$.abs=$.glslTanh=$.glslTan=$.glslSqrt=$.glslSigmoid=$.glslRelu=$.glslSin=$.glslNot=$.glslNeg=$.glslLog=$.glslLeakyRelu=$.glslIdentity=$.glslClip=$.glslFloor=$.glslExp=$.glslElu=$.glslCos=$.glslCeil=$.glslAtan=$.glslAsin=$.glslAcos=$.glslAbs=void 0;const et=_e(4910),tt=_e(7273),nt=_e(1997),rt=_e(6757),ot=_e(5639);function st(){return kt("abs")}function ct(){return kt("acos")}function lt(){return kt("asin")}function at(){return kt("atan")}function it(){return kt("ceil")}function ut(){return kt("cos")}function dt(Et){const Tt="elu";return{body:`
  const float alpha = float(${Et});

  float ${Tt}_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 ${Tt}_(vec4 v) {
    return vec4(${Tt}_(v.x), ${Tt}_(v.y), ${Tt}_(v.z), ${Tt}_(v.w));
  }
  `,name:Tt,type:nt.FunctionType.ValueBased}}function ht(){return kt("exp")}function ft(){return kt("floor")}function pt(Et,Tt){const $t="clip";return{body:`
  const float min = float(${Et});
  const float max = float(${Tt});

  float ${$t}_(float a) {
    return clamp(a, min, max);
  }
  vec4 ${$t}_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:$t,type:nt.FunctionType.ValueBased}}function mt(){const Et="indentity";return{body:`
  float ${Et}_(float a) {
    return a;
  }
  vec4 ${Et}_(vec4 v) {
    return v;
  }
  `,name:Et,type:nt.FunctionType.ValueBased}}function gt(Et){const Tt="leakyRelu";return{body:`
  const float alpha = float(${Et});

  float ${Tt}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${Tt}_(vec4 v) {
    return vec4(${Tt}_(v.x), ${Tt}_(v.y), ${Tt}_(v.z), ${Tt}_(v.w));
  }
  `,name:Tt,type:nt.FunctionType.ValueBased}}function vt(){return kt("log")}function yt(){const Et="neg";return{body:`
  float ${Et}_(float a) {
    return -a;
  }
  vec4 ${Et}_(vec4 v) {
    return -v;
  }
  `,name:Et,type:nt.FunctionType.ValueBased}}function bt(){const Et="not";return{body:`
  float ${Et}_(float a) {
    return float( ! bool(a) );
  }
  bool ${Et}_(bool a) {
    return !a;
  }
  vec4 ${Et}_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 ${Et}_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:Et,type:nt.FunctionType.ValueBased}}function xt(){return kt("sin")}function _t(){const Et="relu";return{body:`
  float ${Et}_(float a) {
    return max( a, 0.0 );
  }
  vec4 ${Et}_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:Et,type:nt.FunctionType.ValueBased}}function wt(){const Et="sigmoid";return{body:`
  float ${Et}_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 ${Et}_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:Et,type:nt.FunctionType.ValueBased}}function At(){return kt("sqrt")}function Pt(){return kt("tan")}function jt(){const Et="tanh";return{body:`
  float ${Et}_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 ${Et}_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:Et,type:nt.FunctionType.ValueBased}}function kt(Et){return{body:`
  float ${Et}_(float a) {
    return ${Et}(a);
  }
  vec4 ${Et}_(vec4 v) {
    return ${Et}(v);
  }
  `,name:Et,type:nt.FunctionType.ValueBased}}$.glslAbs=st,$.glslAcos=ct,$.glslAsin=lt,$.glslAtan=at,$.glslCeil=it,$.glslCos=ut,$.glslElu=dt,$.glslExp=ht,$.glslFloor=ft,$.glslClip=pt,$.glslIdentity=mt,$.glslLeakyRelu=gt,$.glslLog=vt,$.glslNeg=yt,$.glslNot=bt,$.glslSin=xt,$.glslRelu=_t,$.glslSigmoid=wt,$.glslSqrt=At,$.glslTan=Pt,$.glslTanh=jt;const St=(Et,Tt,$t,Ot)=>{const Rt=Et.session.pack?ot.TextureType.packed:ot.TextureType.unpacked,Nt={name:$t.name,inputTypes:[Rt],inputNames:["A"],cacheHint:Ot};return Object.assign(Object.assign({},Nt),{get:()=>((Ft,Ht,zt,an)=>{const Jt=Ft.session.pack?ot.TextureType.packed:ot.TextureType.unpacked,Zt=(0,rt.getGlsl)(Ft.session.backend.glContext.version);return Object.assign(Object.assign({},Ht),{output:{dims:zt.dims,type:zt.type,textureType:Jt},shaderSource:`
     ${an.body}
     void main() {
       vec4 v = ${Zt.texture2D}(A, TexCoords);
       v = ${an.name}_(v);
       ${Zt.output} = v;
     }
     `,hasMain:!0})})(Et,Nt,Tt,$t)})};$.abs=(Et,Tt)=>[Et.run(St(Et,Tt[0],st()),Tt)],$.acos=(Et,Tt)=>[Et.run(St(Et,Tt[0],ct()),Tt)],$.asin=(Et,Tt)=>[Et.run(St(Et,Tt[0],lt()),Tt)],$.atan=(Et,Tt)=>[Et.run(St(Et,Tt[0],at()),Tt)],$.clip=(Et,Tt,$t)=>[Et.run(St(Et,Tt[0],pt($t.min,$t.max),$t.cacheKey),Tt)],$.parseClipAttributes=Et=>(0,et.createAttributeWithCacheKey)({min:Et.attributes.getFloat("min",tt.MIN_CLIP),max:Et.attributes.getFloat("max",tt.MAX_CLIP)}),$.clipV11=(Et,Tt)=>{const $t=Ct(Et,Tt);return(0,$.clip)(Et,[Tt[0]],$t)};const Ct=(Et,Tt)=>{if(Tt.length>=3&&(!Et.session.isInitializer(Tt[1].dataId)||!Et.session.isInitializer(Tt[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const $t=Tt.length>=3?Tt[1].numberData[0]:tt.MIN_CLIP,Ot=Tt.length>=3?Tt[2].numberData[0]:tt.MAX_CLIP;return(0,et.createAttributeWithCacheKey)({min:$t,max:Ot})};$.ceil=(Et,Tt)=>[Et.run(St(Et,Tt[0],it()),Tt)],$.cos=(Et,Tt)=>[Et.run(St(Et,Tt[0],ut()),Tt)],$.elu=(Et,Tt,$t)=>[Et.run(St(Et,Tt[0],dt($t.alpha),$t.cacheKey),Tt)],$.parseEluAttributes=Et=>(0,et.createAttributeWithCacheKey)({alpha:Et.attributes.getFloat("alpha",1)}),$.exp=(Et,Tt)=>[Et.run(St(Et,Tt[0],ht()),Tt)],$.floor=(Et,Tt)=>[Et.run(St(Et,Tt[0],ft()),Tt)],$.identity=(Et,Tt)=>[Et.run(St(Et,Tt[0],mt()),Tt)],$.leakyRelu=(Et,Tt,$t)=>[Et.run(St(Et,Tt[0],gt($t.alpha),$t.cacheKey),Tt)],$.parseLeakyReluAttributes=Et=>(0,et.createAttributeWithCacheKey)({alpha:Et.attributes.getFloat("alpha",.01)}),$.log=(Et,Tt)=>[Et.run(St(Et,Tt[0],vt()),Tt)],$.neg=(Et,Tt)=>[Et.run(St(Et,Tt[0],yt()),Tt)],$.not=(Et,Tt)=>[Et.run(St(Et,Tt[0],bt()),Tt)],$.relu=(Et,Tt)=>[Et.run(St(Et,Tt[0],_t()),Tt)],$.sigmoid=(Et,Tt)=>[Et.run(St(Et,Tt[0],wt()),Tt)],$.sin=(Et,Tt)=>[Et.run(St(Et,Tt[0],xt()),Tt)],$.sqrt=(Et,Tt)=>[Et.run(St(Et,Tt[0],At()),Tt)],$.tan=(Et,Tt)=>[Et.run(St(Et,Tt[0],Pt()),Tt)],$.tanh=(Et,Tt)=>[Et.run(St(Et,Tt[0],jt()),Tt)]},540:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createUnpackProgramInfoLoader=$.createUnpackProgramInfo=void 0;const et=_e(6757),tt=_e(5639),nt=_e(432),rt=_e(5614),ot={name:"unpack",inputNames:["A"],inputTypes:[tt.TextureType.packed]};$.createUnpackProgramInfo=(st,ct)=>{const lt=ct.dims.length,at=(0,rt.getChannels)("rc",lt),it=at.slice(-2),ut=(0,nt.getCoordsDataType)(lt),dt=(0,rt.unpackFromChannel)(),ht=ct.dims.length===0?"":function(mt,gt){if(mt===1)return"rc";let vt="";for(let yt=0;yt<mt;yt++)vt+=gt[yt],yt<mt-1&&(vt+=",");return vt}(lt,at),ft=lt<=1?"rc":`vec2(${it.join(",")})`,pt=`
    ${dt}
    void main() {
      ${ut} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${ht});

       ${(0,et.getGlsl)(st.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${ft}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},ot),{hasMain:!0,output:{dims:ct.dims,type:ct.type,textureType:tt.TextureType.unpacked},shaderSource:pt})},$.createUnpackProgramInfoLoader=(st,ct)=>Object.assign(Object.assign({},ot),{get:()=>(0,$.createUnpackProgramInfo)(st,ct)})},7862:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseUnsqueezeAttributes=$.unsqueezeV13=$.unsqueeze=void 0;const et=_e(7273);$.unsqueeze=(rt,ot,st)=>{tt(ot);const ct=et.ShapeUtil.unsqueezeShape(ot[0].dims,st);return[rt.reshapeUnpacked(ot[0],ct)]},$.unsqueezeV13=(rt,ot)=>(nt(ot),(0,$.unsqueeze)(rt,[ot[0]],Array.from(ot[1].integerData))),$.parseUnsqueezeAttributes=rt=>rt.attributes.getInts("axes");const tt=rt=>{if(!rt||rt.length!==1)throw new Error("Unsqueeze requires 1 input.");if(rt[0].type==="string")throw new Error("invalid input tensor types.")},nt=rt=>{if(!rt||rt.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(rt[1].type!=="int32")throw new Error("Invalid input type.")}},3980:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.scalesValidation=$.validateInputs=$.parseUpsampleAttributes=$.parseUpsampleAttributesV9=$.parseUpsampleAttributesV7=$.upsample=void 0;const et=_e(4910),tt=_e(6757),nt=_e(5639),rt={name:"Upsample",inputNames:["X"],inputTypes:[nt.TextureType.unpacked]};$.upsample=(st,ct,lt)=>((0,$.validateInputs)(ct,lt),[st.run(Object.assign(Object.assign({},rt),{cacheHint:lt.cacheKey,get:()=>ot(st,ct,lt)}),ct)]),$.parseUpsampleAttributesV7=st=>(0,$.parseUpsampleAttributes)(st,7),$.parseUpsampleAttributesV9=st=>(0,$.parseUpsampleAttributes)(st,9),$.parseUpsampleAttributes=(st,ct)=>{const lt=ct>=10,at=st.attributes.getString("mode","nearest");if(at!=="nearest"&&at!=="linear"&&(ct<11||at!=="cubic"))throw new Error(`unrecognized mode: ${at}`);let it=[];ct<9&&(it=st.attributes.getFloats("scales"),(0,$.scalesValidation)(it,at,lt));const ut=st.attributes.getFloat("extrapolation_value",0),dt=ct>10?st.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(dt)===-1)throw new Error(`coordinate_transform_mode '${dt}' is not supported`);const ht=dt==="tf_crop_and_resize",ft=ht,pt=at==="nearest"&&ct>=11?st.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(pt)===-1)throw new Error(`nearest_mode '${pt}' is not supported`);const mt=st.attributes.getFloat("cubic_coeff_a",-.75),gt=st.attributes.getInt("exclude_outside",0)!==0;if(gt&&at!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const vt=ct<11||at==="nearest"&&dt==="asymmetric"&&pt==="floor";let yt=0,bt=0,xt=0;return ct>10?st.inputs.length>2?(yt=1,bt=2,xt=3):(bt=1,xt=2):ct===9&&(bt=1),(0,et.createAttributeWithCacheKey)({opset:ct,isResize:lt,mode:at,scales:it,extrapolationValue:ut,coordinateTransformMode:dt,useExtrapolation:ft,needRoiInput:ht,nearestMode:pt,cubicCoefficientA:mt,excludeOutside:gt,useNearest2xOptimization:vt,roiInputIdx:yt,scalesInputIdx:bt,sizesInputIdx:xt})};const ot=(st,ct,lt)=>{const at=(0,tt.getGlsl)(st.session.backend.glContext.version),[it,ut]=st.calculateTextureWidthAndHeight(ct[0].dims,nt.TextureType.unpacked),dt=ct[0].dims.map((xt,_t)=>Math.floor(xt*lt.scales[_t])),[ht,ft]=st.calculateTextureWidthAndHeight(dt,nt.TextureType.unpacked),pt=dt.length,mt=new Array(pt),gt=new Array(pt);let vt=`
      int output_pitches[${pt}];
      int input_pitches[${pt}];
      `;for(let xt=pt-1;xt>=0;xt--)mt[xt]=xt===pt-1?1:mt[xt+1]*dt[xt+1],gt[xt]=xt===pt-1?1:gt[xt+1]*ct[0].dims[xt+1],vt+=`
        output_pitches[${xt}] = ${mt[xt]};
        input_pitches[${xt}] = ${gt[xt]};
        `;const yt=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${it}, ${ut});
        float value = getColorAsFloat(${at.texture2D}(X, coords));
        return value;
      }
      `,bt=lt.mode==="nearest"?`
    ${yt}
    float process(int indices[${pt}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${ht}, ${ft});

      ${vt}

      int d, m;
      for (int dim = 0; dim < ${pt}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:pt===4?`
    ${yt}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${ht}, ${ft});

      ${vt}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${ct[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${yt}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${ht}, ${ft});

      ${vt}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${ct[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},rt),{output:{dims:dt,type:ct[0].type,textureType:nt.TextureType.unpacked},shaderSource:bt,variables:[{name:"scales",type:"int",arrayLength:lt.scales.length,data:lt.scales.map(xt=>Math.ceil(xt))}]})};$.validateInputs=(st,ct)=>{if(!st||ct.opset<9&&st.length!==1||ct.opset>=9&&ct.opset<11&&st.length!==2||ct.opset>=11&&st.length<2)throw new Error("invalid inputs.");if(ct.scales.length>0&&st[0].dims.length!==ct.scales.length)throw new Error("Invalid input shape.");if(st[0].type==="string")throw new Error("Invalid input tensor types.")},$.scalesValidation=(st,ct,lt)=>{if(lt){for(const at of st)if(at<=0)throw new Error("Scale value should be greater than 0.")}else for(const at of st)if(at<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(ct!=="linear"&&ct!=="cubic"||st.length===2||st.length===4&&st[0]===1&&st[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${lt?"Resize":"Upsample"} opeartor.`)}},2757:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ProgramManager=void 0;const et=_e(8453),tt=_e(1315),nt=_e(8897),rt=_e(6757);$.ProgramManager=class{constructor(ot,st,ct){this.profiler=ot,this.glContext=st,this.textureLayoutStrategy=ct,this.repo=new Map,this.attributesBound=!1}getArtifact(ot){return this.repo.get(ot)}setArtifact(ot,st){this.repo.set(ot,st)}run(ot,st,ct){var lt;this.profiler.event("op",`ProgramManager.run ${(lt=ot.programInfo.name)!==null&&lt!==void 0?lt:"unknown kernel"}`,()=>{var at;const it=this.glContext.gl,ut=ot.program;it.useProgram(ut);try{this.bindOutput(ct),this.attributesBound||this.bindAttributes(ot.attribLocations),this.bindUniforms(ot.uniformLocations,(at=ot.programInfo.variables)!==null&&at!==void 0?at:[],st)}catch(dt){throw tt.Logger.error("ProgramManager",ot.programInfo.shaderSource),dt}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(ot=>this.glContext.deleteProgram(ot.program))}build(ot,st,ct){return this.profiler.event("backend","ProgramManager.build",()=>{const lt=new nt.GlslPreprocessor(this.glContext,ot,st,ct),at=lt.preprocess(),it=this.compile(at);return{programInfo:ot,program:it,uniformLocations:this.getUniformLocations(it,lt.context.programInfo.inputNames,lt.context.programInfo.variables),attribLocations:this.getAttribLocations(it)}})}compile(ot){if(!this.vertexShader){tt.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const lt=(0,rt.getVertexShaderSource)(this.glContext.version);this.vertexShader=this.glContext.compileShader(lt,this.glContext.gl.VERTEX_SHADER)}et.env.debug&&tt.Logger.verbose("ProrgramManager",`FragShader:
${ot}
`);const st=this.glContext.compileShader(ot,this.glContext.gl.FRAGMENT_SHADER),ct=this.glContext.createProgram(this.vertexShader,st);return this.glContext.deleteShader(st),ct}bindOutput(ot){const st=ot.width,ct=ot.height;tt.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${st}/${ct}, shape=${ot.shape}, type=${ot.tensor.type}`),this.glContext.attachFramebuffer(ot.texture,st,ct)}bindAttributes(ot){const st=ot.position,ct=ot.textureCoord;this.glContext.setVertexAttributes(st,ct),this.attributesBound=!0}bindUniforms(ot,st,ct){var lt;const at=this.glContext.gl;let it=0;for(const{name:ut,type:dt,location:ht,arrayLength:ft}of ot){const pt=(lt=st.find(mt=>mt.name===ut))===null||lt===void 0?void 0:lt.data;if(dt!=="sampler2D"&&!pt)throw new Error(`variable '${ut}' does not have data defined in program info`);switch(dt){case"sampler2D":this.bindTexture(ct[it],ht,it),it++;break;case"float":ft?at.uniform1fv(ht,pt):at.uniform1f(ht,pt);break;case"int":ft?at.uniform1iv(ht,pt):at.uniform1i(ht,pt);break;default:throw new Error(`Uniform not implemented: ${dt}`)}}}bindTexture(ot,st,ct){this.glContext.bindTextureToUniform(ot.texture,ct,st)}getAttribLocations(ot){return{position:this.getAttribLocation(ot,"position"),textureCoord:this.getAttribLocation(ot,"textureCoord")}}getUniformLocations(ot,st,ct){const lt=[];if(st)for(const at of st)lt.push({name:at,type:"sampler2D",location:this.getUniformLocation(ot,at)});if(ct)for(const at of ct)lt.push(Object.assign(Object.assign({},at),{location:this.getUniformLocation(ot,at.name)}));return lt}getUniformLocation(ot,st){const ct=this.glContext.gl.getUniformLocation(ot,st);if(ct===null)throw new Error(`Uniform ${st} not found.`);return ct}getAttribLocation(ot,st){return this.glContext.gl.getAttribLocation(ot,st)}}},2171:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.WebGLSessionHandler=void 0;const et=_e(1315),tt=_e(5881),nt=_e(7860),rt=_e(4110),ot=_e(2757),st=_e(7618),ct=_e(5243);$.WebGLSessionHandler=class{constructor(lt,at){this.backend=lt,this.context=at,this.layoutStrategy=new st.PreferLogicalStrategy(lt.glContext.maxTextureSize),this.programManager=new ot.ProgramManager(this.context.profiler,lt.glContext,this.layoutStrategy),this.textureManager=new ct.TextureManager(lt.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:lt.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=lt.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new nt.WebGLInferenceHandler(this)}onGraphInitialized(lt){const at=lt.getValues().filter(it=>it.from===-1&&it.tensor).map(it=>it.tensor.dataId);this.initializers=new Set(at)}isInitializer(lt){return!!this.initializers&&this.initializers.has(lt)}addInitializer(lt){this.initializers.add(lt)}getTextureData(lt,at){return at?this.packedTextureDataCache.get(lt):this.unpackedTextureDataCache.get(lt)}setTextureData(lt,at,it=!1){et.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),it?this.packedTextureDataCache.set(lt,at):this.unpackedTextureDataCache.set(lt,at)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(lt=>this.textureManager.releaseTexture(lt,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(lt=>this.textureManager.releaseTexture(lt,!0)),this.unpackedTextureDataCache=new Map}resolve(lt,at,it){const ut=(0,tt.resolveOperator)(lt,at,rt.WEBGL_OP_RESOLVE_RULES);return{impl:ut.opImpl,context:ut.opInit?ut.opInit(lt,it):lt}}}},9622:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.Uint8DataEncoder=$.RGBAFloatDataEncoder=$.RedFloat32DataEncoder=void 0;const et=_e(1315);$.RedFloat32DataEncoder=class{constructor(tt,nt=1){if(nt===1)this.internalFormat=tt.R32F,this.format=tt.RED,this.textureType=tt.FLOAT,this.channelSize=nt;else{if(nt!==4)throw new Error(`Invalid number of channels: ${nt}`);this.internalFormat=tt.RGBA32F,this.format=tt.RGBA,this.textureType=tt.FLOAT,this.channelSize=nt}}encode(tt,nt){let rt,ot;return tt.constructor!==Float32Array&&(et.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),ot=new Float32Array(tt)),nt*this.channelSize>tt.length?(et.Logger.warning("Encoder","Source data too small. Allocating larger array"),ot=tt,rt=this.allocate(nt*this.channelSize),ot.forEach((st,ct)=>rt[ct]=st)):(ot=tt,rt=ot),rt}allocate(tt){return new Float32Array(4*tt)}decode(tt,nt){return this.channelSize===1?tt.filter((rt,ot)=>ot%4==0).subarray(0,nt):tt.subarray(0,nt)}},$.RGBAFloatDataEncoder=class{constructor(tt,nt=1,rt){if(nt!==1&&nt!==4)throw new Error(`Invalid number of channels: ${nt}`);this.internalFormat=tt.RGBA,this.format=tt.RGBA,this.channelSize=nt,this.textureType=rt||tt.FLOAT}encode(tt,nt){let rt=tt;return this.channelSize===1&&(et.Logger.verbose("Encoder","Exploding into a larger array"),rt=this.allocate(nt),tt.forEach((ot,st)=>rt[4*st]=ot)),rt}allocate(tt){return new Float32Array(4*tt)}decode(tt,nt){return this.channelSize===1?tt.filter((rt,ot)=>ot%4==0).subarray(0,nt):tt.subarray(0,nt)}},$.Uint8DataEncoder=class{constructor(tt,nt=1){if(this.channelSize=4,nt===1)this.internalFormat=tt.ALPHA,this.format=tt.ALPHA,this.textureType=tt.UNSIGNED_BYTE,this.channelSize=nt;else{if(nt!==4)throw new Error(`Invalid number of channels: ${nt}`);this.internalFormat=tt.RGBA,this.format=tt.RGBA,this.textureType=tt.UNSIGNED_BYTE,this.channelSize=nt}}encode(tt,nt){return new Uint8Array(tt.buffer,tt.byteOffset,tt.byteLength)}allocate(tt){return new Uint8Array(tt*this.channelSize)}decode(tt,nt){if(tt instanceof Uint8Array)return tt.subarray(0,nt);throw new Error(`Invalid array type: ${tt.constructor}`)}}},7618:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getBatchDim=$.sizeToSquarishShape=$.getRowsCols=$.sizeFromShape=$.isInt=$.parseAxisParam=$.squeezeShape=$.PreferLogicalStrategy=$.AlwaysKeepOriginalSizeStrategy=void 0;const et=_e(1315),tt=_e(7273);function nt(lt,at){const it=[],ut=[],dt=at!=null&&Array.isArray(at)&&at.length===0,ht=at==null||dt?null:rt(at,lt).sort();let ft=0;for(let pt=0;pt<lt.length;++pt){if(ht!=null){if(ht[ft]===pt&&lt[pt]!==1)throw new Error(`Can't squeeze axis ${pt} since its dim '${lt[pt]}' is not 1`);(ht[ft]==null||ht[ft]>pt)&&lt[pt]===1&&(it.push(lt[pt]),ut.push(pt)),ht[ft]<=pt&&ft++}lt[pt]!==1&&(it.push(lt[pt]),ut.push(pt))}return{newShape:it,keptDims:ut}}function rt(lt,at){const it=at.length;return lt=lt==null?at.map((ut,dt)=>dt):[].concat(lt),(0,tt.assert)(lt.every(ut=>ut>=-it&&ut<it),()=>`All values in axis param must be in range [-${it}, ${it}) but got axis ${lt}`),(0,tt.assert)(lt.every(ot),()=>`All values in axis param must be integers but got axis ${lt}`),lt.map(ut=>ut<0?it+ut:ut)}function ot(lt){return lt%1==0}function st(lt){if(lt.length===0)return 1;let at=lt[0];for(let it=1;it<lt.length;it++)at*=lt[it];return at}function ct(lt){const at=Math.ceil(Math.sqrt(lt));return[at,Math.ceil(lt/at)]}$.AlwaysKeepOriginalSizeStrategy=class{constructor(lt){this.maxTextureSize=lt}computeTextureWH(lt,at){if(lt.length===0)return[1,1];const it=this.maxTextureSize;if(at&&at.breakAxis!==void 0){const ht=at.breakAxis>=lt.length?1:lt.slice(at.breakAxis).reduce((pt,mt)=>pt*mt),ft=at.breakAxis<=0?1:lt.slice(0,at.breakAxis).reduce((pt,mt)=>pt*mt);if(!(ht>it||ft>it))return[ht,ft];et.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${lt}, breakAxis:${at.breakAxis}`)}const ut=lt.reduce((ht,ft)=>ht*ft);let dt=Math.floor(Math.sqrt(ut));for(;dt<it&&dt<ut&&ut%dt!=0;dt++);if(dt>=it||ut%dt!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${lt}`);return[dt,ut/dt]}},$.PreferLogicalStrategy=class{constructor(lt){this.maxTextureSize=lt}computeTextureWH(lt,at){const it=this.computeTexture(lt,at);return at&&at.isPacked&&(it[0]/=2,it[1]/=2),at&&at.reverseWH?[it[1],it[0]]:it}computeTexture(lt,at){const it=at&&at.isPacked;if(lt.length===0)return it?[2,2]:[1,1];let ut=this.maxTextureSize;if(at&&at.breakAxis!==void 0){const ft=at.breakAxis>=lt.length?1:lt.slice(at.breakAxis).reduce((mt,gt)=>mt*gt),pt=at.breakAxis<=0?1:lt.slice(0,at.breakAxis).reduce((mt,gt)=>mt*gt);if(!(ft>ut||pt>ut))return[ft,pt];et.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${lt}, breakAxis:${at.breakAxis}`)}let dt=lt.slice(0);it&&(ut*=2,dt=dt.map((ft,pt)=>pt>=dt.length-2?dt[pt]%2==0?dt[pt]:dt[pt]+1:dt[pt]),dt.length===1&&(dt=[2,dt[0]])),dt.length!==2&&(dt=nt(dt).newShape);const ht=st(dt);return dt.length<=1&&ht<=ut?[1,ht]:dt.length===2&&dt[0]<=ut&&dt[1]<=ut?dt:dt.length===3&&dt[0]*dt[1]<=ut&&dt[2]<=ut?[dt[0]*dt[1],dt[2]]:dt.length===3&&dt[0]<=ut&&dt[1]*dt[2]<=ut?[dt[0],dt[1]*dt[2]]:dt.length===4&&dt[0]*dt[1]*dt[2]<=ut&&dt[3]<=ut?[dt[0]*dt[1]*dt[2],dt[3]]:dt.length===4&&dt[0]<=ut&&dt[1]*dt[2]*dt[3]<=ut?[dt[0],dt[1]*dt[2]*dt[3]]:it?ct(ht/4).map(ft=>2*ft):ct(ht)}},$.squeezeShape=nt,$.parseAxisParam=rt,$.isInt=ot,$.sizeFromShape=st,$.getRowsCols=function(lt){if(lt.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[lt.length>1?lt[lt.length-2]:1,lt[lt.length-1]]},$.sizeToSquarishShape=ct,$.getBatchDim=function(lt,at=2){return st(lt.slice(0,lt.length-at))}},3314:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createTextureLayoutFromShape=$.calculateTextureWidthAndHeight=$.createTextureLayoutFromTextureType=void 0;const et=_e(7273),tt=_e(5639);$.createTextureLayoutFromTextureType=(nt,rt,ot)=>{const st=ot===tt.TextureType.unpacked||ot===tt.TextureType.unpackedReversed?1:4,ct=ot===tt.TextureType.packed,lt=ot===tt.TextureType.unpackedReversed||ot===tt.TextureType.packed,at=ot===tt.TextureType.packedLastDimension?rt.length-1:void 0,it=ot===tt.TextureType.packedLastDimension?rt.map((ut,dt)=>dt===rt.length-1?4*ut:ut):void 0;return(0,$.createTextureLayoutFromShape)(nt,rt,st,it,{isPacked:ct,reverseWH:lt,breakAxis:at})},$.calculateTextureWidthAndHeight=(nt,rt,ot)=>{const st=(0,$.createTextureLayoutFromTextureType)(nt,rt,ot);return[st.width,st.height]},$.createTextureLayoutFromShape=(nt,rt,ot=1,st,ct)=>{const lt=!(!ct||!ct.isPacked),[at,it]=nt.computeTextureWH(lt&&st||rt,ct),ut=rt.length;let dt=rt.slice(0);if(ut===0&&(dt=[1]),ot===1)st=rt;else if(lt){if(ot!==4)throw new Error("a packed texture must be 4-channel");st=rt,ut>0&&(dt[ut-1]=Math.ceil(dt[ut-1]/2)),ut>1&&(dt[ut-2]=Math.ceil(dt[ut-2]/2))}else if(!st)throw new Error("Unpacked shape is needed when using channels > 1");return{width:at,height:it,channels:ot,isPacked:lt,shape:dt,strides:et.ShapeUtil.computeStrides(dt),unpackedShape:st,reversedWH:ct&&ct.reverseWH}}},5243:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextureManager=void 0;const et=_e(1315);$.TextureManager=class{constructor(tt,nt,rt,ot){this.glContext=tt,this.layoutStrategy=nt,this.profiler=rt,this.config=ot,this.pendingRead=new Map,ot.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(tt,nt,rt,ot){const st=this.toEncoderType(tt),ct=this.glContext.getEncoder(st,nt.channels||1,ot);if(nt.isPacked&&ot===1)throw new Error("not implemented");const lt=nt.width,at=nt.height;let it,ut;if(this.config.reuseTextures){it=`${lt}x${at}_${ct.format}_${ct.internalFormat}_${ct.textureType}`,ut=this.inUseTextures.get(it),ut||(ut=[],this.inUseTextures.set(it,ut));const ht=this.idleTextures.get(it);if(ht&&ht.length>0){const ft=ht.pop();return ut.push(ft),ot===1&&this.glContext.updateTexture(ft,lt,at,ct,this.toTextureData(tt,rt)),ft}}et.Logger.verbose("TextureManager",`Creating new texture of size ${nt.width}x${nt.height}`);const dt=this.glContext.allocateTexture(lt,at,ct,this.toTextureData(tt,rt));return this.config.reuseTextures&&(ut.push(dt),this.textureLookup.set(dt,it)),dt}readTexture(tt,nt,rt){return rt||(rt=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const ot=tt.shape.reduce((ct,lt)=>ct*lt)*rt,st=this.glContext.readTexture(tt.texture,tt.width,tt.height,ot,this.toEncoderType(nt),rt);return this.toTensorData(nt,st)})}async readTextureAsync(tt,nt,rt){const ot=tt.tensor.dataId;if(rt||(rt=1),this.pendingRead.has(ot)){const st=this.pendingRead.get(ot);return new Promise(ct=>st==null?void 0:st.push(ct))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(ot,[]);const st=tt.shape.reduce((it,ut)=>it*ut)*rt;await this.glContext.createAndWaitForFence();const ct=this.glContext.readTexture(tt.texture,tt.width,tt.height,st,this.toEncoderType(nt),rt),lt=this.toTensorData(nt,ct),at=this.pendingRead.get(ot);return this.pendingRead.delete(ot),at==null||at.forEach(it=>it(lt)),lt})}readUint8TextureAsFloat(tt){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const nt=tt.shape.reduce((ot,st)=>ot*st),rt=this.glContext.readTexture(tt.texture,tt.width,tt.height,4*nt,"byte",4);return new Float32Array(rt.buffer,rt.byteOffset,nt)})}releaseTexture(tt,nt){let rt;if(this.config.reuseTextures&&(rt=this.textureLookup.get(tt.texture),rt)){nt&&this.textureLookup.delete(rt);const ot=this.inUseTextures.get(rt);if(ot){const st=ot.indexOf(tt.texture);if(st!==-1){ot.splice(st,1);let ct=this.idleTextures.get(rt);ct||(ct=[],this.idleTextures.set(rt,ct)),ct.push(tt.texture)}}}rt&&!nt||(et.Logger.verbose("TextureManager",`Deleting texture of size ${tt.width}x${tt.height}`),this.glContext.deleteTexture(tt.texture))}toTensorData(tt,nt){switch(tt){case"int16":return nt instanceof Int16Array?nt:Int16Array.from(nt);case"int32":return nt instanceof Int32Array?nt:Int32Array.from(nt);case"int8":return nt instanceof Int8Array?nt:Int8Array.from(nt);case"uint16":return nt instanceof Uint16Array?nt:Uint16Array.from(nt);case"uint32":return nt instanceof Uint32Array?nt:Uint32Array.from(nt);case"uint8":case"bool":return nt instanceof Uint8Array?nt:Uint8Array.from(nt);case"float32":return nt instanceof Float32Array?nt:Float32Array.from(nt);case"float64":return nt instanceof Float64Array?nt:Float64Array.from(nt);default:throw new Error(`TensorData type ${tt} is not supported`)}}toTextureData(tt,nt){if(nt)return nt instanceof Float32Array?nt:new Float32Array(nt)}toEncoderType(tt){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},5639:(b,$)=>{var _e;Object.defineProperty($,"__esModule",{value:!0}),$.TextureType=void 0,(_e=$.TextureType||($.TextureType={}))[_e.unpacked=0]="unpacked",_e[_e.unpackedReversed=1]="unpackedReversed",_e[_e.packed=2]="packed",_e[_e.downloadUint8AsFloat=3]="downloadUint8AsFloat",_e[_e.packedLastDimension=4]="packedLastDimension"},432:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getGlChannels=$.getCoordsDataType=$.getSqueezedParams=$.squeezeInputShape=$.generateShaderFuncNameFromInputSamplerNameAtOutCoords=$.generateShaderFuncNameFromInputSamplerName=$.repeatedTry=$.getPackedShape=void 0;const et=_e(7273);$.getPackedShape=function(tt){const nt=tt.length;return tt.slice(0,nt-1).concat(tt[nt-1]/4)},$.repeatedTry=async function(tt,nt=ot=>0,rt){return new Promise((ot,st)=>{let ct=0;const lt=()=>{if(tt())return void ot();ct++;const at=nt(ct);rt!=null&&ct>=rt?st():setTimeout(lt,at)};lt()})},$.generateShaderFuncNameFromInputSamplerName=function(tt){return(0,et.assert)(tt!==void 0&&tt.length!==0,()=>"empty string found for sampler name"),"get"+tt.charAt(0).toUpperCase()+tt.slice(1)},$.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(tt){return(0,et.assert)(tt!==void 0&&tt.length!==0,()=>"empty string found for sampler name"),"get"+tt.charAt(0).toUpperCase()+tt.slice(1)+"AtOutCoords"},$.squeezeInputShape=function(tt,nt){let rt=JSON.parse(JSON.stringify(tt));return rt=nt,rt},$.getSqueezedParams=function(tt,nt){return nt.map(rt=>tt[rt]).join(", ")},$.getCoordsDataType=function(tt){if(tt<=1)return"int";if(tt===2)return"ivec2";if(tt===3)return"ivec3";if(tt===4)return"ivec4";if(tt===5)return"ivec5";if(tt===6)return"ivec6";throw Error(`GPU for rank ${tt} is not yet supported`)},$.getGlChannels=function(tt=6){return["x","y","z","w","u","v"].slice(0,tt)}},3389:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createNewWebGLContext=$.createWebGLContext=void 0;const et=_e(1315),tt=_e(3524),nt={};function rt(ot){const st=function(){if(typeof document>"u"){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const at=document.createElement("canvas");return at.width=1,at.height=1,at}();let ct;const lt={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!ot||ot==="webgl2")&&(ct=st.getContext("webgl2",lt),ct))try{return new tt.WebGLContext(ct,2)}catch(at){et.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${at}`)}if((!ot||ot==="webgl")&&(ct=st.getContext("webgl",lt)||st.getContext("experimental-webgl",lt),ct))try{return new tt.WebGLContext(ct,1)}catch(at){et.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${at}`)}throw new Error("WebGL is not supported")}$.createWebGLContext=function ot(st){let ct;st&&st!=="webgl2"||!("webgl2"in nt)?st&&st!=="webgl"||!("webgl"in nt)||(ct=nt.webgl):ct=nt.webgl2,ct=ct||rt(st),st=st||ct.version===1?"webgl":"webgl2";const lt=ct.gl;return nt[st]=ct,lt.isContextLost()?(delete nt[st],ot(st)):(lt.disable(lt.DEPTH_TEST),lt.disable(lt.STENCIL_TEST),lt.disable(lt.BLEND),lt.disable(lt.DITHER),lt.disable(lt.POLYGON_OFFSET_FILL),lt.disable(lt.SAMPLE_COVERAGE),lt.enable(lt.SCISSOR_TEST),lt.enable(lt.CULL_FACE),lt.cullFace(lt.BACK),ct)},$.createNewWebGLContext=rt},3524:function(b,$,_e){var et=this&&this.__createBinding||(Object.create?function(lt,at,it,ut){ut===void 0&&(ut=it);var dt=Object.getOwnPropertyDescriptor(at,it);dt&&!("get"in dt?!at.__esModule:dt.writable||dt.configurable)||(dt={enumerable:!0,get:function(){return at[it]}}),Object.defineProperty(lt,ut,dt)}:function(lt,at,it,ut){ut===void 0&&(ut=it),lt[ut]=at[it]}),tt=this&&this.__setModuleDefault||(Object.create?function(lt,at){Object.defineProperty(lt,"default",{enumerable:!0,value:at})}:function(lt,at){lt.default=at}),nt=this&&this.__importStar||function(lt){if(lt&&lt.__esModule)return lt;var at={};if(lt!=null)for(var it in lt)it!=="default"&&Object.prototype.hasOwnProperty.call(lt,it)&&et(at,lt,it);return tt(at,lt),at};Object.defineProperty($,"__esModule",{value:!0}),$.WebGLContext=$.linearSearchLastTrue=void 0;const rt=_e(8453),ot=nt(_e(9622)),st=_e(432);function ct(lt){let at=0;for(;at<lt.length&&lt[at]();++at);return at-1}$.linearSearchLastTrue=ct,$.WebGLContext=class{constructor(lt,at){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=lt,this.version=at,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(lt,at,it,ut){const dt=this.gl,ht=dt.createTexture();dt.bindTexture(dt.TEXTURE_2D,ht),dt.texParameteri(dt.TEXTURE_2D,dt.TEXTURE_MIN_FILTER,dt.NEAREST),dt.texParameteri(dt.TEXTURE_2D,dt.TEXTURE_MAG_FILTER,dt.NEAREST),dt.texParameteri(dt.TEXTURE_2D,dt.TEXTURE_WRAP_S,dt.CLAMP_TO_EDGE),dt.texParameteri(dt.TEXTURE_2D,dt.TEXTURE_WRAP_T,dt.CLAMP_TO_EDGE);const ft=ut?it.encode(ut,lt*at):null;return dt.texImage2D(dt.TEXTURE_2D,0,it.internalFormat,lt,at,0,it.format,it.textureType,ft),this.checkError(),ht}updateTexture(lt,at,it,ut,dt){const ht=this.gl;ht.bindTexture(ht.TEXTURE_2D,lt);const ft=ut.encode(dt,at*it);ht.texSubImage2D(ht.TEXTURE_2D,0,0,0,at,it,ut.format,ut.textureType,ft),this.checkError()}attachFramebuffer(lt,at,it){const ut=this.gl;ut.bindTexture(ut.TEXTURE_2D,lt),ut.bindFramebuffer(ut.FRAMEBUFFER,this.framebuffer),ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0,ut.TEXTURE_2D,lt,0),this.checkError(),ut.viewport(0,0,at,it),ut.scissor(0,0,at,it)}readTexture(lt,at,it,ut,dt,ht){const ft=this.gl;ht||(ht=1),this.frameBufferBound||this.attachFramebuffer(lt,at,it);const pt=this.getEncoder(dt,ht),mt=pt.allocate(at*it);return ft.bindTexture(ft.TEXTURE_2D,lt),ft.framebufferTexture2D(ft.FRAMEBUFFER,ft.COLOR_ATTACHMENT0,ft.TEXTURE_2D,lt,0),ft.readPixels(0,0,at,it,ft.RGBA,pt.textureType,mt),this.checkError(),pt.decode(mt,ut)}isFramebufferReady(){return!0}getActiveTexture(){const lt=this.gl;return"TEXTURE"+(lt.getParameter(this.gl.ACTIVE_TEXTURE)-lt.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(lt,at){const it=this.gl;it.vertexAttribPointer(lt,3,it.FLOAT,!1,20,0),it.enableVertexAttribArray(lt),at!==-1&&(it.vertexAttribPointer(at,2,it.FLOAT,!1,20,12),it.enableVertexAttribArray(at)),this.checkError()}createProgram(lt,at){const it=this.gl,ut=it.createProgram();return it.attachShader(ut,lt),it.attachShader(ut,at),it.linkProgram(ut),ut}compileShader(lt,at){const it=this.gl,ut=it.createShader(at);if(!ut)throw new Error(`createShader() returned null with type ${at}`);if(it.shaderSource(ut,lt),it.compileShader(ut),it.getShaderParameter(ut,it.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${it.getShaderInfoLog(ut)}
Shader source:
${lt}`);return ut}deleteShader(lt){this.gl.deleteShader(lt)}bindTextureToUniform(lt,at,it){const ut=this.gl;ut.activeTexture(ut.TEXTURE0+at),this.checkError(),ut.bindTexture(ut.TEXTURE_2D,lt),this.checkError(),ut.uniform1i(it,at),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(rt.env.debug){const lt=this.gl,at=lt.getError();let it="";switch(at){case lt.NO_ERROR:return;case lt.INVALID_ENUM:it="INVALID_ENUM";break;case lt.INVALID_VALUE:it="INVALID_VALUE";break;case lt.INVALID_OPERATION:it="INVALID_OPERATION";break;case lt.INVALID_FRAMEBUFFER_OPERATION:it="INVALID_FRAMEBUFFER_OPERATION";break;case lt.OUT_OF_MEMORY:it="OUT_OF_MEMORY";break;case lt.CONTEXT_LOST_WEBGL:it="CONTEXT_LOST_WEBGL";break;default:it=`Unknown WebGL Error: ${at.toString(16)}`}throw new Error(it)}}deleteTexture(lt){this.gl.deleteTexture(lt)}deleteProgram(lt){this.gl.deleteProgram(lt)}getEncoder(lt,at,it=0){if(this.version===2)return new ot.RedFloat32DataEncoder(this.gl,at);switch(lt){case"float":return it===1||this.isRenderFloat32Supported?new ot.RGBAFloatDataEncoder(this.gl,at):new ot.RGBAFloatDataEncoder(this.gl,at,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new ot.Uint8DataEncoder(this.gl,at);default:throw new Error(`Invalid dataType: ${lt}`)}}clearActiveTextures(){const lt=this.gl;for(let at=0;at<this.maxTextureImageUnits;++at)lt.activeTexture(lt.TEXTURE0+at),lt.bindTexture(lt.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const lt=this.gl;lt.bindFramebuffer(lt.FRAMEBUFFER,null),lt.deleteFramebuffer(this.framebuffer),lt.bindBuffer(lt.ARRAY_BUFFER,null),lt.deleteBuffer(this.vertexbuffer),lt.bindBuffer(lt.ELEMENT_ARRAY_BUFFER,null),lt.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const lt=this.gl,at=lt.createBuffer();if(!at)throw new Error("createBuffer() returned null");const it=this.createDefaultGeometry();return lt.bindBuffer(lt.ARRAY_BUFFER,at),lt.bufferData(lt.ARRAY_BUFFER,it,lt.STATIC_DRAW),this.checkError(),at}createFramebuffer(){const lt=this.gl.createFramebuffer();if(!lt)throw new Error("createFramebuffer returned null");return lt}queryVitalParameters(){const lt=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=lt.getParameter(lt.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=lt.getParameter(lt.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const lt=this.gl,at=lt.createTexture();lt.bindTexture(lt.TEXTURE_2D,at);const it=this.version===2?lt.RGBA32F:lt.RGBA;lt.texImage2D(lt.TEXTURE_2D,0,it,1,1,0,lt.RGBA,lt.FLOAT,null);const ut=lt.createFramebuffer();lt.bindFramebuffer(lt.FRAMEBUFFER,ut),lt.framebufferTexture2D(lt.FRAMEBUFFER,lt.COLOR_ATTACHMENT0,lt.TEXTURE_2D,at,0);const dt=lt.checkFramebufferStatus(lt.FRAMEBUFFER)===lt.FRAMEBUFFER_COMPLETE;return lt.bindTexture(lt.TEXTURE_2D,null),lt.bindFramebuffer(lt.FRAMEBUFFER,null),lt.deleteTexture(at),lt.deleteFramebuffer(ut),dt}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const lt=this.gl;let at,it,ut,dt,ht;try{at=lt.createTexture(),it=lt.createFramebuffer(),lt.bindTexture(lt.TEXTURE_2D,at);const ft=this.version===2?lt.RGBA32F:lt.RGBA;return lt.texImage2D(lt.TEXTURE_2D,0,ft,1,1,0,lt.RGBA,lt.FLOAT,null),lt.bindFramebuffer(lt.FRAMEBUFFER,it),lt.framebufferTexture2D(lt.FRAMEBUFFER,lt.COLOR_ATTACHMENT0,lt.TEXTURE_2D,at,0),lt.enable(lt.BLEND),ut=lt.createShader(lt.VERTEX_SHADER),!!ut&&(lt.shaderSource(ut,"void main(){}"),lt.compileShader(ut),dt=lt.createShader(lt.FRAGMENT_SHADER),!!dt&&(lt.shaderSource(dt,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),lt.compileShader(dt),ht=lt.createProgram(),!!ht&&(lt.attachShader(ht,ut),lt.attachShader(ht,dt),lt.linkProgram(ht),lt.useProgram(ht),lt.drawArrays(lt.POINTS,0,1),lt.getError()===lt.NO_ERROR)))}finally{lt.disable(lt.BLEND),ht&&lt.deleteProgram(ht),ut&&lt.deleteShader(ut),dt&&lt.deleteShader(dt),it&&(lt.bindFramebuffer(lt.FRAMEBUFFER,null),lt.deleteFramebuffer(it)),at&&(lt.bindTexture(lt.TEXTURE_2D,null),lt.deleteTexture(at))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const lt=this.gl,at=this.disjointTimerQueryWebgl2Extension,it=lt.createQuery();return lt.beginQuery(at.TIME_ELAPSED_EXT,it),it}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const lt=this.gl,at=this.disjointTimerQueryWebgl2Extension;lt.endQuery(at.TIME_ELAPSED_EXT)}}isTimerResultAvailable(lt){let at=!1,it=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const ut=this.gl,dt=this.disjointTimerQueryWebgl2Extension;at=ut.getQueryParameter(lt,ut.QUERY_RESULT_AVAILABLE),it=ut.getParameter(dt.GPU_DISJOINT_EXT)}return at&&!it}getTimerResult(lt){let at=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const it=this.gl;at=it.getQueryParameter(lt,it.QUERY_RESULT),it.deleteQuery(lt)}return at/1e6}async waitForQueryAndGetTime(lt){return await(0,st.repeatedTry)(()=>this.isTimerResultAvailable(lt)),this.getTimerResult(lt)}async createAndWaitForFence(){const lt=this.createFence(this.gl);return this.pollFence(lt)}createFence(lt){let at;const it=lt,ut=it.fenceSync(it.SYNC_GPU_COMMANDS_COMPLETE,0);return lt.flush(),at=ut===null?()=>!0:()=>{const dt=it.clientWaitSync(ut,0,0);return dt===it.ALREADY_SIGNALED||dt===it.CONDITION_SATISFIED},{query:ut,isFencePassed:at}}async pollFence(lt){return new Promise(at=>{this.addItemToPoll(()=>lt.isFencePassed(),()=>at())})}pollItems(){const lt=ct(this.itemsToPoll.map(at=>at.isDoneFn));for(let at=0;at<=lt;++at){const{resolveFn:it}=this.itemsToPoll[at];it()}this.itemsToPoll=this.itemsToPoll.slice(lt+1)}async addItemToPoll(lt,at){this.itemsToPoll.push({isDoneFn:lt,resolveFn:at}),this.itemsToPoll.length>1||await(0,st.repeatedTry)(()=>(this.pollItems(),this.itemsToPoll.length===0))}}},6496:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ExecutionPlan=void 0;const et=_e(1315);class tt{constructor(rt,ot){this.op=rt,this.node=ot}}$.ExecutionPlan=class{constructor(nt,rt,ot){this.graph=nt,this.profiler=ot,this.initialize(rt)}initialize(nt){this.profiler.event("session","ExecutionPlan.initialize",()=>{const rt=this.graph.getNodes();if(rt.length!==nt.length)throw new Error("The size of nodes and OPs do not match.");this._ops=nt.map((ot,st)=>new tt(ot,rt[st])),this.reset(),this._starter=[],this._ops.forEach((ot,st)=>{let ct=!0;for(const lt of ot.node.inputs)if(!this._values[lt]&&this.graph.getInputIndices().indexOf(lt)===-1){ct=!1;break}ct&&this._starter.push(st)})})}reset(){this._values=this.graph.getValues().map(nt=>nt.tensor)}async execute(nt,rt){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const ot=nt.createInferenceHandler(),st=this.graph.getInputIndices();if(rt.length!==st.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${rt.length} expected: ${st.length}`);rt.forEach((dt,ht)=>{const ft=st[ht];this._values[ft]=dt});const ct=this._starter.slice(0),lt=this.graph.getValues(),at=this.graph.getNodes();let it=0;for(;it<ct.length;){const dt=ct[it++],ht=this._ops[dt],ft=ht.node.inputs.map(vt=>this._values[vt]);if(ft.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${ht.node}`);const pt=ft;et.Logger.verbose("ExecPlan",`Runing op:${ht.node.name} (${pt.map((vt,yt)=>`'${ht.node.inputs[yt]}': ${vt.type}[${vt.dims.join(",")}]`).join(", ")})`);const mt=await this.profiler.event("node",ht.node.name,async()=>ht.op.impl(ot,pt,ht.op.context));if(mt.length!==ht.node.outputs.length)throw new Error("the size of output does not match model definition.");mt.forEach((vt,yt)=>{const bt=ht.node.outputs[yt];if(this._values[bt])throw new Error(`output [${bt}] already has value: op:${ht.node.name}`);this._values[bt]=vt});const gt=new Set;mt.forEach((vt,yt)=>{const bt=ht.node.outputs[yt];for(const xt of lt[bt].to){const _t=at[xt];let wt=!0;for(const At of _t.inputs)if(!this._values[At]){wt=!1;break}wt&&gt.add(xt)}}),ct.push(...gt)}const ut=[];for(let dt=0;dt<this.graph.getOutputIndices().length;dt++){const ht=this.graph.getOutputIndices()[dt],ft=this._values[ht];if(ft===void 0)throw new Error(`required output [${ht}] does not have value`);ht===0?await ft.getData():ft.data,ut.push(ft)}return et.Logger.verbose("ExecPlan","disposing of inferenceHandler"),ot.dispose(),ut})}}},4662:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.Graph=void 0;const et=_e(1446),tt=_e(6874),nt=_e(1287),rt=_e(9240),ot=_e(7273);var st=nt.onnxruntime.experimental.fbs;$.Graph={from:(it,ut)=>new at(it,ut)};class ct{constructor(ut){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,ut&&(this.type=ot.ProtoUtil.tensorValueTypeFromProto(ut.type.tensorType))}get from(){return this._from}get to(){return this._to}}class lt{constructor(ut,dt){ut instanceof et.onnx.NodeProto?(this.name=ut.name,this.opType=ut.opType,this.attributes=new tt.Attribute(ut.attribute)):ut instanceof st.Node&&(this.name=dt??ut.name(),this.opType=ut.opType(),this.attributes=new tt.Attribute(ot.ProtoUtil.tensorAttributesFromORTFormat(ut))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class at{constructor(ut,dt){if(!ut)throw new TypeError("graph is empty");this.buildGraph(ut),this.transformGraph(dt),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(ut){if(ut instanceof et.onnx.GraphProto)this.buildGraphFromOnnxFormat(ut);else{if(!(ut instanceof st.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(ut)}}buildGraphFromOnnxFormat(ut){const dt=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const ht=new Map;if(!ut.input)throw new Error("missing information in graph: input");const ft=[];for(const pt of ut.input){if(dt.has(pt.name))throw new Error(`duplicated input name: ${pt.name}`);const mt=this._allData.push(new ct(pt))-1;dt.set(pt.name,mt),ft.push(pt.name)}if(!ut.initializer)throw new Error("missing information in graph: initializer");for(const pt of ut.initializer){let mt=dt.get(pt.name);if(mt===void 0){const gt=new ct;gt.type={shape:{dims:ot.ProtoUtil.tensorDimsFromProto(pt.dims)},tensorType:ot.ProtoUtil.tensorDataTypeFromProto(pt.dataType)},mt=this._allData.push(gt)-1,dt.set(pt.name,mt)}this._allData[mt]._from=-1,this._allData[mt].tensor=rt.Tensor.fromProto(pt)}for(let pt=0;pt<this._allData.length;pt++)this._allData[pt].tensor||(this._allInputIndices.push(pt),this._allInputNames.push(ft[pt]));if(!ut.output)throw new Error("missing information in graph: output");for(const pt of ut.output){if(dt.has(pt.name))throw new Error(`duplicated output name: ${pt.name}`);const mt=this._allData.push(new ct(pt))-1;dt.set(pt.name,mt),this._allOutputIndices.push(mt),this._allOutputNames.push(pt.name)}if(!ut.node)throw new Error("missing information in graph: node");for(const pt of ut.node){if(!pt.name)for(let gt=0;;gt++){const vt=`unnamed_${pt.opType}_${gt}`;if(!ht.has(vt)){pt.name=vt;break}}if(ht.has(pt.name))throw new Error(`duplicated node name: ${pt.name}`);const mt=this._nodes.push(new lt(pt))-1;ht.set(pt.name,mt)}for(let pt=0;pt<this._nodes.length;pt++){const mt=this._nodes[pt],gt=ut.node[pt];if(!gt.output)throw new Error(`missing output for node: ${gt.name}`);for(const vt of gt.output){let yt=dt.get(vt);if(yt===void 0&&(yt=this._allData.push(new ct)-1,dt.set(vt,yt)),mt.outputs.push(yt),this._allData[yt]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${yt}`);if(this._allData[yt]._from=pt,gt.opType==="Constant"){if(!gt.attribute||gt.attribute.length!==1||!gt.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!gt.output||gt.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");mt.outputs.pop(),mt.executeNode=!1,this._allData[yt]._from=-1,this._allData[yt].tensor=rt.Tensor.fromProto(gt.attribute[0].t)}}}for(let pt=0;pt<this._nodes.length;pt++){const mt=this._nodes[pt],gt=ut.node[pt];if(!gt.input)throw new Error(`missing input for node: ${gt.name}`);for(const vt of gt.input){const yt=dt.get(vt);if(yt===void 0){if(vt===""&&gt.input.length===3&&gt.opType==="Resize")continue;throw new Error(`unrecognized input '${vt}' for node: ${gt.name}`)}mt.inputs.push(yt),this._allData[yt]._to.push(pt)}}return!0}buildGraphFromOrtFormat(ut){var dt,ht,ft;const pt=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const mt=new Map,gt=[];for(let vt=0;vt<ut.inputsLength();vt++){const yt=ut.inputs(vt);if(pt.has(yt))throw new Error(`duplicated input name: ${yt}`);for(let bt=0;bt<ut.nodeArgsLength();bt++)if(((dt=ut.nodeArgs(bt))===null||dt===void 0?void 0:dt.name())===yt){const xt=new ct;if(((ft=(ht=ut.nodeArgs(bt))===null||ht===void 0?void 0:ht.type())===null||ft===void 0?void 0:ft.valueType())!==st.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const _t=ut.nodeArgs(bt).type().value(new st.TensorTypeAndShape),wt=ot.ProtoUtil.tensorDataTypeFromProto(_t.elemType()),At=_t.shape(),Pt=[];for(let kt=0;kt<At.dimLength();kt++)Pt.push(ot.LongUtil.longToNumber(At.dim(kt).value().dimValue()));xt.type={shape:{dims:Pt},tensorType:wt};const jt=this._allData.push(xt)-1;pt.set(yt,jt),gt.push(yt)}}for(let vt=0;vt<ut.initializersLength();vt++){const yt=ut.initializers(vt);let bt=pt.get(yt.name());if(bt===void 0){const xt=new ct,_t=ot.ProtoUtil.tensorDimsFromORTFormat(yt),wt=ot.ProtoUtil.tensorDataTypeFromProto(yt.dataType());xt.type={shape:{dims:_t},tensorType:wt},bt=this._allData.push(xt)-1,pt.set(yt.name(),bt)}this._allData[bt]._from=-1,this._allData[bt].tensor=rt.Tensor.fromOrtTensor(yt)}for(let vt=0;vt<this._allData.length;vt++)this._allData[vt].tensor||(this._allInputIndices.push(vt),this._allInputNames.push(gt[vt]));for(let vt=0;vt<ut.outputsLength();vt++){const yt=ut.outputs(vt);if(pt.has(yt))throw new Error(`duplicated output name: ${yt}`);const bt=this._allData.push(new ct)-1;pt.set(yt,bt),this._allOutputIndices.push(bt),this._allOutputNames.push(yt)}if(!ut.nodes)throw new Error("missing information in graph: node");for(let vt=0;vt<ut.nodesLength();vt++){const yt=ut.nodes(vt);let bt=yt.name();if(!bt)for(let _t=0;bt=`unnamed_${yt.opType()}_${_t}`,mt.has(bt);_t++);if(mt.has(bt))throw new Error(`duplicated node name: ${bt}`);const xt=this._nodes.push(new lt(yt,bt))-1;mt.set(bt,xt)}for(let vt=0;vt<this._nodes.length;vt++){const yt=this._nodes[vt],bt=ut.nodes(vt);if(bt==null)throw new Error(`No node exists at index ${vt}`);if((bt==null?void 0:bt.outputsLength())===0)throw new Error(`missing output for node: ${bt.name}`);for(let xt=0;xt<(bt==null?void 0:bt.outputsLength());xt++){const _t=bt==null?void 0:bt.outputs(xt);let wt=pt.get(_t);if(wt===void 0&&(wt=this._allData.push(new ct)-1,pt.set(_t,wt)),yt.outputs.push(wt),this._allData[wt]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${wt}`);if(this._allData[wt]._from=vt,bt.opType()==="Constant"){if(bt.attributesLength()!==1||!bt.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(bt.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");yt.outputs.pop(),yt.executeNode=!1,this._allData[wt]._from=-1,this._allData[wt].tensor=rt.Tensor.fromOrtTensor(bt.attributes(0).t())}}}for(let vt=0;vt<this._nodes.length;vt++){const yt=this._nodes[vt],bt=ut.nodes(vt);if(bt.inputsLength()===0)throw new Error(`missing input for node: ${bt.name}`);for(let xt=0;xt<bt.inputsLength();xt++){const _t=bt.inputs(xt),wt=pt.get(_t);if(wt===void 0)throw new Error(`unrecognized input '${_t}' for node: ${bt.name()}`);yt.inputs.push(wt),this._allData[wt]._to.push(vt)}}}checkIsAcyclic(){const ut=new Set;this._allInputIndices.forEach(ft=>{this._allData[ft]._to.forEach(pt=>{ut.add(pt)})});const dt=Array.from(ut),ht=new Array(this._nodes.length).fill("white");for(;dt.length>0;){const ft=dt.pop();ht[ft]==="gray"?ht[ft]="black":(dt.push(ft),ht[ft]="gray",this._nodes[ft].outputs.forEach(pt=>{const mt=this._allData[pt];if(mt.tensor!==void 0)throw new Error("node outputs should not be initialized");if(mt._from!==ft)throw new Error("from property of the Value object doesn't match index of Node being processed");mt._to.forEach(gt=>{if(ht[gt]==="gray")throw new Error("model graph is cyclic");ht[gt]==="white"&&dt.push(gt)})}))}}transformGraph(ut){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),ut&&ut.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let ut=0;const dt=new Array(this._nodes.length,0);let ht=0;for(let ft=0;ft<this._nodes.length;ft++)dt[ft]=ht,this._nodes[ft].executeNode?(ht!==ft&&(this._nodes[ht]=this._nodes[ft]),ht++):this._nodes[ft].outputs.forEach(pt=>{this._allData[pt]._from=-2});this._nodes.splice(ht,this._nodes.length-ht);for(let ft=0;ft<this._allData.length;ft++){const pt=this._allData[ft];pt._from!==void 0&&pt._from!==-1&&pt._from!==-2&&(pt._from=dt[pt._from]);for(let mt=0;mt<pt._to.length;mt++){if(!(pt._to[mt]>=0))throw new Error("Trying to update a removed node");pt._to[mt]=dt[pt._to[mt]]}}ut=0;for(let ft=0;ft<this._allData.length;ft++)if(this._allData[ft].from!==-2||this._allOutputIndices.indexOf(ft+ut)!==-1){if(ut>0){let pt=-1;this._allData[ft].from!==void 0&&this._allData[ft].from!==-1?(pt=this._nodes[this._allData[ft].from].outputs.indexOf(ft+ut),pt!==-1&&(this._nodes[this._allData[ft].from].outputs[pt]=ft)):(pt=this._allInputIndices.indexOf(ft+ut),pt!==-1&&(this._allInputIndices[pt]=ft)),this._allData[ft].to.forEach(mt=>{pt=this._nodes[mt].inputs.indexOf(ft+ut),pt!==-1&&(this._nodes[mt].inputs[pt]=ft)}),this._allData[ft].to.length===0&&(pt=this._allOutputIndices.indexOf(ft+ut),pt!==-1&&(this._allOutputIndices[pt]=ft))}}else ut++,this._allData.splice(ft,1),ft--}deleteNode(ut){const dt=this._nodes[ut];if(dt.outputs.length>1){for(let gt=1;gt<dt.outputs.length;gt++)if(this._allData[dt.outputs[gt]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}dt.executeNode=!1;const ht=dt.inputs[0],ft=dt.outputs[0],pt=this._allData[ft].to;for(let gt=0;gt<dt.inputs.length;gt++){const vt=this._allData[dt.inputs[gt]].to.indexOf(ut);if(vt===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[dt.inputs[gt]].to.splice(vt,1)}this._allData[ft]._to=[];const mt=this._allOutputIndices.indexOf(ft);if(mt!==-1&&(this._allOutputIndices[mt]=ht),pt&&pt.length>0)for(const gt of pt){const vt=this._nodes[gt].inputs.indexOf(ft);if(vt===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[gt].inputs[vt]=ht,this._allData[ht].to.push(gt)}}removeAllDropoutNodes(){let ut=0;for(const dt of this._nodes){if(dt.opType==="Dropout"){if(dt.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(dt.outputs.length!==1&&dt.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(dt.outputs.length===2&&this._allData[dt.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(ut)}ut++}}removeAllIdentityNodes(){let ut=0;for(const dt of this._nodes)dt.opType==="Identity"&&this.deleteNode(ut),ut++}isActivation(ut){switch(ut.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const ut of this._nodes)if(ut.opType==="Conv"){const dt=this._allData[ut.outputs[0]]._to;if(dt.length===1&&this.isActivation(this._nodes[dt[0]])){const ht=this._nodes[dt[0]];if(ht.opType==="Clip")if(ht.inputs.length===1)try{ut.attributes.set("activation_params","floats",[ht.attributes.getFloat("min"),ht.attributes.getFloat("max")])}catch{ut.attributes.set("activation_params","floats",[ot.MIN_CLIP,ot.MAX_CLIP])}else{if(!(ht.inputs.length>=3&&this._allData[ht.inputs[1]].tensor!==void 0&&this._allData[ht.inputs[2]].tensor!==void 0))continue;ut.attributes.set("activation_params","floats",[this._allData[ht.inputs[1]].tensor.floatData[0],this._allData[ht.inputs[2]].tensor.floatData[0]])}ut.attributes.set("activation","string",ht.opType),this.deleteNode(dt[0])}}}}},1315:(b,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.now=$.Profiler=$.Logger=void 0;const _e={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},et={none:new class{log(lt,at,it){}},console:new class{log(lt,at,it){console.log(`${this.color(lt)} ${it?"\x1B[35m"+it+"\x1B[0m ":""}${at}`)}color(lt){switch(lt){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${lt}`)}}}},tt={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let nt={"":tt};function rt(lt,at,it,ut){if(at===void 0)return dt=lt,{verbose:rt.verbose.bind(null,dt),info:rt.info.bind(null,dt),warning:rt.warning.bind(null,dt),error:rt.error.bind(null,dt),fatal:rt.fatal.bind(null,dt)};if(it===void 0)ot(lt,at);else if(typeof it=="number"&&ut===void 0)ot(lt,at);else if(typeof it=="string"&&ut===void 0)ot(lt,it,0,at);else{if(typeof it!="string"||typeof ut!="number")throw new TypeError("input is valid");ot(lt,it,0,at)}var dt}function ot(lt,at,it,ut){const dt=nt[ut||""]||nt[""];_e[lt]<_e[dt.minimalSeverity]||(dt.logDateTime&&(at=`${new Date().toISOString()}|${at}`),dt.logSourceLocation,et[dt.provider].log(lt,at,ut))}(function(lt){function at(ut){nt={},it("",ut||{})}function it(ut,dt){if(ut==="*")at(dt);else{const ht=nt[ut]||tt;nt[ut]={provider:dt.provider||ht.provider,minimalSeverity:dt.minimalSeverity||ht.minimalSeverity,logDateTime:dt.logDateTime===void 0?ht.logDateTime:dt.logDateTime,logSourceLocation:dt.logSourceLocation===void 0?ht.logSourceLocation:dt.logSourceLocation}}}lt.verbose=function(ut,dt){lt("verbose",ut,dt)},lt.info=function(ut,dt){lt("info",ut,dt)},lt.warning=function(ut,dt){lt("warning",ut,dt)},lt.error=function(ut,dt){lt("error",ut,dt)},lt.fatal=function(ut,dt){lt("fatal",ut,dt)},lt.reset=at,lt.set=it,lt.setWithEnv=function(ut){const dt={};ut.logLevel&&(dt.minimalSeverity=ut.logLevel),it("",dt)}})(rt||(rt={})),$.Logger=rt;class st{constructor(at,it,ut,dt,ht,ft){this.category=at,this.name=it,this.startTime=ut,this.endCallback=dt,this.timer=ht,this.ctx=ft}async end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class ct{constructor(at,it,ut,dt){this.category=at,this.name=it,this.startTime=ut,this.endTime=dt}}$.Profiler=class{static create(lt){return lt===void 0?new this:new this(lt.maxNumberEvents,lt.flushBatchSize,lt.flushIntervalInMilliseconds)}constructor(lt,at,it){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=lt===void 0?1e4:lt,this._flushBatchSize=at===void 0?10:at,this._flushIntervalInMilliseconds=it===void 0?5e3:it}start(){this._started=!0,this._timingEvents=[],this._flushTime=(0,$.now)(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(lt,at,it,ut){const dt=this._started?this.begin(lt,at,ut):void 0;let ht=!1;const ft=it();if(ft&&typeof ft.then=="function")return ht=!0,new Promise((pt,mt)=>{ft.then(async gt=>{dt&&await dt.end(),pt(gt)},async gt=>{dt&&await dt.end(),mt(gt)})});if(!ht&&dt){const pt=dt.end();if(pt&&typeof pt.then=="function")return new Promise((mt,gt)=>{pt.then(()=>{mt(ft)},vt=>{gt(vt)})})}return ft}begin(lt,at,it){if(!this._started)throw new Error("profiler is not started yet");if(it===void 0){const ut=(0,$.now)();return this.flush(ut),new st(lt,at,ut,dt=>this.endSync(dt))}{const ut=it.beginTimer();return new st(lt,at,0,async dt=>this.end(dt),ut,it)}}async end(lt){const at=await lt.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new ct(lt.category,lt.name,lt.startTime,at)),this.flush(at))}endSync(lt){const at=(0,$.now)();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new ct(lt.category,lt.name,lt.startTime,at)),this.flush(at))}logOneEvent(lt){$.Logger.verbose(`Profiler.${lt.category}`,`${(lt.endTime-lt.startTime).toFixed(2)}ms on event '${lt.name}' at ${lt.endTime.toFixed(2)}`)}flush(lt){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||lt-this._flushTime>=this._flushIntervalInMilliseconds){for(const at=this._flushPointer;this._flushPointer<at+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=(0,$.now)()}}get started(){return this._started}},$.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},1745:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.Model=void 0;const et=_e(5686),tt=_e(1446),nt=_e(4662),rt=_e(1287),ot=_e(7273);var st=rt.onnxruntime.experimental.fbs;$.Model=class{constructor(){}load(ct,lt,at){if(!at)try{return void this.loadFromOnnxFormat(ct,lt)}catch(it){if(at!==void 0)throw it}this.loadFromOrtFormat(ct,lt)}loadFromOnnxFormat(ct,lt){const at=tt.onnx.ModelProto.decode(ct);if(ot.LongUtil.longToNumber(at.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=at.opsetImport.map(it=>({domain:it.domain,version:ot.LongUtil.longToNumber(it.version)})),this._graph=nt.Graph.from(at.graph,lt)}loadFromOrtFormat(ct,lt){const at=new et.flatbuffers.ByteBuffer(ct),it=st.InferenceSession.getRootAsInferenceSession(at).model();if(ot.LongUtil.longToNumber(it.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let ut=0;ut<it.opsetImportLength();ut++){const dt=it.opsetImport(ut);this._opsets.push({domain:dt==null?void 0:dt.domain(),version:ot.LongUtil.longToNumber(dt.version())})}this._graph=nt.Graph.from(it.graph(),lt)}get graph(){return this._graph}get opsets(){return this._opsets}}},6145:(b,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.FLOAT_TYPES=$.INT_TYPES=$.NUMBER_TYPES=void 0,$.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],$.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],$.FLOAT_TYPES=["float32","float64"]},5881:(b,$)=>{function _e(et,tt){if(tt.endsWith("+")){const nt=Number.parseInt(tt.substring(0,tt.length-1),10);return!isNaN(nt)&&nt<=et}if(tt.split("-").length===2){const nt=tt.split("-"),rt=Number.parseInt(nt[0],10),ot=Number.parseInt(nt[1],10);return!isNaN(rt)&&!isNaN(ot)&&rt<=et&&et<=ot}return Number.parseInt(tt,10)===et}Object.defineProperty($,"__esModule",{value:!0}),$.resolveOperator=void 0,$.resolveOperator=function(et,tt,nt){for(const rt of nt){const ot=rt[0],st=rt[1],ct=rt[2],lt=rt[3],at=rt[4];if(et.opType===ot){for(const it of tt)if((it.domain===st||it.domain==="ai.onnx"&&st==="")&&_e(it.version,ct))return{opImpl:lt,opInit:at}}}throw new TypeError(`cannot resolve operator '${et.opType}' with opsets: ${tt.map(rt=>`${rt.domain||"ai.onnx"} v${rt.version}`).join(", ")}`)}},1287:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.onnxruntime=void 0;const et=_e(5686);var tt,nt;tt=$.onnxruntime||($.onnxruntime={}),function(rt){(function(ot){ot[ot.UNDEFINED=0]="UNDEFINED",ot[ot.FLOAT=1]="FLOAT",ot[ot.INT=2]="INT",ot[ot.STRING=3]="STRING",ot[ot.TENSOR=4]="TENSOR",ot[ot.GRAPH=5]="GRAPH",ot[ot.FLOATS=6]="FLOATS",ot[ot.INTS=7]="INTS",ot[ot.STRINGS=8]="STRINGS",ot[ot.TENSORS=9]="TENSORS",ot[ot.GRAPHS=10]="GRAPHS",ot[ot.SPARSE_TENSOR=11]="SPARSE_TENSOR",ot[ot.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(rt.AttributeType||(rt.AttributeType={}))}((nt=tt.experimental||(tt.experimental={})).fbs||(nt.fbs={})),function(rt){(function(ot){(function(st){(function(ct){ct[ct.UNKNOWN=0]="UNKNOWN",ct[ct.VALUE=1]="VALUE",ct[ct.PARAM=2]="PARAM"})(st.DimensionValueType||(st.DimensionValueType={}))})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){(function(ct){ct[ct.UNDEFINED=0]="UNDEFINED",ct[ct.FLOAT=1]="FLOAT",ct[ct.UINT8=2]="UINT8",ct[ct.INT8=3]="INT8",ct[ct.UINT16=4]="UINT16",ct[ct.INT16=5]="INT16",ct[ct.INT32=6]="INT32",ct[ct.INT64=7]="INT64",ct[ct.STRING=8]="STRING",ct[ct.BOOL=9]="BOOL",ct[ct.FLOAT16=10]="FLOAT16",ct[ct.DOUBLE=11]="DOUBLE",ct[ct.UINT32=12]="UINT32",ct[ct.UINT64=13]="UINT64",ct[ct.COMPLEX64=14]="COMPLEX64",ct[ct.COMPLEX128=15]="COMPLEX128",ct[ct.BFLOAT16=16]="BFLOAT16"})(st.TensorDataType||(st.TensorDataType={}))})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){(function(ct){ct[ct.Primitive=0]="Primitive",ct[ct.Fused=1]="Fused"})(st.NodeType||(st.NodeType={}))})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){(function(ct){ct[ct.NONE=0]="NONE",ct[ct.tensor_type=1]="tensor_type",ct[ct.sequence_type=2]="sequence_type",ct[ct.map_type=3]="map_type"})(st.TypeInfoValue||(st.TypeInfoValue={}))})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsShape(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsShape(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}dim(at,it){let ut=this.bb.__offset(this.bb_pos,4);return ut?(it||new rt.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ut)+4*at),this.bb):null}dimLength(){let at=this.bb.__offset(this.bb_pos,4);return at?this.bb.__vector_len(this.bb_pos+at):0}static startShape(at){at.startObject(1)}static addDim(at,it){at.addFieldOffset(0,it,0)}static createDimVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addOffset(it[ut]);return at.endVector()}static startDimVector(at,it){at.startVector(4,it,4)}static endShape(at){return at.endObject()}static createShape(at,it){return ct.startShape(at),ct.addDim(at,it),ct.endShape(at)}}st.Shape=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsDimension(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsDimension(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}value(at){let it=this.bb.__offset(this.bb_pos,4);return it?(at||new rt.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+it),this.bb):null}denotation(at){let it=this.bb.__offset(this.bb_pos,6);return it?this.bb.__string(this.bb_pos+it,at):null}static startDimension(at){at.startObject(2)}static addValue(at,it){at.addFieldOffset(0,it,0)}static addDenotation(at,it){at.addFieldOffset(1,it,0)}static endDimension(at){return at.endObject()}static createDimension(at,it,ut){return ct.startDimension(at),ct.addValue(at,it),ct.addDenotation(at,ut),ct.endDimension(at)}}st.Dimension=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsDimensionValue(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsDimensionValue(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}dimType(){let at=this.bb.__offset(this.bb_pos,4);return at?this.bb.readInt8(this.bb_pos+at):rt.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let at=this.bb.__offset(this.bb_pos,6);return at?this.bb.readInt64(this.bb_pos+at):this.bb.createLong(0,0)}dimParam(at){let it=this.bb.__offset(this.bb_pos,8);return it?this.bb.__string(this.bb_pos+it,at):null}static startDimensionValue(at){at.startObject(3)}static addDimType(at,it){at.addFieldInt8(0,it,rt.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(at,it){at.addFieldInt64(1,it,at.createLong(0,0))}static addDimParam(at,it){at.addFieldOffset(2,it,0)}static endDimensionValue(at){return at.endObject()}static createDimensionValue(at,it,ut,dt){return ct.startDimensionValue(at),ct.addDimType(at,it),ct.addDimValue(at,ut),ct.addDimParam(at,dt),ct.endDimensionValue(at)}}st.DimensionValue=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsTensorTypeAndShape(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsTensorTypeAndShape(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}elemType(){let at=this.bb.__offset(this.bb_pos,4);return at?this.bb.readInt32(this.bb_pos+at):rt.experimental.fbs.TensorDataType.UNDEFINED}shape(at){let it=this.bb.__offset(this.bb_pos,6);return it?(at||new rt.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+it),this.bb):null}static startTensorTypeAndShape(at){at.startObject(2)}static addElemType(at,it){at.addFieldInt32(0,it,rt.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(at,it){at.addFieldOffset(1,it,0)}static endTensorTypeAndShape(at){return at.endObject()}static createTensorTypeAndShape(at,it,ut){return ct.startTensorTypeAndShape(at),ct.addElemType(at,it),ct.addShape(at,ut),ct.endTensorTypeAndShape(at)}}st.TensorTypeAndShape=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsMapType(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsMapType(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}keyType(){let at=this.bb.__offset(this.bb_pos,4);return at?this.bb.readInt32(this.bb_pos+at):rt.experimental.fbs.TensorDataType.UNDEFINED}valueType(at){let it=this.bb.__offset(this.bb_pos,6);return it?(at||new rt.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+it),this.bb):null}static startMapType(at){at.startObject(2)}static addKeyType(at,it){at.addFieldInt32(0,it,rt.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(at,it){at.addFieldOffset(1,it,0)}static endMapType(at){return at.endObject()}static createMapType(at,it,ut){return ct.startMapType(at),ct.addKeyType(at,it),ct.addValueType(at,ut),ct.endMapType(at)}}st.MapType=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsSequenceType(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsSequenceType(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}elemType(at){let it=this.bb.__offset(this.bb_pos,4);return it?(at||new rt.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+it),this.bb):null}static startSequenceType(at){at.startObject(1)}static addElemType(at,it){at.addFieldOffset(0,it,0)}static endSequenceType(at){return at.endObject()}static createSequenceType(at,it){return ct.startSequenceType(at),ct.addElemType(at,it),ct.endSequenceType(at)}}st.SequenceType=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(ot.fbs||(ot.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(st,ct){return this.bb_pos=st,this.bb=ct,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(st,ct,lt,at){return st.prep(4,12),st.writeInt32(at),st.writeInt32(lt),st.writeInt32(ct),st.offset()}}})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsNodeEdge(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsNodeEdge(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}nodeIndex(){let at=this.bb.__offset(this.bb_pos,4);return at?this.bb.readUint32(this.bb_pos+at):0}inputEdges(at,it){let ut=this.bb.__offset(this.bb_pos,6);return ut?(it||new rt.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+ut)+12*at,this.bb):null}inputEdgesLength(){let at=this.bb.__offset(this.bb_pos,6);return at?this.bb.__vector_len(this.bb_pos+at):0}outputEdges(at,it){let ut=this.bb.__offset(this.bb_pos,8);return ut?(it||new rt.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+ut)+12*at,this.bb):null}outputEdgesLength(){let at=this.bb.__offset(this.bb_pos,8);return at?this.bb.__vector_len(this.bb_pos+at):0}static startNodeEdge(at){at.startObject(3)}static addNodeIndex(at,it){at.addFieldInt32(0,it,0)}static addInputEdges(at,it){at.addFieldOffset(1,it,0)}static startInputEdgesVector(at,it){at.startVector(12,it,4)}static addOutputEdges(at,it){at.addFieldOffset(2,it,0)}static startOutputEdgesVector(at,it){at.startVector(12,it,4)}static endNodeEdge(at){return at.endObject()}static createNodeEdge(at,it,ut,dt){return ct.startNodeEdge(at),ct.addNodeIndex(at,it),ct.addInputEdges(at,ut),ct.addOutputEdges(at,dt),ct.endNodeEdge(at)}}st.NodeEdge=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsNode(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsNode(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}name(at){let it=this.bb.__offset(this.bb_pos,4);return it?this.bb.__string(this.bb_pos+it,at):null}docString(at){let it=this.bb.__offset(this.bb_pos,6);return it?this.bb.__string(this.bb_pos+it,at):null}domain(at){let it=this.bb.__offset(this.bb_pos,8);return it?this.bb.__string(this.bb_pos+it,at):null}sinceVersion(){let at=this.bb.__offset(this.bb_pos,10);return at?this.bb.readInt32(this.bb_pos+at):0}index(){let at=this.bb.__offset(this.bb_pos,12);return at?this.bb.readUint32(this.bb_pos+at):0}opType(at){let it=this.bb.__offset(this.bb_pos,14);return it?this.bb.__string(this.bb_pos+it,at):null}type(){let at=this.bb.__offset(this.bb_pos,16);return at?this.bb.readInt32(this.bb_pos+at):rt.experimental.fbs.NodeType.Primitive}executionProviderType(at){let it=this.bb.__offset(this.bb_pos,18);return it?this.bb.__string(this.bb_pos+it,at):null}inputs(at,it){let ut=this.bb.__offset(this.bb_pos,20);return ut?this.bb.__string(this.bb.__vector(this.bb_pos+ut)+4*at,it):null}inputsLength(){let at=this.bb.__offset(this.bb_pos,20);return at?this.bb.__vector_len(this.bb_pos+at):0}outputs(at,it){let ut=this.bb.__offset(this.bb_pos,22);return ut?this.bb.__string(this.bb.__vector(this.bb_pos+ut)+4*at,it):null}outputsLength(){let at=this.bb.__offset(this.bb_pos,22);return at?this.bb.__vector_len(this.bb_pos+at):0}attributes(at,it){let ut=this.bb.__offset(this.bb_pos,24);return ut?(it||new rt.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ut)+4*at),this.bb):null}attributesLength(){let at=this.bb.__offset(this.bb_pos,24);return at?this.bb.__vector_len(this.bb_pos+at):0}inputArgCounts(at){let it=this.bb.__offset(this.bb_pos,26);return it?this.bb.readInt32(this.bb.__vector(this.bb_pos+it)+4*at):0}inputArgCountsLength(){let at=this.bb.__offset(this.bb_pos,26);return at?this.bb.__vector_len(this.bb_pos+at):0}inputArgCountsArray(){let at=this.bb.__offset(this.bb_pos,26);return at?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+at),this.bb.__vector_len(this.bb_pos+at)):null}implicitInputs(at,it){let ut=this.bb.__offset(this.bb_pos,28);return ut?this.bb.__string(this.bb.__vector(this.bb_pos+ut)+4*at,it):null}implicitInputsLength(){let at=this.bb.__offset(this.bb_pos,28);return at?this.bb.__vector_len(this.bb_pos+at):0}static startNode(at){at.startObject(13)}static addName(at,it){at.addFieldOffset(0,it,0)}static addDocString(at,it){at.addFieldOffset(1,it,0)}static addDomain(at,it){at.addFieldOffset(2,it,0)}static addSinceVersion(at,it){at.addFieldInt32(3,it,0)}static addIndex(at,it){at.addFieldInt32(4,it,0)}static addOpType(at,it){at.addFieldOffset(5,it,0)}static addType(at,it){at.addFieldInt32(6,it,rt.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(at,it){at.addFieldOffset(7,it,0)}static addInputs(at,it){at.addFieldOffset(8,it,0)}static createInputsVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addOffset(it[ut]);return at.endVector()}static startInputsVector(at,it){at.startVector(4,it,4)}static addOutputs(at,it){at.addFieldOffset(9,it,0)}static createOutputsVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addOffset(it[ut]);return at.endVector()}static startOutputsVector(at,it){at.startVector(4,it,4)}static addAttributes(at,it){at.addFieldOffset(10,it,0)}static createAttributesVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addOffset(it[ut]);return at.endVector()}static startAttributesVector(at,it){at.startVector(4,it,4)}static addInputArgCounts(at,it){at.addFieldOffset(11,it,0)}static createInputArgCountsVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addInt32(it[ut]);return at.endVector()}static startInputArgCountsVector(at,it){at.startVector(4,it,4)}static addImplicitInputs(at,it){at.addFieldOffset(12,it,0)}static createImplicitInputsVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addOffset(it[ut]);return at.endVector()}static startImplicitInputsVector(at,it){at.startVector(4,it,4)}static endNode(at){return at.endObject()}static createNode(at,it,ut,dt,ht,ft,pt,mt,gt,vt,yt,bt,xt,_t){return ct.startNode(at),ct.addName(at,it),ct.addDocString(at,ut),ct.addDomain(at,dt),ct.addSinceVersion(at,ht),ct.addIndex(at,ft),ct.addOpType(at,pt),ct.addType(at,mt),ct.addExecutionProviderType(at,gt),ct.addInputs(at,vt),ct.addOutputs(at,yt),ct.addAttributes(at,bt),ct.addInputArgCounts(at,xt),ct.addImplicitInputs(at,_t),ct.endNode(at)}}st.Node=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsValueInfo(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsValueInfo(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}name(at){let it=this.bb.__offset(this.bb_pos,4);return it?this.bb.__string(this.bb_pos+it,at):null}docString(at){let it=this.bb.__offset(this.bb_pos,6);return it?this.bb.__string(this.bb_pos+it,at):null}type(at){let it=this.bb.__offset(this.bb_pos,8);return it?(at||new rt.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+it),this.bb):null}static startValueInfo(at){at.startObject(3)}static addName(at,it){at.addFieldOffset(0,it,0)}static addDocString(at,it){at.addFieldOffset(1,it,0)}static addType(at,it){at.addFieldOffset(2,it,0)}static endValueInfo(at){return at.endObject()}static createValueInfo(at,it,ut,dt){return ct.startValueInfo(at),ct.addName(at,it),ct.addDocString(at,ut),ct.addType(at,dt),ct.endValueInfo(at)}}st.ValueInfo=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsTypeInfo(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsTypeInfo(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}denotation(at){let it=this.bb.__offset(this.bb_pos,4);return it?this.bb.__string(this.bb_pos+it,at):null}valueType(){let at=this.bb.__offset(this.bb_pos,6);return at?this.bb.readUint8(this.bb_pos+at):rt.experimental.fbs.TypeInfoValue.NONE}value(at){let it=this.bb.__offset(this.bb_pos,8);return it?this.bb.__union(at,this.bb_pos+it):null}static startTypeInfo(at){at.startObject(3)}static addDenotation(at,it){at.addFieldOffset(0,it,0)}static addValueType(at,it){at.addFieldInt8(1,it,rt.experimental.fbs.TypeInfoValue.NONE)}static addValue(at,it){at.addFieldOffset(2,it,0)}static endTypeInfo(at){return at.endObject()}static createTypeInfo(at,it,ut,dt){return ct.startTypeInfo(at),ct.addDenotation(at,it),ct.addValueType(at,ut),ct.addValue(at,dt),ct.endTypeInfo(at)}}st.TypeInfo=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsOperatorSetId(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsOperatorSetId(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}domain(at){let it=this.bb.__offset(this.bb_pos,4);return it?this.bb.__string(this.bb_pos+it,at):null}version(){let at=this.bb.__offset(this.bb_pos,6);return at?this.bb.readInt64(this.bb_pos+at):this.bb.createLong(0,0)}static startOperatorSetId(at){at.startObject(2)}static addDomain(at,it){at.addFieldOffset(0,it,0)}static addVersion(at,it){at.addFieldInt64(1,it,at.createLong(0,0))}static endOperatorSetId(at){return at.endObject()}static createOperatorSetId(at,it,ut){return ct.startOperatorSetId(at),ct.addDomain(at,it),ct.addVersion(at,ut),ct.endOperatorSetId(at)}}st.OperatorSetId=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsTensor(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsTensor(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}name(at){let it=this.bb.__offset(this.bb_pos,4);return it?this.bb.__string(this.bb_pos+it,at):null}docString(at){let it=this.bb.__offset(this.bb_pos,6);return it?this.bb.__string(this.bb_pos+it,at):null}dims(at){let it=this.bb.__offset(this.bb_pos,8);return it?this.bb.readInt64(this.bb.__vector(this.bb_pos+it)+8*at):this.bb.createLong(0,0)}dimsLength(){let at=this.bb.__offset(this.bb_pos,8);return at?this.bb.__vector_len(this.bb_pos+at):0}dataType(){let at=this.bb.__offset(this.bb_pos,10);return at?this.bb.readInt32(this.bb_pos+at):rt.experimental.fbs.TensorDataType.UNDEFINED}rawData(at){let it=this.bb.__offset(this.bb_pos,12);return it?this.bb.readUint8(this.bb.__vector(this.bb_pos+it)+at):0}rawDataLength(){let at=this.bb.__offset(this.bb_pos,12);return at?this.bb.__vector_len(this.bb_pos+at):0}rawDataArray(){let at=this.bb.__offset(this.bb_pos,12);return at?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+at),this.bb.__vector_len(this.bb_pos+at)):null}stringData(at,it){let ut=this.bb.__offset(this.bb_pos,14);return ut?this.bb.__string(this.bb.__vector(this.bb_pos+ut)+4*at,it):null}stringDataLength(){let at=this.bb.__offset(this.bb_pos,14);return at?this.bb.__vector_len(this.bb_pos+at):0}static startTensor(at){at.startObject(6)}static addName(at,it){at.addFieldOffset(0,it,0)}static addDocString(at,it){at.addFieldOffset(1,it,0)}static addDims(at,it){at.addFieldOffset(2,it,0)}static createDimsVector(at,it){at.startVector(8,it.length,8);for(let ut=it.length-1;ut>=0;ut--)at.addInt64(it[ut]);return at.endVector()}static startDimsVector(at,it){at.startVector(8,it,8)}static addDataType(at,it){at.addFieldInt32(3,it,rt.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(at,it){at.addFieldOffset(4,it,0)}static createRawDataVector(at,it){at.startVector(1,it.length,1);for(let ut=it.length-1;ut>=0;ut--)at.addInt8(it[ut]);return at.endVector()}static startRawDataVector(at,it){at.startVector(1,it,1)}static addStringData(at,it){at.addFieldOffset(5,it,0)}static createStringDataVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addOffset(it[ut]);return at.endVector()}static startStringDataVector(at,it){at.startVector(4,it,4)}static endTensor(at){return at.endObject()}static createTensor(at,it,ut,dt,ht,ft,pt){return ct.startTensor(at),ct.addName(at,it),ct.addDocString(at,ut),ct.addDims(at,dt),ct.addDataType(at,ht),ct.addRawData(at,ft),ct.addStringData(at,pt),ct.endTensor(at)}}st.Tensor=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsSparseTensor(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsSparseTensor(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}values(at){let it=this.bb.__offset(this.bb_pos,4);return it?(at||new rt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+it),this.bb):null}indices(at){let it=this.bb.__offset(this.bb_pos,6);return it?(at||new rt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+it),this.bb):null}dims(at){let it=this.bb.__offset(this.bb_pos,8);return it?this.bb.readInt64(this.bb.__vector(this.bb_pos+it)+8*at):this.bb.createLong(0,0)}dimsLength(){let at=this.bb.__offset(this.bb_pos,8);return at?this.bb.__vector_len(this.bb_pos+at):0}static startSparseTensor(at){at.startObject(3)}static addValues(at,it){at.addFieldOffset(0,it,0)}static addIndices(at,it){at.addFieldOffset(1,it,0)}static addDims(at,it){at.addFieldOffset(2,it,0)}static createDimsVector(at,it){at.startVector(8,it.length,8);for(let ut=it.length-1;ut>=0;ut--)at.addInt64(it[ut]);return at.endVector()}static startDimsVector(at,it){at.startVector(8,it,8)}static endSparseTensor(at){return at.endObject()}static createSparseTensor(at,it,ut,dt){return ct.startSparseTensor(at),ct.addValues(at,it),ct.addIndices(at,ut),ct.addDims(at,dt),ct.endSparseTensor(at)}}st.SparseTensor=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsAttribute(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsAttribute(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}name(at){let it=this.bb.__offset(this.bb_pos,4);return it?this.bb.__string(this.bb_pos+it,at):null}docString(at){let it=this.bb.__offset(this.bb_pos,6);return it?this.bb.__string(this.bb_pos+it,at):null}type(){let at=this.bb.__offset(this.bb_pos,8);return at?this.bb.readInt32(this.bb_pos+at):rt.experimental.fbs.AttributeType.UNDEFINED}f(){let at=this.bb.__offset(this.bb_pos,10);return at?this.bb.readFloat32(this.bb_pos+at):0}i(){let at=this.bb.__offset(this.bb_pos,12);return at?this.bb.readInt64(this.bb_pos+at):this.bb.createLong(0,0)}s(at){let it=this.bb.__offset(this.bb_pos,14);return it?this.bb.__string(this.bb_pos+it,at):null}t(at){let it=this.bb.__offset(this.bb_pos,16);return it?(at||new rt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+it),this.bb):null}g(at){let it=this.bb.__offset(this.bb_pos,18);return it?(at||new rt.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+it),this.bb):null}floats(at){let it=this.bb.__offset(this.bb_pos,20);return it?this.bb.readFloat32(this.bb.__vector(this.bb_pos+it)+4*at):0}floatsLength(){let at=this.bb.__offset(this.bb_pos,20);return at?this.bb.__vector_len(this.bb_pos+at):0}floatsArray(){let at=this.bb.__offset(this.bb_pos,20);return at?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+at),this.bb.__vector_len(this.bb_pos+at)):null}ints(at){let it=this.bb.__offset(this.bb_pos,22);return it?this.bb.readInt64(this.bb.__vector(this.bb_pos+it)+8*at):this.bb.createLong(0,0)}intsLength(){let at=this.bb.__offset(this.bb_pos,22);return at?this.bb.__vector_len(this.bb_pos+at):0}strings(at,it){let ut=this.bb.__offset(this.bb_pos,24);return ut?this.bb.__string(this.bb.__vector(this.bb_pos+ut)+4*at,it):null}stringsLength(){let at=this.bb.__offset(this.bb_pos,24);return at?this.bb.__vector_len(this.bb_pos+at):0}tensors(at,it){let ut=this.bb.__offset(this.bb_pos,26);return ut?(it||new rt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ut)+4*at),this.bb):null}tensorsLength(){let at=this.bb.__offset(this.bb_pos,26);return at?this.bb.__vector_len(this.bb_pos+at):0}graphs(at,it){let ut=this.bb.__offset(this.bb_pos,28);return ut?(it||new rt.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ut)+4*at),this.bb):null}graphsLength(){let at=this.bb.__offset(this.bb_pos,28);return at?this.bb.__vector_len(this.bb_pos+at):0}static startAttribute(at){at.startObject(13)}static addName(at,it){at.addFieldOffset(0,it,0)}static addDocString(at,it){at.addFieldOffset(1,it,0)}static addType(at,it){at.addFieldInt32(2,it,rt.experimental.fbs.AttributeType.UNDEFINED)}static addF(at,it){at.addFieldFloat32(3,it,0)}static addI(at,it){at.addFieldInt64(4,it,at.createLong(0,0))}static addS(at,it){at.addFieldOffset(5,it,0)}static addT(at,it){at.addFieldOffset(6,it,0)}static addG(at,it){at.addFieldOffset(7,it,0)}static addFloats(at,it){at.addFieldOffset(8,it,0)}static createFloatsVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addFloat32(it[ut]);return at.endVector()}static startFloatsVector(at,it){at.startVector(4,it,4)}static addInts(at,it){at.addFieldOffset(9,it,0)}static createIntsVector(at,it){at.startVector(8,it.length,8);for(let ut=it.length-1;ut>=0;ut--)at.addInt64(it[ut]);return at.endVector()}static startIntsVector(at,it){at.startVector(8,it,8)}static addStrings(at,it){at.addFieldOffset(10,it,0)}static createStringsVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addOffset(it[ut]);return at.endVector()}static startStringsVector(at,it){at.startVector(4,it,4)}static addTensors(at,it){at.addFieldOffset(11,it,0)}static createTensorsVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addOffset(it[ut]);return at.endVector()}static startTensorsVector(at,it){at.startVector(4,it,4)}static addGraphs(at,it){at.addFieldOffset(12,it,0)}static createGraphsVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addOffset(it[ut]);return at.endVector()}static startGraphsVector(at,it){at.startVector(4,it,4)}static endAttribute(at){return at.endObject()}static createAttribute(at,it,ut,dt,ht,ft,pt,mt,gt,vt,yt,bt,xt,_t){return ct.startAttribute(at),ct.addName(at,it),ct.addDocString(at,ut),ct.addType(at,dt),ct.addF(at,ht),ct.addI(at,ft),ct.addS(at,pt),ct.addT(at,mt),ct.addG(at,gt),ct.addFloats(at,vt),ct.addInts(at,yt),ct.addStrings(at,bt),ct.addTensors(at,xt),ct.addGraphs(at,_t),ct.endAttribute(at)}}st.Attribute=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsGraph(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsGraph(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}initializers(at,it){let ut=this.bb.__offset(this.bb_pos,4);return ut?(it||new rt.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ut)+4*at),this.bb):null}initializersLength(){let at=this.bb.__offset(this.bb_pos,4);return at?this.bb.__vector_len(this.bb_pos+at):0}nodeArgs(at,it){let ut=this.bb.__offset(this.bb_pos,6);return ut?(it||new rt.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ut)+4*at),this.bb):null}nodeArgsLength(){let at=this.bb.__offset(this.bb_pos,6);return at?this.bb.__vector_len(this.bb_pos+at):0}nodes(at,it){let ut=this.bb.__offset(this.bb_pos,8);return ut?(it||new rt.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ut)+4*at),this.bb):null}nodesLength(){let at=this.bb.__offset(this.bb_pos,8);return at?this.bb.__vector_len(this.bb_pos+at):0}maxNodeIndex(){let at=this.bb.__offset(this.bb_pos,10);return at?this.bb.readUint32(this.bb_pos+at):0}nodeEdges(at,it){let ut=this.bb.__offset(this.bb_pos,12);return ut?(it||new rt.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ut)+4*at),this.bb):null}nodeEdgesLength(){let at=this.bb.__offset(this.bb_pos,12);return at?this.bb.__vector_len(this.bb_pos+at):0}inputs(at,it){let ut=this.bb.__offset(this.bb_pos,14);return ut?this.bb.__string(this.bb.__vector(this.bb_pos+ut)+4*at,it):null}inputsLength(){let at=this.bb.__offset(this.bb_pos,14);return at?this.bb.__vector_len(this.bb_pos+at):0}outputs(at,it){let ut=this.bb.__offset(this.bb_pos,16);return ut?this.bb.__string(this.bb.__vector(this.bb_pos+ut)+4*at,it):null}outputsLength(){let at=this.bb.__offset(this.bb_pos,16);return at?this.bb.__vector_len(this.bb_pos+at):0}sparseInitializers(at,it){let ut=this.bb.__offset(this.bb_pos,18);return ut?(it||new rt.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ut)+4*at),this.bb):null}sparseInitializersLength(){let at=this.bb.__offset(this.bb_pos,18);return at?this.bb.__vector_len(this.bb_pos+at):0}static startGraph(at){at.startObject(8)}static addInitializers(at,it){at.addFieldOffset(0,it,0)}static createInitializersVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addOffset(it[ut]);return at.endVector()}static startInitializersVector(at,it){at.startVector(4,it,4)}static addNodeArgs(at,it){at.addFieldOffset(1,it,0)}static createNodeArgsVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addOffset(it[ut]);return at.endVector()}static startNodeArgsVector(at,it){at.startVector(4,it,4)}static addNodes(at,it){at.addFieldOffset(2,it,0)}static createNodesVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addOffset(it[ut]);return at.endVector()}static startNodesVector(at,it){at.startVector(4,it,4)}static addMaxNodeIndex(at,it){at.addFieldInt32(3,it,0)}static addNodeEdges(at,it){at.addFieldOffset(4,it,0)}static createNodeEdgesVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addOffset(it[ut]);return at.endVector()}static startNodeEdgesVector(at,it){at.startVector(4,it,4)}static addInputs(at,it){at.addFieldOffset(5,it,0)}static createInputsVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addOffset(it[ut]);return at.endVector()}static startInputsVector(at,it){at.startVector(4,it,4)}static addOutputs(at,it){at.addFieldOffset(6,it,0)}static createOutputsVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addOffset(it[ut]);return at.endVector()}static startOutputsVector(at,it){at.startVector(4,it,4)}static addSparseInitializers(at,it){at.addFieldOffset(7,it,0)}static createSparseInitializersVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addOffset(it[ut]);return at.endVector()}static startSparseInitializersVector(at,it){at.startVector(4,it,4)}static endGraph(at){return at.endObject()}static createGraph(at,it,ut,dt,ht,ft,pt,mt,gt){return ct.startGraph(at),ct.addInitializers(at,it),ct.addNodeArgs(at,ut),ct.addNodes(at,dt),ct.addMaxNodeIndex(at,ht),ct.addNodeEdges(at,ft),ct.addInputs(at,pt),ct.addOutputs(at,mt),ct.addSparseInitializers(at,gt),ct.endGraph(at)}}st.Graph=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsModel(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsModel(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}irVersion(){let at=this.bb.__offset(this.bb_pos,4);return at?this.bb.readInt64(this.bb_pos+at):this.bb.createLong(0,0)}opsetImport(at,it){let ut=this.bb.__offset(this.bb_pos,6);return ut?(it||new rt.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ut)+4*at),this.bb):null}opsetImportLength(){let at=this.bb.__offset(this.bb_pos,6);return at?this.bb.__vector_len(this.bb_pos+at):0}producerName(at){let it=this.bb.__offset(this.bb_pos,8);return it?this.bb.__string(this.bb_pos+it,at):null}producerVersion(at){let it=this.bb.__offset(this.bb_pos,10);return it?this.bb.__string(this.bb_pos+it,at):null}domain(at){let it=this.bb.__offset(this.bb_pos,12);return it?this.bb.__string(this.bb_pos+it,at):null}modelVersion(){let at=this.bb.__offset(this.bb_pos,14);return at?this.bb.readInt64(this.bb_pos+at):this.bb.createLong(0,0)}docString(at){let it=this.bb.__offset(this.bb_pos,16);return it?this.bb.__string(this.bb_pos+it,at):null}graph(at){let it=this.bb.__offset(this.bb_pos,18);return it?(at||new rt.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+it),this.bb):null}graphDocString(at){let it=this.bb.__offset(this.bb_pos,20);return it?this.bb.__string(this.bb_pos+it,at):null}static startModel(at){at.startObject(9)}static addIrVersion(at,it){at.addFieldInt64(0,it,at.createLong(0,0))}static addOpsetImport(at,it){at.addFieldOffset(1,it,0)}static createOpsetImportVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addOffset(it[ut]);return at.endVector()}static startOpsetImportVector(at,it){at.startVector(4,it,4)}static addProducerName(at,it){at.addFieldOffset(2,it,0)}static addProducerVersion(at,it){at.addFieldOffset(3,it,0)}static addDomain(at,it){at.addFieldOffset(4,it,0)}static addModelVersion(at,it){at.addFieldInt64(5,it,at.createLong(0,0))}static addDocString(at,it){at.addFieldOffset(6,it,0)}static addGraph(at,it){at.addFieldOffset(7,it,0)}static addGraphDocString(at,it){at.addFieldOffset(8,it,0)}static endModel(at){return at.endObject()}static createModel(at,it,ut,dt,ht,ft,pt,mt,gt,vt){return ct.startModel(at),ct.addIrVersion(at,it),ct.addOpsetImport(at,ut),ct.addProducerName(at,dt),ct.addProducerVersion(at,ht),ct.addDomain(at,ft),ct.addModelVersion(at,pt),ct.addDocString(at,mt),ct.addGraph(at,gt),ct.addGraphDocString(at,vt),ct.endModel(at)}}st.Model=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsKernelCreateInfos(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsKernelCreateInfos(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}nodeIndices(at){let it=this.bb.__offset(this.bb_pos,4);return it?this.bb.readUint32(this.bb.__vector(this.bb_pos+it)+4*at):0}nodeIndicesLength(){let at=this.bb.__offset(this.bb_pos,4);return at?this.bb.__vector_len(this.bb_pos+at):0}nodeIndicesArray(){let at=this.bb.__offset(this.bb_pos,4);return at?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+at),this.bb.__vector_len(this.bb_pos+at)):null}kernelDefHashes(at){let it=this.bb.__offset(this.bb_pos,6);return it?this.bb.readUint64(this.bb.__vector(this.bb_pos+it)+8*at):this.bb.createLong(0,0)}kernelDefHashesLength(){let at=this.bb.__offset(this.bb_pos,6);return at?this.bb.__vector_len(this.bb_pos+at):0}static startKernelCreateInfos(at){at.startObject(2)}static addNodeIndices(at,it){at.addFieldOffset(0,it,0)}static createNodeIndicesVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addInt32(it[ut]);return at.endVector()}static startNodeIndicesVector(at,it){at.startVector(4,it,4)}static addKernelDefHashes(at,it){at.addFieldOffset(1,it,0)}static createKernelDefHashesVector(at,it){at.startVector(8,it.length,8);for(let ut=it.length-1;ut>=0;ut--)at.addInt64(it[ut]);return at.endVector()}static startKernelDefHashesVector(at,it){at.startVector(8,it,8)}static endKernelCreateInfos(at){return at.endObject()}static createKernelCreateInfos(at,it,ut){return ct.startKernelCreateInfos(at),ct.addNodeIndices(at,it),ct.addKernelDefHashes(at,ut),ct.endKernelCreateInfos(at)}}st.KernelCreateInfos=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsSubGraphSessionState(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsSubGraphSessionState(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}graphId(at){let it=this.bb.__offset(this.bb_pos,4);return it?this.bb.__string(this.bb_pos+it,at):null}sessionState(at){let it=this.bb.__offset(this.bb_pos,6);return it?(at||new rt.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+it),this.bb):null}static startSubGraphSessionState(at){at.startObject(2)}static addGraphId(at,it){at.addFieldOffset(0,it,0)}static addSessionState(at,it){at.addFieldOffset(1,it,0)}static endSubGraphSessionState(at){let it=at.endObject();return at.requiredField(it,4),it}static createSubGraphSessionState(at,it,ut){return ct.startSubGraphSessionState(at),ct.addGraphId(at,it),ct.addSessionState(at,ut),ct.endSubGraphSessionState(at)}}st.SubGraphSessionState=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsSessionState(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsSessionState(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}kernels(at){let it=this.bb.__offset(this.bb_pos,4);return it?(at||new rt.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+it),this.bb):null}subGraphSessionStates(at,it){let ut=this.bb.__offset(this.bb_pos,6);return ut?(it||new rt.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+ut)+4*at),this.bb):null}subGraphSessionStatesLength(){let at=this.bb.__offset(this.bb_pos,6);return at?this.bb.__vector_len(this.bb_pos+at):0}static startSessionState(at){at.startObject(2)}static addKernels(at,it){at.addFieldOffset(0,it,0)}static addSubGraphSessionStates(at,it){at.addFieldOffset(1,it,0)}static createSubGraphSessionStatesVector(at,it){at.startVector(4,it.length,4);for(let ut=it.length-1;ut>=0;ut--)at.addOffset(it[ut]);return at.endVector()}static startSubGraphSessionStatesVector(at,it){at.startVector(4,it,4)}static endSessionState(at){return at.endObject()}static createSessionState(at,it,ut){return ct.startSessionState(at),ct.addKernels(at,it),ct.addSubGraphSessionStates(at,ut),ct.endSessionState(at)}}st.SessionState=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={})),function(rt){(function(ot){(function(st){class ct{constructor(){this.bb=null,this.bb_pos=0}__init(at,it){return this.bb_pos=at,this.bb=it,this}static getRootAsInferenceSession(at,it){return(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static getSizePrefixedRootAsInferenceSession(at,it){return at.setPosition(at.position()+et.flatbuffers.SIZE_PREFIX_LENGTH),(it||new ct).__init(at.readInt32(at.position())+at.position(),at)}static bufferHasIdentifier(at){return at.__has_identifier("ORTM")}ortVersion(at){let it=this.bb.__offset(this.bb_pos,4);return it?this.bb.__string(this.bb_pos+it,at):null}model(at){let it=this.bb.__offset(this.bb_pos,6);return it?(at||new rt.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+it),this.bb):null}sessionState(at){let it=this.bb.__offset(this.bb_pos,8);return it?(at||new rt.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+it),this.bb):null}static startInferenceSession(at){at.startObject(3)}static addOrtVersion(at,it){at.addFieldOffset(0,it,0)}static addModel(at,it){at.addFieldOffset(1,it,0)}static addSessionState(at,it){at.addFieldOffset(2,it,0)}static endInferenceSession(at){return at.endObject()}static finishInferenceSessionBuffer(at,it){at.finish(it,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(at,it){at.finish(it,"ORTM",!0)}static createInferenceSession(at,it,ut,dt){return ct.startInferenceSession(at),ct.addOrtVersion(at,it),ct.addModel(at,ut),ct.addSessionState(at,dt),ct.endInferenceSession(at)}}st.InferenceSession=ct})(ot.fbs||(ot.fbs={}))})(rt.experimental||(rt.experimental={}))}($.onnxruntime||($.onnxruntime={}))},1723:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.OnnxjsSessionHandler=void 0;const et=_e(8453),tt=_e(9240);$.OnnxjsSessionHandler=class{constructor(nt){this.session=nt,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(nt,rt,ot){const st=new Map;for(const at in nt)if(Object.hasOwnProperty.call(nt,at)){const it=nt[at];st.set(at,new tt.Tensor(it.dims,it.type,void 0,void 0,it.data))}const ct=await this.session.run(st),lt={};return ct.forEach((at,it)=>{lt[it]=new et.Tensor(at.type,at.data,at.dims)}),lt}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6027:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.Session=void 0;const et=_e(7067),tt=_e(1296),nt=_e(1975),rt=_e(6496),ot=_e(1315),st=_e(1745);$.Session=class{constructor(ct={}){this._initialized=!1,this.backendHint=ct.backendHint,this.profiler=ot.Profiler.create(ct.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(ct,lt,at){await this.profiler.event("session","Session.loadModel",async()=>{const it=await(0,nt.resolveBackend)(this.backendHint);if(this.sessionHandler=it.createSessionHandler(this.context),this._model=new st.Model,typeof ct=="string"){const ut=ct.endsWith(".ort");if(typeof fetch>"u"){const dt=await(0,tt.promisify)(et.readFile)(ct);this.initialize(dt,ut)}else{const dt=await fetch(ct),ht=await dt.arrayBuffer();this.initialize(new Uint8Array(ht),ut)}}else if(ArrayBuffer.isView(ct))this.initialize(ct);else{const ut=new Uint8Array(ct,lt||0,at||ct.byteLength);this.initialize(ut)}})}initialize(ct,lt){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const at=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(ct,at,lt),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new rt.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(ct){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const lt=this.normalizeAndValidateInputs(ct),at=await this._executionPlan.execute(this.sessionHandler,lt);return this.createOutput(at)})}normalizeAndValidateInputs(ct){const lt=this._model.graph.getInputNames();if(Array.isArray(ct)){if(ct.length!==lt.length)throw new Error(`incorrect input array length: expected ${lt.length} but got ${ct.length}`)}else{if(ct.size!==lt.length)throw new Error(`incorrect input map size: expected ${lt.length} but got ${ct.size}`);const at=new Array(ct.size);let it=0;for(let ut=0;ut<lt.length;++ut){const dt=ct.get(lt[ut]);if(!dt)throw new Error(`missing input tensor for: '${name}'`);at[it++]=dt}ct=at}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,ct,!1);else{const at=this._model.graph.getInputIndices(),it=this._model.graph.getValues(),ut=new Array(at.length);for(let dt=0;dt<at.length;++dt){const ht=it[at[dt]];ut[dt]=ht.type.shape.dims,this.context.graphInputTypes.push(ht.type.tensorType),this.context.graphInputDims.push(ct[dt].dims)}this.validateInputTensorDims(ut,ct,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,ct),ct}validateInputTensorTypes(ct,lt){for(let at=0;at<lt.length;at++){const it=ct[at],ut=lt[at].type;if(it!==ut)throw new Error(`input tensor[${at}] check failed: expected type '${it}' but got ${ut}`)}}validateInputTensorDims(ct,lt,at){for(let it=0;it<lt.length;it++){const ut=ct[it],dt=lt[it].dims;if(!this.compareTensorDims(ut,dt,at))throw new Error(`input tensor[${it}] check failed: expected shape '[${ut.join(",")}]' but got [${dt.join(",")}]`)}}compareTensorDims(ct,lt,at){if(ct.length!==lt.length)return!1;for(let it=0;it<ct.length;++it)if(ct[it]!==lt[it]&&(!at||ct[it]!==0))return!1;return!0}createOutput(ct){const lt=this._model.graph.getOutputNames();if(ct.length!==lt.length)throw new Error("expected number of outputs do not match number of generated outputs");const at=new Map;for(let it=0;it<lt.length;++it)at.set(lt[it],ct[it]);return at}initializeOps(ct){const lt=ct.getNodes();this._ops=new Array(lt.length);for(let at=0;at<lt.length;at++)this._ops[at]=this.sessionHandler.resolve(lt[at],this._model.opsets,ct)}}},9240:function(b,$,_e){var et=this&&this.__importDefault||function(ht){return ht&&ht.__esModule?ht:{default:ht}};Object.defineProperty($,"__esModule",{value:!0}),$.Tensor=void 0;const tt=_e(3442),nt=et(_e(3720)),rt=_e(1446),ot=_e(1287),st=_e(7273);var ct=ot.onnxruntime.experimental.fbs;class lt{get data(){if(this.cache===void 0){const ft=this.dataProvider(this.dataId);if(ft.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=ft}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(ft){return this.data[st.ShapeUtil.indicesToOffset(ft,this.strides)]}set(ft,pt){this.data[st.ShapeUtil.indicesToOffset(ft,this.strides)]=pt}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=st.ShapeUtil.computeStrides(this.dims)),this._strides}constructor(ft,pt,mt,gt,vt,yt=tt.Guid.create()){this.dims=ft,this.type=pt,this.dataProvider=mt,this.asyncDataProvider=gt,this.cache=vt,this.dataId=yt,this.size=st.ShapeUtil.validateDimsAndCalcSize(ft);const bt=this.size,xt=mt===void 0&&gt===void 0&&vt===void 0;if(vt!==void 0&&vt.length!==bt)throw new RangeError("Input dims doesn't match data length.");if(pt==="string"){if(!(vt===void 0||Array.isArray(vt)&&vt.every(_t=>typeof _t=="string")))throw new TypeError("cache should be a string array");xt&&(this.cache=new Array(bt))}else{if(vt!==void 0){const _t=it(pt);if(!(vt instanceof _t))throw new TypeError(`cache should be type ${_t.name}`)}if(xt){const _t=new ArrayBuffer(bt*function(wt){switch(wt){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${wt}`)}}(pt));this.cache=function(wt,At){return new(it(At))(wt)}(_t,pt)}}}static fromProto(ft){if(!ft)throw new Error("cannot construct Value from an empty tensor");const pt=st.ProtoUtil.tensorDataTypeFromProto(ft.dataType),mt=st.ProtoUtil.tensorDimsFromProto(ft.dims),gt=new lt(mt,pt);if(pt==="string")ft.stringData.forEach((vt,yt)=>{gt.data[yt]=(0,st.decodeUtf8String)(vt)});else if(ft.rawData&&typeof ft.rawData.byteLength=="number"&&ft.rawData.byteLength>0){const vt=gt.data,yt=new DataView(ft.rawData.buffer,ft.rawData.byteOffset,ft.rawData.byteLength),bt=at(ft.dataType),xt=ft.rawData.byteLength/bt;if(ft.rawData.byteLength%bt!=0)throw new Error("invalid buffer length");if(vt.length!==xt)throw new Error("buffer length mismatch");for(let _t=0;_t<xt;_t++){const wt=dt(yt,ft.dataType,_t*bt);vt[_t]=wt}}else{let vt;switch(ft.dataType){case rt.onnx.TensorProto.DataType.FLOAT:vt=ft.floatData;break;case rt.onnx.TensorProto.DataType.INT32:case rt.onnx.TensorProto.DataType.INT16:case rt.onnx.TensorProto.DataType.UINT16:case rt.onnx.TensorProto.DataType.INT8:case rt.onnx.TensorProto.DataType.UINT8:case rt.onnx.TensorProto.DataType.BOOL:vt=ft.int32Data;break;case rt.onnx.TensorProto.DataType.INT64:vt=ft.int64Data;break;case rt.onnx.TensorProto.DataType.DOUBLE:vt=ft.doubleData;break;case rt.onnx.TensorProto.DataType.UINT32:case rt.onnx.TensorProto.DataType.UINT64:vt=ft.uint64Data;break;default:throw new Error("unspecific error")}if(vt==null)throw new Error("failed to populate data from a tensorproto value");const yt=gt.data;if(yt.length!==vt.length)throw new Error("array length mismatch");for(let bt=0;bt<vt.length;bt++){const xt=vt[bt];nt.default.isLong(xt)?yt[bt]=ut(xt,ft.dataType):yt[bt]=xt}}return gt}static fromData(ft,pt,mt){return new lt(pt,mt,void 0,void 0,ft)}static fromOrtTensor(ft){if(!ft)throw new Error("cannot construct Value from an empty tensor");const pt=st.ProtoUtil.tensorDimsFromORTFormat(ft),mt=st.ProtoUtil.tensorDataTypeFromProto(ft.dataType()),gt=new lt(pt,mt);if(mt==="string")for(let vt=0;vt<ft.stringDataLength();vt++)gt.data[vt]=ft.stringData(vt);else if(ft.rawDataArray()&&typeof ft.rawDataLength()=="number"&&ft.rawDataLength()>0){const vt=gt.data,yt=new DataView(ft.rawDataArray().buffer,ft.rawDataArray().byteOffset,ft.rawDataLength()),bt=at(ft.dataType()),xt=ft.rawDataLength()/bt;if(ft.rawDataLength()%bt!=0)throw new Error("invalid buffer length");if(vt.length!==xt)throw new Error("buffer length mismatch");for(let _t=0;_t<xt;_t++){const wt=dt(yt,ft.dataType(),_t*bt);vt[_t]=wt}}return gt}}function at(ht){switch(ht){case rt.onnx.TensorProto.DataType.UINT8:case rt.onnx.TensorProto.DataType.INT8:case rt.onnx.TensorProto.DataType.BOOL:return 1;case rt.onnx.TensorProto.DataType.UINT16:case rt.onnx.TensorProto.DataType.INT16:return 2;case rt.onnx.TensorProto.DataType.FLOAT:case rt.onnx.TensorProto.DataType.INT32:case rt.onnx.TensorProto.DataType.UINT32:return 4;case rt.onnx.TensorProto.DataType.INT64:case rt.onnx.TensorProto.DataType.DOUBLE:case rt.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${rt.onnx.TensorProto.DataType[ht]}`)}}function it(ht){switch(ht){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function ut(ht,ft){if(ft===rt.onnx.TensorProto.DataType.INT64||ft===ct.TensorDataType.INT64){if(ht.greaterThanOrEqual(2147483648)||ht.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(ft!==rt.onnx.TensorProto.DataType.UINT32&&ft!==ct.TensorDataType.UINT32&&ft!==rt.onnx.TensorProto.DataType.UINT64&&ft!==ct.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${rt.onnx.TensorProto.DataType[ft]}`);if(ht.greaterThanOrEqual(4294967296)||ht.lessThan(0))throw new TypeError("uint64 is not supported")}return ht.toNumber()}function dt(ht,ft,pt){switch(ft){case rt.onnx.TensorProto.DataType.BOOL:case rt.onnx.TensorProto.DataType.UINT8:return ht.getUint8(pt);case rt.onnx.TensorProto.DataType.INT8:return ht.getInt8(pt);case rt.onnx.TensorProto.DataType.UINT16:return ht.getUint16(pt,!0);case rt.onnx.TensorProto.DataType.INT16:return ht.getInt16(pt,!0);case rt.onnx.TensorProto.DataType.FLOAT:return ht.getFloat32(pt,!0);case rt.onnx.TensorProto.DataType.INT32:return ht.getInt32(pt,!0);case rt.onnx.TensorProto.DataType.UINT32:return ht.getUint32(pt,!0);case rt.onnx.TensorProto.DataType.INT64:return ut(nt.default.fromBits(ht.getUint32(pt,!0),ht.getUint32(pt+4,!0),!1),ft);case rt.onnx.TensorProto.DataType.DOUBLE:return ht.getFloat64(pt,!0);case rt.onnx.TensorProto.DataType.UINT64:return ut(nt.default.fromBits(ht.getUint32(pt,!0),ht.getUint32(pt+4,!0),!0),ft);default:throw new Error(`cannot read from DataView for type ${rt.onnx.TensorProto.DataType[ft]}`)}}$.Tensor=lt},7273:function(b,$,_e){var et=this&&this.__importDefault||function(ft){return ft&&ft.__esModule?ft:{default:ft}};Object.defineProperty($,"__esModule",{value:!0}),$.decodeUtf8String=$.MAX_CLIP=$.MIN_CLIP=$.PoolConvUtil=$.ReduceUtil=$.SplitUtil=$.MathUtil=$.ShapeUtil=$.LongUtil=$.ProtoUtil=$.GemmUtil=$.arrayCopyHelper=$.BroadcastUtil=$.MatMulUtil=$.ArrayUtil=$.assert=$.checkInputsShape=void 0;const tt=_e(5686),nt=et(_e(3720)),rt=_e(1446),ot=_e(9240);$.checkInputsShape=function(ft,...pt){if(!ft||ft.length!==pt.length)return!1;for(let mt=0;mt<ft.length;mt++)if(!ft[mt].dims||ft[mt].dims.length!==pt[mt])return!1;return!0},$.assert=function(ft,pt){if(!ft)throw new Error(typeof pt=="string"?pt:pt())},$.ArrayUtil=class{static arraysEqual(ft,pt){if(ft.length!==pt.length)return!1;for(let mt=0;mt<ft.length;mt++)if(ft[mt]!==pt[mt])return!1;return!0}};class st{static preprocessInputShapes(pt,mt){return[pt.length===1?[1,pt[0]]:pt,mt.length===1?[mt[0],1]:mt]}static postprocessOutputShape(pt,mt,gt){mt===1&&pt.splice(pt.length-2,1),gt===1&&pt.pop()}static calcMatMulShape(pt,mt){return pt[1]!==mt[0]?void 0:[pt[0],mt[1]]}}$.MatMulUtil=st;class ct{static calcShape(pt,mt,gt=!1){const vt=pt.length,yt=mt.length;if(vt===0)return mt;if(yt===0)return pt;const bt=Math.max(pt.length,mt.length),xt=new Array(bt);if(gt){if(vt<2||yt<2)return;const _t=st.calcMatMulShape([pt[vt-2],pt[vt-1]],[mt[yt-2],mt[yt-1]]);if(_t===void 0)return;[xt[bt-2],xt[bt-1]]=_t}for(let _t=gt?3:1;_t<=bt;_t++){const wt=vt-_t<0?1:pt[vt-_t],At=yt-_t<0?1:mt[yt-_t];if(wt!==At&&wt>1&&At>1)return;xt[bt-_t]=Math.max(wt,At)}return xt}static index(pt,mt){const gt=new Array(mt.length);return ct.fillIndex(pt,mt,gt),gt}static fillIndex(pt,mt,gt){const vt=pt.length-mt.length;for(let yt=0;yt<mt.length;yt++)gt[yt]=pt[vt+yt]%mt[yt]}static calc(pt,mt,gt,vt,yt){const bt=ct.calcShape(pt.dims,mt.dims);if(bt){if(vt&&!it.areEqual(bt,pt.dims))return;const xt=it.size(bt),_t=vt?pt:new ot.Tensor(bt,yt||pt.type);if(bt.length===0)_t.set([],gt(pt.get([]),mt.get([])));else{const wt=new Array(bt.length),At=new Array(pt.dims.length),Pt=new Array(mt.dims.length);let jt,kt=0,St=0,Ct=!1,Et=!1;pt.dims.length===0&&(kt=pt.get([]),Ct=!0),mt.dims.length===0&&(St=mt.get([]),Et=!0);for(let Tt=0;Tt<xt;Tt++){jt=Tt;for(let $t=bt.length-1;$t>=0;$t--)wt[$t]=jt%bt[$t],jt=Math.floor(jt/bt[$t]);Ct||(ct.fillIndex(wt,pt.dims,At),kt=pt.get(At)),Et||(ct.fillIndex(wt,mt.dims,Pt),St=mt.get(Pt)),_t.set(wt,gt(kt,St))}}return _t}}static isValidBroadcast(pt,mt){const gt=pt.length,vt=mt.length;if(gt>vt)return!1;for(let yt=1;yt<=gt;yt++)if(pt[gt-yt]!==1&&pt[gt-yt]!==mt[vt-yt])return!1;return!0}static getBroadcastDims(pt,mt){const gt=pt.length,vt=[];for(let yt=0;yt<gt;yt++){const bt=gt-1-yt,xt=pt[bt]||1;(mt[mt.length-1-yt]||1)>1&&xt===1&&vt.unshift(bt)}return vt}}$.BroadcastUtil=ct,$.arrayCopyHelper=function(ft,pt,mt,gt,vt){if(gt<0||gt>=pt.length)throw new Error("sourceIndex out of bounds");if(mt<0||mt>=ft.length)throw new Error("targetIndex out of bounds");if(gt+vt>pt.length)throw new Error("source indices to be copied are outside bounds");if(mt+vt>ft.length)throw new Error("target array is too small to hold result");for(let yt=0;yt<vt;yt++)ft[mt+yt]=pt[gt+yt]},$.GemmUtil=class{static getShapeOfGemmResult(ft,pt,mt,gt,vt){if(ft.length!==2||mt.length!==2)throw new Error("shape need to be of size 2");let yt,bt,xt;pt?(yt=ft[1],bt=ft[0]):(yt=ft[0],bt=ft[1]);let _t=-1;if(gt?(xt=mt[0],_t=1):(xt=mt[1],_t=0),mt[_t]!==bt)throw new Error("dimension mismatch");if(yt<=0||xt<=0||bt<=0)throw new Error("invalid shape specified");if(vt&&!ct.isValidBroadcast(vt,[yt,xt]))throw new Error("gemm: invalid bias shape for broadcast");return[yt,xt,bt]}};class lt{static tensorDataTypeFromProto(pt){switch(pt){case rt.onnx.TensorProto.DataType.INT8:return"int8";case rt.onnx.TensorProto.DataType.UINT8:return"uint8";case rt.onnx.TensorProto.DataType.BOOL:return"bool";case rt.onnx.TensorProto.DataType.INT16:return"int16";case rt.onnx.TensorProto.DataType.UINT16:return"uint16";case rt.onnx.TensorProto.DataType.INT32:return"int32";case rt.onnx.TensorProto.DataType.UINT32:return"uint32";case rt.onnx.TensorProto.DataType.FLOAT:return"float32";case rt.onnx.TensorProto.DataType.DOUBLE:return"float64";case rt.onnx.TensorProto.DataType.STRING:return"string";case rt.onnx.TensorProto.DataType.INT64:return"int32";case rt.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${rt.onnx.TensorProto.DataType[pt]}`)}}static tensorDataTypeStringToEnum(pt){switch(pt){case"int8":return rt.onnx.TensorProto.DataType.INT8;case"uint8":return rt.onnx.TensorProto.DataType.UINT8;case"bool":return rt.onnx.TensorProto.DataType.BOOL;case"int16":return rt.onnx.TensorProto.DataType.INT16;case"uint16":return rt.onnx.TensorProto.DataType.UINT16;case"int32":return rt.onnx.TensorProto.DataType.INT32;case"uint32":return rt.onnx.TensorProto.DataType.UINT32;case"float32":return rt.onnx.TensorProto.DataType.FLOAT;case"float64":return rt.onnx.TensorProto.DataType.DOUBLE;case"string":return rt.onnx.TensorProto.DataType.STRING;case"int64":return rt.onnx.TensorProto.DataType.INT64;case"uint64":return rt.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${pt}`)}}static tensorDimsFromProto(pt){return pt.map(mt=>nt.default.isLong(mt)?mt.toNumber():mt)}static tensorValueTypeFromProto(pt){return{tensorType:lt.tensorDataTypeFromProto(pt.elemType),shape:{dims:lt.tensorDimsFromProto(pt.shape.dim.map(mt=>mt.dimValue))}}}static tensorDimsFromORTFormat(pt){const mt=[];for(let gt=0;gt<pt.dimsLength();gt++)mt.push(at.longToNumber(pt.dims(gt)));return mt}static tensorAttributesFromORTFormat(pt){const mt=[];for(let gt=0;gt<pt.attributesLength();gt++)mt.push(pt.attributes(gt));return mt}}$.ProtoUtil=lt;class at{static longToNumber(pt,mt){return nt.default.isLong(pt)?pt.toNumber():pt instanceof tt.flatbuffers.Long?nt.default.fromValue({low:pt.low,high:pt.high,unsigned:mt!=null&&mt}).toNumber():pt}static isLong(pt){return nt.default.isLong(pt)||pt instanceof tt.flatbuffers.Long}}$.LongUtil=at;class it{static size(pt){return it.getSizeFromDimensionRange(pt,0,pt.length)}static sizeFromDimension(pt,mt){if(mt<0||mt>pt.length)throw new Error(`invalid dimension of ${mt} for sizeFromDimension as Tensor has ${pt.length} dimensions.`);return it.getSizeFromDimensionRange(pt,mt,pt.length)}static sizeToDimension(pt,mt){if(mt<0||mt>pt.length)throw new Error(`invalid dimension of ${mt} for sizeToDimension as Tensor has ${pt.length} dimensions.`);return it.getSizeFromDimensionRange(pt,0,mt)}static getSizeFromDimensionRange(pt,mt,gt){let vt=1;for(let yt=mt;yt<gt;yt++){if(pt[yt]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");vt*=pt[yt]}return vt}static computeStrides(pt){const mt=pt.length;if(mt===0)return[];if(mt===1)return[1];const gt=new Array(mt);gt[mt-1]=1,gt[mt-2]=pt[mt-1];for(let vt=mt-3;vt>=0;--vt)gt[vt]=gt[vt+1]*pt[vt+1];return gt}static transpose(pt){return pt.slice().reverse()}static indicesToOffset(pt,mt,gt){gt===void 0&&(gt=pt.length);let vt=0;for(let yt=0;yt<gt;++yt)vt+=mt[yt]*pt[yt];return vt}static offsetToIndices(pt,mt){const gt=mt.length;if(gt===0)return[];if(gt===1)return[pt*mt[0]];const vt=new Array(mt.length);for(let yt=0;yt<vt.length-1;++yt)vt[yt]=Math.floor(pt/mt[yt]),pt-=vt[yt]*mt[yt];return vt[vt.length-1]=pt,vt}static normalizeAxis(pt,mt){if(pt<-mt&&pt>=mt)throw new Error("unsupported axis for this operation.");return pt<0?pt+mt:pt}static normalizeAxes(pt,mt){return pt.map(gt=>this.normalizeAxis(gt,mt))}static incrementIndex(pt,mt,gt){if(mt.length===0||pt.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(gt===void 0)gt=mt.length;else if(gt<=0||gt>mt.length)throw new Error("Incorrect axis to increment on");for(let vt=gt-1;vt>=0&&(pt[vt]++,!(pt[vt]<mt[vt]));--vt)pt[vt]=0}static calculateReshapedDims(pt,mt){if(mt.length===0){if(pt.length===0||it.size(pt)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const gt=mt.length,vt=new Array(gt);let yt=-1,bt=1;for(let _t=0;_t<gt;_t++){if(mt[_t]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(mt[_t]===-1){if(yt!==-1)throw new Error("at most one dimension in shape hints can be -1");yt=_t}else{if(mt[_t]===0){if(_t>=pt.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");vt[_t]=pt[_t]}else vt[_t]=mt[_t];bt*=vt[_t]}}const xt=it.size(pt);if(yt!==-1){if(xt%bt!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${pt}] Output shape: [${mt}]`);vt[yt]=xt/bt}else if(bt!==xt)throw new Error("reshapedDims and originalDims don't have matching sizes");return vt}static sortBasedOnPerm(pt,mt){return mt?mt.map(gt=>pt[gt]):pt.slice().reverse()}static padShape(pt,mt){const gt=pt.length;return pt.map((vt,yt)=>vt+mt[yt]+mt[yt+gt])}static areEqual(pt,mt){return pt.length===mt.length&&pt.every((gt,vt)=>gt===mt[vt])}static validateDimsAndCalcSize(pt){if(pt.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let mt=1;for(const gt of pt){if(!Number.isInteger(gt))throw new TypeError(`Invalid shape: ${gt} is not an integer`);if(gt<0||gt>2147483647)throw new TypeError(`Invalid shape: length ${gt} is not allowed`);mt*=gt}return mt}static flattenShape(pt,mt){mt<0&&(mt+=pt.length);const gt=pt.reduce((yt,bt)=>yt*bt,1),vt=pt.slice(mt).reduce((yt,bt)=>yt*bt,1);return[gt/vt,vt]}static squeezeShape(pt,mt){const gt=new Array;mt=it.normalizeAxes(mt,pt.length);for(let vt=0;vt<pt.length;vt++){const yt=mt.indexOf(vt)>=0;if(yt&&pt[vt]!==1)throw new Error("squeeze an axis of size different than 1");(mt.length===0&&pt[vt]>1||mt.length>0&&!yt)&&gt.push(pt[vt])}return gt}static unsqueezeShape(pt,mt){const gt=new Array(pt.length+mt.length);gt.fill(0);for(let yt=0;yt<mt.length;yt++){const bt=it.normalizeAxis(mt[yt],gt.length);if(bt>=gt.length)throw new Error("'axes' has an out of range axis");if(gt[bt]!==0)throw new Error("'axes' has a duplicate axis");gt[bt]=1}let vt=0;for(let yt=0;yt<gt.length;yt++)gt[yt]===0&&(gt[yt]=pt[vt++]);if(vt!==pt.length)throw new Error("the unsqueezed dimension could not be established");return gt}}$.ShapeUtil=it,$.MathUtil=class{static sqr(ft,pt,mt,gt,vt){if(gt<0||gt>=pt.length)throw new Error("sourceIndex out of bounds");if(mt<0||mt>=ft.length)throw new Error("targetIndex out of bounds");if(gt+vt>pt.length)throw new Error("source indices to be copied are outside bounds");if(mt+vt>ft.length)throw new Error("target array is too small to hold result");for(let yt=0;yt<vt;yt++)ft[mt+yt]+=Math.pow(pt[gt+yt],2)}static axpy(ft,pt,mt,gt,vt,yt){if(gt<0||gt>=pt.length)throw new Error("sourceIndex out of bounds");if(mt<0||mt>=ft.length)throw new Error("targetIndex out of bounds");if(gt+vt>pt.length)throw new Error("source indices to be copied are outside bounds");if(mt+vt>ft.length)throw new Error("target array is too small to hold result");for(let bt=0;bt<vt;bt++)ft[mt+bt]+=yt*pt[gt+bt]}static powx(ft,pt,mt,gt,vt,yt){if(gt<0||gt>=pt.length)throw new Error("sourceIndex out of bounds");if(mt<0||mt>=ft.length)throw new Error("targetIndex out of bounds");if(gt+vt>pt.length)throw new Error("source indices to be copied are outside bounds");if(mt+vt>ft.length)throw new Error("target array is too small to hold result");for(let bt=0;bt<vt;bt++)ft[mt+bt]=Math.pow(pt[gt+bt],yt)}static mul(ft,pt,mt,gt,vt){if(gt<0||gt>=pt.length)throw new Error("sourceIndex out of bounds");if(mt<0||mt>=ft.length)throw new Error("targetIndex out of bounds");if(gt+vt>pt.length)throw new Error("source indices to be copied are outside bounds");if(mt+vt>ft.length)throw new Error("target array is too small to hold result");for(let yt=0;yt<vt;yt++)ft[mt+yt]=pt[gt+yt]*ft[mt+yt]}};class ut{static splitShape(pt,mt,gt,vt){if(gt.length===0){if(!vt)throw new Error("need to know number of outputs when the 'split' attribute is not specified");ut.determineSplit(pt[mt],vt,gt)}const yt=[],bt=[0];for(let xt=0;xt<gt.length;++xt){xt!==0&&bt.push(bt[xt-1]+gt[xt-1]);const _t=pt.slice();_t[mt]=gt[xt],yt.push(_t)}return[yt,bt]}static determineSplit(pt,mt,gt){if(pt%mt!=0)throw new Error("cannot split tensor to equal sized parts");for(let vt=0;vt<mt;++vt)gt.push(pt/mt)}}$.SplitUtil=ut;class dt{static calcReduce(pt,mt,gt,vt,yt){const bt=pt.dims.slice(0);mt.length===0&&bt.forEach((kt,St)=>mt.push(St));const xt=dt.calcReduceShape(bt,mt,!0),_t=it.size(xt),wt=new ot.Tensor(xt,pt.type),At=it.computeStrides(xt),Pt=it.computeStrides(bt),jt=new Array(bt.length);for(let kt=0;kt<_t;kt++){const St=it.offsetToIndices(kt,At);ct.fillIndex(St,bt,jt),wt.set(St,dt.calcReduceByAxis(pt.numberData,mt,bt,0,it.indicesToOffset(jt,Pt),vt,yt))}return gt?wt:new ot.Tensor(dt.calcReduceShape(bt,mt,gt),wt.type,void 0,void 0,wt.data,wt.dataId)}static calcReduceByAxis(pt,mt,gt,vt,yt,bt,xt){let _t=0;if(vt>=mt.length)return bt(pt[yt]);const wt=mt[vt],At=wt>=gt.length?1:it.size(gt.slice(wt+1));for(let Pt=0;Pt<gt[wt];Pt++)_t=Pt===0?dt.calcReduceByAxis(pt,mt,gt,vt+1,yt,bt,xt):xt(_t,dt.calcReduceByAxis(pt,mt,gt,vt+1,yt,bt,xt)),yt+=At;return _t}static calcReduceShape(pt,mt,gt){const vt=pt.slice();for(let yt=0;yt<mt.length;yt++)vt[mt[yt]]=gt?1:0;return vt.filter(yt=>yt!==0)}}$.ReduceUtil=dt;class ht{static adjustPoolAttributes(pt,mt,gt,vt,yt,bt){if(!pt&&gt.length!==mt.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(pt)for(let xt=0;xt<mt.length-2;xt++)xt>=gt.length?gt.push(mt[xt+2]):gt[xt]=mt[xt+2];for(let xt=0;xt<gt.length;xt++)if(xt<vt.length){if(vt[xt]<0)throw new Error("strides should be greater than or equal to 1")}else vt.push(1);for(let xt=0;xt<gt.length;xt++)if(xt<yt.length){if(yt[xt]<0)throw new Error("dilations should be greater than or equal to 1")}else yt.push(1);for(let xt=0;xt<2*gt.length;xt++)if(xt<bt.length){if(bt[xt]<0)throw new Error("pad should be greater than or equal to 1")}else bt.push(0);for(let xt=0;xt<gt.length;xt++){if(gt[xt]<=0)throw new Error("kernel shapes need to be greater than 0");if(bt[xt]>=gt[xt]||bt[xt+gt.length]>=gt[xt])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(pt,mt,gt,vt,yt,bt){if(bt){if(yt.length!==2*(pt.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(mt.length!==pt.length-2)throw new Error("length of strides should be the length of data dimensions");if(vt.length!==pt.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let xt=0;xt<pt.length-2;xt++)ht.adjustPadAndReturnShape(pt[xt+2],mt[xt],gt[xt],vt[xt],yt,xt,xt+pt.length-2,bt)}}static computePoolOutputShape(pt,mt,gt,vt,yt,bt,xt){if(mt.length<=0)throw new Error("input shape must be of size greater than 0");const _t=[mt[0],mt[1]];return ht.computeShapeHelper(pt,mt,_t,gt,vt,yt,bt,xt),_t}static computeConvOutputShape(pt,mt,gt,vt,yt,bt,xt){if(pt.length<=0||mt.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const _t=[pt[0],mt[0]];return ht.computeShapeHelper(!1,pt,_t,gt,vt,yt,bt,xt),_t}static computeShapeHelper(pt,mt,gt,vt,yt,bt,xt,_t){if(pt)for(let wt=0;wt<mt.length-2;wt++)gt.push(1);else for(let wt=0;wt<mt.length-2;wt++)gt.push(ht.adjustPadAndReturnShape(mt[wt+2],vt[wt],yt[wt],bt[wt],xt,wt,wt+mt.length-2,_t))}static adjustPadAndReturnShape(pt,mt,gt,vt,yt,bt,xt,_t){const wt=gt*(vt-1)+1;if(!_t||_t==="NOTSET")return Math.floor((pt+yt[bt]+yt[xt]-wt)/mt+1);switch(_t){case"VALID":return yt[bt]=0,yt[xt]=0,Math.floor((pt-wt)/mt+1);case"SAME_LOWER":case"SAME_UPPER":if(gt!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const At=((pt+mt-1)/mt-1)*mt+vt-pt;return yt[bt]=Math.floor(_t==="SAME_LOWER"?(At+1)/2:At/2),yt[xt]=At-yt[bt],Math.floor((pt+At-vt)/mt+1)}default:throw new Error("Unsupported AutoPad type")}}}$.PoolConvUtil=ht,$.MIN_CLIP=-34028234663852886e22,$.MAX_CLIP=34028234663852886e22,$.decodeUtf8String=function(ft){return new TextDecoder().decode(ft)}},3838:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.WebGpuBackend=void 0;const et=_e(8453),tt=_e(4955),nt=_e(7771),rt=_e(8510),ot=_e(8305);$.WebGpuBackend=class{constructor(){this.currentKernelId=null,this.commandEncoder=null,this.computePassEncoder=null,this.pendingDispatchNumber=0,this.profilingEnabled=!1}get currentKernelCustomData(){if(this.currentKernelId===null)throw new Error("currentKernelCustomData(): currentKernelId is null. (should not happen)");let st=this.kernelCustomData.get(this.currentKernelId);return st||(st={},this.kernelCustomData.set(this.currentKernelId,st)),st}async initialize(){if(!navigator.gpu)throw new Error("WebGpuBackend: WebGPU is not available.");const st=await navigator.gpu.requestAdapter();if(!st)throw new Error("WebGpuBackend: Failed to get GPU adapter.");const ct={requiredLimits:{maxComputeWorkgroupStorageSize:st.limits.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:st.limits.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:st.limits.maxStorageBufferBindingSize}};st.features.has("timestamp-query-inside-passes")&&et.env.webgpu.profilingMode==="default"&&(this.profilingEnabled=!0,ct.requiredFeatures=["timestamp-query-inside-passes"]),this.device=await st.requestDevice(ct),this.gpuDataManager=(0,nt.createGpuDataManager)(this),this.programManager=new ot.ProgramManager(this),this.kernels=new Map,this.kernelPersistentData=new Map,this.kernelCustomData=new Map,this.device.onuncapturederror=lt=>{lt.error instanceof GPUValidationError&&console.error(`An uncaught WebGPU validation error was raised: ${lt.error.message}`)},this.profilingEnabled&&(this.profilingQuerySet=this.device.createQuerySet({type:"timestamp",count:2}))}dispose(){}getCommandEncoder(){return this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder()),this.commandEncoder}getComputePassEncoder(){return this.computePassEncoder||(this.computePassEncoder=this.getCommandEncoder().beginComputePass()),this.computePassEncoder}endComputePass(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}flush(){this.endComputePass(),this.device.queue.submit([this.getCommandEncoder().finish()]),this.gpuDataManager.refreshPendingBuffers(),this.commandEncoder=null,this.pendingDispatchNumber=0}run(st,ct,lt,at,it){if(ct.length!==st.inputTypes.length)throw new Error(`Input size must be equal to ${st.inputTypes.length}.`);const ut=[];for(let yt=0;yt<ct.length;++yt){const bt=this.gpuDataManager.get(ct[yt].data);if(!bt)throw new Error(`no GPU data for input: ${ct[yt].data}`);ut[yt]=bt}const dt=((yt,bt,xt)=>{const _t=bt.map(Pt=>`${Pt.join(",")}`).join("_"),wt=xt.join("_");let At=yt.name;return yt.cacheHint&&(At+="["+yt.cacheHint+"]"),At+=":"+_t+";"+wt,At})(st,ct.map(yt=>yt.dims),ut.map(yt=>yt.type));let ht=this.programManager.getArtifact(dt);const ft=ht?ht.programInfo:typeof st.get=="function"?st.get():st,pt=lt.length===0?ft.outputs.map((yt,bt)=>bt):lt;if(pt.length!==ft.outputs.length)throw new Error(`Output size ${pt.length} must be equal to ${ft.outputs.length}.`);const mt=[],gt=[];for(let yt=0;yt<ft.outputs.length;++yt){if(!Number.isInteger(pt[yt])||pt[yt]<-2||pt[yt]>=ft.outputs.length)throw new Error(`Invalid output index: ${pt[yt]}`);const bt=pt[yt]===-1,xt=pt[yt]===-2,_t=bt||xt?it(ft.outputs[yt].dataType,ft.outputs[yt].dims):at(pt[yt],ft.outputs[yt].dataType,ft.outputs[yt].dims),wt=this.gpuDataManager.get(_t.data);if(!wt)throw new Error(`no GPU data for output: ${_t.data}`);if(bt&&this.temporaryData.push(wt),xt){let At=this.kernelPersistentData.get(this.currentKernelId);At||(At=[],this.kernelPersistentData.set(this.currentKernelId,At)),At.push(wt)}mt.push(_t),gt.push(wt)}const vt=this.programManager.normalizeDispatchGroupSize(ft.dispatchGroup(ct));return ht||(ht=this.programManager.build(ft,vt),this.programManager.setArtifact(dt,ht)),(0,tt.LOG_DEBUG)("info",()=>`[ProgramManager] run "${ft.name}" (key=${dt}) with ${vt[0]}x${vt[1]}x${vt[2]}`),this.programManager.run(ht,ut,gt,vt),mt}upload(st,ct){this.gpuDataManager.upload(st,ct)}memcpy(st,ct){this.gpuDataManager.memcpy(st,ct)}async download(st,ct){const lt=await this.gpuDataManager.download(st);ct().set(new Uint8Array(lt))}alloc(st){return this.gpuDataManager.create(st).id}free(st){return this.gpuDataManager.release(st)}createKernel(st,ct,lt){const at=rt.WEBGPU_OP_RESOLVE_RULES.get(st);if(!at)throw new Error(`kernel not implemented: ${st}`);this.kernels.set(ct,[st,at[0],[at[1],lt]])}releaseKernel(st){const ct=this.kernelPersistentData.get(st);if(ct){for(const lt of ct)this.gpuDataManager.release(lt.id);this.kernelPersistentData.delete(st)}this.kernelCustomData.delete(st),this.kernels.delete(st)}computeKernel(st,ct){const lt=this.kernels.get(st);if(!lt)throw new Error(`kernel not created: ${st}`);const[at,it,ut]=lt;if(this.currentKernelId!==null)throw new Error(`kernel "${at}" is not allowed to be called recursively`);this.currentKernelId=st,ut[0]&&(ut[1]=ut[0](ut[1]),ut[0]=void 0),(0,tt.LOG_DEBUG)("info",()=>`[WebGPU] Start to run kernel "${at}"...`),this.temporaryData=[];try{return it(ct,ut[1]),0}catch(dt){return(0,tt.LOG_DEBUG)("warning",`[WebGPU] Kernel "${at}" failed. Error: ${dt}`),1}finally{for(const dt of this.temporaryData)this.gpuDataManager.release(dt.id);this.temporaryData=[],this.currentKernelId=null}}}},7675:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.init=void 0;const et=_e(7917),tt=_e(3838),nt=_e(4955),rt=_e(6952);class ot{constructor(lt,at,it,ut){this.module=lt,this.dataType=at,this.data=it,this.dims=ut}getFloat32Array(){return new Float32Array(this.module.HEAP8.buffer,this.data,rt.ShapeUtil.size(this.dims))}reshape(lt){if(rt.ShapeUtil.size(lt)!==rt.ShapeUtil.size(this.dims))throw new Error("Invalid new shape");return new ot(this.module,this.dataType,this.data,lt)}}class st{get customData(){return this.backend.currentKernelCustomData}constructor(lt,at,it){this.module=lt,this.backend=at;const ut=lt.HEAPU32;let dt=it>>2;this.opKernelContext=ut[dt++];const ht=ut[dt++],ft=[];for(let pt=0;pt<ht;pt++){const mt=ut[dt++],gt=ut[dt++],vt=ut[dt++],yt=[];for(let bt=0;bt<vt;bt++)yt.push(ut[dt++]);ft.push(new ot(lt,mt,gt,yt))}this.inputs=ft}compute(lt,at){var it,ut,dt;const ht=(ut=(it=at==null?void 0:at.inputs)===null||it===void 0?void 0:it.map(pt=>typeof pt=="number"?this.inputs[pt]:pt))!==null&&ut!==void 0?ut:this.inputs,ft=(dt=at==null?void 0:at.outputs)!==null&&dt!==void 0?dt:[];return this.backend.run(lt,ht,ft,(pt,mt,gt)=>new ot(this.module,mt,this.output(pt,gt),gt),(pt,mt)=>{const gt=(0,et.getTensorElementSize)(pt);if(!gt)throw new Error(`Unsupported data type: ${pt}`);const vt=gt*rt.ShapeUtil.size(mt);return new ot(this.module,pt,this.backend.gpuDataManager.create(vt).id,mt)})}output(lt,at){const it=this.module.stackSave();try{const ut=this.module.stackAlloc(4*(1+at.length));let dt=ut>>2;this.module.HEAPU32[dt++]=at.length;for(let ht=0;ht<at.length;ht++)this.module.HEAPU32[dt++]=at[ht];return this.module._JsepOutput(this.opKernelContext,lt,ut)}finally{this.module.stackRestore(it)}}}$.init=async ct=>{const lt=ct.jsepInit;if(lt&&navigator.gpu){const at=new tt.WebGpuBackend;await at.initialize(),lt({backend:at},it=>at.alloc(it),it=>at.free(it),(it,ut,dt,ht=!1)=>{if(ht)(0,nt.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepCopyGpuToGpu: src=${it}, dst=${ut}, size=${dt}`),at.memcpy(it,ut);else{(0,nt.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepCopyCpuToGpu: dataOffset=${it}, gpuDataId=${ut}, size=${dt}`);const ft=ct.HEAPU8.subarray(it,it+dt);at.upload(ut,ft)}},async(it,ut,dt)=>{(0,nt.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepCopyGpuToCpu: gpuDataId=${it}, dataOffset=${ut}, size=${dt}`),await at.download(it,()=>ct.HEAPU8.subarray(ut,ut+dt))},(it,ut,dt)=>at.createKernel(it,ut,dt),it=>at.releaseKernel(it),(it,ut)=>{(0,nt.LOG_DEBUG)("verbose",()=>`[WebGPU] jsepRun: kernel=${it}, contextDataOffset=${ut}`);const dt=new st(ct,at,ut);return at.computeKernel(it,dt)})}}},4955:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.LOG_DEBUG=$.LOG=void 0;const et=_e(8453),tt=_e(7917),nt=["V","I","W","E","F"];$.LOG=(rt,ot)=>{const st=(0,tt.logLevelStringToEnum)(rt);var ct,lt;st>=(0,tt.logLevelStringToEnum)(et.env.logLevel)&&(ct=st,lt=typeof ot=="function"?ot():ot,console.log(`[${nt[ct]},${new Date().toISOString()}]${lt}`))},$.LOG_DEBUG=(...rt)=>{et.env.debug&&(0,$.LOG)(...rt)}},6952:(b,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MAX_CLIP=$.MIN_CLIP=$.GemmUtil=$.PoolConvUtil=$.ShapeUtil=$.BroadcastUtil=$.MatMulUtil=void 0;class _e{static calcMatMulShape(ot,st){return ot[1]!==st[0]?void 0:[ot[0],st[1]]}}$.MatMulUtil=_e;class et{static calcShape(ot,st,ct=!1){const lt=ot.length,at=st.length;if(lt===0)return st;if(at===0)return ot;const it=Math.max(ot.length,st.length),ut=new Array(it);if(ct){if(lt<2||at<2)return;const dt=_e.calcMatMulShape([ot[lt-2],ot[lt-1]],[st[at-2],st[at-1]]);if(dt===void 0)return;[ut[it-2],ut[it-1]]=dt}for(let dt=ct?3:1;dt<=it;dt++){const ht=lt-dt<0?1:ot[lt-dt],ft=at-dt<0?1:st[at-dt];if(ht!==ft&&ht>1&&ft>1)return;ut[it-dt]=Math.max(ht,ft)}return ut}static isValidBroadcast(ot,st){const ct=ot.length,lt=st.length;if(ct>lt)return!1;for(let at=1;at<=ct;at++)if(ot[ct-at]!==1&&ot[ct-at]!==st[lt-at])return!1;return!0}}$.BroadcastUtil=et;class tt{static size(ot){return tt.getSizeFromDimensionRange(ot,0,ot.length)}static sizeFromDimension(ot,st){if(st<0||st>ot.length)throw new Error(`invalid dimension of ${st} for sizeFromDimension as Tensor has ${ot.length} dimensions.`);return tt.getSizeFromDimensionRange(ot,st,ot.length)}static sizeToDimension(ot,st){if(st<0||st>ot.length)throw new Error(`invalid dimension of ${st} for sizeToDimension as Tensor has ${ot.length} dimensions.`);return tt.getSizeFromDimensionRange(ot,0,st)}static getSizeFromDimensionRange(ot,st,ct){let lt=1;for(let at=st;at<ct;at++){if(ot[at]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");lt*=ot[at]}return lt}static computeStrides(ot){const st=ot.length;if(st===0)return[];if(st===1)return[1];const ct=new Array(st);ct[st-1]=1,ct[st-2]=ot[st-1];for(let lt=st-3;lt>=0;--lt)ct[lt]=ct[lt+1]*ot[lt+1];return ct}static normalizeAxis(ot,st){if(ot<-st&&ot>=st)throw new Error("unsupported axis for this operation.");return ot<0?ot+st:ot}static normalizeAxes(ot,st){return ot.map(ct=>this.normalizeAxis(ct,st??ot.length))}static sortBasedOnPerm(ot,st){return st?st.map(ct=>ot[ct]):ot.slice().reverse()}static padShape(ot,st){const ct=ot.length;return ot.map((lt,at)=>lt+st[at]+st[at+ct])}static areEqual(ot,st){return ot.length===st.length&&ot.every((ct,lt)=>ct===st[lt])}}$.ShapeUtil=tt;class nt{static adjustPoolAttributes(ot,st,ct,lt,at,it){if(!ot&&ct.length!==st.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(ot)for(let ut=0;ut<st.length-2;ut++)ut>=ct.length?ct.push(st[ut+2]):ct[ut]=st[ut+2];for(let ut=0;ut<ct.length;ut++)if(ut<lt.length){if(lt[ut]<0)throw new Error("strides should be greater than or equal to 1")}else lt.push(1);for(let ut=0;ut<ct.length;ut++)if(ut<at.length){if(at[ut]<0)throw new Error("dilations should be greater than or equal to 1")}else at.push(1);for(let ut=0;ut<2*ct.length;ut++)if(ut<it.length){if(it[ut]<0)throw new Error("pad should be greater than or equal to 1")}else it.push(0);for(let ut=0;ut<ct.length;ut++){if(ct[ut]<=0)throw new Error("kernel shapes need to be greater than 0");if(it[ut]>=ct[ut]||it[ut+ct.length]>=ct[ut])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(ot,st,ct,lt,at,it,ut){if(ut){if(at.length!==2*(ot.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(st.length!==ot.length-2)throw new Error("length of strides should be the length of data dimensions");if(lt.length!==ot.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let dt=0;dt<ot.length-2;dt++)nt.adjustPadAndReturnShape(ot[dt+(it?1:2)],st[dt],ct[dt],lt[dt],at,dt,dt+ot.length-2,ut)}}static computePoolOutputShape(ot,st,ct,lt,at,it,ut){if(st.length<=0)throw new Error("input shape must be of size greater than 0");const dt=[st[0],st[1]];return nt.computeShapeHelper(ot,st,dt,ct,lt,at,it,ut),dt}static computeConvOutputShape(ot,st,ct,lt,at,it,ut){if(ot.length<=0||st.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const dt=[ot[0],st[0]];return nt.computeShapeHelper(!1,ot,dt,ct,lt,at,it,ut),dt}static computeShapeHelper(ot,st,ct,lt,at,it,ut,dt){if(ot)for(let ht=0;ht<st.length-2;ht++)ct.push(1);else for(let ht=0;ht<st.length-2;ht++)ct.push(nt.adjustPadAndReturnShape(st[ht+2],lt[ht],at[ht],it[ht],ut,ht,ht+st.length-2,dt))}static adjustPadAndReturnShape(ot,st,ct,lt,at,it,ut,dt){const ht=ct*(lt-1)+1;if(!dt||dt==="NOTSET")return Math.floor((ot+at[it]+at[ut]-ht)/st+1);switch(dt){case"VALID":return at[it]=0,at[ut]=0,Math.floor((ot-ht)/st+1);case"SAME_LOWER":case"SAME_UPPER":if(ct!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const ft=((ot+st-1)/st-1)*st+lt-ot;return at[it]=Math.floor(dt==="SAME_LOWER"?(ft+1)/2:ft/2),at[ut]=ft-at[it],Math.floor((ot+ft-lt)/st+1)}default:throw new Error("Unsupported AutoPad type")}}}$.PoolConvUtil=nt,$.GemmUtil=class{static getShapeOfGemmResult(rt,ot,st,ct,lt){if(rt.length!==2||st.length!==2)throw new Error("shape need to be of size 2");let at,it,ut;ot?(at=rt[1],it=rt[0]):(at=rt[0],it=rt[1]);let dt=-1;if(ct?(ut=st[0],dt=1):(ut=st[1],dt=0),st[dt]!==it)throw new Error("dimension mismatch");if(at<=0||ut<=0||it<=0)throw new Error("invalid shape specified");if(lt&&!et.isValidBroadcast(lt,[at,ut]))throw new Error("gemm: invalid bias shape for broadcast");return[at,ut,it]}},$.MIN_CLIP=-34028234663852886e22,$.MAX_CLIP=34028234663852886e22},387:(b,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createAttributeWithCacheKey=void 0;class _e{constructor(tt){Object.assign(this,tt)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(tt=>`${this[tt]}`).join(";")),this._cacheKey}}$.createAttributeWithCacheKey=et=>new _e(et)},7771:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createGpuDataManager=void 0;const et=_e(4955),tt=_e(1163),nt=st=>16*Math.ceil(st/16);let rt=0;class ot{constructor(ct){this.backend=ct,this.storageCache=new Map,this.downloadCache=new Map,this.buffersForUploadingPending=[],this.buffersPending=[]}upload(ct,lt){const at=lt.buffer,it=lt.byteOffset,ut=lt.byteLength,dt=nt(ut),ht=this.storageCache.get(ct);if(!ht)throw new Error("gpu data for uploading does not exist");if(ht.originalSize!==ut)throw new Error(`inconsistent data size. gpu data size=${ht.originalSize}, data size=${ut}`);const ft=this.backend.device.createBuffer({mappedAtCreation:!0,size:dt,usage:GPUBufferUsage.MAP_WRITE|GPUBufferUsage.COPY_SRC}),pt=ft.getMappedRange();new Uint8Array(pt).set(new Uint8Array(at,it,ut)),ft.unmap();const mt=this.backend.getCommandEncoder();this.backend.endComputePass(),mt.copyBufferToBuffer(ft,0,ht.gpuData.buffer,0,dt),(0,et.LOG_DEBUG)("verbose",()=>`[WebGPU] GpuDataManager.upload(id=${ct})`),this.buffersForUploadingPending.push(ft)}memcpy(ct,lt){const at=this.storageCache.get(ct);if(!at)throw new Error("source gpu data for memcpy does not exist");const it=this.storageCache.get(lt);if(!it)throw new Error("destination gpu data for memcpy does not exist");if(at.originalSize!==it.originalSize)throw new Error("inconsistent source and destination gpu data size");const ut=nt(at.originalSize);this.backend.getCommandEncoder().copyBufferToBuffer(at.gpuData.buffer,0,it.gpuData.buffer,0,ut)}create(ct,lt=GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST){const at=nt(ct),it=this.backend.device.createBuffer({size:at,usage:lt}),ut={id:rt++,type:tt.GpuDataType.default,buffer:it};return this.storageCache.set(ut.id,{gpuData:ut,originalSize:ct}),(0,et.LOG_DEBUG)("verbose",()=>`[WebGPU] GpuDataManager.create(size=${ct}) => id=${ut.id}`),ut}get(ct){var lt;return(lt=this.storageCache.get(ct))===null||lt===void 0?void 0:lt.gpuData}release(ct){const lt=this.storageCache.get(ct);if(!lt)throw new Error("releasing data does not exist");return(0,et.LOG_DEBUG)("verbose",()=>`[WebGPU] GpuDataManager.release(id=${ct}), gpuDataId=${lt.gpuData.id}`),this.storageCache.delete(ct),this.buffersPending.push(lt.gpuData.buffer),this.downloadCache.get(ct)&&this.downloadCache.delete(ct),lt.originalSize}async download(ct){const lt=this.downloadCache.get(ct);if(lt)return lt.data;const at=this.storageCache.get(ct);if(!at)throw new Error("data does not exist");const it=this.backend.getCommandEncoder();this.backend.endComputePass();const ut=this.backend.device.createBuffer({size:at.originalSize,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});it.copyBufferToBuffer(at.gpuData.buffer,0,ut,0,at.originalSize),this.backend.flush();const dt=new Promise(ht=>{ut.mapAsync(GPUMapMode.READ).then(()=>{const ft=ut.getMappedRange().slice(0);ut.destroy(),ht(ft)})});return this.downloadCache.set(ct,{data:dt}),dt}refreshPendingBuffers(){for(const ct of this.buffersForUploadingPending)ct.destroy();for(const ct of this.buffersPending)ct.destroy()}}$.createGpuDataManager=(...st)=>new ot(...st)},8510:function(b,$,_e){var et=this&&this.__createBinding||(Object.create?function(ut,dt,ht,ft){ft===void 0&&(ft=ht);var pt=Object.getOwnPropertyDescriptor(dt,ht);pt&&!("get"in pt?!dt.__esModule:pt.writable||pt.configurable)||(pt={enumerable:!0,get:function(){return dt[ht]}}),Object.defineProperty(ut,ft,pt)}:function(ut,dt,ht,ft){ft===void 0&&(ft=ht),ut[ft]=dt[ht]}),tt=this&&this.__setModuleDefault||(Object.create?function(ut,dt){Object.defineProperty(ut,"default",{enumerable:!0,value:dt})}:function(ut,dt){ut.default=dt}),nt=this&&this.__importStar||function(ut){if(ut&&ut.__esModule)return ut;var dt={};if(ut!=null)for(var ht in ut)ht!=="default"&&Object.prototype.hasOwnProperty.call(ut,ht)&&et(dt,ut,ht);return tt(dt,ut),dt};Object.defineProperty($,"__esModule",{value:!0}),$.WEBGPU_OP_RESOLVE_RULES=void 0;const rt=nt(_e(504)),ot=_e(9770),st=_e(4271),ct=_e(1522),lt=nt(_e(5262)),at=_e(2625),it=nt(_e(9302));$.WEBGPU_OP_RESOLVE_RULES=new Map([["Abs",[it.abs]],["Acos",[it.acos]],["Acosh",[it.acosh]],["Add",[rt.add]],["Asin",[it.asin]],["Asinh",[it.asinh]],["Atan",[it.atan]],["Atanh",[it.atanh]],["AveragePool",[lt.averagePool,lt.parseAveragePoolAttributes]],["Ceil",[it.ceil]],["ClipV10",[it.clipV10]],["Clip",[it.clip]],["Conv",[ot.conv,ot.parseConvAttributes]],["Cos",[it.cos]],["Cosh",[it.cosh]],["Div",[rt.div]],["Elu",[it.elu,it.parseAlphaAttributes]],["Erf",[it.erf]],["Exp",[it.exp]],["Floor",[it.floor]],["Gemm",[st.gemm,st.parseGemmAttributes]],["GlobalAveragePool",[lt.globalAveragePool,lt.parseGlobalAveragePoolAttributes]],["GlobalMaxPool",[lt.globalMaxPool,lt.parseGlobalMaxPoolAttributes]],["LeakyRelu",[it.leakyRelu,it.parseAlphaAttributes]],["MatMul",[ct.matMul]],["MaxPool",[lt.maxPool,lt.parseMaxPoolAttributes]],["Mul",[rt.mul]],["Neg",[it.neg]],["Pow",[rt.pow]],["Reciprocal",[it.reciprocal]],["Relu",[it.relu]],["Sigmoid",[it.sigmoid]],["Sin",[it.sin]],["Sinh",[it.sinh]],["Sqrt",[it.sqrt]],["Sub",[rt.sub]],["Tan",[it.tan]],["Tanh",[it.tanh]],["ThresholdedRelu",[it.thresholdedRelu,it.parseAlphaAttributes]],["Transpose",[at.transpose,at.parseTransposeAttributes]]])},1427:(b,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.biasActivationSnippet=$.activationFnSnippet=$.typeSnippet=void 0,$.typeSnippet=_e=>{switch(_e){case 1:return"f32";case 2:return"vec2<f32>";case 3:return"vec3<f32>";case 4:return"vec4<f32>";default:throw new Error(`${_e}-component is not supported.`)}},$.activationFnSnippet=(_e,et=!1,tt=!1,nt=3)=>"",$.biasActivationSnippet=(_e,et)=>`
      ${_e?"value = value + getBiasByOutputCoords(coords);":""}
      ${et?"value = activation(value, coords);":""}
      `},9456:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createConv2DMatMulProgramInfo=void 0;const et=_e(4955),tt=_e(6952),nt=_e(1163),rt=_e(1427),ot=_e(4085),st=_e(158);$.createConv2DMatMulProgramInfo=(ct,lt,at,it,ut,dt,ht,ft,pt)=>{const mt=at.format==="NHWC",gt=mt?ct[0].dims[3]:ct[0].dims[1],vt=it[0],yt=mt?it[2]:it[3],bt=mt?it[1]:it[2],xt=mt?it[3]:it[1],_t=((gt%4==0||gt%3==0)&&mt||yt%4==0&&!mt)&&xt%4==0,wt=mt?xt:yt*bt,At=mt?yt*bt:xt,Pt=_t?[8,8,1]:[wt<=4?4:16,wt>4&&At<=4?4:16,1],jt=_t?[4,4,1]:[wt<=4?1:2,wt>4&&At<=4?1:2,1],kt=[Math.ceil(wt/Pt[0]/jt[0]),Math.ceil(At/Pt[1]/jt[1]),Math.ceil(vt/Pt[2]/jt[1])];(0,et.LOG_DEBUG)("verbose",()=>`[conv2d_mm_webgpu] dispatch = ${kt}`);const St=_t?mt&&gt%4!=0?3:4:jt[0],Ct=Pt[1]*jt[1],Et=Pt[0]*jt[0],Tt=Math.max(Pt[0]*St,Pt[1]),$t=ut%Ct==0,Ot=dt%Et==0,Rt=ht%Tt==0,Nt=_t?[St,4,4]:[1,1,1],Ft=[`@group(0) @binding(0) var<storage, read> x: array<${_t&&St===4?"vec4<f32>":"f32"}>;`,`@group(0) @binding(1) var<storage, read> w: array<${_t?"vec4<f32>":"f32"}>;`];let Ht=`
      fn setOutputAtIndex(flatIndex : i32, value : ${_t?"vec4<f32>":"f32"}) {
        result[flatIndex] = ${_t?"vec4<f32>":"f32"}(value);
      }
      fn setOutputAtCoords(d0 : i32, d1 : i32, d2 : i32, d3 : i32, value : ${_t?"vec4<f32>":"f32"}) {
        let flatIndex = getOutputIndexFromCoords(vec4<i32>(d0, d1, d2, d3));
        setOutputAtIndex(flatIndex ${_t?"/ 4":""}, value);
      }`;return ft&&(Ft.push(`@group(0) @binding(2) var<storage, read> bias: array<${_t?"vec4<f32>":"f32"}>;`),Ht+=`
        fn getBiasByOutputCoords(coords : vec4<i32>) -> ${_t?"vec4<f32>":"f32"} {
          return bias[coords.${mt?"w":"y"}${_t?"/ 4":""}];
        }`),Object.assign(Object.assign({},lt),{outputs:[{dims:it,dataType:ct[0].dataType,gpuDataType:nt.GpuDataType.default}],dispatchGroup:()=>({x:kt[0],y:kt[1],z:kt[2]}),getShaderSource:()=>`
        ${ot.utilFunctions}
        //struct Uniforms { xShape : vec4<i32>, wShape : vec4<i32>, outShape : vec4<i32>,
        //  outShapeStrides: vec3<i32>, filterDims : vec2<i32>, pad : vec2<i32>, stride : vec2<i32>,
        //  dilation : vec2<i32>, dimAOuter : i32, dimBOuter : i32, dimInner : i32 };
        ${Ft.join("")}
        @group(0) @binding(${Ft.length}) var<storage, read_write> result: array<${_t?"vec4<f32>":"f32"}>;
        //@group(0) @binding(${Ft.length+1}) var<uniform> uniforms: Uniforms;

        const xShape : vec4<i32> = vec4<i32>(${ct[0].dims.join(",")});
        const wShape : vec4<i32> = vec4<i32>(${ct[1].dims.join(",")});
        const outShape : vec4<i32> = vec4<i32>(${it.join(",")});
        const outShapeStrides : vec3<i32> = vec3<i32>(${tt.ShapeUtil.computeStrides(it).slice(0,3).join(",")});
        const filterDims : vec2<i32> = vec2<i32>(${at.kernelShape[0]}, ${at.kernelShape[1]});
        const pad : vec2<i32> = vec2<i32>(${at.pads[0]}, ${at.pads[1]});
        const stride : vec2<i32> = vec2<i32>(${at.strides[0]}, ${at.strides[1]});
        const dilation : vec2<i32> = vec2<i32>(${at.dilations[0]}, ${at.dilations[1]});
        const dimAOuter : i32 = ${ut};
        const dimBOuter : i32 = ${dt};
        const dimInner : i32 = ${ht};
        ${Ht}
        ${((zt,an,Jt,Zt,Qt=!1,qt,vn=!1,Yt=4,rn=4,pn=4)=>{const $n=zt?`
    let coord = vec4<i32>(batch, xRow, xCol, xCh);
    `:`
    let coord = vec4<i32>(batch, xCh, xRow, xCol);
    `,on=zt?`
    let coords = vec4<i32>(
      batch,
      row / outWidth,
      row % outWidth,
      col);
    `:`
    let coords = vec4<i32>(
      batch,
      row,
      col / outWidth,
      col % outWidth);
    `,Tn=zt?"xShape[1]":"xShape[2]",kn=zt?"xShape[2]":"xShape[3]",Bn=zt?"row":"col",On=zt?"col":"row",dn=`
    let inChannels = wShape[2];
    let outWidth = ${zt?"outShape[2]":"outShape[3]"};
    let outRow = ${Bn} / outWidth;
    let outCol = ${Bn} % outWidth;

    let WRow = ${On} / (filterDims[1] * inChannels);
    let WCol = ${On} / inChannels % filterDims[1];
    let xRow = outRow * stride[0] + dilation[0] * WRow - pad[0];
    let xCol = outCol * stride[1] + dilation[1] * WCol - pad[1];
    let xCh = ${On} % inChannels;
    var resData = ${(0,rt.typeSnippet)(Yt)}(0.0);
    // The bounds checking is always needed since we use it to pad zero for
    // the 'same' padding type.
    if (xRow >= 0 && xRow < ${Tn} && xCol >= 0 && xCol < ${kn}) {
      ${$n}
      let xIndex = getIndexFromCoords4D(coord, xShape);
      ${(Ln=>{switch(Ln){case 1:return"resData = x[xIndex];";case 3:return"resData = vec3<f32>(x[xIndex], x[xIndex + 1], x[xIndex + 2]);";case 4:return"resData = x[xIndex / 4];";default:throw new Error(`innerElementSize ${Ln} is not supported.`)}})(Yt)}
    }
    return resData;`,wn=zt?an&&Zt?`
    let col = colIn * ${Yt};
    ${dn}`:`
    let col = colIn * ${Yt};
    if (row < dimAOuter && col < dimInner) {
      ${dn}
    }
    return ${(0,rt.typeSnippet)(Yt)}(0.0);`:Zt&&Jt?`
    let col = colIn * ${Yt};
    ${dn}`:`
    let col = colIn * ${Yt};
    if (row < dimInner && col < dimBOuter) {
      ${dn}
    }
    return ${(0,rt.typeSnippet)(Yt)}(0.0);`,bn=`${(Ln=>{switch(Ln){case 1:return"return w[row * wShape[3] + colIn];";case 4:return"return w[row * wShape[3] / 4 + colIn];";default:throw new Error(`innerElementSize ${Ln} is not supported.`)}})(rn)}`,Sn=(0,rt.typeSnippet)(pn),Pn=zt?(0,rt.typeSnippet)(Yt):(0,rt.typeSnippet)(rn),In=zt?(0,rt.typeSnippet)(rn):(0,rt.typeSnippet)(Yt);return`
    ${(0,rt.activationFnSnippet)(qt,vn,pn===4,4)}
    fn mm_readA(batch: i32, row : i32, colIn : i32) -> ${Pn} {
      ${zt?wn:bn}
    }

    fn mm_readB(batch: i32, row : i32, colIn : i32) -> ${In} {
      ${zt?bn:wn}
    }

    fn mm_write(batch: i32, row : i32, colIn : i32, valueIn : ${Sn}) {
      let col = colIn * ${pn};
      if (row < dimAOuter && col < dimBOuter)
      {
      var value = valueIn;
      let outWidth = ${zt?"outShape[2]":"outShape[3]"};
      ${on}
      ${(0,rt.biasActivationSnippet)(Qt,qt)}
      setOutputAtCoords(coords[0], coords[1], coords[2], coords[3], value);
      }
    }`})(mt,$t,Ot,Rt,ft,void 0,!1,Nt[0],Nt[1],Nt[2])}
            ${_t?(0,st.makeMatMulPackedVec4Source)(jt,Pt,!mt,Tt):(0,st.makeMatMulPackedSource)(jt,Pt,!mt,Tt,!1,void 0,pt)}`})}},4085:(b,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.utilFunctions=void 0,$.utilFunctions=`
fn getIndexFromCoords4D(coords : vec4<i32>, shape : vec4<i32>) -> i32 {
  return dot(coords, vec4<i32>(
      shape.y * shape.z * shape.w, shape.z * shape.w, shape.w, 1));
}
fn getOutputIndexFromCoords(coords : vec4<i32>) -> i32 {
  return dot(coords, vec4<i32>(
    outShapeStrides.x, outShapeStrides.y, outShapeStrides.z, 1));
}
`},158:(b,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.makeMatMulPackedSource=$.makeMatMulPackedVec4Source=void 0,$.makeMatMulPackedVec4Source=(et,tt,nt=!1,rt=32,ot=!1,st=32,ct=!1)=>{const lt=tt[1]*et[1],at=tt[0]*et[0],it=nt?lt:rt,ut=nt?rt:lt,dt=it/tt[0],ht=rt/tt[1];if((!nt||dt!==4||et[1]!==4)&&(nt||dt!==3&&dt!==4)||it%tt[0]!=0||rt%tt[1]!=0||et[0]!==4)throw new Error(`If transposeA ${nt} is true, innerElementSize ${dt} and workPerThread[1] ${et[1]} must be 4.
      Otherwise, innerElementSize ${dt} must be 3 or 4.
  tileAWidth ${it} must be divisible by workgroupSize[0]${tt[0]}. tileInner ${rt} must be divisible by workgroupSize[1] ${tt[1]}. colPerThread ${et[0]} must be 4.`);return`
var<workgroup> mm_Asub : array<array<vec${dt}<f32>, ${it/dt}>, ${ut}>;
var<workgroup> mm_Bsub : array<array<vec4<f32>, ${at/et[0]}>, ${rt}>;

const rowPerThread = ${et[1]};
const colPerThread = ${et[0]};
const innerElementSize = ${dt};
const tileInner = ${rt};

@compute @workgroup_size(${tt[0]}, ${tt[1]}, ${tt[2]})
fn main(@builtin(local_invocation_id) localId : vec3<u32>,
        @builtin(global_invocation_id) globalId : vec3<u32>,
        @builtin(workgroup_id) workgroupId : vec3<u32>) {
  let localRow = i32(localId.y);
  let tileRow = ${ct?"0":"localRow * rowPerThread"};
  let tileCol = i32(localId.x);

  let globalRow = ${ct?"0":"i32(globalId.y) * rowPerThread"};
  let globalCol = i32(globalId.x);
  let batch = ${ot?"0":"i32(globalId.z)"};
  let globalRowStart = i32(workgroupId.y) * ${lt};

  let numTiles = ${ot?`${Math.ceil(st/rt)}`:"(dimInner - 1) / tileInner + 1"};
  var kStart = ${ot?`i32(globalId.z) * ${st}`:"0"};

  var acc: array<vec4<f32>, rowPerThread>;

  // Loop over shared dimension.
  let tileRowB = localRow * ${ht};
  for (var t = 0; t < numTiles; t = t + 1) {
      // Load one tile of A into local memory.
      for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
          let inputRow = tileRow + innerRow;
          let inputCol = tileCol;
          ${ft=nt,ft?`
        mm_Asub[inputRow][inputCol] = mm_readA(batch,
          kStart + inputRow,
          globalRowStart / innerElementSize + inputCol);
        `:`
        mm_Asub[inputRow][inputCol] = mm_readA(batch,
          globalRow + innerRow,
          kStart / innerElementSize + inputCol);
        `}
      }

      // Load one tile of B into local memory.
      for (var innerRow = 0; innerRow < ${ht}; innerRow = innerRow + 1) {
          let inputRow = tileRowB + innerRow;
          let inputCol = tileCol;
          mm_Bsub[inputRow][inputCol] = mm_readB(batch, kStart + inputRow, globalCol);
      }
      kStart = kStart + tileInner;
      workgroupBarrier();

      // Compute acc values for a single thread.
      for (var k = 0; k < tileInner / innerElementSize; k = k + 1) {
          let BCached0 = mm_Bsub[k * innerElementSize][tileCol];
          let BCached1 = mm_Bsub[k * innerElementSize + 1][tileCol];
          let BCached2 = mm_Bsub[k * innerElementSize + 2][tileCol];
          ${dt===3?"":"let BCached3 = mm_Bsub[k * innerElementSize + 3][tileCol];"}

          ${((pt,mt)=>pt?`
        let ACached0 = mm_Asub[k * innerElementSize][localRow];
        let ACached1 = mm_Asub[k * innerElementSize + 1][localRow];
        let ACached2 = mm_Asub[k * innerElementSize + 2][localRow];
        ${mt===3?"":"let ACached3 = mm_Asub[k * innerElementSize + 3][localRow];"}
        for (var i = 0; i < rowPerThread; i = i + 1) {
          acc[i] = BCached0 * ACached0[i] + acc[i];
          acc[i] = BCached1 * ACached1[i] + acc[i];
          acc[i] = BCached2 * ACached2[i] + acc[i];
          ${mt===3?"":"acc[i] = BCached3 * ACached3[i] + acc[i];"}
        }`:`
        for (var i = 0; i < rowPerThread; i = i + 1) {
          let ACached = mm_Asub[tileRow + i][k];
          acc[i] = BCached0 * ACached.x + acc[i];
          acc[i] = BCached1 * ACached.y + acc[i];
          acc[i] = BCached2 * ACached.z + acc[i];
          ${mt===3?"":"acc[i] = BCached3 * ACached.w + acc[i];"}
        }`)(nt,dt)}
      }

      workgroupBarrier();
  }

  for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      mm_write(batch, globalRow + innerRow, globalCol, acc[innerRow]);
  }
}`;var ft};const _e=et=>et?`
            mm_Asub[inputRow][inputCol] = mm_readA(batch,
              kStart + inputRow,
              globalRowStart + inputCol);
            `:`
            mm_Asub[inputRow][inputCol] = mm_readA(batch,
              globalRowStart + inputRow,
              kStart + inputCol);
            `;$.makeMatMulPackedSource=(et,tt,nt=!1,rt=32,ot=!1,st=32,ct=!1)=>{const lt=et[1]*tt[1],at=et[0]*tt[0],it=nt?lt:rt,ut=nt?rt:lt;if(ut%tt[1]!=0||it%tt[0]!=0||rt%tt[1]!=0)throw new Error(`tileAHight ${ut} must be divisible by workgroupSize[1]${tt[1]}, tileAWidth ${it} must be divisible by workgroupSize[0]${tt[0]}, tileInner ${rt} must be divisible by workgroupSize[1]${tt[1]}`);const dt=ut/tt[1],ht=it/tt[0],ft=rt/tt[1],pt=ct?`
    let localRow = i32(localId.y);
    let localCol = i32(localId.x);
    let globalRowStart = i32(workgroupId.y) * ${lt};
    let globalColStart = i32(workgroupId.x) * ${at};

    // Loop over shared dimension.
    for (var t = 0; t < numTiles; t = t + 1) {
      // Load one tile of A into local memory.
      for (var inputRow = localRow; inputRow < ${ut}; inputRow = inputRow + ${tt[1]}) {
        for (var inputCol = localCol; inputCol < ${it}; inputCol = inputCol + ${tt[0]}) {
          ${_e(nt)}
        }
      }
      // Load one tile of B into local memory.
      for (var inputRow = localRow; inputRow < ${rt}; inputRow = inputRow + ${tt[1]}) {
            for (var inputCol = localCol; inputCol < ${at}; inputCol = inputCol + ${tt[0]}) {
          mm_Bsub[inputRow][inputCol] = mm_readB(batch,
            kStart + inputRow,
            globalColStart + inputCol);
        }
      }
      kStart = kStart + tileInner;
      workgroupBarrier();

      // Compute acc values for a single thread.
      var BCached : array<f32, colPerThread>;
      for (var k = 0; k < tileInner; k = k + 1) {
        for (var inner = 0; inner < colPerThread; inner = inner + 1) {
          BCached[inner] = mm_Bsub[k][localCol + inner * ${tt[0]}];
        }
        for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
          let ACached = ${nt?`mm_Asub[k][localRow + innerRow * ${tt[1]}];`:`mm_Asub[localRow + innerRow * ${tt[1]}][k];`}
          for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
            acc[innerRow][innerCol] = acc[innerRow][innerCol] +
                ACached * BCached[innerCol];
          }
        }
      }
      workgroupBarrier();
    }
    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      let gRow = globalRowStart + localRow + innerRow * ${tt[1]};
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        let gCol = globalColStart + localCol + innerCol * ${tt[0]};
        mm_write(batch, gRow, gCol, acc[innerRow][innerCol]);
      }
    }
    `:`
let tileRow = i32(localId.y) * rowPerThread;
let tileCol = i32(localId.x) * colPerThread;

let globalRow = i32(globalId.y) * rowPerThread;
let globalCol = i32(globalId.x) * colPerThread;
let globalRowStart = i32(workgroupId.y) * ${lt};

let tileRowA = i32(localId.y) * ${dt};
let tileColA = i32(localId.x) * ${ht};
let tileRowB = i32(localId.y) * ${ft};
// Loop over shared dimension.
for (var t = 0; t < numTiles; t = t + 1) {
  // Load one tile of A into local memory.
  for (var innerRow = 0; innerRow < ${dt}; innerRow = innerRow + 1) {
    for (var innerCol = 0; innerCol < ${ht}; innerCol = innerCol + 1) {
      let inputRow = tileRowA + innerRow;
      let inputCol = tileColA + innerCol;
      ${_e(nt)}
    }
  }

  // Load one tile of B into local memory.
  for (var innerRow = 0; innerRow < ${ft}; innerRow = innerRow + 1) {
    for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
      let inputRow = tileRowB + innerRow;
      let inputCol = tileCol + innerCol;
      mm_Bsub[inputRow][inputCol] = mm_readB(batch,
        kStart + inputRow,
        globalCol + innerCol);
    }
  }
  kStart = kStart + tileInner;
  workgroupBarrier();

  // Compute acc values for a single thread.
  var BCached : array<f32, colPerThread>;
  for (var k = 0; k < tileInner; k = k + 1) {
    for (var inner = 0; inner < colPerThread; inner = inner + 1) {
      BCached[inner] = mm_Bsub[k][tileCol + inner];
    }

    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      ${(mt=>mt?"let ACached = mm_Asub[k][tileRow + innerRow];":"let ACached = mm_Asub[tileRow + innerRow][k];")(nt)}
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        acc[innerRow][innerCol] = acc[innerRow][innerCol] + ACached * BCached[innerCol];
      }
    }
  }

  workgroupBarrier();
}

for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
  for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
    mm_write(batch, globalRow + innerRow, globalCol + innerCol,
        acc[innerRow][innerCol]);
  }
}
`;return`
  var<workgroup> mm_Asub : array<array<f32, ${it}>, ${ut}>;
  var<workgroup> mm_Bsub : array<array<f32, ${at}>, ${rt}>;
  const rowPerThread = ${et[1]};
  const colPerThread = ${et[0]};
  const tileInner = ${rt};

@compute @workgroup_size(${tt[0]}, ${tt[1]}, ${tt[2]})
fn main(@builtin(local_invocation_id) localId : vec3<u32>,
        @builtin(global_invocation_id) globalId : vec3<u32>,
        @builtin(workgroup_id) workgroupId : vec3<u32>) {
    let batch = ${ot?"0":"i32(globalId.z)"};
    let numTiles = ${ot?`${Math.ceil(st/rt)}`:"(dimInner - 1) / tileInner + 1"};
    var kStart = ${ot?`i32(globalId.z) * ${st}`:"0"};

    var acc : array<array<f32, colPerThread>, rowPerThread>;

    // Without this initialization strange values show up in acc.
    for (var innerRow = 0; innerRow < rowPerThread; innerRow = innerRow + 1) {
      for (var innerCol = 0; innerCol < colPerThread; innerCol = innerCol + 1) {
        acc[innerRow][innerCol] = 0.0;
      }
    }
    ${pt}
  }
`}},504:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.sub=$.pow=$.mul=$.div=$.add=void 0;const et=_e(6952),tt=_e(1163),nt=_e(2075),rt=(ot,st,ct,lt,at)=>{const it={name:st,inputTypes:[tt.GpuDataType.default,tt.GpuDataType.default],cacheHint:at};return Object.assign(Object.assign({},it),{get:()=>((ut,dt,ht,ft,pt,mt=dt.dataType)=>{var gt,vt;const yt=!et.ShapeUtil.areEqual(dt.dims,ht.dims);let bt=dt.dims,xt=et.ShapeUtil.size(dt.dims),_t=!1;if(yt){const wt=et.BroadcastUtil.calcShape(dt.dims,ht.dims,!1);if(!wt)throw new Error("Can't perform binary op on the given tensors");bt=wt,xt=et.ShapeUtil.size(bt);let At=1;for(let Pt=0;Pt<bt.length;Pt++){const jt=(gt=dt.dims[dt.dims.length-Pt])!==null&&gt!==void 0?gt:1;if(jt!==((vt=ht.dims[ht.dims.length-Pt])!==null&&vt!==void 0?vt:1))break;At*=jt}At%4==0&&(_t=!0)}else _t=!0;return Object.assign(Object.assign({},ut),{getShaderSource:wt=>((At,Pt,jt,kt,St,Ct,Et,Tt,$t="f32",Ot="f32",Rt="f32")=>{const Nt=et.ShapeUtil.size(kt),Ft=Math.ceil(Nt/4);let Ht,zt;typeof Et=="string"?Ht=zt=(Qt,qt)=>`${Et}((${Qt}),(${qt}))`:typeof Et=="function"?Ht=zt=Et:(Ht=Et.scalar,zt=Et.vector);let an="";const Jt=(0,nt.createIndicesHelper)("output",kt);if(Ct){const Qt=qt=>{const vn=et.ShapeUtil.computeStrides(qt),Yt=[];for(let rn=qt.length-1;rn>=0;rn--){const pn=kt.length===0?"0u":kt.length===1?"(*outputIndices)":`(*outputIndices)[${rn+kt.length-qt.length}]`;Yt.push(`${vn[rn]}u * (${pn} % ${qt[rn]}u)`)}return Yt.length>0?Yt.join("+"):"0u"};an=`
  ${Jt.o2iImpl}

  fn calcOffsetA(outputIndices: ptr<function, ${Jt.iType}>) -> u32 {
    return ${Qt(Pt)};
  }

  fn calcOffsetB(outputIndices: ptr<function, ${Jt.iType}>) -> u32 {
    return ${Qt(jt)};
  }
  `}let Zt;if(St)Zt=Ct?`
      ${Jt.indicesVariableDeclaration("outputIndices")}
      ${Jt.o2iCall("global_idx * 4u","outputIndices")}
      let offsetA = calcOffsetA(&outputIndices);
      let offsetB = calcOffsetB(&outputIndices);
      outputData[global_idx] = ${zt("aData[offsetA / 4u]","bData[offsetB / 4u]")};`:`outputData[global_idx] = ${zt("aData[global_idx]","bData[global_idx]")};`;else{if(!Ct)throw new Error("no necessary to use scalar implementation for element-wise binary op implementation.");const Qt=qt=>{const vn=`aData[indexA${qt}][componentA${qt}]`,Yt=`bData[indexB${qt}][componentB${qt}]`;return`
      ${Jt.o2iCall(`global_idx * 4u + ${qt}u`,"outputIndices")}
      let offsetA${qt} = calcOffsetA(&outputIndices);
      let offsetB${qt} = calcOffsetB(&outputIndices);
      let indexA${qt} = offsetA${qt} / 4u;
      let indexB${qt} = offsetB${qt} / 4u;
      let componentA${qt} = offsetA${qt} % 4u;
      let componentB${qt} = offsetB${qt} % 4u;
      outputData[global_idx][${qt}] = ${Ht(vn,Yt)};`};Zt=`
      ${Jt.indicesVariableDeclaration("outputIndices")}
      ${Qt(0)}
      ${Qt(1)}
      ${Qt(2)}
      ${Qt(3)}`}return`
  @group(0) @binding(0) var<storage, read> aData : array<vec4<${$t}>>;
  @group(0) @binding(1) var<storage, read> bData : array<vec4<${Ot}>>;
  @group(0) @binding(2) var<storage, read_write> outputData : array<vec4<${Rt}>>;

  ${Tt??""}
  ${an}

  ${At.mainStart()}
    ${At.guardAgainstOutOfBoundsWorkgroupSizes(Ft)}
    ${Zt}
  }`})(wt,dt.dims,ht.dims,bt,_t,yt,ft,pt),outputs:[{dims:bt,dataType:mt,gpuDataType:tt.GpuDataType.default}],dispatchGroup:()=>({x:Math.ceil(xt/64/(_t?4:1))})})})(it,ot[0],ot[1],ct,lt)})};$.add=ot=>{ot.compute(rt(ot.inputs,"Add",(st,ct)=>`${st}+${ct}`))},$.div=ot=>{ot.compute(rt(ot.inputs,"Div",(st,ct)=>`${st}/${ct}`))},$.mul=ot=>{ot.compute(rt(ot.inputs,"Mul",(st,ct)=>`${st}*${ct}`))},$.pow=ot=>{ot.compute(rt(ot.inputs,"Pow",{scalar:(st,ct)=>`pow_f32(${st},${ct})`,vector:(st,ct)=>`pow_vf32(${st},${ct})`},`
    fn pow_f32(a : f32, b : f32) -> f32 {
      if (b == 0.0) {
        return 1.0;
      } else if (a < 0.0 && b != floor(b)) {
        return pow(a, b); // NaN
      }
      return select(sign(a), 1.0, round(abs(b) % 2.0) != 1.0) * pow(abs(a), b);
    }
    fn pow_vf32(a : vec4<f32>, b : vec4<f32>) -> vec4<f32> {
      // TODO: implement vectorized pow
      return vec4<f32>(pow_f32(a.x, b.x), pow_f32(a.y, b.y), pow_f32(a.z, b.z), pow_f32(a.w, b.w));
    }
      `))},$.sub=ot=>{ot.compute(rt(ot.inputs,"Sub",(st,ct)=>`${st}-${ct}`))}},2075:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createShaderHelper=$.createIndicesHelper=$.WORKGROUP_SIZE=void 0;const et=_e(6952);$.WORKGROUP_SIZE=64,$.createIndicesHelper=(nt,rt)=>{const ot=rt.length<2?"u32":`array<u32, ${rt.length}>`,st=et.ShapeUtil.computeStrides(rt);let ct="";for(let it=0;it<rt.length-1;it++)ct+=`
    let dim${it} = current / ${st[it]}u;
    let rest${it} = current % ${st[it]}u;
    (*indices)[${it}] = dim${it};
    current = rest${it};
    `;ct+=`(*indices)[${rt.length-1}] = current;`;const lt=rt.length<2?"":`
  fn ih_o2i_${nt}(offset: u32, indices: ptr<function, ${ot}>) {
    var current = offset;
    ${ct}
  }`,at=[];if(rt.length===0)at.push("0u");else if(rt.length<2)at.push("(*indices)");else for(let it=rt.length-1;it>=0;it--)at.push(`${st[it]}u * ((*indices)[${it}])`);return{o2iImpl:lt,o2iCall:(it,ut)=>rt.length<2?`${ut}=${it};`:`ih_o2i_${nt}(${it}, &${ut});`,i2oImpl:rt.length<2?"":`
  fn ih_i2o_${nt}(indices: ptr<function, ${ot}>) -> u32 {
    return ${at.join("+")};
  }`,i2oExpression:(it,ut)=>rt.length<2?`(${ut?"*":""}${it})`:`ih_i2o_${nt}(${ut?"":"&"}${it})`,indicesVariableDeclaration:(it,ut)=>`var ${it}:${ot}${ut?`=${ot}(${ut.join(",")})`:""};`,iType:ot}};class tt{constructor(rt){this.normalizedDispatchGroup=rt}guardAgainstOutOfBoundsWorkgroupSizes(rt){return`if (global_idx >= ${typeof rt=="number"?`${rt}u`:rt}) { return; }`}mainStart(rt=$.WORKGROUP_SIZE){const ot=typeof rt=="number"?rt:rt[0],st=typeof rt=="number"?1:rt[1],ct=typeof rt=="number"?1:rt[2],lt=this.normalizedDispatchGroup[1]===1&&this.normalizedDispatchGroup[2]===1;return`@compute @workgroup_size(${ot}, ${st}, ${ct})
  fn main(${lt?"@builtin(global_invocation_id) global_id : vec3<u32>":`@builtin(local_invocation_index) local_index : u32,
    @builtin(workgroup_id) workgroup_id : vec3<u32>`}) {
    ${lt?"let global_idx = global_id.x;":`let global_idx = (workgroup_id.z * ${this.normalizedDispatchGroup[0]*this.normalizedDispatchGroup[1]}u +
          workgroup_id.y * ${this.normalizedDispatchGroup[0]}u + workgroup_id.x) * ${ot*st*ct}u + local_index;`}
  `}}$.createShaderHelper=nt=>new tt(nt)},9192:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createGroupedConvProgramInfoLoader=void 0;const et=_e(6952),tt=_e(1163),nt=_e(2075),rt=_e(9770),ot=_e(3997);$.createGroupedConvProgramInfoLoader=(st,ct,lt)=>{const at=(it=st.length>2,ut=ct.cacheKey,{name:"GroupedConv",inputTypes:it?[tt.GpuDataType.default,tt.GpuDataType.default,tt.GpuDataType.default]:[tt.GpuDataType.default,tt.GpuDataType.default],cacheHint:ut});var it,ut;return Object.assign(Object.assign({},at),{get:()=>((dt,ht,ft,pt)=>{const mt=dt.length>2,gt=mt?"value += b[output_channel];":"",vt=dt[0].dims,yt=dt[1].dims,bt=yt[0]/ft.group,xt="f32",{activationFunction:_t,applyActivation:wt}=(0,ot.getActicationSnippet)(ft),At=[`@group(0) @binding(0) var<storage, read> x : array<${xt}>;`,`@group(0) @binding(1) var<storage, read> w : array<${xt}>;`];mt&&At.push(`@group(0) @binding(2) var<storage, read> b : array<${xt}>;`);const Pt=ft.format==="NHWC",jt=(0,rt.calculateOutputShape)(vt,yt,ft.dilations,ft.pads,ft.strides,Pt),kt=et.ShapeUtil.size(jt),St=(0,nt.createIndicesHelper)("output",jt),Ct=(0,nt.createIndicesHelper)("x",vt),Et=(0,nt.createIndicesHelper)("w",yt);return Object.assign(Object.assign({},ht),{outputs:[{dims:pt?pt(jt):jt,dataType:dt[0].dataType,gpuDataType:tt.GpuDataType.default}],getShaderSource:Tt=>`
  const strides: vec2<u32> = vec2(${ft.strides[0]}u, ${ft.strides[1]}u);
  const pads: vec2<u32> = vec2(${ft.pads[0]}u, ${ft.pads[1]}u);

  ${At.join(`
`)}
  @group(0) @binding(${At.length}) var<storage, read_write> output : array<${xt}>;

  ${_t}
  ${St.o2iImpl}
  ${Ct.i2oImpl}
  ${Et.i2oImpl}

  ${Tt.mainStart()}
    ${Tt.guardAgainstOutOfBoundsWorkgroupSizes(kt)}

    ${St.indicesVariableDeclaration("outputIndices")}
    ${St.o2iCall("global_idx","outputIndices")}
    let batch: u32 = outputIndices[0];
    let output_channel: u32 = outputIndices[${Pt?3:1}];
    let xRCCorner: vec2<u32> = vec2<u32>(outputIndices[${Pt?1:2}], outputIndices[${Pt?2:3}]) * strides - pads;
    let group_id: u32 = output_channel / ${bt}u;

    var value: ${xt} = ${xt}(0);
    for (var wInChannel: u32 = 0u; wInChannel < ${yt[1]}u; wInChannel++) {
      let input_channel = group_id * ${yt[1]}u + wInChannel;
      for (var wHeight: u32 = 0u; wHeight < ${yt[2]}u; wHeight++) {
        let xHeight = xRCCorner.x + wHeight * ${ft.dilations[0]}u;

        if (xHeight < 0u || xHeight >= ${vt[Pt?1:2]}u) {
          continue;
        }

        for (var wWidth: u32 = 0u; wWidth < ${yt[3]}u; wWidth++) {
          let xWidth = xRCCorner.y + wWidth * ${ft.dilations[1]}u;
          if (xWidth < 0u || xWidth >= ${vt[Pt?2:3]}u) {
            continue;
          }

          ${Ct.indicesVariableDeclaration("xIndices",Pt?["batch","xHeight","xWidth","input_channel"]:["batch","input_channel","xHeight","xWidth"])}
          let xVal = x[${Ct.i2oExpression("xIndices")}];
          ${Et.indicesVariableDeclaration("wIndices",["output_channel","wInChannel","wHeight","wWidth"])}
          let wVal = w[${Et.i2oExpression("wIndices")}];
          value += xVal*wVal;
        }
      }
    }
    ${gt}
    ${wt}
    output[global_idx] = value;
  }`,dispatchGroup:()=>({x:Math.ceil(kt/64)})})})(st,at,ct,lt)})}},9770:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.conv=$.parseConvAttributes=$.calculateOutputShape=void 0;const et=_e(6952),tt=_e(387),nt=_e(9192),rt=_e(3822),ot=_e(3997),st=_e(2625);$.calculateOutputShape=(at,it,ut,dt,ht,ft)=>{const pt=at[0],mt=at.slice(ft?1:2,ft?3:4),gt=mt.length,vt=it[0],yt=it.slice(2).map((xt,_t)=>xt+(xt-1)*(ut[_t]-1)),bt=mt.map((xt,_t)=>xt+dt[_t]+dt[_t+gt]).map((xt,_t)=>Math.floor((xt-yt[_t]+ht[_t])/ht[_t]));return bt.splice(0,0,pt),bt.splice(ft?3:1,0,vt),bt};const ct=(0,tt.createAttributeWithCacheKey)({perm:[2,3,1,0]}),lt=(at,it)=>{const ut=at.kernelShape.slice();for(let ft=2;ft<it[1].dims.length;++ft)ut[ft-2]===0&&(ut[ft-2]=it[1].dims[ft]);const dt=at.pads.slice();et.PoolConvUtil.adjustPadsBasedOnAutoPad(it[0].dims,at.strides,at.dilations,ut,dt,at.format==="NHWC",at.autoPad);const ht=Object.assign({},at);return Object.assign(ht,{kernelShape:ut,pads:dt,cacheKey:at.cacheKey}),ht};$.parseConvAttributes=at=>{const it=(0,ot.parseInternalActivationAttributes)(at),ut=at.format,dt=["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][at.auto_pad],ht=at.dilations,ft=at.group,pt=at.kernel_shape,mt=at.pads,gt=at.strides,vt=at.w_is_const();return(0,tt.createAttributeWithCacheKey)(Object.assign({autoPad:dt,format:ut,dilations:ht,group:ft,kernelShape:pt,pads:mt,strides:gt,wIsConst:vt},it))},$.conv=(at,it)=>{((ut,dt)=>{if(!ut||ut.length!==2&&ut.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(ut[0].dims.length!==4&&ut[0].dims.length!==3)throw new Error("currently only support conv 1D and 2D");if(ut[0].dims.length!==ut[1].dims.length)throw new Error("filter does not have same dimension as input");if(ut[0].dims[dt.format==="NHWC"?ut[0].dims.length-1:1]!==ut[1].dims[1]*dt.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(ut.length===3&&(ut[2].dims.length!==1||ut[1].dims[0]!==ut[2].dims[0]))throw new Error("invalid bias");const ht=ut[0].dims.length-2;if(dt.dilations.length!==ht)throw new Error(`dilations should be ${ht}D`);if(dt.strides.length!==ht)throw new Error(`strides should be ${ht}D`);if(dt.pads.length!==2*ht)throw new Error(`pads should be ${2*ht}D`);if(dt.kernelShape.length!==0&&dt.kernelShape.length!==ut[1].dims.length-2)throw new Error("invalid kernel shape");if(ut[0].dataType!==1||ut[1].dataType!==1)throw new Error("Conv input(X,W) should be float tensor");if(ut.length===3&&ut[2].dataType!==1)throw new Error("Conv input(bias) should be float tensor")})(at.inputs,it),at.inputs[0].dims.length===3?((ut,dt)=>{const ht=dt.format==="NHWC",ft=[ut.inputs[0].reshape(ht?[ut.inputs[0].dims[0],1,ut.inputs[0].dims[1],ut.inputs[0].dims[2]]:[ut.inputs[0].dims[0],ut.inputs[0].dims[1],1,ut.inputs[0].dims[2]]),ut.inputs[1].reshape([ut.inputs[1].dims[0],ut.inputs[1].dims[1],1,ut.inputs[1].dims[2]])];ut.inputs.length===3&&ft.push(ut.inputs[2]);const pt=[0,dt.pads[0],0,dt.pads[1]],mt=[1].concat(dt.strides),gt=[1].concat(dt.dilations),vt=[1].concat(dt.kernelShape),yt=lt(Object.assign(Object.assign({},dt),{pads:pt,strides:mt,dilations:gt,kernelShape:vt}),ft);ut.compute((0,nt.createGroupedConvProgramInfoLoader)(ft,yt,bt=>ht?[bt[0],bt[2],bt[3]]:[]))})(at,it):((ut,dt,ht)=>{var ft;const pt=lt(ht,dt),mt=dt.length===3,gt=ht.format==="NHWC",vt=dt[0].dims[gt?1:2],yt=dt[0].dims[gt?2:3],bt=dt[0].dims[gt?3:1],xt=dt[1].dims[2],_t=dt[1].dims[3],wt=(0,$.calculateOutputShape)(dt[0].dims,dt[1].dims,ht.dilations,pt.pads,ht.strides,gt),At=wt[gt?1:2],Pt=wt[gt?2:3],jt=wt[gt?3:1];if(gt&&xt===vt&&_t===yt&&ht.autoPad==="VALID"||xt===1&&_t===1&&ht.dilations[0]===1&&ht.dilations[1]===1&&ht.strides[0]===1&&ht.strides[1]===1&&(ht.autoPad==="SAME_UPPER"||ht.autoPad==="SAME_LOWER"||ht.autoPad==="VALID")||!gt||ht.group!==1)return void ut.compute((0,nt.createGroupedConvProgramInfoLoader)(dt,pt));const kt=gt?At*Pt:jt,St=gt?jt:At*Pt,Ct=xt*_t*bt,Et=(ft=ut.customData.wT)!==null&&ft!==void 0?ft:ut.compute(Object.assign(Object.assign({},st.transposeProgramMetadata),{cacheHint:ct.cacheKey,get:()=>(0,st.createTransposeProgramInfo)(dt[1],ct.perm)}),{inputs:[1],outputs:[ht.wIsConst?-2:-1]})[0];ht.wIsConst&&!ut.customData.wT&&(ut.customData.wT=Et);const Tt=[dt[0],Et];mt&&(gt||dt[2].dims.length!==1?Tt.push(dt[2]):Tt.push(dt[2].reshape([dt[2].dims[0],1,1]))),ut.compute((0,rt.createConv2DMatMulProgramInfoLoader)(Tt,pt,wt,kt,St,Ct,mt,!0),{inputs:Tt})})(at,at.inputs,it)}},3822:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createConv2DMatMulProgramInfoLoader=void 0;const et=_e(1163),tt=_e(9456);$.createConv2DMatMulProgramInfoLoader=(nt,rt,ot,st,ct,lt,at,it)=>{const ut=((dt,ht)=>({name:"Conv2DMatMul",inputTypes:dt?[et.GpuDataType.default,et.GpuDataType.default,et.GpuDataType.default]:[et.GpuDataType.default,et.GpuDataType.default],cacheHint:ht}))(at,rt.cacheKey);return Object.assign(Object.assign({},ut),{get:()=>(0,tt.createConv2DMatMulProgramInfo)(nt,ut,rt,ot,st,ct,lt,at,it)})}},3997:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseInternalActivationAttributes=$.getActicationSnippet=void 0;const et=_e(6952);$.getActicationSnippet=tt=>{switch(tt.activation){case"Relu":return{activationFunction:"",applyActivation:"value = max(value, 0.0);"};case"Sigmoid":return{activationFunction:"",applyActivation:"value = (1.0 / (1.0 + exp(-value)));"};case"Clip":return{activationFunction:`const clip_min_=f32(${tt.clipMin});const clip_max_=f32(${tt.clipMax});`,applyActivation:"value = clamp(value, clip_min_, clip_max_);"};default:return{activationFunction:"",applyActivation:""}}},$.parseInternalActivationAttributes=tt=>{const nt=(tt==null?void 0:tt.activation)||"";if(nt==="Clip"){const[rt,ot]=(tt==null?void 0:tt.activation_params)||[et.MIN_CLIP,et.MAX_CLIP];return{activation:nt,clipMax:ot,clipMin:rt,activationCacheKey:`${nt}:${rt},${ot}`}}return{activation:nt,activationCacheKey:nt}}},4271:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseGemmAttributes=$.gemm=void 0;const et=_e(6952),tt=_e(387),nt=_e(1163);$.gemm=(rt,ot)=>{(st=>{if(!st)throw new Error("Input is missing");if(st.length<2||st.length>3)throw new Error("Invaid input number.");if(st.length===3&&st[2].dims.length>2)throw new Error("Invalid input shape of C");if(st[0].dataType!==1||st[1].dataType!==1||st.length===3&&st[2].dataType!==1)throw new Error("Invalid input type.");if(st[0].dataType!==st[1].dataType||st.length===3&&st[0].dataType!==st[2].dataType)throw new Error("Input types are mismatched")})(rt.inputs),rt.compute(((st,ct)=>{const lt={name:"Gemm",inputTypes:st.length===3?[nt.GpuDataType.default,nt.GpuDataType.default,nt.GpuDataType.default]:[nt.GpuDataType.default,nt.GpuDataType.default],cacheHint:ct.cacheKey};return Object.assign(Object.assign({},lt),{get:()=>((at,it,ut)=>{const dt=it[0].dims.slice(),ht=it[1].dims.slice(),[ft,pt,mt]=et.GemmUtil.getShapeOfGemmResult(dt,ut.transA,ht,ut.transB,it.length===3?it[2].dims:void 0),gt=[ft,pt];if(!gt)throw new Error("Can't use gemm on the given tensors");const vt=et.ShapeUtil.size(gt);let yt="";ut.transA&&ut.transB?yt="value += a[k * M + m] * b[n * K + k];":ut.transA&&!ut.transB?yt="value += a[k * M + m] * b[k * N + n];":!ut.transA&&ut.transB?yt="value += a[m * K + k] * b[n * K + k];":ut.transA||ut.transB||(yt="value += a[m * K + k] * b[k * N + n];");const bt="f32",xt=ut.alpha===1?"":"value *= alpha;",_t=it.length===3?`value += beta * c[${((At,Pt,jt)=>{if(jt.length===0)return"0u";const kt=jt.length===1&&At!==1||jt.length===2&&jt[0]!==At,St=jt[jt.length-1]!==Pt;let Ct="0u";return kt||(Ct+=`+ m * ${jt[jt.length-1]}u`),St||(Ct+="+n"),Ct})(ft,pt,it[2].dims)}];`:"",wt=[`@group(0) @binding(0) var<storage, read> a : array<${bt}>;`,`@group(0) @binding(1) var<storage, read> b : array<${bt}>;`];return it.length===3&&wt.push(`@group(0) @binding(2) var<storage, read> c : array<${bt}>;`),Object.assign(Object.assign({},at),{outputs:[{dims:gt,dataType:it[0].dataType,gpuDataType:nt.GpuDataType.default}],getShaderSource:At=>`
  const M: u32 = ${ft}u;
  const N: u32 = ${pt}u;
  const K: u32 = ${mt}u;
  const alpha = ${bt}(${ut.alpha});
  const beta = ${bt}(${ut.beta});

  ${wt.join(`
`)}
  @group(0) @binding(${it.length}) var<storage, read_write> output : array<${bt}>;

  ${At.mainStart()}
    ${At.guardAgainstOutOfBoundsWorkgroupSizes(vt)}

    let m = global_id.x / N;
    let n = global_id.x % N;

    var value = ${bt}(0);
    for (var k: u32 = 0u; k<${mt}u; k++) {
      ${yt}
    }

    ${xt}
    ${_t}
    output[global_id.x] = value;

  }`,dispatchGroup:()=>({x:Math.ceil(vt/64)})})})(lt,st,ct)})})(rt.inputs,ot))},$.parseGemmAttributes=rt=>(0,tt.createAttributeWithCacheKey)(rt)},1522:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.matMul=$.createMatmulProgramInfoLoader=void 0;const et=_e(6952),tt=_e(1163),nt=_e(3997);$.createMatmulProgramInfoLoader=(rt,ot)=>{const st=(ct=rt.length>2,lt=ot.activationCacheKey,{name:"MatMul",inputTypes:ct?[tt.GpuDataType.default,tt.GpuDataType.default,tt.GpuDataType.default]:[tt.GpuDataType.default,tt.GpuDataType.default],cacheHint:lt});var ct,lt;return Object.assign(Object.assign({},st),{get:()=>((at,it,ut)=>{const dt=it[0].dims,ht=it[1].dims,ft=et.BroadcastUtil.calcShape(dt,ht,!0);if(!ft)throw new Error("Can't use matmul on the given tensors");const pt=et.ShapeUtil.size(ft),mt="f32",{activationFunction:gt,applyActivation:vt}=(0,nt.getActicationSnippet)(ut),yt=ft[ft.length-2],bt=dt[dt.length-1],xt=ft[ft.length-1];return Object.assign(Object.assign({},at),{outputs:[{dims:ft,dataType:it[0].dataType,gpuDataType:tt.GpuDataType.default}],getShaderSource:_t=>`
  const M: u32 = ${yt}u;
  const N: u32 = ${xt}u;
  const K: u32 = ${bt}u;

  @group(0) @binding(0) var<storage, read> a : array<${mt}>;
  @group(0) @binding(1) var<storage, read> b : array<${mt}>;
  @group(0) @binding(2) var<storage, read_write> output : array<${mt}>;

  ${gt}

  ${_t.mainStart()}
    ${_t.guardAgainstOutOfBoundsWorkgroupSizes(pt)}

    let stack = global_idx / (M * N);
    let mn = global_idx % (M * N);
    let n = global_idx % N;
    let m = mn / N;

    let offsetA = stack * (M * K);
    let offsetB = stack * (K * N);

    var value = ${mt}(0);
    for (var k: u32 = 0u; k<${bt}u; k++) {
      value += a[offsetA + m * K + k] * b[offsetB + k * N + n];
    }
    ${vt}
    output[global_idx] = value;
  }`,dispatchGroup:()=>({x:Math.ceil(pt/64)})})})(st,rt,ot)})},$.matMul=rt=>{(ot=>{if(!ot||ot.length!==2)throw new Error("MatMul requires 2 inputs.");if(ot[0].dims[ot[0].dims.length-1]!==ot[1].dims[ot[1].dims.length-2])throw new Error("shared dimension does not match.");if(ot[0].dataType!==1||ot[1].dataType!==1)throw new Error("inputs should be float type")})(rt.inputs),rt.compute((0,$.createMatmulProgramInfoLoader)(rt.inputs,{activation:"",activationCacheKey:""}))}},5262:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.globalMaxPool=$.parseGlobalMaxPoolAttributes=$.parseMaxPoolAttributes=$.maxPool=$.globalAveragePool=$.parseGlobalAveragePoolAttributes=$.averagePool=$.parseAveragePoolAttributes=void 0;const et=_e(6952),tt=_e(387),nt=_e(1163),rt=_e(2075),ot=dt=>{if(!dt||dt.length!==1)throw new Error("Pool ops requires 1 input.");if(dt[0].dims.length!==4)throw new Error("Pool ops supports 2-D inputs only for now.");if(dt[0].dataType!==1)throw new Error("Invalid input type.")},st=(dt,ht,ft)=>{const pt=ht.format==="NHWC",mt=pt?[dt[0].dims[0],dt[0].dims[3],dt[0].dims[1],dt[0].dims[2]]:dt[0].dims.slice(),gt=Object.hasOwnProperty.call(ht,"dilations"),vt=ht.kernelShape.slice(),yt=ht.strides.slice(),bt=gt?ht.dilations.slice():[],xt=ht.pads.slice();et.PoolConvUtil.adjustPoolAttributes(ft,mt,vt,yt,bt,xt);const _t=et.PoolConvUtil.computePoolOutputShape(ft,mt,yt,bt,vt,xt,ht.autoPad),wt=Object.assign({},ht);return gt?Object.assign(wt,{kernelShape:vt,strides:yt,pads:xt,dilations:bt,cacheKey:ht.cacheKey}):Object.assign(wt,{kernelShape:vt,strides:yt,pads:xt,cacheKey:ht.cacheKey}),[wt,pt?[_t[0],_t[2],_t[3],_t[1]]:_t]},ct=(dt,ht,ft,pt,mt,gt,vt,yt)=>{const bt=pt.format==="NHWC",xt=ht.length,_t=et.ShapeUtil.size(ft),wt=(0,rt.createIndicesHelper)("output",ft),At=(0,rt.createIndicesHelper)("x",ht);if(pt.kernelShape.length<=2){const Pt=pt.kernelShape[pt.kernelShape.length-1],jt=pt.strides[pt.strides.length-1],kt=pt.pads[pt.pads.length/2-1],St=xt-(bt?2:1);let Ct="",Et="",Tt="";if(Ct=kt+pt.pads[pt.pads.length-1]!==0?`
              for (var i: u32 = 0u; i < ${Pt}u; i++) {
                xIndices[${St}] = indices[${St}] * ${jt} - ${kt} + i;
                if (xIndices[${St}] < 0 || xIndices[${St}] >= ${ht[St]}) {
                  pad++;
                  continue;
                }
                let x_val = x[${At.i2oExpression("xIndices")}];
                ${mt}
              }`:`
              for (var i: u32 = 0u; i < ${Pt}u; i++) {
                xIndices[${St}] = indices[${St}] * ${jt} - ${kt} + i;
                let x_val = x[${At.i2oExpression("xIndices")}];
                ${mt}
              }`,pt.kernelShape.length===2){const $t=pt.kernelShape[pt.kernelShape.length-2],Ot=pt.strides[pt.strides.length-2],Rt=pt.pads[pt.pads.length/2-2],Nt=pt.pads[pt.pads.length-2],Ft=xt-(bt?3:2),Ht=ht[Ft];Et=Rt+Nt!==0?`
                for (var j: u32 = 0u; j < ${$t}u; j++) {
                  xIndices[${Ft}] = indices[${Ft}] * ${Ot} - ${Rt} + j;
                  if (xIndices[${Ft}] < 0 || xIndices[${Ft}] >= ${Ht}) {
                    pad+= ${Pt};
                    continue;
                  }
              `:`
                for (var j: u32 = 0u; j < ${$t}u; j++) {
                  xIndices[${Ft}] = indices[${Ft}] * ${Ot} - ${Rt} + j;
                `,Tt=`
              }
            `}return`
            @group(0) @binding(0) var<storage, read> x : array<${vt}>;
            @group(0) @binding(1) var<storage, read_write> output : array<${vt}>;

            ${wt.o2iImpl}
            ${At.i2oImpl}

            ${dt.mainStart()}
              ${dt.guardAgainstOutOfBoundsWorkgroupSizes(_t)}

              ${wt.indicesVariableDeclaration("indices")}
              ${wt.o2iCall("global_idx","indices")}
              ${wt.indicesVariableDeclaration("xIndices")}
              ${wt.o2iCall("global_idx","xIndices")}

              var value: ${vt} = ${vt}(${yt});
              var pad = 0;
              ${Et}
              ${Ct}
              ${Tt}
              ${gt}

              output[global_idx] = value;
            }`}{if(bt)throw new Error("Pooling with kernelShape.length > 2 is not supported for NHWC format.");const Pt=et.ShapeUtil.size(pt.kernelShape),jt=et.ShapeUtil.computeStrides(pt.kernelShape),kt=jt.length,St=pt.pads.length;let Ct="";return Ct=pt.pads.reduce((Et,Tt)=>Et+Tt)?`
                if (xIndices[j] >= inputDims[j]) {
                  pad++;
                  isPad = true;
                  break;
                }
              }
              if (!isPad) {
                let x_val = x[${At.i2oExpression("xIndices")}];
                ${mt}
              }`:`
              }
              let x_val = x[${At.i2oExpression("xIndices")}];
              ${mt}
            `,`
            @group(0) @binding(0) var<storage, read> x : array<${vt}>;
            @group(0) @binding(1) var<storage, read_write> output : array<${vt}>;

            ${wt.o2iImpl}
            ${At.i2oImpl}

            const pads = array<u32, ${St}>(${pt.pads.map(Et=>`${Et}u`).join(",")});
            const inputDims = array<u32, ${xt}>(${ht.map(Et=>`${Et}u`).join(",")});
            const kernelStrides = array<u32, ${kt}>(${jt.map(Et=>`${Et}u`).join(",")});
            const strides = array<u32, ${kt}>(${pt.strides.map(Et=>`${Et}u`).join(",")});

            ${dt.mainStart()}
              ${dt.guardAgainstOutOfBoundsWorkgroupSizes(_t)}

              ${wt.indicesVariableDeclaration("indices")}
              ${wt.o2iCall("global_idx","indices")}
              ${wt.indicesVariableDeclaration("xIndices")}
              ${wt.o2iCall("global_idx","xIndices")}

              var offsets: array<u32, ${kt}>;

              var value = ${vt}(${yt});
              var pad = 0;
              var isPad = false;

              for (var i: u32 = 0u; i < ${Pt}u; i++) {
                var offset = i;
                for (var j = 0u; j < ${kt-1}u; j++) {
                  offsets[j] = offset / kernelStrides[j];
                  offset -= offsets[j] * kernelStrides[j];
                }
                offsets[${kt-1}] = offset;

                isPad = false;
                for (var j = ${xt-kt}u; j < ${xt}u; j++) {
                  xIndices[j] = indices[j] * strides[j - ${xt-kt}u]
                    + offsets[j - ${xt-kt}u] - pads[j - 2u];
                  ${Ct}
              }
              ${gt}

              output[global_idx] = value;
            }`}},lt=dt=>({format:dt.format,autoPad:["NOTSET","VALID","SAME_UPPER","SAME_LOWER"][dt.auto_pad],ceilMode:dt.ceil_mode,kernelShape:dt.kernel_shape,strides:dt.strides,pads:dt.pads}),at=(dt,ht,ft,pt)=>{const[mt,gt]=st(dt,pt,ft),vt=et.ShapeUtil.size(mt.kernelShape),yt="f32";let bt="";return mt.countIncludePad?bt+=`value /= ${yt}(${vt});`:bt+=`value /= ${yt}(${vt} - pad);`,Object.assign(Object.assign({},ht),{outputs:[{dims:gt,dataType:dt[0].dataType,gpuDataType:nt.GpuDataType.default}],getShaderSource:xt=>ct(xt,dt[0].dims,gt,mt,"value += x_val;",bt,yt,"0.0"),dispatchGroup:()=>({x:Math.ceil(et.ShapeUtil.size(gt)/64)})})};$.parseAveragePoolAttributes=dt=>{const ht=dt.count_include_pad!==0,ft=lt(dt);if(ft.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return(0,tt.createAttributeWithCacheKey)(Object.assign({countIncludePad:ht},ft))},$.averagePool=(dt,ht)=>{ot(dt.inputs);const ft={name:"AveragePool",inputTypes:[nt.GpuDataType.default],cacheHint:ht.cacheKey};dt.compute(Object.assign(Object.assign({},ft),{get:()=>at(dt.inputs,ft,!1,ht)}))};const it={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""};$.parseGlobalAveragePoolAttributes=dt=>{const ht=dt.format;return Object.assign(Object.assign({format:ht},it),{cacheKey:ht})},$.globalAveragePool=(dt,ht)=>{ot(dt.inputs);const ft={name:"GlobalAveragePool",inputTypes:[nt.GpuDataType.default],cacheHint:ht.cacheKey};dt.compute(Object.assign(Object.assign({},ft),{get:()=>at(dt.inputs,ft,!0,ht)}))};const ut=(dt,ht,ft,pt)=>{const[mt,gt]=st(dt,pt,ft);return Object.assign(Object.assign({},ht),{outputs:[{dims:gt,dataType:dt[0].dataType,gpuDataType:nt.GpuDataType.default}],getShaderSource:vt=>ct(vt,dt[0].dims,gt,mt,`
      value = max(x_val, value);
    `,"","f32","-1e5"),dispatchGroup:()=>({x:Math.ceil(et.ShapeUtil.size(gt)/64)})})};$.maxPool=(dt,ht)=>{ot(dt.inputs);const ft={name:"MaxPool",inputTypes:[nt.GpuDataType.default],cacheHint:ht.cacheKey};dt.compute(Object.assign(Object.assign({},ft),{get:()=>ut(dt.inputs,ft,!1,ht)}))},$.parseMaxPoolAttributes=dt=>{const ht=dt.storage_order,ft=dt.dilations,pt=lt(dt);if(ht!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(pt.ceilMode!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return(0,tt.createAttributeWithCacheKey)(Object.assign({storageOrder:ht,dilations:ft},pt))},$.parseGlobalMaxPoolAttributes=dt=>{const ht=dt.format;return Object.assign(Object.assign({format:ht},it),{cacheKey:ht})},$.globalMaxPool=(dt,ht)=>{ot(dt.inputs);const ft={name:"GlobalMaxPool",inputTypes:[nt.GpuDataType.default],cacheHint:ht.cacheKey};dt.compute(Object.assign(Object.assign({},ft),{get:()=>ut(dt.inputs,ft,!0,ht)}))}},2625:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.parseTransposeAttributes=$.transpose=$.createTransposeProgramInfo=$.transposeProgramMetadata=void 0;const et=_e(6952),tt=_e(387),nt=_e(1163),rt=_e(2075);$.transposeProgramMetadata={name:"Transpose",inputTypes:[nt.GpuDataType.default]};const ot=(st,ct)=>ct&&ct.length!==st.length?[...st.keys()].reverse():ct;$.createTransposeProgramInfo=(st,ct)=>{const lt=st.dims,at=ot(lt,ct),it=((pt,mt)=>et.ShapeUtil.sortBasedOnPerm(pt,ot(pt,mt)))(lt,at),ut=lt.length,dt=et.ShapeUtil.size(it),ht=(0,rt.createIndicesHelper)("output",it),ft=(0,rt.createIndicesHelper)("a",lt);return Object.assign(Object.assign({},$.transposeProgramMetadata),{outputs:[{dims:it,dataType:st.dataType,gpuDataType:nt.GpuDataType.default}],getShaderSource:pt=>`
  @group(0) @binding(0) var<storage, read> a : array<f32>;
  @group(0) @binding(1) var<storage, read_write> output : array<f32>;

  ${((mt,gt)=>{const vt=[];vt.push(`fn perm(a: ptr<function, array<u32, ${gt}>>, i: ptr<function, array<u32, ${gt}>>) {`);for(let yt=0;yt<gt;++yt)vt.push(`	(*a)[${mt[yt]}]=(*i)[${yt}];`);return vt.push("	}"),vt.join(`
`)})(at,ut)}
  ${ht.o2iImpl}
  ${ft.i2oImpl}

  ${pt.mainStart()}
    ${pt.guardAgainstOutOfBoundsWorkgroupSizes(dt)}

    ${ht.indicesVariableDeclaration("indices")}
    ${ht.o2iCall("global_idx","indices")}
    ${ft.indicesVariableDeclaration("aIndices")}
    perm(&aIndices, &indices);

    output[global_idx] = a[${ft.i2oExpression("aIndices")}];
  }`,dispatchGroup:()=>({x:Math.ceil(dt/64)})})},$.transpose=(st,ct)=>{(lt=>{if(!lt||lt.length!==1)throw new Error("Transpose requires 1 input.");if(lt[0].dataType!==1)throw new Error("input should be float tensor")})(st.inputs),st.compute(Object.assign(Object.assign({},$.transposeProgramMetadata),{cacheHint:ct.cacheKey,get:()=>(0,$.createTransposeProgramInfo)(st.inputs[0],ct.perm)}))},$.parseTransposeAttributes=st=>(0,tt.createAttributeWithCacheKey)({perm:st.perm})},9302:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.thresholdedRelu=$.tanh=$.tan=$.sqrt=$.sinh=$.sin=$.sigmoid=$.relu=$.reciprocal=$.neg=$.leakyRelu=$.floor=$.exp=$.erf=$.elu=$.parseAlphaAttributes=$.cosh=$.cos=$.ceil=$.clip=$.clipV10=$.atanh=$.atan=$.asinh=$.asin=$.acosh=$.acos=$.abs=void 0;const et=_e(6952),tt=_e(387),nt=_e(1163),rt=(ot,st,ct,lt,at)=>{const it={name:st,inputTypes:[nt.GpuDataType.default],cacheHint:at};return Object.assign(Object.assign({},it),{get:()=>((ut,dt,ht,ft)=>Object.assign(Object.assign({},ut),{getShaderSource:pt=>((mt,gt,vt,yt)=>{const bt=Math.ceil(gt/4);let xt="";return xt=typeof vt=="string"?`${vt}(a)`:vt("a"),`
  @group(0) @binding(0) var<storage, read> inputData : array<vec4<f32>>;
  @group(0) @binding(1) var<storage, read_write> outputData : array<vec4<f32>>;

  ${yt??""}

  ${mt.mainStart()}
    ${mt.guardAgainstOutOfBoundsWorkgroupSizes(bt)}

    let a = inputData[global_idx];
    outputData[global_idx] = ${xt};
  }`})(pt,et.ShapeUtil.size(dt.dims),ht,ft),outputs:[{dims:dt.dims,dataType:dt.dataType,gpuDataType:nt.GpuDataType.default}],dispatchGroup:pt=>({x:Math.ceil(et.ShapeUtil.size(pt[0].dims)/64/4)})}))(it,ot,ct,lt)})};$.abs=ot=>{ot.compute(rt(ot.inputs[0],"Abs","abs"))},$.acos=ot=>{ot.compute(rt(ot.inputs[0],"Acos","acos"))},$.acosh=ot=>{ot.compute(rt(ot.inputs[0],"Acosh","acosh"))},$.asin=ot=>{ot.compute(rt(ot.inputs[0],"Asin","asin"))},$.asinh=ot=>{ot.compute(rt(ot.inputs[0],"Asinh","asinh"))},$.atan=ot=>{ot.compute(rt(ot.inputs[0],"Atan","atan"))},$.atanh=ot=>{ot.compute(rt(ot.inputs[0],"Atanh","atanh"))},$.clipV10=(ot,st)=>{ot.compute(rt(ot.inputs[0],"Clip",ct=>`clamp(${ct}, clip_min_, clip_max_)`,`
    const clip_min_: vec4<f32> = vec4(f32(${st.min}));
    const clip_max_: vec4<f32> = vec4(f32(${st.max}));
`,st.cacheKey),{inputs:[0]})},$.clip=ot=>{const st=(ct=>{const lt=ct.length>=2?ct[1].getFloat32Array()[0]:et.MIN_CLIP,at=ct.length>=3?ct[2].getFloat32Array()[0]:et.MAX_CLIP;return(0,tt.createAttributeWithCacheKey)({min:lt,max:at})})(ot.inputs);(0,$.clipV10)(ot,st)},$.ceil=ot=>{ot.compute(rt(ot.inputs[0],"Ceil","ceil"))},$.cos=ot=>{ot.compute(rt(ot.inputs[0],"Cos","cos"))},$.cosh=ot=>{ot.compute(rt(ot.inputs[0],"Cosh","cosh"))},$.parseAlphaAttributes=ot=>(0,tt.createAttributeWithCacheKey)(ot),$.elu=(ot,st)=>{ot.compute(rt(ot.inputs[0],"Elu",ct=>`elu_vf32(${ct})`,`
  const elu_alpha_: f32 = f32(${st.alpha});

  fn elu_f32(a: f32) -> f32 {
  return select((exp(a) - 1.0) * elu_alpha_, a, a >= 0.0);
  }

  fn elu_vf32(v: vec4<f32>) -> vec4<f32> {
  return vec4(elu_f32(v.x), elu_f32(v.y), elu_f32(v.z), elu_f32(v.w));
  }`,st.cacheKey))},$.erf=ot=>{ot.compute(rt(ot.inputs[0],"Erf",st=>`erf_vf32(${st})`,`
  const r0: f32 = 0.3275911;
  const r1: f32 = 0.254829592;
  const r2: f32 = -0.284496736;
  const r3: f32 = 1.421413741;
  const r4: f32 = -1.453152027;
  const r5: f32 = 1.061405429;

  fn erf_vf32(v: vec4<f32>) -> vec4<f32> {
    let absv = abs(v);
    let x = 1.0 / (1.0 + r0 * absv);
    return sign(v) * (1.0 - ((((r5 * x + r4) * x + r3) * x + r2) * x + r1) * x * exp(-absv * absv));
  }`))},$.exp=ot=>{ot.compute(rt(ot.inputs[0],"Exp","exp"))},$.floor=ot=>{ot.compute(rt(ot.inputs[0],"Floor","floor"))},$.leakyRelu=(ot,st)=>{ot.compute(rt(ot.inputs[0],"LeakyRelu",ct=>`select(leaky_relu_alpha_ * ${ct}, ${ct}, ${ct} >= vec4<f32>(0.0))`,`const leaky_relu_alpha_: f32 = f32(${st.alpha});`,st.cacheKey))},$.neg=ot=>{ot.compute(rt(ot.inputs[0],"Neg",st=>`-${st}`))},$.reciprocal=ot=>{ot.compute(rt(ot.inputs[0],"Reciprocal",st=>`1.0/${st}`))},$.relu=ot=>{ot.compute(rt(ot.inputs[0],"Relu",st=>`select(vec4<f32>(0.0), ${st}, ${st} > vec4<f32>(0.0))`))},$.sigmoid=ot=>{ot.compute(rt(ot.inputs[0],"Sigmoid",st=>`(1.0 / (1.0 + exp(-${st})))`))},$.sin=ot=>{ot.compute(rt(ot.inputs[0],"Sin","sin"))},$.sinh=ot=>{ot.compute(rt(ot.inputs[0],"Sinh","sinh"))},$.sqrt=ot=>{ot.compute(rt(ot.inputs[0],"Sqrt","sqrt"))},$.tan=ot=>{ot.compute(rt(ot.inputs[0],"Tan","tan"))},$.tanh=ot=>{ot.compute(rt(ot.inputs[0],"Tanh","tanh"))},$.thresholdedRelu=(ot,st)=>(ot.compute(rt(ot.inputs[0],"ThresholdedRelu",ct=>`select(vec4<f32>(0.0), ${ct}, ${ct} > thresholded_relu_alpha_)`,`const thresholded_relu_alpha_: vec4<f32> = vec4<f32>(${st.alpha});`,st.cacheKey)),0)},8305:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ProgramManager=void 0;const et=_e(4955),tt=_e(2075);$.ProgramManager=class{constructor(nt){this.backend=nt,this.repo=new Map,this.attributesBound=!1}getArtifact(nt){return this.repo.get(nt)}setArtifact(nt,rt){this.repo.set(nt,rt)}run(nt,rt,ot,st){const ct=this.backend.device,lt=this.backend.getComputePassEncoder();this.backend.profilingEnabled&&lt.writeTimestamp(this.backend.profilingQuerySet,0),lt.setPipeline(nt.computePipeline);const at=[];for(const ut of rt)at.push({binding:at.length,resource:{buffer:ut.buffer}});for(const ut of ot)at.push({binding:at.length,resource:{buffer:ut.buffer}});const it=ct.createBindGroup({layout:nt.computePipeline.getBindGroupLayout(0),entries:at});if(lt.setBindGroup(0,it),lt.dispatchWorkgroups(...st),this.backend.pendingDispatchNumber++,this.backend.profilingEnabled){lt.writeTimestamp(this.backend.profilingQuerySet,1);const ut=this.backend.gpuDataManager.create(16,GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE),dt=this.backend.gpuDataManager.create(16,GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST);this.backend.endComputePass(),this.backend.getCommandEncoder().resolveQuerySet(this.backend.profilingQuerySet,0,2,ut.buffer,0),this.backend.getCommandEncoder().copyBufferToBuffer(ut.buffer,0,dt.buffer,0,16),this.backend.flush();const ht=this.backend.currentKernelId,ft=this.backend.kernels.get(ht)[0];dt.buffer.mapAsync(GPUMapMode.READ).then(()=>{const pt=new BigUint64Array(dt.buffer.getMappedRange()),mt=pt[0],gt=pt[1];dt.buffer.unmap(),this.backend.profilingTimeBase===void 0&&(this.backend.profilingTimeBase=mt);const vt=Number(mt-this.backend.profilingTimeBase),yt=Number(gt-this.backend.profilingTimeBase);if(!Number.isSafeInteger(vt)||!Number.isSafeInteger(yt))throw new RangeError("incorrect timestamp range");this.backend.gpuDataManager.release(ut.id),this.backend.gpuDataManager.release(dt.id),console.log(`[profiling] kernel "${ht}|${ft}" execution time: ${yt-vt} ns`)})}this.backend.pendingDispatchNumber>=16&&this.backend.flush()}dispose(){}build(nt,rt){const ot=this.backend.device,st=nt.getShaderSource((0,tt.createShaderHelper)(rt)),ct=ot.createShaderModule({code:st});return(0,et.LOG_DEBUG)("verbose",()=>`[WebGPU] shader code: ${st}`),{programInfo:nt,computePipeline:ot.createComputePipeline({compute:{module:ct,entryPoint:"main"},layout:"auto"})}}normalizeDispatchGroupSize(nt){const rt=typeof nt=="number"?nt:nt.x,ot=typeof nt=="number"?1:nt.y||1,st=typeof nt=="number"?1:nt.z||1,ct=this.backend.device.limits.maxComputeWorkgroupsPerDimension;if(rt<=ct&&ot<=ct&&st<=ct)return[rt,ot,st];const lt=rt*ot*st;let at=Math.ceil(Math.sqrt(lt));if(at>ct){if(at=Math.ceil(Math.cbrt(lt)),at>ct)throw new Error("Total dispatch size exceeds WebGPU maximum.");return[at,at,at]}return[at,at,1]}}},1163:(b,$)=>{var _e;Object.defineProperty($,"__esModule",{value:!0}),$.GpuDataType=void 0,(_e=$.GpuDataType||($.GpuDataType={}))[_e.default=0]="default",_e[_e.upload=1]="upload",_e[_e.profile=2]="profile"},3899:(b,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.iterateExtraOptions=void 0,$.iterateExtraOptions=(_e,et,tt,nt)=>{if(typeof _e=="object"&&_e!==null){if(tt.has(_e))throw new Error("Circular reference in options");tt.add(_e)}Object.entries(_e).forEach(([rt,ot])=>{const st=et?et+rt:rt;if(typeof ot=="object")(0,$.iterateExtraOptions)(ot,st+".",tt,nt);else if(typeof ot=="string"||typeof ot=="number")nt(st,ot.toString());else{if(typeof ot!="boolean")throw new Error("Can't handle extra config type: "+typeof ot);nt(st,ot?"1":"0")}})}},9544:function(b,$,_e){var et,tt=this&&this.__createBinding||(Object.create?function(Pt,jt,kt,St){St===void 0&&(St=kt);var Ct=Object.getOwnPropertyDescriptor(jt,kt);Ct&&!("get"in Ct?!jt.__esModule:Ct.writable||Ct.configurable)||(Ct={enumerable:!0,get:function(){return jt[kt]}}),Object.defineProperty(Pt,St,Ct)}:function(Pt,jt,kt,St){St===void 0&&(St=kt),Pt[St]=jt[kt]}),nt=this&&this.__setModuleDefault||(Object.create?function(Pt,jt){Object.defineProperty(Pt,"default",{enumerable:!0,value:jt})}:function(Pt,jt){Pt.default=jt}),rt=this&&this.__importStar||function(Pt){if(Pt&&Pt.__esModule)return Pt;var jt={};if(Pt!=null)for(var kt in Pt)kt!=="default"&&Object.prototype.hasOwnProperty.call(Pt,kt)&&tt(jt,Pt,kt);return nt(jt,Pt),jt};Object.defineProperty($,"__esModule",{value:!0}),$.endProfiling=$.run=$.releaseSession=$.createSession=$.createSessionFinalize=$.createSessionAllocate=$.initOrt=$.initWasm=void 0;const ot=_e(8453),st=_e(7675),ct=rt(_e(1259)),lt=_e(263),at=()=>!!ot.env.wasm.proxy&&typeof document<"u";let it,ut,dt,ht=!1,ft=!1,pt=!1;const mt=[],gt=[],vt=[],yt=[],bt=[],xt=[],_t=()=>{if(ht||!ft||pt||!it)throw new Error("worker not ready")},wt=Pt=>{switch(Pt.data.type){case"init-wasm":ht=!1,Pt.data.err?(pt=!0,ut[1](Pt.data.err)):(ft=!0,ut[0]());break;case"init-ort":Pt.data.err?dt[1](Pt.data.err):dt[0]();break;case"create_allocate":Pt.data.err?mt.shift()[1](Pt.data.err):mt.shift()[0](Pt.data.out);break;case"create_finalize":Pt.data.err?gt.shift()[1](Pt.data.err):gt.shift()[0](Pt.data.out);break;case"create":Pt.data.err?vt.shift()[1](Pt.data.err):vt.shift()[0](Pt.data.out);break;case"release":Pt.data.err?yt.shift()[1](Pt.data.err):yt.shift()[0]();break;case"run":Pt.data.err?bt.shift()[1](Pt.data.err):bt.shift()[0](Pt.data.out);break;case"end-profiling":Pt.data.err?xt.shift()[1](Pt.data.err):xt.shift()[0]()}},At=typeof document<"u"?(et=document==null?void 0:document.currentScript)===null||et===void 0?void 0:et.src:void 0;$.initWasm=async()=>{if(at()){if(ft)return;if(ht)throw new Error("multiple calls to 'initWasm()' detected.");if(pt)throw new Error("previous call to 'initWasm()' failed.");return ht=!0,ot.env.wasm.wasmPaths===void 0&&At&&At.indexOf("blob:")!==0&&(ot.env.wasm.wasmPaths=At.substr(0,+At.lastIndexOf("/")+1)),new Promise((Pt,jt)=>{it==null||it.terminate(),it=_e(8050).Z(),it.onmessage=wt,ut=[Pt,jt];const kt={type:"init-wasm",in:ot.env.wasm};it.postMessage(kt)})}return(0,lt.initializeWebAssembly)(ot.env.wasm)},$.initOrt=async(Pt,jt)=>{if(at())return _t(),new Promise((kt,St)=>{dt=[kt,St];const Ct={type:"init-ort",in:{numThreads:Pt,loggingLevel:jt}};it.postMessage(Ct)});ct.initOrt(Pt,jt),await(0,st.init)((0,lt.getInstance)())},$.createSessionAllocate=async Pt=>at()?(_t(),new Promise((jt,kt)=>{mt.push([jt,kt]);const St={type:"create_allocate",in:{model:Pt}};it.postMessage(St,[Pt.buffer])})):ct.createSessionAllocate(Pt),$.createSessionFinalize=async(Pt,jt)=>at()?(_t(),new Promise((kt,St)=>{gt.push([kt,St]);const Ct={type:"create_finalize",in:{modeldata:Pt,options:jt}};it.postMessage(Ct)})):ct.createSessionFinalize(Pt,jt),$.createSession=async(Pt,jt)=>at()?(_t(),new Promise((kt,St)=>{vt.push([kt,St]);const Ct={type:"create",in:{model:Pt,options:jt}};it.postMessage(Ct,[Pt.buffer])})):ct.createSession(Pt,jt),$.releaseSession=async Pt=>{if(at())return _t(),new Promise((jt,kt)=>{yt.push([jt,kt]);const St={type:"release",in:Pt};it.postMessage(St)});ct.releaseSession(Pt)},$.run=async(Pt,jt,kt,St,Ct)=>at()?(_t(),new Promise((Et,Tt)=>{bt.push([Et,Tt]);const $t={type:"run",in:{sessionId:Pt,inputIndices:jt,inputs:kt,outputIndices:St,options:Ct}};it.postMessage($t,ct.extractTransferableBuffers(kt))})):ct.run(Pt,jt,kt,St,Ct),$.endProfiling=async Pt=>{if(at())return _t(),new Promise((jt,kt)=>{xt.push([jt,kt]);const St={type:"end-profiling",in:Pt};it.postMessage(St)});ct.endProfiling(Pt)}},7918:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.setRunOptions=void 0;const et=_e(3899),tt=_e(9444),nt=_e(263);$.setRunOptions=rt=>{const ot=(0,nt.getInstance)();let st=0;const ct=[],lt=rt||{};try{if((rt==null?void 0:rt.logSeverityLevel)===void 0)lt.logSeverityLevel=2;else if(typeof rt.logSeverityLevel!="number"||!Number.isInteger(rt.logSeverityLevel)||rt.logSeverityLevel<0||rt.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${rt.logSeverityLevel}`);if((rt==null?void 0:rt.logVerbosityLevel)===void 0)lt.logVerbosityLevel=0;else if(typeof rt.logVerbosityLevel!="number"||!Number.isInteger(rt.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${rt.logVerbosityLevel}`);(rt==null?void 0:rt.terminate)===void 0&&(lt.terminate=!1);let at=0;if((rt==null?void 0:rt.tag)!==void 0&&(at=(0,tt.allocWasmString)(rt.tag,ct)),st=ot._OrtCreateRunOptions(lt.logSeverityLevel,lt.logVerbosityLevel,!!lt.terminate,at),st===0)throw new Error("Can't create run options");return(rt==null?void 0:rt.extra)!==void 0&&(0,et.iterateExtraOptions)(rt.extra,"",new WeakSet,(it,ut)=>{const dt=(0,tt.allocWasmString)(it,ct),ht=(0,tt.allocWasmString)(ut,ct);if(ot._OrtAddRunConfigEntry(st,dt,ht)!==0)throw new Error(`Can't set a run config entry: ${it} - ${ut}`)}),[st,ct]}catch(at){throw st!==0&&ot._OrtReleaseRunOptions(st),ct.forEach(ot._free),at}}},6640:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.OnnxruntimeWebAssemblySessionHandler=void 0;const et=_e(2806),tt=_e(8453),nt=_e(2850),rt=_e(9544),ot=_e(7917);let st;$.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(ct){const lt=await fetch(ct),at=await lt.arrayBuffer();return(0,rt.createSessionAllocate)(new Uint8Array(at))}async loadModel(ct,lt){if(st||(await(0,rt.initOrt)(tt.env.wasm.numThreads,(0,ot.logLevelStringToEnum)(tt.env.logLevel)),st=!0),typeof ct=="string")if(typeof fetch>"u"){const at=await(0,nt.promisify)(et.readFile)(ct);[this.sessionId,this.inputNames,this.outputNames]=await(0,rt.createSession)(at,lt)}else{const at=await this.createSessionAllocate(ct);[this.sessionId,this.inputNames,this.outputNames]=await(0,rt.createSessionFinalize)(at,lt)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,rt.createSession)(ct,lt)}async dispose(){return(0,rt.releaseSession)(this.sessionId)}async run(ct,lt,at){const it=[],ut=[];Object.entries(ct).forEach(pt=>{const mt=pt[0],gt=pt[1],vt=this.inputNames.indexOf(mt);if(vt===-1)throw new Error(`invalid input '${mt}'`);it.push(gt),ut.push(vt)});const dt=[];Object.entries(lt).forEach(pt=>{const mt=pt[0],gt=this.outputNames.indexOf(mt);if(gt===-1)throw new Error(`invalid output '${mt}'`);dt.push(gt)});const ht=await(0,rt.run)(this.sessionId,ut,it.map(pt=>[pt.type,pt.dims,pt.data]),dt,at),ft={};for(let pt=0;pt<ht.length;pt++)ft[this.outputNames[dt[pt]]]=new tt.Tensor(ht[pt][0],ht[pt][2],ht[pt][1]);return ft}startProfiling(){}endProfiling(){(0,rt.endProfiling)(this.sessionId)}}},7622:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.setSessionOptions=void 0;const et=_e(3899),tt=_e(9444),nt=_e(263);$.setSessionOptions=rt=>{var ot,st,ct,lt;const at=(0,nt.getInstance)();let it=0;const ut=[],dt=rt||{};(ht=>{ht.extra||(ht.extra={}),ht.extra.session||(ht.extra.session={});const ft=ht.extra.session;ft.use_ort_model_bytes_directly||(ft.use_ort_model_bytes_directly="1"),ht.executionProviders&&ht.executionProviders.some(pt=>(typeof pt=="string"?pt:pt.name)==="webgpu")&&(ht.enableMemPattern=!1)})(dt);try{const ht=(yt=>{switch(yt){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${yt}`)}})((ot=dt.graphOptimizationLevel)!==null&&ot!==void 0?ot:"all"),ft=(yt=>{switch(yt){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${yt}`)}})((st=dt.executionMode)!==null&&st!==void 0?st:"sequential"),pt=typeof dt.logId=="string"?(0,tt.allocWasmString)(dt.logId,ut):0,mt=(ct=dt.logSeverityLevel)!==null&&ct!==void 0?ct:2;if(!Number.isInteger(mt)||mt<0||mt>4)throw new Error(`log serverity level is not valid: ${mt}`);const gt=(lt=dt.logVerbosityLevel)!==null&&lt!==void 0?lt:0;if(!Number.isInteger(gt)||gt<0||gt>4)throw new Error(`log verbosity level is not valid: ${gt}`);const vt=typeof dt.optimizedModelFilePath=="string"?(0,tt.allocWasmString)(dt.optimizedModelFilePath,ut):0;if(it=at._OrtCreateSessionOptions(ht,!!dt.enableCpuMemArena,!!dt.enableMemPattern,ft,!!dt.enableProfiling,0,pt,mt,gt,vt),it===0)throw new Error("Can't create session options");return dt.executionProviders&&((yt,bt,xt)=>{for(const _t of bt){let wt=typeof _t=="string"?_t:_t.name;switch(wt){case"xnnpack":wt="XNNPACK";break;case"webgpu":wt="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${wt}`)}const At=(0,tt.allocWasmString)(wt,xt);if((0,nt.getInstance)()._OrtAppendExecutionProvider(yt,At)!==0)throw new Error(`Can't append execution provider: ${wt}`)}})(it,dt.executionProviders,ut),dt.extra!==void 0&&(0,et.iterateExtraOptions)(dt.extra,"",new WeakSet,(yt,bt)=>{const xt=(0,tt.allocWasmString)(yt,ut),_t=(0,tt.allocWasmString)(bt,ut);if(at._OrtAddSessionConfigEntry(it,xt,_t)!==0)throw new Error(`Can't set a session config entry: ${yt} - ${bt}`)}),[it,ut]}catch(ht){throw it!==0&&at._OrtReleaseSessionOptions(it),ut.forEach(at._free),ht}}},9444:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.allocWasmString=void 0;const et=_e(263);$.allocWasmString=(tt,nt)=>{const rt=(0,et.getInstance)(),ot=rt.lengthBytesUTF8(tt)+1,st=rt._malloc(ot);return rt.stringToUTF8(tt,st,ot),nt.push(st),st}},7917:(b,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.logLevelStringToEnum=$.tensorTypeToTypedArrayConstructor=$.getTensorElementSize=$.tensorDataTypeEnumToString=$.tensorDataTypeStringToEnum=void 0,$.tensorDataTypeStringToEnum=_e=>{switch(_e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${_e}`)}},$.tensorDataTypeEnumToString=_e=>{switch(_e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${_e}`)}},$.getTensorElementSize=_e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][_e],$.tensorTypeToTypedArrayConstructor=_e=>{switch(_e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${_e}`)}},$.logLevelStringToEnum=_e=>{switch(_e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${_e}`)}}},1259:(b,$,_e)=>{Object.defineProperty($,"__esModule",{value:!0}),$.extractTransferableBuffers=$.endProfiling=$.run=$.releaseSession=$.createSession=$.createSessionFinalize=$.createSessionAllocate=$.initOrt=void 0;const et=_e(7918),tt=_e(7622),nt=_e(9444),rt=_e(7917),ot=_e(263);$.initOrt=(ct,lt)=>{const at=(0,ot.getInstance)()._OrtInit(ct,lt);if(at!==0)throw new Error(`Can't initialize onnxruntime. error code = ${at}`)};const st=new Map;$.createSessionAllocate=ct=>{const lt=(0,ot.getInstance)(),at=lt._malloc(ct.byteLength);return lt.HEAPU8.set(ct,at),[at,ct.byteLength]},$.createSessionFinalize=(ct,lt)=>{const at=(0,ot.getInstance)();let it=0,ut=0,dt=[];try{if([ut,dt]=(0,tt.setSessionOptions)(lt),it=at._OrtCreateSession(ct[0],ct[1],ut),it===0)throw new Error("Can't create a session")}finally{at._free(ct[0]),ut!==0&&at._OrtReleaseSessionOptions(ut),dt.forEach(at._free)}const ht=at._OrtGetInputCount(it),ft=at._OrtGetOutputCount(it),pt=[],mt=[],gt=[],vt=[];for(let yt=0;yt<ht;yt++){const bt=at._OrtGetInputName(it,yt);if(bt===0)throw new Error("Can't get an input name");mt.push(bt),pt.push(at.UTF8ToString(bt))}for(let yt=0;yt<ft;yt++){const bt=at._OrtGetOutputName(it,yt);if(bt===0)throw new Error("Can't get an output name");vt.push(bt),gt.push(at.UTF8ToString(bt))}return st.set(it,[it,mt,vt]),[it,pt,gt]},$.createSession=(ct,lt)=>{const at=(0,$.createSessionAllocate)(ct);return(0,$.createSessionFinalize)(at,lt)},$.releaseSession=ct=>{const lt=(0,ot.getInstance)(),at=st.get(ct);if(!at)throw new Error("invalid session id");const it=at[0],ut=at[1],dt=at[2];ut.forEach(lt._OrtFree),dt.forEach(lt._OrtFree),lt._OrtReleaseSession(it),st.delete(ct)},$.run=async(ct,lt,at,it,ut)=>{const dt=(0,ot.getInstance)(),ht=st.get(ct);if(!ht)throw new Error("invalid session id");const ft=ht[0],pt=ht[1],mt=ht[2],gt=lt.length,vt=it.length;let yt=0,bt=[];const xt=[],_t=[];try{[yt,bt]=(0,et.setRunOptions)(ut);for(let St=0;St<gt;St++){const Ct=at[St][0],Et=at[St][1],Tt=at[St][2];let $t,Ot;if(Array.isArray(Tt)){Ot=4*Tt.length,$t=dt._malloc(Ot),_t.push($t);let Ft=$t/4;for(let Ht=0;Ht<Tt.length;Ht++){if(typeof Tt[Ht]!="string")throw new TypeError(`tensor data at index ${Ht} is not a string`);dt.HEAPU32[Ft++]=(0,nt.allocWasmString)(Tt[Ht],_t)}}else Ot=Tt.byteLength,$t=dt._malloc(Ot),_t.push($t),dt.HEAPU8.set(new Uint8Array(Tt.buffer,Tt.byteOffset,Ot),$t);const Rt=dt.stackSave(),Nt=dt.stackAlloc(4*Et.length);try{let Ft=Nt/4;Et.forEach(zt=>dt.HEAP32[Ft++]=zt);const Ht=dt._OrtCreateTensor((0,rt.tensorDataTypeStringToEnum)(Ct),$t,Ot,Nt,Et.length);if(Ht===0)throw new Error("Can't create a tensor");xt.push(Ht)}finally{dt.stackRestore(Rt)}}const wt=dt.stackSave(),At=dt.stackAlloc(4*gt),Pt=dt.stackAlloc(4*gt),jt=dt.stackAlloc(4*vt),kt=dt.stackAlloc(4*vt);try{let St=At/4,Ct=Pt/4,Et=jt/4,Tt=kt/4;for(let Nt=0;Nt<gt;Nt++)dt.HEAPU32[St++]=xt[Nt],dt.HEAPU32[Ct++]=pt[lt[Nt]];for(let Nt=0;Nt<vt;Nt++)dt.HEAPU32[Et++]=0,dt.HEAPU32[Tt++]=mt[it[Nt]];let $t=dt._OrtRun(ft,Pt,At,gt,kt,vt,jt,yt);const Ot=dt.jsepRunPromise;Ot&&Ot.then!==void 0&&($t=await Ot);const Rt=[];if($t===0)for(let Nt=0;Nt<vt;Nt++){const Ft=dt.HEAPU32[jt/4+Nt],Ht=dt.stackSave(),zt=dt.stackAlloc(16);let an,Jt=0;try{if($t=dt._OrtGetTensorData(Ft,zt,zt+4,zt+8,zt+12),$t!==0)throw new Error(`Can't access output tensor data. error code = ${$t}`);let Zt=zt/4;const Qt=dt.HEAPU32[Zt++];Jt=dt.HEAPU32[Zt++];const qt=dt.HEAPU32[Zt++],vn=dt.HEAPU32[Zt++],Yt=[];for(let pn=0;pn<vn;pn++)Yt.push(dt.HEAPU32[qt/4+pn]);dt._OrtFree(qt);const rn=Yt.length===0?1:Yt.reduce((pn,$n)=>pn*$n);if(an=(0,rt.tensorDataTypeEnumToString)(Qt),an==="string"){const pn=[];let $n=Jt/4;for(let on=0;on<rn;on++){const Tn=dt.HEAPU32[$n++],kn=on===rn-1?void 0:dt.HEAPU32[$n]-Tn;pn.push(dt.UTF8ToString(Tn,kn))}Rt.push([an,Yt,pn])}else{const pn=new((0,rt.tensorTypeToTypedArrayConstructor)(an))(rn);new Uint8Array(pn.buffer,pn.byteOffset,pn.byteLength).set(dt.HEAPU8.subarray(Jt,Jt+pn.byteLength)),Rt.push([an,Yt,pn])}}finally{dt.stackRestore(Ht),an==="string"&&Jt&&dt._free(Jt),dt._OrtReleaseTensor(Ft)}}if($t===0)return Rt;throw new Error(`failed to call OrtRun(). error code = ${$t}.`)}finally{dt.stackRestore(wt)}}finally{xt.forEach(dt._OrtReleaseTensor),_t.forEach(dt._free),dt._OrtReleaseRunOptions(yt),bt.forEach(dt._free)}},$.endProfiling=ct=>{const lt=(0,ot.getInstance)(),at=st.get(ct);if(!at)throw new Error("invalid session id");const it=at[0],ut=lt._OrtEndProfiling(it);if(ut===0)throw new Error("Can't get an profile file name");lt._OrtFree(ut)},$.extractTransferableBuffers=ct=>{const lt=[];for(const at of ct){const it=at[2];!Array.isArray(it)&&it.buffer&&lt.push(it.buffer)}return lt}},263:function(b,$,_e){var et=this&&this.__createBinding||(Object.create?function(ut,dt,ht,ft){ft===void 0&&(ft=ht);var pt=Object.getOwnPropertyDescriptor(dt,ht);pt&&!("get"in pt?!dt.__esModule:pt.writable||pt.configurable)||(pt={enumerable:!0,get:function(){return dt[ht]}}),Object.defineProperty(ut,ft,pt)}:function(ut,dt,ht,ft){ft===void 0&&(ft=ht),ut[ft]=dt[ht]}),tt=this&&this.__setModuleDefault||(Object.create?function(ut,dt){Object.defineProperty(ut,"default",{enumerable:!0,value:dt})}:function(ut,dt){ut.default=dt}),nt=this&&this.__importStar||function(ut){if(ut&&ut.__esModule)return ut;var dt={};if(ut!=null)for(var ht in ut)ht!=="default"&&Object.prototype.hasOwnProperty.call(ut,ht)&&et(dt,ut,ht);return tt(dt,ut),dt};Object.defineProperty($,"__esModule",{value:!0}),$.dispose=$.getInstance=$.initializeWebAssembly=void 0;const rt=nt(_e(6449)),ot=_e(932),st=_e(3474);let ct,lt=!1,at=!1,it=!1;$.initializeWebAssembly=async ut=>{if(lt)return Promise.resolve();if(at)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(it)throw new Error("previous call to 'initializeWebAssembly()' failed.");at=!0;const dt=ut.initTimeout,ht=ut.numThreads,ft=ut.simd,pt=ht>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),mt=ft&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),gt=ut.wasmPaths,vt=typeof gt=="string"?gt:void 0,yt=((wt,At)=>At?wt?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":wt?"ort-wasm-simd.wasm":"ort-wasm.wasm")(mt,pt),bt=typeof gt=="object"?gt[yt]:void 0;let xt=!1;const _t=[];if(dt>0&&_t.push(new Promise(wt=>{setTimeout(()=>{xt=!0,wt()},dt)})),_t.push(new Promise((wt,At)=>{const Pt=pt?st:ot,jt={locateFile:(kt,St)=>pt&&kt.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([_e(4154)],{type:"text/javascript"})):kt.endsWith(".wasm")?bt||(vt??St)+yt:St+kt};if(pt)if(typeof Blob>"u")jt.mainScriptUrlOrBlob=rt.join("/","ort-wasm-threaded.js");else{const kt=`var ortWasmThreaded=(function(){var _scriptDir;return ${Pt.toString()}})();`;jt.mainScriptUrlOrBlob=new Blob([kt],{type:"text/javascript"})}Pt(jt).then(kt=>{at=!1,lt=!0,ct=kt,wt()},kt=>{at=!1,it=!0,At(kt)})})),await Promise.race(_t),xt)throw new Error(`WebAssembly backend initializing failed due to timeout: ${dt}ms`)},$.getInstance=()=>{if(lt&&ct)return ct;throw new Error("WebAssembly is not initialized yet.")},$.dispose=()=>{var ut;!lt||at||it||(at=!0,(ut=ct.PThread)===null||ut===void 0||ut.terminateAllThreads(),ct=void 0,at=!1,lt=!1,it=!0)}},8050:(b,$,_e)=>{_e.d($,{Z:()=>nt});var et=_e(6614),tt=_e.n(et);function nt(){return tt()('/*!\n* ONNX Runtime Web v1.15.1\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={899:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,n,r,a)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach((([e,o])=>{const i=n?n+e:e;if("object"==typeof o)(0,t.iterateExtraOptions)(o,i+".",r,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))}},918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const r=n(899),a=n(444),o=n(263);t.setRunOptions=e=>{const t=(0,o.getInstance)();let n=0;const i=[],s=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(s.terminate=!1);let o=0;if(void 0!==(null==e?void 0:e.tag)&&(o=(0,a.allocWasmString)(e.tag,i)),n=t._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,o),0===n)throw new Error("Can\'t create run options");return void 0!==(null==e?void 0:e.extra)&&(0,r.iterateExtraOptions)(e.extra,"",new WeakSet,((e,r)=>{const o=(0,a.allocWasmString)(e,i),s=(0,a.allocWasmString)(r,i);if(0!==t._OrtAddRunConfigEntry(n,o,s))throw new Error(`Can\'t set a run config entry: ${e} - ${r}`)})),[n,i]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),i.forEach(t._free),e}}},622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const r=n(899),a=n(444),o=n(263);t.setSessionOptions=e=>{var t,n,i,s;const u=(0,o.getInstance)();let c=0;const l=[],f=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)})(f);try{const e=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(null!==(t=f.graphOptimizationLevel)&&void 0!==t?t:"all"),p=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(null!==(n=f.executionMode)&&void 0!==n?n:"sequential"),d="string"==typeof f.logId?(0,a.allocWasmString)(f.logId,l):0,m=null!==(i=f.logSeverityLevel)&&void 0!==i?i:2;if(!Number.isInteger(m)||m<0||m>4)throw new Error(`log serverity level is not valid: ${m}`);const g=null!==(s=f.logVerbosityLevel)&&void 0!==s?s:0;if(!Number.isInteger(g)||g<0||g>4)throw new Error(`log verbosity level is not valid: ${g}`);const h="string"==typeof f.optimizedModelFilePath?(0,a.allocWasmString)(f.optimizedModelFilePath,l):0;if(c=u._OrtCreateSessionOptions(e,!!f.enableCpuMemArena,!!f.enableMemPattern,p,!!f.enableProfiling,0,d,m,g,h),0===c)throw new Error("Can\'t create session options");return f.executionProviders&&((e,t,n)=>{for(const r of t){let t="string"==typeof r?r:r.name;switch(t){case"xnnpack":t="XNNPACK";break;case"webgpu":t="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${t}`)}const i=(0,a.allocWasmString)(t,n);if(0!==(0,o.getInstance)()._OrtAppendExecutionProvider(e,i))throw new Error(`Can\'t append execution provider: ${t}`)}})(c,f.executionProviders,l),void 0!==f.extra&&(0,r.iterateExtraOptions)(f.extra,"",new WeakSet,((e,t)=>{const n=(0,a.allocWasmString)(e,l),r=(0,a.allocWasmString)(t,l);if(0!==u._OrtAddSessionConfigEntry(c,n,r))throw new Error(`Can\'t set a session config entry: ${e} - ${t}`)})),[c,l]}catch(e){throw 0!==c&&u._OrtReleaseSessionOptions(c),l.forEach(u._free),e}}},444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const r=n(263);t.allocWasmString=(e,t)=>{const n=(0,r.getInstance)(),a=n.lengthBytesUTF8(e)+1,o=n._malloc(a);return n.stringToUTF8(e,o,a),t.push(o),o}},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},t.tensorDataTypeEnumToString=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},t.getTensorElementSize=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],t.tensorTypeToTypedArrayConstructor=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},t.logLevelStringToEnum=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}}},259:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initOrt=void 0;const r=n(918),a=n(622),o=n(444),i=n(917),s=n(263);t.initOrt=(e,t)=>{const n=(0,s.getInstance)()._OrtInit(e,t);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;t.createSessionAllocate=e=>{const t=(0,s.getInstance)(),n=t._malloc(e.byteLength);return t.HEAPU8.set(e,n),[n,e.byteLength]},t.createSessionFinalize=(e,t)=>{const n=(0,s.getInstance)();let r=0,o=0,i=[];try{if([o,i]=(0,a.setSessionOptions)(t),r=n._OrtCreateSession(e[0],e[1],o),0===r)throw new Error("Can\'t create a session")}finally{n._free(e[0]),0!==o&&n._OrtReleaseSessionOptions(o),i.forEach(n._free)}const c=n._OrtGetInputCount(r),l=n._OrtGetOutputCount(r),f=[],p=[],d=[],m=[];for(let e=0;e<c;e++){const t=n._OrtGetInputName(r,e);if(0===t)throw new Error("Can\'t get an input name");p.push(t),f.push(n.UTF8ToString(t))}for(let e=0;e<l;e++){const t=n._OrtGetOutputName(r,e);if(0===t)throw new Error("Can\'t get an output name");m.push(t),d.push(n.UTF8ToString(t))}return u.set(r,[r,p,m]),[r,f,d]},t.createSession=(e,n)=>{const r=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(r,n)},t.releaseSession=e=>{const t=(0,s.getInstance)(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],o=n[2];a.forEach(t._OrtFree),o.forEach(t._OrtFree),t._OrtReleaseSession(r),u.delete(e)},t.run=async(e,t,n,a,c)=>{const l=(0,s.getInstance)(),f=u.get(e);if(!f)throw new Error("invalid session id");const p=f[0],d=f[1],m=f[2],g=t.length,h=a.length;let y=0,v=[];const b=[],w=[];try{[y,v]=(0,r.setRunOptions)(c);for(let e=0;e<g;e++){const t=n[e][0],r=n[e][1],a=n[e][2];let s,u;if(Array.isArray(a)){u=4*a.length,s=l._malloc(u),w.push(s);let e=s/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);l.HEAPU32[e++]=(0,o.allocWasmString)(a[t],w)}}else u=a.byteLength,s=l._malloc(u),w.push(s),l.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),s);const c=l.stackSave(),f=l.stackAlloc(4*r.length);try{let e=f/4;r.forEach((t=>l.HEAP32[e++]=t));const n=l._OrtCreateTensor((0,i.tensorDataTypeStringToEnum)(t),s,u,f,r.length);if(0===n)throw new Error("Can\'t create a tensor");b.push(n)}finally{l.stackRestore(c)}}const e=l.stackSave(),s=l.stackAlloc(4*g),u=l.stackAlloc(4*g),f=l.stackAlloc(4*h),_=l.stackAlloc(4*h);try{let e=s/4,n=u/4,r=f/4,o=_/4;for(let r=0;r<g;r++)l.HEAPU32[e++]=b[r],l.HEAPU32[n++]=d[t[r]];for(let e=0;e<h;e++)l.HEAPU32[r++]=0,l.HEAPU32[o++]=m[a[e]];let c=l._OrtRun(p,u,s,g,_,h,f,y);const v=l.jsepRunPromise;v&&void 0!==v.then&&(c=await v);const w=[];if(0===c)for(let e=0;e<h;e++){const t=l.HEAPU32[f/4+e],n=l.stackSave(),r=l.stackAlloc(16);let a,o=0;try{if(c=l._OrtGetTensorData(t,r,r+4,r+8,r+12),0!==c)throw new Error(`Can\'t access output tensor data. error code = ${c}`);let e=r/4;const n=l.HEAPU32[e++];o=l.HEAPU32[e++];const s=l.HEAPU32[e++],u=l.HEAPU32[e++],f=[];for(let e=0;e<u;e++)f.push(l.HEAPU32[s/4+e]);l._OrtFree(s);const p=0===f.length?1:f.reduce(((e,t)=>e*t));if(a=(0,i.tensorDataTypeEnumToString)(n),"string"===a){const e=[];let t=o/4;for(let n=0;n<p;n++){const r=l.HEAPU32[t++],a=n===p-1?void 0:l.HEAPU32[t]-r;e.push(l.UTF8ToString(r,a))}w.push([a,f,e])}else{const e=new((0,i.tensorTypeToTypedArrayConstructor)(a))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(l.HEAPU8.subarray(o,o+e.byteLength)),w.push([a,f,e])}}finally{l.stackRestore(n),"string"===a&&o&&l._free(o),l._OrtReleaseTensor(t)}}if(0===c)return w;throw new Error(`failed to call OrtRun(). error code = ${c}.`)}finally{l.stackRestore(e)}}finally{b.forEach(l._OrtReleaseTensor),w.forEach(l._free),l._OrtReleaseRunOptions(y),v.forEach(l._free)}},t.endProfiling=e=>{const t=(0,s.getInstance)(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=t._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},263:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const i=o(n(449)),s=n(932),u=n(474);let c,l=!1,f=!1,p=!1;t.initializeWebAssembly=async e=>{if(l)return Promise.resolve();if(f)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(p)throw new Error("previous call to \'initializeWebAssembly()\' failed.");f=!0;const t=e.initTimeout,r=e.numThreads,a=e.simd,o=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),d=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),m=e.wasmPaths,g="string"==typeof m?m:void 0,h=((e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm")(d,o),y="object"==typeof m?m[h]:void 0;let v=!1;const b=[];if(t>0&&b.push(new Promise((e=>{setTimeout((()=>{v=!0,e()}),t)}))),b.push(new Promise(((e,t)=>{const r=o?u:s,a={locateFile:(e,t)=>o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob?URL.createObjectURL(new Blob([n(154)],{type:"text/javascript"})):e.endsWith(".wasm")?y||(null!=g?g:t)+h:t+e};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=i.join("/","ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}r(a).then((t=>{f=!1,l=!0,c=t,e()}),(e=>{f=!1,p=!0,t(e)}))}))),await Promise.race(b),v)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(l&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!l||f||p||(f=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,f=!1,l=!1,p=!0)}},474:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return P.buffer!=D&&G(P.buffer),F}function r(){return P.buffer!=D&&G(P.buffer),U}function a(){return P.buffer!=D&&G(P.buffer),I}function o(){return P.buffer!=D&&G(P.buffer),W}function i(){return P.buffer!=D&&G(P.buffer),j}var s,u,c;e=e||{},s||(s=void 0!==e?e:{}),s.ready=new Promise((function(e,t){u=e,c=t}));var l,f,p,d,m,g,h=Object.assign({},s),y="./this.program",v=(e,t)=>{throw t},b="object"==typeof window,w="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=s.ENVIRONMENT_IS_PTHREAD||!1,S="";function T(e){return s.locateFile?s.locateFile(e,S):S+e}if(_){let t;S=w?n(908).dirname(S)+"/":"//",g=()=>{m||(d=n(384),m=n(908))},l=function(e,t){return g(),e=m.normalize(e),d.readFileSync(e,t?void 0:"utf8")},p=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,n)=>{g(),e=m.normalize(e),d.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(y=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof ie))throw e})),process.on("unhandledRejection",(function(e){throw e})),v=(e,t)=>{if(C)throw process.exitCode=e,t;t instanceof ie||x("exiting due to exception: "+t),process.exit(e)},s.inspect=function(){return"[Emscripten Module object]"};try{t=n(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}n.g.Worker=t.Worker}else(b||w)&&(w?S=self.location.href:"undefined"!=typeof document&&document.currentScript&&(S=document.currentScript.src),_scriptDir&&(S=_scriptDir),S=0!==S.indexOf("blob:")?S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):"",_||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},w&&(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));_&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var A=console.log.bind(console),E=console.warn.bind(console);_&&(g(),A=e=>d.writeSync(1,e+"\\n"),E=e=>d.writeSync(2,e+"\\n"));var M,R=s.print||A,x=s.printErr||E;Object.assign(s,h),h=null,s.thisProgram&&(y=s.thisProgram),s.quit&&(v=s.quit),s.wasmBinary&&(M=s.wasmBinary);var C=s.noExitRuntime||!0;"object"!=typeof WebAssembly&&ne("no native wasm support detected");var P,k,D,F,U,I,W,j,H=!1,L="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function Y(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&L)return L.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function z(e,t){return(e>>>=0)?Y(r(),e,t):""}function B(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function N(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function G(e){D=e,s.HEAP8=F=new Int8Array(e),s.HEAP16=new Int16Array(e),s.HEAP32=I=new Int32Array(e),s.HEAPU8=U=new Uint8Array(e),s.HEAPU16=new Uint16Array(e),s.HEAPU32=W=new Uint32Array(e),s.HEAPF32=new Float32Array(e),s.HEAPF64=j=new Float64Array(e)}O&&(D=s.buffer);var q=s.INITIAL_MEMORY||16777216;if(O)P=s.wasmMemory,D=s.buffer;else if(s.wasmMemory)P=s.wasmMemory;else if(!((P=new WebAssembly.Memory({initial:q/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),_&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");P&&(D=P.buffer),q=D.byteLength,G(D);var $,V=[],J=[],Q=[];function X(){var e=s.preRun.shift();V.unshift(e)}var K,Z=0,ee=null,te=null;function ne(e){throw O?postMessage({cmd:"onAbort",arg:e}):s.onAbort&&s.onAbort(e),x(e="Aborted("+e+")"),H=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),c(e),e}function re(){return K.startsWith("data:application/octet-stream;base64,")}function ae(){var e=K;try{if(e==K&&M)return new Uint8Array(M);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}catch(e){ne(e)}}K="ort-wasm-threaded.wasm",re()||(K=T(K));var oe={};function ie(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function se(e){(e=fe.La[e])||ne(),fe.Xa(e)}function ue(e){var t=fe.lb();if(!t)return 6;fe.Ra.push(t),fe.La[e.Ka]=t,t.Ka=e.Ka;var n={cmd:"run",start_routine:e.pb,arg:e.ib,pthread_ptr:e.Ka};return t.Qa=()=>{n.time=performance.now(),t.postMessage(n,e.vb)},t.loaded&&(t.Qa(),delete t.Qa),0}function ce(e){if(O)return He(1,1,e);C||(fe.qb(),s.onExit&&s.onExit(e),H=!0),v(e,new ie(e))}function le(e,t){if(!t&&O)throw de(e),"unwind";ce(e)}var fe={Oa:[],Ra:[],$a:[],La:{},Ua:function(){O&&fe.mb()},xb:function(){},mb:function(){fe.receiveObjectTransfer=fe.ob,fe.threadInitTLS=fe.Za,fe.setExitStatus=fe.Ya,C=!1},Ya:function(){},qb:function(){for(var e of Object.values(fe.La))fe.Xa(e);for(e of fe.Oa)e.terminate();fe.Oa=[]},Xa:function(e){var t=e.Ka;delete fe.La[t],fe.Oa.push(e),fe.Ra.splice(fe.Ra.indexOf(e),1),e.Ka=0,ct(t)},ob:function(){},Za:function(){fe.$a.forEach((e=>e()))},nb:function(e,t){e.onmessage=n=>{var r=(n=n.data).cmd;if(e.Ka&&(fe.kb=e.Ka),n.targetThread&&n.targetThread!=rt()){var a=fe.La[n.yb];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?De(n.queue):"spawnThread"===r?ue(n):"cleanupThread"===r?se(n.thread):"killThread"===r?(n=n.thread,r=fe.La[n],delete fe.La[n],r.terminate(),ct(n),fe.Ra.splice(fe.Ra.indexOf(r),1),r.Ka=0):"cancelThread"===r?fe.La[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,t&&t(e),e.Qa&&(e.Qa(),delete e.Qa)):"print"===r?R("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"onAbort"===r?s.onAbort&&s.onAbort(n.arg):r&&x("worker sent an unknown command "+r);fe.kb=void 0},e.onerror=e=>{throw x("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},_&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:s.mainScriptUrlOrBlob||_scriptDir,wasmMemory:P,wasmModule:k})},hb:function(){var e=T("ort-wasm-threaded.worker.js");fe.Oa.push(new Worker(e))},lb:function(){return 0==fe.Oa.length&&(fe.hb(),fe.nb(fe.Oa[0])),fe.Oa.pop()}};function pe(e){for(;0<e.length;)e.shift()(s)}function de(e){if(O)return He(2,0,e);try{le(e)}catch(e){e instanceof ie||"unwind"==e||v(1,e)}}s.PThread=fe,s.establishStackSpace=function(){var e=rt(),t=a()[e+44>>2>>>0];e=a()[e+48>>2>>>0],ft(t,t-e),dt(t)};var me,ge,he=[];function ye(e){this.Pa=e-24,this.gb=function(e){o()[this.Pa+4>>2>>>0]=e},this.cb=function(e){o()[this.Pa+8>>2>>>0]=e},this.eb=function(){a()[this.Pa>>2>>>0]=0},this.bb=function(){t()[this.Pa+12>>0>>>0]=0},this.fb=function(){t()[this.Pa+13>>0>>>0]=0},this.Ua=function(e,t){this.ab(),this.gb(e),this.cb(t),this.eb(),this.bb(),this.fb()},this.ab=function(){o()[this.Pa+16>>2>>>0]=0}}function ve(e,t,n,r){return O?He(3,1,e,t,n,r):be(e,t,n,r)}function be(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?ve(e,t,n,r):(e={pb:n,Ka:e,ib:r,vb:a},O?(e.wb="spawnThread",postMessage(e,a),0):ue(e))}function we(e,t,n){return O?He(4,1,e,t,n):0}function _e(e,t){if(O)return He(5,1,e,t)}function Oe(e,t){if(O)return He(6,1,e,t)}function Se(e,t,n){if(O)return He(7,1,e,t,n)}function Te(e,t,n){return O?He(8,1,e,t,n):0}function Ae(e,t){if(O)return He(9,1,e,t)}function Ee(e,t,n){if(O)return He(10,1,e,t,n)}function Me(e,t,n,r){if(O)return He(11,1,e,t,n,r)}function Re(e,t,n,r){if(O)return He(12,1,e,t,n,r)}function xe(e,t,n,r){if(O)return He(13,1,e,t,n,r)}function Ce(e){if(O)return He(14,1,e)}function Pe(e,t){if(O)return He(15,1,e,t)}function ke(e,t,n){if(O)return He(16,1,e,t,n)}function De(e){Atomics.store(a(),e>>2,1),rt()&&ut(e),Atomics.compareExchange(a(),e>>2,1,0)}function Fe(e){return o()[e>>>2]+4294967296*a()[e+4>>>2]}function Ue(e,t,n,r,a,o){return O?He(17,1,e,t,n,r,a,o):-52}function Ie(e,t,n,r,a,o){if(O)return He(18,1,e,t,n,r,a,o)}function We(e){var n=N(e)+1,r=at(n);return r&&B(e,t(),r,n),r}function je(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}if(O)return He(19,1,e,t,n);var i=(new Date).getFullYear(),s=new Date(i,0,1),u=new Date(i,6,1);i=s.getTimezoneOffset();var c=u.getTimezoneOffset(),l=Math.max(i,c);a()[e>>2>>>0]=60*l,a()[t>>2>>>0]=Number(i!=c),e=r(s),t=r(u),e=We(e),t=We(t),c<i?(o()[n>>2>>>0]=e,o()[n+4>>2>>>0]=t):(o()[n>>2>>>0]=t,o()[n+4>>2>>>0]=e)}function He(e,t){var n=arguments.length-2,r=arguments;return function(e){var t=pt();return e=e(),dt(t),e}((()=>{for(var a=mt(8*n),o=a>>3,s=0;s<n;s++){var u=r[2+s];i()[o+s>>>0]=u}return st(e,n,a,t)}))}s.invokeEntryPoint=function(e,t){var n=he[e];n||(e>=he.length&&(he.length=e+1),he[e]=n=$.get(e)),e=n(t),C?fe.Ya(e):lt(e)},s.executeNotifiedProxyingQueue=De,ge=_?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:O?()=>performance.now()-s.__performance_now_clock_drift:()=>performance.now();var Le,Ye=[],ze={};function Be(){if(!Le){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"};for(e in ze)void 0===ze[e]?delete t[e]:t[e]=ze[e];var n=[];for(e in t)n.push(e+"="+t[e]);Le=n}return Le}function Ne(e,n){if(O)return He(20,1,e,n);var r=0;return Be().forEach((function(a,i){var s=n+r;for(i=o()[e+4*i>>2>>>0]=s,s=0;s<a.length;++s)t()[i++>>0>>>0]=a.charCodeAt(s);t()[i>>0>>>0]=0,r+=a.length+1})),0}function Ge(e,t){if(O)return He(21,1,e,t);var n=Be();o()[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),o()[t>>2>>>0]=r,0}function qe(e){return O?He(22,1,e):52}function $e(e,t,n,r){return O?He(23,1,e,t,n,r):52}function Ve(e,t,n,r,a){return O?He(24,1,e,t,n,r,a):70}var Je=[null,[],[]];function Qe(e,t,n,a){if(O)return He(25,1,e,t,n,a);for(var i=0,s=0;s<n;s++){var u=o()[t>>2>>>0],c=o()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++){var f=r()[u+l>>>0],p=Je[e];0===f||10===f?((1===e?R:x)(Y(p,0)),p.length=0):p.push(f)}i+=c}return o()[a>>2>>>0]=i,0}function Xe(e){return 0==e%4&&(0!=e%100||0==e%400)}var Ke=[31,29,31,30,31,30,31,31,30,31,30,31],Ze=[31,28,31,30,31,30,31,31,30,31,30,31];function et(e,n,r,o){function i(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function s(e,t){return i(e,t,"0")}function u(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){var t=e.Ma;for(e=new Date(new Date(e.Na+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(Xe(e.getFullYear())?Ke:Ze)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=c(new Date(e.getFullYear(),0,4)),n=c(n),0>=u(t,e)?0>=u(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var f=a()[o+40>>2>>>0];for(var p in o={tb:a()[o>>2>>>0],sb:a()[o+4>>2>>>0],Sa:a()[o+8>>2>>>0],Va:a()[o+12>>2>>>0],Ta:a()[o+16>>2>>>0],Na:a()[o+20>>2>>>0],Ja:a()[o+24>>2>>>0],Ma:a()[o+28>>2>>>0],zb:a()[o+32>>2>>>0],rb:a()[o+36>>2>>>0],ub:f?z(f):""},r=z(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),m="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(e){return d[e.Ja].substring(0,3)},"%A":function(e){return d[e.Ja]},"%b":function(e){return m[e.Ta].substring(0,3)},"%B":function(e){return m[e.Ta]},"%C":function(e){return s((e.Na+1900)/100|0,2)},"%d":function(e){return s(e.Va,2)},"%e":function(e){return i(e.Va,2," ")},"%g":function(e){return l(e).toString().substring(2)},"%G":function(e){return l(e)},"%H":function(e){return s(e.Sa,2)},"%I":function(e){return 0==(e=e.Sa)?e=12:12<e&&(e-=12),s(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Ta-1;t+=(Xe(e.Na+1900)?Ke:Ze)[n++]);return s(e.Va+t,3)},"%m":function(e){return s(e.Ta+1,2)},"%M":function(e){return s(e.sb,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.Sa&&12>e.Sa?"AM":"PM"},"%S":function(e){return s(e.tb,2)},"%t":function(){return"\\t"},"%u":function(e){return e.Ja||7},"%U":function(e){return s(Math.floor((e.Ma+7-e.Ja)/7),2)},"%V":function(e){var t=Math.floor((e.Ma+7-(e.Ja+6)%7)/7);if(2>=(e.Ja+371-e.Ma-2)%7&&t++,t)53==t&&(4==(n=(e.Ja+371-e.Ma)%7)||3==n&&Xe(e.Na)||(t=1));else{t=52;var n=(e.Ja+7-e.Ma-1)%7;(4==n||5==n&&Xe(e.Na%400-1))&&t++}return s(t,2)},"%w":function(e){return e.Ja},"%W":function(e){return s(Math.floor((e.Ma+7-(e.Ja+6)%7)/7),2)},"%y":function(e){return(e.Na+1900).toString().substring(2)},"%Y":function(e){return e.Na+1900},"%z":function(e){var t=0<=(e=e.rb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.ub},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](o)));return p=function(e){var t=Array(N(e)+1);return B(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(e,n){t().set(e,n>>>0)}(p,e),p.length-1)}fe.Ua();var tt=[null,ce,de,ve,we,_e,Oe,Se,Te,Ae,Ee,Me,Re,xe,Ce,Pe,ke,Ue,Ie,je,Ne,Ge,qe,$e,Ve,Qe],nt={b:function(e){return at(e+24)+24},c:function(e,t,n){throw new ye(e).Ua(t,n),e},L:function(e){ot(e,!w,1,!b),fe.Za()},l:function(e){O?postMessage({cmd:"cleanupThread",thread:e}):se(e)},D:be,i:we,R:_e,z:Oe,B:Se,T:Te,P:Ae,I:Ee,O:Me,p:Re,A:xe,x:Ce,Q:Pe,y:ke,r:function(){},j:function(){ne("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},s:function(){ne("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},q:function(){return Date.now()},E:function(){return 2097152},V:function(){return!0},F:function(e,t,n,r){if(e==t)setTimeout((()=>De(r)));else if(O)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r});else{if(!(e=fe.La[e]))return;e.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},K:function(){return-1},W:function(e,t){e=new Date(1e3*Fe(e)),a()[t>>2>>>0]=e.getUTCSeconds(),a()[t+4>>2>>>0]=e.getUTCMinutes(),a()[t+8>>2>>>0]=e.getUTCHours(),a()[t+12>>2>>>0]=e.getUTCDate(),a()[t+16>>2>>>0]=e.getUTCMonth(),a()[t+20>>2>>>0]=e.getUTCFullYear()-1900,a()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[t+28>>2>>>0]=e},X:function(e,t){e=new Date(1e3*Fe(e)),a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),a()[t+20>>2>>>0]=e.getFullYear()-1900,a()[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1),r=(e.getTime()-n.getTime())/864e5|0;a()[t+28>>2>>>0]=r,a()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),r=new Date(e.getFullYear(),6,1).getTimezoneOffset(),e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),a()[t+32>>2>>>0]=e},Y:function(e){var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),n=a()[e+32>>2>>>0],r=t.getTimezoneOffset(),o=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),s=o.getTimezoneOffset(),u=Math.min(s,i);return 0>n?a()[e+32>>2>>>0]=Number(i!=s&&u==r):0<n!=(u==r)&&(i=Math.max(s,i),t.setTime(t.getTime()+6e4*((0<n?u:i)-r))),a()[e+24>>2>>>0]=t.getDay(),n=(t.getTime()-o.getTime())/864e5|0,a()[e+28>>2>>>0]=n,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},G:Ue,H:Ie,Z:function e(t,n,r){e.jb||(e.jb=!0,je(t,n,r))},d:function(){ne("")},m:function(){if(!_&&!w){var e="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";me||(me={}),me[e]||(me[e]=1,_&&(e="warning: "+e),x(e))}},w:function(){return 4294901760},f:ge,S:function(e,t,n){r().copyWithin(e>>>0,t>>>0,t+n>>>0)},g:function(){return _?n(993).cpus().length:navigator.hardwareConcurrency},J:function(e,t,n){Ye.length=t,n>>=3;for(var r=0;r<t;r++)Ye[r]=i()[n+r>>>0];return(0>e?oe[-e-1]:tt[e]).apply(null,Ye)},v:function(e){var t=r().length;if((e>>>=0)<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var a=t*(1+.2/n);a=Math.min(a,e+100663296);var o=Math;a=Math.max(e,a),o=o.min.call(o,4294901760,a+(65536-a%65536)%65536);e:{try{P.grow(o-D.byteLength+65535>>>16),G(P.buffer);var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},U:function(){throw"unwind"},M:Ne,N:Ge,k:le,h:qe,o:$e,t:Ve,n:Qe,u:function e(r,a){e.Wa||(e.Wa=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(_)try{var t=n(760);return()=>t.randomBytes(1)[0]}catch(e){}return()=>ne("randomDevice")}());for(var o=0;o<a;o++)t()[r+o>>0>>>0]=e.Wa();return 0},a:P||s.wasmMemory,C:et,e:function(e,t,n,r){return et(e,t,n,r)}};!function(){function e(e,t){s.asm=e.exports,fe.$a.push(s.asm.wa),$=s.asm.za,J.unshift(s.asm._),k=t,O||(Z--,s.monitorRunDependencies&&s.monitorRunDependencies(Z),0==Z&&(null!==ee&&(clearInterval(ee),ee=null),te&&(e=te,te=null,e())))}function t(t){e(t.instance,t.module)}function n(e){return function(){if(!M&&(b||w)){if("function"==typeof fetch&&!K.startsWith("file://"))return fetch(K,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+K+"\'";return e.arrayBuffer()})).catch((function(){return ae()}));if(f)return new Promise((function(e,t){f(K,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return ae()}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then((function(e){return e})).then(e,(function(e){x("failed to asynchronously prepare wasm: "+e),ne(e)}))}var r={a:nt};if(O||(Z++,s.monitorRunDependencies&&s.monitorRunDependencies(Z)),s.instantiateWasm)try{return s.instantiateWasm(r,e)}catch(e){return x("Module.instantiateWasm callback failed with error: "+e),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||re()||K.startsWith("file://")||_||"function"!=typeof fetch?n(t):fetch(K,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(e){return x("wasm streaming compile failed: "+e),x("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(c)}(),s.___wasm_call_ctors=function(){return(s.___wasm_call_ctors=s.asm._).apply(null,arguments)},s._OrtInit=function(){return(s._OrtInit=s.asm.$).apply(null,arguments)},s._OrtCreateSessionOptions=function(){return(s._OrtCreateSessionOptions=s.asm.aa).apply(null,arguments)},s._OrtAppendExecutionProvider=function(){return(s._OrtAppendExecutionProvider=s.asm.ba).apply(null,arguments)},s._OrtAddSessionConfigEntry=function(){return(s._OrtAddSessionConfigEntry=s.asm.ca).apply(null,arguments)},s._OrtReleaseSessionOptions=function(){return(s._OrtReleaseSessionOptions=s.asm.da).apply(null,arguments)},s._OrtCreateSession=function(){return(s._OrtCreateSession=s.asm.ea).apply(null,arguments)},s._OrtReleaseSession=function(){return(s._OrtReleaseSession=s.asm.fa).apply(null,arguments)},s._OrtGetInputCount=function(){return(s._OrtGetInputCount=s.asm.ga).apply(null,arguments)},s._OrtGetOutputCount=function(){return(s._OrtGetOutputCount=s.asm.ha).apply(null,arguments)},s._OrtGetInputName=function(){return(s._OrtGetInputName=s.asm.ia).apply(null,arguments)},s._OrtGetOutputName=function(){return(s._OrtGetOutputName=s.asm.ja).apply(null,arguments)},s._OrtFree=function(){return(s._OrtFree=s.asm.ka).apply(null,arguments)},s._OrtCreateTensor=function(){return(s._OrtCreateTensor=s.asm.la).apply(null,arguments)},s._OrtGetTensorData=function(){return(s._OrtGetTensorData=s.asm.ma).apply(null,arguments)},s._OrtReleaseTensor=function(){return(s._OrtReleaseTensor=s.asm.na).apply(null,arguments)},s._OrtCreateRunOptions=function(){return(s._OrtCreateRunOptions=s.asm.oa).apply(null,arguments)},s._OrtAddRunConfigEntry=function(){return(s._OrtAddRunConfigEntry=s.asm.pa).apply(null,arguments)},s._OrtReleaseRunOptions=function(){return(s._OrtReleaseRunOptions=s.asm.qa).apply(null,arguments)},s._OrtRun=function(){return(s._OrtRun=s.asm.ra).apply(null,arguments)},s._OrtEndProfiling=function(){return(s._OrtEndProfiling=s.asm.sa).apply(null,arguments)};var rt=s._pthread_self=function(){return(rt=s._pthread_self=s.asm.ta).apply(null,arguments)},at=s._malloc=function(){return(at=s._malloc=s.asm.ua).apply(null,arguments)};s._free=function(){return(s._free=s.asm.va).apply(null,arguments)},s.__emscripten_tls_init=function(){return(s.__emscripten_tls_init=s.asm.wa).apply(null,arguments)};var ot=s.__emscripten_thread_init=function(){return(ot=s.__emscripten_thread_init=s.asm.xa).apply(null,arguments)};s.__emscripten_thread_crashed=function(){return(s.__emscripten_thread_crashed=s.asm.ya).apply(null,arguments)};var it,st=s._emscripten_run_in_main_runtime_thread_js=function(){return(st=s._emscripten_run_in_main_runtime_thread_js=s.asm.Aa).apply(null,arguments)},ut=s.__emscripten_proxy_execute_task_queue=function(){return(ut=s.__emscripten_proxy_execute_task_queue=s.asm.Ba).apply(null,arguments)},ct=s.__emscripten_thread_free_data=function(){return(ct=s.__emscripten_thread_free_data=s.asm.Ca).apply(null,arguments)},lt=s.__emscripten_thread_exit=function(){return(lt=s.__emscripten_thread_exit=s.asm.Da).apply(null,arguments)},ft=s._emscripten_stack_set_limits=function(){return(ft=s._emscripten_stack_set_limits=s.asm.Ea).apply(null,arguments)},pt=s.stackSave=function(){return(pt=s.stackSave=s.asm.Fa).apply(null,arguments)},dt=s.stackRestore=function(){return(dt=s.stackRestore=s.asm.Ga).apply(null,arguments)},mt=s.stackAlloc=function(){return(mt=s.stackAlloc=s.asm.Ha).apply(null,arguments)};function gt(){function e(){if(!it&&(it=!0,s.calledRun=!0,!H)&&(O||pe(J),u(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),!O)){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;){var e=s.postRun.shift();Q.unshift(e)}pe(Q)}}if(!(0<Z))if(O)u(s),O||pe(J),postMessage({cmd:"loaded"});else{if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)X();pe(V),0<Z||(s.setStatus?(s.setStatus("Running..."),setTimeout((function(){setTimeout((function(){s.setStatus("")}),1),e()}),1)):e())}}if(s.___cxa_is_pointer_type=function(){return(s.___cxa_is_pointer_type=s.asm.Ia).apply(null,arguments)},s.UTF8ToString=z,s.stringToUTF8=function(e,t,n){return B(e,r(),t,n)},s.lengthBytesUTF8=N,s.keepRuntimeAlive=function(){return C},s.wasmMemory=P,s.stackSave=pt,s.stackRestore=dt,s.stackAlloc=mt,s.ExitStatus=ie,s.PThread=fe,te=function e(){it||gt(),it||(te=e)},s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);0<s.preInit.length;)s.preInit.pop()();return gt(),e.ready});e.exports=r},932:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,r,a;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){r=e,a=t}));var o,i,s,u,c,l,f=Object.assign({},t),p="./this.program",d=(e,t)=>{throw t},m="object"==typeof window,g="function"==typeof importScripts,h="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,y="";h?(y=g?n(908).dirname(y)+"/":"//",l=()=>{c||(u=n(384),c=n(908))},o=function(e,t){return l(),e=c.normalize(e),u.readFileSync(e,t?void 0:"utf8")},s=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,n)=>{l(),e=c.normalize(e),u.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof $))throw e})),process.on("unhandledRejection",(function(e){throw e})),d=(e,t)=>{if(_)throw process.exitCode=e,t;t instanceof $||w("exiting due to exception: "+t),process.exit(e)},t.inspect=function(){return"[Emscripten Module object]"}):(m||g)&&(g?y=self.location.href:"undefined"!=typeof document&&document.currentScript&&(y=document.currentScript.src),_scriptDir&&(y=_scriptDir),y=0!==y.indexOf("blob:")?y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},g&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var v,b=t.print||console.log.bind(console),w=t.printErr||console.warn.bind(console);Object.assign(t,f),f=null,t.thisProgram&&(p=t.thisProgram),t.quit&&(d=t.quit),t.wasmBinary&&(v=t.wasmBinary);var _=t.noExitRuntime||!0;"object"!=typeof WebAssembly&&B("no native wasm support detected");var O,S,T,A,E,M,R=!1,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function C(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&x)return x.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function P(e,t){return(e>>>=0)?C(A,e,t):""}function k(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function D(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function F(){var e=O.buffer;S=e,t.HEAP8=T=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=E=new Int32Array(e),t.HEAPU8=A=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=M=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var U=[],I=[],W=[];function j(){var e=t.preRun.shift();U.unshift(e)}var H,L=0,Y=null,z=null;function B(e){throw t.onAbort&&t.onAbort(e),w(e="Aborted("+e+")"),R=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),a(e),e}function N(){return H.startsWith("data:application/octet-stream;base64,")}if(H="ort-wasm.wasm",!N()){var G=H;H=t.locateFile?t.locateFile(G,y):y+G}function q(){var e=H;try{if(e==H&&v)return new Uint8Array(v);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}catch(e){B(e)}}function $(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function V(e){for(;0<e.length;)e.shift()(t)}function J(e){this.sa=e-24,this.Ia=function(e){M[this.sa+4>>2>>>0]=e},this.Ba=function(e){M[this.sa+8>>2>>>0]=e},this.Ga=function(){E[this.sa>>2>>>0]=0},this.Aa=function(){T[this.sa+12>>0>>>0]=0},this.Ha=function(){T[this.sa+13>>0>>>0]=0},this.ya=function(e,t){this.za(),this.Ia(e),this.Ba(t),this.Ga(),this.Aa(),this.Ha()},this.za=function(){M[this.sa+16>>2>>>0]=0}}function Q(e){var t=D(e)+1,n=ie(t);return n&&k(e,T,n,t),n}var X={};function K(){if(!Z){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(e in X)void 0===X[e]?delete t[e]:t[e]=X[e];var n=[];for(e in t)n.push(e+"="+t[e]);Z=n}return Z}var Z,ee=[null,[],[]];function te(e){return 0==e%4&&(0!=e%100||0==e%400)}var ne=[31,29,31,30,31,30,31,31,30,31,30,31],re=[31,28,31,30,31,30,31,31,30,31,30,31];function ae(e,t,n,r){function a(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function u(e){var t=e.qa;for(e=new Date(new Date(e.ra+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(te(e.getFullYear())?ne:re)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),n=s(n),0>=i(t,e)?0>=i(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=E[r+40>>2>>>0];for(var l in r={Ea:E[r>>2>>>0],Da:E[r+4>>2>>>0],ta:E[r+8>>2>>>0],va:E[r+12>>2>>>0],ua:E[r+16>>2>>>0],ra:E[r+20>>2>>>0],la:E[r+24>>2>>>0],qa:E[r+28>>2>>>0],Ja:E[r+32>>2>>>0],Ca:E[r+36>>2>>>0],Fa:c?P(c):""},n=P(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in c={"%a":function(e){return f[e.la].substring(0,3)},"%A":function(e){return f[e.la]},"%b":function(e){return p[e.ua].substring(0,3)},"%B":function(e){return p[e.ua]},"%C":function(e){return o((e.ra+1900)/100|0,2)},"%d":function(e){return o(e.va,2)},"%e":function(e){return a(e.va,2," ")},"%g":function(e){return u(e).toString().substring(2)},"%G":function(e){return u(e)},"%H":function(e){return o(e.ta,2)},"%I":function(e){return 0==(e=e.ta)?e=12:12<e&&(e-=12),o(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.ua-1;t+=(te(e.ra+1900)?ne:re)[n++]);return o(e.va+t,3)},"%m":function(e){return o(e.ua+1,2)},"%M":function(e){return o(e.Da,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.ta&&12>e.ta?"AM":"PM"},"%S":function(e){return o(e.Ea,2)},"%t":function(){return"\\t"},"%u":function(e){return e.la||7},"%U":function(e){return o(Math.floor((e.qa+7-e.la)/7),2)},"%V":function(e){var t=Math.floor((e.qa+7-(e.la+6)%7)/7);if(2>=(e.la+371-e.qa-2)%7&&t++,t)53==t&&(4==(n=(e.la+371-e.qa)%7)||3==n&&te(e.ra)||(t=1));else{t=52;var n=(e.la+7-e.qa-1)%7;(4==n||5==n&&te(e.ra%400-1))&&t++}return o(t,2)},"%w":function(e){return e.la},"%W":function(e){return o(Math.floor((e.qa+7-(e.la+6)%7)/7),2)},"%y":function(e){return(e.ra+1900).toString().substring(2)},"%Y":function(e){return e.ra+1900},"%z":function(e){var t=0<=(e=e.Ca);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Fa},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),c)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),c[l](r)));return l=function(e){var t=Array(D(e)+1);return k(e,t,0,t.length),t}(n=n.replace(/\\0\\0/g,"%")),l.length>t?0:(T.set(l,e>>>0),l.length-1)}var oe={a:function(e){return ie(e+24)+24},b:function(e,t,n){throw new J(e).ya(t,n),e},g:function(){return 0},I:function(){},w:function(){},y:function(){},K:function(){return 0},G:function(){},C:function(){},F:function(){},k:function(){},x:function(){},u:function(){},H:function(){},v:function(){},n:function(){},p:function(){B("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},o:function(){B("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){return Date.now()},L:function(){return!0},M:function(e,t){e=new Date(1e3*(M[e>>>2]+4294967296*E[e+4>>>2])),E[t>>2>>>0]=e.getUTCSeconds(),E[t+4>>2>>>0]=e.getUTCMinutes(),E[t+8>>2>>>0]=e.getUTCHours(),E[t+12>>2>>>0]=e.getUTCDate(),E[t+16>>2>>>0]=e.getUTCMonth(),E[t+20>>2>>>0]=e.getUTCFullYear()-1900,E[t+24>>2>>>0]=e.getUTCDay(),E[t+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},N:function(e,t){e=new Date(1e3*(M[e>>>2]+4294967296*E[e+4>>>2])),E[t>>2>>>0]=e.getSeconds(),E[t+4>>2>>>0]=e.getMinutes(),E[t+8>>2>>>0]=e.getHours(),E[t+12>>2>>>0]=e.getDate(),E[t+16>>2>>>0]=e.getMonth(),E[t+20>>2>>>0]=e.getFullYear()-1900,E[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1);E[t+28>>2>>>0]=(e.getTime()-n.getTime())/864e5|0,E[t+36>>2>>>0]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),E[t+32>>2>>>0]=0|(r!=n&&e.getTimezoneOffset()==Math.min(n,r))},O:function(e){var t=new Date(E[e+20>>2>>>0]+1900,E[e+16>>2>>>0],E[e+12>>2>>>0],E[e+8>>2>>>0],E[e+4>>2>>>0],E[e>>2>>>0],0),n=E[e+32>>2>>>0],r=t.getTimezoneOffset(),a=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=a.getTimezoneOffset(),s=Math.min(i,o);return 0>n?E[e+32>>2>>>0]=Number(o!=i&&s==r):0<n!=(s==r)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<n?s:o)-r))),E[e+24>>2>>>0]=t.getDay(),E[e+28>>2>>>0]=(t.getTime()-a.getTime())/864e5|0,E[e>>2>>>0]=t.getSeconds(),E[e+4>>2>>>0]=t.getMinutes(),E[e+8>>2>>>0]=t.getHours(),E[e+12>>2>>>0]=t.getDate(),E[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},z:function(){return-52},B:function(){},m:function e(t,n,r){e.xa||(e.xa=!0,function(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var s=i.getTimezoneOffset();E[e>>2>>>0]=60*Math.max(a,s),E[t>>2>>>0]=Number(a!=s),e=r(o),t=r(i),e=Q(e),t=Q(t),s<a?(M[n>>2>>>0]=e,M[n+4>>2>>>0]=t):(M[n>>2>>>0]=t,M[n+4>>2>>>0]=e)}(t,n,r))},d:function(){B("")},t:function(){return 4294901760},h:h?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),J:function(e,t,n){A.copyWithin(e>>>0,t>>>0,t+n>>>0)},f:function(e){var t=A.length;if(4294901760<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var a=Math;r=Math.max(e,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);e:{try{O.grow(a-S.byteLength+65535>>>16),F();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},D:function(e,t){var n=0;return K().forEach((function(r,a){var o=t+n;for(a=M[e+4*a>>2>>>0]=o,o=0;o<r.length;++o)T[a++>>0>>>0]=r.charCodeAt(o);T[a>>0>>>0]=0,n+=r.length+1})),0},E:function(e,t){var n=K();M[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),M[t>>2>>>0]=r,0},r:function(e){_||(t.onExit&&t.onExit(e),R=!0),d(e,new $(e))},e:function(){return 52},j:function(){return 52},q:function(){return 70},i:function(e,t,n,r){for(var a=0,o=0;o<n;o++){var i=M[t>>2>>>0],s=M[t+4>>2>>>0];t+=8;for(var u=0;u<s;u++){var c=A[i+u>>>0],l=ee[e];0===c||10===c?((1===e?b:w)(C(l,0)),l.length=0):l.push(c)}a+=s}return M[r>>2>>>0]=a,0},s:function e(t,r){e.wa||(e.wa=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(h)try{var t=n(760);return()=>t.randomBytes(1)[0]}catch(e){}return()=>B("randomDevice")}());for(var a=0;a<r;a++)T[t+a>>0>>>0]=e.wa();return 0},A:ae,c:function(e,t,n,r){return ae(e,t,n,r)}};!function(){function e(e){t.asm=e.exports,O=t.asm.P,F(),I.unshift(t.asm.Q),L--,t.monitorRunDependencies&&t.monitorRunDependencies(L),0==L&&(null!==Y&&(clearInterval(Y),Y=null),z&&(e=z,z=null,e()))}function n(t){e(t.instance)}function r(e){return function(){if(!v&&(m||g)){if("function"==typeof fetch&&!H.startsWith("file://"))return fetch(H,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+H+"\'";return e.arrayBuffer()})).catch((function(){return q()}));if(i)return new Promise((function(e,t){i(H,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return q()}))}().then((function(e){return WebAssembly.instantiate(e,o)})).then((function(e){return e})).then(e,(function(e){w("failed to asynchronously prepare wasm: "+e),B(e)}))}var o={a:oe};if(L++,t.monitorRunDependencies&&t.monitorRunDependencies(L),t.instantiateWasm)try{return t.instantiateWasm(o,e)}catch(e){return w("Module.instantiateWasm callback failed with error: "+e),!1}(v||"function"!=typeof WebAssembly.instantiateStreaming||N()||H.startsWith("file://")||h||"function"!=typeof fetch?r(n):fetch(H,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,o).then(n,(function(e){return w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.Q).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.R).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.S).apply(null,arguments)},t._OrtAppendExecutionProvider=function(){return(t._OrtAppendExecutionProvider=t.asm.T).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.U).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.V).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.W).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.X).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.Y).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.Z).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm._).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.$).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.aa).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.ba).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.ca).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm.da).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.ea).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.fa).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.ga).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.ha).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.ia).apply(null,arguments)};var ie=t._malloc=function(){return(ie=t._malloc=t.asm.ja).apply(null,arguments)};t._free=function(){return(t._free=t.asm.ka).apply(null,arguments)};var se,ue=t.stackSave=function(){return(ue=t.stackSave=t.asm.ma).apply(null,arguments)},ce=t.stackRestore=function(){return(ce=t.stackRestore=t.asm.na).apply(null,arguments)},le=t.stackAlloc=function(){return(le=t.stackAlloc=t.asm.oa).apply(null,arguments)};function fe(){function e(){if(!se&&(se=!0,t.calledRun=!0,!R)){if(V(I),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();W.unshift(e)}V(W)}}if(!(0<L)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)j();V(U),0<L||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.___cxa_is_pointer_type=function(){return(t.___cxa_is_pointer_type=t.asm.pa).apply(null,arguments)},t.UTF8ToString=P,t.stringToUTF8=function(e,t,n){return k(e,A,t,n)},t.lengthBytesUTF8=D,t.stackSave=ue,t.stackRestore=ce,t.stackAlloc=le,z=function e(){se||fe(),se||(z=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return fe(),e.ready});e.exports=r},154:e=>{"use strict";e.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},760:()=>{},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";const e=n(259),t=n(263);self.onmessage=n=>{switch(n.data.type){case"init-wasm":(0,t.initializeWebAssembly)(n.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})));break;case"init-ort":try{const{numThreads:t,loggingLevel:r}=n.data.in;(0,e.initOrt)(t,r),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create_allocate":try{const{model:t}=n.data.in,r=(0,e.createSessionAllocate)(t);postMessage({type:"create_allocate",out:r})}catch(e){postMessage({type:"create_allocate",err:e})}break;case"create_finalize":try{const{modeldata:t,options:r}=n.data.in,a=(0,e.createSessionFinalize)(t,r);postMessage({type:"create_finalize",out:a})}catch(e){postMessage({type:"create_finalize",err:e})}break;case"create":try{const{model:t,options:r}=n.data.in,a=(0,e.createSession)(t,r);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=n.data.in;(0,e.releaseSession)(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:r,inputs:a,outputIndices:o,options:i}=n.data.in;(0,e.run)(t,r,a,o,i).then((t=>{postMessage({type:"run",out:t},(0,e.extractTransferableBuffers)(t))}),(e=>{postMessage({type:"run",err:e})}))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=n.data.in;(0,e.endProfiling)(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},6614:b=>{b.exports=function($,_e,et,tt){var nt=self||window;try{try{var rt;try{rt=new nt.Blob([$])}catch{(rt=new(nt.BlobBuilder||nt.WebKitBlobBuilder||nt.MozBlobBuilder||nt.MSBlobBuilder)).append($),rt=rt.getBlob()}var ot=nt.URL||nt.webkitURL,st=ot.createObjectURL(rt),ct=new nt[_e](st,et);return ot.revokeObjectURL(st),ct}catch{return new nt[_e]("data:application/javascript,".concat(encodeURIComponent($)),et)}}catch{if(!tt)throw Error("Inline worker is not supported");return new nt[_e](tt,et)}}},3474:(b,$,_e)=>{var et,tt=(et=(et=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(nt){function rt(){return Ot.buffer!=Nt&&pn(Ot.buffer),Ft}function ot(){return Ot.buffer!=Nt&&pn(Ot.buffer),Ht}function st(){return Ot.buffer!=Nt&&pn(Ot.buffer),zt}function ct(){return Ot.buffer!=Nt&&pn(Ot.buffer),an}function lt(){return Ot.buffer!=Nt&&pn(Ot.buffer),Jt}var at,it,ut;nt=nt||{},at||(at=nt!==void 0?nt:{}),at.ready=new Promise(function(Dt,Mt){it=Dt,ut=Mt});var dt,ht,ft,pt,mt,gt,vt=Object.assign({},at),yt="./this.program",bt=(Dt,Mt)=>{throw Mt},xt=typeof window=="object",_t=typeof importScripts=="function",wt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",At=at.ENVIRONMENT_IS_PTHREAD||!1,Pt="";function jt(Dt){return at.locateFile?at.locateFile(Dt,Pt):Pt+Dt}if(wt){let Dt;Pt=_t?_e(908).dirname(Pt)+"/":"//",gt=()=>{mt||(pt=_e(1384),mt=_e(908))},dt=function(Mt,It){return gt(),Mt=mt.normalize(Mt),pt.readFileSync(Mt,It?void 0:"utf8")},ft=Mt=>((Mt=dt(Mt,!0)).buffer||(Mt=new Uint8Array(Mt)),Mt),ht=(Mt,It,Kt)=>{gt(),Mt=mt.normalize(Mt),pt.readFile(Mt,function(yn,xn){yn?Kt(yn):It(xn.buffer)})},1<process.argv.length&&(yt=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(Mt){if(!(Mt instanceof Xn))throw Mt}),process.on("unhandledRejection",function(Mt){throw Mt}),bt=(Mt,It)=>{if($t)throw process.exitCode=Mt,It;It instanceof Xn||Tt("exiting due to exception: "+It),process.exit(Mt)},at.inspect=function(){return"[Emscripten Module object]"};try{Dt=_e(9925)}catch(Mt){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),Mt}_e.g.Worker=Dt.Worker}else(xt||_t)&&(_t?Pt=self.location.href:typeof document<"u"&&document.currentScript&&(Pt=document.currentScript.src),et&&(Pt=et),Pt=Pt.indexOf("blob:")!==0?Pt.substr(0,Pt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",wt||(dt=Dt=>{var Mt=new XMLHttpRequest;return Mt.open("GET",Dt,!1),Mt.send(null),Mt.responseText},_t&&(ft=Dt=>{var Mt=new XMLHttpRequest;return Mt.open("GET",Dt,!1),Mt.responseType="arraybuffer",Mt.send(null),new Uint8Array(Mt.response)}),ht=(Dt,Mt,It)=>{var Kt=new XMLHttpRequest;Kt.open("GET",Dt,!0),Kt.responseType="arraybuffer",Kt.onload=()=>{Kt.status==200||Kt.status==0&&Kt.response?Mt(Kt.response):It()},Kt.onerror=It,Kt.send(null)}));wt&&typeof performance>"u"&&(_e.g.performance=_e(6953).performance);var kt=console.log.bind(console),St=console.warn.bind(console);wt&&(gt(),kt=Dt=>pt.writeSync(1,Dt+`
`),St=Dt=>pt.writeSync(2,Dt+`
`));var Ct,Et=at.print||kt,Tt=at.printErr||St;Object.assign(at,vt),vt=null,at.thisProgram&&(yt=at.thisProgram),at.quit&&(bt=at.quit),at.wasmBinary&&(Ct=at.wasmBinary);var $t=at.noExitRuntime||!0;typeof WebAssembly!="object"&&Sn("no native wasm support detected");var Ot,Rt,Nt,Ft,Ht,zt,an,Jt,Zt=!1,Qt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function qt(Dt,Mt,It){var Kt=(Mt>>>=0)+It;for(It=Mt;Dt[It]&&!(It>=Kt);)++It;if(16<It-Mt&&Dt.buffer&&Qt)return Qt.decode(Dt.buffer instanceof SharedArrayBuffer?Dt.slice(Mt,It):Dt.subarray(Mt,It));for(Kt="";Mt<It;){var yn=Dt[Mt++];if(128&yn){var xn=63&Dt[Mt++];if((224&yn)==192)Kt+=String.fromCharCode((31&yn)<<6|xn);else{var mn=63&Dt[Mt++];65536>(yn=(240&yn)==224?(15&yn)<<12|xn<<6|mn:(7&yn)<<18|xn<<12|mn<<6|63&Dt[Mt++])?Kt+=String.fromCharCode(yn):(yn-=65536,Kt+=String.fromCharCode(55296|yn>>10,56320|1023&yn))}}else Kt+=String.fromCharCode(yn)}return Kt}function vn(Dt,Mt){return(Dt>>>=0)?qt(ot(),Dt,Mt):""}function Yt(Dt,Mt,It,Kt){if(!(0<Kt))return 0;var yn=It>>>=0;Kt=It+Kt-1;for(var xn=0;xn<Dt.length;++xn){var mn=Dt.charCodeAt(xn);if(55296<=mn&&57343>=mn&&(mn=65536+((1023&mn)<<10)|1023&Dt.charCodeAt(++xn)),127>=mn){if(It>=Kt)break;Mt[It++>>>0]=mn}else{if(2047>=mn){if(It+1>=Kt)break;Mt[It++>>>0]=192|mn>>6}else{if(65535>=mn){if(It+2>=Kt)break;Mt[It++>>>0]=224|mn>>12}else{if(It+3>=Kt)break;Mt[It++>>>0]=240|mn>>18,Mt[It++>>>0]=128|mn>>12&63}Mt[It++>>>0]=128|mn>>6&63}Mt[It++>>>0]=128|63&mn}}return Mt[It>>>0]=0,It-yn}function rn(Dt){for(var Mt=0,It=0;It<Dt.length;++It){var Kt=Dt.charCodeAt(It);127>=Kt?Mt++:2047>=Kt?Mt+=2:55296<=Kt&&57343>=Kt?(Mt+=4,++It):Mt+=3}return Mt}function pn(Dt){Nt=Dt,at.HEAP8=Ft=new Int8Array(Dt),at.HEAP16=new Int16Array(Dt),at.HEAP32=zt=new Int32Array(Dt),at.HEAPU8=Ht=new Uint8Array(Dt),at.HEAPU16=new Uint16Array(Dt),at.HEAPU32=an=new Uint32Array(Dt),at.HEAPF32=new Float32Array(Dt),at.HEAPF64=Jt=new Float64Array(Dt)}At&&(Nt=at.buffer);var $n=at.INITIAL_MEMORY||16777216;if(At)Ot=at.wasmMemory,Nt=at.buffer;else if(at.wasmMemory)Ot=at.wasmMemory;else if(!((Ot=new WebAssembly.Memory({initial:$n/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw Tt("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),wt&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");Ot&&(Nt=Ot.buffer),$n=Nt.byteLength,pn(Nt);var on,Tn=[],kn=[],Bn=[];function On(){var Dt=at.preRun.shift();Tn.unshift(Dt)}var dn,wn=0,bn=null;function Sn(Dt){throw At?postMessage({cmd:"onAbort",arg:Dt}):at.onAbort&&at.onAbort(Dt),Tt(Dt="Aborted("+Dt+")"),Zt=!0,Dt=new WebAssembly.RuntimeError(Dt+". Build with -sASSERTIONS for more info."),ut(Dt),Dt}function Pn(){return dn.startsWith("data:application/octet-stream;base64,")}function In(){var Dt=dn;try{if(Dt==dn&&Ct)return new Uint8Array(Ct);if(ft)return ft(Dt);throw"both async and sync fetching of the wasm failed"}catch(Mt){Sn(Mt)}}dn="ort-wasm-threaded.wasm",Pn()||(dn=jt(dn));var Ln={};function Xn(Dt){this.name="ExitStatus",this.message="Program terminated with exit("+Dt+")",this.status=Dt}function rr(Dt){(Dt=Gn.La[Dt])||Sn(),Gn.Xa(Dt)}function sr(Dt){var Mt=Gn.lb();if(!Mt)return 6;Gn.Ra.push(Mt),Gn.La[Dt.Ka]=Mt,Mt.Ka=Dt.Ka;var It={cmd:"run",start_routine:Dt.pb,arg:Dt.ib,pthread_ptr:Dt.Ka};return Mt.Qa=()=>{It.time=performance.now(),Mt.postMessage(It,Dt.vb)},Mt.loaded&&(Mt.Qa(),delete Mt.Qa),0}function dr(Dt){if(At)return qn(1,1,Dt);$t||(Gn.qb(),at.onExit&&at.onExit(Dt),Zt=!0),bt(Dt,new Xn(Dt))}function lr(Dt,Mt){if(!Mt&&At)throw ln(Dt),"unwind";dr(Dt)}var Gn={Oa:[],Ra:[],$a:[],La:{},Ua:function(){At&&Gn.mb()},xb:function(){},mb:function(){Gn.receiveObjectTransfer=Gn.ob,Gn.threadInitTLS=Gn.Za,Gn.setExitStatus=Gn.Ya,$t=!1},Ya:function(){},qb:function(){for(var Dt of Object.values(Gn.La))Gn.Xa(Dt);for(Dt of Gn.Oa)Dt.terminate();Gn.Oa=[]},Xa:function(Dt){var Mt=Dt.Ka;delete Gn.La[Mt],Gn.Oa.push(Dt),Gn.Ra.splice(Gn.Ra.indexOf(Dt),1),Dt.Ka=0,Bt(Mt)},ob:function(){},Za:function(){Gn.$a.forEach(Dt=>Dt())},nb:function(Dt,Mt){Dt.onmessage=It=>{var Kt=(It=It.data).cmd;if(Dt.Ka&&(Gn.kb=Dt.Ka),It.targetThread&&It.targetThread!=jr()){var yn=Gn.La[It.yb];yn?yn.postMessage(It,It.transferList):Tt('Internal error! Worker sent a message "'+Kt+'" to target pthread '+It.targetThread+", but that thread no longer exists!")}else Kt==="processProxyingQueue"?nr(It.queue):Kt==="spawnThread"?sr(It):Kt==="cleanupThread"?rr(It.thread):Kt==="killThread"?(It=It.thread,Kt=Gn.La[It],delete Gn.La[It],Kt.terminate(),Bt(It),Gn.Ra.splice(Gn.Ra.indexOf(Kt),1),Kt.Ka=0):Kt==="cancelThread"?Gn.La[It.thread].postMessage({cmd:"cancel"}):Kt==="loaded"?(Dt.loaded=!0,Mt&&Mt(Dt),Dt.Qa&&(Dt.Qa(),delete Dt.Qa)):Kt==="print"?Et("Thread "+It.threadId+": "+It.text):Kt==="printErr"?Tt("Thread "+It.threadId+": "+It.text):Kt==="alert"?alert("Thread "+It.threadId+": "+It.text):It.target==="setimmediate"?Dt.postMessage(It):Kt==="onAbort"?at.onAbort&&at.onAbort(It.arg):Kt&&Tt("worker sent an unknown command "+Kt);Gn.kb=void 0},Dt.onerror=It=>{throw Tt("worker sent an error! "+It.filename+":"+It.lineno+": "+It.message),It},wt&&(Dt.on("message",function(It){Dt.onmessage({data:It})}),Dt.on("error",function(It){Dt.onerror(It)}),Dt.on("detachedExit",function(){})),Dt.postMessage({cmd:"load",urlOrBlob:at.mainScriptUrlOrBlob||et,wasmMemory:Ot,wasmModule:Rt})},hb:function(){var Dt=jt("ort-wasm-threaded.worker.js");Gn.Oa.push(new Worker(Dt))},lb:function(){return Gn.Oa.length==0&&(Gn.hb(),Gn.nb(Gn.Oa[0])),Gn.Oa.pop()}};function Ut(Dt){for(;0<Dt.length;)Dt.shift()(at)}function ln(Dt){if(At)return qn(2,0,Dt);try{lr(Dt)}catch(Mt){Mt instanceof Xn||Mt=="unwind"||bt(1,Mt)}}at.PThread=Gn,at.establishStackSpace=function(){var Dt=jr(),Mt=st()[Dt+44>>2>>>0];Dt=st()[Dt+48>>2>>>0],sn(Mt,Mt-Dt),_n(Mt)};var gn,Cn,Fn=[];function Dn(Dt){this.Pa=Dt-24,this.gb=function(Mt){ct()[this.Pa+4>>2>>>0]=Mt},this.cb=function(Mt){ct()[this.Pa+8>>2>>>0]=Mt},this.eb=function(){st()[this.Pa>>2>>>0]=0},this.bb=function(){rt()[this.Pa+12>>0>>>0]=0},this.fb=function(){rt()[this.Pa+13>>0>>>0]=0},this.Ua=function(Mt,It){this.ab(),this.gb(Mt),this.cb(It),this.eb(),this.bb(),this.fb()},this.ab=function(){ct()[this.Pa+16>>2>>>0]=0}}function Un(Dt,Mt,It,Kt){return At?qn(3,1,Dt,Mt,It,Kt):or(Dt,Mt,It,Kt)}function or(Dt,Mt,It,Kt){if(typeof SharedArrayBuffer>"u")return Tt("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var yn=[];return At&&yn.length===0?Un(Dt,Mt,It,Kt):(Dt={pb:It,Ka:Dt,ib:Kt,vb:yn},At?(Dt.wb="spawnThread",postMessage(Dt,yn),0):sr(Dt))}function tr(Dt,Mt,It){return At?qn(4,1,Dt,Mt,It):0}function Vt(Dt,Mt){if(At)return qn(5,1,Dt,Mt)}function hn(Dt,Mt){if(At)return qn(6,1,Dt,Mt)}function cn(Dt,Mt,It){if(At)return qn(7,1,Dt,Mt,It)}function fn(Dt,Mt,It){return At?qn(8,1,Dt,Mt,It):0}function Gt(Dt,Mt){if(At)return qn(9,1,Dt,Mt)}function An(Dt,Mt,It){if(At)return qn(10,1,Dt,Mt,It)}function zn(Dt,Mt,It,Kt){if(At)return qn(11,1,Dt,Mt,It,Kt)}function Zn(Dt,Mt,It,Kt){if(At)return qn(12,1,Dt,Mt,It,Kt)}function Vn(Dt,Mt,It,Kt){if(At)return qn(13,1,Dt,Mt,It,Kt)}function Kn(Dt){if(At)return qn(14,1,Dt)}function Wn(Dt,Mt){if(At)return qn(15,1,Dt,Mt)}function Qn(Dt,Mt,It){if(At)return qn(16,1,Dt,Mt,It)}function nr(Dt){Atomics.store(st(),Dt>>2,1),jr()&&Wt(Dt),Atomics.compareExchange(st(),Dt>>2,1,0)}function ar(Dt){return ct()[Dt>>>2]+4294967296*st()[Dt+4>>>2]}function yr(Dt,Mt,It,Kt,yn,xn){return At?qn(17,1,Dt,Mt,It,Kt,yn,xn):-52}function vr(Dt,Mt,It,Kt,yn,xn){if(At)return qn(18,1,Dt,Mt,It,Kt,yn,xn)}function gr(Dt){var Mt=rn(Dt)+1,It=Or(Mt);return It&&Yt(Dt,rt(),It,Mt),It}function mr(Dt,Mt,It){function Kt(pr){return(pr=pr.toTimeString().match(/\(([A-Za-z ]+)\)$/))?pr[1]:"GMT"}if(At)return qn(19,1,Dt,Mt,It);var yn=new Date().getFullYear(),xn=new Date(yn,0,1),mn=new Date(yn,6,1);yn=xn.getTimezoneOffset();var jn=mn.getTimezoneOffset(),cr=Math.max(yn,jn);st()[Dt>>2>>>0]=60*cr,st()[Mt>>2>>>0]=+(yn!=jn),Dt=Kt(xn),Mt=Kt(mn),Dt=gr(Dt),Mt=gr(Mt),jn<yn?(ct()[It>>2>>>0]=Dt,ct()[It+4>>2>>>0]=Mt):(ct()[It>>2>>>0]=Mt,ct()[It+4>>2>>>0]=Dt)}function qn(Dt,Mt){var It=arguments.length-2,Kt=arguments;return function(yn){var xn=Xt();return yn=yn(),_n(xn),yn}(()=>{for(var yn=Rn(8*It),xn=yn>>3,mn=0;mn<It;mn++){var jn=Kt[2+mn];lt()[xn+mn>>>0]=jn}return Lt(Dt,It,yn,Mt)})}at.invokeEntryPoint=function(Dt,Mt){var It=Fn[Dt];It||(Dt>=Fn.length&&(Fn.length=Dt+1),Fn[Dt]=It=on.get(Dt)),Dt=It(Mt),$t?Gn.Ya(Dt):tn(Dt)},at.executeNotifiedProxyingQueue=nr,Cn=wt?()=>{var Dt=process.hrtime();return 1e3*Dt[0]+Dt[1]/1e6}:At?()=>performance.now()-at.__performance_now_clock_drift:()=>performance.now();var Er,Sr=[],Dr={};function Yn(){if(!Er){var Dt,Mt={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:yt||"./this.program"};for(Dt in Dr)Dr[Dt]===void 0?delete Mt[Dt]:Mt[Dt]=Dr[Dt];var It=[];for(Dt in Mt)It.push(Dt+"="+Mt[Dt]);Er=It}return Er}function en(Dt,Mt){if(At)return qn(20,1,Dt,Mt);var It=0;return Yn().forEach(function(Kt,yn){var xn=Mt+It;for(yn=ct()[Dt+4*yn>>2>>>0]=xn,xn=0;xn<Kt.length;++xn)rt()[yn++>>0>>>0]=Kt.charCodeAt(xn);rt()[yn>>0>>>0]=0,It+=Kt.length+1}),0}function Mn(Dt,Mt){if(At)return qn(21,1,Dt,Mt);var It=Yn();ct()[Dt>>2>>>0]=It.length;var Kt=0;return It.forEach(function(yn){Kt+=yn.length+1}),ct()[Mt>>2>>>0]=Kt,0}function Jn(Dt){return At?qn(22,1,Dt):52}function ir(Dt,Mt,It,Kt){return At?qn(23,1,Dt,Mt,It,Kt):52}function _r(Dt,Mt,It,Kt,yn){return At?qn(24,1,Dt,Mt,It,Kt,yn):70}var wr=[null,[],[]];function xr(Dt,Mt,It,Kt){if(At)return qn(25,1,Dt,Mt,It,Kt);for(var yn=0,xn=0;xn<It;xn++){var mn=ct()[Mt>>2>>>0],jn=ct()[Mt+4>>2>>>0];Mt+=8;for(var cr=0;cr<jn;cr++){var pr=ot()[mn+cr>>>0],Ar=wr[Dt];pr===0||pr===10?((Dt===1?Et:Tt)(qt(Ar,0)),Ar.length=0):Ar.push(pr)}yn+=jn}return ct()[Kt>>2>>>0]=yn,0}function Tr(Dt){return Dt%4==0&&(Dt%100!=0||Dt%400==0)}var kr=[31,29,31,30,31,30,31,31,30,31,30,31],fr=[31,28,31,30,31,30,31,31,30,31,30,31];function $r(Dt,Mt,It,Kt){function yn(En,ur,Cr){for(En=typeof En=="number"?En.toString():En||"";En.length<ur;)En=Cr[0]+En;return En}function xn(En,ur){return yn(En,ur,"0")}function mn(En,ur){function Cr(Yr){return 0>Yr?-1:0<Yr?1:0}var Ir;return(Ir=Cr(En.getFullYear()-ur.getFullYear()))===0&&(Ir=Cr(En.getMonth()-ur.getMonth()))===0&&(Ir=Cr(En.getDate()-ur.getDate())),Ir}function jn(En){switch(En.getDay()){case 0:return new Date(En.getFullYear()-1,11,29);case 1:return En;case 2:return new Date(En.getFullYear(),0,3);case 3:return new Date(En.getFullYear(),0,2);case 4:return new Date(En.getFullYear(),0,1);case 5:return new Date(En.getFullYear()-1,11,31);case 6:return new Date(En.getFullYear()-1,11,30)}}function cr(En){var ur=En.Ma;for(En=new Date(new Date(En.Na+1900,0,1).getTime());0<ur;){var Cr=En.getMonth(),Ir=(Tr(En.getFullYear())?kr:fr)[Cr];if(!(ur>Ir-En.getDate())){En.setDate(En.getDate()+ur);break}ur-=Ir-En.getDate()+1,En.setDate(1),11>Cr?En.setMonth(Cr+1):(En.setMonth(0),En.setFullYear(En.getFullYear()+1))}return Cr=new Date(En.getFullYear()+1,0,4),ur=jn(new Date(En.getFullYear(),0,4)),Cr=jn(Cr),0>=mn(ur,En)?0>=mn(Cr,En)?En.getFullYear()+1:En.getFullYear():En.getFullYear()-1}var pr=st()[Kt+40>>2>>>0];for(var Ar in Kt={tb:st()[Kt>>2>>>0],sb:st()[Kt+4>>2>>>0],Sa:st()[Kt+8>>2>>>0],Va:st()[Kt+12>>2>>>0],Ta:st()[Kt+16>>2>>>0],Na:st()[Kt+20>>2>>>0],Ja:st()[Kt+24>>2>>>0],Ma:st()[Kt+28>>2>>>0],zb:st()[Kt+32>>2>>>0],rb:st()[Kt+36>>2>>>0],ub:pr?vn(pr):""},It=vn(It),pr={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})It=It.replace(new RegExp(Ar,"g"),pr[Ar]);var Fr="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Lr="January February March April May June July August September October November December".split(" ");for(Ar in pr={"%a":function(En){return Fr[En.Ja].substring(0,3)},"%A":function(En){return Fr[En.Ja]},"%b":function(En){return Lr[En.Ta].substring(0,3)},"%B":function(En){return Lr[En.Ta]},"%C":function(En){return xn((En.Na+1900)/100|0,2)},"%d":function(En){return xn(En.Va,2)},"%e":function(En){return yn(En.Va,2," ")},"%g":function(En){return cr(En).toString().substring(2)},"%G":function(En){return cr(En)},"%H":function(En){return xn(En.Sa,2)},"%I":function(En){return(En=En.Sa)==0?En=12:12<En&&(En-=12),xn(En,2)},"%j":function(En){for(var ur=0,Cr=0;Cr<=En.Ta-1;ur+=(Tr(En.Na+1900)?kr:fr)[Cr++]);return xn(En.Va+ur,3)},"%m":function(En){return xn(En.Ta+1,2)},"%M":function(En){return xn(En.sb,2)},"%n":function(){return`
`},"%p":function(En){return 0<=En.Sa&&12>En.Sa?"AM":"PM"},"%S":function(En){return xn(En.tb,2)},"%t":function(){return"	"},"%u":function(En){return En.Ja||7},"%U":function(En){return xn(Math.floor((En.Ma+7-En.Ja)/7),2)},"%V":function(En){var ur=Math.floor((En.Ma+7-(En.Ja+6)%7)/7);if(2>=(En.Ja+371-En.Ma-2)%7&&ur++,ur)ur==53&&((Cr=(En.Ja+371-En.Ma)%7)==4||Cr==3&&Tr(En.Na)||(ur=1));else{ur=52;var Cr=(En.Ja+7-En.Ma-1)%7;(Cr==4||Cr==5&&Tr(En.Na%400-1))&&ur++}return xn(ur,2)},"%w":function(En){return En.Ja},"%W":function(En){return xn(Math.floor((En.Ma+7-(En.Ja+6)%7)/7),2)},"%y":function(En){return(En.Na+1900).toString().substring(2)},"%Y":function(En){return En.Na+1900},"%z":function(En){var ur=0<=(En=En.rb);return En=Math.abs(En)/60,(ur?"+":"-")+("0000"+(En/60*100+En%60)).slice(-4)},"%Z":function(En){return En.ub},"%%":function(){return"%"}},It=It.replace(/%%/g,"\0\0"),pr)It.includes(Ar)&&(It=It.replace(new RegExp(Ar,"g"),pr[Ar](Kt)));return Ar=function(En){var ur=Array(rn(En)+1);return Yt(En,ur,0,ur.length),ur}(It=It.replace(/\0\0/g,"%")),Ar.length>Mt?0:(function(En,ur){rt().set(En,ur>>>0)}(Ar,Dt),Ar.length-1)}Gn.Ua();var Pr=[null,dr,ln,Un,tr,Vt,hn,cn,fn,Gt,An,zn,Zn,Vn,Kn,Wn,Qn,yr,vr,mr,en,Mn,Jn,ir,_r,xr],Mr={b:function(Dt){return Or(Dt+24)+24},c:function(Dt,Mt,It){throw new Dn(Dt).Ua(Mt,It),Dt},L:function(Dt){Nr(Dt,!_t,1,!xt),Gn.Za()},l:function(Dt){At?postMessage({cmd:"cleanupThread",thread:Dt}):rr(Dt)},D:or,i:tr,R:Vt,z:hn,B:cn,T:fn,P:Gt,I:An,O:zn,p:Zn,A:Vn,x:Kn,Q:Wn,y:Qn,r:function(){},j:function(){Sn("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},s:function(){Sn("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},q:function(){return Date.now()},E:function(){return 2097152},V:function(){return!0},F:function(Dt,Mt,It,Kt){if(Dt==Mt)setTimeout(()=>nr(Kt));else if(At)postMessage({targetThread:Dt,cmd:"processProxyingQueue",queue:Kt});else{if(!(Dt=Gn.La[Dt]))return;Dt.postMessage({cmd:"processProxyingQueue",queue:Kt})}return 1},K:function(){return-1},W:function(Dt,Mt){Dt=new Date(1e3*ar(Dt)),st()[Mt>>2>>>0]=Dt.getUTCSeconds(),st()[Mt+4>>2>>>0]=Dt.getUTCMinutes(),st()[Mt+8>>2>>>0]=Dt.getUTCHours(),st()[Mt+12>>2>>>0]=Dt.getUTCDate(),st()[Mt+16>>2>>>0]=Dt.getUTCMonth(),st()[Mt+20>>2>>>0]=Dt.getUTCFullYear()-1900,st()[Mt+24>>2>>>0]=Dt.getUTCDay(),Dt=(Dt.getTime()-Date.UTC(Dt.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,st()[Mt+28>>2>>>0]=Dt},X:function(Dt,Mt){Dt=new Date(1e3*ar(Dt)),st()[Mt>>2>>>0]=Dt.getSeconds(),st()[Mt+4>>2>>>0]=Dt.getMinutes(),st()[Mt+8>>2>>>0]=Dt.getHours(),st()[Mt+12>>2>>>0]=Dt.getDate(),st()[Mt+16>>2>>>0]=Dt.getMonth(),st()[Mt+20>>2>>>0]=Dt.getFullYear()-1900,st()[Mt+24>>2>>>0]=Dt.getDay();var It=new Date(Dt.getFullYear(),0,1),Kt=(Dt.getTime()-It.getTime())/864e5|0;st()[Mt+28>>2>>>0]=Kt,st()[Mt+36>>2>>>0]=-60*Dt.getTimezoneOffset(),Kt=new Date(Dt.getFullYear(),6,1).getTimezoneOffset(),Dt=0|(Kt!=(It=It.getTimezoneOffset())&&Dt.getTimezoneOffset()==Math.min(It,Kt)),st()[Mt+32>>2>>>0]=Dt},Y:function(Dt){var Mt=new Date(st()[Dt+20>>2>>>0]+1900,st()[Dt+16>>2>>>0],st()[Dt+12>>2>>>0],st()[Dt+8>>2>>>0],st()[Dt+4>>2>>>0],st()[Dt>>2>>>0],0),It=st()[Dt+32>>2>>>0],Kt=Mt.getTimezoneOffset(),yn=new Date(Mt.getFullYear(),0,1),xn=new Date(Mt.getFullYear(),6,1).getTimezoneOffset(),mn=yn.getTimezoneOffset(),jn=Math.min(mn,xn);return 0>It?st()[Dt+32>>2>>>0]=+(xn!=mn&&jn==Kt):0<It!=(jn==Kt)&&(xn=Math.max(mn,xn),Mt.setTime(Mt.getTime()+6e4*((0<It?jn:xn)-Kt))),st()[Dt+24>>2>>>0]=Mt.getDay(),It=(Mt.getTime()-yn.getTime())/864e5|0,st()[Dt+28>>2>>>0]=It,st()[Dt>>2>>>0]=Mt.getSeconds(),st()[Dt+4>>2>>>0]=Mt.getMinutes(),st()[Dt+8>>2>>>0]=Mt.getHours(),st()[Dt+12>>2>>>0]=Mt.getDate(),st()[Dt+16>>2>>>0]=Mt.getMonth(),Mt.getTime()/1e3|0},G:yr,H:vr,Z:function Dt(Mt,It,Kt){Dt.jb||(Dt.jb=!0,mr(Mt,It,Kt))},d:function(){Sn("")},m:function(){if(!wt&&!_t){var Dt="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";gn||(gn={}),gn[Dt]||(gn[Dt]=1,wt&&(Dt="warning: "+Dt),Tt(Dt))}},w:function(){return 4294901760},f:Cn,S:function(Dt,Mt,It){ot().copyWithin(Dt>>>0,Mt>>>0,Mt+It>>>0)},g:function(){return wt?_e(3993).cpus().length:navigator.hardwareConcurrency},J:function(Dt,Mt,It){Sr.length=Mt,It>>=3;for(var Kt=0;Kt<Mt;Kt++)Sr[Kt]=lt()[It+Kt>>>0];return(0>Dt?Ln[-Dt-1]:Pr[Dt]).apply(null,Sr)},v:function(Dt){var Mt=ot().length;if((Dt>>>=0)<=Mt||4294901760<Dt)return!1;for(var It=1;4>=It;It*=2){var Kt=Mt*(1+.2/It);Kt=Math.min(Kt,Dt+100663296);var yn=Math;Kt=Math.max(Dt,Kt),yn=yn.min.call(yn,4294901760,Kt+(65536-Kt%65536)%65536);e:{try{Ot.grow(yn-Nt.byteLength+65535>>>16),pn(Ot.buffer);var xn=1;break e}catch{}xn=void 0}if(xn)return!0}return!1},U:function(){throw"unwind"},M:en,N:Mn,k:lr,h:Jn,o:ir,t:_r,n:xr,u:function Dt(Mt,It){Dt.Wa||(Dt.Wa=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var yn=new Uint8Array(1);return()=>(crypto.getRandomValues(yn),yn[0])}if(wt)try{var xn=_e(760);return()=>xn.randomBytes(1)[0]}catch{}return()=>Sn("randomDevice")}());for(var Kt=0;Kt<It;Kt++)rt()[Mt+Kt>>0>>>0]=Dt.Wa();return 0},a:Ot||at.wasmMemory,C:$r,e:function(Dt,Mt,It,Kt){return $r(Dt,Mt,It,Kt)}};(function(){function Dt(yn,xn){at.asm=yn.exports,Gn.$a.push(at.asm.wa),on=at.asm.za,kn.unshift(at.asm._),Rt=xn,At||(wn--,at.monitorRunDependencies&&at.monitorRunDependencies(wn),wn==0&&bn&&(yn=bn,bn=null,yn()))}function Mt(yn){Dt(yn.instance,yn.module)}function It(yn){return function(){if(!Ct&&(xt||_t)){if(typeof fetch=="function"&&!dn.startsWith("file://"))return fetch(dn,{credentials:"same-origin"}).then(function(xn){if(!xn.ok)throw"failed to load wasm binary file at '"+dn+"'";return xn.arrayBuffer()}).catch(function(){return In()});if(ht)return new Promise(function(xn,mn){ht(dn,function(jn){xn(new Uint8Array(jn))},mn)})}return Promise.resolve().then(function(){return In()})}().then(function(xn){return WebAssembly.instantiate(xn,Kt)}).then(function(xn){return xn}).then(yn,function(xn){Tt("failed to asynchronously prepare wasm: "+xn),Sn(xn)})}var Kt={a:Mr};if(At||(wn++,at.monitorRunDependencies&&at.monitorRunDependencies(wn)),at.instantiateWasm)try{return at.instantiateWasm(Kt,Dt)}catch(yn){return Tt("Module.instantiateWasm callback failed with error: "+yn),!1}(Ct||typeof WebAssembly.instantiateStreaming!="function"||Pn()||dn.startsWith("file://")||wt||typeof fetch!="function"?It(Mt):fetch(dn,{credentials:"same-origin"}).then(function(yn){return WebAssembly.instantiateStreaming(yn,Kt).then(Mt,function(xn){return Tt("wasm streaming compile failed: "+xn),Tt("falling back to ArrayBuffer instantiation"),It(Mt)})})).catch(ut)})(),at.___wasm_call_ctors=function(){return(at.___wasm_call_ctors=at.asm._).apply(null,arguments)},at._OrtInit=function(){return(at._OrtInit=at.asm.$).apply(null,arguments)},at._OrtCreateSessionOptions=function(){return(at._OrtCreateSessionOptions=at.asm.aa).apply(null,arguments)},at._OrtAppendExecutionProvider=function(){return(at._OrtAppendExecutionProvider=at.asm.ba).apply(null,arguments)},at._OrtAddSessionConfigEntry=function(){return(at._OrtAddSessionConfigEntry=at.asm.ca).apply(null,arguments)},at._OrtReleaseSessionOptions=function(){return(at._OrtReleaseSessionOptions=at.asm.da).apply(null,arguments)},at._OrtCreateSession=function(){return(at._OrtCreateSession=at.asm.ea).apply(null,arguments)},at._OrtReleaseSession=function(){return(at._OrtReleaseSession=at.asm.fa).apply(null,arguments)},at._OrtGetInputCount=function(){return(at._OrtGetInputCount=at.asm.ga).apply(null,arguments)},at._OrtGetOutputCount=function(){return(at._OrtGetOutputCount=at.asm.ha).apply(null,arguments)},at._OrtGetInputName=function(){return(at._OrtGetInputName=at.asm.ia).apply(null,arguments)},at._OrtGetOutputName=function(){return(at._OrtGetOutputName=at.asm.ja).apply(null,arguments)},at._OrtFree=function(){return(at._OrtFree=at.asm.ka).apply(null,arguments)},at._OrtCreateTensor=function(){return(at._OrtCreateTensor=at.asm.la).apply(null,arguments)},at._OrtGetTensorData=function(){return(at._OrtGetTensorData=at.asm.ma).apply(null,arguments)},at._OrtReleaseTensor=function(){return(at._OrtReleaseTensor=at.asm.na).apply(null,arguments)},at._OrtCreateRunOptions=function(){return(at._OrtCreateRunOptions=at.asm.oa).apply(null,arguments)},at._OrtAddRunConfigEntry=function(){return(at._OrtAddRunConfigEntry=at.asm.pa).apply(null,arguments)},at._OrtReleaseRunOptions=function(){return(at._OrtReleaseRunOptions=at.asm.qa).apply(null,arguments)},at._OrtRun=function(){return(at._OrtRun=at.asm.ra).apply(null,arguments)},at._OrtEndProfiling=function(){return(at._OrtEndProfiling=at.asm.sa).apply(null,arguments)};var jr=at._pthread_self=function(){return(jr=at._pthread_self=at.asm.ta).apply(null,arguments)},Or=at._malloc=function(){return(Or=at._malloc=at.asm.ua).apply(null,arguments)};at._free=function(){return(at._free=at.asm.va).apply(null,arguments)},at.__emscripten_tls_init=function(){return(at.__emscripten_tls_init=at.asm.wa).apply(null,arguments)};var Nr=at.__emscripten_thread_init=function(){return(Nr=at.__emscripten_thread_init=at.asm.xa).apply(null,arguments)};at.__emscripten_thread_crashed=function(){return(at.__emscripten_thread_crashed=at.asm.ya).apply(null,arguments)};var Rr,Lt=at._emscripten_run_in_main_runtime_thread_js=function(){return(Lt=at._emscripten_run_in_main_runtime_thread_js=at.asm.Aa).apply(null,arguments)},Wt=at.__emscripten_proxy_execute_task_queue=function(){return(Wt=at.__emscripten_proxy_execute_task_queue=at.asm.Ba).apply(null,arguments)},Bt=at.__emscripten_thread_free_data=function(){return(Bt=at.__emscripten_thread_free_data=at.asm.Ca).apply(null,arguments)},tn=at.__emscripten_thread_exit=function(){return(tn=at.__emscripten_thread_exit=at.asm.Da).apply(null,arguments)},sn=at._emscripten_stack_set_limits=function(){return(sn=at._emscripten_stack_set_limits=at.asm.Ea).apply(null,arguments)},Xt=at.stackSave=function(){return(Xt=at.stackSave=at.asm.Fa).apply(null,arguments)},_n=at.stackRestore=function(){return(_n=at.stackRestore=at.asm.Ga).apply(null,arguments)},Rn=at.stackAlloc=function(){return(Rn=at.stackAlloc=at.asm.Ha).apply(null,arguments)};function Nn(){function Dt(){if(!Rr&&(Rr=!0,at.calledRun=!0,!Zt)&&(At||Ut(kn),it(at),at.onRuntimeInitialized&&at.onRuntimeInitialized(),!At)){if(at.postRun)for(typeof at.postRun=="function"&&(at.postRun=[at.postRun]);at.postRun.length;){var Mt=at.postRun.shift();Bn.unshift(Mt)}Ut(Bn)}}if(!(0<wn))if(At)it(at),At||Ut(kn),postMessage({cmd:"loaded"});else{if(at.preRun)for(typeof at.preRun=="function"&&(at.preRun=[at.preRun]);at.preRun.length;)On();Ut(Tn),0<wn||(at.setStatus?(at.setStatus("Running..."),setTimeout(function(){setTimeout(function(){at.setStatus("")},1),Dt()},1)):Dt())}}if(at.___cxa_is_pointer_type=function(){return(at.___cxa_is_pointer_type=at.asm.Ia).apply(null,arguments)},at.UTF8ToString=vn,at.stringToUTF8=function(Dt,Mt,It){return Yt(Dt,ot(),Mt,It)},at.lengthBytesUTF8=rn,at.keepRuntimeAlive=function(){return $t},at.wasmMemory=Ot,at.stackSave=Xt,at.stackRestore=_n,at.stackAlloc=Rn,at.ExitStatus=Xn,at.PThread=Gn,bn=function Dt(){Rr||Nn(),Rr||(bn=Dt)},at.preInit)for(typeof at.preInit=="function"&&(at.preInit=[at.preInit]);0<at.preInit.length;)at.preInit.pop()();return Nn(),nt.ready});b.exports=tt},932:(b,$,_e)=>{var et,tt=(et=(et=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(nt){var rt,ot,st;nt=nt||{},rt||(rt=nt!==void 0?nt:{}),rt.ready=new Promise(function(Ut,ln){ot=Ut,st=ln});var ct,lt,at,it,ut,dt,ht=Object.assign({},rt),ft="./this.program",pt=(Ut,ln)=>{throw ln},mt=typeof window=="object",gt=typeof importScripts=="function",vt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",yt="";vt?(yt=gt?_e(908).dirname(yt)+"/":"//",dt=()=>{ut||(it=_e(1384),ut=_e(908))},ct=function(Ut,ln){return dt(),Ut=ut.normalize(Ut),it.readFileSync(Ut,ln?void 0:"utf8")},at=Ut=>((Ut=ct(Ut,!0)).buffer||(Ut=new Uint8Array(Ut)),Ut),lt=(Ut,ln,gn)=>{dt(),Ut=ut.normalize(Ut),it.readFile(Ut,function(Cn,Fn){Cn?gn(Cn):ln(Fn.buffer)})},1<process.argv.length&&(ft=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(Ut){if(!(Ut instanceof $n))throw Ut}),process.on("unhandledRejection",function(Ut){throw Ut}),pt=(Ut,ln)=>{if(wt)throw process.exitCode=Ut,ln;ln instanceof $n||_t("exiting due to exception: "+ln),process.exit(Ut)},rt.inspect=function(){return"[Emscripten Module object]"}):(mt||gt)&&(gt?yt=self.location.href:typeof document<"u"&&document.currentScript&&(yt=document.currentScript.src),et&&(yt=et),yt=yt.indexOf("blob:")!==0?yt.substr(0,yt.replace(/[?#].*/,"").lastIndexOf("/")+1):"",ct=Ut=>{var ln=new XMLHttpRequest;return ln.open("GET",Ut,!1),ln.send(null),ln.responseText},gt&&(at=Ut=>{var ln=new XMLHttpRequest;return ln.open("GET",Ut,!1),ln.responseType="arraybuffer",ln.send(null),new Uint8Array(ln.response)}),lt=(Ut,ln,gn)=>{var Cn=new XMLHttpRequest;Cn.open("GET",Ut,!0),Cn.responseType="arraybuffer",Cn.onload=()=>{Cn.status==200||Cn.status==0&&Cn.response?ln(Cn.response):gn()},Cn.onerror=gn,Cn.send(null)});var bt,xt=rt.print||console.log.bind(console),_t=rt.printErr||console.warn.bind(console);Object.assign(rt,ht),ht=null,rt.thisProgram&&(ft=rt.thisProgram),rt.quit&&(pt=rt.quit),rt.wasmBinary&&(bt=rt.wasmBinary);var wt=rt.noExitRuntime||!0;typeof WebAssembly!="object"&&vn("no native wasm support detected");var At,Pt,jt,kt,St,Ct,Et=!1,Tt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function $t(Ut,ln,gn){var Cn=(ln>>>=0)+gn;for(gn=ln;Ut[gn]&&!(gn>=Cn);)++gn;if(16<gn-ln&&Ut.buffer&&Tt)return Tt.decode(Ut.subarray(ln,gn));for(Cn="";ln<gn;){var Fn=Ut[ln++];if(128&Fn){var Dn=63&Ut[ln++];if((224&Fn)==192)Cn+=String.fromCharCode((31&Fn)<<6|Dn);else{var Un=63&Ut[ln++];65536>(Fn=(240&Fn)==224?(15&Fn)<<12|Dn<<6|Un:(7&Fn)<<18|Dn<<12|Un<<6|63&Ut[ln++])?Cn+=String.fromCharCode(Fn):(Fn-=65536,Cn+=String.fromCharCode(55296|Fn>>10,56320|1023&Fn))}}else Cn+=String.fromCharCode(Fn)}return Cn}function Ot(Ut,ln){return(Ut>>>=0)?$t(kt,Ut,ln):""}function Rt(Ut,ln,gn,Cn){if(!(0<Cn))return 0;var Fn=gn>>>=0;Cn=gn+Cn-1;for(var Dn=0;Dn<Ut.length;++Dn){var Un=Ut.charCodeAt(Dn);if(55296<=Un&&57343>=Un&&(Un=65536+((1023&Un)<<10)|1023&Ut.charCodeAt(++Dn)),127>=Un){if(gn>=Cn)break;ln[gn++>>>0]=Un}else{if(2047>=Un){if(gn+1>=Cn)break;ln[gn++>>>0]=192|Un>>6}else{if(65535>=Un){if(gn+2>=Cn)break;ln[gn++>>>0]=224|Un>>12}else{if(gn+3>=Cn)break;ln[gn++>>>0]=240|Un>>18,ln[gn++>>>0]=128|Un>>12&63}ln[gn++>>>0]=128|Un>>6&63}ln[gn++>>>0]=128|63&Un}}return ln[gn>>>0]=0,gn-Fn}function Nt(Ut){for(var ln=0,gn=0;gn<Ut.length;++gn){var Cn=Ut.charCodeAt(gn);127>=Cn?ln++:2047>=Cn?ln+=2:55296<=Cn&&57343>=Cn?(ln+=4,++gn):ln+=3}return ln}function Ft(){var Ut=At.buffer;Pt=Ut,rt.HEAP8=jt=new Int8Array(Ut),rt.HEAP16=new Int16Array(Ut),rt.HEAP32=St=new Int32Array(Ut),rt.HEAPU8=kt=new Uint8Array(Ut),rt.HEAPU16=new Uint16Array(Ut),rt.HEAPU32=Ct=new Uint32Array(Ut),rt.HEAPF32=new Float32Array(Ut),rt.HEAPF64=new Float64Array(Ut)}var Ht=[],zt=[],an=[];function Jt(){var Ut=rt.preRun.shift();Ht.unshift(Ut)}var Zt,Qt=0,qt=null;function vn(Ut){throw rt.onAbort&&rt.onAbort(Ut),_t(Ut="Aborted("+Ut+")"),Et=!0,Ut=new WebAssembly.RuntimeError(Ut+". Build with -sASSERTIONS for more info."),st(Ut),Ut}function Yt(){return Zt.startsWith("data:application/octet-stream;base64,")}if(Zt="ort-wasm.wasm",!Yt()){var rn=Zt;Zt=rt.locateFile?rt.locateFile(rn,yt):yt+rn}function pn(){var Ut=Zt;try{if(Ut==Zt&&bt)return new Uint8Array(bt);if(at)return at(Ut);throw"both async and sync fetching of the wasm failed"}catch(ln){vn(ln)}}function $n(Ut){this.name="ExitStatus",this.message="Program terminated with exit("+Ut+")",this.status=Ut}function on(Ut){for(;0<Ut.length;)Ut.shift()(rt)}function Tn(Ut){this.sa=Ut-24,this.Ia=function(ln){Ct[this.sa+4>>2>>>0]=ln},this.Ba=function(ln){Ct[this.sa+8>>2>>>0]=ln},this.Ga=function(){St[this.sa>>2>>>0]=0},this.Aa=function(){jt[this.sa+12>>0>>>0]=0},this.Ha=function(){jt[this.sa+13>>0>>>0]=0},this.ya=function(ln,gn){this.za(),this.Ia(ln),this.Ba(gn),this.Ga(),this.Aa(),this.Ha()},this.za=function(){Ct[this.sa+16>>2>>>0]=0}}function kn(Ut){var ln=Nt(Ut)+1,gn=Xn(ln);return gn&&Rt(Ut,jt,gn,ln),gn}var Bn={};function On(){if(!dn){var Ut,ln={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:ft||"./this.program"};for(Ut in Bn)Bn[Ut]===void 0?delete ln[Ut]:ln[Ut]=Bn[Ut];var gn=[];for(Ut in ln)gn.push(Ut+"="+ln[Ut]);dn=gn}return dn}var dn,wn=[null,[],[]];function bn(Ut){return Ut%4==0&&(Ut%100!=0||Ut%400==0)}var Sn=[31,29,31,30,31,30,31,31,30,31,30,31],Pn=[31,28,31,30,31,30,31,31,30,31,30,31];function In(Ut,ln,gn,Cn){function Fn(Gt,An,zn){for(Gt=typeof Gt=="number"?Gt.toString():Gt||"";Gt.length<An;)Gt=zn[0]+Gt;return Gt}function Dn(Gt,An){return Fn(Gt,An,"0")}function Un(Gt,An){function zn(Vn){return 0>Vn?-1:0<Vn?1:0}var Zn;return(Zn=zn(Gt.getFullYear()-An.getFullYear()))===0&&(Zn=zn(Gt.getMonth()-An.getMonth()))===0&&(Zn=zn(Gt.getDate()-An.getDate())),Zn}function or(Gt){switch(Gt.getDay()){case 0:return new Date(Gt.getFullYear()-1,11,29);case 1:return Gt;case 2:return new Date(Gt.getFullYear(),0,3);case 3:return new Date(Gt.getFullYear(),0,2);case 4:return new Date(Gt.getFullYear(),0,1);case 5:return new Date(Gt.getFullYear()-1,11,31);case 6:return new Date(Gt.getFullYear()-1,11,30)}}function tr(Gt){var An=Gt.qa;for(Gt=new Date(new Date(Gt.ra+1900,0,1).getTime());0<An;){var zn=Gt.getMonth(),Zn=(bn(Gt.getFullYear())?Sn:Pn)[zn];if(!(An>Zn-Gt.getDate())){Gt.setDate(Gt.getDate()+An);break}An-=Zn-Gt.getDate()+1,Gt.setDate(1),11>zn?Gt.setMonth(zn+1):(Gt.setMonth(0),Gt.setFullYear(Gt.getFullYear()+1))}return zn=new Date(Gt.getFullYear()+1,0,4),An=or(new Date(Gt.getFullYear(),0,4)),zn=or(zn),0>=Un(An,Gt)?0>=Un(zn,Gt)?Gt.getFullYear()+1:Gt.getFullYear():Gt.getFullYear()-1}var Vt=St[Cn+40>>2>>>0];for(var hn in Cn={Ea:St[Cn>>2>>>0],Da:St[Cn+4>>2>>>0],ta:St[Cn+8>>2>>>0],va:St[Cn+12>>2>>>0],ua:St[Cn+16>>2>>>0],ra:St[Cn+20>>2>>>0],la:St[Cn+24>>2>>>0],qa:St[Cn+28>>2>>>0],Ja:St[Cn+32>>2>>>0],Ca:St[Cn+36>>2>>>0],Fa:Vt?Ot(Vt):""},gn=Ot(gn),Vt={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})gn=gn.replace(new RegExp(hn,"g"),Vt[hn]);var cn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),fn="January February March April May June July August September October November December".split(" ");for(hn in Vt={"%a":function(Gt){return cn[Gt.la].substring(0,3)},"%A":function(Gt){return cn[Gt.la]},"%b":function(Gt){return fn[Gt.ua].substring(0,3)},"%B":function(Gt){return fn[Gt.ua]},"%C":function(Gt){return Dn((Gt.ra+1900)/100|0,2)},"%d":function(Gt){return Dn(Gt.va,2)},"%e":function(Gt){return Fn(Gt.va,2," ")},"%g":function(Gt){return tr(Gt).toString().substring(2)},"%G":function(Gt){return tr(Gt)},"%H":function(Gt){return Dn(Gt.ta,2)},"%I":function(Gt){return(Gt=Gt.ta)==0?Gt=12:12<Gt&&(Gt-=12),Dn(Gt,2)},"%j":function(Gt){for(var An=0,zn=0;zn<=Gt.ua-1;An+=(bn(Gt.ra+1900)?Sn:Pn)[zn++]);return Dn(Gt.va+An,3)},"%m":function(Gt){return Dn(Gt.ua+1,2)},"%M":function(Gt){return Dn(Gt.Da,2)},"%n":function(){return`
`},"%p":function(Gt){return 0<=Gt.ta&&12>Gt.ta?"AM":"PM"},"%S":function(Gt){return Dn(Gt.Ea,2)},"%t":function(){return"	"},"%u":function(Gt){return Gt.la||7},"%U":function(Gt){return Dn(Math.floor((Gt.qa+7-Gt.la)/7),2)},"%V":function(Gt){var An=Math.floor((Gt.qa+7-(Gt.la+6)%7)/7);if(2>=(Gt.la+371-Gt.qa-2)%7&&An++,An)An==53&&((zn=(Gt.la+371-Gt.qa)%7)==4||zn==3&&bn(Gt.ra)||(An=1));else{An=52;var zn=(Gt.la+7-Gt.qa-1)%7;(zn==4||zn==5&&bn(Gt.ra%400-1))&&An++}return Dn(An,2)},"%w":function(Gt){return Gt.la},"%W":function(Gt){return Dn(Math.floor((Gt.qa+7-(Gt.la+6)%7)/7),2)},"%y":function(Gt){return(Gt.ra+1900).toString().substring(2)},"%Y":function(Gt){return Gt.ra+1900},"%z":function(Gt){var An=0<=(Gt=Gt.Ca);return Gt=Math.abs(Gt)/60,(An?"+":"-")+("0000"+(Gt/60*100+Gt%60)).slice(-4)},"%Z":function(Gt){return Gt.Fa},"%%":function(){return"%"}},gn=gn.replace(/%%/g,"\0\0"),Vt)gn.includes(hn)&&(gn=gn.replace(new RegExp(hn,"g"),Vt[hn](Cn)));return hn=function(Gt){var An=Array(Nt(Gt)+1);return Rt(Gt,An,0,An.length),An}(gn=gn.replace(/\0\0/g,"%")),hn.length>ln?0:(jt.set(hn,Ut>>>0),hn.length-1)}var Ln={a:function(Ut){return Xn(Ut+24)+24},b:function(Ut,ln,gn){throw new Tn(Ut).ya(ln,gn),Ut},g:function(){return 0},I:function(){},w:function(){},y:function(){},K:function(){return 0},G:function(){},C:function(){},F:function(){},k:function(){},x:function(){},u:function(){},H:function(){},v:function(){},n:function(){},p:function(){vn("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},o:function(){vn("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){return Date.now()},L:function(){return!0},M:function(Ut,ln){Ut=new Date(1e3*(Ct[Ut>>>2]+4294967296*St[Ut+4>>>2])),St[ln>>2>>>0]=Ut.getUTCSeconds(),St[ln+4>>2>>>0]=Ut.getUTCMinutes(),St[ln+8>>2>>>0]=Ut.getUTCHours(),St[ln+12>>2>>>0]=Ut.getUTCDate(),St[ln+16>>2>>>0]=Ut.getUTCMonth(),St[ln+20>>2>>>0]=Ut.getUTCFullYear()-1900,St[ln+24>>2>>>0]=Ut.getUTCDay(),St[ln+28>>2>>>0]=(Ut.getTime()-Date.UTC(Ut.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},N:function(Ut,ln){Ut=new Date(1e3*(Ct[Ut>>>2]+4294967296*St[Ut+4>>>2])),St[ln>>2>>>0]=Ut.getSeconds(),St[ln+4>>2>>>0]=Ut.getMinutes(),St[ln+8>>2>>>0]=Ut.getHours(),St[ln+12>>2>>>0]=Ut.getDate(),St[ln+16>>2>>>0]=Ut.getMonth(),St[ln+20>>2>>>0]=Ut.getFullYear()-1900,St[ln+24>>2>>>0]=Ut.getDay();var gn=new Date(Ut.getFullYear(),0,1);St[ln+28>>2>>>0]=(Ut.getTime()-gn.getTime())/864e5|0,St[ln+36>>2>>>0]=-60*Ut.getTimezoneOffset();var Cn=new Date(Ut.getFullYear(),6,1).getTimezoneOffset();gn=gn.getTimezoneOffset(),St[ln+32>>2>>>0]=0|(Cn!=gn&&Ut.getTimezoneOffset()==Math.min(gn,Cn))},O:function(Ut){var ln=new Date(St[Ut+20>>2>>>0]+1900,St[Ut+16>>2>>>0],St[Ut+12>>2>>>0],St[Ut+8>>2>>>0],St[Ut+4>>2>>>0],St[Ut>>2>>>0],0),gn=St[Ut+32>>2>>>0],Cn=ln.getTimezoneOffset(),Fn=new Date(ln.getFullYear(),0,1),Dn=new Date(ln.getFullYear(),6,1).getTimezoneOffset(),Un=Fn.getTimezoneOffset(),or=Math.min(Un,Dn);return 0>gn?St[Ut+32>>2>>>0]=+(Dn!=Un&&or==Cn):0<gn!=(or==Cn)&&(Dn=Math.max(Un,Dn),ln.setTime(ln.getTime()+6e4*((0<gn?or:Dn)-Cn))),St[Ut+24>>2>>>0]=ln.getDay(),St[Ut+28>>2>>>0]=(ln.getTime()-Fn.getTime())/864e5|0,St[Ut>>2>>>0]=ln.getSeconds(),St[Ut+4>>2>>>0]=ln.getMinutes(),St[Ut+8>>2>>>0]=ln.getHours(),St[Ut+12>>2>>>0]=ln.getDate(),St[Ut+16>>2>>>0]=ln.getMonth(),ln.getTime()/1e3|0},z:function(){return-52},B:function(){},m:function Ut(ln,gn,Cn){Ut.xa||(Ut.xa=!0,function(Fn,Dn,Un){function or(fn){return(fn=fn.toTimeString().match(/\(([A-Za-z ]+)\)$/))?fn[1]:"GMT"}var tr=new Date().getFullYear(),Vt=new Date(tr,0,1),hn=new Date(tr,6,1);tr=Vt.getTimezoneOffset();var cn=hn.getTimezoneOffset();St[Fn>>2>>>0]=60*Math.max(tr,cn),St[Dn>>2>>>0]=+(tr!=cn),Fn=or(Vt),Dn=or(hn),Fn=kn(Fn),Dn=kn(Dn),cn<tr?(Ct[Un>>2>>>0]=Fn,Ct[Un+4>>2>>>0]=Dn):(Ct[Un>>2>>>0]=Dn,Ct[Un+4>>2>>>0]=Fn)}(ln,gn,Cn))},d:function(){vn("")},t:function(){return 4294901760},h:vt?()=>{var Ut=process.hrtime();return 1e3*Ut[0]+Ut[1]/1e6}:()=>performance.now(),J:function(Ut,ln,gn){kt.copyWithin(Ut>>>0,ln>>>0,ln+gn>>>0)},f:function(Ut){var ln=kt.length;if(4294901760<(Ut>>>=0))return!1;for(var gn=1;4>=gn;gn*=2){var Cn=ln*(1+.2/gn);Cn=Math.min(Cn,Ut+100663296);var Fn=Math;Cn=Math.max(Ut,Cn),Fn=Fn.min.call(Fn,4294901760,Cn+(65536-Cn%65536)%65536);e:{try{At.grow(Fn-Pt.byteLength+65535>>>16),Ft();var Dn=1;break e}catch{}Dn=void 0}if(Dn)return!0}return!1},D:function(Ut,ln){var gn=0;return On().forEach(function(Cn,Fn){var Dn=ln+gn;for(Fn=Ct[Ut+4*Fn>>2>>>0]=Dn,Dn=0;Dn<Cn.length;++Dn)jt[Fn++>>0>>>0]=Cn.charCodeAt(Dn);jt[Fn>>0>>>0]=0,gn+=Cn.length+1}),0},E:function(Ut,ln){var gn=On();Ct[Ut>>2>>>0]=gn.length;var Cn=0;return gn.forEach(function(Fn){Cn+=Fn.length+1}),Ct[ln>>2>>>0]=Cn,0},r:function(Ut){wt||(rt.onExit&&rt.onExit(Ut),Et=!0),pt(Ut,new $n(Ut))},e:function(){return 52},j:function(){return 52},q:function(){return 70},i:function(Ut,ln,gn,Cn){for(var Fn=0,Dn=0;Dn<gn;Dn++){var Un=Ct[ln>>2>>>0],or=Ct[ln+4>>2>>>0];ln+=8;for(var tr=0;tr<or;tr++){var Vt=kt[Un+tr>>>0],hn=wn[Ut];Vt===0||Vt===10?((Ut===1?xt:_t)($t(hn,0)),hn.length=0):hn.push(Vt)}Fn+=or}return Ct[Cn>>2>>>0]=Fn,0},s:function Ut(ln,gn){Ut.wa||(Ut.wa=function(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var Fn=new Uint8Array(1);return()=>(crypto.getRandomValues(Fn),Fn[0])}if(vt)try{var Dn=_e(760);return()=>Dn.randomBytes(1)[0]}catch{}return()=>vn("randomDevice")}());for(var Cn=0;Cn<gn;Cn++)jt[ln+Cn>>0>>>0]=Ut.wa();return 0},A:In,c:function(Ut,ln,gn,Cn){return In(Ut,ln,gn,Cn)}};(function(){function Ut(Fn){rt.asm=Fn.exports,At=rt.asm.P,Ft(),zt.unshift(rt.asm.Q),Qt--,rt.monitorRunDependencies&&rt.monitorRunDependencies(Qt),Qt==0&&qt&&(Fn=qt,qt=null,Fn())}function ln(Fn){Ut(Fn.instance)}function gn(Fn){return function(){if(!bt&&(mt||gt)){if(typeof fetch=="function"&&!Zt.startsWith("file://"))return fetch(Zt,{credentials:"same-origin"}).then(function(Dn){if(!Dn.ok)throw"failed to load wasm binary file at '"+Zt+"'";return Dn.arrayBuffer()}).catch(function(){return pn()});if(lt)return new Promise(function(Dn,Un){lt(Zt,function(or){Dn(new Uint8Array(or))},Un)})}return Promise.resolve().then(function(){return pn()})}().then(function(Dn){return WebAssembly.instantiate(Dn,Cn)}).then(function(Dn){return Dn}).then(Fn,function(Dn){_t("failed to asynchronously prepare wasm: "+Dn),vn(Dn)})}var Cn={a:Ln};if(Qt++,rt.monitorRunDependencies&&rt.monitorRunDependencies(Qt),rt.instantiateWasm)try{return rt.instantiateWasm(Cn,Ut)}catch(Fn){return _t("Module.instantiateWasm callback failed with error: "+Fn),!1}(bt||typeof WebAssembly.instantiateStreaming!="function"||Yt()||Zt.startsWith("file://")||vt||typeof fetch!="function"?gn(ln):fetch(Zt,{credentials:"same-origin"}).then(function(Fn){return WebAssembly.instantiateStreaming(Fn,Cn).then(ln,function(Dn){return _t("wasm streaming compile failed: "+Dn),_t("falling back to ArrayBuffer instantiation"),gn(ln)})})).catch(st)})(),rt.___wasm_call_ctors=function(){return(rt.___wasm_call_ctors=rt.asm.Q).apply(null,arguments)},rt._OrtInit=function(){return(rt._OrtInit=rt.asm.R).apply(null,arguments)},rt._OrtCreateSessionOptions=function(){return(rt._OrtCreateSessionOptions=rt.asm.S).apply(null,arguments)},rt._OrtAppendExecutionProvider=function(){return(rt._OrtAppendExecutionProvider=rt.asm.T).apply(null,arguments)},rt._OrtAddSessionConfigEntry=function(){return(rt._OrtAddSessionConfigEntry=rt.asm.U).apply(null,arguments)},rt._OrtReleaseSessionOptions=function(){return(rt._OrtReleaseSessionOptions=rt.asm.V).apply(null,arguments)},rt._OrtCreateSession=function(){return(rt._OrtCreateSession=rt.asm.W).apply(null,arguments)},rt._OrtReleaseSession=function(){return(rt._OrtReleaseSession=rt.asm.X).apply(null,arguments)},rt._OrtGetInputCount=function(){return(rt._OrtGetInputCount=rt.asm.Y).apply(null,arguments)},rt._OrtGetOutputCount=function(){return(rt._OrtGetOutputCount=rt.asm.Z).apply(null,arguments)},rt._OrtGetInputName=function(){return(rt._OrtGetInputName=rt.asm._).apply(null,arguments)},rt._OrtGetOutputName=function(){return(rt._OrtGetOutputName=rt.asm.$).apply(null,arguments)},rt._OrtFree=function(){return(rt._OrtFree=rt.asm.aa).apply(null,arguments)},rt._OrtCreateTensor=function(){return(rt._OrtCreateTensor=rt.asm.ba).apply(null,arguments)},rt._OrtGetTensorData=function(){return(rt._OrtGetTensorData=rt.asm.ca).apply(null,arguments)},rt._OrtReleaseTensor=function(){return(rt._OrtReleaseTensor=rt.asm.da).apply(null,arguments)},rt._OrtCreateRunOptions=function(){return(rt._OrtCreateRunOptions=rt.asm.ea).apply(null,arguments)},rt._OrtAddRunConfigEntry=function(){return(rt._OrtAddRunConfigEntry=rt.asm.fa).apply(null,arguments)},rt._OrtReleaseRunOptions=function(){return(rt._OrtReleaseRunOptions=rt.asm.ga).apply(null,arguments)},rt._OrtRun=function(){return(rt._OrtRun=rt.asm.ha).apply(null,arguments)},rt._OrtEndProfiling=function(){return(rt._OrtEndProfiling=rt.asm.ia).apply(null,arguments)};var Xn=rt._malloc=function(){return(Xn=rt._malloc=rt.asm.ja).apply(null,arguments)};rt._free=function(){return(rt._free=rt.asm.ka).apply(null,arguments)};var rr,sr=rt.stackSave=function(){return(sr=rt.stackSave=rt.asm.ma).apply(null,arguments)},dr=rt.stackRestore=function(){return(dr=rt.stackRestore=rt.asm.na).apply(null,arguments)},lr=rt.stackAlloc=function(){return(lr=rt.stackAlloc=rt.asm.oa).apply(null,arguments)};function Gn(){function Ut(){if(!rr&&(rr=!0,rt.calledRun=!0,!Et)){if(on(zt),ot(rt),rt.onRuntimeInitialized&&rt.onRuntimeInitialized(),rt.postRun)for(typeof rt.postRun=="function"&&(rt.postRun=[rt.postRun]);rt.postRun.length;){var ln=rt.postRun.shift();an.unshift(ln)}on(an)}}if(!(0<Qt)){if(rt.preRun)for(typeof rt.preRun=="function"&&(rt.preRun=[rt.preRun]);rt.preRun.length;)Jt();on(Ht),0<Qt||(rt.setStatus?(rt.setStatus("Running..."),setTimeout(function(){setTimeout(function(){rt.setStatus("")},1),Ut()},1)):Ut())}}if(rt.___cxa_is_pointer_type=function(){return(rt.___cxa_is_pointer_type=rt.asm.pa).apply(null,arguments)},rt.UTF8ToString=Ot,rt.stringToUTF8=function(Ut,ln,gn){return Rt(Ut,kt,ln,gn)},rt.lengthBytesUTF8=Nt,rt.stackSave=sr,rt.stackRestore=dr,rt.stackAlloc=lr,qt=function Ut(){rr||Gn(),rr||(qt=Ut)},rt.preInit)for(typeof rt.preInit=="function"&&(rt.preInit=[rt.preInit]);0<rt.preInit.length;)rt.preInit.pop()();return Gn(),nt.ready});b.exports=tt},4537:b=>{b.exports=function($,_e){for(var et=new Array(arguments.length-1),tt=0,nt=2,rt=!0;nt<arguments.length;)et[tt++]=arguments[nt++];return new Promise(function(ot,st){et[tt]=function(ct){if(rt)if(rt=!1,ct)st(ct);else{for(var lt=new Array(arguments.length-1),at=0;at<lt.length;)lt[at++]=arguments[at];ot.apply(null,lt)}};try{$.apply(_e||null,et)}catch(ct){rt&&(rt=!1,st(ct))}})}},7419:(b,$)=>{var _e=$;_e.length=function(ot){var st=ot.length;if(!st)return 0;for(var ct=0;--st%4>1&&ot.charAt(st)==="=";)++ct;return Math.ceil(3*ot.length)/4-ct};for(var et=new Array(64),tt=new Array(123),nt=0;nt<64;)tt[et[nt]=nt<26?nt+65:nt<52?nt+71:nt<62?nt-4:nt-59|43]=nt++;_e.encode=function(ot,st,ct){for(var lt,at=null,it=[],ut=0,dt=0;st<ct;){var ht=ot[st++];switch(dt){case 0:it[ut++]=et[ht>>2],lt=(3&ht)<<4,dt=1;break;case 1:it[ut++]=et[lt|ht>>4],lt=(15&ht)<<2,dt=2;break;case 2:it[ut++]=et[lt|ht>>6],it[ut++]=et[63&ht],dt=0}ut>8191&&((at||(at=[])).push(String.fromCharCode.apply(String,it)),ut=0)}return dt&&(it[ut++]=et[lt],it[ut++]=61,dt===1&&(it[ut++]=61)),at?(ut&&at.push(String.fromCharCode.apply(String,it.slice(0,ut))),at.join("")):String.fromCharCode.apply(String,it.slice(0,ut))};var rt="invalid encoding";_e.decode=function(ot,st,ct){for(var lt,at=ct,it=0,ut=0;ut<ot.length;){var dt=ot.charCodeAt(ut++);if(dt===61&&it>1)break;if((dt=tt[dt])===void 0)throw Error(rt);switch(it){case 0:lt=dt,it=1;break;case 1:st[ct++]=lt<<2|(48&dt)>>4,lt=dt,it=2;break;case 2:st[ct++]=(15&lt)<<4|(60&dt)>>2,lt=dt,it=3;break;case 3:st[ct++]=(3&lt)<<6|dt,it=0}}if(it===1)throw Error(rt);return ct-at},_e.test=function(ot){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(ot)}},9211:b=>{function $(){this._listeners={}}b.exports=$,$.prototype.on=function(_e,et,tt){return(this._listeners[_e]||(this._listeners[_e]=[])).push({fn:et,ctx:tt||this}),this},$.prototype.off=function(_e,et){if(_e===void 0)this._listeners={};else if(et===void 0)this._listeners[_e]=[];else for(var tt=this._listeners[_e],nt=0;nt<tt.length;)tt[nt].fn===et?tt.splice(nt,1):++nt;return this},$.prototype.emit=function(_e){var et=this._listeners[_e];if(et){for(var tt=[],nt=1;nt<arguments.length;)tt.push(arguments[nt++]);for(nt=0;nt<et.length;)et[nt].fn.apply(et[nt++].ctx,tt)}return this}},945:b=>{function $(rt){return typeof Float32Array<"u"?function(){var ot=new Float32Array([-0]),st=new Uint8Array(ot.buffer),ct=st[3]===128;function lt(dt,ht,ft){ot[0]=dt,ht[ft]=st[0],ht[ft+1]=st[1],ht[ft+2]=st[2],ht[ft+3]=st[3]}function at(dt,ht,ft){ot[0]=dt,ht[ft]=st[3],ht[ft+1]=st[2],ht[ft+2]=st[1],ht[ft+3]=st[0]}function it(dt,ht){return st[0]=dt[ht],st[1]=dt[ht+1],st[2]=dt[ht+2],st[3]=dt[ht+3],ot[0]}function ut(dt,ht){return st[3]=dt[ht],st[2]=dt[ht+1],st[1]=dt[ht+2],st[0]=dt[ht+3],ot[0]}rt.writeFloatLE=ct?lt:at,rt.writeFloatBE=ct?at:lt,rt.readFloatLE=ct?it:ut,rt.readFloatBE=ct?ut:it}():function(){function ot(ct,lt,at,it){var ut=lt<0?1:0;if(ut&&(lt=-lt),lt===0)ct(1/lt>0?0:2147483648,at,it);else if(isNaN(lt))ct(2143289344,at,it);else if(lt>34028234663852886e22)ct((ut<<31|2139095040)>>>0,at,it);else if(lt<11754943508222875e-54)ct((ut<<31|Math.round(lt/1401298464324817e-60))>>>0,at,it);else{var dt=Math.floor(Math.log(lt)/Math.LN2);ct((ut<<31|dt+127<<23|8388607&Math.round(lt*Math.pow(2,-dt)*8388608))>>>0,at,it)}}function st(ct,lt,at){var it=ct(lt,at),ut=2*(it>>31)+1,dt=it>>>23&255,ht=8388607&it;return dt===255?ht?NaN:ut*(1/0):dt===0?1401298464324817e-60*ut*ht:ut*Math.pow(2,dt-150)*(ht+8388608)}rt.writeFloatLE=ot.bind(null,_e),rt.writeFloatBE=ot.bind(null,et),rt.readFloatLE=st.bind(null,tt),rt.readFloatBE=st.bind(null,nt)}(),typeof Float64Array<"u"?function(){var ot=new Float64Array([-0]),st=new Uint8Array(ot.buffer),ct=st[7]===128;function lt(dt,ht,ft){ot[0]=dt,ht[ft]=st[0],ht[ft+1]=st[1],ht[ft+2]=st[2],ht[ft+3]=st[3],ht[ft+4]=st[4],ht[ft+5]=st[5],ht[ft+6]=st[6],ht[ft+7]=st[7]}function at(dt,ht,ft){ot[0]=dt,ht[ft]=st[7],ht[ft+1]=st[6],ht[ft+2]=st[5],ht[ft+3]=st[4],ht[ft+4]=st[3],ht[ft+5]=st[2],ht[ft+6]=st[1],ht[ft+7]=st[0]}function it(dt,ht){return st[0]=dt[ht],st[1]=dt[ht+1],st[2]=dt[ht+2],st[3]=dt[ht+3],st[4]=dt[ht+4],st[5]=dt[ht+5],st[6]=dt[ht+6],st[7]=dt[ht+7],ot[0]}function ut(dt,ht){return st[7]=dt[ht],st[6]=dt[ht+1],st[5]=dt[ht+2],st[4]=dt[ht+3],st[3]=dt[ht+4],st[2]=dt[ht+5],st[1]=dt[ht+6],st[0]=dt[ht+7],ot[0]}rt.writeDoubleLE=ct?lt:at,rt.writeDoubleBE=ct?at:lt,rt.readDoubleLE=ct?it:ut,rt.readDoubleBE=ct?ut:it}():function(){function ot(ct,lt,at,it,ut,dt){var ht=it<0?1:0;if(ht&&(it=-it),it===0)ct(0,ut,dt+lt),ct(1/it>0?0:2147483648,ut,dt+at);else if(isNaN(it))ct(0,ut,dt+lt),ct(2146959360,ut,dt+at);else if(it>17976931348623157e292)ct(0,ut,dt+lt),ct((ht<<31|2146435072)>>>0,ut,dt+at);else{var ft;if(it<22250738585072014e-324)ct((ft=it/5e-324)>>>0,ut,dt+lt),ct((ht<<31|ft/4294967296)>>>0,ut,dt+at);else{var pt=Math.floor(Math.log(it)/Math.LN2);pt===1024&&(pt=1023),ct(4503599627370496*(ft=it*Math.pow(2,-pt))>>>0,ut,dt+lt),ct((ht<<31|pt+1023<<20|1048576*ft&1048575)>>>0,ut,dt+at)}}}function st(ct,lt,at,it,ut){var dt=ct(it,ut+lt),ht=ct(it,ut+at),ft=2*(ht>>31)+1,pt=ht>>>20&2047,mt=4294967296*(1048575&ht)+dt;return pt===2047?mt?NaN:ft*(1/0):pt===0?5e-324*ft*mt:ft*Math.pow(2,pt-1075)*(mt+4503599627370496)}rt.writeDoubleLE=ot.bind(null,_e,0,4),rt.writeDoubleBE=ot.bind(null,et,4,0),rt.readDoubleLE=st.bind(null,tt,0,4),rt.readDoubleBE=st.bind(null,nt,4,0)}(),rt}function _e(rt,ot,st){ot[st]=255&rt,ot[st+1]=rt>>>8&255,ot[st+2]=rt>>>16&255,ot[st+3]=rt>>>24}function et(rt,ot,st){ot[st]=rt>>>24,ot[st+1]=rt>>>16&255,ot[st+2]=rt>>>8&255,ot[st+3]=255&rt}function tt(rt,ot){return(rt[ot]|rt[ot+1]<<8|rt[ot+2]<<16|rt[ot+3]<<24)>>>0}function nt(rt,ot){return(rt[ot]<<24|rt[ot+1]<<16|rt[ot+2]<<8|rt[ot+3])>>>0}b.exports=$($)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(b){}return null}module.exports=inquire},6662:b=>{b.exports=function($,_e,et){var tt=et||8192,nt=tt>>>1,rt=null,ot=tt;return function(st){if(st<1||st>nt)return $(st);ot+st>tt&&(rt=$(tt),ot=0);var ct=_e.call(rt,ot,ot+=st);return 7&ot&&(ot=1+(7|ot)),ct}}},4997:(b,$)=>{var _e=$;_e.length=function(et){for(var tt=0,nt=0,rt=0;rt<et.length;++rt)(nt=et.charCodeAt(rt))<128?tt+=1:nt<2048?tt+=2:(64512&nt)==55296&&(64512&et.charCodeAt(rt+1))==56320?(++rt,tt+=4):tt+=3;return tt},_e.read=function(et,tt,nt){if(nt-tt<1)return"";for(var rt,ot=null,st=[],ct=0;tt<nt;)(rt=et[tt++])<128?st[ct++]=rt:rt>191&&rt<224?st[ct++]=(31&rt)<<6|63&et[tt++]:rt>239&&rt<365?(rt=((7&rt)<<18|(63&et[tt++])<<12|(63&et[tt++])<<6|63&et[tt++])-65536,st[ct++]=55296+(rt>>10),st[ct++]=56320+(1023&rt)):st[ct++]=(15&rt)<<12|(63&et[tt++])<<6|63&et[tt++],ct>8191&&((ot||(ot=[])).push(String.fromCharCode.apply(String,st)),ct=0);return ot?(ct&&ot.push(String.fromCharCode.apply(String,st.slice(0,ct))),ot.join("")):String.fromCharCode.apply(String,st.slice(0,ct))},_e.write=function(et,tt,nt){for(var rt,ot,st=nt,ct=0;ct<et.length;++ct)(rt=et.charCodeAt(ct))<128?tt[nt++]=rt:rt<2048?(tt[nt++]=rt>>6|192,tt[nt++]=63&rt|128):(64512&rt)==55296&&(64512&(ot=et.charCodeAt(ct+1)))==56320?(rt=65536+((1023&rt)<<10)+(1023&ot),++ct,tt[nt++]=rt>>18|240,tt[nt++]=rt>>12&63|128,tt[nt++]=rt>>6&63|128,tt[nt++]=63&rt|128):(tt[nt++]=rt>>12|224,tt[nt++]=rt>>6&63|128,tt[nt++]=63&rt|128);return nt-st}},3442:(b,$)=>{$.__esModule=!0;var _e=function(){function et(tt){if(!tt)throw new TypeError("Invalid argument; `value` has no value.");this.value=et.EMPTY,tt&&et.isGuid(tt)&&(this.value=tt)}return et.isGuid=function(tt){var nt=tt.toString();return tt&&(tt instanceof et||et.validator.test(nt))},et.create=function(){return new et([et.gen(2),et.gen(1),et.gen(1),et.gen(1),et.gen(3)].join("-"))},et.createEmpty=function(){return new et("emptyguid")},et.parse=function(tt){return new et(tt)},et.raw=function(){return[et.gen(2),et.gen(1),et.gen(1),et.gen(1),et.gen(3)].join("-")},et.gen=function(tt){for(var nt="",rt=0;rt<tt;rt++)nt+=(65536*(1+Math.random())|0).toString(16).substring(1);return nt},et.prototype.equals=function(tt){return et.isGuid(tt)&&this.value===tt.toString()},et.prototype.isEmpty=function(){return this.value===et.EMPTY},et.prototype.toString=function(){return this.value},et.prototype.toJSON=function(){return{value:this.value}},et.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),et.EMPTY="00000000-0000-0000-0000-000000000000",et}();$.Guid=_e},3720:b=>{b.exports=_e;var $=null;try{$=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function _e(wt,At,Pt){this.low=0|wt,this.high=0|At,this.unsigned=!!Pt}function et(wt){return(wt&&wt.__isLong__)===!0}_e.prototype.__isLong__,Object.defineProperty(_e.prototype,"__isLong__",{value:!0}),_e.isLong=et;var tt={},nt={};function rt(wt,At){var Pt,jt,kt;return At?(kt=0<=(wt>>>=0)&&wt<256)&&(jt=nt[wt])?jt:(Pt=st(wt,(0|wt)<0?-1:0,!0),kt&&(nt[wt]=Pt),Pt):(kt=-128<=(wt|=0)&&wt<128)&&(jt=tt[wt])?jt:(Pt=st(wt,wt<0?-1:0,!1),kt&&(tt[wt]=Pt),Pt)}function ot(wt,At){if(isNaN(wt))return At?pt:ft;if(At){if(wt<0)return pt;if(wt>=ut)return bt}else{if(wt<=-dt)return xt;if(wt+1>=dt)return yt}return wt<0?ot(-wt,At).neg():st(wt%it|0,wt/it|0,At)}function st(wt,At,Pt){return new _e(wt,At,Pt)}_e.fromInt=rt,_e.fromNumber=ot,_e.fromBits=st;var ct=Math.pow;function lt(wt,At,Pt){if(wt.length===0)throw Error("empty string");if(wt==="NaN"||wt==="Infinity"||wt==="+Infinity"||wt==="-Infinity")return ft;if(typeof At=="number"?(Pt=At,At=!1):At=!!At,(Pt=Pt||10)<2||36<Pt)throw RangeError("radix");var jt;if((jt=wt.indexOf("-"))>0)throw Error("interior hyphen");if(jt===0)return lt(wt.substring(1),At,Pt).neg();for(var kt=ot(ct(Pt,8)),St=ft,Ct=0;Ct<wt.length;Ct+=8){var Et=Math.min(8,wt.length-Ct),Tt=parseInt(wt.substring(Ct,Ct+Et),Pt);if(Et<8){var $t=ot(ct(Pt,Et));St=St.mul($t).add(ot(Tt))}else St=(St=St.mul(kt)).add(ot(Tt))}return St.unsigned=At,St}function at(wt,At){return typeof wt=="number"?ot(wt,At):typeof wt=="string"?lt(wt,At):st(wt.low,wt.high,typeof At=="boolean"?At:wt.unsigned)}_e.fromString=lt,_e.fromValue=at;var it=4294967296,ut=it*it,dt=ut/2,ht=rt(1<<24),ft=rt(0);_e.ZERO=ft;var pt=rt(0,!0);_e.UZERO=pt;var mt=rt(1);_e.ONE=mt;var gt=rt(1,!0);_e.UONE=gt;var vt=rt(-1);_e.NEG_ONE=vt;var yt=st(-1,2147483647,!1);_e.MAX_VALUE=yt;var bt=st(-1,-1,!0);_e.MAX_UNSIGNED_VALUE=bt;var xt=st(0,-2147483648,!1);_e.MIN_VALUE=xt;var _t=_e.prototype;_t.toInt=function(){return this.unsigned?this.low>>>0:this.low},_t.toNumber=function(){return this.unsigned?(this.high>>>0)*it+(this.low>>>0):this.high*it+(this.low>>>0)},_t.toString=function(wt){if((wt=wt||10)<2||36<wt)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(xt)){var At=ot(wt),Pt=this.div(At),jt=Pt.mul(At).sub(this);return Pt.toString(wt)+jt.toInt().toString(wt)}return"-"+this.neg().toString(wt)}for(var kt=ot(ct(wt,6),this.unsigned),St=this,Ct="";;){var Et=St.div(kt),Tt=(St.sub(Et.mul(kt)).toInt()>>>0).toString(wt);if((St=Et).isZero())return Tt+Ct;for(;Tt.length<6;)Tt="0"+Tt;Ct=""+Tt+Ct}},_t.getHighBits=function(){return this.high},_t.getHighBitsUnsigned=function(){return this.high>>>0},_t.getLowBits=function(){return this.low},_t.getLowBitsUnsigned=function(){return this.low>>>0},_t.getNumBitsAbs=function(){if(this.isNegative())return this.eq(xt)?64:this.neg().getNumBitsAbs();for(var wt=this.high!=0?this.high:this.low,At=31;At>0&&!(wt&1<<At);At--);return this.high!=0?At+33:At+1},_t.isZero=function(){return this.high===0&&this.low===0},_t.eqz=_t.isZero,_t.isNegative=function(){return!this.unsigned&&this.high<0},_t.isPositive=function(){return this.unsigned||this.high>=0},_t.isOdd=function(){return(1&this.low)==1},_t.isEven=function(){return(1&this.low)==0},_t.equals=function(wt){return et(wt)||(wt=at(wt)),(this.unsigned===wt.unsigned||this.high>>>31!=1||wt.high>>>31!=1)&&this.high===wt.high&&this.low===wt.low},_t.eq=_t.equals,_t.notEquals=function(wt){return!this.eq(wt)},_t.neq=_t.notEquals,_t.ne=_t.notEquals,_t.lessThan=function(wt){return this.comp(wt)<0},_t.lt=_t.lessThan,_t.lessThanOrEqual=function(wt){return this.comp(wt)<=0},_t.lte=_t.lessThanOrEqual,_t.le=_t.lessThanOrEqual,_t.greaterThan=function(wt){return this.comp(wt)>0},_t.gt=_t.greaterThan,_t.greaterThanOrEqual=function(wt){return this.comp(wt)>=0},_t.gte=_t.greaterThanOrEqual,_t.ge=_t.greaterThanOrEqual,_t.compare=function(wt){if(et(wt)||(wt=at(wt)),this.eq(wt))return 0;var At=this.isNegative(),Pt=wt.isNegative();return At&&!Pt?-1:!At&&Pt?1:this.unsigned?wt.high>>>0>this.high>>>0||wt.high===this.high&&wt.low>>>0>this.low>>>0?-1:1:this.sub(wt).isNegative()?-1:1},_t.comp=_t.compare,_t.negate=function(){return!this.unsigned&&this.eq(xt)?xt:this.not().add(mt)},_t.neg=_t.negate,_t.add=function(wt){et(wt)||(wt=at(wt));var At=this.high>>>16,Pt=65535&this.high,jt=this.low>>>16,kt=65535&this.low,St=wt.high>>>16,Ct=65535&wt.high,Et=wt.low>>>16,Tt=0,$t=0,Ot=0,Rt=0;return Ot+=(Rt+=kt+(65535&wt.low))>>>16,$t+=(Ot+=jt+Et)>>>16,Tt+=($t+=Pt+Ct)>>>16,Tt+=At+St,st((Ot&=65535)<<16|(Rt&=65535),(Tt&=65535)<<16|($t&=65535),this.unsigned)},_t.subtract=function(wt){return et(wt)||(wt=at(wt)),this.add(wt.neg())},_t.sub=_t.subtract,_t.multiply=function(wt){if(this.isZero())return ft;if(et(wt)||(wt=at(wt)),$)return st($.mul(this.low,this.high,wt.low,wt.high),$.get_high(),this.unsigned);if(wt.isZero())return ft;if(this.eq(xt))return wt.isOdd()?xt:ft;if(wt.eq(xt))return this.isOdd()?xt:ft;if(this.isNegative())return wt.isNegative()?this.neg().mul(wt.neg()):this.neg().mul(wt).neg();if(wt.isNegative())return this.mul(wt.neg()).neg();if(this.lt(ht)&&wt.lt(ht))return ot(this.toNumber()*wt.toNumber(),this.unsigned);var At=this.high>>>16,Pt=65535&this.high,jt=this.low>>>16,kt=65535&this.low,St=wt.high>>>16,Ct=65535&wt.high,Et=wt.low>>>16,Tt=65535&wt.low,$t=0,Ot=0,Rt=0,Nt=0;return Rt+=(Nt+=kt*Tt)>>>16,Ot+=(Rt+=jt*Tt)>>>16,Rt&=65535,Ot+=(Rt+=kt*Et)>>>16,$t+=(Ot+=Pt*Tt)>>>16,Ot&=65535,$t+=(Ot+=jt*Et)>>>16,Ot&=65535,$t+=(Ot+=kt*Ct)>>>16,$t+=At*Tt+Pt*Et+jt*Ct+kt*St,st((Rt&=65535)<<16|(Nt&=65535),($t&=65535)<<16|(Ot&=65535),this.unsigned)},_t.mul=_t.multiply,_t.divide=function(wt){if(et(wt)||(wt=at(wt)),wt.isZero())throw Error("division by zero");var At,Pt,jt;if($)return this.unsigned||this.high!==-2147483648||wt.low!==-1||wt.high!==-1?st((this.unsigned?$.div_u:$.div_s)(this.low,this.high,wt.low,wt.high),$.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?pt:ft;if(this.unsigned){if(wt.unsigned||(wt=wt.toUnsigned()),wt.gt(this))return pt;if(wt.gt(this.shru(1)))return gt;jt=pt}else{if(this.eq(xt))return wt.eq(mt)||wt.eq(vt)?xt:wt.eq(xt)?mt:(At=this.shr(1).div(wt).shl(1)).eq(ft)?wt.isNegative()?mt:vt:(Pt=this.sub(wt.mul(At)),jt=At.add(Pt.div(wt)));if(wt.eq(xt))return this.unsigned?pt:ft;if(this.isNegative())return wt.isNegative()?this.neg().div(wt.neg()):this.neg().div(wt).neg();if(wt.isNegative())return this.div(wt.neg()).neg();jt=ft}for(Pt=this;Pt.gte(wt);){At=Math.max(1,Math.floor(Pt.toNumber()/wt.toNumber()));for(var kt=Math.ceil(Math.log(At)/Math.LN2),St=kt<=48?1:ct(2,kt-48),Ct=ot(At),Et=Ct.mul(wt);Et.isNegative()||Et.gt(Pt);)Et=(Ct=ot(At-=St,this.unsigned)).mul(wt);Ct.isZero()&&(Ct=mt),jt=jt.add(Ct),Pt=Pt.sub(Et)}return jt},_t.div=_t.divide,_t.modulo=function(wt){return et(wt)||(wt=at(wt)),$?st((this.unsigned?$.rem_u:$.rem_s)(this.low,this.high,wt.low,wt.high),$.get_high(),this.unsigned):this.sub(this.div(wt).mul(wt))},_t.mod=_t.modulo,_t.rem=_t.modulo,_t.not=function(){return st(~this.low,~this.high,this.unsigned)},_t.and=function(wt){return et(wt)||(wt=at(wt)),st(this.low&wt.low,this.high&wt.high,this.unsigned)},_t.or=function(wt){return et(wt)||(wt=at(wt)),st(this.low|wt.low,this.high|wt.high,this.unsigned)},_t.xor=function(wt){return et(wt)||(wt=at(wt)),st(this.low^wt.low,this.high^wt.high,this.unsigned)},_t.shiftLeft=function(wt){return et(wt)&&(wt=wt.toInt()),(wt&=63)==0?this:wt<32?st(this.low<<wt,this.high<<wt|this.low>>>32-wt,this.unsigned):st(0,this.low<<wt-32,this.unsigned)},_t.shl=_t.shiftLeft,_t.shiftRight=function(wt){return et(wt)&&(wt=wt.toInt()),(wt&=63)==0?this:wt<32?st(this.low>>>wt|this.high<<32-wt,this.high>>wt,this.unsigned):st(this.high>>wt-32,this.high>=0?0:-1,this.unsigned)},_t.shr=_t.shiftRight,_t.shiftRightUnsigned=function(wt){if(et(wt)&&(wt=wt.toInt()),(wt&=63)==0)return this;var At=this.high;return wt<32?st(this.low>>>wt|At<<32-wt,At>>>wt,this.unsigned):st(wt===32?At:At>>>wt-32,0,this.unsigned)},_t.shru=_t.shiftRightUnsigned,_t.shr_u=_t.shiftRightUnsigned,_t.toSigned=function(){return this.unsigned?st(this.low,this.high,!1):this},_t.toUnsigned=function(){return this.unsigned?this:st(this.low,this.high,!0)},_t.toBytes=function(wt){return wt?this.toBytesLE():this.toBytesBE()},_t.toBytesLE=function(){var wt=this.high,At=this.low;return[255&At,At>>>8&255,At>>>16&255,At>>>24,255&wt,wt>>>8&255,wt>>>16&255,wt>>>24]},_t.toBytesBE=function(){var wt=this.high,At=this.low;return[wt>>>24,wt>>>16&255,wt>>>8&255,255&wt,At>>>24,At>>>16&255,At>>>8&255,255&At]},_e.fromBytes=function(wt,At,Pt){return Pt?_e.fromBytesLE(wt,At):_e.fromBytesBE(wt,At)},_e.fromBytesLE=function(wt,At){return new _e(wt[0]|wt[1]<<8|wt[2]<<16|wt[3]<<24,wt[4]|wt[5]<<8|wt[6]<<16|wt[7]<<24,At)},_e.fromBytesBE=function(wt,At){return new _e(wt[4]<<24|wt[5]<<16|wt[6]<<8|wt[7],wt[0]<<24|wt[1]<<16|wt[2]<<8|wt[3],At)}},1446:(b,$,_e)=>{var et,tt,nt,rt=_e(2100),ot=rt.Reader,st=rt.Writer,ct=rt.util,lt=rt.roots.default||(rt.roots.default={});lt.onnx=((nt={}).Version=(et={},(tt=Object.create(et))[et[0]="_START_VERSION"]=0,tt[et[1]="IR_VERSION_2017_10_10"]=1,tt[et[2]="IR_VERSION_2017_10_30"]=2,tt[et[3]="IR_VERSION_2017_11_3"]=3,tt[et[4]="IR_VERSION_2019_1_22"]=4,tt[et[5]="IR_VERSION"]=5,tt),nt.AttributeProto=function(){function at(it){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],it)for(var ut=Object.keys(it),dt=0;dt<ut.length;++dt)it[ut[dt]]!=null&&(this[ut[dt]]=it[ut[dt]])}return at.prototype.name="",at.prototype.refAttrName="",at.prototype.docString="",at.prototype.type=0,at.prototype.f=0,at.prototype.i=ct.Long?ct.Long.fromBits(0,0,!1):0,at.prototype.s=ct.newBuffer([]),at.prototype.t=null,at.prototype.g=null,at.prototype.floats=ct.emptyArray,at.prototype.ints=ct.emptyArray,at.prototype.strings=ct.emptyArray,at.prototype.tensors=ct.emptyArray,at.prototype.graphs=ct.emptyArray,at.create=function(it){return new at(it)},at.encode=function(it,ut){if(ut||(ut=st.create()),it.name!=null&&it.hasOwnProperty("name")&&ut.uint32(10).string(it.name),it.f!=null&&it.hasOwnProperty("f")&&ut.uint32(21).float(it.f),it.i!=null&&it.hasOwnProperty("i")&&ut.uint32(24).int64(it.i),it.s!=null&&it.hasOwnProperty("s")&&ut.uint32(34).bytes(it.s),it.t!=null&&it.hasOwnProperty("t")&&lt.onnx.TensorProto.encode(it.t,ut.uint32(42).fork()).ldelim(),it.g!=null&&it.hasOwnProperty("g")&&lt.onnx.GraphProto.encode(it.g,ut.uint32(50).fork()).ldelim(),it.floats!=null&&it.floats.length){ut.uint32(58).fork();for(var dt=0;dt<it.floats.length;++dt)ut.float(it.floats[dt]);ut.ldelim()}if(it.ints!=null&&it.ints.length){for(ut.uint32(66).fork(),dt=0;dt<it.ints.length;++dt)ut.int64(it.ints[dt]);ut.ldelim()}if(it.strings!=null&&it.strings.length)for(dt=0;dt<it.strings.length;++dt)ut.uint32(74).bytes(it.strings[dt]);if(it.tensors!=null&&it.tensors.length)for(dt=0;dt<it.tensors.length;++dt)lt.onnx.TensorProto.encode(it.tensors[dt],ut.uint32(82).fork()).ldelim();if(it.graphs!=null&&it.graphs.length)for(dt=0;dt<it.graphs.length;++dt)lt.onnx.GraphProto.encode(it.graphs[dt],ut.uint32(90).fork()).ldelim();return it.docString!=null&&it.hasOwnProperty("docString")&&ut.uint32(106).string(it.docString),it.type!=null&&it.hasOwnProperty("type")&&ut.uint32(160).int32(it.type),it.refAttrName!=null&&it.hasOwnProperty("refAttrName")&&ut.uint32(170).string(it.refAttrName),ut},at.encodeDelimited=function(it,ut){return this.encode(it,ut).ldelim()},at.decode=function(it,ut){it instanceof ot||(it=ot.create(it));for(var dt=ut===void 0?it.len:it.pos+ut,ht=new lt.onnx.AttributeProto;it.pos<dt;){var ft=it.uint32();switch(ft>>>3){case 1:ht.name=it.string();break;case 21:ht.refAttrName=it.string();break;case 13:ht.docString=it.string();break;case 20:ht.type=it.int32();break;case 2:ht.f=it.float();break;case 3:ht.i=it.int64();break;case 4:ht.s=it.bytes();break;case 5:ht.t=lt.onnx.TensorProto.decode(it,it.uint32());break;case 6:ht.g=lt.onnx.GraphProto.decode(it,it.uint32());break;case 7:if(ht.floats&&ht.floats.length||(ht.floats=[]),(7&ft)==2)for(var pt=it.uint32()+it.pos;it.pos<pt;)ht.floats.push(it.float());else ht.floats.push(it.float());break;case 8:if(ht.ints&&ht.ints.length||(ht.ints=[]),(7&ft)==2)for(pt=it.uint32()+it.pos;it.pos<pt;)ht.ints.push(it.int64());else ht.ints.push(it.int64());break;case 9:ht.strings&&ht.strings.length||(ht.strings=[]),ht.strings.push(it.bytes());break;case 10:ht.tensors&&ht.tensors.length||(ht.tensors=[]),ht.tensors.push(lt.onnx.TensorProto.decode(it,it.uint32()));break;case 11:ht.graphs&&ht.graphs.length||(ht.graphs=[]),ht.graphs.push(lt.onnx.GraphProto.decode(it,it.uint32()));break;default:it.skipType(7&ft)}}return ht},at.decodeDelimited=function(it){return it instanceof ot||(it=new ot(it)),this.decode(it,it.uint32())},at.verify=function(it){if(typeof it!="object"||it===null)return"object expected";if(it.name!=null&&it.hasOwnProperty("name")&&!ct.isString(it.name))return"name: string expected";if(it.refAttrName!=null&&it.hasOwnProperty("refAttrName")&&!ct.isString(it.refAttrName))return"refAttrName: string expected";if(it.docString!=null&&it.hasOwnProperty("docString")&&!ct.isString(it.docString))return"docString: string expected";if(it.type!=null&&it.hasOwnProperty("type"))switch(it.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(it.f!=null&&it.hasOwnProperty("f")&&typeof it.f!="number")return"f: number expected";if(it.i!=null&&it.hasOwnProperty("i")&&!(ct.isInteger(it.i)||it.i&&ct.isInteger(it.i.low)&&ct.isInteger(it.i.high)))return"i: integer|Long expected";if(it.s!=null&&it.hasOwnProperty("s")&&!(it.s&&typeof it.s.length=="number"||ct.isString(it.s)))return"s: buffer expected";if(it.t!=null&&it.hasOwnProperty("t")&&(dt=lt.onnx.TensorProto.verify(it.t)))return"t."+dt;if(it.g!=null&&it.hasOwnProperty("g")&&(dt=lt.onnx.GraphProto.verify(it.g)))return"g."+dt;if(it.floats!=null&&it.hasOwnProperty("floats")){if(!Array.isArray(it.floats))return"floats: array expected";for(var ut=0;ut<it.floats.length;++ut)if(typeof it.floats[ut]!="number")return"floats: number[] expected"}if(it.ints!=null&&it.hasOwnProperty("ints")){if(!Array.isArray(it.ints))return"ints: array expected";for(ut=0;ut<it.ints.length;++ut)if(!(ct.isInteger(it.ints[ut])||it.ints[ut]&&ct.isInteger(it.ints[ut].low)&&ct.isInteger(it.ints[ut].high)))return"ints: integer|Long[] expected"}if(it.strings!=null&&it.hasOwnProperty("strings")){if(!Array.isArray(it.strings))return"strings: array expected";for(ut=0;ut<it.strings.length;++ut)if(!(it.strings[ut]&&typeof it.strings[ut].length=="number"||ct.isString(it.strings[ut])))return"strings: buffer[] expected"}if(it.tensors!=null&&it.hasOwnProperty("tensors")){if(!Array.isArray(it.tensors))return"tensors: array expected";for(ut=0;ut<it.tensors.length;++ut)if(dt=lt.onnx.TensorProto.verify(it.tensors[ut]))return"tensors."+dt}if(it.graphs!=null&&it.hasOwnProperty("graphs")){if(!Array.isArray(it.graphs))return"graphs: array expected";for(ut=0;ut<it.graphs.length;++ut){var dt;if(dt=lt.onnx.GraphProto.verify(it.graphs[ut]))return"graphs."+dt}}return null},at.fromObject=function(it){if(it instanceof lt.onnx.AttributeProto)return it;var ut=new lt.onnx.AttributeProto;switch(it.name!=null&&(ut.name=String(it.name)),it.refAttrName!=null&&(ut.refAttrName=String(it.refAttrName)),it.docString!=null&&(ut.docString=String(it.docString)),it.type){case"UNDEFINED":case 0:ut.type=0;break;case"FLOAT":case 1:ut.type=1;break;case"INT":case 2:ut.type=2;break;case"STRING":case 3:ut.type=3;break;case"TENSOR":case 4:ut.type=4;break;case"GRAPH":case 5:ut.type=5;break;case"FLOATS":case 6:ut.type=6;break;case"INTS":case 7:ut.type=7;break;case"STRINGS":case 8:ut.type=8;break;case"TENSORS":case 9:ut.type=9;break;case"GRAPHS":case 10:ut.type=10}if(it.f!=null&&(ut.f=Number(it.f)),it.i!=null&&(ct.Long?(ut.i=ct.Long.fromValue(it.i)).unsigned=!1:typeof it.i=="string"?ut.i=parseInt(it.i,10):typeof it.i=="number"?ut.i=it.i:typeof it.i=="object"&&(ut.i=new ct.LongBits(it.i.low>>>0,it.i.high>>>0).toNumber())),it.s!=null&&(typeof it.s=="string"?ct.base64.decode(it.s,ut.s=ct.newBuffer(ct.base64.length(it.s)),0):it.s.length&&(ut.s=it.s)),it.t!=null){if(typeof it.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");ut.t=lt.onnx.TensorProto.fromObject(it.t)}if(it.g!=null){if(typeof it.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");ut.g=lt.onnx.GraphProto.fromObject(it.g)}if(it.floats){if(!Array.isArray(it.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");ut.floats=[];for(var dt=0;dt<it.floats.length;++dt)ut.floats[dt]=Number(it.floats[dt])}if(it.ints){if(!Array.isArray(it.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(ut.ints=[],dt=0;dt<it.ints.length;++dt)ct.Long?(ut.ints[dt]=ct.Long.fromValue(it.ints[dt])).unsigned=!1:typeof it.ints[dt]=="string"?ut.ints[dt]=parseInt(it.ints[dt],10):typeof it.ints[dt]=="number"?ut.ints[dt]=it.ints[dt]:typeof it.ints[dt]=="object"&&(ut.ints[dt]=new ct.LongBits(it.ints[dt].low>>>0,it.ints[dt].high>>>0).toNumber())}if(it.strings){if(!Array.isArray(it.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(ut.strings=[],dt=0;dt<it.strings.length;++dt)typeof it.strings[dt]=="string"?ct.base64.decode(it.strings[dt],ut.strings[dt]=ct.newBuffer(ct.base64.length(it.strings[dt])),0):it.strings[dt].length&&(ut.strings[dt]=it.strings[dt])}if(it.tensors){if(!Array.isArray(it.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(ut.tensors=[],dt=0;dt<it.tensors.length;++dt){if(typeof it.tensors[dt]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");ut.tensors[dt]=lt.onnx.TensorProto.fromObject(it.tensors[dt])}}if(it.graphs){if(!Array.isArray(it.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(ut.graphs=[],dt=0;dt<it.graphs.length;++dt){if(typeof it.graphs[dt]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");ut.graphs[dt]=lt.onnx.GraphProto.fromObject(it.graphs[dt])}}return ut},at.toObject=function(it,ut){ut||(ut={});var dt={};if((ut.arrays||ut.defaults)&&(dt.floats=[],dt.ints=[],dt.strings=[],dt.tensors=[],dt.graphs=[]),ut.defaults){if(dt.name="",dt.f=0,ct.Long){var ht=new ct.Long(0,0,!1);dt.i=ut.longs===String?ht.toString():ut.longs===Number?ht.toNumber():ht}else dt.i=ut.longs===String?"0":0;ut.bytes===String?dt.s="":(dt.s=[],ut.bytes!==Array&&(dt.s=ct.newBuffer(dt.s))),dt.t=null,dt.g=null,dt.docString="",dt.type=ut.enums===String?"UNDEFINED":0,dt.refAttrName=""}if(it.name!=null&&it.hasOwnProperty("name")&&(dt.name=it.name),it.f!=null&&it.hasOwnProperty("f")&&(dt.f=ut.json&&!isFinite(it.f)?String(it.f):it.f),it.i!=null&&it.hasOwnProperty("i")&&(typeof it.i=="number"?dt.i=ut.longs===String?String(it.i):it.i:dt.i=ut.longs===String?ct.Long.prototype.toString.call(it.i):ut.longs===Number?new ct.LongBits(it.i.low>>>0,it.i.high>>>0).toNumber():it.i),it.s!=null&&it.hasOwnProperty("s")&&(dt.s=ut.bytes===String?ct.base64.encode(it.s,0,it.s.length):ut.bytes===Array?Array.prototype.slice.call(it.s):it.s),it.t!=null&&it.hasOwnProperty("t")&&(dt.t=lt.onnx.TensorProto.toObject(it.t,ut)),it.g!=null&&it.hasOwnProperty("g")&&(dt.g=lt.onnx.GraphProto.toObject(it.g,ut)),it.floats&&it.floats.length){dt.floats=[];for(var ft=0;ft<it.floats.length;++ft)dt.floats[ft]=ut.json&&!isFinite(it.floats[ft])?String(it.floats[ft]):it.floats[ft]}if(it.ints&&it.ints.length)for(dt.ints=[],ft=0;ft<it.ints.length;++ft)typeof it.ints[ft]=="number"?dt.ints[ft]=ut.longs===String?String(it.ints[ft]):it.ints[ft]:dt.ints[ft]=ut.longs===String?ct.Long.prototype.toString.call(it.ints[ft]):ut.longs===Number?new ct.LongBits(it.ints[ft].low>>>0,it.ints[ft].high>>>0).toNumber():it.ints[ft];if(it.strings&&it.strings.length)for(dt.strings=[],ft=0;ft<it.strings.length;++ft)dt.strings[ft]=ut.bytes===String?ct.base64.encode(it.strings[ft],0,it.strings[ft].length):ut.bytes===Array?Array.prototype.slice.call(it.strings[ft]):it.strings[ft];if(it.tensors&&it.tensors.length)for(dt.tensors=[],ft=0;ft<it.tensors.length;++ft)dt.tensors[ft]=lt.onnx.TensorProto.toObject(it.tensors[ft],ut);if(it.graphs&&it.graphs.length)for(dt.graphs=[],ft=0;ft<it.graphs.length;++ft)dt.graphs[ft]=lt.onnx.GraphProto.toObject(it.graphs[ft],ut);return it.docString!=null&&it.hasOwnProperty("docString")&&(dt.docString=it.docString),it.type!=null&&it.hasOwnProperty("type")&&(dt.type=ut.enums===String?lt.onnx.AttributeProto.AttributeType[it.type]:it.type),it.refAttrName!=null&&it.hasOwnProperty("refAttrName")&&(dt.refAttrName=it.refAttrName),dt},at.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},at.AttributeType=function(){var it={},ut=Object.create(it);return ut[it[0]="UNDEFINED"]=0,ut[it[1]="FLOAT"]=1,ut[it[2]="INT"]=2,ut[it[3]="STRING"]=3,ut[it[4]="TENSOR"]=4,ut[it[5]="GRAPH"]=5,ut[it[6]="FLOATS"]=6,ut[it[7]="INTS"]=7,ut[it[8]="STRINGS"]=8,ut[it[9]="TENSORS"]=9,ut[it[10]="GRAPHS"]=10,ut}(),at}(),nt.ValueInfoProto=function(){function at(it){if(it)for(var ut=Object.keys(it),dt=0;dt<ut.length;++dt)it[ut[dt]]!=null&&(this[ut[dt]]=it[ut[dt]])}return at.prototype.name="",at.prototype.type=null,at.prototype.docString="",at.create=function(it){return new at(it)},at.encode=function(it,ut){return ut||(ut=st.create()),it.name!=null&&it.hasOwnProperty("name")&&ut.uint32(10).string(it.name),it.type!=null&&it.hasOwnProperty("type")&&lt.onnx.TypeProto.encode(it.type,ut.uint32(18).fork()).ldelim(),it.docString!=null&&it.hasOwnProperty("docString")&&ut.uint32(26).string(it.docString),ut},at.encodeDelimited=function(it,ut){return this.encode(it,ut).ldelim()},at.decode=function(it,ut){it instanceof ot||(it=ot.create(it));for(var dt=ut===void 0?it.len:it.pos+ut,ht=new lt.onnx.ValueInfoProto;it.pos<dt;){var ft=it.uint32();switch(ft>>>3){case 1:ht.name=it.string();break;case 2:ht.type=lt.onnx.TypeProto.decode(it,it.uint32());break;case 3:ht.docString=it.string();break;default:it.skipType(7&ft)}}return ht},at.decodeDelimited=function(it){return it instanceof ot||(it=new ot(it)),this.decode(it,it.uint32())},at.verify=function(it){if(typeof it!="object"||it===null)return"object expected";if(it.name!=null&&it.hasOwnProperty("name")&&!ct.isString(it.name))return"name: string expected";if(it.type!=null&&it.hasOwnProperty("type")){var ut=lt.onnx.TypeProto.verify(it.type);if(ut)return"type."+ut}return it.docString!=null&&it.hasOwnProperty("docString")&&!ct.isString(it.docString)?"docString: string expected":null},at.fromObject=function(it){if(it instanceof lt.onnx.ValueInfoProto)return it;var ut=new lt.onnx.ValueInfoProto;if(it.name!=null&&(ut.name=String(it.name)),it.type!=null){if(typeof it.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");ut.type=lt.onnx.TypeProto.fromObject(it.type)}return it.docString!=null&&(ut.docString=String(it.docString)),ut},at.toObject=function(it,ut){ut||(ut={});var dt={};return ut.defaults&&(dt.name="",dt.type=null,dt.docString=""),it.name!=null&&it.hasOwnProperty("name")&&(dt.name=it.name),it.type!=null&&it.hasOwnProperty("type")&&(dt.type=lt.onnx.TypeProto.toObject(it.type,ut)),it.docString!=null&&it.hasOwnProperty("docString")&&(dt.docString=it.docString),dt},at.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},at}(),nt.NodeProto=function(){function at(it){if(this.input=[],this.output=[],this.attribute=[],it)for(var ut=Object.keys(it),dt=0;dt<ut.length;++dt)it[ut[dt]]!=null&&(this[ut[dt]]=it[ut[dt]])}return at.prototype.input=ct.emptyArray,at.prototype.output=ct.emptyArray,at.prototype.name="",at.prototype.opType="",at.prototype.domain="",at.prototype.attribute=ct.emptyArray,at.prototype.docString="",at.create=function(it){return new at(it)},at.encode=function(it,ut){if(ut||(ut=st.create()),it.input!=null&&it.input.length)for(var dt=0;dt<it.input.length;++dt)ut.uint32(10).string(it.input[dt]);if(it.output!=null&&it.output.length)for(dt=0;dt<it.output.length;++dt)ut.uint32(18).string(it.output[dt]);if(it.name!=null&&it.hasOwnProperty("name")&&ut.uint32(26).string(it.name),it.opType!=null&&it.hasOwnProperty("opType")&&ut.uint32(34).string(it.opType),it.attribute!=null&&it.attribute.length)for(dt=0;dt<it.attribute.length;++dt)lt.onnx.AttributeProto.encode(it.attribute[dt],ut.uint32(42).fork()).ldelim();return it.docString!=null&&it.hasOwnProperty("docString")&&ut.uint32(50).string(it.docString),it.domain!=null&&it.hasOwnProperty("domain")&&ut.uint32(58).string(it.domain),ut},at.encodeDelimited=function(it,ut){return this.encode(it,ut).ldelim()},at.decode=function(it,ut){it instanceof ot||(it=ot.create(it));for(var dt=ut===void 0?it.len:it.pos+ut,ht=new lt.onnx.NodeProto;it.pos<dt;){var ft=it.uint32();switch(ft>>>3){case 1:ht.input&&ht.input.length||(ht.input=[]),ht.input.push(it.string());break;case 2:ht.output&&ht.output.length||(ht.output=[]),ht.output.push(it.string());break;case 3:ht.name=it.string();break;case 4:ht.opType=it.string();break;case 7:ht.domain=it.string();break;case 5:ht.attribute&&ht.attribute.length||(ht.attribute=[]),ht.attribute.push(lt.onnx.AttributeProto.decode(it,it.uint32()));break;case 6:ht.docString=it.string();break;default:it.skipType(7&ft)}}return ht},at.decodeDelimited=function(it){return it instanceof ot||(it=new ot(it)),this.decode(it,it.uint32())},at.verify=function(it){if(typeof it!="object"||it===null)return"object expected";if(it.input!=null&&it.hasOwnProperty("input")){if(!Array.isArray(it.input))return"input: array expected";for(var ut=0;ut<it.input.length;++ut)if(!ct.isString(it.input[ut]))return"input: string[] expected"}if(it.output!=null&&it.hasOwnProperty("output")){if(!Array.isArray(it.output))return"output: array expected";for(ut=0;ut<it.output.length;++ut)if(!ct.isString(it.output[ut]))return"output: string[] expected"}if(it.name!=null&&it.hasOwnProperty("name")&&!ct.isString(it.name))return"name: string expected";if(it.opType!=null&&it.hasOwnProperty("opType")&&!ct.isString(it.opType))return"opType: string expected";if(it.domain!=null&&it.hasOwnProperty("domain")&&!ct.isString(it.domain))return"domain: string expected";if(it.attribute!=null&&it.hasOwnProperty("attribute")){if(!Array.isArray(it.attribute))return"attribute: array expected";for(ut=0;ut<it.attribute.length;++ut){var dt=lt.onnx.AttributeProto.verify(it.attribute[ut]);if(dt)return"attribute."+dt}}return it.docString!=null&&it.hasOwnProperty("docString")&&!ct.isString(it.docString)?"docString: string expected":null},at.fromObject=function(it){if(it instanceof lt.onnx.NodeProto)return it;var ut=new lt.onnx.NodeProto;if(it.input){if(!Array.isArray(it.input))throw TypeError(".onnx.NodeProto.input: array expected");ut.input=[];for(var dt=0;dt<it.input.length;++dt)ut.input[dt]=String(it.input[dt])}if(it.output){if(!Array.isArray(it.output))throw TypeError(".onnx.NodeProto.output: array expected");for(ut.output=[],dt=0;dt<it.output.length;++dt)ut.output[dt]=String(it.output[dt])}if(it.name!=null&&(ut.name=String(it.name)),it.opType!=null&&(ut.opType=String(it.opType)),it.domain!=null&&(ut.domain=String(it.domain)),it.attribute){if(!Array.isArray(it.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(ut.attribute=[],dt=0;dt<it.attribute.length;++dt){if(typeof it.attribute[dt]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");ut.attribute[dt]=lt.onnx.AttributeProto.fromObject(it.attribute[dt])}}return it.docString!=null&&(ut.docString=String(it.docString)),ut},at.toObject=function(it,ut){ut||(ut={});var dt={};if((ut.arrays||ut.defaults)&&(dt.input=[],dt.output=[],dt.attribute=[]),ut.defaults&&(dt.name="",dt.opType="",dt.docString="",dt.domain=""),it.input&&it.input.length){dt.input=[];for(var ht=0;ht<it.input.length;++ht)dt.input[ht]=it.input[ht]}if(it.output&&it.output.length)for(dt.output=[],ht=0;ht<it.output.length;++ht)dt.output[ht]=it.output[ht];if(it.name!=null&&it.hasOwnProperty("name")&&(dt.name=it.name),it.opType!=null&&it.hasOwnProperty("opType")&&(dt.opType=it.opType),it.attribute&&it.attribute.length)for(dt.attribute=[],ht=0;ht<it.attribute.length;++ht)dt.attribute[ht]=lt.onnx.AttributeProto.toObject(it.attribute[ht],ut);return it.docString!=null&&it.hasOwnProperty("docString")&&(dt.docString=it.docString),it.domain!=null&&it.hasOwnProperty("domain")&&(dt.domain=it.domain),dt},at.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},at}(),nt.ModelProto=function(){function at(it){if(this.opsetImport=[],this.metadataProps=[],it)for(var ut=Object.keys(it),dt=0;dt<ut.length;++dt)it[ut[dt]]!=null&&(this[ut[dt]]=it[ut[dt]])}return at.prototype.irVersion=ct.Long?ct.Long.fromBits(0,0,!1):0,at.prototype.opsetImport=ct.emptyArray,at.prototype.producerName="",at.prototype.producerVersion="",at.prototype.domain="",at.prototype.modelVersion=ct.Long?ct.Long.fromBits(0,0,!1):0,at.prototype.docString="",at.prototype.graph=null,at.prototype.metadataProps=ct.emptyArray,at.create=function(it){return new at(it)},at.encode=function(it,ut){if(ut||(ut=st.create()),it.irVersion!=null&&it.hasOwnProperty("irVersion")&&ut.uint32(8).int64(it.irVersion),it.producerName!=null&&it.hasOwnProperty("producerName")&&ut.uint32(18).string(it.producerName),it.producerVersion!=null&&it.hasOwnProperty("producerVersion")&&ut.uint32(26).string(it.producerVersion),it.domain!=null&&it.hasOwnProperty("domain")&&ut.uint32(34).string(it.domain),it.modelVersion!=null&&it.hasOwnProperty("modelVersion")&&ut.uint32(40).int64(it.modelVersion),it.docString!=null&&it.hasOwnProperty("docString")&&ut.uint32(50).string(it.docString),it.graph!=null&&it.hasOwnProperty("graph")&&lt.onnx.GraphProto.encode(it.graph,ut.uint32(58).fork()).ldelim(),it.opsetImport!=null&&it.opsetImport.length)for(var dt=0;dt<it.opsetImport.length;++dt)lt.onnx.OperatorSetIdProto.encode(it.opsetImport[dt],ut.uint32(66).fork()).ldelim();if(it.metadataProps!=null&&it.metadataProps.length)for(dt=0;dt<it.metadataProps.length;++dt)lt.onnx.StringStringEntryProto.encode(it.metadataProps[dt],ut.uint32(114).fork()).ldelim();return ut},at.encodeDelimited=function(it,ut){return this.encode(it,ut).ldelim()},at.decode=function(it,ut){it instanceof ot||(it=ot.create(it));for(var dt=ut===void 0?it.len:it.pos+ut,ht=new lt.onnx.ModelProto;it.pos<dt;){var ft=it.uint32();switch(ft>>>3){case 1:ht.irVersion=it.int64();break;case 8:ht.opsetImport&&ht.opsetImport.length||(ht.opsetImport=[]),ht.opsetImport.push(lt.onnx.OperatorSetIdProto.decode(it,it.uint32()));break;case 2:ht.producerName=it.string();break;case 3:ht.producerVersion=it.string();break;case 4:ht.domain=it.string();break;case 5:ht.modelVersion=it.int64();break;case 6:ht.docString=it.string();break;case 7:ht.graph=lt.onnx.GraphProto.decode(it,it.uint32());break;case 14:ht.metadataProps&&ht.metadataProps.length||(ht.metadataProps=[]),ht.metadataProps.push(lt.onnx.StringStringEntryProto.decode(it,it.uint32()));break;default:it.skipType(7&ft)}}return ht},at.decodeDelimited=function(it){return it instanceof ot||(it=new ot(it)),this.decode(it,it.uint32())},at.verify=function(it){if(typeof it!="object"||it===null)return"object expected";if(it.irVersion!=null&&it.hasOwnProperty("irVersion")&&!(ct.isInteger(it.irVersion)||it.irVersion&&ct.isInteger(it.irVersion.low)&&ct.isInteger(it.irVersion.high)))return"irVersion: integer|Long expected";if(it.opsetImport!=null&&it.hasOwnProperty("opsetImport")){if(!Array.isArray(it.opsetImport))return"opsetImport: array expected";for(var ut=0;ut<it.opsetImport.length;++ut)if(dt=lt.onnx.OperatorSetIdProto.verify(it.opsetImport[ut]))return"opsetImport."+dt}if(it.producerName!=null&&it.hasOwnProperty("producerName")&&!ct.isString(it.producerName))return"producerName: string expected";if(it.producerVersion!=null&&it.hasOwnProperty("producerVersion")&&!ct.isString(it.producerVersion))return"producerVersion: string expected";if(it.domain!=null&&it.hasOwnProperty("domain")&&!ct.isString(it.domain))return"domain: string expected";if(it.modelVersion!=null&&it.hasOwnProperty("modelVersion")&&!(ct.isInteger(it.modelVersion)||it.modelVersion&&ct.isInteger(it.modelVersion.low)&&ct.isInteger(it.modelVersion.high)))return"modelVersion: integer|Long expected";if(it.docString!=null&&it.hasOwnProperty("docString")&&!ct.isString(it.docString))return"docString: string expected";if(it.graph!=null&&it.hasOwnProperty("graph")&&(dt=lt.onnx.GraphProto.verify(it.graph)))return"graph."+dt;if(it.metadataProps!=null&&it.hasOwnProperty("metadataProps")){if(!Array.isArray(it.metadataProps))return"metadataProps: array expected";for(ut=0;ut<it.metadataProps.length;++ut){var dt;if(dt=lt.onnx.StringStringEntryProto.verify(it.metadataProps[ut]))return"metadataProps."+dt}}return null},at.fromObject=function(it){if(it instanceof lt.onnx.ModelProto)return it;var ut=new lt.onnx.ModelProto;if(it.irVersion!=null&&(ct.Long?(ut.irVersion=ct.Long.fromValue(it.irVersion)).unsigned=!1:typeof it.irVersion=="string"?ut.irVersion=parseInt(it.irVersion,10):typeof it.irVersion=="number"?ut.irVersion=it.irVersion:typeof it.irVersion=="object"&&(ut.irVersion=new ct.LongBits(it.irVersion.low>>>0,it.irVersion.high>>>0).toNumber())),it.opsetImport){if(!Array.isArray(it.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");ut.opsetImport=[];for(var dt=0;dt<it.opsetImport.length;++dt){if(typeof it.opsetImport[dt]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");ut.opsetImport[dt]=lt.onnx.OperatorSetIdProto.fromObject(it.opsetImport[dt])}}if(it.producerName!=null&&(ut.producerName=String(it.producerName)),it.producerVersion!=null&&(ut.producerVersion=String(it.producerVersion)),it.domain!=null&&(ut.domain=String(it.domain)),it.modelVersion!=null&&(ct.Long?(ut.modelVersion=ct.Long.fromValue(it.modelVersion)).unsigned=!1:typeof it.modelVersion=="string"?ut.modelVersion=parseInt(it.modelVersion,10):typeof it.modelVersion=="number"?ut.modelVersion=it.modelVersion:typeof it.modelVersion=="object"&&(ut.modelVersion=new ct.LongBits(it.modelVersion.low>>>0,it.modelVersion.high>>>0).toNumber())),it.docString!=null&&(ut.docString=String(it.docString)),it.graph!=null){if(typeof it.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");ut.graph=lt.onnx.GraphProto.fromObject(it.graph)}if(it.metadataProps){if(!Array.isArray(it.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(ut.metadataProps=[],dt=0;dt<it.metadataProps.length;++dt){if(typeof it.metadataProps[dt]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");ut.metadataProps[dt]=lt.onnx.StringStringEntryProto.fromObject(it.metadataProps[dt])}}return ut},at.toObject=function(it,ut){ut||(ut={});var dt={};if((ut.arrays||ut.defaults)&&(dt.opsetImport=[],dt.metadataProps=[]),ut.defaults){if(ct.Long){var ht=new ct.Long(0,0,!1);dt.irVersion=ut.longs===String?ht.toString():ut.longs===Number?ht.toNumber():ht}else dt.irVersion=ut.longs===String?"0":0;dt.producerName="",dt.producerVersion="",dt.domain="",ct.Long?(ht=new ct.Long(0,0,!1),dt.modelVersion=ut.longs===String?ht.toString():ut.longs===Number?ht.toNumber():ht):dt.modelVersion=ut.longs===String?"0":0,dt.docString="",dt.graph=null}if(it.irVersion!=null&&it.hasOwnProperty("irVersion")&&(typeof it.irVersion=="number"?dt.irVersion=ut.longs===String?String(it.irVersion):it.irVersion:dt.irVersion=ut.longs===String?ct.Long.prototype.toString.call(it.irVersion):ut.longs===Number?new ct.LongBits(it.irVersion.low>>>0,it.irVersion.high>>>0).toNumber():it.irVersion),it.producerName!=null&&it.hasOwnProperty("producerName")&&(dt.producerName=it.producerName),it.producerVersion!=null&&it.hasOwnProperty("producerVersion")&&(dt.producerVersion=it.producerVersion),it.domain!=null&&it.hasOwnProperty("domain")&&(dt.domain=it.domain),it.modelVersion!=null&&it.hasOwnProperty("modelVersion")&&(typeof it.modelVersion=="number"?dt.modelVersion=ut.longs===String?String(it.modelVersion):it.modelVersion:dt.modelVersion=ut.longs===String?ct.Long.prototype.toString.call(it.modelVersion):ut.longs===Number?new ct.LongBits(it.modelVersion.low>>>0,it.modelVersion.high>>>0).toNumber():it.modelVersion),it.docString!=null&&it.hasOwnProperty("docString")&&(dt.docString=it.docString),it.graph!=null&&it.hasOwnProperty("graph")&&(dt.graph=lt.onnx.GraphProto.toObject(it.graph,ut)),it.opsetImport&&it.opsetImport.length){dt.opsetImport=[];for(var ft=0;ft<it.opsetImport.length;++ft)dt.opsetImport[ft]=lt.onnx.OperatorSetIdProto.toObject(it.opsetImport[ft],ut)}if(it.metadataProps&&it.metadataProps.length)for(dt.metadataProps=[],ft=0;ft<it.metadataProps.length;++ft)dt.metadataProps[ft]=lt.onnx.StringStringEntryProto.toObject(it.metadataProps[ft],ut);return dt},at.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},at}(),nt.StringStringEntryProto=function(){function at(it){if(it)for(var ut=Object.keys(it),dt=0;dt<ut.length;++dt)it[ut[dt]]!=null&&(this[ut[dt]]=it[ut[dt]])}return at.prototype.key="",at.prototype.value="",at.create=function(it){return new at(it)},at.encode=function(it,ut){return ut||(ut=st.create()),it.key!=null&&it.hasOwnProperty("key")&&ut.uint32(10).string(it.key),it.value!=null&&it.hasOwnProperty("value")&&ut.uint32(18).string(it.value),ut},at.encodeDelimited=function(it,ut){return this.encode(it,ut).ldelim()},at.decode=function(it,ut){it instanceof ot||(it=ot.create(it));for(var dt=ut===void 0?it.len:it.pos+ut,ht=new lt.onnx.StringStringEntryProto;it.pos<dt;){var ft=it.uint32();switch(ft>>>3){case 1:ht.key=it.string();break;case 2:ht.value=it.string();break;default:it.skipType(7&ft)}}return ht},at.decodeDelimited=function(it){return it instanceof ot||(it=new ot(it)),this.decode(it,it.uint32())},at.verify=function(it){return typeof it!="object"||it===null?"object expected":it.key!=null&&it.hasOwnProperty("key")&&!ct.isString(it.key)?"key: string expected":it.value!=null&&it.hasOwnProperty("value")&&!ct.isString(it.value)?"value: string expected":null},at.fromObject=function(it){if(it instanceof lt.onnx.StringStringEntryProto)return it;var ut=new lt.onnx.StringStringEntryProto;return it.key!=null&&(ut.key=String(it.key)),it.value!=null&&(ut.value=String(it.value)),ut},at.toObject=function(it,ut){ut||(ut={});var dt={};return ut.defaults&&(dt.key="",dt.value=""),it.key!=null&&it.hasOwnProperty("key")&&(dt.key=it.key),it.value!=null&&it.hasOwnProperty("value")&&(dt.value=it.value),dt},at.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},at}(),nt.TensorAnnotation=function(){function at(it){if(this.quantParameterTensorNames=[],it)for(var ut=Object.keys(it),dt=0;dt<ut.length;++dt)it[ut[dt]]!=null&&(this[ut[dt]]=it[ut[dt]])}return at.prototype.tensorName="",at.prototype.quantParameterTensorNames=ct.emptyArray,at.create=function(it){return new at(it)},at.encode=function(it,ut){if(ut||(ut=st.create()),it.tensorName!=null&&it.hasOwnProperty("tensorName")&&ut.uint32(10).string(it.tensorName),it.quantParameterTensorNames!=null&&it.quantParameterTensorNames.length)for(var dt=0;dt<it.quantParameterTensorNames.length;++dt)lt.onnx.StringStringEntryProto.encode(it.quantParameterTensorNames[dt],ut.uint32(18).fork()).ldelim();return ut},at.encodeDelimited=function(it,ut){return this.encode(it,ut).ldelim()},at.decode=function(it,ut){it instanceof ot||(it=ot.create(it));for(var dt=ut===void 0?it.len:it.pos+ut,ht=new lt.onnx.TensorAnnotation;it.pos<dt;){var ft=it.uint32();switch(ft>>>3){case 1:ht.tensorName=it.string();break;case 2:ht.quantParameterTensorNames&&ht.quantParameterTensorNames.length||(ht.quantParameterTensorNames=[]),ht.quantParameterTensorNames.push(lt.onnx.StringStringEntryProto.decode(it,it.uint32()));break;default:it.skipType(7&ft)}}return ht},at.decodeDelimited=function(it){return it instanceof ot||(it=new ot(it)),this.decode(it,it.uint32())},at.verify=function(it){if(typeof it!="object"||it===null)return"object expected";if(it.tensorName!=null&&it.hasOwnProperty("tensorName")&&!ct.isString(it.tensorName))return"tensorName: string expected";if(it.quantParameterTensorNames!=null&&it.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(it.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var ut=0;ut<it.quantParameterTensorNames.length;++ut){var dt=lt.onnx.StringStringEntryProto.verify(it.quantParameterTensorNames[ut]);if(dt)return"quantParameterTensorNames."+dt}}return null},at.fromObject=function(it){if(it instanceof lt.onnx.TensorAnnotation)return it;var ut=new lt.onnx.TensorAnnotation;if(it.tensorName!=null&&(ut.tensorName=String(it.tensorName)),it.quantParameterTensorNames){if(!Array.isArray(it.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");ut.quantParameterTensorNames=[];for(var dt=0;dt<it.quantParameterTensorNames.length;++dt){if(typeof it.quantParameterTensorNames[dt]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");ut.quantParameterTensorNames[dt]=lt.onnx.StringStringEntryProto.fromObject(it.quantParameterTensorNames[dt])}}return ut},at.toObject=function(it,ut){ut||(ut={});var dt={};if((ut.arrays||ut.defaults)&&(dt.quantParameterTensorNames=[]),ut.defaults&&(dt.tensorName=""),it.tensorName!=null&&it.hasOwnProperty("tensorName")&&(dt.tensorName=it.tensorName),it.quantParameterTensorNames&&it.quantParameterTensorNames.length){dt.quantParameterTensorNames=[];for(var ht=0;ht<it.quantParameterTensorNames.length;++ht)dt.quantParameterTensorNames[ht]=lt.onnx.StringStringEntryProto.toObject(it.quantParameterTensorNames[ht],ut)}return dt},at.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},at}(),nt.GraphProto=function(){function at(it){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],it)for(var ut=Object.keys(it),dt=0;dt<ut.length;++dt)it[ut[dt]]!=null&&(this[ut[dt]]=it[ut[dt]])}return at.prototype.node=ct.emptyArray,at.prototype.name="",at.prototype.initializer=ct.emptyArray,at.prototype.docString="",at.prototype.input=ct.emptyArray,at.prototype.output=ct.emptyArray,at.prototype.valueInfo=ct.emptyArray,at.prototype.quantizationAnnotation=ct.emptyArray,at.create=function(it){return new at(it)},at.encode=function(it,ut){if(ut||(ut=st.create()),it.node!=null&&it.node.length)for(var dt=0;dt<it.node.length;++dt)lt.onnx.NodeProto.encode(it.node[dt],ut.uint32(10).fork()).ldelim();if(it.name!=null&&it.hasOwnProperty("name")&&ut.uint32(18).string(it.name),it.initializer!=null&&it.initializer.length)for(dt=0;dt<it.initializer.length;++dt)lt.onnx.TensorProto.encode(it.initializer[dt],ut.uint32(42).fork()).ldelim();if(it.docString!=null&&it.hasOwnProperty("docString")&&ut.uint32(82).string(it.docString),it.input!=null&&it.input.length)for(dt=0;dt<it.input.length;++dt)lt.onnx.ValueInfoProto.encode(it.input[dt],ut.uint32(90).fork()).ldelim();if(it.output!=null&&it.output.length)for(dt=0;dt<it.output.length;++dt)lt.onnx.ValueInfoProto.encode(it.output[dt],ut.uint32(98).fork()).ldelim();if(it.valueInfo!=null&&it.valueInfo.length)for(dt=0;dt<it.valueInfo.length;++dt)lt.onnx.ValueInfoProto.encode(it.valueInfo[dt],ut.uint32(106).fork()).ldelim();if(it.quantizationAnnotation!=null&&it.quantizationAnnotation.length)for(dt=0;dt<it.quantizationAnnotation.length;++dt)lt.onnx.TensorAnnotation.encode(it.quantizationAnnotation[dt],ut.uint32(114).fork()).ldelim();return ut},at.encodeDelimited=function(it,ut){return this.encode(it,ut).ldelim()},at.decode=function(it,ut){it instanceof ot||(it=ot.create(it));for(var dt=ut===void 0?it.len:it.pos+ut,ht=new lt.onnx.GraphProto;it.pos<dt;){var ft=it.uint32();switch(ft>>>3){case 1:ht.node&&ht.node.length||(ht.node=[]),ht.node.push(lt.onnx.NodeProto.decode(it,it.uint32()));break;case 2:ht.name=it.string();break;case 5:ht.initializer&&ht.initializer.length||(ht.initializer=[]),ht.initializer.push(lt.onnx.TensorProto.decode(it,it.uint32()));break;case 10:ht.docString=it.string();break;case 11:ht.input&&ht.input.length||(ht.input=[]),ht.input.push(lt.onnx.ValueInfoProto.decode(it,it.uint32()));break;case 12:ht.output&&ht.output.length||(ht.output=[]),ht.output.push(lt.onnx.ValueInfoProto.decode(it,it.uint32()));break;case 13:ht.valueInfo&&ht.valueInfo.length||(ht.valueInfo=[]),ht.valueInfo.push(lt.onnx.ValueInfoProto.decode(it,it.uint32()));break;case 14:ht.quantizationAnnotation&&ht.quantizationAnnotation.length||(ht.quantizationAnnotation=[]),ht.quantizationAnnotation.push(lt.onnx.TensorAnnotation.decode(it,it.uint32()));break;default:it.skipType(7&ft)}}return ht},at.decodeDelimited=function(it){return it instanceof ot||(it=new ot(it)),this.decode(it,it.uint32())},at.verify=function(it){if(typeof it!="object"||it===null)return"object expected";if(it.node!=null&&it.hasOwnProperty("node")){if(!Array.isArray(it.node))return"node: array expected";for(var ut=0;ut<it.node.length;++ut)if(dt=lt.onnx.NodeProto.verify(it.node[ut]))return"node."+dt}if(it.name!=null&&it.hasOwnProperty("name")&&!ct.isString(it.name))return"name: string expected";if(it.initializer!=null&&it.hasOwnProperty("initializer")){if(!Array.isArray(it.initializer))return"initializer: array expected";for(ut=0;ut<it.initializer.length;++ut)if(dt=lt.onnx.TensorProto.verify(it.initializer[ut]))return"initializer."+dt}if(it.docString!=null&&it.hasOwnProperty("docString")&&!ct.isString(it.docString))return"docString: string expected";if(it.input!=null&&it.hasOwnProperty("input")){if(!Array.isArray(it.input))return"input: array expected";for(ut=0;ut<it.input.length;++ut)if(dt=lt.onnx.ValueInfoProto.verify(it.input[ut]))return"input."+dt}if(it.output!=null&&it.hasOwnProperty("output")){if(!Array.isArray(it.output))return"output: array expected";for(ut=0;ut<it.output.length;++ut)if(dt=lt.onnx.ValueInfoProto.verify(it.output[ut]))return"output."+dt}if(it.valueInfo!=null&&it.hasOwnProperty("valueInfo")){if(!Array.isArray(it.valueInfo))return"valueInfo: array expected";for(ut=0;ut<it.valueInfo.length;++ut)if(dt=lt.onnx.ValueInfoProto.verify(it.valueInfo[ut]))return"valueInfo."+dt}if(it.quantizationAnnotation!=null&&it.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(it.quantizationAnnotation))return"quantizationAnnotation: array expected";for(ut=0;ut<it.quantizationAnnotation.length;++ut){var dt;if(dt=lt.onnx.TensorAnnotation.verify(it.quantizationAnnotation[ut]))return"quantizationAnnotation."+dt}}return null},at.fromObject=function(it){if(it instanceof lt.onnx.GraphProto)return it;var ut=new lt.onnx.GraphProto;if(it.node){if(!Array.isArray(it.node))throw TypeError(".onnx.GraphProto.node: array expected");ut.node=[];for(var dt=0;dt<it.node.length;++dt){if(typeof it.node[dt]!="object")throw TypeError(".onnx.GraphProto.node: object expected");ut.node[dt]=lt.onnx.NodeProto.fromObject(it.node[dt])}}if(it.name!=null&&(ut.name=String(it.name)),it.initializer){if(!Array.isArray(it.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(ut.initializer=[],dt=0;dt<it.initializer.length;++dt){if(typeof it.initializer[dt]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");ut.initializer[dt]=lt.onnx.TensorProto.fromObject(it.initializer[dt])}}if(it.docString!=null&&(ut.docString=String(it.docString)),it.input){if(!Array.isArray(it.input))throw TypeError(".onnx.GraphProto.input: array expected");for(ut.input=[],dt=0;dt<it.input.length;++dt){if(typeof it.input[dt]!="object")throw TypeError(".onnx.GraphProto.input: object expected");ut.input[dt]=lt.onnx.ValueInfoProto.fromObject(it.input[dt])}}if(it.output){if(!Array.isArray(it.output))throw TypeError(".onnx.GraphProto.output: array expected");for(ut.output=[],dt=0;dt<it.output.length;++dt){if(typeof it.output[dt]!="object")throw TypeError(".onnx.GraphProto.output: object expected");ut.output[dt]=lt.onnx.ValueInfoProto.fromObject(it.output[dt])}}if(it.valueInfo){if(!Array.isArray(it.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(ut.valueInfo=[],dt=0;dt<it.valueInfo.length;++dt){if(typeof it.valueInfo[dt]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");ut.valueInfo[dt]=lt.onnx.ValueInfoProto.fromObject(it.valueInfo[dt])}}if(it.quantizationAnnotation){if(!Array.isArray(it.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(ut.quantizationAnnotation=[],dt=0;dt<it.quantizationAnnotation.length;++dt){if(typeof it.quantizationAnnotation[dt]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");ut.quantizationAnnotation[dt]=lt.onnx.TensorAnnotation.fromObject(it.quantizationAnnotation[dt])}}return ut},at.toObject=function(it,ut){ut||(ut={});var dt={};if((ut.arrays||ut.defaults)&&(dt.node=[],dt.initializer=[],dt.input=[],dt.output=[],dt.valueInfo=[],dt.quantizationAnnotation=[]),ut.defaults&&(dt.name="",dt.docString=""),it.node&&it.node.length){dt.node=[];for(var ht=0;ht<it.node.length;++ht)dt.node[ht]=lt.onnx.NodeProto.toObject(it.node[ht],ut)}if(it.name!=null&&it.hasOwnProperty("name")&&(dt.name=it.name),it.initializer&&it.initializer.length)for(dt.initializer=[],ht=0;ht<it.initializer.length;++ht)dt.initializer[ht]=lt.onnx.TensorProto.toObject(it.initializer[ht],ut);if(it.docString!=null&&it.hasOwnProperty("docString")&&(dt.docString=it.docString),it.input&&it.input.length)for(dt.input=[],ht=0;ht<it.input.length;++ht)dt.input[ht]=lt.onnx.ValueInfoProto.toObject(it.input[ht],ut);if(it.output&&it.output.length)for(dt.output=[],ht=0;ht<it.output.length;++ht)dt.output[ht]=lt.onnx.ValueInfoProto.toObject(it.output[ht],ut);if(it.valueInfo&&it.valueInfo.length)for(dt.valueInfo=[],ht=0;ht<it.valueInfo.length;++ht)dt.valueInfo[ht]=lt.onnx.ValueInfoProto.toObject(it.valueInfo[ht],ut);if(it.quantizationAnnotation&&it.quantizationAnnotation.length)for(dt.quantizationAnnotation=[],ht=0;ht<it.quantizationAnnotation.length;++ht)dt.quantizationAnnotation[ht]=lt.onnx.TensorAnnotation.toObject(it.quantizationAnnotation[ht],ut);return dt},at.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},at}(),nt.TensorProto=function(){function at(it){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],it)for(var ut=Object.keys(it),dt=0;dt<ut.length;++dt)it[ut[dt]]!=null&&(this[ut[dt]]=it[ut[dt]])}return at.prototype.dims=ct.emptyArray,at.prototype.dataType=0,at.prototype.segment=null,at.prototype.floatData=ct.emptyArray,at.prototype.int32Data=ct.emptyArray,at.prototype.stringData=ct.emptyArray,at.prototype.int64Data=ct.emptyArray,at.prototype.name="",at.prototype.docString="",at.prototype.rawData=ct.newBuffer([]),at.prototype.externalData=ct.emptyArray,at.prototype.dataLocation=0,at.prototype.doubleData=ct.emptyArray,at.prototype.uint64Data=ct.emptyArray,at.create=function(it){return new at(it)},at.encode=function(it,ut){if(ut||(ut=st.create()),it.dims!=null&&it.dims.length){ut.uint32(10).fork();for(var dt=0;dt<it.dims.length;++dt)ut.int64(it.dims[dt]);ut.ldelim()}if(it.dataType!=null&&it.hasOwnProperty("dataType")&&ut.uint32(16).int32(it.dataType),it.segment!=null&&it.hasOwnProperty("segment")&&lt.onnx.TensorProto.Segment.encode(it.segment,ut.uint32(26).fork()).ldelim(),it.floatData!=null&&it.floatData.length){for(ut.uint32(34).fork(),dt=0;dt<it.floatData.length;++dt)ut.float(it.floatData[dt]);ut.ldelim()}if(it.int32Data!=null&&it.int32Data.length){for(ut.uint32(42).fork(),dt=0;dt<it.int32Data.length;++dt)ut.int32(it.int32Data[dt]);ut.ldelim()}if(it.stringData!=null&&it.stringData.length)for(dt=0;dt<it.stringData.length;++dt)ut.uint32(50).bytes(it.stringData[dt]);if(it.int64Data!=null&&it.int64Data.length){for(ut.uint32(58).fork(),dt=0;dt<it.int64Data.length;++dt)ut.int64(it.int64Data[dt]);ut.ldelim()}if(it.name!=null&&it.hasOwnProperty("name")&&ut.uint32(66).string(it.name),it.rawData!=null&&it.hasOwnProperty("rawData")&&ut.uint32(74).bytes(it.rawData),it.doubleData!=null&&it.doubleData.length){for(ut.uint32(82).fork(),dt=0;dt<it.doubleData.length;++dt)ut.double(it.doubleData[dt]);ut.ldelim()}if(it.uint64Data!=null&&it.uint64Data.length){for(ut.uint32(90).fork(),dt=0;dt<it.uint64Data.length;++dt)ut.uint64(it.uint64Data[dt]);ut.ldelim()}if(it.docString!=null&&it.hasOwnProperty("docString")&&ut.uint32(98).string(it.docString),it.externalData!=null&&it.externalData.length)for(dt=0;dt<it.externalData.length;++dt)lt.onnx.StringStringEntryProto.encode(it.externalData[dt],ut.uint32(106).fork()).ldelim();return it.dataLocation!=null&&it.hasOwnProperty("dataLocation")&&ut.uint32(112).int32(it.dataLocation),ut},at.encodeDelimited=function(it,ut){return this.encode(it,ut).ldelim()},at.decode=function(it,ut){it instanceof ot||(it=ot.create(it));for(var dt=ut===void 0?it.len:it.pos+ut,ht=new lt.onnx.TensorProto;it.pos<dt;){var ft=it.uint32();switch(ft>>>3){case 1:if(ht.dims&&ht.dims.length||(ht.dims=[]),(7&ft)==2)for(var pt=it.uint32()+it.pos;it.pos<pt;)ht.dims.push(it.int64());else ht.dims.push(it.int64());break;case 2:ht.dataType=it.int32();break;case 3:ht.segment=lt.onnx.TensorProto.Segment.decode(it,it.uint32());break;case 4:if(ht.floatData&&ht.floatData.length||(ht.floatData=[]),(7&ft)==2)for(pt=it.uint32()+it.pos;it.pos<pt;)ht.floatData.push(it.float());else ht.floatData.push(it.float());break;case 5:if(ht.int32Data&&ht.int32Data.length||(ht.int32Data=[]),(7&ft)==2)for(pt=it.uint32()+it.pos;it.pos<pt;)ht.int32Data.push(it.int32());else ht.int32Data.push(it.int32());break;case 6:ht.stringData&&ht.stringData.length||(ht.stringData=[]),ht.stringData.push(it.bytes());break;case 7:if(ht.int64Data&&ht.int64Data.length||(ht.int64Data=[]),(7&ft)==2)for(pt=it.uint32()+it.pos;it.pos<pt;)ht.int64Data.push(it.int64());else ht.int64Data.push(it.int64());break;case 8:ht.name=it.string();break;case 12:ht.docString=it.string();break;case 9:ht.rawData=it.bytes();break;case 13:ht.externalData&&ht.externalData.length||(ht.externalData=[]),ht.externalData.push(lt.onnx.StringStringEntryProto.decode(it,it.uint32()));break;case 14:ht.dataLocation=it.int32();break;case 10:if(ht.doubleData&&ht.doubleData.length||(ht.doubleData=[]),(7&ft)==2)for(pt=it.uint32()+it.pos;it.pos<pt;)ht.doubleData.push(it.double());else ht.doubleData.push(it.double());break;case 11:if(ht.uint64Data&&ht.uint64Data.length||(ht.uint64Data=[]),(7&ft)==2)for(pt=it.uint32()+it.pos;it.pos<pt;)ht.uint64Data.push(it.uint64());else ht.uint64Data.push(it.uint64());break;default:it.skipType(7&ft)}}return ht},at.decodeDelimited=function(it){return it instanceof ot||(it=new ot(it)),this.decode(it,it.uint32())},at.verify=function(it){if(typeof it!="object"||it===null)return"object expected";if(it.dims!=null&&it.hasOwnProperty("dims")){if(!Array.isArray(it.dims))return"dims: array expected";for(var ut=0;ut<it.dims.length;++ut)if(!(ct.isInteger(it.dims[ut])||it.dims[ut]&&ct.isInteger(it.dims[ut].low)&&ct.isInteger(it.dims[ut].high)))return"dims: integer|Long[] expected"}if(it.dataType!=null&&it.hasOwnProperty("dataType")&&!ct.isInteger(it.dataType))return"dataType: integer expected";if(it.segment!=null&&it.hasOwnProperty("segment")&&(dt=lt.onnx.TensorProto.Segment.verify(it.segment)))return"segment."+dt;if(it.floatData!=null&&it.hasOwnProperty("floatData")){if(!Array.isArray(it.floatData))return"floatData: array expected";for(ut=0;ut<it.floatData.length;++ut)if(typeof it.floatData[ut]!="number")return"floatData: number[] expected"}if(it.int32Data!=null&&it.hasOwnProperty("int32Data")){if(!Array.isArray(it.int32Data))return"int32Data: array expected";for(ut=0;ut<it.int32Data.length;++ut)if(!ct.isInteger(it.int32Data[ut]))return"int32Data: integer[] expected"}if(it.stringData!=null&&it.hasOwnProperty("stringData")){if(!Array.isArray(it.stringData))return"stringData: array expected";for(ut=0;ut<it.stringData.length;++ut)if(!(it.stringData[ut]&&typeof it.stringData[ut].length=="number"||ct.isString(it.stringData[ut])))return"stringData: buffer[] expected"}if(it.int64Data!=null&&it.hasOwnProperty("int64Data")){if(!Array.isArray(it.int64Data))return"int64Data: array expected";for(ut=0;ut<it.int64Data.length;++ut)if(!(ct.isInteger(it.int64Data[ut])||it.int64Data[ut]&&ct.isInteger(it.int64Data[ut].low)&&ct.isInteger(it.int64Data[ut].high)))return"int64Data: integer|Long[] expected"}if(it.name!=null&&it.hasOwnProperty("name")&&!ct.isString(it.name))return"name: string expected";if(it.docString!=null&&it.hasOwnProperty("docString")&&!ct.isString(it.docString))return"docString: string expected";if(it.rawData!=null&&it.hasOwnProperty("rawData")&&!(it.rawData&&typeof it.rawData.length=="number"||ct.isString(it.rawData)))return"rawData: buffer expected";if(it.externalData!=null&&it.hasOwnProperty("externalData")){if(!Array.isArray(it.externalData))return"externalData: array expected";for(ut=0;ut<it.externalData.length;++ut){var dt;if(dt=lt.onnx.StringStringEntryProto.verify(it.externalData[ut]))return"externalData."+dt}}if(it.dataLocation!=null&&it.hasOwnProperty("dataLocation"))switch(it.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(it.doubleData!=null&&it.hasOwnProperty("doubleData")){if(!Array.isArray(it.doubleData))return"doubleData: array expected";for(ut=0;ut<it.doubleData.length;++ut)if(typeof it.doubleData[ut]!="number")return"doubleData: number[] expected"}if(it.uint64Data!=null&&it.hasOwnProperty("uint64Data")){if(!Array.isArray(it.uint64Data))return"uint64Data: array expected";for(ut=0;ut<it.uint64Data.length;++ut)if(!(ct.isInteger(it.uint64Data[ut])||it.uint64Data[ut]&&ct.isInteger(it.uint64Data[ut].low)&&ct.isInteger(it.uint64Data[ut].high)))return"uint64Data: integer|Long[] expected"}return null},at.fromObject=function(it){if(it instanceof lt.onnx.TensorProto)return it;var ut=new lt.onnx.TensorProto;if(it.dims){if(!Array.isArray(it.dims))throw TypeError(".onnx.TensorProto.dims: array expected");ut.dims=[];for(var dt=0;dt<it.dims.length;++dt)ct.Long?(ut.dims[dt]=ct.Long.fromValue(it.dims[dt])).unsigned=!1:typeof it.dims[dt]=="string"?ut.dims[dt]=parseInt(it.dims[dt],10):typeof it.dims[dt]=="number"?ut.dims[dt]=it.dims[dt]:typeof it.dims[dt]=="object"&&(ut.dims[dt]=new ct.LongBits(it.dims[dt].low>>>0,it.dims[dt].high>>>0).toNumber())}if(it.dataType!=null&&(ut.dataType=0|it.dataType),it.segment!=null){if(typeof it.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");ut.segment=lt.onnx.TensorProto.Segment.fromObject(it.segment)}if(it.floatData){if(!Array.isArray(it.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(ut.floatData=[],dt=0;dt<it.floatData.length;++dt)ut.floatData[dt]=Number(it.floatData[dt])}if(it.int32Data){if(!Array.isArray(it.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(ut.int32Data=[],dt=0;dt<it.int32Data.length;++dt)ut.int32Data[dt]=0|it.int32Data[dt]}if(it.stringData){if(!Array.isArray(it.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(ut.stringData=[],dt=0;dt<it.stringData.length;++dt)typeof it.stringData[dt]=="string"?ct.base64.decode(it.stringData[dt],ut.stringData[dt]=ct.newBuffer(ct.base64.length(it.stringData[dt])),0):it.stringData[dt].length&&(ut.stringData[dt]=it.stringData[dt])}if(it.int64Data){if(!Array.isArray(it.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(ut.int64Data=[],dt=0;dt<it.int64Data.length;++dt)ct.Long?(ut.int64Data[dt]=ct.Long.fromValue(it.int64Data[dt])).unsigned=!1:typeof it.int64Data[dt]=="string"?ut.int64Data[dt]=parseInt(it.int64Data[dt],10):typeof it.int64Data[dt]=="number"?ut.int64Data[dt]=it.int64Data[dt]:typeof it.int64Data[dt]=="object"&&(ut.int64Data[dt]=new ct.LongBits(it.int64Data[dt].low>>>0,it.int64Data[dt].high>>>0).toNumber())}if(it.name!=null&&(ut.name=String(it.name)),it.docString!=null&&(ut.docString=String(it.docString)),it.rawData!=null&&(typeof it.rawData=="string"?ct.base64.decode(it.rawData,ut.rawData=ct.newBuffer(ct.base64.length(it.rawData)),0):it.rawData.length&&(ut.rawData=it.rawData)),it.externalData){if(!Array.isArray(it.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(ut.externalData=[],dt=0;dt<it.externalData.length;++dt){if(typeof it.externalData[dt]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");ut.externalData[dt]=lt.onnx.StringStringEntryProto.fromObject(it.externalData[dt])}}switch(it.dataLocation){case"DEFAULT":case 0:ut.dataLocation=0;break;case"EXTERNAL":case 1:ut.dataLocation=1}if(it.doubleData){if(!Array.isArray(it.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(ut.doubleData=[],dt=0;dt<it.doubleData.length;++dt)ut.doubleData[dt]=Number(it.doubleData[dt])}if(it.uint64Data){if(!Array.isArray(it.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(ut.uint64Data=[],dt=0;dt<it.uint64Data.length;++dt)ct.Long?(ut.uint64Data[dt]=ct.Long.fromValue(it.uint64Data[dt])).unsigned=!0:typeof it.uint64Data[dt]=="string"?ut.uint64Data[dt]=parseInt(it.uint64Data[dt],10):typeof it.uint64Data[dt]=="number"?ut.uint64Data[dt]=it.uint64Data[dt]:typeof it.uint64Data[dt]=="object"&&(ut.uint64Data[dt]=new ct.LongBits(it.uint64Data[dt].low>>>0,it.uint64Data[dt].high>>>0).toNumber(!0))}return ut},at.toObject=function(it,ut){ut||(ut={});var dt={};if((ut.arrays||ut.defaults)&&(dt.dims=[],dt.floatData=[],dt.int32Data=[],dt.stringData=[],dt.int64Data=[],dt.doubleData=[],dt.uint64Data=[],dt.externalData=[]),ut.defaults&&(dt.dataType=0,dt.segment=null,dt.name="",ut.bytes===String?dt.rawData="":(dt.rawData=[],ut.bytes!==Array&&(dt.rawData=ct.newBuffer(dt.rawData))),dt.docString="",dt.dataLocation=ut.enums===String?"DEFAULT":0),it.dims&&it.dims.length){dt.dims=[];for(var ht=0;ht<it.dims.length;++ht)typeof it.dims[ht]=="number"?dt.dims[ht]=ut.longs===String?String(it.dims[ht]):it.dims[ht]:dt.dims[ht]=ut.longs===String?ct.Long.prototype.toString.call(it.dims[ht]):ut.longs===Number?new ct.LongBits(it.dims[ht].low>>>0,it.dims[ht].high>>>0).toNumber():it.dims[ht]}if(it.dataType!=null&&it.hasOwnProperty("dataType")&&(dt.dataType=it.dataType),it.segment!=null&&it.hasOwnProperty("segment")&&(dt.segment=lt.onnx.TensorProto.Segment.toObject(it.segment,ut)),it.floatData&&it.floatData.length)for(dt.floatData=[],ht=0;ht<it.floatData.length;++ht)dt.floatData[ht]=ut.json&&!isFinite(it.floatData[ht])?String(it.floatData[ht]):it.floatData[ht];if(it.int32Data&&it.int32Data.length)for(dt.int32Data=[],ht=0;ht<it.int32Data.length;++ht)dt.int32Data[ht]=it.int32Data[ht];if(it.stringData&&it.stringData.length)for(dt.stringData=[],ht=0;ht<it.stringData.length;++ht)dt.stringData[ht]=ut.bytes===String?ct.base64.encode(it.stringData[ht],0,it.stringData[ht].length):ut.bytes===Array?Array.prototype.slice.call(it.stringData[ht]):it.stringData[ht];if(it.int64Data&&it.int64Data.length)for(dt.int64Data=[],ht=0;ht<it.int64Data.length;++ht)typeof it.int64Data[ht]=="number"?dt.int64Data[ht]=ut.longs===String?String(it.int64Data[ht]):it.int64Data[ht]:dt.int64Data[ht]=ut.longs===String?ct.Long.prototype.toString.call(it.int64Data[ht]):ut.longs===Number?new ct.LongBits(it.int64Data[ht].low>>>0,it.int64Data[ht].high>>>0).toNumber():it.int64Data[ht];if(it.name!=null&&it.hasOwnProperty("name")&&(dt.name=it.name),it.rawData!=null&&it.hasOwnProperty("rawData")&&(dt.rawData=ut.bytes===String?ct.base64.encode(it.rawData,0,it.rawData.length):ut.bytes===Array?Array.prototype.slice.call(it.rawData):it.rawData),it.doubleData&&it.doubleData.length)for(dt.doubleData=[],ht=0;ht<it.doubleData.length;++ht)dt.doubleData[ht]=ut.json&&!isFinite(it.doubleData[ht])?String(it.doubleData[ht]):it.doubleData[ht];if(it.uint64Data&&it.uint64Data.length)for(dt.uint64Data=[],ht=0;ht<it.uint64Data.length;++ht)typeof it.uint64Data[ht]=="number"?dt.uint64Data[ht]=ut.longs===String?String(it.uint64Data[ht]):it.uint64Data[ht]:dt.uint64Data[ht]=ut.longs===String?ct.Long.prototype.toString.call(it.uint64Data[ht]):ut.longs===Number?new ct.LongBits(it.uint64Data[ht].low>>>0,it.uint64Data[ht].high>>>0).toNumber(!0):it.uint64Data[ht];if(it.docString!=null&&it.hasOwnProperty("docString")&&(dt.docString=it.docString),it.externalData&&it.externalData.length)for(dt.externalData=[],ht=0;ht<it.externalData.length;++ht)dt.externalData[ht]=lt.onnx.StringStringEntryProto.toObject(it.externalData[ht],ut);return it.dataLocation!=null&&it.hasOwnProperty("dataLocation")&&(dt.dataLocation=ut.enums===String?lt.onnx.TensorProto.DataLocation[it.dataLocation]:it.dataLocation),dt},at.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},at.DataType=function(){var it={},ut=Object.create(it);return ut[it[0]="UNDEFINED"]=0,ut[it[1]="FLOAT"]=1,ut[it[2]="UINT8"]=2,ut[it[3]="INT8"]=3,ut[it[4]="UINT16"]=4,ut[it[5]="INT16"]=5,ut[it[6]="INT32"]=6,ut[it[7]="INT64"]=7,ut[it[8]="STRING"]=8,ut[it[9]="BOOL"]=9,ut[it[10]="FLOAT16"]=10,ut[it[11]="DOUBLE"]=11,ut[it[12]="UINT32"]=12,ut[it[13]="UINT64"]=13,ut[it[14]="COMPLEX64"]=14,ut[it[15]="COMPLEX128"]=15,ut[it[16]="BFLOAT16"]=16,ut}(),at.Segment=function(){function it(ut){if(ut)for(var dt=Object.keys(ut),ht=0;ht<dt.length;++ht)ut[dt[ht]]!=null&&(this[dt[ht]]=ut[dt[ht]])}return it.prototype.begin=ct.Long?ct.Long.fromBits(0,0,!1):0,it.prototype.end=ct.Long?ct.Long.fromBits(0,0,!1):0,it.create=function(ut){return new it(ut)},it.encode=function(ut,dt){return dt||(dt=st.create()),ut.begin!=null&&ut.hasOwnProperty("begin")&&dt.uint32(8).int64(ut.begin),ut.end!=null&&ut.hasOwnProperty("end")&&dt.uint32(16).int64(ut.end),dt},it.encodeDelimited=function(ut,dt){return this.encode(ut,dt).ldelim()},it.decode=function(ut,dt){ut instanceof ot||(ut=ot.create(ut));for(var ht=dt===void 0?ut.len:ut.pos+dt,ft=new lt.onnx.TensorProto.Segment;ut.pos<ht;){var pt=ut.uint32();switch(pt>>>3){case 1:ft.begin=ut.int64();break;case 2:ft.end=ut.int64();break;default:ut.skipType(7&pt)}}return ft},it.decodeDelimited=function(ut){return ut instanceof ot||(ut=new ot(ut)),this.decode(ut,ut.uint32())},it.verify=function(ut){return typeof ut!="object"||ut===null?"object expected":ut.begin!=null&&ut.hasOwnProperty("begin")&&!(ct.isInteger(ut.begin)||ut.begin&&ct.isInteger(ut.begin.low)&&ct.isInteger(ut.begin.high))?"begin: integer|Long expected":ut.end!=null&&ut.hasOwnProperty("end")&&!(ct.isInteger(ut.end)||ut.end&&ct.isInteger(ut.end.low)&&ct.isInteger(ut.end.high))?"end: integer|Long expected":null},it.fromObject=function(ut){if(ut instanceof lt.onnx.TensorProto.Segment)return ut;var dt=new lt.onnx.TensorProto.Segment;return ut.begin!=null&&(ct.Long?(dt.begin=ct.Long.fromValue(ut.begin)).unsigned=!1:typeof ut.begin=="string"?dt.begin=parseInt(ut.begin,10):typeof ut.begin=="number"?dt.begin=ut.begin:typeof ut.begin=="object"&&(dt.begin=new ct.LongBits(ut.begin.low>>>0,ut.begin.high>>>0).toNumber())),ut.end!=null&&(ct.Long?(dt.end=ct.Long.fromValue(ut.end)).unsigned=!1:typeof ut.end=="string"?dt.end=parseInt(ut.end,10):typeof ut.end=="number"?dt.end=ut.end:typeof ut.end=="object"&&(dt.end=new ct.LongBits(ut.end.low>>>0,ut.end.high>>>0).toNumber())),dt},it.toObject=function(ut,dt){dt||(dt={});var ht={};if(dt.defaults){if(ct.Long){var ft=new ct.Long(0,0,!1);ht.begin=dt.longs===String?ft.toString():dt.longs===Number?ft.toNumber():ft}else ht.begin=dt.longs===String?"0":0;ct.Long?(ft=new ct.Long(0,0,!1),ht.end=dt.longs===String?ft.toString():dt.longs===Number?ft.toNumber():ft):ht.end=dt.longs===String?"0":0}return ut.begin!=null&&ut.hasOwnProperty("begin")&&(typeof ut.begin=="number"?ht.begin=dt.longs===String?String(ut.begin):ut.begin:ht.begin=dt.longs===String?ct.Long.prototype.toString.call(ut.begin):dt.longs===Number?new ct.LongBits(ut.begin.low>>>0,ut.begin.high>>>0).toNumber():ut.begin),ut.end!=null&&ut.hasOwnProperty("end")&&(typeof ut.end=="number"?ht.end=dt.longs===String?String(ut.end):ut.end:ht.end=dt.longs===String?ct.Long.prototype.toString.call(ut.end):dt.longs===Number?new ct.LongBits(ut.end.low>>>0,ut.end.high>>>0).toNumber():ut.end),ht},it.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},it}(),at.DataLocation=function(){var it={},ut=Object.create(it);return ut[it[0]="DEFAULT"]=0,ut[it[1]="EXTERNAL"]=1,ut}(),at}(),nt.TensorShapeProto=function(){function at(it){if(this.dim=[],it)for(var ut=Object.keys(it),dt=0;dt<ut.length;++dt)it[ut[dt]]!=null&&(this[ut[dt]]=it[ut[dt]])}return at.prototype.dim=ct.emptyArray,at.create=function(it){return new at(it)},at.encode=function(it,ut){if(ut||(ut=st.create()),it.dim!=null&&it.dim.length)for(var dt=0;dt<it.dim.length;++dt)lt.onnx.TensorShapeProto.Dimension.encode(it.dim[dt],ut.uint32(10).fork()).ldelim();return ut},at.encodeDelimited=function(it,ut){return this.encode(it,ut).ldelim()},at.decode=function(it,ut){it instanceof ot||(it=ot.create(it));for(var dt=ut===void 0?it.len:it.pos+ut,ht=new lt.onnx.TensorShapeProto;it.pos<dt;){var ft=it.uint32();ft>>>3==1?(ht.dim&&ht.dim.length||(ht.dim=[]),ht.dim.push(lt.onnx.TensorShapeProto.Dimension.decode(it,it.uint32()))):it.skipType(7&ft)}return ht},at.decodeDelimited=function(it){return it instanceof ot||(it=new ot(it)),this.decode(it,it.uint32())},at.verify=function(it){if(typeof it!="object"||it===null)return"object expected";if(it.dim!=null&&it.hasOwnProperty("dim")){if(!Array.isArray(it.dim))return"dim: array expected";for(var ut=0;ut<it.dim.length;++ut){var dt=lt.onnx.TensorShapeProto.Dimension.verify(it.dim[ut]);if(dt)return"dim."+dt}}return null},at.fromObject=function(it){if(it instanceof lt.onnx.TensorShapeProto)return it;var ut=new lt.onnx.TensorShapeProto;if(it.dim){if(!Array.isArray(it.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");ut.dim=[];for(var dt=0;dt<it.dim.length;++dt){if(typeof it.dim[dt]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");ut.dim[dt]=lt.onnx.TensorShapeProto.Dimension.fromObject(it.dim[dt])}}return ut},at.toObject=function(it,ut){ut||(ut={});var dt={};if((ut.arrays||ut.defaults)&&(dt.dim=[]),it.dim&&it.dim.length){dt.dim=[];for(var ht=0;ht<it.dim.length;++ht)dt.dim[ht]=lt.onnx.TensorShapeProto.Dimension.toObject(it.dim[ht],ut)}return dt},at.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},at.Dimension=function(){function it(dt){if(dt)for(var ht=Object.keys(dt),ft=0;ft<ht.length;++ft)dt[ht[ft]]!=null&&(this[ht[ft]]=dt[ht[ft]])}var ut;return it.prototype.dimValue=ct.Long?ct.Long.fromBits(0,0,!1):0,it.prototype.dimParam="",it.prototype.denotation="",Object.defineProperty(it.prototype,"value",{get:ct.oneOfGetter(ut=["dimValue","dimParam"]),set:ct.oneOfSetter(ut)}),it.create=function(dt){return new it(dt)},it.encode=function(dt,ht){return ht||(ht=st.create()),dt.dimValue!=null&&dt.hasOwnProperty("dimValue")&&ht.uint32(8).int64(dt.dimValue),dt.dimParam!=null&&dt.hasOwnProperty("dimParam")&&ht.uint32(18).string(dt.dimParam),dt.denotation!=null&&dt.hasOwnProperty("denotation")&&ht.uint32(26).string(dt.denotation),ht},it.encodeDelimited=function(dt,ht){return this.encode(dt,ht).ldelim()},it.decode=function(dt,ht){dt instanceof ot||(dt=ot.create(dt));for(var ft=ht===void 0?dt.len:dt.pos+ht,pt=new lt.onnx.TensorShapeProto.Dimension;dt.pos<ft;){var mt=dt.uint32();switch(mt>>>3){case 1:pt.dimValue=dt.int64();break;case 2:pt.dimParam=dt.string();break;case 3:pt.denotation=dt.string();break;default:dt.skipType(7&mt)}}return pt},it.decodeDelimited=function(dt){return dt instanceof ot||(dt=new ot(dt)),this.decode(dt,dt.uint32())},it.verify=function(dt){if(typeof dt!="object"||dt===null)return"object expected";var ht={};if(dt.dimValue!=null&&dt.hasOwnProperty("dimValue")&&(ht.value=1,!(ct.isInteger(dt.dimValue)||dt.dimValue&&ct.isInteger(dt.dimValue.low)&&ct.isInteger(dt.dimValue.high))))return"dimValue: integer|Long expected";if(dt.dimParam!=null&&dt.hasOwnProperty("dimParam")){if(ht.value===1)return"value: multiple values";if(ht.value=1,!ct.isString(dt.dimParam))return"dimParam: string expected"}return dt.denotation!=null&&dt.hasOwnProperty("denotation")&&!ct.isString(dt.denotation)?"denotation: string expected":null},it.fromObject=function(dt){if(dt instanceof lt.onnx.TensorShapeProto.Dimension)return dt;var ht=new lt.onnx.TensorShapeProto.Dimension;return dt.dimValue!=null&&(ct.Long?(ht.dimValue=ct.Long.fromValue(dt.dimValue)).unsigned=!1:typeof dt.dimValue=="string"?ht.dimValue=parseInt(dt.dimValue,10):typeof dt.dimValue=="number"?ht.dimValue=dt.dimValue:typeof dt.dimValue=="object"&&(ht.dimValue=new ct.LongBits(dt.dimValue.low>>>0,dt.dimValue.high>>>0).toNumber())),dt.dimParam!=null&&(ht.dimParam=String(dt.dimParam)),dt.denotation!=null&&(ht.denotation=String(dt.denotation)),ht},it.toObject=function(dt,ht){ht||(ht={});var ft={};return ht.defaults&&(ft.denotation=""),dt.dimValue!=null&&dt.hasOwnProperty("dimValue")&&(typeof dt.dimValue=="number"?ft.dimValue=ht.longs===String?String(dt.dimValue):dt.dimValue:ft.dimValue=ht.longs===String?ct.Long.prototype.toString.call(dt.dimValue):ht.longs===Number?new ct.LongBits(dt.dimValue.low>>>0,dt.dimValue.high>>>0).toNumber():dt.dimValue,ht.oneofs&&(ft.value="dimValue")),dt.dimParam!=null&&dt.hasOwnProperty("dimParam")&&(ft.dimParam=dt.dimParam,ht.oneofs&&(ft.value="dimParam")),dt.denotation!=null&&dt.hasOwnProperty("denotation")&&(ft.denotation=dt.denotation),ft},it.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},it}(),at}(),nt.TypeProto=function(){function at(ut){if(ut)for(var dt=Object.keys(ut),ht=0;ht<dt.length;++ht)ut[dt[ht]]!=null&&(this[dt[ht]]=ut[dt[ht]])}var it;return at.prototype.tensorType=null,at.prototype.denotation="",Object.defineProperty(at.prototype,"value",{get:ct.oneOfGetter(it=["tensorType"]),set:ct.oneOfSetter(it)}),at.create=function(ut){return new at(ut)},at.encode=function(ut,dt){return dt||(dt=st.create()),ut.tensorType!=null&&ut.hasOwnProperty("tensorType")&&lt.onnx.TypeProto.Tensor.encode(ut.tensorType,dt.uint32(10).fork()).ldelim(),ut.denotation!=null&&ut.hasOwnProperty("denotation")&&dt.uint32(50).string(ut.denotation),dt},at.encodeDelimited=function(ut,dt){return this.encode(ut,dt).ldelim()},at.decode=function(ut,dt){ut instanceof ot||(ut=ot.create(ut));for(var ht=dt===void 0?ut.len:ut.pos+dt,ft=new lt.onnx.TypeProto;ut.pos<ht;){var pt=ut.uint32();switch(pt>>>3){case 1:ft.tensorType=lt.onnx.TypeProto.Tensor.decode(ut,ut.uint32());break;case 6:ft.denotation=ut.string();break;default:ut.skipType(7&pt)}}return ft},at.decodeDelimited=function(ut){return ut instanceof ot||(ut=new ot(ut)),this.decode(ut,ut.uint32())},at.verify=function(ut){if(typeof ut!="object"||ut===null)return"object expected";if(ut.tensorType!=null&&ut.hasOwnProperty("tensorType")){var dt=lt.onnx.TypeProto.Tensor.verify(ut.tensorType);if(dt)return"tensorType."+dt}return ut.denotation!=null&&ut.hasOwnProperty("denotation")&&!ct.isString(ut.denotation)?"denotation: string expected":null},at.fromObject=function(ut){if(ut instanceof lt.onnx.TypeProto)return ut;var dt=new lt.onnx.TypeProto;if(ut.tensorType!=null){if(typeof ut.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");dt.tensorType=lt.onnx.TypeProto.Tensor.fromObject(ut.tensorType)}return ut.denotation!=null&&(dt.denotation=String(ut.denotation)),dt},at.toObject=function(ut,dt){dt||(dt={});var ht={};return dt.defaults&&(ht.denotation=""),ut.tensorType!=null&&ut.hasOwnProperty("tensorType")&&(ht.tensorType=lt.onnx.TypeProto.Tensor.toObject(ut.tensorType,dt),dt.oneofs&&(ht.value="tensorType")),ut.denotation!=null&&ut.hasOwnProperty("denotation")&&(ht.denotation=ut.denotation),ht},at.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},at.Tensor=function(){function ut(dt){if(dt)for(var ht=Object.keys(dt),ft=0;ft<ht.length;++ft)dt[ht[ft]]!=null&&(this[ht[ft]]=dt[ht[ft]])}return ut.prototype.elemType=0,ut.prototype.shape=null,ut.create=function(dt){return new ut(dt)},ut.encode=function(dt,ht){return ht||(ht=st.create()),dt.elemType!=null&&dt.hasOwnProperty("elemType")&&ht.uint32(8).int32(dt.elemType),dt.shape!=null&&dt.hasOwnProperty("shape")&&lt.onnx.TensorShapeProto.encode(dt.shape,ht.uint32(18).fork()).ldelim(),ht},ut.encodeDelimited=function(dt,ht){return this.encode(dt,ht).ldelim()},ut.decode=function(dt,ht){dt instanceof ot||(dt=ot.create(dt));for(var ft=ht===void 0?dt.len:dt.pos+ht,pt=new lt.onnx.TypeProto.Tensor;dt.pos<ft;){var mt=dt.uint32();switch(mt>>>3){case 1:pt.elemType=dt.int32();break;case 2:pt.shape=lt.onnx.TensorShapeProto.decode(dt,dt.uint32());break;default:dt.skipType(7&mt)}}return pt},ut.decodeDelimited=function(dt){return dt instanceof ot||(dt=new ot(dt)),this.decode(dt,dt.uint32())},ut.verify=function(dt){if(typeof dt!="object"||dt===null)return"object expected";if(dt.elemType!=null&&dt.hasOwnProperty("elemType")&&!ct.isInteger(dt.elemType))return"elemType: integer expected";if(dt.shape!=null&&dt.hasOwnProperty("shape")){var ht=lt.onnx.TensorShapeProto.verify(dt.shape);if(ht)return"shape."+ht}return null},ut.fromObject=function(dt){if(dt instanceof lt.onnx.TypeProto.Tensor)return dt;var ht=new lt.onnx.TypeProto.Tensor;if(dt.elemType!=null&&(ht.elemType=0|dt.elemType),dt.shape!=null){if(typeof dt.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");ht.shape=lt.onnx.TensorShapeProto.fromObject(dt.shape)}return ht},ut.toObject=function(dt,ht){ht||(ht={});var ft={};return ht.defaults&&(ft.elemType=0,ft.shape=null),dt.elemType!=null&&dt.hasOwnProperty("elemType")&&(ft.elemType=dt.elemType),dt.shape!=null&&dt.hasOwnProperty("shape")&&(ft.shape=lt.onnx.TensorShapeProto.toObject(dt.shape,ht)),ft},ut.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},ut}(),at}(),nt.OperatorSetIdProto=function(){function at(it){if(it)for(var ut=Object.keys(it),dt=0;dt<ut.length;++dt)it[ut[dt]]!=null&&(this[ut[dt]]=it[ut[dt]])}return at.prototype.domain="",at.prototype.version=ct.Long?ct.Long.fromBits(0,0,!1):0,at.create=function(it){return new at(it)},at.encode=function(it,ut){return ut||(ut=st.create()),it.domain!=null&&it.hasOwnProperty("domain")&&ut.uint32(10).string(it.domain),it.version!=null&&it.hasOwnProperty("version")&&ut.uint32(16).int64(it.version),ut},at.encodeDelimited=function(it,ut){return this.encode(it,ut).ldelim()},at.decode=function(it,ut){it instanceof ot||(it=ot.create(it));for(var dt=ut===void 0?it.len:it.pos+ut,ht=new lt.onnx.OperatorSetIdProto;it.pos<dt;){var ft=it.uint32();switch(ft>>>3){case 1:ht.domain=it.string();break;case 2:ht.version=it.int64();break;default:it.skipType(7&ft)}}return ht},at.decodeDelimited=function(it){return it instanceof ot||(it=new ot(it)),this.decode(it,it.uint32())},at.verify=function(it){return typeof it!="object"||it===null?"object expected":it.domain!=null&&it.hasOwnProperty("domain")&&!ct.isString(it.domain)?"domain: string expected":it.version!=null&&it.hasOwnProperty("version")&&!(ct.isInteger(it.version)||it.version&&ct.isInteger(it.version.low)&&ct.isInteger(it.version.high))?"version: integer|Long expected":null},at.fromObject=function(it){if(it instanceof lt.onnx.OperatorSetIdProto)return it;var ut=new lt.onnx.OperatorSetIdProto;return it.domain!=null&&(ut.domain=String(it.domain)),it.version!=null&&(ct.Long?(ut.version=ct.Long.fromValue(it.version)).unsigned=!1:typeof it.version=="string"?ut.version=parseInt(it.version,10):typeof it.version=="number"?ut.version=it.version:typeof it.version=="object"&&(ut.version=new ct.LongBits(it.version.low>>>0,it.version.high>>>0).toNumber())),ut},at.toObject=function(it,ut){ut||(ut={});var dt={};if(ut.defaults)if(dt.domain="",ct.Long){var ht=new ct.Long(0,0,!1);dt.version=ut.longs===String?ht.toString():ut.longs===Number?ht.toNumber():ht}else dt.version=ut.longs===String?"0":0;return it.domain!=null&&it.hasOwnProperty("domain")&&(dt.domain=it.domain),it.version!=null&&it.hasOwnProperty("version")&&(typeof it.version=="number"?dt.version=ut.longs===String?String(it.version):it.version:dt.version=ut.longs===String?ct.Long.prototype.toString.call(it.version):ut.longs===Number?new ct.LongBits(it.version.low>>>0,it.version.high>>>0).toNumber():it.version),dt},at.prototype.toJSON=function(){return this.constructor.toObject(this,rt.util.toJSONOptions)},at}(),nt),b.exports=lt},2100:(b,$,_e)=>{b.exports=_e(9482)},9482:(b,$,_e)=>{var et=$;function tt(){et.util._configure(),et.Writer._configure(et.BufferWriter),et.Reader._configure(et.BufferReader)}et.build="minimal",et.Writer=_e(1173),et.BufferWriter=_e(3155),et.Reader=_e(1408),et.BufferReader=_e(593),et.util=_e(9693),et.rpc=_e(5994),et.roots=_e(5054),et.configure=tt,tt()},1408:(b,$,_e)=>{b.exports=st;var et,tt=_e(9693),nt=tt.LongBits,rt=tt.utf8;function ot(ht,ft){return RangeError("index out of range: "+ht.pos+" + "+(ft||1)+" > "+ht.len)}function st(ht){this.buf=ht,this.pos=0,this.len=ht.length}var ct,lt=typeof Uint8Array<"u"?function(ht){if(ht instanceof Uint8Array||Array.isArray(ht))return new st(ht);throw Error("illegal buffer")}:function(ht){if(Array.isArray(ht))return new st(ht);throw Error("illegal buffer")},at=function(){return tt.Buffer?function(ht){return(st.create=function(ft){return tt.Buffer.isBuffer(ft)?new et(ft):lt(ft)})(ht)}:lt};function it(){var ht=new nt(0,0),ft=0;if(!(this.len-this.pos>4)){for(;ft<3;++ft){if(this.pos>=this.len)throw ot(this);if(ht.lo=(ht.lo|(127&this.buf[this.pos])<<7*ft)>>>0,this.buf[this.pos++]<128)return ht}return ht.lo=(ht.lo|(127&this.buf[this.pos++])<<7*ft)>>>0,ht}for(;ft<4;++ft)if(ht.lo=(ht.lo|(127&this.buf[this.pos])<<7*ft)>>>0,this.buf[this.pos++]<128)return ht;if(ht.lo=(ht.lo|(127&this.buf[this.pos])<<28)>>>0,ht.hi=(ht.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return ht;if(ft=0,this.len-this.pos>4){for(;ft<5;++ft)if(ht.hi=(ht.hi|(127&this.buf[this.pos])<<7*ft+3)>>>0,this.buf[this.pos++]<128)return ht}else for(;ft<5;++ft){if(this.pos>=this.len)throw ot(this);if(ht.hi=(ht.hi|(127&this.buf[this.pos])<<7*ft+3)>>>0,this.buf[this.pos++]<128)return ht}throw Error("invalid varint encoding")}function ut(ht,ft){return(ht[ft-4]|ht[ft-3]<<8|ht[ft-2]<<16|ht[ft-1]<<24)>>>0}function dt(){if(this.pos+8>this.len)throw ot(this,8);return new nt(ut(this.buf,this.pos+=4),ut(this.buf,this.pos+=4))}st.create=at(),st.prototype._slice=tt.Array.prototype.subarray||tt.Array.prototype.slice,st.prototype.uint32=(ct=4294967295,function(){if(ct=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(ct=(ct|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(ct=(ct|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(ct=(ct|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(ct=(ct|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return ct;if((this.pos+=5)>this.len)throw this.pos=this.len,ot(this,10);return ct}),st.prototype.int32=function(){return 0|this.uint32()},st.prototype.sint32=function(){var ht=this.uint32();return ht>>>1^-(1&ht)|0},st.prototype.bool=function(){return this.uint32()!==0},st.prototype.fixed32=function(){if(this.pos+4>this.len)throw ot(this,4);return ut(this.buf,this.pos+=4)},st.prototype.sfixed32=function(){if(this.pos+4>this.len)throw ot(this,4);return 0|ut(this.buf,this.pos+=4)},st.prototype.float=function(){if(this.pos+4>this.len)throw ot(this,4);var ht=tt.float.readFloatLE(this.buf,this.pos);return this.pos+=4,ht},st.prototype.double=function(){if(this.pos+8>this.len)throw ot(this,4);var ht=tt.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,ht},st.prototype.bytes=function(){var ht=this.uint32(),ft=this.pos,pt=this.pos+ht;if(pt>this.len)throw ot(this,ht);return this.pos+=ht,Array.isArray(this.buf)?this.buf.slice(ft,pt):ft===pt?new this.buf.constructor(0):this._slice.call(this.buf,ft,pt)},st.prototype.string=function(){var ht=this.bytes();return rt.read(ht,0,ht.length)},st.prototype.skip=function(ht){if(typeof ht=="number"){if(this.pos+ht>this.len)throw ot(this,ht);this.pos+=ht}else do if(this.pos>=this.len)throw ot(this);while(128&this.buf[this.pos++]);return this},st.prototype.skipType=function(ht){switch(ht){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(ht=7&this.uint32())!=4;)this.skipType(ht);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+ht+" at offset "+this.pos)}return this},st._configure=function(ht){et=ht,st.create=at(),et._configure();var ft=tt.Long?"toLong":"toNumber";tt.merge(st.prototype,{int64:function(){return it.call(this)[ft](!1)},uint64:function(){return it.call(this)[ft](!0)},sint64:function(){return it.call(this).zzDecode()[ft](!1)},fixed64:function(){return dt.call(this)[ft](!0)},sfixed64:function(){return dt.call(this)[ft](!1)}})}},593:(b,$,_e)=>{b.exports=nt;var et=_e(1408);(nt.prototype=Object.create(et.prototype)).constructor=nt;var tt=_e(9693);function nt(rt){et.call(this,rt)}nt._configure=function(){tt.Buffer&&(nt.prototype._slice=tt.Buffer.prototype.slice)},nt.prototype.string=function(){var rt=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+rt,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+rt,this.len))},nt._configure()},5054:b=>{b.exports={}},5994:(b,$,_e)=>{$.Service=_e(7948)},7948:(b,$,_e)=>{b.exports=tt;var et=_e(9693);function tt(nt,rt,ot){if(typeof nt!="function")throw TypeError("rpcImpl must be a function");et.EventEmitter.call(this),this.rpcImpl=nt,this.requestDelimited=!!rt,this.responseDelimited=!!ot}(tt.prototype=Object.create(et.EventEmitter.prototype)).constructor=tt,tt.prototype.rpcCall=function nt(rt,ot,st,ct,lt){if(!ct)throw TypeError("request must be specified");var at=this;if(!lt)return et.asPromise(nt,at,rt,ot,st,ct);if(at.rpcImpl)try{return at.rpcImpl(rt,ot[at.requestDelimited?"encodeDelimited":"encode"](ct).finish(),function(it,ut){if(it)return at.emit("error",it,rt),lt(it);if(ut!==null){if(!(ut instanceof st))try{ut=st[at.responseDelimited?"decodeDelimited":"decode"](ut)}catch(dt){return at.emit("error",dt,rt),lt(dt)}return at.emit("data",ut,rt),lt(null,ut)}at.end(!0)})}catch(it){return at.emit("error",it,rt),void setTimeout(function(){lt(it)},0)}else setTimeout(function(){lt(Error("already ended"))},0)},tt.prototype.end=function(nt){return this.rpcImpl&&(nt||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(b,$,_e)=>{b.exports=tt;var et=_e(9693);function tt(st,ct){this.lo=st>>>0,this.hi=ct>>>0}var nt=tt.zero=new tt(0,0);nt.toNumber=function(){return 0},nt.zzEncode=nt.zzDecode=function(){return this},nt.length=function(){return 1};var rt=tt.zeroHash="\0\0\0\0\0\0\0\0";tt.fromNumber=function(st){if(st===0)return nt;var ct=st<0;ct&&(st=-st);var lt=st>>>0,at=(st-lt)/4294967296>>>0;return ct&&(at=~at>>>0,lt=~lt>>>0,++lt>4294967295&&(lt=0,++at>4294967295&&(at=0))),new tt(lt,at)},tt.from=function(st){if(typeof st=="number")return tt.fromNumber(st);if(et.isString(st)){if(!et.Long)return tt.fromNumber(parseInt(st,10));st=et.Long.fromString(st)}return st.low||st.high?new tt(st.low>>>0,st.high>>>0):nt},tt.prototype.toNumber=function(st){if(!st&&this.hi>>>31){var ct=1+~this.lo>>>0,lt=~this.hi>>>0;return ct||(lt=lt+1>>>0),-(ct+4294967296*lt)}return this.lo+4294967296*this.hi},tt.prototype.toLong=function(st){return et.Long?new et.Long(0|this.lo,0|this.hi,!!st):{low:0|this.lo,high:0|this.hi,unsigned:!!st}};var ot=String.prototype.charCodeAt;tt.fromHash=function(st){return st===rt?nt:new tt((ot.call(st,0)|ot.call(st,1)<<8|ot.call(st,2)<<16|ot.call(st,3)<<24)>>>0,(ot.call(st,4)|ot.call(st,5)<<8|ot.call(st,6)<<16|ot.call(st,7)<<24)>>>0)},tt.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},tt.prototype.zzEncode=function(){var st=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^st)>>>0,this.lo=(this.lo<<1^st)>>>0,this},tt.prototype.zzDecode=function(){var st=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^st)>>>0,this.hi=(this.hi>>>1^st)>>>0,this},tt.prototype.length=function(){var st=this.lo,ct=(this.lo>>>28|this.hi<<4)>>>0,lt=this.hi>>>24;return lt===0?ct===0?st<16384?st<128?1:2:st<2097152?3:4:ct<16384?ct<128?5:6:ct<2097152?7:8:lt<128?9:10}},9693:function(b,$,_e){var et=$;function tt(rt,ot,st){for(var ct=Object.keys(ot),lt=0;lt<ct.length;++lt)rt[ct[lt]]!==void 0&&st||(rt[ct[lt]]=ot[ct[lt]]);return rt}function nt(rt){function ot(st,ct){if(!(this instanceof ot))return new ot(st,ct);Object.defineProperty(this,"message",{get:function(){return st}}),Error.captureStackTrace?Error.captureStackTrace(this,ot):Object.defineProperty(this,"stack",{value:new Error().stack||""}),ct&&tt(this,ct)}return(ot.prototype=Object.create(Error.prototype)).constructor=ot,Object.defineProperty(ot.prototype,"name",{get:function(){return rt}}),ot.prototype.toString=function(){return this.name+": "+this.message},ot}et.asPromise=_e(4537),et.base64=_e(7419),et.EventEmitter=_e(9211),et.float=_e(945),et.inquire=_e(7199),et.utf8=_e(4997),et.pool=_e(6662),et.LongBits=_e(1945),et.isNode=!!(_e.g!==void 0&&_e.g&&_e.g.process&&_e.g.process.versions&&_e.g.process.versions.node),et.global=et.isNode&&_e.g||typeof window<"u"&&window||typeof self<"u"&&self||this,et.emptyArray=Object.freeze?Object.freeze([]):[],et.emptyObject=Object.freeze?Object.freeze({}):{},et.isInteger=Number.isInteger||function(rt){return typeof rt=="number"&&isFinite(rt)&&Math.floor(rt)===rt},et.isString=function(rt){return typeof rt=="string"||rt instanceof String},et.isObject=function(rt){return rt&&typeof rt=="object"},et.isset=et.isSet=function(rt,ot){var st=rt[ot];return!(st==null||!rt.hasOwnProperty(ot))&&(typeof st!="object"||(Array.isArray(st)?st.length:Object.keys(st).length)>0)},et.Buffer=function(){try{var rt=et.inquire("buffer").Buffer;return rt.prototype.utf8Write?rt:null}catch{return null}}(),et._Buffer_from=null,et._Buffer_allocUnsafe=null,et.newBuffer=function(rt){return typeof rt=="number"?et.Buffer?et._Buffer_allocUnsafe(rt):new et.Array(rt):et.Buffer?et._Buffer_from(rt):typeof Uint8Array>"u"?rt:new Uint8Array(rt)},et.Array=typeof Uint8Array<"u"?Uint8Array:Array,et.Long=et.global.dcodeIO&&et.global.dcodeIO.Long||et.global.Long||et.inquire("long"),et.key2Re=/^true|false|0|1$/,et.key32Re=/^-?(?:0|[1-9][0-9]*)$/,et.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,et.longToHash=function(rt){return rt?et.LongBits.from(rt).toHash():et.LongBits.zeroHash},et.longFromHash=function(rt,ot){var st=et.LongBits.fromHash(rt);return et.Long?et.Long.fromBits(st.lo,st.hi,ot):st.toNumber(!!ot)},et.merge=tt,et.lcFirst=function(rt){return rt.charAt(0).toLowerCase()+rt.substring(1)},et.newError=nt,et.ProtocolError=nt("ProtocolError"),et.oneOfGetter=function(rt){for(var ot={},st=0;st<rt.length;++st)ot[rt[st]]=1;return function(){for(var ct=Object.keys(this),lt=ct.length-1;lt>-1;--lt)if(ot[ct[lt]]===1&&this[ct[lt]]!==void 0&&this[ct[lt]]!==null)return ct[lt]}},et.oneOfSetter=function(rt){return function(ot){for(var st=0;st<rt.length;++st)rt[st]!==ot&&delete this[rt[st]]}},et.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},et._configure=function(){var rt=et.Buffer;rt?(et._Buffer_from=rt.from!==Uint8Array.from&&rt.from||function(ot,st){return new rt(ot,st)},et._Buffer_allocUnsafe=rt.allocUnsafe||function(ot){return new rt(ot)}):et._Buffer_from=et._Buffer_allocUnsafe=null}},1173:(b,$,_e)=>{b.exports=at;var et,tt=_e(9693),nt=tt.LongBits,rt=tt.base64,ot=tt.utf8;function st(mt,gt,vt){this.fn=mt,this.len=gt,this.next=void 0,this.val=vt}function ct(){}function lt(mt){this.head=mt.head,this.tail=mt.tail,this.len=mt.len,this.next=mt.states}function at(){this.len=0,this.head=new st(ct,0,0),this.tail=this.head,this.states=null}var it=function(){return tt.Buffer?function(){return(at.create=function(){return new et})()}:function(){return new at}};function ut(mt,gt,vt){gt[vt]=255&mt}function dt(mt,gt){this.len=mt,this.next=void 0,this.val=gt}function ht(mt,gt,vt){for(;mt.hi;)gt[vt++]=127&mt.lo|128,mt.lo=(mt.lo>>>7|mt.hi<<25)>>>0,mt.hi>>>=7;for(;mt.lo>127;)gt[vt++]=127&mt.lo|128,mt.lo=mt.lo>>>7;gt[vt++]=mt.lo}function ft(mt,gt,vt){gt[vt]=255&mt,gt[vt+1]=mt>>>8&255,gt[vt+2]=mt>>>16&255,gt[vt+3]=mt>>>24}at.create=it(),at.alloc=function(mt){return new tt.Array(mt)},tt.Array!==Array&&(at.alloc=tt.pool(at.alloc,tt.Array.prototype.subarray)),at.prototype._push=function(mt,gt,vt){return this.tail=this.tail.next=new st(mt,gt,vt),this.len+=gt,this},dt.prototype=Object.create(st.prototype),dt.prototype.fn=function(mt,gt,vt){for(;mt>127;)gt[vt++]=127&mt|128,mt>>>=7;gt[vt]=mt},at.prototype.uint32=function(mt){return this.len+=(this.tail=this.tail.next=new dt((mt>>>=0)<128?1:mt<16384?2:mt<2097152?3:mt<268435456?4:5,mt)).len,this},at.prototype.int32=function(mt){return mt<0?this._push(ht,10,nt.fromNumber(mt)):this.uint32(mt)},at.prototype.sint32=function(mt){return this.uint32((mt<<1^mt>>31)>>>0)},at.prototype.uint64=function(mt){var gt=nt.from(mt);return this._push(ht,gt.length(),gt)},at.prototype.int64=at.prototype.uint64,at.prototype.sint64=function(mt){var gt=nt.from(mt).zzEncode();return this._push(ht,gt.length(),gt)},at.prototype.bool=function(mt){return this._push(ut,1,mt?1:0)},at.prototype.fixed32=function(mt){return this._push(ft,4,mt>>>0)},at.prototype.sfixed32=at.prototype.fixed32,at.prototype.fixed64=function(mt){var gt=nt.from(mt);return this._push(ft,4,gt.lo)._push(ft,4,gt.hi)},at.prototype.sfixed64=at.prototype.fixed64,at.prototype.float=function(mt){return this._push(tt.float.writeFloatLE,4,mt)},at.prototype.double=function(mt){return this._push(tt.float.writeDoubleLE,8,mt)};var pt=tt.Array.prototype.set?function(mt,gt,vt){gt.set(mt,vt)}:function(mt,gt,vt){for(var yt=0;yt<mt.length;++yt)gt[vt+yt]=mt[yt]};at.prototype.bytes=function(mt){var gt=mt.length>>>0;if(!gt)return this._push(ut,1,0);if(tt.isString(mt)){var vt=at.alloc(gt=rt.length(mt));rt.decode(mt,vt,0),mt=vt}return this.uint32(gt)._push(pt,gt,mt)},at.prototype.string=function(mt){var gt=ot.length(mt);return gt?this.uint32(gt)._push(ot.write,gt,mt):this._push(ut,1,0)},at.prototype.fork=function(){return this.states=new lt(this),this.head=this.tail=new st(ct,0,0),this.len=0,this},at.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new st(ct,0,0),this.len=0),this},at.prototype.ldelim=function(){var mt=this.head,gt=this.tail,vt=this.len;return this.reset().uint32(vt),vt&&(this.tail.next=mt.next,this.tail=gt,this.len+=vt),this},at.prototype.finish=function(){for(var mt=this.head.next,gt=this.constructor.alloc(this.len),vt=0;mt;)mt.fn(mt.val,gt,vt),vt+=mt.len,mt=mt.next;return gt},at._configure=function(mt){et=mt,at.create=it(),et._configure()}},3155:(b,$,_e)=>{b.exports=nt;var et=_e(1173);(nt.prototype=Object.create(et.prototype)).constructor=nt;var tt=_e(9693);function nt(){et.call(this)}function rt(ot,st,ct){ot.length<40?tt.utf8.write(ot,st,ct):st.utf8Write?st.utf8Write(ot,ct):st.write(ot,ct)}nt._configure=function(){nt.alloc=tt._Buffer_allocUnsafe,nt.writeBytesBuffer=tt.Buffer&&tt.Buffer.prototype instanceof Uint8Array&&tt.Buffer.prototype.set.name==="set"?function(ot,st,ct){st.set(ot,ct)}:function(ot,st,ct){if(ot.copy)ot.copy(st,ct,0,ot.length);else for(var lt=0;lt<ot.length;)st[ct++]=ot[lt++]}},nt.prototype.bytes=function(ot){tt.isString(ot)&&(ot=tt._Buffer_from(ot,"base64"));var st=ot.length>>>0;return this.uint32(st),st&&this._push(nt.writeBytesBuffer,st,ot),this},nt.prototype.string=function(ot){var st=tt.Buffer.byteLength(ot);return this.uint32(st),st&&this._push(rt,st,ot),this},nt._configure()},4154:b=>{b.exports=`"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};
`},7067:()=>{},1296:()=>{},760:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},2806:()=>{},6449:()=>{},2850:()=>{},5381:()=>{},5686:(b,$,_e)=>{_e.r($),_e.d($,{flatbuffers:()=>et});var et={};et.Offset,et.Table,et.SIZEOF_SHORT=2,et.SIZEOF_INT=4,et.FILE_IDENTIFIER_LENGTH=4,et.SIZE_PREFIX_LENGTH=4,et.Encoding={UTF8_BYTES:1,UTF16_STRING:2},et.int32=new Int32Array(2),et.float32=new Float32Array(et.int32.buffer),et.float64=new Float64Array(et.int32.buffer),et.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,et.Long=function(tt,nt){this.low=0|tt,this.high=0|nt},et.Long.create=function(tt,nt){return tt==0&&nt==0?et.Long.ZERO:new et.Long(tt,nt)},et.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},et.Long.prototype.equals=function(tt){return this.low==tt.low&&this.high==tt.high},et.Long.ZERO=new et.Long(0,0),et.Builder=function(tt){if(tt)nt=tt;else var nt=1024;this.bb=et.ByteBuffer.allocate(nt),this.space=nt,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},et.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},et.Builder.prototype.forceDefaults=function(tt){this.force_defaults=tt},et.Builder.prototype.dataBuffer=function(){return this.bb},et.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},et.Builder.prototype.prep=function(tt,nt){tt>this.minalign&&(this.minalign=tt);for(var rt=1+~(this.bb.capacity()-this.space+nt)&tt-1;this.space<rt+tt+nt;){var ot=this.bb.capacity();this.bb=et.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-ot}this.pad(rt)},et.Builder.prototype.pad=function(tt){for(var nt=0;nt<tt;nt++)this.bb.writeInt8(--this.space,0)},et.Builder.prototype.writeInt8=function(tt){this.bb.writeInt8(this.space-=1,tt)},et.Builder.prototype.writeInt16=function(tt){this.bb.writeInt16(this.space-=2,tt)},et.Builder.prototype.writeInt32=function(tt){this.bb.writeInt32(this.space-=4,tt)},et.Builder.prototype.writeInt64=function(tt){this.bb.writeInt64(this.space-=8,tt)},et.Builder.prototype.writeFloat32=function(tt){this.bb.writeFloat32(this.space-=4,tt)},et.Builder.prototype.writeFloat64=function(tt){this.bb.writeFloat64(this.space-=8,tt)},et.Builder.prototype.addInt8=function(tt){this.prep(1,0),this.writeInt8(tt)},et.Builder.prototype.addInt16=function(tt){this.prep(2,0),this.writeInt16(tt)},et.Builder.prototype.addInt32=function(tt){this.prep(4,0),this.writeInt32(tt)},et.Builder.prototype.addInt64=function(tt){this.prep(8,0),this.writeInt64(tt)},et.Builder.prototype.addFloat32=function(tt){this.prep(4,0),this.writeFloat32(tt)},et.Builder.prototype.addFloat64=function(tt){this.prep(8,0),this.writeFloat64(tt)},et.Builder.prototype.addFieldInt8=function(tt,nt,rt){(this.force_defaults||nt!=rt)&&(this.addInt8(nt),this.slot(tt))},et.Builder.prototype.addFieldInt16=function(tt,nt,rt){(this.force_defaults||nt!=rt)&&(this.addInt16(nt),this.slot(tt))},et.Builder.prototype.addFieldInt32=function(tt,nt,rt){(this.force_defaults||nt!=rt)&&(this.addInt32(nt),this.slot(tt))},et.Builder.prototype.addFieldInt64=function(tt,nt,rt){!this.force_defaults&&nt.equals(rt)||(this.addInt64(nt),this.slot(tt))},et.Builder.prototype.addFieldFloat32=function(tt,nt,rt){(this.force_defaults||nt!=rt)&&(this.addFloat32(nt),this.slot(tt))},et.Builder.prototype.addFieldFloat64=function(tt,nt,rt){(this.force_defaults||nt!=rt)&&(this.addFloat64(nt),this.slot(tt))},et.Builder.prototype.addFieldOffset=function(tt,nt,rt){(this.force_defaults||nt!=rt)&&(this.addOffset(nt),this.slot(tt))},et.Builder.prototype.addFieldStruct=function(tt,nt,rt){nt!=rt&&(this.nested(nt),this.slot(tt))},et.Builder.prototype.nested=function(tt){if(tt!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},et.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},et.Builder.prototype.slot=function(tt){this.vtable[tt]=this.offset()},et.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},et.Builder.growByteBuffer=function(tt){var nt=tt.capacity();if(3221225472&nt)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var rt=nt<<1,ot=et.ByteBuffer.allocate(rt);return ot.setPosition(rt-nt),ot.bytes().set(tt.bytes(),rt-nt),ot},et.Builder.prototype.addOffset=function(tt){this.prep(et.SIZEOF_INT,0),this.writeInt32(this.offset()-tt+et.SIZEOF_INT)},et.Builder.prototype.startObject=function(tt){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=tt;for(var nt=0;nt<tt;nt++)this.vtable[nt]=0;this.isNested=!0,this.object_start=this.offset()},et.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var tt=this.offset(),nt=this.vtable_in_use-1;nt>=0&&this.vtable[nt]==0;nt--);for(var rt=nt+1;nt>=0;nt--)this.addInt16(this.vtable[nt]!=0?tt-this.vtable[nt]:0);this.addInt16(tt-this.object_start);var ot=(rt+2)*et.SIZEOF_SHORT;this.addInt16(ot);var st=0,ct=this.space;e:for(nt=0;nt<this.vtables.length;nt++){var lt=this.bb.capacity()-this.vtables[nt];if(ot==this.bb.readInt16(lt)){for(var at=et.SIZEOF_SHORT;at<ot;at+=et.SIZEOF_SHORT)if(this.bb.readInt16(ct+at)!=this.bb.readInt16(lt+at))continue e;st=this.vtables[nt];break}}return st?(this.space=this.bb.capacity()-tt,this.bb.writeInt32(this.space,st-tt)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-tt,this.offset()-tt)),this.isNested=!1,tt},et.Builder.prototype.finish=function(tt,nt,rt){var ot=rt?et.SIZE_PREFIX_LENGTH:0;if(nt){var st=nt;if(this.prep(this.minalign,et.SIZEOF_INT+et.FILE_IDENTIFIER_LENGTH+ot),st.length!=et.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+et.FILE_IDENTIFIER_LENGTH);for(var ct=et.FILE_IDENTIFIER_LENGTH-1;ct>=0;ct--)this.writeInt8(st.charCodeAt(ct))}this.prep(this.minalign,et.SIZEOF_INT+ot),this.addOffset(tt),ot&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},et.Builder.prototype.finishSizePrefixed=function(tt,nt){this.finish(tt,nt,!0)},et.Builder.prototype.requiredField=function(tt,nt){var rt=this.bb.capacity()-tt,ot=rt-this.bb.readInt32(rt);if(this.bb.readInt16(ot+nt)==0)throw new Error("FlatBuffers: field "+nt+" must be set")},et.Builder.prototype.startVector=function(tt,nt,rt){this.notNested(),this.vector_num_elems=nt,this.prep(et.SIZEOF_INT,tt*nt),this.prep(rt,tt*nt)},et.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},et.Builder.prototype.createString=function(tt){if(tt instanceof Uint8Array)var nt=tt;else{nt=[];for(var rt=0;rt<tt.length;){var ot,st=tt.charCodeAt(rt++);(ot=st<55296||st>=56320?st:(st<<10)+tt.charCodeAt(rt++)+-56613888)<128?nt.push(ot):(ot<2048?nt.push(ot>>6&31|192):(ot<65536?nt.push(ot>>12&15|224):nt.push(ot>>18&7|240,ot>>12&63|128),nt.push(ot>>6&63|128)),nt.push(63&ot|128))}}this.addInt8(0),this.startVector(1,nt.length,1),this.bb.setPosition(this.space-=nt.length),rt=0;for(var ct=this.space,lt=this.bb.bytes();rt<nt.length;rt++)lt[ct++]=nt[rt];return this.endVector()},et.Builder.prototype.createLong=function(tt,nt){return et.Long.create(tt,nt)},et.ByteBuffer=function(tt){this.bytes_=tt,this.position_=0},et.ByteBuffer.allocate=function(tt){return new et.ByteBuffer(new Uint8Array(tt))},et.ByteBuffer.prototype.clear=function(){this.position_=0},et.ByteBuffer.prototype.bytes=function(){return this.bytes_},et.ByteBuffer.prototype.position=function(){return this.position_},et.ByteBuffer.prototype.setPosition=function(tt){this.position_=tt},et.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},et.ByteBuffer.prototype.readInt8=function(tt){return this.readUint8(tt)<<24>>24},et.ByteBuffer.prototype.readUint8=function(tt){return this.bytes_[tt]},et.ByteBuffer.prototype.readInt16=function(tt){return this.readUint16(tt)<<16>>16},et.ByteBuffer.prototype.readUint16=function(tt){return this.bytes_[tt]|this.bytes_[tt+1]<<8},et.ByteBuffer.prototype.readInt32=function(tt){return this.bytes_[tt]|this.bytes_[tt+1]<<8|this.bytes_[tt+2]<<16|this.bytes_[tt+3]<<24},et.ByteBuffer.prototype.readUint32=function(tt){return this.readInt32(tt)>>>0},et.ByteBuffer.prototype.readInt64=function(tt){return new et.Long(this.readInt32(tt),this.readInt32(tt+4))},et.ByteBuffer.prototype.readUint64=function(tt){return new et.Long(this.readUint32(tt),this.readUint32(tt+4))},et.ByteBuffer.prototype.readFloat32=function(tt){return et.int32[0]=this.readInt32(tt),et.float32[0]},et.ByteBuffer.prototype.readFloat64=function(tt){return et.int32[et.isLittleEndian?0:1]=this.readInt32(tt),et.int32[et.isLittleEndian?1:0]=this.readInt32(tt+4),et.float64[0]},et.ByteBuffer.prototype.writeInt8=function(tt,nt){this.bytes_[tt]=nt},et.ByteBuffer.prototype.writeUint8=function(tt,nt){this.bytes_[tt]=nt},et.ByteBuffer.prototype.writeInt16=function(tt,nt){this.bytes_[tt]=nt,this.bytes_[tt+1]=nt>>8},et.ByteBuffer.prototype.writeUint16=function(tt,nt){this.bytes_[tt]=nt,this.bytes_[tt+1]=nt>>8},et.ByteBuffer.prototype.writeInt32=function(tt,nt){this.bytes_[tt]=nt,this.bytes_[tt+1]=nt>>8,this.bytes_[tt+2]=nt>>16,this.bytes_[tt+3]=nt>>24},et.ByteBuffer.prototype.writeUint32=function(tt,nt){this.bytes_[tt]=nt,this.bytes_[tt+1]=nt>>8,this.bytes_[tt+2]=nt>>16,this.bytes_[tt+3]=nt>>24},et.ByteBuffer.prototype.writeInt64=function(tt,nt){this.writeInt32(tt,nt.low),this.writeInt32(tt+4,nt.high)},et.ByteBuffer.prototype.writeUint64=function(tt,nt){this.writeUint32(tt,nt.low),this.writeUint32(tt+4,nt.high)},et.ByteBuffer.prototype.writeFloat32=function(tt,nt){et.float32[0]=nt,this.writeInt32(tt,et.int32[0])},et.ByteBuffer.prototype.writeFloat64=function(tt,nt){et.float64[0]=nt,this.writeInt32(tt,et.int32[et.isLittleEndian?0:1]),this.writeInt32(tt+4,et.int32[et.isLittleEndian?1:0])},et.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+et.SIZEOF_INT+et.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var tt="",nt=0;nt<et.FILE_IDENTIFIER_LENGTH;nt++)tt+=String.fromCharCode(this.readInt8(this.position_+et.SIZEOF_INT+nt));return tt},et.ByteBuffer.prototype.__offset=function(tt,nt){var rt=tt-this.readInt32(tt);return nt<this.readInt16(rt)?this.readInt16(rt+nt):0},et.ByteBuffer.prototype.__union=function(tt,nt){return tt.bb_pos=nt+this.readInt32(nt),tt.bb=this,tt},et.ByteBuffer.prototype.__string=function(tt,nt){tt+=this.readInt32(tt);var rt=this.readInt32(tt),ot="",st=0;if(tt+=et.SIZEOF_INT,nt===et.Encoding.UTF8_BYTES)return this.bytes_.subarray(tt,tt+rt);for(;st<rt;){var ct,lt=this.readUint8(tt+st++);if(lt<192)ct=lt;else{var at=this.readUint8(tt+st++);if(lt<224)ct=(31&lt)<<6|63&at;else{var it=this.readUint8(tt+st++);ct=lt<240?(15&lt)<<12|(63&at)<<6|63&it:(7&lt)<<18|(63&at)<<12|(63&it)<<6|63&this.readUint8(tt+st++)}}ct<65536?ot+=String.fromCharCode(ct):(ct-=65536,ot+=String.fromCharCode(55296+(ct>>10),56320+(1023&ct)))}return ot},et.ByteBuffer.prototype.__indirect=function(tt){return tt+this.readInt32(tt)},et.ByteBuffer.prototype.__vector=function(tt){return tt+this.readInt32(tt)+et.SIZEOF_INT},et.ByteBuffer.prototype.__vector_len=function(tt){return this.readInt32(tt+this.readInt32(tt))},et.ByteBuffer.prototype.__has_identifier=function(tt){if(tt.length!=et.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+et.FILE_IDENTIFIER_LENGTH);for(var nt=0;nt<et.FILE_IDENTIFIER_LENGTH;nt++)if(tt.charCodeAt(nt)!=this.readInt8(this.position_+et.SIZEOF_INT+nt))return!1;return!0},et.ByteBuffer.prototype.createLong=function(tt,nt){return et.Long.create(tt,nt)}}},__webpack_module_cache__={};function __webpack_require__(b){var $=__webpack_module_cache__[b];if($!==void 0)return $.exports;var _e=__webpack_module_cache__[b]={exports:{}};return __webpack_modules__[b].call(_e.exports,_e,_e.exports,__webpack_require__),_e.exports}__webpack_require__.n=b=>{var $=b&&b.__esModule?()=>b.default:()=>b;return __webpack_require__.d($,{a:$}),$},__webpack_require__.d=(b,$)=>{for(var _e in $)__webpack_require__.o($,_e)&&!__webpack_require__.o(b,_e)&&Object.defineProperty(b,_e,{enumerable:!0,get:$[_e]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=(b,$)=>Object.prototype.hasOwnProperty.call(b,$),__webpack_require__.r=b=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(1057);return __webpack_exports__})())})(ort_min);var ort_minExports=ort_min.exports,_common={},utils$2={};Object.defineProperty(utils$2,"__esModule",{value:!0});utils$2.encodeWAV=utils$2.arrayBufferToBase64=utils$2.minFramesForTargetMS=void 0;function minFramesForTargetMS(b,$,_e=16e3){return Math.ceil(b*_e/1e3/$)}utils$2.minFramesForTargetMS=minFramesForTargetMS;function arrayBufferToBase64(b){for(var $="",_e=new Uint8Array(b),et=_e.byteLength,tt=0;tt<et;tt++)$+=String.fromCharCode(_e[tt]);return btoa($)}utils$2.arrayBufferToBase64=arrayBufferToBase64;function encodeWAV(b,$=3,_e=16e3,et=1,tt=32){var nt=tt/8,rt=et*nt,ot=new ArrayBuffer(44+b.length*nt),st=new DataView(ot);return writeString(st,0,"RIFF"),st.setUint32(4,36+b.length*nt,!0),writeString(st,8,"WAVE"),writeString(st,12,"fmt "),st.setUint32(16,16,!0),st.setUint16(20,$,!0),st.setUint16(22,et,!0),st.setUint32(24,_e,!0),st.setUint32(28,_e*rt,!0),st.setUint16(32,rt,!0),st.setUint16(34,tt,!0),writeString(st,36,"data"),st.setUint32(40,b.length*nt,!0),$===1?floatTo16BitPCM(st,44,b):writeFloat32(st,44,b),ot}utils$2.encodeWAV=encodeWAV;function writeFloat32(b,$,_e){for(var et=0;et<_e.length;et++,$+=4)b.setFloat32($,_e[et],!0)}function floatTo16BitPCM(b,$,_e){for(var et=0;et<_e.length;et++,$+=2){var tt=Math.max(-1,Math.min(1,_e[et]));b.setInt16($,tt<0?tt*32768:tt*32767,!0)}}function writeString(b,$,_e){for(var et=0;et<_e.length;et++)b.setUint8($+et,_e.charCodeAt(et))}var nonRealTimeVad={},frameProcessor={},messages={};Object.defineProperty(messages,"__esModule",{value:!0});messages.Message=void 0;var Message;(function(b){b.AudioFrame="AUDIO_FRAME",b.SpeechStart="SPEECH_START",b.VADMisfire="VAD_MISFIRE",b.SpeechEnd="SPEECH_END",b.SpeechStop="SPEECH_STOP"})(Message||(messages.Message=Message={}));var logging={};(function(b){Object.defineProperty(b,"__esModule",{value:!0}),b.log=b.LOG_PREFIX=void 0,b.LOG_PREFIX="[VAD]";const $=["error","debug","warn"];function _e(tt){return(...nt)=>{console[tt](b.LOG_PREFIX,...nt)}}const et=$.reduce((tt,nt)=>(tt[nt]=_e(nt),tt),{});b.log=et})(logging);Object.defineProperty(frameProcessor,"__esModule",{value:!0});frameProcessor.FrameProcessor=frameProcessor.validateOptions=frameProcessor.defaultFrameProcessorOptions=void 0;const messages_1=messages,logging_1$2=logging,RECOMMENDED_FRAME_SAMPLES=[512,1024,1536];frameProcessor.defaultFrameProcessorOptions={positiveSpeechThreshold:.5,negativeSpeechThreshold:.5-.15,preSpeechPadFrames:1,redemptionFrames:8,frameSamples:1536,minSpeechFrames:3,submitUserSpeechOnPause:!1};function validateOptions(b){RECOMMENDED_FRAME_SAMPLES.includes(b.frameSamples)||logging_1$2.log.warn("You are using an unusual frame size"),(b.positiveSpeechThreshold<0||b.negativeSpeechThreshold>1)&&logging_1$2.log.error("postiveSpeechThreshold should be a number between 0 and 1"),(b.negativeSpeechThreshold<0||b.negativeSpeechThreshold>b.positiveSpeechThreshold)&&logging_1$2.log.error("negativeSpeechThreshold should be between 0 and postiveSpeechThreshold"),b.preSpeechPadFrames<0&&logging_1$2.log.error("preSpeechPadFrames should be positive"),b.redemptionFrames<0&&logging_1$2.log.error("preSpeechPadFrames should be positive")}frameProcessor.validateOptions=validateOptions;const concatArrays=b=>{const $=b.reduce((et,tt)=>(et.push(et.at(-1)+tt.length),et),[0]),_e=new Float32Array($.at(-1));return b.forEach((et,tt)=>{const nt=$[tt];_e.set(et,nt)}),_e};class FrameProcessor{constructor($,_e,et){this.modelProcessFunc=$,this.modelResetFunc=_e,this.options=et,this.speaking=!1,this.redemptionCounter=0,this.active=!1,this.reset=()=>{this.speaking=!1,this.audioBuffer=[],this.modelResetFunc(),this.redemptionCounter=0},this.pause=()=>(this.active=!1,this.options.submitUserSpeechOnPause?this.endSegment():(this.reset(),{})),this.resume=()=>{this.active=!0},this.endSegment=()=>{const tt=this.audioBuffer;this.audioBuffer=[];const nt=this.speaking;this.reset();const rt=tt.reduce((ot,st)=>ot+ +st.isSpeech,0);if(nt)if(rt>=this.options.minSpeechFrames){const ot=concatArrays(tt.map(st=>st.frame));return{msg:messages_1.Message.SpeechEnd,audio:ot}}else return{msg:messages_1.Message.VADMisfire};return{}},this.process=async tt=>{if(!this.active)return{};const nt=await this.modelProcessFunc(tt);if(this.audioBuffer.push({frame:tt,isSpeech:nt.isSpeech>=this.options.positiveSpeechThreshold}),nt.isSpeech>=this.options.positiveSpeechThreshold&&this.redemptionCounter&&(this.redemptionCounter=0),nt.isSpeech>=this.options.positiveSpeechThreshold&&!this.speaking)return this.speaking=!0,{probs:nt,msg:messages_1.Message.SpeechStart};if(nt.isSpeech<this.options.negativeSpeechThreshold&&this.speaking&&++this.redemptionCounter>=this.options.redemptionFrames){this.redemptionCounter=0,this.speaking=!1;const rt=this.audioBuffer;if(this.audioBuffer=[],rt.reduce((st,ct)=>st+ +ct.isSpeech,0)>=this.options.minSpeechFrames){const st=concatArrays(rt.map(ct=>ct.frame));return{probs:nt,msg:messages_1.Message.SpeechEnd,audio:st}}else return{probs:nt,msg:messages_1.Message.VADMisfire}}if(!this.speaking)for(;this.audioBuffer.length>this.options.preSpeechPadFrames;)this.audioBuffer.shift();return{probs:nt}},this.audioBuffer=[],this.reset()}}frameProcessor.FrameProcessor=FrameProcessor;var models={},_a;Object.defineProperty(models,"__esModule",{value:!0});models.Silero=void 0;const logging_1$1=logging;class Silero{constructor($,_e){this.ort=$,this.modelFetcher=_e,this.init=async()=>{logging_1$1.log.debug("initializing vad");const et=await this.modelFetcher();this._session=await this.ort.InferenceSession.create(et),this._sr=new this.ort.Tensor("int64",[16000n]),this.reset_state(),logging_1$1.log.debug("vad is initialized")},this.reset_state=()=>{const et=Array(128).fill(0);this._h=new this.ort.Tensor("float32",et,[2,1,64]),this._c=new this.ort.Tensor("float32",et,[2,1,64])},this.process=async et=>{const nt={input:new this.ort.Tensor("float32",et,[1,et.length]),h:this._h,c:this._c,sr:this._sr},rt=await this._session.run(nt);this._h=rt.hn,this._c=rt.cn;const[ot]=rt.output.data;return{notSpeech:1-ot,isSpeech:ot}}}}models.Silero=Silero;_a=Silero;Silero.new=async(b,$)=>{const _e=new _a(b,$);return await _e.init(),_e};var resampler={};Object.defineProperty(resampler,"__esModule",{value:!0});resampler.Resampler=void 0;const logging_1=logging;class Resampler{constructor($){this.options=$,this.process=_e=>{const et=[];for(this.fillInputBuffer(_e);this.hasEnoughDataForFrame();){const tt=this.generateOutputFrame();et.push(tt)}return et},this.stream=async function*(_e){for(this.fillInputBuffer(_e);this.hasEnoughDataForFrame();)yield this.generateOutputFrame()},$.nativeSampleRate<16e3&&logging_1.log.error("nativeSampleRate is too low. Should have 16000 = targetSampleRate <= nativeSampleRate"),this.inputBuffer=[]}fillInputBuffer($){for(const _e of $)this.inputBuffer.push(_e)}hasEnoughDataForFrame(){return this.inputBuffer.length*this.options.targetSampleRate/this.options.nativeSampleRate>=this.options.targetFrameSize}generateOutputFrame(){const $=new Float32Array(this.options.targetFrameSize);let _e=0,et=0;for(;_e<this.options.targetFrameSize;){let tt=0,nt=0;for(;et<Math.min(this.inputBuffer.length,(_e+1)*this.options.nativeSampleRate/this.options.targetSampleRate);){const rt=this.inputBuffer[et];rt!==void 0&&(tt+=rt,nt++),et++}$[_e]=tt/nt,_e++}return this.inputBuffer=this.inputBuffer.slice(et),$}}resampler.Resampler=Resampler;(function(b){Object.defineProperty(b,"__esModule",{value:!0}),b.PlatformAgnosticNonRealTimeVAD=b.defaultNonRealTimeVADOptions=void 0;const $=frameProcessor,_e=messages,et=models,tt=resampler;b.defaultNonRealTimeVADOptions={...$.defaultFrameProcessorOptions,ortConfig:void 0};class nt{static async _new(ot,st,ct={}){const lt={...b.defaultNonRealTimeVADOptions,...ct};lt.ortConfig!==void 0&&lt.ortConfig(st);const at=new this(ot,st,lt);return await at.init(),at}constructor(ot,st,ct){this.modelFetcher=ot,this.ort=st,this.options=ct,this.init=async()=>{const lt=await et.Silero.new(this.ort,this.modelFetcher);this.frameProcessor=new $.FrameProcessor(lt.process,lt.reset_state,{frameSamples:this.options.frameSamples,positiveSpeechThreshold:this.options.positiveSpeechThreshold,negativeSpeechThreshold:this.options.negativeSpeechThreshold,redemptionFrames:this.options.redemptionFrames,preSpeechPadFrames:this.options.preSpeechPadFrames,minSpeechFrames:this.options.minSpeechFrames,submitUserSpeechOnPause:this.options.submitUserSpeechOnPause}),this.frameProcessor.resume()},this.run=async function*(lt,at){const it={nativeSampleRate:at,targetSampleRate:16e3,targetFrameSize:this.options.frameSamples},ut=new tt.Resampler(it);let dt=0,ht=0,ft=0;for await(const gt of ut.stream(lt)){const{msg:vt,audio:yt}=await this.frameProcessor.process(gt);switch(vt){case _e.Message.SpeechStart:dt=ft*this.options.frameSamples/16;break;case _e.Message.SpeechEnd:ht=(ft+1)*this.options.frameSamples/16,yield{audio:yt,start:dt,end:ht};break}ft++}const{msg:pt,audio:mt}=this.frameProcessor.endSegment();pt==_e.Message.SpeechEnd&&(yield{audio:mt,start:dt,end:ft*this.options.frameSamples/16})},(0,$.validateOptions)(ct)}}b.PlatformAgnosticNonRealTimeVAD=nt})(nonRealTimeVad);(function(b){var $=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(rt,ot,st,ct){ct===void 0&&(ct=st);var lt=Object.getOwnPropertyDescriptor(ot,st);(!lt||("get"in lt?!ot.__esModule:lt.writable||lt.configurable))&&(lt={enumerable:!0,get:function(){return ot[st]}}),Object.defineProperty(rt,ct,lt)}:function(rt,ot,st,ct){ct===void 0&&(ct=st),rt[ct]=ot[st]}),_e=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(rt,ot){Object.defineProperty(rt,"default",{enumerable:!0,value:ot})}:function(rt,ot){rt.default=ot}),et=commonjsGlobal&&commonjsGlobal.__importStar||function(rt){if(rt&&rt.__esModule)return rt;var ot={};if(rt!=null)for(var st in rt)st!=="default"&&Object.prototype.hasOwnProperty.call(rt,st)&&$(ot,rt,st);return _e(ot,rt),ot},tt=commonjsGlobal&&commonjsGlobal.__exportStar||function(rt,ot){for(var st in rt)st!=="default"&&!Object.prototype.hasOwnProperty.call(ot,st)&&$(ot,rt,st)};Object.defineProperty(b,"__esModule",{value:!0}),b.utils=void 0;const nt=et(utils$2);b.utils={minFramesForTargetMS:nt.minFramesForTargetMS,arrayBufferToBase64:nt.arrayBufferToBase64,encodeWAV:nt.encodeWAV},tt(nonRealTimeVad,b),tt(frameProcessor,b),tt(messages,b),tt(logging,b),tt(models,b),tt(resampler,b)})(_common);var utils$1={};Object.defineProperty(utils$1,"__esModule",{value:!0});utils$1.audioFileToArray=void 0;async function audioFileToArray(b){const $=new OfflineAudioContext(1,1,44100),_e=new FileReader;let et=null;if(await new Promise(rt=>{_e.addEventListener("loadend",ot=>{const st=_e.result;$.decodeAudioData(st,ct=>{et=ct,$.startRendering().then(lt=>{console.log("Rendering completed successfully"),rt()}).catch(lt=>{console.error(`Rendering failed: ${lt}`)})},ct=>{console.log(`Error with decoding audio data: ${ct}`)})}),_e.readAsArrayBuffer(b)}),et===null)throw Error("some shit");let tt=et,nt=new Float32Array(tt.length);for(let rt=0;rt<tt.length;rt++)for(let ot=0;ot<tt.numberOfChannels;ot++)nt[rt]+=tt.getChannelData(ot)[rt];return{audio:nt,sampleRate:tt.sampleRate}}utils$1.audioFileToArray=audioFileToArray;var defaultModelFetcher$1={};Object.defineProperty(defaultModelFetcher$1,"__esModule",{value:!0});defaultModelFetcher$1.defaultModelFetcher=void 0;const defaultModelFetcher=b=>fetch(b).then($=>$.arrayBuffer());defaultModelFetcher$1.defaultModelFetcher=defaultModelFetcher;var assetPath$1={};Object.defineProperty(assetPath$1,"__esModule",{value:!0});assetPath$1.assetPath=void 0;const isWeb=typeof window<"u"&&typeof window.document<"u",currentScript=isWeb?window.document.currentScript:null;let basePath="/";currentScript&&(basePath=currentScript.src.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"));const assetPath=b=>basePath+b;assetPath$1.assetPath=assetPath;var realTimeVad={};(function(b){var $=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(lt,at,it,ut){ut===void 0&&(ut=it);var dt=Object.getOwnPropertyDescriptor(at,it);(!dt||("get"in dt?!at.__esModule:dt.writable||dt.configurable))&&(dt={enumerable:!0,get:function(){return at[it]}}),Object.defineProperty(lt,ut,dt)}:function(lt,at,it,ut){ut===void 0&&(ut=it),lt[ut]=at[it]}),_e=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(lt,at){Object.defineProperty(lt,"default",{enumerable:!0,value:at})}:function(lt,at){lt.default=at}),et=commonjsGlobal&&commonjsGlobal.__importStar||function(lt){if(lt&&lt.__esModule)return lt;var at={};if(lt!=null)for(var it in lt)it!=="default"&&Object.prototype.hasOwnProperty.call(lt,it)&&$(at,lt,it);return _e(at,lt),at};Object.defineProperty(b,"__esModule",{value:!0}),b.AudioNodeVAD=b.MicVAD=b.defaultRealTimeVADOptions=b.ort=void 0;const tt=et(ort_minExports),nt=_common,rt=assetPath$1,ot=defaultModelFetcher$1;b.ort=tt,b.defaultRealTimeVADOptions={...nt.defaultFrameProcessorOptions,onFrameProcessed:lt=>{},onVADMisfire:()=>{nt.log.debug("VAD misfire")},onSpeechStart:()=>{nt.log.debug("Detected speech start")},onSpeechEnd:()=>{nt.log.debug("Detected speech end")},workletURL:(0,rt.assetPath)("vad.worklet.bundle.min.js"),modelURL:(0,rt.assetPath)("silero_vad.onnx"),modelFetcher:ot.defaultModelFetcher,stream:void 0,ortConfig:void 0};class st{static async new(at={}){const it={...b.defaultRealTimeVADOptions,...at};(0,nt.validateOptions)(it);let ut;it.stream===void 0?ut=await navigator.mediaDevices.getUserMedia({audio:{...it.additionalAudioConstraints,channelCount:1,echoCancellation:!0,autoGainControl:!0,noiseSuppression:!0}}):ut=it.stream;const dt=new AudioContext,ht=new MediaStreamAudioSourceNode(dt,{mediaStream:ut}),ft=await ct.new(dt,it);return ft.receive(ht),new st(it,dt,ut,ft,ht)}constructor(at,it,ut,dt,ht,ft=!1){this.options=at,this.audioContext=it,this.stream=ut,this.audioNodeVAD=dt,this.sourceNode=ht,this.listening=ft,this.pause=()=>{this.audioNodeVAD.pause(),this.listening=!1},this.start=()=>{this.audioNodeVAD.start(),this.listening=!0},this.destroy=()=>{this.listening&&this.pause(),this.options.stream===void 0&&this.stream.getTracks().forEach(pt=>pt.stop()),this.sourceNode.disconnect(),this.audioNodeVAD.destroy(),this.audioContext.close()}}}b.MicVAD=st;class ct{static async new(at,it={}){const ut={...b.defaultRealTimeVADOptions,...it};(0,nt.validateOptions)(ut),ut.ortConfig!==void 0&&ut.ortConfig(b.ort);try{await at.audioWorklet.addModule(ut.workletURL)}catch(mt){throw console.error(`Encountered an error while loading worklet. Please make sure the worklet vad.bundle.min.js included with @ricky0123/vad-web is available at the specified path:
        ${ut.workletURL}
        If need be, you can customize the worklet file location using the \`workletURL\` option.`),mt}const dt=new AudioWorkletNode(at,"vad-helper-worklet",{processorOptions:{frameSamples:ut.frameSamples}});let ht;try{ht=await nt.Silero.new(b.ort,()=>ut.modelFetcher(ut.modelURL))}catch(mt){throw console.error(`Encountered an error while loading model file. Please make sure silero_vad.onnx, included with @ricky0123/vad-web, is available at the specified path:
      ${ut.modelURL}
      If need be, you can customize the model file location using the \`modelsURL\` option.`),mt}const ft=new nt.FrameProcessor(ht.process,ht.reset_state,{frameSamples:ut.frameSamples,positiveSpeechThreshold:ut.positiveSpeechThreshold,negativeSpeechThreshold:ut.negativeSpeechThreshold,redemptionFrames:ut.redemptionFrames,preSpeechPadFrames:ut.preSpeechPadFrames,minSpeechFrames:ut.minSpeechFrames,submitUserSpeechOnPause:ut.submitUserSpeechOnPause}),pt=new ct(at,ut,ft,dt);return dt.port.onmessage=async mt=>{var gt;switch((gt=mt.data)==null?void 0:gt.message){case nt.Message.AudioFrame:const vt=mt.data.data,yt=new Float32Array(vt);await pt.processFrame(yt);break}},pt}constructor(at,it,ut,dt){this.ctx=at,this.options=it,this.frameProcessor=ut,this.entryNode=dt,this.pause=()=>{const ht=this.frameProcessor.pause();this.handleFrameProcessorEvent(ht)},this.start=()=>{this.frameProcessor.resume()},this.receive=ht=>{ht.connect(this.entryNode)},this.processFrame=async ht=>{const ft=await this.frameProcessor.process(ht);this.handleFrameProcessorEvent(ft)},this.handleFrameProcessorEvent=ht=>{switch(ht.probs!==void 0&&this.options.onFrameProcessed(ht.probs),ht.msg){case nt.Message.SpeechStart:this.options.onSpeechStart();break;case nt.Message.VADMisfire:this.options.onVADMisfire();break;case nt.Message.SpeechEnd:this.options.onSpeechEnd(ht.audio);break}},this.destroy=()=>{this.entryNode.port.postMessage({message:nt.Message.SpeechStop}),this.entryNode.disconnect()}}}b.AudioNodeVAD=ct})(realTimeVad);(function(b){var $=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(at,it,ut,dt){dt===void 0&&(dt=ut);var ht=Object.getOwnPropertyDescriptor(it,ut);(!ht||("get"in ht?!it.__esModule:ht.writable||ht.configurable))&&(ht={enumerable:!0,get:function(){return it[ut]}}),Object.defineProperty(at,dt,ht)}:function(at,it,ut,dt){dt===void 0&&(dt=ut),at[dt]=it[ut]}),_e=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(at,it){Object.defineProperty(at,"default",{enumerable:!0,value:it})}:function(at,it){at.default=it}),et=commonjsGlobal&&commonjsGlobal.__importStar||function(at){if(at&&at.__esModule)return at;var it={};if(at!=null)for(var ut in at)ut!=="default"&&Object.prototype.hasOwnProperty.call(at,ut)&&$(it,at,ut);return _e(it,at),it};Object.defineProperty(b,"__esModule",{value:!0}),b.defaultRealTimeVADOptions=b.AudioNodeVAD=b.MicVAD=b.NonRealTimeVAD=b.Message=b.FrameProcessor=b.utils=b.defaultNonRealTimeVADOptions=void 0;const tt=et(ort_minExports),nt=_common;Object.defineProperty(b,"FrameProcessor",{enumerable:!0,get:function(){return nt.FrameProcessor}}),Object.defineProperty(b,"Message",{enumerable:!0,get:function(){return nt.Message}});const rt=utils$1,ot=defaultModelFetcher$1,st=assetPath$1;b.defaultNonRealTimeVADOptions={modelURL:(0,st.assetPath)("silero_vad.onnx"),modelFetcher:ot.defaultModelFetcher};class ct extends nt.PlatformAgnosticNonRealTimeVAD{static async new(it={}){const{modelURL:ut,modelFetcher:dt}={...b.defaultNonRealTimeVADOptions,...it};return await this._new(()=>dt(ut),tt,it)}}b.NonRealTimeVAD=ct,b.utils={audioFileToArray:rt.audioFileToArray,...nt.utils};var lt=realTimeVad;Object.defineProperty(b,"MicVAD",{enumerable:!0,get:function(){return lt.MicVAD}}),Object.defineProperty(b,"AudioNodeVAD",{enumerable:!0,get:function(){return lt.AudioNodeVAD}}),Object.defineProperty(b,"defaultRealTimeVADOptions",{enumerable:!0,get:function(){return lt.defaultRealTimeVADOptions}})})(dist$2);(function(b){var $=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ht,ft,pt,mt){mt===void 0&&(mt=pt);var gt=Object.getOwnPropertyDescriptor(ft,pt);(!gt||("get"in gt?!ft.__esModule:gt.writable||gt.configurable))&&(gt={enumerable:!0,get:function(){return ft[pt]}}),Object.defineProperty(ht,mt,gt)}:function(ht,ft,pt,mt){mt===void 0&&(mt=pt),ht[mt]=ft[pt]}),_e=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ht,ft){Object.defineProperty(ht,"default",{enumerable:!0,value:ft})}:function(ht,ft){ht.default=ft}),et=commonjsGlobal&&commonjsGlobal.__importStar||function(ht){if(ht&&ht.__esModule)return ht;var ft={};if(ht!=null)for(var pt in ht)pt!=="default"&&Object.prototype.hasOwnProperty.call(ht,pt)&&$(ft,ht,pt);return _e(ft,ht),ft};Object.defineProperty(b,"__esModule",{value:!0}),b.useMicVAD=b.defaultReactRealTimeVADOptions=b.utils=void 0;const tt=dist$2,nt=et(reactExports);var rt=dist$2;Object.defineProperty(b,"utils",{enumerable:!0,get:function(){return rt.utils}});const ot={startOnLoad:!0,userSpeakingThreshold:.6};b.defaultReactRealTimeVADOptions={...tt.defaultRealTimeVADOptions,...ot};const st=Object.keys(ot),ct=Object.keys(tt.defaultRealTimeVADOptions),lt=(ht,ft)=>ht.reduce((pt,mt)=>(pt[mt]=ft[mt],pt),{});function at(ht){ht={...b.defaultReactRealTimeVADOptions,...ht};const ft=lt(st,ht),pt=lt(ct,ht);return[ft,pt]}function it(ht){const ft=nt.default.useRef(ht);return dt(()=>{ft.current=ht}),nt.default.useCallback((...pt)=>ft.current.apply(void 0,pt),[])}function ut(ht){const[ft,pt]=at(ht),[mt,gt]=(0,nt.useReducer)((Nt,Ft)=>Ft>ft.userSpeakingThreshold,!1),[vt,yt]=(0,nt.useState)(!0),[bt,xt]=(0,nt.useState)(!1),[_t,wt]=(0,nt.useState)(!1),[At,Pt]=(0,nt.useState)(null);it(pt.onFrameProcessed),pt.onFrameProcessed=it(Nt=>{gt(Nt.isSpeech)});const{onSpeechEnd:jt,onSpeechStart:kt,onVADMisfire:St}=pt,Ct=it(jt),Et=it(kt),Tt=it(St);pt.onSpeechEnd=Ct,pt.onSpeechStart=Et,pt.onVADMisfire=Tt,(0,nt.useEffect)(()=>{let Nt,Ft=!1;return(async()=>{try{if(Nt=await tt.MicVAD.new(pt),Ft){Nt.destroy();return}}catch(zt){yt(!1),zt instanceof Error?xt({message:zt.message}):xt({message:zt});return}Pt(Nt),yt(!1),ft.startOnLoad&&(Nt==null||Nt.start(),wt(!0))})().catch(zt=>{console.log("Well that didn't work")}),function(){Nt==null||Nt.destroy(),Ft=!0,!vt&&!bt&&wt(!1)}},[]);const $t=()=>{!vt&&!bt&&(At==null||At.pause(),wt(!1))},Ot=()=>{!vt&&!bt&&(At==null||At.start(),wt(!0))};return{listening:_t,errored:bt,loading:vt,userSpeaking:mt,pause:$t,start:Ot,toggle:()=>{_t?$t():Ot()}}}b.useMicVAD=ut;const dt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?nt.default.useLayoutEffect:nt.default.useEffect})(dist$3);function useAudioRecorder({isPlaying:b,onRecordingComplete:$,onRecordingStarted:_e,onRecordingStopped:et,config:tt,forceRefresh:nt}){const rt=reactExports.useRef(!1),ot=reactExports.useRef(!1);let st=reactExports.useRef();reactExports.useRef(!1);const ct=reactExports.useRef(!0);dist$3.useMicVAD({startOnLoad:!0,onFrameProcessed:(yt,bt)=>{},onSpeechStart:()=>{b.current||lt(),rt.current=!0,nt()},onVADMisfire:()=>{at(),rt.current=!1,nt()},onSpeechEnd:yt=>{if(at(),rt.current=!1,ot.current){let bt=yt?yt.length/16e3:0;console.log("Submit audio",bt,new Blob([ft(yt)],{type:"audio/wav"}),yt,tt);let xt=new Blob([ft(yt)],{type:"audio/wav"});ut(xt),$(bt,xt,yt,tt)}nt()}});function lt(){clearTimeout(st.current)}function at(){clearTimeout(st.current),st.current=setTimeout(function(){dt()},8e3)}const it=async yt=>{ot.current=!0,_e&&_e(),at(),nt()};function ut(yt){try{const bt=URL.createObjectURL(yt),xt=document.createElement("audio");xt.src=bt,xt.play().catch(function(_t){console.log("FAILED TO PLAY1",_t)})}catch(bt){console.log("FAILED TO PLAY",bt)}}const dt=()=>{ot.current=!1,et&&et(),nt()},ht=()=>{ot.current?dt():it()};function ft(yt,bt=3,xt=16e3,_t=1,wt=32){var At=wt/8,Pt=_t*At,jt=new ArrayBuffer(44+yt.length*At),kt=new DataView(jt);return gt(kt,0,"RIFF"),kt.setUint32(4,36+yt.length*At,!0),gt(kt,8,"WAVE"),gt(kt,12,"fmt "),kt.setUint32(16,16,!0),kt.setUint16(20,bt,!0),kt.setUint16(22,_t,!0),kt.setUint32(24,xt,!0),kt.setUint32(28,xt*Pt,!0),kt.setUint16(32,Pt,!0),kt.setUint16(34,wt,!0),gt(kt,36,"data"),kt.setUint32(40,yt.length*At,!0),bt===1?mt(kt,44,yt):pt(kt,44,yt),jt}function pt(yt,bt,xt){for(var _t=0;_t<xt.length;_t++,bt+=4)yt.setFloat32(bt,xt[_t],!0)}function mt(yt,bt,xt){for(var _t=0;_t<xt.length;_t++,bt+=2){var wt=Math.max(-1,Math.min(1,xt[_t]));yt.setInt16(bt,wt<0?wt*32768:wt*32767,!0)}}function gt(yt,bt,xt){for(var _t=0;_t<xt.length;_t++)yt.setUint8(bt+_t,xt.charCodeAt(_t))}function vt(){}return{startRecording:it,stopRecording:dt,handleToggleRecording:ht,isSpeaking:rt,isEnabled:ot,isInitialised:ct,init:vt}}const useIsOnline=()=>{const[b,$]=reactExports.useState(window.navigator.onLine);return reactExports.useEffect(()=>{const _e=()=>$(window.navigator.onLine);return window.addEventListener("online",_e),window.addEventListener("offline",_e),()=>{window.removeEventListener("online",_e),window.removeEventListener("offline",_e)}},[b]),{error:null,isOffline:!b,isOnline:b}};function SpeechButton(b){let $=!!(b.config&&b.config.stt&&b.config.stt.use==="openai"&&b.config.stt.openai_key),_e=!!(b.config&&b.config.stt&&b.config.stt.use==="groq"&&b.config.stt.groq_key),et=!!(b.config&&b.config.stt&&b.config.stt.use==="self_hosted"&&b.config.stt.self_hosted_url),tt=!!(b.config&&b.config.stt&&b.config.stt.use==="local"&&b.config.stt.local_whisper_model),nt=!!(b.config&&b.config.stt&&b.config.stt.use_hotword);reactExports.useEffect(function(){b.autoStartMicrophone&&(st.startRecording(),b.setAutoStartMicrophone(!1))},[b.autoStartMicrophone]),reactExports.useEffect(function(){b.autoStopMicrophone&&(st.stopRecording(),b.setAutoStopMicrophone(!1))},[b.autoStopMicrophone]);const rt=useIcons();let ot=useIsOnline(),st=useAudioRecorder({forceRefresh:b.forceRefresh,config:b.config,isPlaying:b.isPlaying,onRecordingComplete:function(bt,xt,_t,wt){let At=!!(wt&&wt.stt&&wt.stt.use==="openai"&&wt.stt.openai_key),Pt=!!(wt&&wt.stt&&wt.stt.use==="self_hosted"&&wt.stt.self_hosted_url),jt=!!(b.config&&b.config.stt&&b.config.stt.use==="groq"&&b.config.stt.groq_key);!!(wt&&wt.stt&&wt.stt.use==="local"&&wt.stt.local_whisper_model)?function(Ct){return new Promise(function(Et,Tt){const $t=new AudioContext;Ct.arrayBuffer().then(function(Ot){$t.decodeAudioData(Ot).then(function(Rt){Et(Rt)})})})}(xt).then(function(Ct){ct.start(Ct)}):Pt?ut.start(xt):At?at.start(xt,bt):jt&&it.start(xt,bt)},onRecordingStarted:function(){},onRecordingStopped:function(){},onReady:function(){b.forceRefresh()},onDataAvailable:function(bt){}}),ct=useLocalTranscriber({whisperModel:b.config&&b.config.stt&&b.config.stt.local_whisper_model?b.config.stt.local_whisper_model:"",onStart:function(){b.startWaiting()},onReady:function(bt){},onUpdate:function(bt){b.onPartialTranscript&&b.onPartialTranscript(bt)},onComplete:function(bt){b.onTranscript&&b.onTranscript(bt),b.stopWaiting()},onError:function(bt){b.stopWaiting()}}),lt=useWebsocketTranscriber({onReady:function(bt){st.init()},onUpdate:function(bt){b.onPartialTranscript&&b.onPartialTranscript(bt)},onComplete:function(bt){bt.trim()==="stop"||bt.trim()==="cancel"?(st.stopRecording(),b.onCancel&&b.onCancel()):(b.onTranscript&&b.onTranscript(bt),b.stopWaiting())},onStart:function(){b.startWaiting()},onError:function(bt){b.stopWaiting()}}),at=useOpenAITranscriber({aiUsage:b.aiUsage,onReady:function(bt){st.init()},onUpdate:function(bt){b.onPartialTranscript&&b.onPartialTranscript(bt)},onComplete:function(bt){bt.trim()==="stop"||bt.trim()==="cancel"?(st.stopRecording(),b.onCancel&&b.onCancel()):(b.onTranscript&&b.onTranscript(bt),b.stopWaiting())},onStart:function(){b.startWaiting()},onError:function(bt){b.stopWaiting()}}),it=useGroqTranscriber({aiUsage:b.aiUsage,onReady:function(bt){},onUpdate:function(bt){b.onPartialTranscript&&b.onPartialTranscript(bt)},onComplete:function(bt){bt.trim()==="stop"||bt.trim()==="cancel"?(st.stopRecording(),b.onCancel&&b.onCancel()):(b.onTranscript&&b.onTranscript(bt),b.stopWaiting())},onStart:function(){b.startWaiting()},onError:function(bt){b.stopWaiting()}}),ut=useSelfHostedTranscriber({url:b.config&&b.config.stt&&b.config.stt.self_hosted_url,aiUsage:b.aiUsage,onReady:function(bt){st.init()},onUpdate:function(bt){b.onPartialTranscript&&b.onPartialTranscript(bt)},onComplete:function(bt){bt.trim()==="stop"||bt.trim()==="cancel"?(st.stopRecording(),b.onCancel&&b.onCancel()):(b.onTranscript&&b.onTranscript(bt),b.stopWaiting())},onStart:function(){b.startWaiting()},onError:function(bt){b.stopWaiting()}});reactExports.useEffect(function(){},[]),reactExports.useEffect(function(){let bt=b.config&&b.config.stt&&b.config.stt.use==="local"&&b.config.stt.local_whisper_model,xt=!!(b.config&&b.config.stt&&b.config.stt.use==="openai"&&b.config.stt.openai_key),_t=!!(b.config&&b.config.stt&&b.config.stt.use==="groq"&&b.config.stt.groq_key),wt=!!(b.config&&b.config.stt&&b.config.stt.use==="self_hosted"&&b.config.stt.self_hosted_url);bt||(wt?ut.init():xt?at.init(b.config.stt.openai_key):_t&&it.init(b.config.stt.groq_key))},[JSON.stringify(b.config)]),reactExports.useEffect(function(){b.config&&b.config.stt&&b.config.stt.use_hotword},[b.config&&b.config.stt&&b.config.stt.use_hotword]);let dt=(tt||$||et||_e)&&ot.isOnline;const ht={borderRadius:"35px",color:"black",backgroundColor:"#dc3545",border:"2px solid "+(st.isSpeaking?"pink":"darkred")},ft={borderRadius:"35px",color:"black",backgroundColor:"#e0acb1",border:"2px solid "+(st.isSpeaking?"pink":"darkred")},pt={borderRadius:"35px",color:"black",backgroundColor:"#198754",border:"2px solid "+(st.isSpeaking?"lightgreen":"darkgreen")},mt={borderRadius:"35px",color:"black",backgroundColor:"#0b5ed7",border:"2px solid "+(st.isSpeaking?"lightblue":"darkblue")},gt={borderRadius:"35px",color:"black",backgroundColor:"grey",border:"2px solid "+(st.isSpeaking?"lightgrey":"darkgrey")};let vt,yt=st.handleToggleRecording;return!$&&!et&&!tt&&!_e||!st.isInitialised.current?(vt=gt,lt.isBusy||at.isBusy.current||it.isBusy.current?yt=function(){st.stopRecording()}:yt=function(){}):(st.isEnabled.current?b.isPlaying.current?vt=ft:vt=ht:dt?vt=pt:vt=mt,nt&&(vt.color="white")),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Button,{style:vt,onClick:yt,children:lt.isBusy||at.isBusy||it.isBusy?rt["loader-line"]:st.isEnabled.current?rt["mic-off-fill"]:rt["mic-fill"]})})}function ChatHistoryPage(b){const{user:$,token:_e,login:et,logout:tt,refresh:nt,doSave:rt,aiUsage:ot,submitForm:st,stopAllPlaying:ct,stopLanguageModels:lt,aiLlm:at,usingOpenAiTts:it,usingSelfHostedTts:ut,usingWebSpeechTts:dt,usingMeSpeakTts:ht,usingTts:ft,usingStt:pt,usingOpenAiStt:mt,usingSelfHostedStt:gt,usingLocalStt:vt,queueSpeech:yt,getUrl:bt,playDataUri:xt,stopPlaying:_t,isPlaying:wt,setIsPlaying:At,isMuted:Pt,isMutedRef:jt,mute:kt,unmute:St,category:Ct,setCategory:Et,exportRoles:Tt,importRoles:$t,setSystemMessage:Ot,systemMessage:Rt,setSystemConfig:Nt,systemConfig:Ft,init:Ht,saveRole:zt,loadRole:an,roles:Jt,setRoles:Zt,currentRole:Qt,setCurrentRole:qt,newRole:vn,utteranceQueue:Yt,setUtteranceQueue:rn,mergeData:pn,setMergeData:$n,lastLlmTrigger:on,chatHistories:Tn,setChatHistories:kn,autoStartMicrophone:Bn,setAutoStartMicrophone:On,autoStopMicrophone:dn,setAutoStopMicrophone:wn,refreshHash:bn,setRefreshHash:Sn,forceRefresh:Pn,hasRequiredConfig:In,isSpeaking:Ln,setIsSpeaking:Xn,chatHistory:rr,setChatHistory:sr,isWaiting:dr,startWaiting:lr,stopWaiting:Gn,userMessage:Ut,userMessageRef:ln,setUserMessage:gn,isReady:Cn,setIsReady:Fn,config:Dn,setConfig:Un,llmEnabled:or,setLlmEnabled:tr,icons:Vt,configRef:hn,utils:cn,setChatHistoryId:fn,chatHistoryId:Gt,deleteChatHistory:An,duplicateChatHistory:zn,chatHistoriesRef:Zn}=b;return cn.summariseConfig(Dn),reactExports.useEffect(function(){document.documentElement.scrollTop=0,document.body.scrollTop=0},[]),jsxRuntimeExports.jsx("div",{className:"App",id:bn,children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{id:"menu",style:{zIndex:"9",backgroundColor:"lightgrey",border:"1px solid grey",position:"fixed",top:0,left:0,width:"100%",height:"3em"},children:[jsxRuntimeExports.jsxs("span",{style:{float:"left",marginTop:"0.2em",marginLeft:"0.2em"},children:[jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.1em"},to:"/menu",children:jsxRuntimeExports.jsx(Button,{children:Vt.menu})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/chat",children:jsxRuntimeExports.jsx(Button,{children:Vt.chat})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/roles",children:jsxRuntimeExports.jsx(Button,{children:Vt.teamlarge})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/settings",children:jsxRuntimeExports.jsx(Button,{children:Vt.settings})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/help",children:jsxRuntimeExports.jsx(Button,{children:Vt.question})})]}),jsxRuntimeExports.jsxs("span",{style:{float:"right",marginTop:"0.3em",marginLeft:"0.2em",marginRight:"01em"},children:[_e&&_e.access_token&&jsxRuntimeExports.jsxs(Button,{onClick:function(){tt()},variant:"danger",children:[!($&&$.picture)&&Vt.user_logout," ",$&&$.picture&&jsxRuntimeExports.jsx("img",{height:"28",width:"28",src:$.picture+"?access_token="+_e.access_token+"&not-from-cache-please"})]}),!(_e&&_e.access_token)&&jsxRuntimeExports.jsx(Button,{onClick:function(){et()},variant:"success",children:Vt.user})]}),jsxRuntimeExports.jsx(Link,{to:"/tokens",children:jsxRuntimeExports.jsxs("span",{style:{color:"black",float:"right",marginTop:"0.7em",marginRight:"1em"},children:[" ",jsxRuntimeExports.jsx("b",{children:ot.getTotal()})]})})]}),jsxRuntimeExports.jsx("div",{id:"body",style:{zIndex:"3",position:"relative",top:"3em",left:0,width:"100%",paddingTop:"0.2em",backgroundColor:"white"},children:jsxRuntimeExports.jsx(Row,{style:{textAlign:"left",marginTop:"0.5em",marginBottom:"1.5em"},children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsx(ChatHistories,{...b})})})}),jsxRuntimeExports.jsx("div",{style:{position:"fixed",bottom:5,right:5,backgroundColor:"white",height:"2em",width:"2em",borderRadius:"50px"},children:jsxRuntimeExports.jsx("a",{target:"new",href:"https://github.com/syntithenai/syntithenai_agents",style:{color:"black"},children:Vt.github})})]})})}const TTSConfigForm=({configIn:b,setConfig:$,forceRefresh:_e})=>{const[et,tt]=reactExports.useState({});reactExports.useEffect(function(){tt(b)},[JSON.stringify(b)]);const nt=useWebSpeechTts({});useMeSpeakTts({});const rt=st=>(st.preventDefault(),!1);function ot(st,ct){let lt=et||{};lt.tts||(lt.tts={}),lt.tts[st]=ct,$(lt),_e()}return jsxRuntimeExports.jsx(Form$1,{onSubmit:rt,children:jsxRuntimeExports.jsxs("div",{className:"border p-3 mb-3",children:[jsxRuntimeExports.jsx("h5",{children:"Text To Speech"}),jsxRuntimeExports.jsxs(Row,{className:"mb-3",children:[jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(FormCheck$1,{style:{display:"inline",marginRight:"0.2em"},type:"checkbox",checked:et&&et.tts&&et.tts.use==="openai",onChange:st=>{ot("use",et&&et.tts&&et.tts.use==="openai"?"":"openai")}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"OpenAI API Key"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:et&&et.tts&&et.tts.openai_key,onChange:st=>{ot("openai_key",st.target.value),ot("use","openai")}})]}),jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"ttsUrl",style:{marginTop:"0.2em"},children:[jsxRuntimeExports.jsx(FormCheck$1,{style:{display:"inline",marginRight:"0.2em"},type:"checkbox",checked:et&&et.tts&&et.tts.use==="self_hosted",onChange:st=>{ot("use",et&&et.tts&&et.tts.use==="self_hosted"?"":"self_hosted")}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"Self Hosted URL"}),jsxRuntimeExports.jsx(Form$1.Text,{children:jsxRuntimeExports.jsx("span",{style:{display:"block",marginLeft:"3em",fontStyle:"italic",fontSize:"0.7em"},children:"eg https://192.168.1.56:5002"})}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:et&&et.tts&&et.tts.self_hosted_url,onChange:st=>{ot("self_hosted_url",st.target.value),ot("use","self_hosted")}})]}),jsxRuntimeExports.jsxs("div",{style:{border:"1px solid grey",padding:"0.5em",marginTop:"1em"},children:[jsxRuntimeExports.jsx("h6",{children:"Offline"}),jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"ttsWebSpeech",style:{marginTop:"0.2em"},children:[jsxRuntimeExports.jsx(FormCheck$1,{style:{display:"inline",marginRight:"0.2em"},type:"checkbox",checked:et&&et.tts&&et.tts.use==="web_speech",onChange:st=>{ot("use",et&&et.tts&&et.tts.use==="web_speech"?"":"web_speech")}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"Web Speech"}),jsxRuntimeExports.jsxs(Form$1.Select,{"aria-label":"Select voice",children:[jsxRuntimeExports.jsx("option",{}),nt.availableVoices&&nt.availableVoices.length>0&&nt.availableVoices.map(function(st,ct){return jsxRuntimeExports.jsx("option",{value:ct,children:st.name})})]})]}),jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"ttsMeSpeech",style:{marginTop:"0.2em"},children:[jsxRuntimeExports.jsx(FormCheck$1,{style:{display:"inline",marginRight:"0.2em"},type:"checkbox",checked:et&&et.tts&&et.tts.use==="me_speak",onChange:st=>{ot("use",et&&et.tts&&et.tts.use==="me_speak"?"":"me_speak")}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"MeSpeak"})]})]})]})]})})},STTConfigForm=({configIn:b,setConfig:$,forceRefresh:_e})=>{const[et,tt]=reactExports.useState({});reactExports.useEffect(function(){tt(b)},[JSON.stringify(b)]);const nt=ot=>(ot.preventDefault(),!1);function rt(ot,st){let ct=et||{};ct||(ct={}),ct.stt||(ct.stt={}),ct.stt[ot]=st,$(ct),_e()}return jsxRuntimeExports.jsx(Form$1,{onSubmit:nt,children:jsxRuntimeExports.jsxs("div",{className:"border p-3 mb-3",children:[jsxRuntimeExports.jsx("h5",{children:"Speech To Text"}),jsxRuntimeExports.jsxs(Row,{className:"mb-3",children:[jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(FormCheck$1,{style:{display:"inline",marginRight:"0.2em"},type:"checkbox",checked:et&&et.stt&&et.stt.use==="openai",onChange:ot=>{rt("use",et&&et.stt&&et.stt.use==="openai"?"":"openai")}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"OpenAI API Key"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:et&&et.stt&&et.stt.openai_key,onChange:ot=>{rt("openai_key",ot.target.value),rt("use","openai")}})]}),jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,controlId:"groqcloudKey",children:[jsxRuntimeExports.jsx(FormCheck$1,{style:{display:"inline",marginRight:"0.2em"},type:"checkbox",checked:et&&et.stt&&et.stt.use==="groq",onChange:ot=>{rt("use",et&&et.stt&&et.stt.use==="groq"?"":"groq")}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"GroqCloud API Key"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:et&&et.stt&&et.stt.groq_key,onChange:ot=>{rt("groq_key",ot.target.value),rt("use","groq")}})]}),jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"sttUrl",style:{marginTop:"0.2em"},children:[jsxRuntimeExports.jsx(FormCheck$1,{style:{display:"inline",marginRight:"0.2em"},type:"checkbox",checked:et&&et.stt&&et.stt.use==="self_hosted",onChange:ot=>{rt("use",et&&et.stt&&et.stt.use==="self_hosted"?"":"self_hosted")}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"Self Hosted URL"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:et&&et.stt&&et.stt.self_hosted_url,onChange:ot=>{rt("self_hosted_url",ot.target.value),rt("use","self_hosted")}})]})]})]})})},LLMConfigForm=({aiUsage:b,configIn:$,setConfig:_e,forceRefresh:et,useLlm:tt})=>{const[nt,rt]=reactExports.useState({});reactExports.useEffect(function(){rt($)},[JSON.stringify($)]);function ot(st,ct){let lt=nt||{};lt.llm||(lt.llm={}),lt.llm[st]=ct,_e(lt),et()}return jsxRuntimeExports.jsxs(Form$1,{onSubmit:function(st){return st.preventDefault(),!1},children:[jsxRuntimeExports.jsx("h5",{children:"Language Model"}),!tt&&jsxRuntimeExports.jsx("b",{style:{color:"red"},children:"You need to choose a language model to chat with."}),jsxRuntimeExports.jsx("div",{className:"border p-3 mb-3",children:jsxRuntimeExports.jsx(Row,{className:"mb-3",children:jsxRuntimeExports.jsxs(Form$1.Group,{as:Col,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(FormCheck$1,{style:{display:"inline",marginRight:"0.2em"},type:"checkbox",checked:!!(nt&&nt.llm&&nt.llm.use==="openai"),onChange:st=>{ot("use",nt&&nt.llm&&nt.llm.use==="openai"?"":"openai")}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"OpenAI API Key"}),jsxRuntimeExports.jsx(Form$1.Text,{children:jsxRuntimeExports.jsxs("span",{style:{display:"block",marginLeft:"3em",fontStyle:"italic",fontSize:"0.7em"},children:["See ",jsxRuntimeExports.jsx("a",{target:"_new",href:"https://platform.openai.com/api-keys",children:"https://platform.openai.com/api-keys"})]})}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:nt&&nt.llm&&nt.llm.openai_key,onChange:st=>{ot("openai_key",st.target.value),ot("use","openai")}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"Default OpenAI Model"}),jsxRuntimeExports.jsx(Form$1.Text,{children:jsxRuntimeExports.jsx("span",{style:{display:"block",marginLeft:"3em",fontStyle:"italic",fontSize:"0.7em"},children:"Prices per million tokens"})}),jsxRuntimeExports.jsxs(Form$1.Select,{style:{width:"30%",float:"left"},value:"",onChange:st=>{ot("openai_model",st.target.value),ot("use","openai")},"aria-label":"Select model",children:[jsxRuntimeExports.jsx("option",{}),b&&Object.keys(b.pricing).map(function(st){return jsxRuntimeExports.jsx("option",{value:st,children:st},st)})]}),jsxRuntimeExports.jsx(Form$1.Control,{style:{width:"70%",float:"left"},type:"text",value:nt&&nt.llm&&nt.llm.openai_model,onChange:st=>{ot("openai_model",st.target.value),ot("use","openai")}}),jsxRuntimeExports.jsx("div",{style:{clear:"both"}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"URL"}),jsxRuntimeExports.jsx(Form$1.Text,{children:jsxRuntimeExports.jsx("span",{style:{display:"block",marginLeft:"3em",fontStyle:"italic",fontSize:"0.7em"},children:"OpenAI Compatible Endpoint"})}),jsxRuntimeExports.jsxs(Form$1.Select,{style:{width:"15%",float:"left"},value:"",onChange:st=>{ot("openai_hosted_url",st.target.value),ot("use","openai")},"aria-label":"Select host",children:[jsxRuntimeExports.jsx("option",{}),jsxRuntimeExports.jsx("option",{value:"https://api.openai.com",children:"OpenAI"}),jsxRuntimeExports.jsx("option",{value:"https://api.groq.com/openai",children:"GroqCloud"}),jsxRuntimeExports.jsx("option",{value:"https://api.fireworks.ai/inference/v1",children:"Together.ai"}),jsxRuntimeExports.jsx("option",{value:"https://api.deepinfra.com/v1/openai",children:"Deepinfra.com"})]}),jsxRuntimeExports.jsx(Form$1.Control,{style:{width:"85%",float:"left"},type:"text",value:nt&&nt.llm&&nt.llm.openai_hosted_url,onChange:st=>{ot("openai_hosted_url",st.target.value),ot("use","openai_hosted_urls")}})]})})}),jsxRuntimeExports.jsxs("div",{className:"border p-3 mb-3",children:[jsxRuntimeExports.jsx("h5",{}),jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"llmUrl",children:[jsxRuntimeExports.jsx(FormCheck$1,{style:{display:"inline",marginRight:"0.2em"},type:"checkbox",checked:nt&&nt.llm&&nt.llm.use==="self_hosted",onChange:st=>{ot("use",nt&&nt.llm&&nt.llm.use==="self_hosted"?"":"self_hosted")}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"Self Hosted URL"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:nt&&nt.llm&&nt.llm.self_hosted_url,onChange:st=>{ot("self_hosted_url",st.target.value),ot("use","self_hosted")}})]})]})]})},ToolsConfigForm=({configIn:b,setConfig:$,forceRefresh:_e})=>{const[et,tt]=reactExports.useState({});reactExports.useEffect(function(){tt(b)},[JSON.stringify(b)]);const nt=ot=>(ot.preventDefault(),!1);function rt(ot,st){let ct=et||{};ct||(ct={}),ct.tools||(ct.tools={}),ct.tools[ot]=st,$(ct),_e()}return jsxRuntimeExports.jsx(Form$1,{onSubmit:nt,children:jsxRuntimeExports.jsxs("div",{className:"border p-3 mb-3",children:[jsxRuntimeExports.jsx("h5",{children:"Tools"}),jsxRuntimeExports.jsxs(Row,{className:"mb-3",children:[jsxRuntimeExports.jsxs(Form$1.Group,{style:{marginTop:"1.5em"},as:Col,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Tavily Web Search API Key"}),jsxRuntimeExports.jsx(Form$1.Text,{children:jsxRuntimeExports.jsxs("span",{style:{display:"block",marginLeft:"3em",fontStyle:"italic",fontSize:"0.7em"},children:["See ",jsxRuntimeExports.jsx("a",{href:"https://app.tavily.com/",target:"new",children:"https://app.tavily.com/"})]})}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:et&&et.tools&&et.tools.tavily_key,onChange:ot=>{rt("tavily_key",ot.target.value)}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"Tavily Web Search URL"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:et&&et.tools&&et.tools.tavily_url,onChange:ot=>{rt("tavily_url",ot.target.value)}})]}),jsxRuntimeExports.jsxs(Form$1.Group,{style:{marginTop:"1.5em"},as:Col,controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"CORS Proxy URL"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:et&&et.tools&&et.tools.cors_url?et.tools.cors_url:"https://proxy.cors.sh/",onChange:ot=>{rt("cors_url",ot.target.value)}}),jsxRuntimeExports.jsx(Form$1.Label,{children:"CORS Proxy Key"}),jsxRuntimeExports.jsx(Form$1.Text,{children:jsxRuntimeExports.jsxs("span",{style:{display:"block",marginLeft:"3em",fontStyle:"italic",fontSize:"0.7em"},children:["See ",jsxRuntimeExports.jsx("a",{href:"http://proxy.cors.sh/",target:"new",children:"http://proxy.cors.sh/"})]})}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:et&&et.tools&&et.tools.cors_key,onChange:ot=>{rt("cors_key",ot.target.value)}})]})]})]})})};function ModelSelector({defaultOptions:b,onChange:$,value:_e}){reactExports.useState(!1);const[et,tt]=reactExports.useState(""),[nt,rt]=reactExports.useState(b);reactExports.useEffect(function(){rt(b)},[b]);var ot=null;function st(ut){tt(ut.target.value.toLowerCase()),ut.target.value?(ot&&clearTimeout(ot),ot=setTimeout(function(){let dt=Array.isArray(nt)?nt:[];rt(dt.filter(function(ht){return ht.indexOf(ut.target.value)!==-1}))},500)):rt(b)}function ct(ut){console.log("sel model",ut),tt(""),rt(b),$(uniqueCategoriesSelected)}const[lt,at]=reactExports.useState(!1);var it=Array.isArray(nt)?nt:[];return it.sort(function(ut,dt){return ut>dt?1:-1}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("input",{type:"search",value:et,onChange:st,onFocus:function(){at(!0)},onBlur:function(){setTimeout(function(){at(!1)},500)}})}),lt&&jsxRuntimeExports.jsx("div",{style:{position:"relative",top:"-40px",zIndex:10},children:jsxRuntimeExports.jsx(ListGroup$1,{style:{zIndex:"20",clear:"both",width:"100%"},children:it.map(function(ut,dt){return jsxRuntimeExports.jsx(ListGroup$1.Item,{className:dt%2===0?"even":"odd",onClick:function(ht){ct(ut)},children:ut},dt)})})})]})}function SettingsPage({utils:b,aiUsage:$,config:_e,setRoles:et,setTeams:tt,setConfig:nt,chatHistory:rt,setChatHistory:ot,forceRefresh:st,refreshHash:ct,token:lt,login:at,logout:it,user:ut,availableModels:dt}){const ht=useIcons();console.log(lt);function ft(){nt({llm:{},stt:{},tts:{}}),$.setLogs({}),st()}function pt(){nt({llm:{},stt:{},tts:{}}),$.setLogs({}),et(null),tt(null),window.location.reload(),st()}function mt(){_e&&_e.llm&&(_e.llm.use=""),nt(_e),st()}function gt(){fetch("http://localhost/v1/chat/completions",{method:"post",headers:{Authorization:"Bearer "+(lt?lt.access_token:"")},body:JSON.stringify({prompt:"fred"})}).then(function(xt){console.log(xt)}).catch(function(xt){console.log(xt)})}const{openAiBillable:vt,useLlm:yt}=b.summariseConfig(_e);return jsxRuntimeExports.jsxs("div",{className:"App",style:{textAlign:"left"},id:ct,children:[jsxRuntimeExports.jsxs("div",{id:"menu",style:{zIndex:"9",backgroundColor:"lightgrey",border:"1px solid grey",position:"fixed",top:0,left:0,width:"100%",height:"3em"},children:[jsxRuntimeExports.jsxs("span",{style:{float:"left",marginTop:"0.2em",marginLeft:"0.2em"},children:[jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.1em"},to:"/menu",children:jsxRuntimeExports.jsx(Button,{children:ht.menu})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/chat",children:jsxRuntimeExports.jsx(Button,{children:ht.chat})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/roles",children:jsxRuntimeExports.jsx(Button,{children:ht.teamlarge})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/settings",children:jsxRuntimeExports.jsx(Button,{children:ht.settings})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/help",children:jsxRuntimeExports.jsx(Button,{children:ht.question})})]}),jsxRuntimeExports.jsxs("span",{style:{float:"right",marginTop:"0.3em",marginLeft:"0.2em",marginRight:"01em"},children:[lt&&lt.access_token&&jsxRuntimeExports.jsxs(Button,{onClick:function(){it()},variant:"danger",children:[!(ut&&ut.picture)&&ht.user_logout," ",ut&&ut.picture&&jsxRuntimeExports.jsx("img",{height:"28",width:"28",src:ut.picture+"?access_token="+lt.access_token+"&not-from-cache-please"})]}),!(lt&&lt.access_token)&&jsxRuntimeExports.jsx(Button,{onClick:function(){at()},variant:"success",children:ht.user})]}),jsxRuntimeExports.jsx(Link,{to:"/tokens",children:jsxRuntimeExports.jsxs("span",{style:{color:"black",float:"right",marginTop:"0.7em",marginRight:"1em"},children:[" ",jsxRuntimeExports.jsx("b",{children:$.getTotal()})]})})]}),jsxRuntimeExports.jsxs("div",{id:"body",style:{zIndex:"3",position:"relative",top:"4em",left:0,width:"100%",paddingTop:"0.2em",paddingLeft:"0.5em",backgroundColor:"white",height:"100%"},children:[jsxRuntimeExports.jsx("h3",{children:"Settings "}),jsxRuntimeExports.jsx(Button,{onClick:gt,children:"BALANCE"}),jsxRuntimeExports.jsx(ModelSelector,{onChange:function(bt){console.log(bt)},value:"",defaultOptions:dt}),jsxRuntimeExports.jsxs(Button,{style:{float:"right",fontSize:"0.7em",marginRight:"0.5em"},variant:"success",onClick:mt,children:[ht.magic," Setup Wizard"]}),jsxRuntimeExports.jsxs(Button,{style:{float:"right",fontSize:"0.7em",marginRight:"0.5em"},variant:"warning",onClick:ft,children:[ht.bin," Clear Config And Usage Logs"]}),jsxRuntimeExports.jsxs(Button,{style:{float:"right",fontSize:"0.7em",marginRight:"0.5em"},variant:"danger",onClick:pt,children:[ht.bin," Clear All"]}),jsxRuntimeExports.jsx("div",{style:{color:"red",fontWeight:"bold",fontSize:"0.6em",marginBottom:"0.5em"},children:"Warning! API Keys are stored in browser local storage on this computer."}),jsxRuntimeExports.jsx("div",{style:{color:"red",fontWeight:"bold",fontSize:"0.6em",marginBottom:"0.5em"},children:"Warning! If you login with Google, API Keys are stored in a private document in your Google Drive."}),jsxRuntimeExports.jsx("hr",{style:{width:"100%",clear:"both"}}),jsxRuntimeExports.jsxs(Tabs,{defaultActiveKey:"llm",id:"configtabs",className:"mb-3",children:[jsxRuntimeExports.jsx(Tab$1,{eventKey:"llm",title:"Language Model",children:jsxRuntimeExports.jsx(LLMConfigForm,{aiUsage:$,configIn:_e,setConfig:nt,forceRefresh:st,useLlm:yt})}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"stt",title:"Speech To Text",children:jsxRuntimeExports.jsx(STTConfigForm,{configIn:_e,setConfig:nt,forceRefresh:st})}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"tts",title:"Text To Speech",children:jsxRuntimeExports.jsx(TTSConfigForm,{configIn:_e,setConfig:nt,forceRefresh:st})}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"tools",title:"Tools",children:jsxRuntimeExports.jsx(ToolsConfigForm,{configIn:_e,setConfig:nt,forceRefresh:st})})]})]})]})}function SelectSampleModal(b){const{setUserMessage:$,samples:_e}=b,[et,tt]=reactExports.useState(!1),nt=useIcons(),rt=()=>{tt(!1)},ot=()=>tt(!0);return reactExports.useRef(),_e&&_e.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{onClick:ot,variant:"outline-primary",children:nt.palette}),jsxRuntimeExports.jsxs(Modal$2,{show:et,onHide:rt,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{style:{marginRight:"2em"},children:"Select a Sample"})}),jsxRuntimeExports.jsx(Modal$2.Body,{style:{minHeight:"50em"},children:jsxRuntimeExports.jsx(ListGroup$1,{style:{clear:"both"},children:_e.map(function(st,ct){return jsxRuntimeExports.jsx(ListGroup$1.Item,{onClick:function(){$(st),rt()},children:st},ct)})})})]})]}):null}function dedent(b){for(var $=[],_e=1;_e<arguments.length;_e++)$[_e-1]=arguments[_e];var et=Array.from(typeof b=="string"?[b]:b);et[et.length-1]=et[et.length-1].replace(/\r?\n([\t ]*)$/,"");var tt=et.reduce(function(ot,st){var ct=st.match(/\n([\t ]+|(?!\s).)/g);return ct?ot.concat(ct.map(function(lt){var at,it;return(it=(at=lt.match(/[\t ]/g))===null||at===void 0?void 0:at.length)!==null&&it!==void 0?it:0})):ot},[]);if(tt.length){var nt=new RegExp(`
[	 ]{`+Math.min.apply(Math,tt)+"}","g");et=et.map(function(ot){return ot.replace(nt,`
`)})}et[0]=et[0].replace(/^\r?\n/,"");var rt=et[0];return $.forEach(function(ot,st){var ct=rt.match(/(?:^|\n)( *)$/),lt=ct?ct[1]:"",at=ot;typeof ot=="string"&&ot.includes(`
`)&&(at=String(ot).split(`
`).map(function(it,ut){return ut===0?it:""+lt+it}).join(`
`)),rt+=at+et[st+1]}),rt}const scriptRel="modulepreload",assetsURL=function(b){return"/"+b},seen={},__vitePreload=function b($,_e,et){let tt=Promise.resolve();if(_e&&_e.length>0){document.getElementsByTagName("link");const nt=document.querySelector("meta[property=csp-nonce]"),rt=(nt==null?void 0:nt.nonce)||(nt==null?void 0:nt.getAttribute("nonce"));tt=Promise.all(_e.map(ot=>{if(ot=assetsURL(ot),ot in seen)return;seen[ot]=!0;const st=ot.endsWith(".css"),ct=st?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${ot}"]${ct}`))return;const lt=document.createElement("link");if(lt.rel=st?"stylesheet":scriptRel,st||(lt.as="script",lt.crossOrigin=""),lt.href=ot,rt&&lt.setAttribute("nonce",rt),document.head.appendChild(lt),st)return new Promise((at,it)=>{lt.addEventListener("load",at),lt.addEventListener("error",()=>it(new Error(`Unable to preload CSS for ${ot}`)))})}))}return tt.then(()=>$()).catch(nt=>{const rt=new Event("vite:preloadError",{cancelable:!0});if(rt.payload=nt,window.dispatchEvent(rt),!rt.defaultPrevented)throw nt})};var dayjs_min={exports:{}};(function(b,$){(function(_e,et){b.exports=et()})(commonjsGlobal,function(){var _e=1e3,et=6e4,tt=36e5,nt="millisecond",rt="second",ot="minute",st="hour",ct="day",lt="week",at="month",it="quarter",ut="year",dt="date",ht="Invalid Date",ft=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,pt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,mt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(St){var Ct=["th","st","nd","rd"],Et=St%100;return"["+St+(Ct[(Et-20)%10]||Ct[Et]||Ct[0])+"]"}},gt=function(St,Ct,Et){var Tt=String(St);return!Tt||Tt.length>=Ct?St:""+Array(Ct+1-Tt.length).join(Et)+St},vt={s:gt,z:function(St){var Ct=-St.utcOffset(),Et=Math.abs(Ct),Tt=Math.floor(Et/60),$t=Et%60;return(Ct<=0?"+":"-")+gt(Tt,2,"0")+":"+gt($t,2,"0")},m:function St(Ct,Et){if(Ct.date()<Et.date())return-St(Et,Ct);var Tt=12*(Et.year()-Ct.year())+(Et.month()-Ct.month()),$t=Ct.clone().add(Tt,at),Ot=Et-$t<0,Rt=Ct.clone().add(Tt+(Ot?-1:1),at);return+(-(Tt+(Et-$t)/(Ot?$t-Rt:Rt-$t))||0)},a:function(St){return St<0?Math.ceil(St)||0:Math.floor(St)},p:function(St){return{M:at,y:ut,w:lt,d:ct,D:dt,h:st,m:ot,s:rt,ms:nt,Q:it}[St]||String(St||"").toLowerCase().replace(/s$/,"")},u:function(St){return St===void 0}},yt="en",bt={};bt[yt]=mt;var xt="$isDayjsObject",_t=function(St){return St instanceof jt||!(!St||!St[xt])},wt=function St(Ct,Et,Tt){var $t;if(!Ct)return yt;if(typeof Ct=="string"){var Ot=Ct.toLowerCase();bt[Ot]&&($t=Ot),Et&&(bt[Ot]=Et,$t=Ot);var Rt=Ct.split("-");if(!$t&&Rt.length>1)return St(Rt[0])}else{var Nt=Ct.name;bt[Nt]=Ct,$t=Nt}return!Tt&&$t&&(yt=$t),$t||!Tt&&yt},At=function(St,Ct){if(_t(St))return St.clone();var Et=typeof Ct=="object"?Ct:{};return Et.date=St,Et.args=arguments,new jt(Et)},Pt=vt;Pt.l=wt,Pt.i=_t,Pt.w=function(St,Ct){return At(St,{locale:Ct.$L,utc:Ct.$u,x:Ct.$x,$offset:Ct.$offset})};var jt=function(){function St(Et){this.$L=wt(Et.locale,null,!0),this.parse(Et),this.$x=this.$x||Et.x||{},this[xt]=!0}var Ct=St.prototype;return Ct.parse=function(Et){this.$d=function(Tt){var $t=Tt.date,Ot=Tt.utc;if($t===null)return new Date(NaN);if(Pt.u($t))return new Date;if($t instanceof Date)return new Date($t);if(typeof $t=="string"&&!/Z$/i.test($t)){var Rt=$t.match(ft);if(Rt){var Nt=Rt[2]-1||0,Ft=(Rt[7]||"0").substring(0,3);return Ot?new Date(Date.UTC(Rt[1],Nt,Rt[3]||1,Rt[4]||0,Rt[5]||0,Rt[6]||0,Ft)):new Date(Rt[1],Nt,Rt[3]||1,Rt[4]||0,Rt[5]||0,Rt[6]||0,Ft)}}return new Date($t)}(Et),this.init()},Ct.init=function(){var Et=this.$d;this.$y=Et.getFullYear(),this.$M=Et.getMonth(),this.$D=Et.getDate(),this.$W=Et.getDay(),this.$H=Et.getHours(),this.$m=Et.getMinutes(),this.$s=Et.getSeconds(),this.$ms=Et.getMilliseconds()},Ct.$utils=function(){return Pt},Ct.isValid=function(){return this.$d.toString()!==ht},Ct.isSame=function(Et,Tt){var $t=At(Et);return this.startOf(Tt)<=$t&&$t<=this.endOf(Tt)},Ct.isAfter=function(Et,Tt){return At(Et)<this.startOf(Tt)},Ct.isBefore=function(Et,Tt){return this.endOf(Tt)<At(Et)},Ct.$g=function(Et,Tt,$t){return Pt.u(Et)?this[Tt]:this.set($t,Et)},Ct.unix=function(){return Math.floor(this.valueOf()/1e3)},Ct.valueOf=function(){return this.$d.getTime()},Ct.startOf=function(Et,Tt){var $t=this,Ot=!!Pt.u(Tt)||Tt,Rt=Pt.p(Et),Nt=function(qt,vn){var Yt=Pt.w($t.$u?Date.UTC($t.$y,vn,qt):new Date($t.$y,vn,qt),$t);return Ot?Yt:Yt.endOf(ct)},Ft=function(qt,vn){return Pt.w($t.toDate()[qt].apply($t.toDate("s"),(Ot?[0,0,0,0]:[23,59,59,999]).slice(vn)),$t)},Ht=this.$W,zt=this.$M,an=this.$D,Jt="set"+(this.$u?"UTC":"");switch(Rt){case ut:return Ot?Nt(1,0):Nt(31,11);case at:return Ot?Nt(1,zt):Nt(0,zt+1);case lt:var Zt=this.$locale().weekStart||0,Qt=(Ht<Zt?Ht+7:Ht)-Zt;return Nt(Ot?an-Qt:an+(6-Qt),zt);case ct:case dt:return Ft(Jt+"Hours",0);case st:return Ft(Jt+"Minutes",1);case ot:return Ft(Jt+"Seconds",2);case rt:return Ft(Jt+"Milliseconds",3);default:return this.clone()}},Ct.endOf=function(Et){return this.startOf(Et,!1)},Ct.$set=function(Et,Tt){var $t,Ot=Pt.p(Et),Rt="set"+(this.$u?"UTC":""),Nt=($t={},$t[ct]=Rt+"Date",$t[dt]=Rt+"Date",$t[at]=Rt+"Month",$t[ut]=Rt+"FullYear",$t[st]=Rt+"Hours",$t[ot]=Rt+"Minutes",$t[rt]=Rt+"Seconds",$t[nt]=Rt+"Milliseconds",$t)[Ot],Ft=Ot===ct?this.$D+(Tt-this.$W):Tt;if(Ot===at||Ot===ut){var Ht=this.clone().set(dt,1);Ht.$d[Nt](Ft),Ht.init(),this.$d=Ht.set(dt,Math.min(this.$D,Ht.daysInMonth())).$d}else Nt&&this.$d[Nt](Ft);return this.init(),this},Ct.set=function(Et,Tt){return this.clone().$set(Et,Tt)},Ct.get=function(Et){return this[Pt.p(Et)]()},Ct.add=function(Et,Tt){var $t,Ot=this;Et=Number(Et);var Rt=Pt.p(Tt),Nt=function(zt){var an=At(Ot);return Pt.w(an.date(an.date()+Math.round(zt*Et)),Ot)};if(Rt===at)return this.set(at,this.$M+Et);if(Rt===ut)return this.set(ut,this.$y+Et);if(Rt===ct)return Nt(1);if(Rt===lt)return Nt(7);var Ft=($t={},$t[ot]=et,$t[st]=tt,$t[rt]=_e,$t)[Rt]||1,Ht=this.$d.getTime()+Et*Ft;return Pt.w(Ht,this)},Ct.subtract=function(Et,Tt){return this.add(-1*Et,Tt)},Ct.format=function(Et){var Tt=this,$t=this.$locale();if(!this.isValid())return $t.invalidDate||ht;var Ot=Et||"YYYY-MM-DDTHH:mm:ssZ",Rt=Pt.z(this),Nt=this.$H,Ft=this.$m,Ht=this.$M,zt=$t.weekdays,an=$t.months,Jt=$t.meridiem,Zt=function(vn,Yt,rn,pn){return vn&&(vn[Yt]||vn(Tt,Ot))||rn[Yt].slice(0,pn)},Qt=function(vn){return Pt.s(Nt%12||12,vn,"0")},qt=Jt||function(vn,Yt,rn){var pn=vn<12?"AM":"PM";return rn?pn.toLowerCase():pn};return Ot.replace(pt,function(vn,Yt){return Yt||function(rn){switch(rn){case"YY":return String(Tt.$y).slice(-2);case"YYYY":return Pt.s(Tt.$y,4,"0");case"M":return Ht+1;case"MM":return Pt.s(Ht+1,2,"0");case"MMM":return Zt($t.monthsShort,Ht,an,3);case"MMMM":return Zt(an,Ht);case"D":return Tt.$D;case"DD":return Pt.s(Tt.$D,2,"0");case"d":return String(Tt.$W);case"dd":return Zt($t.weekdaysMin,Tt.$W,zt,2);case"ddd":return Zt($t.weekdaysShort,Tt.$W,zt,3);case"dddd":return zt[Tt.$W];case"H":return String(Nt);case"HH":return Pt.s(Nt,2,"0");case"h":return Qt(1);case"hh":return Qt(2);case"a":return qt(Nt,Ft,!0);case"A":return qt(Nt,Ft,!1);case"m":return String(Ft);case"mm":return Pt.s(Ft,2,"0");case"s":return String(Tt.$s);case"ss":return Pt.s(Tt.$s,2,"0");case"SSS":return Pt.s(Tt.$ms,3,"0");case"Z":return Rt}return null}(vn)||Rt.replace(":","")})},Ct.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Ct.diff=function(Et,Tt,$t){var Ot,Rt=this,Nt=Pt.p(Tt),Ft=At(Et),Ht=(Ft.utcOffset()-this.utcOffset())*et,zt=this-Ft,an=function(){return Pt.m(Rt,Ft)};switch(Nt){case ut:Ot=an()/12;break;case at:Ot=an();break;case it:Ot=an()/3;break;case lt:Ot=(zt-Ht)/6048e5;break;case ct:Ot=(zt-Ht)/864e5;break;case st:Ot=zt/tt;break;case ot:Ot=zt/et;break;case rt:Ot=zt/_e;break;default:Ot=zt}return $t?Ot:Pt.a(Ot)},Ct.daysInMonth=function(){return this.endOf(at).$D},Ct.$locale=function(){return bt[this.$L]},Ct.locale=function(Et,Tt){if(!Et)return this.$L;var $t=this.clone(),Ot=wt(Et,Tt,!0);return Ot&&($t.$L=Ot),$t},Ct.clone=function(){return Pt.w(this.$d,this)},Ct.toDate=function(){return new Date(this.valueOf())},Ct.toJSON=function(){return this.isValid()?this.toISOString():null},Ct.toISOString=function(){return this.$d.toISOString()},Ct.toString=function(){return this.$d.toUTCString()},St}(),kt=jt.prototype;return At.prototype=kt,[["$ms",nt],["$s",rt],["$m",ot],["$H",st],["$W",ct],["$M",at],["$y",ut],["$D",dt]].forEach(function(St){kt[St[1]]=function(Ct){return this.$g(Ct,St[0],St[1])}}),At.extend=function(St,Ct){return St.$i||(St(Ct,jt,At),St.$i=!0),At},At.locale=wt,At.isDayjs=_t,At.unix=function(St){return At(1e3*St)},At.en=bt[yt],At.Ls=bt,At.p={},At})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);var dist$1={};(function(b){Object.defineProperty(b,"__esModule",{value:!0}),b.sanitizeUrl=b.BLANK_URL=void 0;var $=/^([^\w]*)(javascript|data|vbscript)/im,_e=/&#(\w+)(^\w|;)?/g,et=/&(newline|tab);/gi,tt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,nt=/^.+(:|&colon;)/gim,rt=[".","/"];b.BLANK_URL="about:blank";function ot(lt){return rt.indexOf(lt[0])>-1}function st(lt){var at=lt.replace(tt,"");return at.replace(_e,function(it,ut){return String.fromCharCode(ut)})}function ct(lt){if(!lt)return b.BLANK_URL;var at=st(lt).replace(et,"").replace(tt,"").trim();if(!at)return b.BLANK_URL;if(ot(at))return at;var it=at.match(nt);if(!it)return at;var ut=it[0];return $.test(ut)?b.BLANK_URL:at}b.sanitizeUrl=ct})(dist$1);var noop$1={value:()=>{}};function dispatch(){for(var b=0,$=arguments.length,_e={},et;b<$;++b){if(!(et=arguments[b]+"")||et in _e||/[\s.]/.test(et))throw new Error("illegal type: "+et);_e[et]=[]}return new Dispatch(_e)}function Dispatch(b){this._=b}function parseTypenames$1(b,$){return b.trim().split(/^|\s+/).map(function(_e){var et="",tt=_e.indexOf(".");if(tt>=0&&(et=_e.slice(tt+1),_e=_e.slice(0,tt)),_e&&!$.hasOwnProperty(_e))throw new Error("unknown type: "+_e);return{type:_e,name:et}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(b,$){var _e=this._,et=parseTypenames$1(b+"",_e),tt,nt=-1,rt=et.length;if(arguments.length<2){for(;++nt<rt;)if((tt=(b=et[nt]).type)&&(tt=get$1(_e[tt],b.name)))return tt;return}if($!=null&&typeof $!="function")throw new Error("invalid callback: "+$);for(;++nt<rt;)if(tt=(b=et[nt]).type)_e[tt]=set$3(_e[tt],b.name,$);else if($==null)for(tt in _e)_e[tt]=set$3(_e[tt],b.name,null);return this},copy:function(){var b={},$=this._;for(var _e in $)b[_e]=$[_e].slice();return new Dispatch(b)},call:function(b,$){if((tt=arguments.length-2)>0)for(var _e=new Array(tt),et=0,tt,nt;et<tt;++et)_e[et]=arguments[et+2];if(!this._.hasOwnProperty(b))throw new Error("unknown type: "+b);for(nt=this._[b],et=0,tt=nt.length;et<tt;++et)nt[et].value.apply($,_e)},apply:function(b,$,_e){if(!this._.hasOwnProperty(b))throw new Error("unknown type: "+b);for(var et=this._[b],tt=0,nt=et.length;tt<nt;++tt)et[tt].value.apply($,_e)}};function get$1(b,$){for(var _e=0,et=b.length,tt;_e<et;++_e)if((tt=b[_e]).name===$)return tt.value}function set$3(b,$,_e){for(var et=0,tt=b.length;et<tt;++et)if(b[et].name===$){b[et]=noop$1,b=b.slice(0,et).concat(b.slice(et+1));break}return _e!=null&&b.push({name:$,value:_e}),b}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(b){var $=b+="",_e=$.indexOf(":");return _e>=0&&($=b.slice(0,_e))!=="xmlns"&&(b=b.slice(_e+1)),namespaces.hasOwnProperty($)?{space:namespaces[$],local:b}:b}function creatorInherit(b){return function(){var $=this.ownerDocument,_e=this.namespaceURI;return _e===xhtml&&$.documentElement.namespaceURI===xhtml?$.createElement(b):$.createElementNS(_e,b)}}function creatorFixed(b){return function(){return this.ownerDocument.createElementNS(b.space,b.local)}}function creator(b){var $=namespace(b);return($.local?creatorFixed:creatorInherit)($)}function none(){}function selector(b){return b==null?none:function(){return this.querySelector(b)}}function selection_select(b){typeof b!="function"&&(b=selector(b));for(var $=this._groups,_e=$.length,et=new Array(_e),tt=0;tt<_e;++tt)for(var nt=$[tt],rt=nt.length,ot=et[tt]=new Array(rt),st,ct,lt=0;lt<rt;++lt)(st=nt[lt])&&(ct=b.call(st,st.__data__,lt,nt))&&("__data__"in st&&(ct.__data__=st.__data__),ot[lt]=ct);return new Selection$1(et,this._parents)}function array(b){return b==null?[]:Array.isArray(b)?b:Array.from(b)}function empty(){return[]}function selectorAll(b){return b==null?empty:function(){return this.querySelectorAll(b)}}function arrayAll(b){return function(){return array(b.apply(this,arguments))}}function selection_selectAll(b){typeof b=="function"?b=arrayAll(b):b=selectorAll(b);for(var $=this._groups,_e=$.length,et=[],tt=[],nt=0;nt<_e;++nt)for(var rt=$[nt],ot=rt.length,st,ct=0;ct<ot;++ct)(st=rt[ct])&&(et.push(b.call(st,st.__data__,ct,rt)),tt.push(st));return new Selection$1(et,tt)}function matcher(b){return function(){return this.matches(b)}}function childMatcher(b){return function($){return $.matches(b)}}var find=Array.prototype.find;function childFind(b){return function(){return find.call(this.children,b)}}function childFirst(){return this.firstElementChild}function selection_selectChild(b){return this.select(b==null?childFirst:childFind(typeof b=="function"?b:childMatcher(b)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(b){return function(){return filter.call(this.children,b)}}function selection_selectChildren(b){return this.selectAll(b==null?children:childrenFilter(typeof b=="function"?b:childMatcher(b)))}function selection_filter(b){typeof b!="function"&&(b=matcher(b));for(var $=this._groups,_e=$.length,et=new Array(_e),tt=0;tt<_e;++tt)for(var nt=$[tt],rt=nt.length,ot=et[tt]=[],st,ct=0;ct<rt;++ct)(st=nt[ct])&&b.call(st,st.__data__,ct,nt)&&ot.push(st);return new Selection$1(et,this._parents)}function sparse(b){return new Array(b.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(b,$){this.ownerDocument=b.ownerDocument,this.namespaceURI=b.namespaceURI,this._next=null,this._parent=b,this.__data__=$}EnterNode.prototype={constructor:EnterNode,appendChild:function(b){return this._parent.insertBefore(b,this._next)},insertBefore:function(b,$){return this._parent.insertBefore(b,$)},querySelector:function(b){return this._parent.querySelector(b)},querySelectorAll:function(b){return this._parent.querySelectorAll(b)}};function constant$2(b){return function(){return b}}function bindIndex(b,$,_e,et,tt,nt){for(var rt=0,ot,st=$.length,ct=nt.length;rt<ct;++rt)(ot=$[rt])?(ot.__data__=nt[rt],et[rt]=ot):_e[rt]=new EnterNode(b,nt[rt]);for(;rt<st;++rt)(ot=$[rt])&&(tt[rt]=ot)}function bindKey(b,$,_e,et,tt,nt,rt){var ot,st,ct=new Map,lt=$.length,at=nt.length,it=new Array(lt),ut;for(ot=0;ot<lt;++ot)(st=$[ot])&&(it[ot]=ut=rt.call(st,st.__data__,ot,$)+"",ct.has(ut)?tt[ot]=st:ct.set(ut,st));for(ot=0;ot<at;++ot)ut=rt.call(b,nt[ot],ot,nt)+"",(st=ct.get(ut))?(et[ot]=st,st.__data__=nt[ot],ct.delete(ut)):_e[ot]=new EnterNode(b,nt[ot]);for(ot=0;ot<lt;++ot)(st=$[ot])&&ct.get(it[ot])===st&&(tt[ot]=st)}function datum(b){return b.__data__}function selection_data(b,$){if(!arguments.length)return Array.from(this,datum);var _e=$?bindKey:bindIndex,et=this._parents,tt=this._groups;typeof b!="function"&&(b=constant$2(b));for(var nt=tt.length,rt=new Array(nt),ot=new Array(nt),st=new Array(nt),ct=0;ct<nt;++ct){var lt=et[ct],at=tt[ct],it=at.length,ut=arraylike(b.call(lt,lt&&lt.__data__,ct,et)),dt=ut.length,ht=ot[ct]=new Array(dt),ft=rt[ct]=new Array(dt),pt=st[ct]=new Array(it);_e(lt,at,ht,ft,pt,ut,$);for(var mt=0,gt=0,vt,yt;mt<dt;++mt)if(vt=ht[mt]){for(mt>=gt&&(gt=mt+1);!(yt=ft[gt])&&++gt<dt;);vt._next=yt||null}}return rt=new Selection$1(rt,et),rt._enter=ot,rt._exit=st,rt}function arraylike(b){return typeof b=="object"&&"length"in b?b:Array.from(b)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(b,$,_e){var et=this.enter(),tt=this,nt=this.exit();return typeof b=="function"?(et=b(et),et&&(et=et.selection())):et=et.append(b+""),$!=null&&(tt=$(tt),tt&&(tt=tt.selection())),_e==null?nt.remove():_e(nt),et&&tt?et.merge(tt).order():tt}function selection_merge(b){for(var $=b.selection?b.selection():b,_e=this._groups,et=$._groups,tt=_e.length,nt=et.length,rt=Math.min(tt,nt),ot=new Array(tt),st=0;st<rt;++st)for(var ct=_e[st],lt=et[st],at=ct.length,it=ot[st]=new Array(at),ut,dt=0;dt<at;++dt)(ut=ct[dt]||lt[dt])&&(it[dt]=ut);for(;st<tt;++st)ot[st]=_e[st];return new Selection$1(ot,this._parents)}function selection_order(){for(var b=this._groups,$=-1,_e=b.length;++$<_e;)for(var et=b[$],tt=et.length-1,nt=et[tt],rt;--tt>=0;)(rt=et[tt])&&(nt&&rt.compareDocumentPosition(nt)^4&&nt.parentNode.insertBefore(rt,nt),nt=rt);return this}function selection_sort(b){b||(b=ascending);function $(at,it){return at&&it?b(at.__data__,it.__data__):!at-!it}for(var _e=this._groups,et=_e.length,tt=new Array(et),nt=0;nt<et;++nt){for(var rt=_e[nt],ot=rt.length,st=tt[nt]=new Array(ot),ct,lt=0;lt<ot;++lt)(ct=rt[lt])&&(st[lt]=ct);st.sort($)}return new Selection$1(tt,this._parents).order()}function ascending(b,$){return b<$?-1:b>$?1:b>=$?0:NaN}function selection_call(){var b=arguments[0];return arguments[0]=this,b.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var b=this._groups,$=0,_e=b.length;$<_e;++$)for(var et=b[$],tt=0,nt=et.length;tt<nt;++tt){var rt=et[tt];if(rt)return rt}return null}function selection_size(){let b=0;for(const $ of this)++b;return b}function selection_empty(){return!this.node()}function selection_each(b){for(var $=this._groups,_e=0,et=$.length;_e<et;++_e)for(var tt=$[_e],nt=0,rt=tt.length,ot;nt<rt;++nt)(ot=tt[nt])&&b.call(ot,ot.__data__,nt,tt);return this}function attrRemove$1(b){return function(){this.removeAttribute(b)}}function attrRemoveNS$1(b){return function(){this.removeAttributeNS(b.space,b.local)}}function attrConstant$1(b,$){return function(){this.setAttribute(b,$)}}function attrConstantNS$1(b,$){return function(){this.setAttributeNS(b.space,b.local,$)}}function attrFunction$1(b,$){return function(){var _e=$.apply(this,arguments);_e==null?this.removeAttribute(b):this.setAttribute(b,_e)}}function attrFunctionNS$1(b,$){return function(){var _e=$.apply(this,arguments);_e==null?this.removeAttributeNS(b.space,b.local):this.setAttributeNS(b.space,b.local,_e)}}function selection_attr(b,$){var _e=namespace(b);if(arguments.length<2){var et=this.node();return _e.local?et.getAttributeNS(_e.space,_e.local):et.getAttribute(_e)}return this.each(($==null?_e.local?attrRemoveNS$1:attrRemove$1:typeof $=="function"?_e.local?attrFunctionNS$1:attrFunction$1:_e.local?attrConstantNS$1:attrConstant$1)(_e,$))}function defaultView(b){return b.ownerDocument&&b.ownerDocument.defaultView||b.document&&b||b.defaultView}function styleRemove$1(b){return function(){this.style.removeProperty(b)}}function styleConstant$1(b,$,_e){return function(){this.style.setProperty(b,$,_e)}}function styleFunction$1(b,$,_e){return function(){var et=$.apply(this,arguments);et==null?this.style.removeProperty(b):this.style.setProperty(b,et,_e)}}function selection_style(b,$,_e){return arguments.length>1?this.each(($==null?styleRemove$1:typeof $=="function"?styleFunction$1:styleConstant$1)(b,$,_e??"")):styleValue(this.node(),b)}function styleValue(b,$){return b.style.getPropertyValue($)||defaultView(b).getComputedStyle(b,null).getPropertyValue($)}function propertyRemove(b){return function(){delete this[b]}}function propertyConstant(b,$){return function(){this[b]=$}}function propertyFunction(b,$){return function(){var _e=$.apply(this,arguments);_e==null?delete this[b]:this[b]=_e}}function selection_property(b,$){return arguments.length>1?this.each(($==null?propertyRemove:typeof $=="function"?propertyFunction:propertyConstant)(b,$)):this.node()[b]}function classArray(b){return b.trim().split(/^|\s+/)}function classList(b){return b.classList||new ClassList(b)}function ClassList(b){this._node=b,this._names=classArray(b.getAttribute("class")||"")}ClassList.prototype={add:function(b){var $=this._names.indexOf(b);$<0&&(this._names.push(b),this._node.setAttribute("class",this._names.join(" ")))},remove:function(b){var $=this._names.indexOf(b);$>=0&&(this._names.splice($,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(b){return this._names.indexOf(b)>=0}};function classedAdd(b,$){for(var _e=classList(b),et=-1,tt=$.length;++et<tt;)_e.add($[et])}function classedRemove(b,$){for(var _e=classList(b),et=-1,tt=$.length;++et<tt;)_e.remove($[et])}function classedTrue(b){return function(){classedAdd(this,b)}}function classedFalse(b){return function(){classedRemove(this,b)}}function classedFunction(b,$){return function(){($.apply(this,arguments)?classedAdd:classedRemove)(this,b)}}function selection_classed(b,$){var _e=classArray(b+"");if(arguments.length<2){for(var et=classList(this.node()),tt=-1,nt=_e.length;++tt<nt;)if(!et.contains(_e[tt]))return!1;return!0}return this.each((typeof $=="function"?classedFunction:$?classedTrue:classedFalse)(_e,$))}function textRemove(){this.textContent=""}function textConstant$1(b){return function(){this.textContent=b}}function textFunction$1(b){return function(){var $=b.apply(this,arguments);this.textContent=$??""}}function selection_text(b){return arguments.length?this.each(b==null?textRemove:(typeof b=="function"?textFunction$1:textConstant$1)(b)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(b){return function(){this.innerHTML=b}}function htmlFunction(b){return function(){var $=b.apply(this,arguments);this.innerHTML=$??""}}function selection_html(b){return arguments.length?this.each(b==null?htmlRemove:(typeof b=="function"?htmlFunction:htmlConstant)(b)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(b){var $=typeof b=="function"?b:creator(b);return this.select(function(){return this.appendChild($.apply(this,arguments))})}function constantNull(){return null}function selection_insert(b,$){var _e=typeof b=="function"?b:creator(b),et=$==null?constantNull:typeof $=="function"?$:selector($);return this.select(function(){return this.insertBefore(_e.apply(this,arguments),et.apply(this,arguments)||null)})}function remove(){var b=this.parentNode;b&&b.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var b=this.cloneNode(!1),$=this.parentNode;return $?$.insertBefore(b,this.nextSibling):b}function selection_cloneDeep(){var b=this.cloneNode(!0),$=this.parentNode;return $?$.insertBefore(b,this.nextSibling):b}function selection_clone(b){return this.select(b?selection_cloneDeep:selection_cloneShallow)}function selection_datum(b){return arguments.length?this.property("__data__",b):this.node().__data__}function contextListener(b){return function($){b.call(this,$,this.__data__)}}function parseTypenames(b){return b.trim().split(/^|\s+/).map(function($){var _e="",et=$.indexOf(".");return et>=0&&(_e=$.slice(et+1),$=$.slice(0,et)),{type:$,name:_e}})}function onRemove(b){return function(){var $=this.__on;if($){for(var _e=0,et=-1,tt=$.length,nt;_e<tt;++_e)nt=$[_e],(!b.type||nt.type===b.type)&&nt.name===b.name?this.removeEventListener(nt.type,nt.listener,nt.options):$[++et]=nt;++et?$.length=et:delete this.__on}}}function onAdd(b,$,_e){return function(){var et=this.__on,tt,nt=contextListener($);if(et){for(var rt=0,ot=et.length;rt<ot;++rt)if((tt=et[rt]).type===b.type&&tt.name===b.name){this.removeEventListener(tt.type,tt.listener,tt.options),this.addEventListener(tt.type,tt.listener=nt,tt.options=_e),tt.value=$;return}}this.addEventListener(b.type,nt,_e),tt={type:b.type,name:b.name,value:$,listener:nt,options:_e},et?et.push(tt):this.__on=[tt]}}function selection_on(b,$,_e){var et=parseTypenames(b+""),tt,nt=et.length,rt;if(arguments.length<2){var ot=this.node().__on;if(ot){for(var st=0,ct=ot.length,lt;st<ct;++st)for(tt=0,lt=ot[st];tt<nt;++tt)if((rt=et[tt]).type===lt.type&&rt.name===lt.name)return lt.value}return}for(ot=$?onAdd:onRemove,tt=0;tt<nt;++tt)this.each(ot(et[tt],$,_e));return this}function dispatchEvent(b,$,_e){var et=defaultView(b),tt=et.CustomEvent;typeof tt=="function"?tt=new tt($,_e):(tt=et.document.createEvent("Event"),_e?(tt.initEvent($,_e.bubbles,_e.cancelable),tt.detail=_e.detail):tt.initEvent($,!1,!1)),b.dispatchEvent(tt)}function dispatchConstant(b,$){return function(){return dispatchEvent(this,b,$)}}function dispatchFunction(b,$){return function(){return dispatchEvent(this,b,$.apply(this,arguments))}}function selection_dispatch(b,$){return this.each((typeof $=="function"?dispatchFunction:dispatchConstant)(b,$))}function*selection_iterator(){for(var b=this._groups,$=0,_e=b.length;$<_e;++$)for(var et=b[$],tt=0,nt=et.length,rt;tt<nt;++tt)(rt=et[tt])&&(yield rt)}var root$1=[null];function Selection$1(b,$){this._groups=b,this._parents=$}function selection$1(){return new Selection$1([[document.documentElement]],root$1)}function selection_selection(){return this}Selection$1.prototype=selection$1.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(b){return typeof b=="string"?new Selection$1([[document.querySelector(b)]],[document.documentElement]):new Selection$1([[b]],root$1)}function define(b,$,_e){b.prototype=$.prototype=_e,_e.constructor=b}function extend$1(b,$){var _e=Object.create(b.prototype);for(var et in $)_e[et]=$[et];return _e}function Color$1(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color$1,color,{copy(b){return Object.assign(new this.constructor,this,b)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(b){var $,_e;return b=(b+"").trim().toLowerCase(),($=reHex.exec(b))?(_e=$[1].length,$=parseInt($[1],16),_e===6?rgbn($):_e===3?new Rgb($>>8&15|$>>4&240,$>>4&15|$&240,($&15)<<4|$&15,1):_e===8?rgba$1($>>24&255,$>>16&255,$>>8&255,($&255)/255):_e===4?rgba$1($>>12&15|$>>8&240,$>>8&15|$>>4&240,$>>4&15|$&240,(($&15)<<4|$&15)/255):null):($=reRgbInteger.exec(b))?new Rgb($[1],$[2],$[3],1):($=reRgbPercent.exec(b))?new Rgb($[1]*255/100,$[2]*255/100,$[3]*255/100,1):($=reRgbaInteger.exec(b))?rgba$1($[1],$[2],$[3],$[4]):($=reRgbaPercent.exec(b))?rgba$1($[1]*255/100,$[2]*255/100,$[3]*255/100,$[4]):($=reHslPercent.exec(b))?hsla($[1],$[2]/100,$[3]/100,1):($=reHslaPercent.exec(b))?hsla($[1],$[2]/100,$[3]/100,$[4]):named.hasOwnProperty(b)?rgbn(named[b]):b==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(b){return new Rgb(b>>16&255,b>>8&255,b&255,1)}function rgba$1(b,$,_e,et){return et<=0&&(b=$=_e=NaN),new Rgb(b,$,_e,et)}function rgbConvert(b){return b instanceof Color$1||(b=color(b)),b?(b=b.rgb(),new Rgb(b.r,b.g,b.b,b.opacity)):new Rgb}function rgb(b,$,_e,et){return arguments.length===1?rgbConvert(b):new Rgb(b,$,_e,et??1)}function Rgb(b,$,_e,et){this.r=+b,this.g=+$,this.b=+_e,this.opacity=+et}define(Rgb,rgb,extend$1(Color$1,{brighter(b){return b=b==null?brighter:Math.pow(brighter,b),new Rgb(this.r*b,this.g*b,this.b*b,this.opacity)},darker(b){return b=b==null?darker:Math.pow(darker,b),new Rgb(this.r*b,this.g*b,this.b*b,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const b=clampa(this.opacity);return`${b===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${b===1?")":`, ${b})`}`}function clampa(b){return isNaN(b)?1:Math.max(0,Math.min(1,b))}function clampi(b){return Math.max(0,Math.min(255,Math.round(b)||0))}function hex(b){return b=clampi(b),(b<16?"0":"")+b.toString(16)}function hsla(b,$,_e,et){return et<=0?b=$=_e=NaN:_e<=0||_e>=1?b=$=NaN:$<=0&&(b=NaN),new Hsl(b,$,_e,et)}function hslConvert(b){if(b instanceof Hsl)return new Hsl(b.h,b.s,b.l,b.opacity);if(b instanceof Color$1||(b=color(b)),!b)return new Hsl;if(b instanceof Hsl)return b;b=b.rgb();var $=b.r/255,_e=b.g/255,et=b.b/255,tt=Math.min($,_e,et),nt=Math.max($,_e,et),rt=NaN,ot=nt-tt,st=(nt+tt)/2;return ot?($===nt?rt=(_e-et)/ot+(_e<et)*6:_e===nt?rt=(et-$)/ot+2:rt=($-_e)/ot+4,ot/=st<.5?nt+tt:2-nt-tt,rt*=60):ot=st>0&&st<1?0:rt,new Hsl(rt,ot,st,b.opacity)}function hsl(b,$,_e,et){return arguments.length===1?hslConvert(b):new Hsl(b,$,_e,et??1)}function Hsl(b,$,_e,et){this.h=+b,this.s=+$,this.l=+_e,this.opacity=+et}define(Hsl,hsl,extend$1(Color$1,{brighter(b){return b=b==null?brighter:Math.pow(brighter,b),new Hsl(this.h,this.s,this.l*b,this.opacity)},darker(b){return b=b==null?darker:Math.pow(darker,b),new Hsl(this.h,this.s,this.l*b,this.opacity)},rgb(){var b=this.h%360+(this.h<0)*360,$=isNaN(b)||isNaN(this.s)?0:this.s,_e=this.l,et=_e+(_e<.5?_e:1-_e)*$,tt=2*_e-et;return new Rgb(hsl2rgb(b>=240?b-240:b+120,tt,et),hsl2rgb(b,tt,et),hsl2rgb(b<120?b+240:b-120,tt,et),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const b=clampa(this.opacity);return`${b===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${b===1?")":`, ${b})`}`}}));function clamph(b){return b=(b||0)%360,b<0?b+360:b}function clampt(b){return Math.max(0,Math.min(1,b||0))}function hsl2rgb(b,$,_e){return(b<60?$+(_e-$)*b/60:b<180?_e:b<240?$+(_e-$)*(240-b)/60:$)*255}const constant$1=b=>()=>b;function linear(b,$){return function(_e){return b+_e*$}}function exponential(b,$,_e){return b=Math.pow(b,_e),$=Math.pow($,_e)-b,_e=1/_e,function(et){return Math.pow(b+et*$,_e)}}function hue(b,$){var _e=$-b;return _e?linear(b,_e>180||_e<-180?_e-360*Math.round(_e/360):_e):constant$1(isNaN(b)?$:b)}function gamma(b){return(b=+b)==1?nogamma:function($,_e){return _e-$?exponential($,_e,b):constant$1(isNaN($)?_e:$)}}function nogamma(b,$){var _e=$-b;return _e?linear(b,_e):constant$1(isNaN(b)?$:b)}const interpolateRgb=function b($){var _e=gamma($);function et(tt,nt){var rt=_e((tt=rgb(tt)).r,(nt=rgb(nt)).r),ot=_e(tt.g,nt.g),st=_e(tt.b,nt.b),ct=nogamma(tt.opacity,nt.opacity);return function(lt){return tt.r=rt(lt),tt.g=ot(lt),tt.b=st(lt),tt.opacity=ct(lt),tt+""}}return et.gamma=b,et}(1);function interpolateNumber(b,$){return b=+b,$=+$,function(_e){return b*(1-_e)+$*_e}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(b){return function(){return b}}function one(b){return function($){return b($)+""}}function interpolateString(b,$){var _e=reA.lastIndex=reB.lastIndex=0,et,tt,nt,rt=-1,ot=[],st=[];for(b=b+"",$=$+"";(et=reA.exec(b))&&(tt=reB.exec($));)(nt=tt.index)>_e&&(nt=$.slice(_e,nt),ot[rt]?ot[rt]+=nt:ot[++rt]=nt),(et=et[0])===(tt=tt[0])?ot[rt]?ot[rt]+=tt:ot[++rt]=tt:(ot[++rt]=null,st.push({i:rt,x:interpolateNumber(et,tt)})),_e=reB.lastIndex;return _e<$.length&&(nt=$.slice(_e),ot[rt]?ot[rt]+=nt:ot[++rt]=nt),ot.length<2?st[0]?one(st[0].x):zero($):($=st.length,function(ct){for(var lt=0,at;lt<$;++lt)ot[(at=st[lt]).i]=at.x(ct);return ot.join("")})}var degrees=180/Math.PI,identity$1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(b,$,_e,et,tt,nt){var rt,ot,st;return(rt=Math.sqrt(b*b+$*$))&&(b/=rt,$/=rt),(st=b*_e+$*et)&&(_e-=b*st,et-=$*st),(ot=Math.sqrt(_e*_e+et*et))&&(_e/=ot,et/=ot,st/=ot),b*et<$*_e&&(b=-b,$=-$,st=-st,rt=-rt),{translateX:tt,translateY:nt,rotate:Math.atan2($,b)*degrees,skewX:Math.atan(st)*degrees,scaleX:rt,scaleY:ot}}var svgNode;function parseCss(b){const $=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(b+"");return $.isIdentity?identity$1:decompose($.a,$.b,$.c,$.d,$.e,$.f)}function parseSvg(b){return b==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",b),!(b=svgNode.transform.baseVal.consolidate()))?identity$1:(b=b.matrix,decompose(b.a,b.b,b.c,b.d,b.e,b.f))}function interpolateTransform(b,$,_e,et){function tt(ct){return ct.length?ct.pop()+" ":""}function nt(ct,lt,at,it,ut,dt){if(ct!==at||lt!==it){var ht=ut.push("translate(",null,$,null,_e);dt.push({i:ht-4,x:interpolateNumber(ct,at)},{i:ht-2,x:interpolateNumber(lt,it)})}else(at||it)&&ut.push("translate("+at+$+it+_e)}function rt(ct,lt,at,it){ct!==lt?(ct-lt>180?lt+=360:lt-ct>180&&(ct+=360),it.push({i:at.push(tt(at)+"rotate(",null,et)-2,x:interpolateNumber(ct,lt)})):lt&&at.push(tt(at)+"rotate("+lt+et)}function ot(ct,lt,at,it){ct!==lt?it.push({i:at.push(tt(at)+"skewX(",null,et)-2,x:interpolateNumber(ct,lt)}):lt&&at.push(tt(at)+"skewX("+lt+et)}function st(ct,lt,at,it,ut,dt){if(ct!==at||lt!==it){var ht=ut.push(tt(ut)+"scale(",null,",",null,")");dt.push({i:ht-4,x:interpolateNumber(ct,at)},{i:ht-2,x:interpolateNumber(lt,it)})}else(at!==1||it!==1)&&ut.push(tt(ut)+"scale("+at+","+it+")")}return function(ct,lt){var at=[],it=[];return ct=b(ct),lt=b(lt),nt(ct.translateX,ct.translateY,lt.translateX,lt.translateY,at,it),rt(ct.rotate,lt.rotate,at,it),ot(ct.skewX,lt.skewX,at,it),st(ct.scaleX,ct.scaleY,lt.scaleX,lt.scaleY,at,it),ct=lt=null,function(ut){for(var dt=-1,ht=it.length,ft;++dt<ht;)at[(ft=it[dt]).i]=ft.x(ut);return at.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(b){setTimeout(b,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(b,$,_e){if(typeof b!="function")throw new TypeError("callback is not a function");_e=(_e==null?now():+_e)+($==null?0:+$),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=b,this._time=_e,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(b,$,_e){var et=new Timer;return et.restart(b,$,_e),et}function timerFlush(){now(),++frame;for(var b=taskHead,$;b;)($=clockNow-b._time)>=0&&b._call.call(void 0,$),b=b._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var b=clock.now(),$=b-clockLast;$>pokeDelay&&(clockSkew-=$,clockLast=b)}function nap(){for(var b,$=taskHead,_e,et=1/0;$;)$._call?(et>$._time&&(et=$._time),b=$,$=$._next):(_e=$._next,$._next=null,$=b?b._next=_e:taskHead=_e);taskTail=b,sleep(et)}function sleep(b){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var $=b-clockNow;$>24?(b<1/0&&(timeout$1=setTimeout(wake,b-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(b,$,_e){var et=new Timer;return $=$==null?0:+$,et.restart(tt=>{et.stop(),b(tt+$)},$,_e),et}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(b,$,_e,et,tt,nt){var rt=b.__transition;if(!rt)b.__transition={};else if(_e in rt)return;create$2(b,_e,{name:$,index:et,group:tt,on:emptyOn,tween:emptyTween,time:nt.time,delay:nt.delay,duration:nt.duration,ease:nt.ease,timer:null,state:CREATED})}function init$1(b,$){var _e=get(b,$);if(_e.state>CREATED)throw new Error("too late; already scheduled");return _e}function set$2(b,$){var _e=get(b,$);if(_e.state>STARTED)throw new Error("too late; already running");return _e}function get(b,$){var _e=b.__transition;if(!_e||!(_e=_e[$]))throw new Error("transition not found");return _e}function create$2(b,$,_e){var et=b.__transition,tt;et[$]=_e,_e.timer=timer(nt,0,_e.time);function nt(ct){_e.state=SCHEDULED,_e.timer.restart(rt,_e.delay,_e.time),_e.delay<=ct&&rt(ct-_e.delay)}function rt(ct){var lt,at,it,ut;if(_e.state!==SCHEDULED)return st();for(lt in et)if(ut=et[lt],ut.name===_e.name){if(ut.state===STARTED)return timeout(rt);ut.state===RUNNING?(ut.state=ENDED,ut.timer.stop(),ut.on.call("interrupt",b,b.__data__,ut.index,ut.group),delete et[lt]):+lt<$&&(ut.state=ENDED,ut.timer.stop(),ut.on.call("cancel",b,b.__data__,ut.index,ut.group),delete et[lt])}if(timeout(function(){_e.state===STARTED&&(_e.state=RUNNING,_e.timer.restart(ot,_e.delay,_e.time),ot(ct))}),_e.state=STARTING,_e.on.call("start",b,b.__data__,_e.index,_e.group),_e.state===STARTING){for(_e.state=STARTED,tt=new Array(it=_e.tween.length),lt=0,at=-1;lt<it;++lt)(ut=_e.tween[lt].value.call(b,b.__data__,_e.index,_e.group))&&(tt[++at]=ut);tt.length=at+1}}function ot(ct){for(var lt=ct<_e.duration?_e.ease.call(null,ct/_e.duration):(_e.timer.restart(st),_e.state=ENDING,1),at=-1,it=tt.length;++at<it;)tt[at].call(b,lt);_e.state===ENDING&&(_e.on.call("end",b,b.__data__,_e.index,_e.group),st())}function st(){_e.state=ENDED,_e.timer.stop(),delete et[$];for(var ct in et)return;delete b.__transition}}function interrupt(b,$){var _e=b.__transition,et,tt,nt=!0,rt;if(_e){$=$==null?null:$+"";for(rt in _e){if((et=_e[rt]).name!==$){nt=!1;continue}tt=et.state>STARTING&&et.state<ENDING,et.state=ENDED,et.timer.stop(),et.on.call(tt?"interrupt":"cancel",b,b.__data__,et.index,et.group),delete _e[rt]}nt&&delete b.__transition}}function selection_interrupt(b){return this.each(function(){interrupt(this,b)})}function tweenRemove(b,$){var _e,et;return function(){var tt=set$2(this,b),nt=tt.tween;if(nt!==_e){et=_e=nt;for(var rt=0,ot=et.length;rt<ot;++rt)if(et[rt].name===$){et=et.slice(),et.splice(rt,1);break}}tt.tween=et}}function tweenFunction(b,$,_e){var et,tt;if(typeof _e!="function")throw new Error;return function(){var nt=set$2(this,b),rt=nt.tween;if(rt!==et){tt=(et=rt).slice();for(var ot={name:$,value:_e},st=0,ct=tt.length;st<ct;++st)if(tt[st].name===$){tt[st]=ot;break}st===ct&&tt.push(ot)}nt.tween=tt}}function transition_tween(b,$){var _e=this._id;if(b+="",arguments.length<2){for(var et=get(this.node(),_e).tween,tt=0,nt=et.length,rt;tt<nt;++tt)if((rt=et[tt]).name===b)return rt.value;return null}return this.each(($==null?tweenRemove:tweenFunction)(_e,b,$))}function tweenValue(b,$,_e){var et=b._id;return b.each(function(){var tt=set$2(this,et);(tt.value||(tt.value={}))[$]=_e.apply(this,arguments)}),function(tt){return get(tt,et).value[$]}}function interpolate(b,$){var _e;return(typeof $=="number"?interpolateNumber:$ instanceof color?interpolateRgb:(_e=color($))?($=_e,interpolateRgb):interpolateString)(b,$)}function attrRemove(b){return function(){this.removeAttribute(b)}}function attrRemoveNS(b){return function(){this.removeAttributeNS(b.space,b.local)}}function attrConstant(b,$,_e){var et,tt=_e+"",nt;return function(){var rt=this.getAttribute(b);return rt===tt?null:rt===et?nt:nt=$(et=rt,_e)}}function attrConstantNS(b,$,_e){var et,tt=_e+"",nt;return function(){var rt=this.getAttributeNS(b.space,b.local);return rt===tt?null:rt===et?nt:nt=$(et=rt,_e)}}function attrFunction(b,$,_e){var et,tt,nt;return function(){var rt,ot=_e(this),st;return ot==null?void this.removeAttribute(b):(rt=this.getAttribute(b),st=ot+"",rt===st?null:rt===et&&st===tt?nt:(tt=st,nt=$(et=rt,ot)))}}function attrFunctionNS(b,$,_e){var et,tt,nt;return function(){var rt,ot=_e(this),st;return ot==null?void this.removeAttributeNS(b.space,b.local):(rt=this.getAttributeNS(b.space,b.local),st=ot+"",rt===st?null:rt===et&&st===tt?nt:(tt=st,nt=$(et=rt,ot)))}}function transition_attr(b,$){var _e=namespace(b),et=_e==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(b,typeof $=="function"?(_e.local?attrFunctionNS:attrFunction)(_e,et,tweenValue(this,"attr."+b,$)):$==null?(_e.local?attrRemoveNS:attrRemove)(_e):(_e.local?attrConstantNS:attrConstant)(_e,et,$))}function attrInterpolate(b,$){return function(_e){this.setAttribute(b,$.call(this,_e))}}function attrInterpolateNS(b,$){return function(_e){this.setAttributeNS(b.space,b.local,$.call(this,_e))}}function attrTweenNS(b,$){var _e,et;function tt(){var nt=$.apply(this,arguments);return nt!==et&&(_e=(et=nt)&&attrInterpolateNS(b,nt)),_e}return tt._value=$,tt}function attrTween(b,$){var _e,et;function tt(){var nt=$.apply(this,arguments);return nt!==et&&(_e=(et=nt)&&attrInterpolate(b,nt)),_e}return tt._value=$,tt}function transition_attrTween(b,$){var _e="attr."+b;if(arguments.length<2)return(_e=this.tween(_e))&&_e._value;if($==null)return this.tween(_e,null);if(typeof $!="function")throw new Error;var et=namespace(b);return this.tween(_e,(et.local?attrTweenNS:attrTween)(et,$))}function delayFunction(b,$){return function(){init$1(this,b).delay=+$.apply(this,arguments)}}function delayConstant(b,$){return $=+$,function(){init$1(this,b).delay=$}}function transition_delay(b){var $=this._id;return arguments.length?this.each((typeof b=="function"?delayFunction:delayConstant)($,b)):get(this.node(),$).delay}function durationFunction(b,$){return function(){set$2(this,b).duration=+$.apply(this,arguments)}}function durationConstant(b,$){return $=+$,function(){set$2(this,b).duration=$}}function transition_duration(b){var $=this._id;return arguments.length?this.each((typeof b=="function"?durationFunction:durationConstant)($,b)):get(this.node(),$).duration}function easeConstant(b,$){if(typeof $!="function")throw new Error;return function(){set$2(this,b).ease=$}}function transition_ease(b){var $=this._id;return arguments.length?this.each(easeConstant($,b)):get(this.node(),$).ease}function easeVarying(b,$){return function(){var _e=$.apply(this,arguments);if(typeof _e!="function")throw new Error;set$2(this,b).ease=_e}}function transition_easeVarying(b){if(typeof b!="function")throw new Error;return this.each(easeVarying(this._id,b))}function transition_filter(b){typeof b!="function"&&(b=matcher(b));for(var $=this._groups,_e=$.length,et=new Array(_e),tt=0;tt<_e;++tt)for(var nt=$[tt],rt=nt.length,ot=et[tt]=[],st,ct=0;ct<rt;++ct)(st=nt[ct])&&b.call(st,st.__data__,ct,nt)&&ot.push(st);return new Transition(et,this._parents,this._name,this._id)}function transition_merge(b){if(b._id!==this._id)throw new Error;for(var $=this._groups,_e=b._groups,et=$.length,tt=_e.length,nt=Math.min(et,tt),rt=new Array(et),ot=0;ot<nt;++ot)for(var st=$[ot],ct=_e[ot],lt=st.length,at=rt[ot]=new Array(lt),it,ut=0;ut<lt;++ut)(it=st[ut]||ct[ut])&&(at[ut]=it);for(;ot<et;++ot)rt[ot]=$[ot];return new Transition(rt,this._parents,this._name,this._id)}function start(b){return(b+"").trim().split(/^|\s+/).every(function($){var _e=$.indexOf(".");return _e>=0&&($=$.slice(0,_e)),!$||$==="start"})}function onFunction(b,$,_e){var et,tt,nt=start($)?init$1:set$2;return function(){var rt=nt(this,b),ot=rt.on;ot!==et&&(tt=(et=ot).copy()).on($,_e),rt.on=tt}}function transition_on(b,$){var _e=this._id;return arguments.length<2?get(this.node(),_e).on.on(b):this.each(onFunction(_e,b,$))}function removeFunction(b){return function(){var $=this.parentNode;for(var _e in this.__transition)if(+_e!==b)return;$&&$.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(b){var $=this._name,_e=this._id;typeof b!="function"&&(b=selector(b));for(var et=this._groups,tt=et.length,nt=new Array(tt),rt=0;rt<tt;++rt)for(var ot=et[rt],st=ot.length,ct=nt[rt]=new Array(st),lt,at,it=0;it<st;++it)(lt=ot[it])&&(at=b.call(lt,lt.__data__,it,ot))&&("__data__"in lt&&(at.__data__=lt.__data__),ct[it]=at,schedule(ct[it],$,_e,it,ct,get(lt,_e)));return new Transition(nt,this._parents,$,_e)}function transition_selectAll(b){var $=this._name,_e=this._id;typeof b!="function"&&(b=selectorAll(b));for(var et=this._groups,tt=et.length,nt=[],rt=[],ot=0;ot<tt;++ot)for(var st=et[ot],ct=st.length,lt,at=0;at<ct;++at)if(lt=st[at]){for(var it=b.call(lt,lt.__data__,at,st),ut,dt=get(lt,_e),ht=0,ft=it.length;ht<ft;++ht)(ut=it[ht])&&schedule(ut,$,_e,ht,it,dt);nt.push(it),rt.push(lt)}return new Transition(nt,rt,$,_e)}var Selection=selection$1.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(b,$){var _e,et,tt;return function(){var nt=styleValue(this,b),rt=(this.style.removeProperty(b),styleValue(this,b));return nt===rt?null:nt===_e&&rt===et?tt:tt=$(_e=nt,et=rt)}}function styleRemove(b){return function(){this.style.removeProperty(b)}}function styleConstant(b,$,_e){var et,tt=_e+"",nt;return function(){var rt=styleValue(this,b);return rt===tt?null:rt===et?nt:nt=$(et=rt,_e)}}function styleFunction(b,$,_e){var et,tt,nt;return function(){var rt=styleValue(this,b),ot=_e(this),st=ot+"";return ot==null&&(st=ot=(this.style.removeProperty(b),styleValue(this,b))),rt===st?null:rt===et&&st===tt?nt:(tt=st,nt=$(et=rt,ot))}}function styleMaybeRemove(b,$){var _e,et,tt,nt="style."+$,rt="end."+nt,ot;return function(){var st=set$2(this,b),ct=st.on,lt=st.value[nt]==null?ot||(ot=styleRemove($)):void 0;(ct!==_e||tt!==lt)&&(et=(_e=ct).copy()).on(rt,tt=lt),st.on=et}}function transition_style(b,$,_e){var et=(b+="")=="transform"?interpolateTransformCss:interpolate;return $==null?this.styleTween(b,styleNull(b,et)).on("end.style."+b,styleRemove(b)):typeof $=="function"?this.styleTween(b,styleFunction(b,et,tweenValue(this,"style."+b,$))).each(styleMaybeRemove(this._id,b)):this.styleTween(b,styleConstant(b,et,$),_e).on("end.style."+b,null)}function styleInterpolate(b,$,_e){return function(et){this.style.setProperty(b,$.call(this,et),_e)}}function styleTween(b,$,_e){var et,tt;function nt(){var rt=$.apply(this,arguments);return rt!==tt&&(et=(tt=rt)&&styleInterpolate(b,rt,_e)),et}return nt._value=$,nt}function transition_styleTween(b,$,_e){var et="style."+(b+="");if(arguments.length<2)return(et=this.tween(et))&&et._value;if($==null)return this.tween(et,null);if(typeof $!="function")throw new Error;return this.tween(et,styleTween(b,$,_e??""))}function textConstant(b){return function(){this.textContent=b}}function textFunction(b){return function(){var $=b(this);this.textContent=$??""}}function transition_text(b){return this.tween("text",typeof b=="function"?textFunction(tweenValue(this,"text",b)):textConstant(b==null?"":b+""))}function textInterpolate(b){return function($){this.textContent=b.call(this,$)}}function textTween(b){var $,_e;function et(){var tt=b.apply(this,arguments);return tt!==_e&&($=(_e=tt)&&textInterpolate(tt)),$}return et._value=b,et}function transition_textTween(b){var $="text";if(arguments.length<1)return($=this.tween($))&&$._value;if(b==null)return this.tween($,null);if(typeof b!="function")throw new Error;return this.tween($,textTween(b))}function transition_transition(){for(var b=this._name,$=this._id,_e=newId(),et=this._groups,tt=et.length,nt=0;nt<tt;++nt)for(var rt=et[nt],ot=rt.length,st,ct=0;ct<ot;++ct)if(st=rt[ct]){var lt=get(st,$);schedule(st,b,_e,ct,rt,{time:lt.time+lt.delay+lt.duration,delay:0,duration:lt.duration,ease:lt.ease})}return new Transition(et,this._parents,b,_e)}function transition_end(){var b,$,_e=this,et=_e._id,tt=_e.size();return new Promise(function(nt,rt){var ot={value:rt},st={value:function(){--tt===0&&nt()}};_e.each(function(){var ct=set$2(this,et),lt=ct.on;lt!==b&&($=(b=lt).copy(),$._.cancel.push(ot),$._.interrupt.push(ot),$._.end.push(st)),ct.on=$}),tt===0&&nt()})}var id$m=0;function Transition(b,$,_e,et){this._groups=b,this._parents=$,this._name=_e,this._id=et}function newId(){return++id$m}var selection_prototype=selection$1.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(b){return((b*=2)<=1?b*b*b:(b-=2)*b*b+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(b,$){for(var _e;!(_e=b.__transition)||!(_e=_e[$]);)if(!(b=b.parentNode))throw new Error(`transition ${$} not found`);return _e}function selection_transition(b){var $,_e;b instanceof Transition?($=b._id,b=b._name):($=newId(),(_e=defaultTiming).time=now(),b=b==null?null:b+"");for(var et=this._groups,tt=et.length,nt=0;nt<tt;++nt)for(var rt=et[nt],ot=rt.length,st,ct=0;ct<ot;++ct)(st=rt[ct])&&schedule(st,b,$,ct,rt,_e||inherit(st,$));return new Transition(et,this._parents,b,$)}selection$1.prototype.interrupt=selection_interrupt;selection$1.prototype.transition=selection_transition;const abs$1=Math.abs,atan2=Math.atan2,cos=Math.cos,max$2=Math.max,min$2=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(b){return b>1?0:b<-1?pi:Math.acos(b)}function asin(b){return b>=1?halfPi:b<=-1?-halfPi:Math.asin(b)}function Linear(b){this._context=b}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(b,$){switch(b=+b,$=+$,this._point){case 0:this._point=1,this._line?this._context.lineTo(b,$):this._context.moveTo(b,$);break;case 1:this._point=2;default:this._context.lineTo(b,$);break}}};function curveLinear(b){return new Linear(b)}class Bump{constructor($,_e){this._context=$,this._x=_e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point($,_e){switch($=+$,_e=+_e,this._point){case 0:{this._point=1,this._line?this._context.lineTo($,_e):this._context.moveTo($,_e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+$)/2,this._y0,this._x0,_e,$,_e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+_e)/2,$,this._y0,$,_e);break}}this._x0=$,this._y0=_e}}function bumpX(b){return new Bump(b,!0)}function bumpY(b){return new Bump(b,!1)}function noop(){}function point$3(b,$,_e){b._context.bezierCurveTo((2*b._x0+b._x1)/3,(2*b._y0+b._y1)/3,(b._x0+2*b._x1)/3,(b._y0+2*b._y1)/3,(b._x0+4*b._x1+$)/6,(b._y0+4*b._y1+_e)/6)}function Basis(b){this._context=b}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$3(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(b,$){switch(b=+b,$=+$,this._point){case 0:this._point=1,this._line?this._context.lineTo(b,$):this._context.moveTo(b,$);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$3(this,b,$);break}this._x0=this._x1,this._x1=b,this._y0=this._y1,this._y1=$}};function curveBasis(b){return new Basis(b)}function BasisClosed(b){this._context=b}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(b,$){switch(b=+b,$=+$,this._point){case 0:this._point=1,this._x2=b,this._y2=$;break;case 1:this._point=2,this._x3=b,this._y3=$;break;case 2:this._point=3,this._x4=b,this._y4=$,this._context.moveTo((this._x0+4*this._x1+b)/6,(this._y0+4*this._y1+$)/6);break;default:point$3(this,b,$);break}this._x0=this._x1,this._x1=b,this._y0=this._y1,this._y1=$}};function curveBasisClosed(b){return new BasisClosed(b)}function BasisOpen(b){this._context=b}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(b,$){switch(b=+b,$=+$,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var _e=(this._x0+4*this._x1+b)/6,et=(this._y0+4*this._y1+$)/6;this._line?this._context.lineTo(_e,et):this._context.moveTo(_e,et);break;case 3:this._point=4;default:point$3(this,b,$);break}this._x0=this._x1,this._x1=b,this._y0=this._y1,this._y1=$}};function curveBasisOpen(b){return new BasisOpen(b)}function Bundle(b,$){this._basis=new Basis(b),this._beta=$}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var b=this._x,$=this._y,_e=b.length-1;if(_e>0)for(var et=b[0],tt=$[0],nt=b[_e]-et,rt=$[_e]-tt,ot=-1,st;++ot<=_e;)st=ot/_e,this._basis.point(this._beta*b[ot]+(1-this._beta)*(et+st*nt),this._beta*$[ot]+(1-this._beta)*(tt+st*rt));this._x=this._y=null,this._basis.lineEnd()},point:function(b,$){this._x.push(+b),this._y.push(+$)}};const curveBundle=function b($){function _e(et){return $===1?new Basis(et):new Bundle(et,$)}return _e.beta=function(et){return b(+et)},_e}(.85);function point$2(b,$,_e){b._context.bezierCurveTo(b._x1+b._k*(b._x2-b._x0),b._y1+b._k*(b._y2-b._y0),b._x2+b._k*(b._x1-$),b._y2+b._k*(b._y1-_e),b._x2,b._y2)}function Cardinal(b,$){this._context=b,this._k=(1-$)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$2(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(b,$){switch(b=+b,$=+$,this._point){case 0:this._point=1,this._line?this._context.lineTo(b,$):this._context.moveTo(b,$);break;case 1:this._point=2,this._x1=b,this._y1=$;break;case 2:this._point=3;default:point$2(this,b,$);break}this._x0=this._x1,this._x1=this._x2,this._x2=b,this._y0=this._y1,this._y1=this._y2,this._y2=$}};const curveCardinal=function b($){function _e(et){return new Cardinal(et,$)}return _e.tension=function(et){return b(+et)},_e}(0);function CardinalClosed(b,$){this._context=b,this._k=(1-$)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(b,$){switch(b=+b,$=+$,this._point){case 0:this._point=1,this._x3=b,this._y3=$;break;case 1:this._point=2,this._context.moveTo(this._x4=b,this._y4=$);break;case 2:this._point=3,this._x5=b,this._y5=$;break;default:point$2(this,b,$);break}this._x0=this._x1,this._x1=this._x2,this._x2=b,this._y0=this._y1,this._y1=this._y2,this._y2=$}};const curveCardinalClosed=function b($){function _e(et){return new CardinalClosed(et,$)}return _e.tension=function(et){return b(+et)},_e}(0);function CardinalOpen(b,$){this._context=b,this._k=(1-$)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(b,$){switch(b=+b,$=+$,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,b,$);break}this._x0=this._x1,this._x1=this._x2,this._x2=b,this._y0=this._y1,this._y1=this._y2,this._y2=$}};const curveCardinalOpen=function b($){function _e(et){return new CardinalOpen(et,$)}return _e.tension=function(et){return b(+et)},_e}(0);function point$1(b,$,_e){var et=b._x1,tt=b._y1,nt=b._x2,rt=b._y2;if(b._l01_a>epsilon){var ot=2*b._l01_2a+3*b._l01_a*b._l12_a+b._l12_2a,st=3*b._l01_a*(b._l01_a+b._l12_a);et=(et*ot-b._x0*b._l12_2a+b._x2*b._l01_2a)/st,tt=(tt*ot-b._y0*b._l12_2a+b._y2*b._l01_2a)/st}if(b._l23_a>epsilon){var ct=2*b._l23_2a+3*b._l23_a*b._l12_a+b._l12_2a,lt=3*b._l23_a*(b._l23_a+b._l12_a);nt=(nt*ct+b._x1*b._l23_2a-$*b._l12_2a)/lt,rt=(rt*ct+b._y1*b._l23_2a-_e*b._l12_2a)/lt}b._context.bezierCurveTo(et,tt,nt,rt,b._x2,b._y2)}function CatmullRom(b,$){this._context=b,this._alpha=$}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(b,$){if(b=+b,$=+$,this._point){var _e=this._x2-b,et=this._y2-$;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(_e*_e+et*et,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(b,$):this._context.moveTo(b,$);break;case 1:this._point=2;break;case 2:this._point=3;default:point$1(this,b,$);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=b,this._y0=this._y1,this._y1=this._y2,this._y2=$}};const curveCatmullRom=function b($){function _e(et){return $?new CatmullRom(et,$):new Cardinal(et,0)}return _e.alpha=function(et){return b(+et)},_e}(.5);function CatmullRomClosed(b,$){this._context=b,this._alpha=$}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(b,$){if(b=+b,$=+$,this._point){var _e=this._x2-b,et=this._y2-$;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(_e*_e+et*et,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=b,this._y3=$;break;case 1:this._point=2,this._context.moveTo(this._x4=b,this._y4=$);break;case 2:this._point=3,this._x5=b,this._y5=$;break;default:point$1(this,b,$);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=b,this._y0=this._y1,this._y1=this._y2,this._y2=$}};const curveCatmullRomClosed=function b($){function _e(et){return $?new CatmullRomClosed(et,$):new CardinalClosed(et,0)}return _e.alpha=function(et){return b(+et)},_e}(.5);function CatmullRomOpen(b,$){this._context=b,this._alpha=$}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(b,$){if(b=+b,$=+$,this._point){var _e=this._x2-b,et=this._y2-$;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(_e*_e+et*et,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$1(this,b,$);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=b,this._y0=this._y1,this._y1=this._y2,this._y2=$}};const curveCatmullRomOpen=function b($){function _e(et){return $?new CatmullRomOpen(et,$):new CardinalOpen(et,0)}return _e.alpha=function(et){return b(+et)},_e}(.5);function LinearClosed(b){this._context=b}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(b,$){b=+b,$=+$,this._point?this._context.lineTo(b,$):(this._point=1,this._context.moveTo(b,$))}};function curveLinearClosed(b){return new LinearClosed(b)}function sign(b){return b<0?-1:1}function slope3(b,$,_e){var et=b._x1-b._x0,tt=$-b._x1,nt=(b._y1-b._y0)/(et||tt<0&&-0),rt=(_e-b._y1)/(tt||et<0&&-0),ot=(nt*tt+rt*et)/(et+tt);return(sign(nt)+sign(rt))*Math.min(Math.abs(nt),Math.abs(rt),.5*Math.abs(ot))||0}function slope2(b,$){var _e=b._x1-b._x0;return _e?(3*(b._y1-b._y0)/_e-$)/2:$}function point(b,$,_e){var et=b._x0,tt=b._y0,nt=b._x1,rt=b._y1,ot=(nt-et)/3;b._context.bezierCurveTo(et+ot,tt+ot*$,nt-ot,rt-ot*_e,nt,rt)}function MonotoneX(b){this._context=b}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(b,$){var _e=NaN;if(b=+b,$=+$,!(b===this._x1&&$===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(b,$):this._context.moveTo(b,$);break;case 1:this._point=2;break;case 2:this._point=3,point(this,slope2(this,_e=slope3(this,b,$)),_e);break;default:point(this,this._t0,_e=slope3(this,b,$));break}this._x0=this._x1,this._x1=b,this._y0=this._y1,this._y1=$,this._t0=_e}}};function MonotoneY(b){this._context=new ReflectContext(b)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(b,$){MonotoneX.prototype.point.call(this,$,b)};function ReflectContext(b){this._context=b}ReflectContext.prototype={moveTo:function(b,$){this._context.moveTo($,b)},closePath:function(){this._context.closePath()},lineTo:function(b,$){this._context.lineTo($,b)},bezierCurveTo:function(b,$,_e,et,tt,nt){this._context.bezierCurveTo($,b,et,_e,nt,tt)}};function monotoneX(b){return new MonotoneX(b)}function monotoneY(b){return new MonotoneY(b)}function Natural(b){this._context=b}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var b=this._x,$=this._y,_e=b.length;if(_e)if(this._line?this._context.lineTo(b[0],$[0]):this._context.moveTo(b[0],$[0]),_e===2)this._context.lineTo(b[1],$[1]);else for(var et=controlPoints(b),tt=controlPoints($),nt=0,rt=1;rt<_e;++nt,++rt)this._context.bezierCurveTo(et[0][nt],tt[0][nt],et[1][nt],tt[1][nt],b[rt],$[rt]);(this._line||this._line!==0&&_e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(b,$){this._x.push(+b),this._y.push(+$)}};function controlPoints(b){var $,_e=b.length-1,et,tt=new Array(_e),nt=new Array(_e),rt=new Array(_e);for(tt[0]=0,nt[0]=2,rt[0]=b[0]+2*b[1],$=1;$<_e-1;++$)tt[$]=1,nt[$]=4,rt[$]=4*b[$]+2*b[$+1];for(tt[_e-1]=2,nt[_e-1]=7,rt[_e-1]=8*b[_e-1]+b[_e],$=1;$<_e;++$)et=tt[$]/nt[$-1],nt[$]-=et,rt[$]-=et*rt[$-1];for(tt[_e-1]=rt[_e-1]/nt[_e-1],$=_e-2;$>=0;--$)tt[$]=(rt[$]-tt[$+1])/nt[$];for(nt[_e-1]=(b[_e]+tt[_e-1])/2,$=0;$<_e-1;++$)nt[$]=2*b[$+1]-tt[$+1];return[tt,nt]}function curveNatural(b){return new Natural(b)}function Step(b,$){this._context=b,this._t=$}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(b,$){switch(b=+b,$=+$,this._point){case 0:this._point=1,this._line?this._context.lineTo(b,$):this._context.moveTo(b,$);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,$),this._context.lineTo(b,$);else{var _e=this._x*(1-this._t)+b*this._t;this._context.lineTo(_e,this._y),this._context.lineTo(_e,$)}break}}this._x=b,this._y=$}};function curveStep(b){return new Step(b,.5)}function stepBefore(b){return new Step(b,0)}function stepAfter(b){return new Step(b,1)}function Transform(b,$,_e){this.k=b,this.x=$,this.y=_e}Transform.prototype={constructor:Transform,scale:function(b){return b===1?this:new Transform(this.k*b,this.x,this.y)},translate:function(b,$){return b===0&$===0?this:new Transform(this.k,this.x+this.k*b,this.y+this.k*$)},apply:function(b){return[b[0]*this.k+this.x,b[1]*this.k+this.y]},applyX:function(b){return b*this.k+this.x},applyY:function(b){return b*this.k+this.y},invert:function(b){return[(b[0]-this.x)/this.k,(b[1]-this.y)/this.k]},invertX:function(b){return(b-this.x)/this.k},invertY:function(b){return(b-this.y)/this.k},rescaleX:function(b){return b.copy().domain(b.range().map(this.invertX,this).map(b.invert,b))},rescaleY:function(b){return b.copy().domain(b.range().map(this.invertY,this).map(b.invert,b))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Transform.prototype;/*! @license DOMPurify 3.1.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.5/LICENSE */const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create:create$1}=Object,{apply:apply$1,construct}=typeof Reflect<"u"&&Reflect;freeze||(freeze=function($){return $});seal||(seal=function($){return $});apply$1||(apply$1=function($,_e,et){return $.apply(_e,et)});construct||(construct=function($,_e){return new $(..._e)});const arrayForEach=unapply(Array.prototype.forEach),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),objectHasOwnProperty=unapply(Object.prototype.hasOwnProperty),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(b){return function($){for(var _e=arguments.length,et=new Array(_e>1?_e-1:0),tt=1;tt<_e;tt++)et[tt-1]=arguments[tt];return apply$1(b,$,et)}}function unconstruct(b){return function(){for(var $=arguments.length,_e=new Array($),et=0;et<$;et++)_e[et]=arguments[et];return construct(b,_e)}}function addToSet(b,$){let _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:stringToLowerCase;setPrototypeOf&&setPrototypeOf(b,null);let et=$.length;for(;et--;){let tt=$[et];if(typeof tt=="string"){const nt=_e(tt);nt!==tt&&(isFrozen($)||($[et]=nt),tt=nt)}b[tt]=!0}return b}function cleanArray(b){for(let $=0;$<b.length;$++)objectHasOwnProperty(b,$)||(b[$]=null);return b}function clone$1(b){const $=create$1(null);for(const[_e,et]of entries(b))objectHasOwnProperty(b,_e)&&(Array.isArray(et)?$[_e]=cleanArray(et):et&&typeof et=="object"&&et.constructor===Object?$[_e]=clone$1(et):$[_e]=et);return $}function lookupGetter(b,$){for(;b!==null;){const et=getOwnPropertyDescriptor(b,$);if(et){if(et.get)return unapply(et.get);if(typeof et.value=="function")return unapply(et.value)}b=getPrototypeOf(b)}function _e(){return null}return _e}const html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text$1=freeze(["#text"]),html$2=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),svg$6=freeze(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\${[\w\W]*}/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),CUSTOM_ELEMENT=seal(/^[a-z][.\w]*(-[.\w]+)+$/i);var EXPRESSIONS=Object.freeze({__proto__:null,MUSTACHE_EXPR,ERB_EXPR,TMPLIT_EXPR,DATA_ATTR,ARIA_ATTR,IS_ALLOWED_URI,IS_SCRIPT_OR_DATA,ATTR_WHITESPACE,DOCTYPE_NAME,CUSTOM_ELEMENT});const NODE_TYPE={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},getGlobal=function b(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function b($,_e){if(typeof $!="object"||typeof $.createPolicy!="function")return null;let et=null;const tt="data-tt-policy-suffix";_e&&_e.hasAttribute(tt)&&(et=_e.getAttribute(tt));const nt="dompurify"+(et?"#"+et:"");try{return $.createPolicy(nt,{createHTML(rt){return rt},createScriptURL(rt){return rt}})}catch{return console.warn("TrustedTypes policy "+nt+" could not be created."),null}};function createDOMPurify(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal();const $=Yn=>createDOMPurify(Yn);if($.version="3.1.5",$.removed=[],!b||!b.document||b.document.nodeType!==NODE_TYPE.document)return $.isSupported=!1,$;let{document:_e}=b;const et=_e,tt=et.currentScript,{DocumentFragment:nt,HTMLTemplateElement:rt,Node:ot,Element:st,NodeFilter:ct,NamedNodeMap:lt=b.NamedNodeMap||b.MozNamedAttrMap,HTMLFormElement:at,DOMParser:it,trustedTypes:ut}=b,dt=st.prototype,ht=lookupGetter(dt,"cloneNode"),ft=lookupGetter(dt,"nextSibling"),pt=lookupGetter(dt,"childNodes"),mt=lookupGetter(dt,"parentNode");if(typeof rt=="function"){const Yn=_e.createElement("template");Yn.content&&Yn.content.ownerDocument&&(_e=Yn.content.ownerDocument)}let gt,vt="";const{implementation:yt,createNodeIterator:bt,createDocumentFragment:xt,getElementsByTagName:_t}=_e,{importNode:wt}=et;let At={};$.isSupported=typeof entries=="function"&&typeof mt=="function"&&yt&&yt.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Pt,ERB_EXPR:jt,TMPLIT_EXPR:kt,DATA_ATTR:St,ARIA_ATTR:Ct,IS_SCRIPT_OR_DATA:Et,ATTR_WHITESPACE:Tt,CUSTOM_ELEMENT:$t}=EXPRESSIONS;let{IS_ALLOWED_URI:Ot}=EXPRESSIONS,Rt=null;const Nt=addToSet({},[...html$1,...svg$1$1,...svgFilters,...mathMl$1,...text$1]);let Ft=null;const Ht=addToSet({},[...html$2,...svg$6,...mathMl,...xml]);let zt=Object.seal(create$1(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),an=null,Jt=null,Zt=!0,Qt=!0,qt=!1,vn=!0,Yt=!1,rn=!0,pn=!1,$n=!1,on=!1,Tn=!1,kn=!1,Bn=!1,On=!0,dn=!1;const wn="user-content-";let bn=!0,Sn=!1,Pn={},In=null;const Ln=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Xn=null;const rr=addToSet({},["audio","video","img","source","image","track"]);let sr=null;const dr=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),lr="http://www.w3.org/1998/Math/MathML",Gn="http://www.w3.org/2000/svg",Ut="http://www.w3.org/1999/xhtml";let ln=Ut,gn=!1,Cn=null;const Fn=addToSet({},[lr,Gn,Ut],stringToString);let Dn=null;const Un=["application/xhtml+xml","text/html"],or="text/html";let tr=null,Vt=null;const hn=_e.createElement("form"),cn=function(en){return en instanceof RegExp||en instanceof Function},fn=function(){let en=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Vt&&Vt===en)){if((!en||typeof en!="object")&&(en={}),en=clone$1(en),Dn=Un.indexOf(en.PARSER_MEDIA_TYPE)===-1?or:en.PARSER_MEDIA_TYPE,tr=Dn==="application/xhtml+xml"?stringToString:stringToLowerCase,Rt=objectHasOwnProperty(en,"ALLOWED_TAGS")?addToSet({},en.ALLOWED_TAGS,tr):Nt,Ft=objectHasOwnProperty(en,"ALLOWED_ATTR")?addToSet({},en.ALLOWED_ATTR,tr):Ht,Cn=objectHasOwnProperty(en,"ALLOWED_NAMESPACES")?addToSet({},en.ALLOWED_NAMESPACES,stringToString):Fn,sr=objectHasOwnProperty(en,"ADD_URI_SAFE_ATTR")?addToSet(clone$1(dr),en.ADD_URI_SAFE_ATTR,tr):dr,Xn=objectHasOwnProperty(en,"ADD_DATA_URI_TAGS")?addToSet(clone$1(rr),en.ADD_DATA_URI_TAGS,tr):rr,In=objectHasOwnProperty(en,"FORBID_CONTENTS")?addToSet({},en.FORBID_CONTENTS,tr):Ln,an=objectHasOwnProperty(en,"FORBID_TAGS")?addToSet({},en.FORBID_TAGS,tr):{},Jt=objectHasOwnProperty(en,"FORBID_ATTR")?addToSet({},en.FORBID_ATTR,tr):{},Pn=objectHasOwnProperty(en,"USE_PROFILES")?en.USE_PROFILES:!1,Zt=en.ALLOW_ARIA_ATTR!==!1,Qt=en.ALLOW_DATA_ATTR!==!1,qt=en.ALLOW_UNKNOWN_PROTOCOLS||!1,vn=en.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Yt=en.SAFE_FOR_TEMPLATES||!1,rn=en.SAFE_FOR_XML!==!1,pn=en.WHOLE_DOCUMENT||!1,Tn=en.RETURN_DOM||!1,kn=en.RETURN_DOM_FRAGMENT||!1,Bn=en.RETURN_TRUSTED_TYPE||!1,on=en.FORCE_BODY||!1,On=en.SANITIZE_DOM!==!1,dn=en.SANITIZE_NAMED_PROPS||!1,bn=en.KEEP_CONTENT!==!1,Sn=en.IN_PLACE||!1,Ot=en.ALLOWED_URI_REGEXP||IS_ALLOWED_URI,ln=en.NAMESPACE||Ut,zt=en.CUSTOM_ELEMENT_HANDLING||{},en.CUSTOM_ELEMENT_HANDLING&&cn(en.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(zt.tagNameCheck=en.CUSTOM_ELEMENT_HANDLING.tagNameCheck),en.CUSTOM_ELEMENT_HANDLING&&cn(en.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(zt.attributeNameCheck=en.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),en.CUSTOM_ELEMENT_HANDLING&&typeof en.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(zt.allowCustomizedBuiltInElements=en.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Yt&&(Qt=!1),kn&&(Tn=!0),Pn&&(Rt=addToSet({},text$1),Ft=[],Pn.html===!0&&(addToSet(Rt,html$1),addToSet(Ft,html$2)),Pn.svg===!0&&(addToSet(Rt,svg$1$1),addToSet(Ft,svg$6),addToSet(Ft,xml)),Pn.svgFilters===!0&&(addToSet(Rt,svgFilters),addToSet(Ft,svg$6),addToSet(Ft,xml)),Pn.mathMl===!0&&(addToSet(Rt,mathMl$1),addToSet(Ft,mathMl),addToSet(Ft,xml))),en.ADD_TAGS&&(Rt===Nt&&(Rt=clone$1(Rt)),addToSet(Rt,en.ADD_TAGS,tr)),en.ADD_ATTR&&(Ft===Ht&&(Ft=clone$1(Ft)),addToSet(Ft,en.ADD_ATTR,tr)),en.ADD_URI_SAFE_ATTR&&addToSet(sr,en.ADD_URI_SAFE_ATTR,tr),en.FORBID_CONTENTS&&(In===Ln&&(In=clone$1(In)),addToSet(In,en.FORBID_CONTENTS,tr)),bn&&(Rt["#text"]=!0),pn&&addToSet(Rt,["html","head","body"]),Rt.table&&(addToSet(Rt,["tbody"]),delete an.tbody),en.TRUSTED_TYPES_POLICY){if(typeof en.TRUSTED_TYPES_POLICY.createHTML!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof en.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');gt=en.TRUSTED_TYPES_POLICY,vt=gt.createHTML("")}else gt===void 0&&(gt=_createTrustedTypesPolicy(ut,tt)),gt!==null&&typeof vt=="string"&&(vt=gt.createHTML(""));freeze&&freeze(en),Vt=en}},Gt=addToSet({},["mi","mo","mn","ms","mtext"]),An=addToSet({},["foreignobject","annotation-xml"]),zn=addToSet({},["title","style","font","a","script"]),Zn=addToSet({},[...svg$1$1,...svgFilters,...svgDisallowed]),Vn=addToSet({},[...mathMl$1,...mathMlDisallowed]),Kn=function(en){let Mn=mt(en);(!Mn||!Mn.tagName)&&(Mn={namespaceURI:ln,tagName:"template"});const Jn=stringToLowerCase(en.tagName),ir=stringToLowerCase(Mn.tagName);return Cn[en.namespaceURI]?en.namespaceURI===Gn?Mn.namespaceURI===Ut?Jn==="svg":Mn.namespaceURI===lr?Jn==="svg"&&(ir==="annotation-xml"||Gt[ir]):!!Zn[Jn]:en.namespaceURI===lr?Mn.namespaceURI===Ut?Jn==="math":Mn.namespaceURI===Gn?Jn==="math"&&An[ir]:!!Vn[Jn]:en.namespaceURI===Ut?Mn.namespaceURI===Gn&&!An[ir]||Mn.namespaceURI===lr&&!Gt[ir]?!1:!Vn[Jn]&&(zn[Jn]||!Zn[Jn]):!!(Dn==="application/xhtml+xml"&&Cn[en.namespaceURI]):!1},Wn=function(en){arrayPush($.removed,{element:en});try{en.parentNode.removeChild(en)}catch{en.remove()}},Qn=function(en,Mn){try{arrayPush($.removed,{attribute:Mn.getAttributeNode(en),from:Mn})}catch{arrayPush($.removed,{attribute:null,from:Mn})}if(Mn.removeAttribute(en),en==="is"&&!Ft[en])if(Tn||kn)try{Wn(Mn)}catch{}else try{Mn.setAttribute(en,"")}catch{}},nr=function(en){let Mn=null,Jn=null;if(on)en="<remove></remove>"+en;else{const wr=stringMatch(en,/^[\r\n\t ]+/);Jn=wr&&wr[0]}Dn==="application/xhtml+xml"&&ln===Ut&&(en='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+en+"</body></html>");const ir=gt?gt.createHTML(en):en;if(ln===Ut)try{Mn=new it().parseFromString(ir,Dn)}catch{}if(!Mn||!Mn.documentElement){Mn=yt.createDocument(ln,"template",null);try{Mn.documentElement.innerHTML=gn?vt:ir}catch{}}const _r=Mn.body||Mn.documentElement;return en&&Jn&&_r.insertBefore(_e.createTextNode(Jn),_r.childNodes[0]||null),ln===Ut?_t.call(Mn,pn?"html":"body")[0]:pn?Mn.documentElement:_r},ar=function(en){return bt.call(en.ownerDocument||en,en,ct.SHOW_ELEMENT|ct.SHOW_COMMENT|ct.SHOW_TEXT|ct.SHOW_PROCESSING_INSTRUCTION|ct.SHOW_CDATA_SECTION,null)},yr=function(en){return en instanceof at&&(typeof en.nodeName!="string"||typeof en.textContent!="string"||typeof en.removeChild!="function"||!(en.attributes instanceof lt)||typeof en.removeAttribute!="function"||typeof en.setAttribute!="function"||typeof en.namespaceURI!="string"||typeof en.insertBefore!="function"||typeof en.hasChildNodes!="function")},vr=function(en){return typeof ot=="function"&&en instanceof ot},gr=function(en,Mn,Jn){At[en]&&arrayForEach(At[en],ir=>{ir.call($,Mn,Jn,Vt)})},mr=function(en){let Mn=null;if(gr("beforeSanitizeElements",en,null),yr(en))return Wn(en),!0;const Jn=tr(en.nodeName);if(gr("uponSanitizeElement",en,{tagName:Jn,allowedTags:Rt}),en.hasChildNodes()&&!vr(en.firstElementChild)&&regExpTest(/<[/\w]/g,en.innerHTML)&&regExpTest(/<[/\w]/g,en.textContent)||en.nodeType===NODE_TYPE.progressingInstruction||rn&&en.nodeType===NODE_TYPE.comment&&regExpTest(/<[/\w]/g,en.data))return Wn(en),!0;if(!Rt[Jn]||an[Jn]){if(!an[Jn]&&Er(Jn)&&(zt.tagNameCheck instanceof RegExp&&regExpTest(zt.tagNameCheck,Jn)||zt.tagNameCheck instanceof Function&&zt.tagNameCheck(Jn)))return!1;if(bn&&!In[Jn]){const ir=mt(en)||en.parentNode,_r=pt(en)||en.childNodes;if(_r&&ir){const wr=_r.length;for(let xr=wr-1;xr>=0;--xr){const Tr=ht(_r[xr],!0);Tr.__removalCount=(en.__removalCount||0)+1,ir.insertBefore(Tr,ft(en))}}}return Wn(en),!0}return en instanceof st&&!Kn(en)||(Jn==="noscript"||Jn==="noembed"||Jn==="noframes")&&regExpTest(/<\/no(script|embed|frames)/i,en.innerHTML)?(Wn(en),!0):(Yt&&en.nodeType===NODE_TYPE.text&&(Mn=en.textContent,arrayForEach([Pt,jt,kt],ir=>{Mn=stringReplace(Mn,ir," ")}),en.textContent!==Mn&&(arrayPush($.removed,{element:en.cloneNode()}),en.textContent=Mn)),gr("afterSanitizeElements",en,null),!1)},qn=function(en,Mn,Jn){if(On&&(Mn==="id"||Mn==="name")&&(Jn in _e||Jn in hn))return!1;if(!(Qt&&!Jt[Mn]&&regExpTest(St,Mn))){if(!(Zt&&regExpTest(Ct,Mn))){if(!Ft[Mn]||Jt[Mn]){if(!(Er(en)&&(zt.tagNameCheck instanceof RegExp&&regExpTest(zt.tagNameCheck,en)||zt.tagNameCheck instanceof Function&&zt.tagNameCheck(en))&&(zt.attributeNameCheck instanceof RegExp&&regExpTest(zt.attributeNameCheck,Mn)||zt.attributeNameCheck instanceof Function&&zt.attributeNameCheck(Mn))||Mn==="is"&&zt.allowCustomizedBuiltInElements&&(zt.tagNameCheck instanceof RegExp&&regExpTest(zt.tagNameCheck,Jn)||zt.tagNameCheck instanceof Function&&zt.tagNameCheck(Jn))))return!1}else if(!sr[Mn]){if(!regExpTest(Ot,stringReplace(Jn,Tt,""))){if(!((Mn==="src"||Mn==="xlink:href"||Mn==="href")&&en!=="script"&&stringIndexOf(Jn,"data:")===0&&Xn[en])){if(!(qt&&!regExpTest(Et,stringReplace(Jn,Tt,"")))){if(Jn)return!1}}}}}}return!0},Er=function(en){return en!=="annotation-xml"&&stringMatch(en,$t)},Sr=function(en){gr("beforeSanitizeAttributes",en,null);const{attributes:Mn}=en;if(!Mn)return;const Jn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ft};let ir=Mn.length;for(;ir--;){const _r=Mn[ir],{name:wr,namespaceURI:xr,value:Tr}=_r,kr=tr(wr);let fr=wr==="value"?Tr:stringTrim(Tr);if(Jn.attrName=kr,Jn.attrValue=fr,Jn.keepAttr=!0,Jn.forceKeepAttr=void 0,gr("uponSanitizeAttribute",en,Jn),fr=Jn.attrValue,Jn.forceKeepAttr||(Qn(wr,en),!Jn.keepAttr))continue;if(!vn&&regExpTest(/\/>/i,fr)){Qn(wr,en);continue}if(rn&&regExpTest(/((--!?|])>)|<\/(style|title)/i,fr)){Qn(wr,en);continue}Yt&&arrayForEach([Pt,jt,kt],Pr=>{fr=stringReplace(fr,Pr," ")});const $r=tr(en.nodeName);if(qn($r,kr,fr)){if(dn&&(kr==="id"||kr==="name")&&(Qn(wr,en),fr=wn+fr),gt&&typeof ut=="object"&&typeof ut.getAttributeType=="function"&&!xr)switch(ut.getAttributeType($r,kr)){case"TrustedHTML":{fr=gt.createHTML(fr);break}case"TrustedScriptURL":{fr=gt.createScriptURL(fr);break}}try{xr?en.setAttributeNS(xr,wr,fr):en.setAttribute(wr,fr),yr(en)?Wn(en):arrayPop($.removed)}catch{}}}gr("afterSanitizeAttributes",en,null)},Dr=function Yn(en){let Mn=null;const Jn=ar(en);for(gr("beforeSanitizeShadowDOM",en,null);Mn=Jn.nextNode();)gr("uponSanitizeShadowNode",Mn,null),!mr(Mn)&&(Mn.content instanceof nt&&Yn(Mn.content),Sr(Mn));gr("afterSanitizeShadowDOM",en,null)};return $.sanitize=function(Yn){let en=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Mn=null,Jn=null,ir=null,_r=null;if(gn=!Yn,gn&&(Yn="<!-->"),typeof Yn!="string"&&!vr(Yn))if(typeof Yn.toString=="function"){if(Yn=Yn.toString(),typeof Yn!="string")throw typeErrorCreate("dirty is not a string, aborting")}else throw typeErrorCreate("toString is not a function");if(!$.isSupported)return Yn;if($n||fn(en),$.removed=[],typeof Yn=="string"&&(Sn=!1),Sn){if(Yn.nodeName){const Tr=tr(Yn.nodeName);if(!Rt[Tr]||an[Tr])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(Yn instanceof ot)Mn=nr("<!---->"),Jn=Mn.ownerDocument.importNode(Yn,!0),Jn.nodeType===NODE_TYPE.element&&Jn.nodeName==="BODY"||Jn.nodeName==="HTML"?Mn=Jn:Mn.appendChild(Jn);else{if(!Tn&&!Yt&&!pn&&Yn.indexOf("<")===-1)return gt&&Bn?gt.createHTML(Yn):Yn;if(Mn=nr(Yn),!Mn)return Tn?null:Bn?vt:""}Mn&&on&&Wn(Mn.firstChild);const wr=ar(Sn?Yn:Mn);for(;ir=wr.nextNode();)mr(ir)||(ir.content instanceof nt&&Dr(ir.content),Sr(ir));if(Sn)return Yn;if(Tn){if(kn)for(_r=xt.call(Mn.ownerDocument);Mn.firstChild;)_r.appendChild(Mn.firstChild);else _r=Mn;return(Ft.shadowroot||Ft.shadowrootmode)&&(_r=wt.call(et,_r,!0)),_r}let xr=pn?Mn.outerHTML:Mn.innerHTML;return pn&&Rt["!doctype"]&&Mn.ownerDocument&&Mn.ownerDocument.doctype&&Mn.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,Mn.ownerDocument.doctype.name)&&(xr="<!DOCTYPE "+Mn.ownerDocument.doctype.name+`>
`+xr),Yt&&arrayForEach([Pt,jt,kt],Tr=>{xr=stringReplace(xr,Tr," ")}),gt&&Bn?gt.createHTML(xr):xr},$.setConfig=function(){let Yn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};fn(Yn),$n=!0},$.clearConfig=function(){Vt=null,$n=!1},$.isValidAttribute=function(Yn,en,Mn){Vt||fn({});const Jn=tr(Yn),ir=tr(en);return qn(Jn,ir,Mn)},$.addHook=function(Yn,en){typeof en=="function"&&(At[Yn]=At[Yn]||[],arrayPush(At[Yn],en))},$.removeHook=function(Yn){if(At[Yn])return arrayPop(At[Yn])},$.removeHooks=function(Yn){At[Yn]&&(At[Yn]=[])},$.removeAllHooks=function(){At={}},$}var purify=createDOMPurify();const Channel={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:b=>b>=255?255:b<0?0:b,g:b=>b>=255?255:b<0?0:b,b:b=>b>=255?255:b<0?0:b,h:b=>b%360,s:b=>b>=100?100:b<0?0:b,l:b=>b>=100?100:b<0?0:b,a:b=>b>=1?1:b<0?0:b},toLinear:b=>{const $=b/255;return b>.03928?Math.pow(($+.055)/1.055,2.4):$/12.92},hue2rgb:(b,$,_e)=>(_e<0&&(_e+=1),_e>1&&(_e-=1),_e<1/6?b+($-b)*6*_e:_e<1/2?$:_e<2/3?b+($-b)*(2/3-_e)*6:b),hsl2rgb:({h:b,s:$,l:_e},et)=>{if(!$)return _e*2.55;b/=360,$/=100,_e/=100;const tt=_e<.5?_e*(1+$):_e+$-_e*$,nt=2*_e-tt;switch(et){case"r":return Channel.hue2rgb(nt,tt,b+1/3)*255;case"g":return Channel.hue2rgb(nt,tt,b)*255;case"b":return Channel.hue2rgb(nt,tt,b-1/3)*255}},rgb2hsl:({r:b,g:$,b:_e},et)=>{b/=255,$/=255,_e/=255;const tt=Math.max(b,$,_e),nt=Math.min(b,$,_e),rt=(tt+nt)/2;if(et==="l")return rt*100;if(tt===nt)return 0;const ot=tt-nt,st=rt>.5?ot/(2-tt-nt):ot/(tt+nt);if(et==="s")return st*100;switch(tt){case b:return(($-_e)/ot+($<_e?6:0))*60;case $:return((_e-b)/ot+2)*60;case _e:return((b-$)/ot+4)*60;default:return-1}}},Lang={clamp:(b,$,_e)=>$>_e?Math.min($,Math.max(_e,b)):Math.min(_e,Math.max($,b)),round:b=>Math.round(b*1e10)/1e10},Unit={dec2hex:b=>{const $=Math.round(b).toString(16);return $.length>1?$:`0${$}`}},Utils={channel:Channel,lang:Lang,unit:Unit},DEC2HEX={};for(let b=0;b<=255;b++)DEC2HEX[b]=Utils.unit.dec2hex(b);const TYPE={ALL:0,RGB:1,HSL:2};class Type{constructor(){this.type=TYPE.ALL}get(){return this.type}set($){if(this.type&&this.type!==$)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=$}reset(){this.type=TYPE.ALL}is($){return this.type===$}}class Channels{constructor($,_e){this.color=_e,this.changed=!1,this.data=$,this.type=new Type}set($,_e){return this.color=_e,this.changed=!1,this.data=$,this.type.type=TYPE.ALL,this}_ensureHSL(){const $=this.data,{h:_e,s:et,l:tt}=$;_e===void 0&&($.h=Utils.channel.rgb2hsl($,"h")),et===void 0&&($.s=Utils.channel.rgb2hsl($,"s")),tt===void 0&&($.l=Utils.channel.rgb2hsl($,"l"))}_ensureRGB(){const $=this.data,{r:_e,g:et,b:tt}=$;_e===void 0&&($.r=Utils.channel.hsl2rgb($,"r")),et===void 0&&($.g=Utils.channel.hsl2rgb($,"g")),tt===void 0&&($.b=Utils.channel.hsl2rgb($,"b"))}get r(){const $=this.data,_e=$.r;return!this.type.is(TYPE.HSL)&&_e!==void 0?_e:(this._ensureHSL(),Utils.channel.hsl2rgb($,"r"))}get g(){const $=this.data,_e=$.g;return!this.type.is(TYPE.HSL)&&_e!==void 0?_e:(this._ensureHSL(),Utils.channel.hsl2rgb($,"g"))}get b(){const $=this.data,_e=$.b;return!this.type.is(TYPE.HSL)&&_e!==void 0?_e:(this._ensureHSL(),Utils.channel.hsl2rgb($,"b"))}get h(){const $=this.data,_e=$.h;return!this.type.is(TYPE.RGB)&&_e!==void 0?_e:(this._ensureRGB(),Utils.channel.rgb2hsl($,"h"))}get s(){const $=this.data,_e=$.s;return!this.type.is(TYPE.RGB)&&_e!==void 0?_e:(this._ensureRGB(),Utils.channel.rgb2hsl($,"s"))}get l(){const $=this.data,_e=$.l;return!this.type.is(TYPE.RGB)&&_e!==void 0?_e:(this._ensureRGB(),Utils.channel.rgb2hsl($,"l"))}get a(){return this.data.a}set r($){this.type.set(TYPE.RGB),this.changed=!0,this.data.r=$}set g($){this.type.set(TYPE.RGB),this.changed=!0,this.data.g=$}set b($){this.type.set(TYPE.RGB),this.changed=!0,this.data.b=$}set h($){this.type.set(TYPE.HSL),this.changed=!0,this.data.h=$}set s($){this.type.set(TYPE.HSL),this.changed=!0,this.data.s=$}set l($){this.type.set(TYPE.HSL),this.changed=!0,this.data.l=$}set a($){this.changed=!0,this.data.a=$}}const channels=new Channels({r:0,g:0,b:0,a:0},"transparent"),Hex={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:b=>{if(b.charCodeAt(0)!==35)return;const $=b.match(Hex.re);if(!$)return;const _e=$[1],et=parseInt(_e,16),tt=_e.length,nt=tt%4===0,rt=tt>4,ot=rt?1:17,st=rt?8:4,ct=nt?0:-1,lt=rt?255:15;return channels.set({r:(et>>st*(ct+3)&lt)*ot,g:(et>>st*(ct+2)&lt)*ot,b:(et>>st*(ct+1)&lt)*ot,a:nt?(et&lt)*ot/255:1},b)},stringify:b=>{const{r:$,g:_e,b:et,a:tt}=b;return tt<1?`#${DEC2HEX[Math.round($)]}${DEC2HEX[Math.round(_e)]}${DEC2HEX[Math.round(et)]}${DEC2HEX[Math.round(tt*255)]}`:`#${DEC2HEX[Math.round($)]}${DEC2HEX[Math.round(_e)]}${DEC2HEX[Math.round(et)]}`}},HSL={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:b=>{const $=b.match(HSL.hueRe);if($){const[,_e,et]=$;switch(et){case"grad":return Utils.channel.clamp.h(parseFloat(_e)*.9);case"rad":return Utils.channel.clamp.h(parseFloat(_e)*180/Math.PI);case"turn":return Utils.channel.clamp.h(parseFloat(_e)*360)}}return Utils.channel.clamp.h(parseFloat(b))},parse:b=>{const $=b.charCodeAt(0);if($!==104&&$!==72)return;const _e=b.match(HSL.re);if(!_e)return;const[,et,tt,nt,rt,ot]=_e;return channels.set({h:HSL._hue2deg(et),s:Utils.channel.clamp.s(parseFloat(tt)),l:Utils.channel.clamp.l(parseFloat(nt)),a:rt?Utils.channel.clamp.a(ot?parseFloat(rt)/100:parseFloat(rt)):1},b)},stringify:b=>{const{h:$,s:_e,l:et,a:tt}=b;return tt<1?`hsla(${Utils.lang.round($)}, ${Utils.lang.round(_e)}%, ${Utils.lang.round(et)}%, ${tt})`:`hsl(${Utils.lang.round($)}, ${Utils.lang.round(_e)}%, ${Utils.lang.round(et)}%)`}},Keyword={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:b=>{b=b.toLowerCase();const $=Keyword.colors[b];if($)return Hex.parse($)},stringify:b=>{const $=Hex.stringify(b);for(const _e in Keyword.colors)if(Keyword.colors[_e]===$)return _e}},RGB={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:b=>{const $=b.charCodeAt(0);if($!==114&&$!==82)return;const _e=b.match(RGB.re);if(!_e)return;const[,et,tt,nt,rt,ot,st,ct,lt]=_e;return channels.set({r:Utils.channel.clamp.r(tt?parseFloat(et)*2.55:parseFloat(et)),g:Utils.channel.clamp.g(rt?parseFloat(nt)*2.55:parseFloat(nt)),b:Utils.channel.clamp.b(st?parseFloat(ot)*2.55:parseFloat(ot)),a:ct?Utils.channel.clamp.a(lt?parseFloat(ct)/100:parseFloat(ct)):1},b)},stringify:b=>{const{r:$,g:_e,b:et,a:tt}=b;return tt<1?`rgba(${Utils.lang.round($)}, ${Utils.lang.round(_e)}, ${Utils.lang.round(et)}, ${Utils.lang.round(tt)})`:`rgb(${Utils.lang.round($)}, ${Utils.lang.round(_e)}, ${Utils.lang.round(et)})`}},Color={format:{keyword:Keyword,hex:Hex,rgb:RGB,rgba:RGB,hsl:HSL,hsla:HSL},parse:b=>{if(typeof b!="string")return b;const $=Hex.parse(b)||RGB.parse(b)||HSL.parse(b)||Keyword.parse(b);if($)return $;throw new Error(`Unsupported color format: "${b}"`)},stringify:b=>!b.changed&&b.color?b.color:b.type.is(TYPE.HSL)||b.data.r===void 0?HSL.stringify(b):b.a<1||!Number.isInteger(b.r)||!Number.isInteger(b.g)||!Number.isInteger(b.b)?RGB.stringify(b):Hex.stringify(b)},change=(b,$)=>{const _e=Color.parse(b);for(const et in $)_e[et]=Utils.channel.clamp[et]($[et]);return Color.stringify(_e)},rgba=(b,$,_e=0,et=1)=>{if(typeof b!="number")return change(b,{a:$});const tt=channels.set({r:Utils.channel.clamp.r(b),g:Utils.channel.clamp.g($),b:Utils.channel.clamp.b(_e),a:Utils.channel.clamp.a(et)});return Color.stringify(tt)},luminance=b=>{const{r:$,g:_e,b:et}=Color.parse(b),tt=.2126*Utils.channel.toLinear($)+.7152*Utils.channel.toLinear(_e)+.0722*Utils.channel.toLinear(et);return Utils.lang.round(tt)},isLight=b=>luminance(b)>=.5,isDark=b=>!isLight(b),adjustChannel=(b,$,_e)=>{const et=Color.parse(b),tt=et[$],nt=Utils.channel.clamp[$](tt+_e);return tt!==nt&&(et[$]=nt),Color.stringify(et)},lighten=(b,$)=>adjustChannel(b,"l",$),darken=(b,$)=>adjustChannel(b,"l",-$),adjust=(b,$)=>{const _e=Color.parse(b),et={};for(const tt in $)$[tt]&&(et[tt]=_e[tt]+$[tt]);return change(b,et)},mix=(b,$,_e=50)=>{const{r:et,g:tt,b:nt,a:rt}=Color.parse(b),{r:ot,g:st,b:ct,a:lt}=Color.parse($),at=_e/100,it=at*2-1,ut=rt-lt,ht=((it*ut===-1?it:(it+ut)/(1+it*ut))+1)/2,ft=1-ht,pt=et*ht+ot*ft,mt=tt*ht+st*ft,gt=nt*ht+ct*ft,vt=rt*at+lt*(1-at);return rgba(pt,mt,gt,vt)},invert=(b,$=100)=>{const _e=Color.parse(b);return _e.r=255-_e.r,_e.g=255-_e.g,_e.b=255-_e.b,mix(_e,b,$)};var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(b){var $=hasOwnProperty$a.call(b,symToStringTag$1),_e=b[symToStringTag$1];try{b[symToStringTag$1]=void 0;var et=!0}catch{}var tt=nativeObjectToString$1.call(b);return et&&($?b[symToStringTag$1]=_e:delete b[symToStringTag$1]),tt}var objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString(b){return nativeObjectToString.call(b)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(b){return b==null?b===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(b)?getRawTag(b):objectToString(b)}function isObject$2(b){var $=typeof b;return b!=null&&($=="object"||$=="function")}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$1(b){if(!isObject$2(b))return!1;var $=baseGetTag(b);return $==funcTag$1||$==genTag||$==asyncTag||$==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var b=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""}();function isMasked(b){return!!maskSrcKey&&maskSrcKey in b}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(b){if(b!=null){try{return funcToString$2.call(b)}catch{}try{return b+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(b){if(!isObject$2(b)||isMasked(b))return!1;var $=isFunction$1(b)?reIsNative:reIsHostCtor;return $.test(toSource(b))}function getValue(b,$){return b==null?void 0:b[$]}function getNative(b,$){var _e=getValue(b,$);return baseIsNative(_e)?_e:void 0}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(b){var $=this.has(b)&&delete this.__data__[b];return this.size-=$?1:0,$}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet(b){var $=this.__data__;if(nativeCreate){var _e=$[b];return _e===HASH_UNDEFINED$1?void 0:_e}return hasOwnProperty$8.call($,b)?$[b]:void 0}var objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas(b){var $=this.__data__;return nativeCreate?$[b]!==void 0:hasOwnProperty$7.call($,b)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(b,$){var _e=this.__data__;return this.size+=this.has(b)?0:1,_e[b]=nativeCreate&&$===void 0?HASH_UNDEFINED:$,this}function Hash(b){var $=-1,_e=b==null?0:b.length;for(this.clear();++$<_e;){var et=b[$];this.set(et[0],et[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function eq(b,$){return b===$||b!==b&&$!==$}function assocIndexOf(b,$){for(var _e=b.length;_e--;)if(eq(b[_e][0],$))return _e;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(b){var $=this.__data__,_e=assocIndexOf($,b);if(_e<0)return!1;var et=$.length-1;return _e==et?$.pop():splice.call($,_e,1),--this.size,!0}function listCacheGet(b){var $=this.__data__,_e=assocIndexOf($,b);return _e<0?void 0:$[_e][1]}function listCacheHas(b){return assocIndexOf(this.__data__,b)>-1}function listCacheSet(b,$){var _e=this.__data__,et=assocIndexOf(_e,b);return et<0?(++this.size,_e.push([b,$])):_e[et][1]=$,this}function ListCache(b){var $=-1,_e=b==null?0:b.length;for(this.clear();++$<_e;){var et=b[$];this.set(et[0],et[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(b){var $=typeof b;return $=="string"||$=="number"||$=="symbol"||$=="boolean"?b!=="__proto__":b===null}function getMapData(b,$){var _e=b.__data__;return isKeyable($)?_e[typeof $=="string"?"string":"hash"]:_e.map}function mapCacheDelete(b){var $=getMapData(this,b).delete(b);return this.size-=$?1:0,$}function mapCacheGet(b){return getMapData(this,b).get(b)}function mapCacheHas(b){return getMapData(this,b).has(b)}function mapCacheSet(b,$){var _e=getMapData(this,b),et=_e.size;return _e.set(b,$),this.size+=_e.size==et?0:1,this}function MapCache(b){var $=-1,_e=b==null?0:b.length;for(this.clear();++$<_e;){var et=b[$];this.set(et[0],et[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(b,$){if(typeof b!="function"||$!=null&&typeof $!="function")throw new TypeError(FUNC_ERROR_TEXT);var _e=function(){var et=arguments,tt=$?$.apply(this,et):et[0],nt=_e.cache;if(nt.has(tt))return nt.get(tt);var rt=b.apply(this,et);return _e.cache=nt.set(tt,rt)||nt,rt};return _e.cache=new(memoize.Cache||MapCache),_e}memoize.Cache=MapCache;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(b){var $=this.__data__,_e=$.delete(b);return this.size=$.size,_e}function stackGet(b){return this.__data__.get(b)}function stackHas(b){return this.__data__.has(b)}var LARGE_ARRAY_SIZE=200;function stackSet(b,$){var _e=this.__data__;if(_e instanceof ListCache){var et=_e.__data__;if(!Map$1||et.length<LARGE_ARRAY_SIZE-1)return et.push([b,$]),this.size=++_e.size,this;_e=this.__data__=new MapCache(et)}return _e.set(b,$),this.size=_e.size,this}function Stack(b){var $=this.__data__=new ListCache(b);this.size=$.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var defineProperty=function(){try{var b=getNative(Object,"defineProperty");return b({},"",{}),b}catch{}}();function baseAssignValue(b,$,_e){$=="__proto__"&&defineProperty?defineProperty(b,$,{configurable:!0,enumerable:!0,value:_e,writable:!0}):b[$]=_e}function assignMergeValue(b,$,_e){(_e!==void 0&&!eq(b[$],_e)||_e===void 0&&!($ in b))&&baseAssignValue(b,$,_e)}function createBaseFor(b){return function($,_e,et){for(var tt=-1,nt=Object($),rt=et($),ot=rt.length;ot--;){var st=rt[++tt];if(_e(nt[st],st,nt)===!1)break}return $}}var baseFor=createBaseFor(),freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root.Buffer:void 0,allocUnsafe=Buffer$2?Buffer$2.allocUnsafe:void 0;function cloneBuffer(b,$){if($)return b.slice();var _e=b.length,et=allocUnsafe?allocUnsafe(_e):new b.constructor(_e);return b.copy(et),et}var Uint8Array$1=root.Uint8Array;function cloneArrayBuffer(b){var $=new b.constructor(b.byteLength);return new Uint8Array$1($).set(new Uint8Array$1(b)),$}function cloneTypedArray(b,$){var _e=$?cloneArrayBuffer(b.buffer):b.buffer;return new b.constructor(_e,b.byteOffset,b.length)}function copyArray(b,$){var _e=-1,et=b.length;for($||($=Array(et));++_e<et;)$[_e]=b[_e];return $}var objectCreate=Object.create,baseCreate=function(){function b(){}return function($){if(!isObject$2($))return{};if(objectCreate)return objectCreate($);b.prototype=$;var _e=new b;return b.prototype=void 0,_e}}();function overArg(b,$){return function(_e){return b($(_e))}}var getPrototype=overArg(Object.getPrototypeOf,Object),objectProto$7=Object.prototype;function isPrototype(b){var $=b&&b.constructor,_e=typeof $=="function"&&$.prototype||objectProto$7;return b===_e}function initCloneObject(b){return typeof b.constructor=="function"&&!isPrototype(b)?baseCreate(getPrototype(b)):{}}function isObjectLike(b){return b!=null&&typeof b=="object"}var argsTag$1="[object Arguments]";function baseIsArguments(b){return isObjectLike(b)&&baseGetTag(b)==argsTag$1}var objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(b){return isObjectLike(b)&&hasOwnProperty$6.call(b,"callee")&&!propertyIsEnumerable.call(b,"callee")},isArray=Array.isArray,MAX_SAFE_INTEGER$1=9007199254740991;function isLength(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=MAX_SAFE_INTEGER$1}function isArrayLike(b){return b!=null&&isLength(b.length)&&!isFunction$1(b)}function isArrayLikeObject(b){return isObjectLike(b)&&isArrayLike(b)}function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer$1=moduleExports$1?root.Buffer:void 0,nativeIsBuffer=Buffer$1?Buffer$1.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,objectTag$2="[object Object]",funcProto=Function.prototype,objectProto$5=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$5=objectProto$5.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(b){if(!isObjectLike(b)||baseGetTag(b)!=objectTag$2)return!1;var $=getPrototype(b);if($===null)return!0;var _e=hasOwnProperty$5.call($,"constructor")&&$.constructor;return typeof _e=="function"&&_e instanceof _e&&funcToString.call(_e)==objectCtorString}var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag="[object Number]",objectTag$1="[object Object]",regexpTag="[object RegExp]",setTag$2="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag]=typedArrayTags[objectTag$1]=typedArrayTags[regexpTag]=typedArrayTags[setTag$2]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(b){return isObjectLike(b)&&isLength(b.length)&&!!typedArrayTags[baseGetTag(b)]}function baseUnary(b){return function($){return b($)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var b=freeModule&&freeModule.require&&freeModule.require("util").types;return b||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function safeGet(b,$){if(!($==="constructor"&&typeof b[$]=="function")&&$!="__proto__")return b[$]}var objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function assignValue(b,$,_e){var et=b[$];(!(hasOwnProperty$4.call(b,$)&&eq(et,_e))||_e===void 0&&!($ in b))&&baseAssignValue(b,$,_e)}function copyObject(b,$,_e,et){var tt=!_e;_e||(_e={});for(var nt=-1,rt=$.length;++nt<rt;){var ot=$[nt],st=void 0;st===void 0&&(st=b[ot]),tt?baseAssignValue(_e,ot,st):assignValue(_e,ot,st)}return _e}function baseTimes(b,$){for(var _e=-1,et=Array(b);++_e<b;)et[_e]=$(_e);return et}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(b,$){var _e=typeof b;return $=$??MAX_SAFE_INTEGER,!!$&&(_e=="number"||_e!="symbol"&&reIsUint.test(b))&&b>-1&&b%1==0&&b<$}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function arrayLikeKeys(b,$){var _e=isArray(b),et=!_e&&isArguments(b),tt=!_e&&!et&&isBuffer(b),nt=!_e&&!et&&!tt&&isTypedArray(b),rt=_e||et||tt||nt,ot=rt?baseTimes(b.length,String):[],st=ot.length;for(var ct in b)($||hasOwnProperty$3.call(b,ct))&&!(rt&&(ct=="length"||tt&&(ct=="offset"||ct=="parent")||nt&&(ct=="buffer"||ct=="byteLength"||ct=="byteOffset")||isIndex(ct,st)))&&ot.push(ct);return ot}function nativeKeysIn(b){var $=[];if(b!=null)for(var _e in Object(b))$.push(_e);return $}var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeysIn(b){if(!isObject$2(b))return nativeKeysIn(b);var $=isPrototype(b),_e=[];for(var et in b)et=="constructor"&&($||!hasOwnProperty$2.call(b,et))||_e.push(et);return _e}function keysIn(b){return isArrayLike(b)?arrayLikeKeys(b,!0):baseKeysIn(b)}function toPlainObject(b){return copyObject(b,keysIn(b))}function baseMergeDeep(b,$,_e,et,tt,nt,rt){var ot=safeGet(b,_e),st=safeGet($,_e),ct=rt.get(st);if(ct){assignMergeValue(b,_e,ct);return}var lt=nt?nt(ot,st,_e+"",b,$,rt):void 0,at=lt===void 0;if(at){var it=isArray(st),ut=!it&&isBuffer(st),dt=!it&&!ut&&isTypedArray(st);lt=st,it||ut||dt?isArray(ot)?lt=ot:isArrayLikeObject(ot)?lt=copyArray(ot):ut?(at=!1,lt=cloneBuffer(st,!0)):dt?(at=!1,lt=cloneTypedArray(st,!0)):lt=[]:isPlainObject(st)||isArguments(st)?(lt=ot,isArguments(ot)?lt=toPlainObject(ot):(!isObject$2(ot)||isFunction$1(ot))&&(lt=initCloneObject(st))):at=!1}at&&(rt.set(st,lt),tt(lt,st,et,nt,rt),rt.delete(st)),assignMergeValue(b,_e,lt)}function baseMerge(b,$,_e,et,tt){b!==$&&baseFor($,function(nt,rt){if(tt||(tt=new Stack),isObject$2(nt))baseMergeDeep(b,$,rt,_e,baseMerge,et,tt);else{var ot=et?et(safeGet(b,rt),nt,rt+"",b,$,tt):void 0;ot===void 0&&(ot=nt),assignMergeValue(b,rt,ot)}},keysIn)}function identity(b){return b}function apply(b,$,_e){switch(_e.length){case 0:return b.call($);case 1:return b.call($,_e[0]);case 2:return b.call($,_e[0],_e[1]);case 3:return b.call($,_e[0],_e[1],_e[2])}return b.apply($,_e)}var nativeMax=Math.max;function overRest(b,$,_e){return $=nativeMax($===void 0?b.length-1:$,0),function(){for(var et=arguments,tt=-1,nt=nativeMax(et.length-$,0),rt=Array(nt);++tt<nt;)rt[tt]=et[$+tt];tt=-1;for(var ot=Array($+1);++tt<$;)ot[tt]=et[tt];return ot[$]=_e(rt),apply(b,this,ot)}}function constant(b){return function(){return b}}var baseSetToString=defineProperty?function(b,$){return defineProperty(b,"toString",{configurable:!0,enumerable:!1,value:constant($),writable:!0})}:identity,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(b){var $=0,_e=0;return function(){var et=nativeNow(),tt=HOT_SPAN-(et-_e);if(_e=et,tt>0){if(++$>=HOT_COUNT)return arguments[0]}else $=0;return b.apply(void 0,arguments)}}var setToString=shortOut(baseSetToString);function baseRest(b,$){return setToString(overRest(b,$,identity),b+"")}function isIterateeCall(b,$,_e){if(!isObject$2(_e))return!1;var et=typeof $;return(et=="number"?isArrayLike(_e)&&isIndex($,_e.length):et=="string"&&$ in _e)?eq(_e[$],b):!1}function createAssigner(b){return baseRest(function($,_e){var et=-1,tt=_e.length,nt=tt>1?_e[tt-1]:void 0,rt=tt>2?_e[2]:void 0;for(nt=b.length>3&&typeof nt=="function"?(tt--,nt):void 0,rt&&isIterateeCall(_e[0],_e[1],rt)&&(nt=tt<3?void 0:nt,tt=1),$=Object($);++et<tt;){var ot=_e[et];ot&&b($,ot,et,nt)}return $})}var merge$1=createAssigner(function(b,$,_e){baseMerge(b,$,_e)}),COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode;function trim(b){return b.trim()}function replace(b,$,_e){return b.replace($,_e)}function indexof(b,$,_e){return b.indexOf($,_e)}function charat(b,$){return b.charCodeAt($)|0}function substr(b,$,_e){return b.slice($,_e)}function strlen(b){return b.length}function sizeof(b){return b.length}function append(b,$){return $.push(b),b}var line=1,column=1,length=0,position=0,character=0,characters="";function node(b,$,_e,et,tt,nt,rt,ot){return{value:b,root:$,parent:_e,type:et,props:tt,children:nt,line,column,length:rt,return:"",siblings:ot}}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret$1(){return position}function slice(b,$){return substr(characters,b,$)}function token(b){switch(b){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(b){return line=column=1,length=strlen(characters=b),position=0,[]}function dealloc(b){return characters="",b}function delimit(b){return trim(slice(position-1,delimiter(b===91?b+2:b===40?b+1:b)))}function whitespace(b){for(;(character=peek())&&character<33;)next();return token(b)>2||token(character)>3?"":" "}function escaping(b,$){for(;--$&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(b,caret$1()+($<6&&peek()==32&&next()==32))}function delimiter(b){for(;next();)switch(character){case b:return position;case 34:case 39:b!==34&&b!==39&&delimiter(character);break;case 40:b===41&&delimiter(b);break;case 92:next();break}return position}function commenter(b,$){for(;next()&&b+character!==57;)if(b+character===84&&peek()===47)break;return"/*"+slice($,position-1)+"*"+from(b===47?b:next())}function identifier(b){for(;!token(peek());)next();return slice(b,position)}function compile(b){return dealloc(parse$3("",null,null,null,[""],b=alloc(b),0,[0],b))}function parse$3(b,$,_e,et,tt,nt,rt,ot,st){for(var ct=0,lt=0,at=rt,it=0,ut=0,dt=0,ht=1,ft=1,pt=1,mt=0,gt="",vt=tt,yt=nt,bt=et,xt=gt;ft;)switch(dt=mt,mt=next()){case 40:if(dt!=108&&charat(xt,at-1)==58){indexof(xt+=replace(delimit(mt),"&","&\f"),"&\f",abs(ct?ot[ct-1]:0))!=-1&&(pt=-1);break}case 34:case 39:case 91:xt+=delimit(mt);break;case 9:case 10:case 13:case 32:xt+=whitespace(dt);break;case 92:xt+=escaping(caret$1()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret$1()),$,_e,st),st);break;default:xt+="/"}break;case 123*ht:ot[ct++]=strlen(xt)*pt;case 125*ht:case 59:case 0:switch(mt){case 0:case 125:ft=0;case 59+lt:pt==-1&&(xt=replace(xt,/\f/g,"")),ut>0&&strlen(xt)-at&&append(ut>32?declaration(xt+";",et,_e,at-1,st):declaration(replace(xt," ","")+";",et,_e,at-2,st),st);break;case 59:xt+=";";default:if(append(bt=ruleset(xt,$,_e,ct,lt,tt,ot,gt,vt=[],yt=[],at,nt),nt),mt===123)if(lt===0)parse$3(xt,$,bt,bt,vt,nt,at,ot,yt);else switch(it===99&&charat(xt,3)===110?100:it){case 100:case 108:case 109:case 115:parse$3(b,bt,bt,et&&append(ruleset(b,bt,bt,0,0,tt,ot,gt,tt,vt=[],at,yt),yt),tt,yt,at,ot,et?vt:yt);break;default:parse$3(xt,bt,bt,bt,[""],yt,0,ot,yt)}}ct=lt=ut=0,ht=pt=1,gt=xt="",at=rt;break;case 58:at=1+strlen(xt),ut=dt;default:if(ht<1){if(mt==123)--ht;else if(mt==125&&ht++==0&&prev()==125)continue}switch(xt+=from(mt),mt*ht){case 38:pt=lt>0?1:(xt+="\f",-1);break;case 44:ot[ct++]=(strlen(xt)-1)*pt,pt=1;break;case 64:peek()===45&&(xt+=delimit(next())),it=peek(),lt=at=strlen(gt=xt+=identifier(caret$1())),mt++;break;case 45:dt===45&&strlen(xt)==2&&(ht=0)}}return nt}function ruleset(b,$,_e,et,tt,nt,rt,ot,st,ct,lt,at){for(var it=tt-1,ut=tt===0?nt:[""],dt=sizeof(ut),ht=0,ft=0,pt=0;ht<et;++ht)for(var mt=0,gt=substr(b,it+1,it=abs(ft=rt[ht])),vt=b;mt<dt;++mt)(vt=trim(ft>0?ut[mt]+" "+gt:replace(gt,/&\f/g,ut[mt])))&&(st[pt++]=vt);return node(b,$,_e,tt===0?RULESET:ot,st,ct,lt,at)}function comment(b,$,_e,et){return node(b,$,_e,COMMENT,from(char()),substr(b,2,-2),0,et)}function declaration(b,$,_e,et,tt){return node(b,$,_e,DECLARATION,substr(b,0,et),substr(b,et+1,-1),et,tt)}function serialize(b,$){for(var _e="",et=0;et<b.length;et++)_e+=$(b[et],et,b,$)||"";return _e}function stringify(b,$,_e,et){switch(b.type){case LAYER:if(b.children.length)break;case IMPORT:case DECLARATION:return b.return=b.return||b.value;case COMMENT:return"";case KEYFRAMES:return b.return=b.value+"{"+serialize(b.children,et)+"}";case RULESET:if(!strlen(b.value=b.props.join(",")))return""}return strlen(_e=serialize(b.children,et))?b.return=b.value+"{"+_e+"}":""}var nativeKeys=overArg(Object.keys,Object),objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function baseKeys(b){if(!isPrototype(b))return nativeKeys(b);var $=[];for(var _e in Object(b))hasOwnProperty$1.call(b,_e)&&_e!="constructor"&&$.push(_e);return $}var DataView$1=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),WeakMap$1=getNative(root,"WeakMap"),mapTag$1="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag(new Map$1)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$1||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag)&&(getTag=function(b){var $=baseGetTag(b),_e=$==objectTag?b.constructor:void 0,et=_e?toSource(_e):"";if(et)switch(et){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return $});var mapTag="[object Map]",setTag="[object Set]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function isEmpty(b){if(b==null)return!0;if(isArrayLike(b)&&(isArray(b)||typeof b=="string"||typeof b.splice=="function"||isBuffer(b)||isTypedArray(b)||isArguments(b)))return!b.length;var $=getTag(b);if($==mapTag||$==setTag)return!b.size;if(isPrototype(b))return!baseKeys(b).length;for(var _e in b)if(hasOwnProperty.call(b,_e))return!1;return!0}const LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},log$1={trace:(...b)=>{},debug:(...b)=>{},info:(...b)=>{},warn:(...b)=>{},error:(...b)=>{},fatal:(...b)=>{}},setLogLevel$1=function(b="fatal"){let $=LEVELS.fatal;typeof b=="string"?(b=b.toLowerCase(),b in LEVELS&&($=LEVELS[b])):typeof b=="number"&&($=b),log$1.trace=()=>{},log$1.debug=()=>{},log$1.info=()=>{},log$1.warn=()=>{},log$1.error=()=>{},log$1.fatal=()=>{},$<=LEVELS.fatal&&(log$1.fatal=console.error?console.error.bind(console,format$1("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",format$1("FATAL"))),$<=LEVELS.error&&(log$1.error=console.error?console.error.bind(console,format$1("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",format$1("ERROR"))),$<=LEVELS.warn&&(log$1.warn=console.warn?console.warn.bind(console,format$1("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",format$1("WARN"))),$<=LEVELS.info&&(log$1.info=console.info?console.info.bind(console,format$1("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",format$1("INFO"))),$<=LEVELS.debug&&(log$1.debug=console.debug?console.debug.bind(console,format$1("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format$1("DEBUG"))),$<=LEVELS.trace&&(log$1.trace=console.debug?console.debug.bind(console,format$1("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format$1("TRACE")))},format$1=b=>`%c${dayjs().format("ss.SSS")} : ${b} : `,lineBreakRegex=/<br\s*\/?>/gi,getRows=b=>b?breakToPlaceholder(b).replace(/\\n/g,"#br#").split("#br#"):[""],setupDompurifyHooksIfNotSetup=(()=>{let b=!1;return()=>{b||(setupDompurifyHooks(),b=!0)}})();function setupDompurifyHooks(){const b="data-temp-href-target";purify.addHook("beforeSanitizeAttributes",$=>{$.tagName==="A"&&$.hasAttribute("target")&&$.setAttribute(b,$.getAttribute("target")||"")}),purify.addHook("afterSanitizeAttributes",$=>{$.tagName==="A"&&$.hasAttribute(b)&&($.setAttribute("target",$.getAttribute(b)||""),$.removeAttribute(b),$.getAttribute("target")==="_blank"&&$.setAttribute("rel","noopener"))})}const removeScript=b=>(setupDompurifyHooksIfNotSetup(),purify.sanitize(b)),sanitizeMore=(b,$)=>{var _e;if(((_e=$.flowchart)==null?void 0:_e.htmlLabels)!==!1){const et=$.securityLevel;et==="antiscript"||et==="strict"?b=removeScript(b):et!=="loose"&&(b=breakToPlaceholder(b),b=b.replace(/</g,"&lt;").replace(/>/g,"&gt;"),b=b.replace(/=/g,"&equals;"),b=placeholderToBreak(b))}return b},sanitizeText$2=(b,$)=>b&&($.dompurifyConfig?b=purify.sanitize(sanitizeMore(b,$),$.dompurifyConfig).toString():b=purify.sanitize(sanitizeMore(b,$),{FORBID_TAGS:["style"]}).toString(),b),sanitizeTextOrArray=(b,$)=>typeof b=="string"?sanitizeText$2(b,$):b.flat().map(_e=>sanitizeText$2(_e,$)),hasBreaks=b=>lineBreakRegex.test(b),splitBreaks=b=>b.split(lineBreakRegex),placeholderToBreak=b=>b.replace(/#br#/g,"<br/>"),breakToPlaceholder=b=>b.replace(lineBreakRegex,"#br#"),getUrl=b=>{let $="";return b&&($=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,$=$.replaceAll(/\(/g,"\\("),$=$.replaceAll(/\)/g,"\\)")),$},evaluate$1=b=>!(b===!1||["false","null","0"].includes(String(b).trim().toLowerCase())),getMax=function(...b){const $=b.filter(_e=>!isNaN(_e));return Math.max(...$)},getMin=function(...b){const $=b.filter(_e=>!isNaN(_e));return Math.min(...$)},parseGenericTypes=function(b){const $=b.split(/(,)/),_e=[];for(let et=0;et<$.length;et++){let tt=$[et];if(tt===","&&et>0&&et+1<$.length){const nt=$[et-1],rt=$[et+1];shouldCombineSets(nt,rt)&&(tt=nt+","+rt,et++,_e.pop())}_e.push(processSet(tt))}return _e.join("")},countOccurrence=(b,$)=>Math.max(0,b.split($).length-1),shouldCombineSets=(b,$)=>{const _e=countOccurrence(b,"~"),et=countOccurrence($,"~");return _e===1&&et===1},processSet=b=>{const $=countOccurrence(b,"~");let _e=!1;if($<=1)return b;$%2!==0&&b.startsWith("~")&&(b=b.substring(1),_e=!0);const et=[...b];let tt=et.indexOf("~"),nt=et.lastIndexOf("~");for(;tt!==-1&&nt!==-1&&tt!==nt;)et[tt]="<",et[nt]=">",tt=et.indexOf("~"),nt=et.lastIndexOf("~");return _e&&et.unshift("~"),et.join("")},isMathMLSupported=()=>window.MathMLElement!==void 0,katexRegex=/\$\$(.*)\$\$/g,hasKatex=b=>{var $;return((($=b.match(katexRegex))==null?void 0:$.length)??0)>0},calculateMathMLDimensions=async(b,$)=>{b=await renderKatex(b,$);const _e=document.createElement("div");_e.innerHTML=b,_e.id="katex-temp",_e.style.visibility="hidden",_e.style.position="absolute",_e.style.top="0";const et=document.querySelector("body");et==null||et.insertAdjacentElement("beforeend",_e);const tt={width:_e.clientWidth,height:_e.clientHeight};return _e.remove(),tt},renderKatex=async(b,$)=>{if(!hasKatex(b))return b;if(!isMathMLSupported()&&!$.legacyMathML)return b.replace(katexRegex,"MathML is unsupported in this environment.");const{default:_e}=await __vitePreload(()=>import("./katex-rPiVaalG.js"),[]);return b.split(lineBreakRegex).map(et=>hasKatex(et)?`
            <div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">
              ${et}
            </div>
          `:`<div>${et}</div>`).join("").replace(katexRegex,(et,tt)=>_e.renderToString(tt,{throwOnError:!0,displayMode:!0,output:isMathMLSupported()?"mathml":"htmlAndMathml"}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},common$1={getRows,sanitizeText:sanitizeText$2,sanitizeTextOrArray,hasBreaks,splitBreaks,lineBreakRegex,removeScript,getUrl,evaluate:evaluate$1,getMax,getMin},mkBorder=(b,$)=>$?adjust(b,{s:-40,l:10}):adjust(b,{s:-40,l:-10}),oldAttributeBackgroundColorOdd="#ffffff",oldAttributeBackgroundColorEven="#f2f2f2";let Theme$4=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var $,_e,et,tt,nt,rt,ot,st,ct,lt,at;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||adjust(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||adjust(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||mkBorder(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||mkBorder(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||invert(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||invert(this.tertiaryColor),this.lineColor=this.lineColor||invert(this.background),this.arrowheadColor=this.arrowheadColor||invert(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||darken(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||invert(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||lighten(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.darkMode)for(let ut=0;ut<this.THEME_COLOR_LIMIT;ut++)this["cScale"+ut]=darken(this["cScale"+ut],75);else for(let ut=0;ut<this.THEME_COLOR_LIMIT;ut++)this["cScale"+ut]=darken(this["cScale"+ut],25);for(let ut=0;ut<this.THEME_COLOR_LIMIT;ut++)this["cScaleInv"+ut]=this["cScaleInv"+ut]||invert(this["cScale"+ut]);for(let ut=0;ut<this.THEME_COLOR_LIMIT;ut++)this.darkMode?this["cScalePeer"+ut]=this["cScalePeer"+ut]||lighten(this["cScale"+ut],10):this["cScalePeer"+ut]=this["cScalePeer"+ut]||darken(this["cScale"+ut],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let ut=0;ut<this.THEME_COLOR_LIMIT;ut++)this["cScaleLabel"+ut]=this["cScaleLabel"+ut]||this.scaleLabelColor;const it=this.darkMode?-4:-1;for(let ut=0;ut<5;ut++)this["surface"+ut]=this["surface"+ut]||adjust(this.mainBkg,{h:180,s:-15,l:it*(5+ut*3)}),this["surfacePeer"+ut]=this["surfacePeer"+ut]||adjust(this.mainBkg,{h:180,s:-15,l:it*(8+ut*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||adjust(this.primaryColor,{h:64}),this.fillType3=this.fillType3||adjust(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||adjust(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||adjust(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||adjust(this.primaryColor,{h:128}),this.fillType7=this.fillType7||adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-10}),this.pie6=this.pie6||adjust(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:(($=this.xyChart)==null?void 0:$.backgroundColor)||this.background,titleColor:((_e=this.xyChart)==null?void 0:_e.titleColor)||this.primaryTextColor,xAxisTitleColor:((et=this.xyChart)==null?void 0:et.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((tt=this.xyChart)==null?void 0:tt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((nt=this.xyChart)==null?void 0:nt.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((rt=this.xyChart)==null?void 0:rt.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((ot=this.xyChart)==null?void 0:ot.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((st=this.xyChart)==null?void 0:st.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((ct=this.xyChart)==null?void 0:ct.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((lt=this.xyChart)==null?void 0:lt.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((at=this.xyChart)==null?void 0:at.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate($){if(typeof $!="object"){this.updateColors();return}const _e=Object.keys($);_e.forEach(et=>{this[et]=$[et]}),this.updateColors(),_e.forEach(et=>{this[et]=$[et]})}};const getThemeVariables$4=b=>{const $=new Theme$4;return $.calculate(b),$};let Theme$3=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=lighten(this.primaryColor,16),this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=invert(this.background),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=lighten(invert("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=rgba(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=darken("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=darken(this.sectionBkgColor,10),this.taskBorderColor=rgba(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=rgba(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var $,_e,et,tt,nt,rt,ot,st,ct,lt,at;this.secondBkg=lighten(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=lighten(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=lighten(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330});for(let it=0;it<this.THEME_COLOR_LIMIT;it++)this["cScaleInv"+it]=this["cScaleInv"+it]||invert(this["cScale"+it]);for(let it=0;it<this.THEME_COLOR_LIMIT;it++)this["cScalePeer"+it]=this["cScalePeer"+it]||lighten(this["cScale"+it],10);for(let it=0;it<5;it++)this["surface"+it]=this["surface"+it]||adjust(this.mainBkg,{h:30,s:-30,l:-(-10+it*4)}),this["surfacePeer"+it]=this["surfacePeer"+it]||adjust(this.mainBkg,{h:30,s:-30,l:-(-7+it*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let it=0;it<this.THEME_COLOR_LIMIT;it++)this["cScaleLabel"+it]=this["cScaleLabel"+it]||this.scaleLabelColor;for(let it=0;it<this.THEME_COLOR_LIMIT;it++)this["pie"+it]=this["cScale"+it];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:(($=this.xyChart)==null?void 0:$.backgroundColor)||this.background,titleColor:((_e=this.xyChart)==null?void 0:_e.titleColor)||this.primaryTextColor,xAxisTitleColor:((et=this.xyChart)==null?void 0:et.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((tt=this.xyChart)==null?void 0:tt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((nt=this.xyChart)==null?void 0:nt.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((rt=this.xyChart)==null?void 0:rt.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((ot=this.xyChart)==null?void 0:ot.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((st=this.xyChart)==null?void 0:st.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((ct=this.xyChart)==null?void 0:ct.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((lt=this.xyChart)==null?void 0:lt.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((at=this.xyChart)==null?void 0:at.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=lighten(this.secondaryColor,20),this.git1=lighten(this.pie2||this.secondaryColor,20),this.git2=lighten(this.pie3||this.tertiaryColor,20),this.git3=lighten(this.pie4||adjust(this.primaryColor,{h:-30}),20),this.git4=lighten(this.pie5||adjust(this.primaryColor,{h:-60}),20),this.git5=lighten(this.pie6||adjust(this.primaryColor,{h:-90}),10),this.git6=lighten(this.pie7||adjust(this.primaryColor,{h:60}),10),this.git7=lighten(this.pie8||adjust(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lighten(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lighten(this.background,2)}calculate($){if(typeof $!="object"){this.updateColors();return}const _e=Object.keys($);_e.forEach(et=>{this[et]=$[et]}),this.updateColors(),_e.forEach(et=>{this[et]=$[et]})}};const getThemeVariables$3=b=>{const $=new Theme$3;return $.calculate(b),$};let Theme$2=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=adjust(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=rgba(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var $,_e,et,tt,nt,rt,ot,st,ct,lt,at;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken(this.tertiaryColor,40);for(let it=0;it<this.THEME_COLOR_LIMIT;it++)this["cScale"+it]=darken(this["cScale"+it],10),this["cScalePeer"+it]=this["cScalePeer"+it]||darken(this["cScale"+it],25);for(let it=0;it<this.THEME_COLOR_LIMIT;it++)this["cScaleInv"+it]=this["cScaleInv"+it]||adjust(this["cScale"+it],{h:180});for(let it=0;it<5;it++)this["surface"+it]=this["surface"+it]||adjust(this.mainBkg,{h:30,l:-(5+it*5)}),this["surfacePeer"+it]=this["surfacePeer"+it]||adjust(this.mainBkg,{h:30,l:-(7+it*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||invert(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||invert(this.labelTextColor);for(let it=0;it<this.THEME_COLOR_LIMIT;it++)this["cScaleLabel"+it]=this["cScaleLabel"+it]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=lighten(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||adjust(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:(($=this.xyChart)==null?void 0:$.backgroundColor)||this.background,titleColor:((_e=this.xyChart)==null?void 0:_e.titleColor)||this.primaryTextColor,xAxisTitleColor:((et=this.xyChart)==null?void 0:et.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((tt=this.xyChart)==null?void 0:tt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((nt=this.xyChart)==null?void 0:nt.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((rt=this.xyChart)==null?void 0:rt.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((ot=this.xyChart)==null?void 0:ot.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((st=this.xyChart)==null?void 0:st.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((ct=this.xyChart)==null?void 0:ct.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((lt=this.xyChart)==null?void 0:lt.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((at=this.xyChart)==null?void 0:at.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||darken(invert(this.git0),25),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate($){if(typeof $!="object"){this.updateColors();return}const _e=Object.keys($);_e.forEach(et=>{this[et]=$[et]}),this.updateColors(),_e.forEach(et=>{this[et]=$[et]})}};const getThemeVariables$2=b=>{const $=new Theme$2;return $.calculate(b),$};let Theme$1=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=lighten("#cde498",10),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.primaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var $,_e,et,tt,nt,rt,ot,st,ct,lt,at;this.actorBorder=darken(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken(this.tertiaryColor,40);for(let it=0;it<this.THEME_COLOR_LIMIT;it++)this["cScale"+it]=darken(this["cScale"+it],10),this["cScalePeer"+it]=this["cScalePeer"+it]||darken(this["cScale"+it],25);for(let it=0;it<this.THEME_COLOR_LIMIT;it++)this["cScaleInv"+it]=this["cScaleInv"+it]||adjust(this["cScale"+it],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let it=0;it<this.THEME_COLOR_LIMIT;it++)this["cScaleLabel"+it]=this["cScaleLabel"+it]||this.scaleLabelColor;for(let it=0;it<5;it++)this["surface"+it]=this["surface"+it]||adjust(this.mainBkg,{h:30,s:-30,l:-(5+it*5)}),this["surfacePeer"+it]=this["surfacePeer"+it]||adjust(this.mainBkg,{h:30,s:-30,l:-(8+it*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust(this.primaryColor,{l:-30}),this.pie5=this.pie5||adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||adjust(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||adjust(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:(($=this.xyChart)==null?void 0:$.backgroundColor)||this.background,titleColor:((_e=this.xyChart)==null?void 0:_e.titleColor)||this.primaryTextColor,xAxisTitleColor:((et=this.xyChart)==null?void 0:et.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((tt=this.xyChart)==null?void 0:tt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((nt=this.xyChart)==null?void 0:nt.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((rt=this.xyChart)==null?void 0:rt.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((ot=this.xyChart)==null?void 0:ot.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((st=this.xyChart)==null?void 0:st.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((ct=this.xyChart)==null?void 0:ct.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((lt=this.xyChart)==null?void 0:lt.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((at=this.xyChart)==null?void 0:at.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust(this.primaryColor,{h:-30}),this.git4=this.git4||adjust(this.primaryColor,{h:-60}),this.git5=this.git5||adjust(this.primaryColor,{h:-90}),this.git6=this.git6||adjust(this.primaryColor,{h:60}),this.git7=this.git7||adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten(this.git0,25),this.git1=lighten(this.git1,25),this.git2=lighten(this.git2,25),this.git3=lighten(this.git3,25),this.git4=lighten(this.git4,25),this.git5=lighten(this.git5,25),this.git6=lighten(this.git6,25),this.git7=lighten(this.git7,25)):(this.git0=darken(this.git0,25),this.git1=darken(this.git1,25),this.git2=darken(this.git2,25),this.git3=darken(this.git3,25),this.git4=darken(this.git4,25),this.git5=darken(this.git5,25),this.git6=darken(this.git6,25),this.git7=darken(this.git7,25)),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate($){if(typeof $!="object"){this.updateColors();return}const _e=Object.keys($);_e.forEach(et=>{this[et]=$[et]}),this.updateColors(),_e.forEach(et=>{this[et]=$[et]})}};const getThemeVariables$1=b=>{const $=new Theme$1;return $.calculate(b),$};class Theme5{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=lighten(this.contrast,55),this.background="#ffffff",this.tertiaryColor=adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert(this.primaryColor),this.secondaryTextColor=invert(this.secondaryColor),this.tertiaryTextColor=invert(this.tertiaryColor),this.lineColor=invert(this.background),this.textColor=invert(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var $,_e,et,tt,nt,rt,ot,st,ct,lt,at;this.secondBkg=lighten(this.contrast,55),this.border2=this.contrast,this.actorBorder=lighten(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let it=0;it<this.THEME_COLOR_LIMIT;it++)this["cScaleInv"+it]=this["cScaleInv"+it]||invert(this["cScale"+it]);for(let it=0;it<this.THEME_COLOR_LIMIT;it++)this.darkMode?this["cScalePeer"+it]=this["cScalePeer"+it]||lighten(this["cScale"+it],10):this["cScalePeer"+it]=this["cScalePeer"+it]||darken(this["cScale"+it],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let it=0;it<this.THEME_COLOR_LIMIT;it++)this["cScaleLabel"+it]=this["cScaleLabel"+it]||this.scaleLabelColor;for(let it=0;it<5;it++)this["surface"+it]=this["surface"+it]||adjust(this.mainBkg,{l:-(5+it*5)}),this["surfacePeer"+it]=this["surfacePeer"+it]||adjust(this.mainBkg,{l:-(8+it*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=lighten(this.contrast,30),this.sectionBkgColor2=lighten(this.contrast,30),this.taskBorderColor=darken(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=lighten(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=darken(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust(this.primaryColor,{h:64}),this.fillType3=adjust(this.secondaryColor,{h:64}),this.fillType4=adjust(this.primaryColor,{h:-64}),this.fillType5=adjust(this.secondaryColor,{h:-64}),this.fillType6=adjust(this.primaryColor,{h:128}),this.fillType7=adjust(this.secondaryColor,{h:128});for(let it=0;it<this.THEME_COLOR_LIMIT;it++)this["pie"+it]=this["cScale"+it];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark(this.quadrant1Fill)?lighten(this.quadrant1Fill):darken(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:(($=this.xyChart)==null?void 0:$.backgroundColor)||this.background,titleColor:((_e=this.xyChart)==null?void 0:_e.titleColor)||this.primaryTextColor,xAxisTitleColor:((et=this.xyChart)==null?void 0:et.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((tt=this.xyChart)==null?void 0:tt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((nt=this.xyChart)==null?void 0:nt.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((rt=this.xyChart)==null?void 0:rt.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((ot=this.xyChart)==null?void 0:ot.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((st=this.xyChart)==null?void 0:st.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((ct=this.xyChart)==null?void 0:ct.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((lt=this.xyChart)==null?void 0:lt.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((at=this.xyChart)==null?void 0:at.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=darken(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||adjust(this.primaryColor,{h:-30}),this.git4=this.pie5||adjust(this.primaryColor,{h:-60}),this.git5=this.pie6||adjust(this.primaryColor,{h:-90}),this.git6=this.pie7||adjust(this.primaryColor,{h:60}),this.git7=this.pie8||adjust(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||invert(this.git0),this.gitInv1=this.gitInv1||invert(this.git1),this.gitInv2=this.gitInv2||invert(this.git2),this.gitInv3=this.gitInv3||invert(this.git3),this.gitInv4=this.gitInv4||invert(this.git4),this.gitInv5=this.gitInv5||invert(this.git5),this.gitInv6=this.gitInv6||invert(this.git6),this.gitInv7=this.gitInv7||invert(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate($){if(typeof $!="object"){this.updateColors();return}const _e=Object.keys($);_e.forEach(et=>{this[et]=$[et]}),this.updateColors(),_e.forEach(et=>{this[et]=$[et]})}}const getThemeVariables=b=>{const $=new Theme5;return $.calculate(b),$},theme={base:{getThemeVariables:getThemeVariables$4},dark:{getThemeVariables:getThemeVariables$3},default:{getThemeVariables:getThemeVariables$2},forest:{getThemeVariables:getThemeVariables$1},neutral:{getThemeVariables}},defaultConfigJson={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},theme:"default",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","maxEdges"],legacyMathML:!1,deterministicIds:!1,fontSize:16},config={...defaultConfigJson,deterministicIDSeed:void 0,themeCSS:void 0,themeVariables:theme.default.getThemeVariables(),sequence:{...defaultConfigJson.sequence,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{...defaultConfigJson.gantt,tickInterval:void 0,useWidth:void 0},c4:{...defaultConfigJson.c4,useWidth:void 0,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}},pie:{...defaultConfigJson.pie,useWidth:984},xyChart:{...defaultConfigJson.xyChart,useWidth:void 0},requirement:{...defaultConfigJson.requirement,useWidth:void 0},gitGraph:{...defaultConfigJson.gitGraph,useMaxWidth:!1},sankey:{...defaultConfigJson.sankey,useMaxWidth:!1}},keyify=(b,$="")=>Object.keys(b).reduce((_e,et)=>Array.isArray(b[et])?_e:typeof b[et]=="object"&&b[et]!==null?[..._e,$+et,...keyify(b[et],"")]:[..._e,$+et],[]),configKeys=new Set(keyify(config,"")),defaultConfig$2=config,sanitizeDirective=b=>{if(log$1.debug("sanitizeDirective called with",b),!(typeof b!="object"||b==null)){if(Array.isArray(b)){b.forEach($=>sanitizeDirective($));return}for(const $ of Object.keys(b)){if(log$1.debug("Checking key",$),$.startsWith("__")||$.includes("proto")||$.includes("constr")||!configKeys.has($)||b[$]==null){log$1.debug("sanitize deleting key: ",$),delete b[$];continue}if(typeof b[$]=="object"){log$1.debug("sanitizing object",$),sanitizeDirective(b[$]);continue}const _e=["themeCSS","fontFamily","altFontFamily"];for(const et of _e)$.includes(et)&&(log$1.debug("sanitizing css option",$),b[$]=sanitizeCss(b[$]))}if(b.themeVariables)for(const $ of Object.keys(b.themeVariables)){const _e=b.themeVariables[$];_e!=null&&_e.match&&!_e.match(/^[\d "#%(),.;A-Za-z]+$/)&&(b.themeVariables[$]="")}log$1.debug("After sanitization",b)}},sanitizeCss=b=>{let $=0,_e=0;for(const et of b){if($<_e)return"{ /* ERROR: Unbalanced CSS */ }";et==="{"?$++:et==="}"&&_e++}return $!==_e?"{ /* ERROR: Unbalanced CSS */ }":b},frontMatterRegex=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,directiveRegex=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,anyCommentRegex=/\s*%%.*\n/gm;class UnknownDiagramError extends Error{constructor($){super($),this.name="UnknownDiagramError"}}const detectors={},detectType=function(b,$){b=b.replace(frontMatterRegex,"").replace(directiveRegex,"").replace(anyCommentRegex,`
`);for(const[_e,{detector:et}]of Object.entries(detectors))if(et(b,$))return _e;throw new UnknownDiagramError(`No diagram type detected matching given configuration for text: ${b}`)},registerLazyLoadedDiagrams=(...b)=>{for(const{id:$,detector:_e,loader:et}of b)addDetector($,_e,et)},addDetector=(b,$,_e)=>{detectors[b]?log$1.error(`Detector with key ${b} already exists`):detectors[b]={detector:$,loader:_e},log$1.debug(`Detector with key ${b} added${_e?" with loader":""}`)},getDiagramLoader=b=>detectors[b].loader,assignWithDepth=(b,$,{depth:_e=2,clobber:et=!1}={})=>{const tt={depth:_e,clobber:et};return Array.isArray($)&&!Array.isArray(b)?($.forEach(nt=>assignWithDepth(b,nt,tt)),b):Array.isArray($)&&Array.isArray(b)?($.forEach(nt=>{b.includes(nt)||b.push(nt)}),b):b===void 0||_e<=0?b!=null&&typeof b=="object"&&typeof $=="object"?Object.assign(b,$):$:($!==void 0&&typeof b=="object"&&typeof $=="object"&&Object.keys($).forEach(nt=>{typeof $[nt]=="object"&&(b[nt]===void 0||typeof b[nt]=="object")?(b[nt]===void 0&&(b[nt]=Array.isArray($[nt])?[]:{}),b[nt]=assignWithDepth(b[nt],$[nt],{depth:_e-1,clobber:et})):(et||typeof b[nt]!="object"&&typeof $[nt]!="object")&&(b[nt]=$[nt])}),b)},assignWithDepth$1=assignWithDepth,ZERO_WIDTH_SPACE="​",d3CurveTypes={curveBasis,curveBasisClosed,curveBasisOpen,curveBumpX:bumpX,curveBumpY:bumpY,curveBundle,curveCardinalClosed,curveCardinalOpen,curveCardinal,curveCatmullRomClosed,curveCatmullRomOpen,curveCatmullRom,curveLinear,curveLinearClosed,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},directiveWithoutOpen=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,detectInit=function(b,$){const _e=detectDirective(b,/(?:init\b)|(?:initialize\b)/);let et={};if(Array.isArray(_e)){const rt=_e.map(ot=>ot.args);sanitizeDirective(rt),et=assignWithDepth$1(et,[...rt])}else et=_e.args;if(!et)return;let tt=detectType(b,$);const nt="config";return et[nt]!==void 0&&(tt==="flowchart-v2"&&(tt="flowchart"),et[tt]=et[nt],delete et[nt]),et},detectDirective=function(b,$=null){try{const _e=new RegExp(`[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*
`,"ig");b=b.trim().replace(_e,"").replace(/'/gm,'"'),log$1.debug(`Detecting diagram directive${$!==null?" type:"+$:""} based on the text:${b}`);let et;const tt=[];for(;(et=directiveRegex.exec(b))!==null;)if(et.index===directiveRegex.lastIndex&&directiveRegex.lastIndex++,et&&!$||$&&et[1]&&et[1].match($)||$&&et[2]&&et[2].match($)){const nt=et[1]?et[1]:et[2],rt=et[3]?et[3].trim():et[4]?JSON.parse(et[4].trim()):null;tt.push({type:nt,args:rt})}return tt.length===0?{type:b,args:null}:tt.length===1?tt[0]:tt}catch(_e){return log$1.error(`ERROR: ${_e.message} - Unable to parse directive type: '${$}' based on the text: '${b}'`),{type:void 0,args:null}}},removeDirectives=function(b){return b.replace(directiveRegex,"")},isSubstringInArray=function(b,$){for(const[_e,et]of $.entries())if(et.match(b))return _e;return-1};function interpolateToCurve(b,$){if(!b)return $;const _e=`curve${b.charAt(0).toUpperCase()+b.slice(1)}`;return d3CurveTypes[_e]??$}function formatUrl(b,$){const _e=b.trim();if(_e)return $.securityLevel!=="loose"?dist$1.sanitizeUrl(_e):_e}const runFunc=(b,...$)=>{const _e=b.split("."),et=_e.length-1,tt=_e[et];let nt=window;for(let rt=0;rt<et;rt++)if(nt=nt[_e[rt]],!nt){log$1.error(`Function name: ${b} not found in window`);return}nt[tt](...$)};function distance(b,$){return!b||!$?0:Math.sqrt(Math.pow($.x-b.x,2)+Math.pow($.y-b.y,2))}function traverseEdge(b){let $,_e=0;b.forEach(tt=>{_e+=distance(tt,$),$=tt});const et=_e/2;return calculatePoint(b,et)}function calcLabelPosition(b){return b.length===1?b[0]:traverseEdge(b)}const roundNumber$b=(b,$=2)=>{const _e=Math.pow(10,$);return Math.round(b*_e)/_e},calculatePoint=(b,$)=>{let _e,et=$;for(const tt of b){if(_e){const nt=distance(tt,_e);if(nt<et)et-=nt;else{const rt=et/nt;if(rt<=0)return _e;if(rt>=1)return{x:tt.x,y:tt.y};if(rt>0&&rt<1)return{x:roundNumber$b((1-rt)*_e.x+rt*tt.x,5),y:roundNumber$b((1-rt)*_e.y+rt*tt.y,5)}}}_e=tt}throw new Error("Could not find a suitable point for the given distance")},calcCardinalityPosition=(b,$,_e)=>{log$1.info(`our points ${JSON.stringify($)}`),$[0]!==_e&&($=$.reverse());const tt=calculatePoint($,25),nt=b?10:5,rt=Math.atan2($[0].y-tt.y,$[0].x-tt.x),ot={x:0,y:0};return ot.x=Math.sin(rt)*nt+($[0].x+tt.x)/2,ot.y=-Math.cos(rt)*nt+($[0].y+tt.y)/2,ot};function calcTerminalLabelPosition(b,$,_e){const et=structuredClone(_e);log$1.info("our points",et),$!=="start_left"&&$!=="start_right"&&et.reverse();const tt=25+b,nt=calculatePoint(et,tt),rt=10+b*.5,ot=Math.atan2(et[0].y-nt.y,et[0].x-nt.x),st={x:0,y:0};return $==="start_left"?(st.x=Math.sin(ot+Math.PI)*rt+(et[0].x+nt.x)/2,st.y=-Math.cos(ot+Math.PI)*rt+(et[0].y+nt.y)/2):$==="end_right"?(st.x=Math.sin(ot-Math.PI)*rt+(et[0].x+nt.x)/2-5,st.y=-Math.cos(ot-Math.PI)*rt+(et[0].y+nt.y)/2-5):$==="end_left"?(st.x=Math.sin(ot)*rt+(et[0].x+nt.x)/2-5,st.y=-Math.cos(ot)*rt+(et[0].y+nt.y)/2-5):(st.x=Math.sin(ot)*rt+(et[0].x+nt.x)/2,st.y=-Math.cos(ot)*rt+(et[0].y+nt.y)/2),st}function getStylesFromArray(b){let $="",_e="";for(const et of b)et!==void 0&&(et.startsWith("color:")||et.startsWith("text-align:")?_e=_e+et+";":$=$+et+";");return{style:$,labelStyle:_e}}let cnt=0;const generateId=()=>(cnt++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cnt);function makeRandomHex(b){let $="";const _e="0123456789abcdef",et=_e.length;for(let tt=0;tt<b;tt++)$+=_e.charAt(Math.floor(Math.random()*et));return $}const random=b=>makeRandomHex(b.length),getTextObj=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},drawSimpleText=function(b,$){const _e=$.text.replace(common$1.lineBreakRegex," "),[,et]=parseFontSize($.fontSize),tt=b.append("text");tt.attr("x",$.x),tt.attr("y",$.y),tt.style("text-anchor",$.anchor),tt.style("font-family",$.fontFamily),tt.style("font-size",et),tt.style("font-weight",$.fontWeight),tt.attr("fill",$.fill),$.class!==void 0&&tt.attr("class",$.class);const nt=tt.append("tspan");return nt.attr("x",$.x+$.textMargin*2),nt.attr("fill",$.fill),nt.text(_e),tt},wrapLabel=memoize((b,$,_e)=>{if(!b||(_e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},_e),common$1.lineBreakRegex.test(b)))return b;const et=b.split(" "),tt=[];let nt="";return et.forEach((rt,ot)=>{const st=calculateTextWidth(`${rt} `,_e),ct=calculateTextWidth(nt,_e);if(st>$){const{hyphenatedStrings:it,remainingWord:ut}=breakString(rt,$,"-",_e);tt.push(nt,...it),nt=ut}else ct+st>=$?(tt.push(nt),nt=rt):nt=[nt,rt].filter(Boolean).join(" ");ot+1===et.length&&tt.push(nt)}),tt.filter(rt=>rt!=="").join(_e.joinWith)},(b,$,_e)=>`${b}${$}${_e.fontSize}${_e.fontWeight}${_e.fontFamily}${_e.joinWith}`),breakString=memoize((b,$,_e="-",et)=>{et=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},et);const tt=[...b],nt=[];let rt="";return tt.forEach((ot,st)=>{const ct=`${rt}${ot}`;if(calculateTextWidth(ct,et)>=$){const at=st+1,it=tt.length===at,ut=`${ct}${_e}`;nt.push(it?ct:ut),rt=""}else rt=ct}),{hyphenatedStrings:nt,remainingWord:rt}},(b,$,_e="-",et)=>`${b}${$}${_e}${et.fontSize}${et.fontWeight}${et.fontFamily}`);function calculateTextHeight(b,$){return calculateTextDimensions(b,$).height}function calculateTextWidth(b,$){return calculateTextDimensions(b,$).width}const calculateTextDimensions=memoize((b,$)=>{const{fontSize:_e=12,fontFamily:et="Arial",fontWeight:tt=400}=$;if(!b)return{width:0,height:0};const[,nt]=parseFontSize(_e),rt=["sans-serif",et],ot=b.split(common$1.lineBreakRegex),st=[],ct=select("body");if(!ct.remove)return{width:0,height:0,lineHeight:0};const lt=ct.append("svg");for(const it of rt){let ut=0;const dt={width:0,height:0,lineHeight:0};for(const ht of ot){const ft=getTextObj();ft.text=ht||ZERO_WIDTH_SPACE;const pt=drawSimpleText(lt,ft).style("font-size",nt).style("font-weight",tt).style("font-family",it),mt=(pt._groups||pt)[0][0].getBBox();if(mt.width===0&&mt.height===0)throw new Error("svg element not in render tree");dt.width=Math.round(Math.max(dt.width,mt.width)),ut=Math.round(mt.height),dt.height+=ut,dt.lineHeight=Math.round(Math.max(dt.lineHeight,ut))}st.push(dt)}lt.remove();const at=isNaN(st[1].height)||isNaN(st[1].width)||isNaN(st[1].lineHeight)||st[0].height>st[1].height&&st[0].width>st[1].width&&st[0].lineHeight>st[1].lineHeight?0:1;return st[at]},(b,$)=>`${b}${$.fontSize}${$.fontWeight}${$.fontFamily}`);class InitIDGenerator{constructor($=!1,_e){this.count=0,this.count=_e?_e.length:0,this.next=$?()=>this.count++:()=>Date.now()}}let decoder;const entityDecode=function(b){return decoder=decoder||document.createElement("div"),b=escape(b).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),decoder.innerHTML=b,unescape(decoder.textContent)};function isDetailedError(b){return"str"in b}const insertTitle=(b,$,_e,et)=>{var tt;if(!et)return;const nt=(tt=b.node())==null?void 0:tt.getBBox();nt&&b.append("text").text(et).attr("x",nt.x+nt.width/2).attr("y",-_e).attr("class",$)},parseFontSize=b=>{if(typeof b=="number")return[b,b+"px"];const $=parseInt(b??"",10);return Number.isNaN($)?[void 0,void 0]:b===String($)?[$,b+"px"]:[$,b]};function cleanAndMerge(b,$){return merge$1({},b,$)}const utils={assignWithDepth:assignWithDepth$1,wrapLabel,calculateTextHeight,calculateTextWidth,calculateTextDimensions,cleanAndMerge,detectInit,detectDirective,isSubstringInArray,interpolateToCurve,calcLabelPosition,calcCardinalityPosition,calcTerminalLabelPosition,formatUrl,getStylesFromArray,generateId,random,runFunc,entityDecode,insertTitle,parseFontSize,InitIDGenerator},encodeEntities=function(b){let $=b;return $=$.replace(/style.*:\S*#.*;/g,function(_e){return _e.substring(0,_e.length-1)}),$=$.replace(/classDef.*:\S*#.*;/g,function(_e){return _e.substring(0,_e.length-1)}),$=$.replace(/#\w+;/g,function(_e){const et=_e.substring(1,_e.length-1);return/^\+?\d+$/.test(et)?"ﬂ°°"+et+"¶ß":"ﬂ°"+et+"¶ß"}),$},decodeEntities=function(b){return b.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},version$2="10.9.1",defaultConfig$1=Object.freeze(defaultConfig$2);let siteConfig=assignWithDepth$1({},defaultConfig$1),configFromInitialize,directives=[],currentConfig=assignWithDepth$1({},defaultConfig$1);const updateCurrentConfig=(b,$)=>{let _e=assignWithDepth$1({},b),et={};for(const tt of $)sanitize(tt),et=assignWithDepth$1(et,tt);if(_e=assignWithDepth$1(_e,et),et.theme&&et.theme in theme){const tt=assignWithDepth$1({},configFromInitialize),nt=assignWithDepth$1(tt.themeVariables||{},et.themeVariables);_e.theme&&_e.theme in theme&&(_e.themeVariables=theme[_e.theme].getThemeVariables(nt))}return currentConfig=_e,checkConfig(currentConfig),currentConfig},setSiteConfig=b=>(siteConfig=assignWithDepth$1({},defaultConfig$1),siteConfig=assignWithDepth$1(siteConfig,b),b.theme&&theme[b.theme]&&(siteConfig.themeVariables=theme[b.theme].getThemeVariables(b.themeVariables)),updateCurrentConfig(siteConfig,directives),siteConfig),saveConfigFromInitialize=b=>{configFromInitialize=assignWithDepth$1({},b)},updateSiteConfig=b=>(siteConfig=assignWithDepth$1(siteConfig,b),updateCurrentConfig(siteConfig,directives),siteConfig),getSiteConfig=()=>assignWithDepth$1({},siteConfig),setConfig$1=b=>(checkConfig(b),assignWithDepth$1(currentConfig,b),getConfig$1()),getConfig$1=()=>assignWithDepth$1({},currentConfig),sanitize=b=>{b&&(["secure",...siteConfig.secure??[]].forEach($=>{Object.hasOwn(b,$)&&(log$1.debug(`Denied attempt to modify a secure key ${$}`,b[$]),delete b[$])}),Object.keys(b).forEach($=>{$.startsWith("__")&&delete b[$]}),Object.keys(b).forEach($=>{typeof b[$]=="string"&&(b[$].includes("<")||b[$].includes(">")||b[$].includes("url(data:"))&&delete b[$],typeof b[$]=="object"&&sanitize(b[$])}))},addDirective=b=>{sanitizeDirective(b),b.fontFamily&&(!b.themeVariables||!b.themeVariables.fontFamily)&&(b.themeVariables={fontFamily:b.fontFamily}),directives.push(b),updateCurrentConfig(siteConfig,directives)},reset=(b=siteConfig)=>{directives=[],updateCurrentConfig(b,directives)},ConfigWarning={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},issuedWarnings={},issueWarning=b=>{issuedWarnings[b]||(log$1.warn(ConfigWarning[b]),issuedWarnings[b]=!0)},checkConfig=b=>{b&&(b.lazyLoadedDiagrams||b.loadExternalDiagramsAtStartup)&&issueWarning("LAZY_LOAD_DEPRECATED")},id$l="c4",detector$l=b=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(b),loader$m=async()=>{const{diagram:b}=await __vitePreload(()=>import("./c4Diagram-ae766693-g5Ik2ITI.js"),__vite__mapDeps([0,1]));return{id:id$l,diagram:b}},plugin$j={id:id$l,detector:detector$l,loader:loader$m},c4=plugin$j,id$k="flowchart",detector$k=(b,$)=>{var _e,et;return((_e=$==null?void 0:$.flowchart)==null?void 0:_e.defaultRenderer)==="dagre-wrapper"||((et=$==null?void 0:$.flowchart)==null?void 0:et.defaultRenderer)==="elk"?!1:/^\s*graph/.test(b)},loader$l=async()=>{const{diagram:b}=await __vitePreload(()=>import("./flowDiagram-b222e15a-DYeo4abt.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14]));return{id:id$k,diagram:b}},plugin$i={id:id$k,detector:detector$k,loader:loader$l},flowchart=plugin$i,id$j="flowchart-v2",detector$j=(b,$)=>{var _e,et,tt;return((_e=$==null?void 0:$.flowchart)==null?void 0:_e.defaultRenderer)==="dagre-d3"||((et=$==null?void 0:$.flowchart)==null?void 0:et.defaultRenderer)==="elk"?!1:/^\s*graph/.test(b)&&((tt=$==null?void 0:$.flowchart)==null?void 0:tt.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(b)},loader$k=async()=>{const{diagram:b}=await __vitePreload(()=>import("./flowDiagram-v2-13329dc7-gmlls2It.js"),__vite__mapDeps([15,3,6,4,7,5,8,9,10,11,12,13,14]));return{id:id$j,diagram:b}},plugin$h={id:id$j,detector:detector$j,loader:loader$k},flowchartV2=plugin$h,id$i="er",detector$i=b=>/^\s*erDiagram/.test(b),loader$j=async()=>{const{diagram:b}=await __vitePreload(()=>import("./erDiagram-09d1c15f-BDmAsyaO.js"),__vite__mapDeps([16,4,5,11,12,13]));return{id:id$i,diagram:b}},plugin$g={id:id$i,detector:detector$i,loader:loader$j},er=plugin$g,id$h="gitGraph",detector$h=b=>/^\s*gitGraph/.test(b),loader$i=async()=>{const{diagram:b}=await __vitePreload(()=>import("./gitGraphDiagram-942e62fe-Bhr5oHit.js"),[]);return{id:id$h,diagram:b}},plugin$f={id:id$h,detector:detector$h,loader:loader$i},git=plugin$f,id$g="gantt",detector$g=b=>/^\s*gantt/.test(b),loader$h=async()=>{const{diagram:b}=await __vitePreload(()=>import("./ganttDiagram-b62c793e-DtdBemkE.js"),__vite__mapDeps([17,18,19]));return{id:id$g,diagram:b}},plugin$e={id:id$g,detector:detector$g,loader:loader$h},gantt=plugin$e,id$f="info",detector$f=b=>/^\s*info/.test(b),loader$g=async()=>{const{diagram:b}=await __vitePreload(()=>import("./infoDiagram-94cd232f-C-VT2pvz.js"),[]);return{id:id$f,diagram:b}},info={id:id$f,detector:detector$f,loader:loader$g},id$e="pie",detector$e=b=>/^\s*pie/.test(b),loader$f=async()=>{const{diagram:b}=await __vitePreload(()=>import("./pieDiagram-bb1d19e5-CXRsEBIg.js"),__vite__mapDeps([20,21,13,22,19,12]));return{id:id$e,diagram:b}},pie={id:id$e,detector:detector$e,loader:loader$f},id$d="quadrantChart",detector$d=b=>/^\s*quadrantChart/.test(b),loader$e=async()=>{const{diagram:b}=await __vitePreload(()=>import("./quadrantDiagram-c759a472-BAdUMEjP.js"),__vite__mapDeps([23,18,19]));return{id:id$d,diagram:b}},plugin$d={id:id$d,detector:detector$d,loader:loader$e},quadrantChart=plugin$d,id$c="xychart",detector$c=b=>/^\s*xychart-beta/.test(b),loader$d=async()=>{const{diagram:b}=await __vitePreload(()=>import("./xychartDiagram-f11f50a6-Ce0W0ywf.js"),__vite__mapDeps([24,10,19,22,18,11,12,13]));return{id:id$c,diagram:b}},plugin$c={id:id$c,detector:detector$c,loader:loader$d},xychart=plugin$c,id$b="requirement",detector$b=b=>/^\s*requirement(Diagram)?/.test(b),loader$c=async()=>{const{diagram:b}=await __vitePreload(()=>import("./requirementDiagram-87253d64-BdjqaeTl.js"),__vite__mapDeps([25,4,5,11,12,13]));return{id:id$b,diagram:b}},plugin$b={id:id$b,detector:detector$b,loader:loader$c},requirement=plugin$b,id$a="sequence",detector$a=b=>/^\s*sequenceDiagram/.test(b),loader$b=async()=>{const{diagram:b}=await __vitePreload(()=>import("./sequenceDiagram-6894f283-CNOjFc15.js"),__vite__mapDeps([26,1]));return{id:id$a,diagram:b}},plugin$a={id:id$a,detector:detector$a,loader:loader$b},sequence$3=plugin$a,id$9="class",detector$9=(b,$)=>{var _e;return((_e=$==null?void 0:$.class)==null?void 0:_e.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(b)},loader$a=async()=>{const{diagram:b}=await __vitePreload(()=>import("./classDiagram-fb54d2a0-BhHSfSaZ.js"),__vite__mapDeps([27,28,4,5,11,12,13]));return{id:id$9,diagram:b}},plugin$9={id:id$9,detector:detector$9,loader:loader$a},classDiagram=plugin$9,id$8="classDiagram",detector$8=(b,$)=>{var _e;return/^\s*classDiagram/.test(b)&&((_e=$==null?void 0:$.class)==null?void 0:_e.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(b)},loader$9=async()=>{const{diagram:b}=await __vitePreload(()=>import("./classDiagram-v2-a2b738ad-Ds1gcV-b.js"),__vite__mapDeps([29,28,4,7,5,8,9,10,11,12,13]));return{id:id$8,diagram:b}},plugin$8={id:id$8,detector:detector$8,loader:loader$9},classDiagramV2=plugin$8,id$7="state",detector$7=(b,$)=>{var _e;return((_e=$==null?void 0:$.state)==null?void 0:_e.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(b)},loader$8=async()=>{const{diagram:b}=await __vitePreload(()=>import("./stateDiagram-5dee940d-DyCGUrG7.js"),__vite__mapDeps([30,31,4,5,11,12,13]));return{id:id$7,diagram:b}},plugin$7={id:id$7,detector:detector$7,loader:loader$8},state=plugin$7,id$6="stateDiagram",detector$6=(b,$)=>{var _e;return!!(/^\s*stateDiagram-v2/.test(b)||/^\s*stateDiagram/.test(b)&&((_e=$==null?void 0:$.state)==null?void 0:_e.defaultRenderer)==="dagre-wrapper")},loader$7=async()=>{const{diagram:b}=await __vitePreload(()=>import("./stateDiagram-v2-1992cada-DoLVwNaT.js"),__vite__mapDeps([32,31,4,7,5,8,9,10,11,12,13]));return{id:id$6,diagram:b}},plugin$6={id:id$6,detector:detector$6,loader:loader$7},stateV2=plugin$6,id$5="journey",detector$5=b=>/^\s*journey/.test(b),loader$6=async()=>{const{diagram:b}=await __vitePreload(()=>import("./journeyDiagram-6625b456-DtBKl7Vd.js"),__vite__mapDeps([33,1,21,13]));return{id:id$5,diagram:b}},plugin$5={id:id$5,detector:detector$5,loader:loader$6},journey=plugin$5,d3Attrs=function(b,$){for(let _e of $)b.attr(_e[0],_e[1])},calculateSvgSizeAttrs=function(b,$,_e){let et=new Map;return _e?(et.set("width","100%"),et.set("style",`max-width: ${$}px;`)):(et.set("height",b),et.set("width",$)),et},configureSvgSize=function(b,$,_e,et){const tt=calculateSvgSizeAttrs($,_e,et);d3Attrs(b,tt)},setupGraphViewbox$1=function(b,$,_e,et){const tt=$.node().getBBox(),nt=tt.width,rt=tt.height;log$1.info(`SVG bounds: ${nt}x${rt}`,tt);let ot=0,st=0;log$1.info(`Graph bounds: ${ot}x${st}`,b),ot=nt+_e*2,st=rt+_e*2,log$1.info(`Calculated bounds: ${ot}x${st}`),configureSvgSize($,st,ot,et);const ct=`${tt.x-_e} ${tt.y-_e} ${tt.width+2*_e} ${tt.height+2*_e}`;$.attr("viewBox",ct)},themes={},getStyles=(b,$,_e)=>{let et="";return b in themes&&themes[b]?et=themes[b](_e):log$1.warn(`No theme found for ${b}`),` & {
    font-family: ${_e.fontFamily};
    font-size: ${_e.fontSize};
    fill: ${_e.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${_e.errorBkgColor};
  }
  & .error-text {
    fill: ${_e.errorTextColor};
    stroke: ${_e.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${_e.lineColor};
    stroke: ${_e.lineColor};
  }
  & .marker.cross {
    stroke: ${_e.lineColor};
  }

  & svg {
    font-family: ${_e.fontFamily};
    font-size: ${_e.fontSize};
  }

  ${et}

  ${$}
`},addStylesForDiagram=(b,$)=>{$!==void 0&&(themes[b]=$)},getStyles$1=getStyles;let accTitle="",diagramTitle="",accDescription="";const sanitizeText$1=b=>sanitizeText$2(b,getConfig$1()),clear=()=>{accTitle="",accDescription="",diagramTitle=""},setAccTitle=b=>{accTitle=sanitizeText$1(b).replace(/^\s+/g,"")},getAccTitle=()=>accTitle,setAccDescription=b=>{accDescription=sanitizeText$1(b).replace(/\n\s+/g,`
`)},getAccDescription=()=>accDescription,setDiagramTitle=b=>{diagramTitle=sanitizeText$1(b)},getDiagramTitle=()=>diagramTitle,commonDb=Object.freeze(Object.defineProperty({__proto__:null,clear,getAccDescription,getAccTitle,getDiagramTitle,setAccDescription,setAccTitle,setDiagramTitle},Symbol.toStringTag,{value:"Module"})),log=log$1,setLogLevel=setLogLevel$1,getConfig=getConfig$1,setConfig=setConfig$1,defaultConfig=defaultConfig$1,sanitizeText=b=>sanitizeText$2(b,getConfig()),setupGraphViewbox=setupGraphViewbox$1,getCommonDb=()=>commonDb,diagrams={},registerDiagram=(b,$,_e)=>{var et;if(diagrams[b])throw new Error(`Diagram ${b} already registered.`);diagrams[b]=$,_e&&addDetector(b,_e),addStylesForDiagram(b,$.styles),(et=$.injectUtils)==null||et.call($,log,setLogLevel,getConfig,sanitizeText,setupGraphViewbox,getCommonDb(),()=>{})},getDiagram=b=>{if(b in diagrams)return diagrams[b];throw new DiagramNotFoundError(b)};class DiagramNotFoundError extends Error{constructor($){super(`Diagram ${$} not found.`)}}const selectSvgElement=b=>{var $;const{securityLevel:_e}=getConfig();let et=select("body");if(_e==="sandbox"){const rt=(($=select(`#i${b}`).node())==null?void 0:$.contentDocument)??document;et=select(rt.body)}return et.select(`#${b}`)},draw$4=(b,$,_e)=>{log$1.debug(`rendering svg for syntax error
`);const et=selectSvgElement($),tt=et.append("g");et.attr("viewBox","0 0 2412 512"),configureSvgSize(et,100,512,!0),tt.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),tt.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),tt.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),tt.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),tt.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),tt.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),tt.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),tt.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${_e}`)},renderer$1={draw:draw$4},errorRenderer=renderer$1,diagram={db:{},renderer:renderer$1,parser:{parser:{yy:{}},parse:()=>{}}},errorDiagram=diagram,id$4="flowchart-elk",detector$4=(b,$)=>{var _e;return!!(/^\s*flowchart-elk/.test(b)||/^\s*flowchart|graph/.test(b)&&((_e=$==null?void 0:$.flowchart)==null?void 0:_e.defaultRenderer)==="elk")},loader$5=async()=>{const{diagram:b}=await __vitePreload(()=>import("./flowchart-elk-definition-ae0efee6-grqLj5t-.js"),__vite__mapDeps([34,3,9,10,11,12,13]));return{id:id$4,diagram:b}},plugin$4={id:id$4,detector:detector$4,loader:loader$5},flowchartElk=plugin$4,id$3="timeline",detector$3=b=>/^\s*timeline/.test(b),loader$4=async()=>{const{diagram:b}=await __vitePreload(()=>import("./timeline-definition-bf702344-DeUpEkVP.js"),__vite__mapDeps([35,21,13]));return{id:id$3,diagram:b}},plugin$3={id:id$3,detector:detector$3,loader:loader$4},timeline=plugin$3,id$2="mindmap",detector$2=b=>/^\s*mindmap/.test(b),loader$3=async()=>{const{diagram:b}=await __vitePreload(()=>import("./mindmap-definition-307c710a-D5ROqsbV.js"),__vite__mapDeps([36,10]));return{id:id$2,diagram:b}},plugin$2={id:id$2,detector:detector$2,loader:loader$3},mindmap=plugin$2,id$1="sankey",detector$1=b=>/^\s*sankey-beta/.test(b),loader$2=async()=>{const{diagram:b}=await __vitePreload(()=>import("./sankeyDiagram-707fac0f-BsBCRcGB.js"),__vite__mapDeps([37,22,19,38]));return{id:id$1,diagram:b}},plugin$1={id:id$1,detector:detector$1,loader:loader$2},sankey=plugin$1,id="block",detector=b=>/^\s*block-beta/.test(b),loader$1=async()=>{const{diagram:b}=await __vitePreload(()=>import("./blockDiagram-9f4a6865-DZAJ2pgP.js"),__vite__mapDeps([39,8,4,9,10,11,12,13,22,19,14,38]));return{id,diagram:b}},plugin={id,detector,loader:loader$1},block$1=plugin;let hasLoadedDiagrams=!1;const addDiagrams=()=>{hasLoadedDiagrams||(hasLoadedDiagrams=!0,registerDiagram("error",errorDiagram,b=>b.toLowerCase().trim()==="error"),registerDiagram("---",{db:{clear:()=>{}},styles:{},renderer:{draw:()=>{}},parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}},init:()=>null},b=>b.toLowerCase().trimStart().startsWith("---")),registerLazyLoadedDiagrams(c4,classDiagramV2,classDiagram,er,gantt,info,pie,requirement,sequence$3,flowchartElk,flowchartV2,flowchart,mindmap,timeline,git,stateV2,state,journey,quadrantChart,sankey,xychart,block$1))};class Diagram{constructor($,_e={}){this.text=$,this.metadata=_e,this.type="graph",this.text=encodeEntities($),this.text+=`
`;const et=getConfig$1();try{this.type=detectType($,et)}catch(nt){this.type="error",this.detectError=nt}const tt=getDiagram(this.type);log$1.debug("Type "+this.type),this.db=tt.db,this.renderer=tt.renderer,this.parser=tt.parser,this.parser.parser.yy=this.db,this.init=tt.init,this.parse()}parse(){var $,_e,et,tt,nt;if(this.detectError)throw this.detectError;(_e=($=this.db).clear)==null||_e.call($);const rt=getConfig$1();(et=this.init)==null||et.call(this,rt),this.metadata.title&&((nt=(tt=this.db).setDiagramTitle)==null||nt.call(tt,this.metadata.title)),this.parser.parse(this.text)}async render($,_e){await this.renderer.draw(this.text,$,_e,this)}getParser(){return this.parser}getType(){return this.type}}const getDiagramFromText$1=async(b,$={})=>{const _e=detectType(b,getConfig$1());try{getDiagram(_e)}catch{const tt=getDiagramLoader(_e);if(!tt)throw new UnknownDiagramError(`Diagram ${_e} not found.`);const{id:nt,diagram:rt}=await tt();registerDiagram(nt,rt)}return new Diagram(b,$)};let interactionFunctions=[];const attachFunctions=()=>{interactionFunctions.forEach(b=>{b()}),interactionFunctions=[]},SVG_ROLE="graphics-document document";function setA11yDiagramInfo(b,$){b.attr("role",SVG_ROLE),$!==""&&b.attr("aria-roledescription",$)}function addSVGa11yTitleDescription(b,$,_e,et){if(b.insert!==void 0){if(_e){const tt=`chart-desc-${et}`;b.attr("aria-describedby",tt),b.insert("desc",":first-child").attr("id",tt).text(_e)}if($){const tt=`chart-title-${et}`;b.attr("aria-labelledby",tt),b.insert("title",":first-child").attr("id",tt).text($)}}}const cleanupComments=b=>b.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart();/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function isNothing(b){return typeof b>"u"||b===null}function isObject$1(b){return typeof b=="object"&&b!==null}function toArray(b){return Array.isArray(b)?b:isNothing(b)?[]:[b]}function extend(b,$){var _e,et,tt,nt;if($)for(nt=Object.keys($),_e=0,et=nt.length;_e<et;_e+=1)tt=nt[_e],b[tt]=$[tt];return b}function repeat(b,$){var _e="",et;for(et=0;et<$;et+=1)_e+=b;return _e}function isNegativeZero(b){return b===0&&Number.NEGATIVE_INFINITY===1/b}var isNothing_1=isNothing,isObject_1=isObject$1,toArray_1=toArray,repeat_1=repeat,isNegativeZero_1=isNegativeZero,extend_1=extend,common={isNothing:isNothing_1,isObject:isObject_1,toArray:toArray_1,repeat:repeat_1,isNegativeZero:isNegativeZero_1,extend:extend_1};function formatError(b,$){var _e="",et=b.reason||"(unknown reason)";return b.mark?(b.mark.name&&(_e+='in "'+b.mark.name+'" '),_e+="("+(b.mark.line+1)+":"+(b.mark.column+1)+")",!$&&b.mark.snippet&&(_e+=`

`+b.mark.snippet),et+" "+_e):et}function YAMLException$1(b,$){Error.call(this),this.name="YAMLException",this.reason=b,this.mark=$,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$1.prototype=Object.create(Error.prototype);YAMLException$1.prototype.constructor=YAMLException$1;YAMLException$1.prototype.toString=function b($){return this.name+": "+formatError(this,$)};var exception=YAMLException$1;function getLine(b,$,_e,et,tt){var nt="",rt="",ot=Math.floor(tt/2)-1;return et-$>ot&&(nt=" ... ",$=et-ot+nt.length),_e-et>ot&&(rt=" ...",_e=et+ot-rt.length),{str:nt+b.slice($,_e).replace(/\t/g,"→")+rt,pos:et-$+nt.length}}function padStart(b,$){return common.repeat(" ",$-b.length)+b}function makeSnippet(b,$){if($=Object.create($||null),!b.buffer)return null;$.maxLength||($.maxLength=79),typeof $.indent!="number"&&($.indent=1),typeof $.linesBefore!="number"&&($.linesBefore=3),typeof $.linesAfter!="number"&&($.linesAfter=2);for(var _e=/\r?\n|\r|\0/g,et=[0],tt=[],nt,rt=-1;nt=_e.exec(b.buffer);)tt.push(nt.index),et.push(nt.index+nt[0].length),b.position<=nt.index&&rt<0&&(rt=et.length-2);rt<0&&(rt=et.length-1);var ot="",st,ct,lt=Math.min(b.line+$.linesAfter,tt.length).toString().length,at=$.maxLength-($.indent+lt+3);for(st=1;st<=$.linesBefore&&!(rt-st<0);st++)ct=getLine(b.buffer,et[rt-st],tt[rt-st],b.position-(et[rt]-et[rt-st]),at),ot=common.repeat(" ",$.indent)+padStart((b.line-st+1).toString(),lt)+" | "+ct.str+`
`+ot;for(ct=getLine(b.buffer,et[rt],tt[rt],b.position,at),ot+=common.repeat(" ",$.indent)+padStart((b.line+1).toString(),lt)+" | "+ct.str+`
`,ot+=common.repeat("-",$.indent+lt+3+ct.pos)+`^
`,st=1;st<=$.linesAfter&&!(rt+st>=tt.length);st++)ct=getLine(b.buffer,et[rt+st],tt[rt+st],b.position-(et[rt]-et[rt+st]),at),ot+=common.repeat(" ",$.indent)+padStart((b.line+st+1).toString(),lt)+" | "+ct.str+`
`;return ot.replace(/\n$/,"")}var snippet=makeSnippet,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(b){var $={};return b!==null&&Object.keys(b).forEach(function(_e){b[_e].forEach(function(et){$[String(et)]=_e})}),$}function Type$1(b,$){if($=$||{},Object.keys($).forEach(function(_e){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(_e)===-1)throw new exception('Unknown option "'+_e+'" is met in definition of "'+b+'" YAML type.')}),this.options=$,this.tag=b,this.kind=$.kind||null,this.resolve=$.resolve||function(){return!0},this.construct=$.construct||function(_e){return _e},this.instanceOf=$.instanceOf||null,this.predicate=$.predicate||null,this.represent=$.represent||null,this.representName=$.representName||null,this.defaultStyle=$.defaultStyle||null,this.multi=$.multi||!1,this.styleAliases=compileStyleAliases($.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new exception('Unknown kind "'+this.kind+'" is specified for "'+b+'" YAML type.')}var type=Type$1;function compileList(b,$){var _e=[];return b[$].forEach(function(et){var tt=_e.length;_e.forEach(function(nt,rt){nt.tag===et.tag&&nt.kind===et.kind&&nt.multi===et.multi&&(tt=rt)}),_e[tt]=et}),_e}function compileMap(){var b={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},$,_e;function et(tt){tt.multi?(b.multi[tt.kind].push(tt),b.multi.fallback.push(tt)):b[tt.kind][tt.tag]=b.fallback[tt.tag]=tt}for($=0,_e=arguments.length;$<_e;$+=1)arguments[$].forEach(et);return b}function Schema$1(b){return this.extend(b)}Schema$1.prototype.extend=function b($){var _e=[],et=[];if($ instanceof type)et.push($);else if(Array.isArray($))et=et.concat($);else if($&&(Array.isArray($.implicit)||Array.isArray($.explicit)))$.implicit&&(_e=_e.concat($.implicit)),$.explicit&&(et=et.concat($.explicit));else throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");_e.forEach(function(nt){if(!(nt instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(nt.loadKind&&nt.loadKind!=="scalar")throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(nt.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),et.forEach(function(nt){if(!(nt instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var tt=Object.create(Schema$1.prototype);return tt.implicit=(this.implicit||[]).concat(_e),tt.explicit=(this.explicit||[]).concat(et),tt.compiledImplicit=compileList(tt,"implicit"),tt.compiledExplicit=compileList(tt,"explicit"),tt.compiledTypeMap=compileMap(tt.compiledImplicit,tt.compiledExplicit),tt};var schema=Schema$1,str=new type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(b){return b!==null?b:""}}),seq=new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(b){return b!==null?b:[]}}),map=new type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(b){return b!==null?b:{}}}),failsafe=new schema({explicit:[str,seq,map]});function resolveYamlNull(b){if(b===null)return!0;var $=b.length;return $===1&&b==="~"||$===4&&(b==="null"||b==="Null"||b==="NULL")}function constructYamlNull(){return null}function isNull(b){return b===null}var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function resolveYamlBoolean(b){if(b===null)return!1;var $=b.length;return $===4&&(b==="true"||b==="True"||b==="TRUE")||$===5&&(b==="false"||b==="False"||b==="FALSE")}function constructYamlBoolean(b){return b==="true"||b==="True"||b==="TRUE"}function isBoolean(b){return Object.prototype.toString.call(b)==="[object Boolean]"}var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(b){return b?"true":"false"},uppercase:function(b){return b?"TRUE":"FALSE"},camelcase:function(b){return b?"True":"False"}},defaultStyle:"lowercase"});function isHexCode(b){return 48<=b&&b<=57||65<=b&&b<=70||97<=b&&b<=102}function isOctCode(b){return 48<=b&&b<=55}function isDecCode(b){return 48<=b&&b<=57}function resolveYamlInteger(b){if(b===null)return!1;var $=b.length,_e=0,et=!1,tt;if(!$)return!1;if(tt=b[_e],(tt==="-"||tt==="+")&&(tt=b[++_e]),tt==="0"){if(_e+1===$)return!0;if(tt=b[++_e],tt==="b"){for(_e++;_e<$;_e++)if(tt=b[_e],tt!=="_"){if(tt!=="0"&&tt!=="1")return!1;et=!0}return et&&tt!=="_"}if(tt==="x"){for(_e++;_e<$;_e++)if(tt=b[_e],tt!=="_"){if(!isHexCode(b.charCodeAt(_e)))return!1;et=!0}return et&&tt!=="_"}if(tt==="o"){for(_e++;_e<$;_e++)if(tt=b[_e],tt!=="_"){if(!isOctCode(b.charCodeAt(_e)))return!1;et=!0}return et&&tt!=="_"}}if(tt==="_")return!1;for(;_e<$;_e++)if(tt=b[_e],tt!=="_"){if(!isDecCode(b.charCodeAt(_e)))return!1;et=!0}return!(!et||tt==="_")}function constructYamlInteger(b){var $=b,_e=1,et;if($.indexOf("_")!==-1&&($=$.replace(/_/g,"")),et=$[0],(et==="-"||et==="+")&&(et==="-"&&(_e=-1),$=$.slice(1),et=$[0]),$==="0")return 0;if(et==="0"){if($[1]==="b")return _e*parseInt($.slice(2),2);if($[1]==="x")return _e*parseInt($.slice(2),16);if($[1]==="o")return _e*parseInt($.slice(2),8)}return _e*parseInt($,10)}function isInteger(b){return Object.prototype.toString.call(b)==="[object Number]"&&b%1===0&&!common.isNegativeZero(b)}var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(b){return b>=0?"0b"+b.toString(2):"-0b"+b.toString(2).slice(1)},octal:function(b){return b>=0?"0o"+b.toString(8):"-0o"+b.toString(8).slice(1)},decimal:function(b){return b.toString(10)},hexadecimal:function(b){return b>=0?"0x"+b.toString(16).toUpperCase():"-0x"+b.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(b){return!(b===null||!YAML_FLOAT_PATTERN.test(b)||b[b.length-1]==="_")}function constructYamlFloat(b){var $,_e;return $=b.replace(/_/g,"").toLowerCase(),_e=$[0]==="-"?-1:1,"+-".indexOf($[0])>=0&&($=$.slice(1)),$===".inf"?_e===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:$===".nan"?NaN:_e*parseFloat($,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(b,$){var _e;if(isNaN(b))switch($){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===b)switch($){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===b)switch($){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common.isNegativeZero(b))return"-0.0";return _e=b.toString(10),SCIENTIFIC_WITHOUT_DOT.test(_e)?_e.replace("e",".e"):_e}function isFloat(b){return Object.prototype.toString.call(b)==="[object Number]"&&(b%1!==0||common.isNegativeZero(b))}var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(b){return b===null?!1:YAML_DATE_REGEXP.exec(b)!==null||YAML_TIMESTAMP_REGEXP.exec(b)!==null}function constructYamlTimestamp(b){var $,_e,et,tt,nt,rt,ot,st=0,ct=null,lt,at,it;if($=YAML_DATE_REGEXP.exec(b),$===null&&($=YAML_TIMESTAMP_REGEXP.exec(b)),$===null)throw new Error("Date resolve error");if(_e=+$[1],et=+$[2]-1,tt=+$[3],!$[4])return new Date(Date.UTC(_e,et,tt));if(nt=+$[4],rt=+$[5],ot=+$[6],$[7]){for(st=$[7].slice(0,3);st.length<3;)st+="0";st=+st}return $[9]&&(lt=+$[10],at=+($[11]||0),ct=(lt*60+at)*6e4,$[9]==="-"&&(ct=-ct)),it=new Date(Date.UTC(_e,et,tt,nt,rt,ot,st)),ct&&it.setTime(it.getTime()-ct),it}function representYamlTimestamp(b){return b.toISOString()}var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(b){return b==="<<"||b===null}var merge=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(b){if(b===null)return!1;var $,_e,et=0,tt=b.length,nt=BASE64_MAP;for(_e=0;_e<tt;_e++)if($=nt.indexOf(b.charAt(_e)),!($>64)){if($<0)return!1;et+=6}return et%8===0}function constructYamlBinary(b){var $,_e,et=b.replace(/[\r\n=]/g,""),tt=et.length,nt=BASE64_MAP,rt=0,ot=[];for($=0;$<tt;$++)$%4===0&&$&&(ot.push(rt>>16&255),ot.push(rt>>8&255),ot.push(rt&255)),rt=rt<<6|nt.indexOf(et.charAt($));return _e=tt%4*6,_e===0?(ot.push(rt>>16&255),ot.push(rt>>8&255),ot.push(rt&255)):_e===18?(ot.push(rt>>10&255),ot.push(rt>>2&255)):_e===12&&ot.push(rt>>4&255),new Uint8Array(ot)}function representYamlBinary(b){var $="",_e=0,et,tt,nt=b.length,rt=BASE64_MAP;for(et=0;et<nt;et++)et%3===0&&et&&($+=rt[_e>>18&63],$+=rt[_e>>12&63],$+=rt[_e>>6&63],$+=rt[_e&63]),_e=(_e<<8)+b[et];return tt=nt%3,tt===0?($+=rt[_e>>18&63],$+=rt[_e>>12&63],$+=rt[_e>>6&63],$+=rt[_e&63]):tt===2?($+=rt[_e>>10&63],$+=rt[_e>>4&63],$+=rt[_e<<2&63],$+=rt[64]):tt===1&&($+=rt[_e>>2&63],$+=rt[_e<<4&63],$+=rt[64],$+=rt[64]),$}function isBinary(b){return Object.prototype.toString.call(b)==="[object Uint8Array]"}var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(b){if(b===null)return!0;var $=[],_e,et,tt,nt,rt,ot=b;for(_e=0,et=ot.length;_e<et;_e+=1){if(tt=ot[_e],rt=!1,_toString$2.call(tt)!=="[object Object]")return!1;for(nt in tt)if(_hasOwnProperty$3.call(tt,nt))if(!rt)rt=!0;else return!1;if(!rt)return!1;if($.indexOf(nt)===-1)$.push(nt);else return!1}return!0}function constructYamlOmap(b){return b!==null?b:[]}var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(b){if(b===null)return!0;var $,_e,et,tt,nt,rt=b;for(nt=new Array(rt.length),$=0,_e=rt.length;$<_e;$+=1){if(et=rt[$],_toString$1.call(et)!=="[object Object]"||(tt=Object.keys(et),tt.length!==1))return!1;nt[$]=[tt[0],et[tt[0]]]}return!0}function constructYamlPairs(b){if(b===null)return[];var $,_e,et,tt,nt,rt=b;for(nt=new Array(rt.length),$=0,_e=rt.length;$<_e;$+=1)et=rt[$],tt=Object.keys(et),nt[$]=[tt[0],et[tt[0]]];return nt}var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(b){if(b===null)return!0;var $,_e=b;for($ in _e)if(_hasOwnProperty$2.call(_e,$)&&_e[$]!==null)return!1;return!0}function constructYamlSet(b){return b!==null?b:{}}var set$1=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default$1=core.extend({implicit:[timestamp,merge],explicit:[binary,omap,pairs,set$1]}),_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(b){return Object.prototype.toString.call(b)}function is_EOL(b){return b===10||b===13}function is_WHITE_SPACE(b){return b===9||b===32}function is_WS_OR_EOL(b){return b===9||b===32||b===10||b===13}function is_FLOW_INDICATOR(b){return b===44||b===91||b===93||b===123||b===125}function fromHexCode(b){var $;return 48<=b&&b<=57?b-48:($=b|32,97<=$&&$<=102?$-97+10:-1)}function escapedHexLen(b){return b===120?2:b===117?4:b===85?8:0}function fromDecimalCode(b){return 48<=b&&b<=57?b-48:-1}function simpleEscapeSequence(b){return b===48?"\0":b===97?"\x07":b===98?"\b":b===116||b===9?"	":b===110?`
`:b===118?"\v":b===102?"\f":b===114?"\r":b===101?"\x1B":b===32?" ":b===34?'"':b===47?"/":b===92?"\\":b===78?"":b===95?" ":b===76?"\u2028":b===80?"\u2029":""}function charFromCodepoint(b){return b<=65535?String.fromCharCode(b):String.fromCharCode((b-65536>>10)+55296,(b-65536&1023)+56320)}var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(var i=0;i<256;i++)simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0,simpleEscapeMap[i]=simpleEscapeSequence(i);function State$1(b,$){this.input=b,this.filename=$.filename||null,this.schema=$.schema||_default$1,this.onWarning=$.onWarning||null,this.legacy=$.legacy||!1,this.json=$.json||!1,this.listener=$.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=b.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError(b,$){var _e={name:b.filename,buffer:b.input.slice(0,-1),position:b.position,line:b.line,column:b.position-b.lineStart};return _e.snippet=snippet(_e),new exception($,_e)}function throwError(b,$){throw generateError(b,$)}function throwWarning(b,$){b.onWarning&&b.onWarning.call(null,generateError(b,$))}var directiveHandlers={YAML:function b($,_e,et){var tt,nt,rt;$.version!==null&&throwError($,"duplication of %YAML directive"),et.length!==1&&throwError($,"YAML directive accepts exactly one argument"),tt=/^([0-9]+)\.([0-9]+)$/.exec(et[0]),tt===null&&throwError($,"ill-formed argument of the YAML directive"),nt=parseInt(tt[1],10),rt=parseInt(tt[2],10),nt!==1&&throwError($,"unacceptable YAML version of the document"),$.version=et[0],$.checkLineBreaks=rt<2,rt!==1&&rt!==2&&throwWarning($,"unsupported YAML version of the document")},TAG:function b($,_e,et){var tt,nt;et.length!==2&&throwError($,"TAG directive accepts exactly two arguments"),tt=et[0],nt=et[1],PATTERN_TAG_HANDLE.test(tt)||throwError($,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call($.tagMap,tt)&&throwError($,'there is a previously declared suffix for "'+tt+'" tag handle'),PATTERN_TAG_URI.test(nt)||throwError($,"ill-formed tag prefix (second argument) of the TAG directive");try{nt=decodeURIComponent(nt)}catch{throwError($,"tag prefix is malformed: "+nt)}$.tagMap[tt]=nt}};function captureSegment(b,$,_e,et){var tt,nt,rt,ot;if($<_e){if(ot=b.input.slice($,_e),et)for(tt=0,nt=ot.length;tt<nt;tt+=1)rt=ot.charCodeAt(tt),rt===9||32<=rt&&rt<=1114111||throwError(b,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(ot)&&throwError(b,"the stream contains non-printable characters");b.result+=ot}}function mergeMappings(b,$,_e,et){var tt,nt,rt,ot;for(common.isObject(_e)||throwError(b,"cannot merge mappings; the provided source object is unacceptable"),tt=Object.keys(_e),rt=0,ot=tt.length;rt<ot;rt+=1)nt=tt[rt],_hasOwnProperty$1.call($,nt)||($[nt]=_e[nt],et[nt]=!0)}function storeMappingPair(b,$,_e,et,tt,nt,rt,ot,st){var ct,lt;if(Array.isArray(tt))for(tt=Array.prototype.slice.call(tt),ct=0,lt=tt.length;ct<lt;ct+=1)Array.isArray(tt[ct])&&throwError(b,"nested arrays are not supported inside keys"),typeof tt=="object"&&_class(tt[ct])==="[object Object]"&&(tt[ct]="[object Object]");if(typeof tt=="object"&&_class(tt)==="[object Object]"&&(tt="[object Object]"),tt=String(tt),$===null&&($={}),et==="tag:yaml.org,2002:merge")if(Array.isArray(nt))for(ct=0,lt=nt.length;ct<lt;ct+=1)mergeMappings(b,$,nt[ct],_e);else mergeMappings(b,$,nt,_e);else!b.json&&!_hasOwnProperty$1.call(_e,tt)&&_hasOwnProperty$1.call($,tt)&&(b.line=rt||b.line,b.lineStart=ot||b.lineStart,b.position=st||b.position,throwError(b,"duplicated mapping key")),tt==="__proto__"?Object.defineProperty($,tt,{configurable:!0,enumerable:!0,writable:!0,value:nt}):$[tt]=nt,delete _e[tt];return $}function readLineBreak(b){var $;$=b.input.charCodeAt(b.position),$===10?b.position++:$===13?(b.position++,b.input.charCodeAt(b.position)===10&&b.position++):throwError(b,"a line break is expected"),b.line+=1,b.lineStart=b.position,b.firstTabInLine=-1}function skipSeparationSpace(b,$,_e){for(var et=0,tt=b.input.charCodeAt(b.position);tt!==0;){for(;is_WHITE_SPACE(tt);)tt===9&&b.firstTabInLine===-1&&(b.firstTabInLine=b.position),tt=b.input.charCodeAt(++b.position);if($&&tt===35)do tt=b.input.charCodeAt(++b.position);while(tt!==10&&tt!==13&&tt!==0);if(is_EOL(tt))for(readLineBreak(b),tt=b.input.charCodeAt(b.position),et++,b.lineIndent=0;tt===32;)b.lineIndent++,tt=b.input.charCodeAt(++b.position);else break}return _e!==-1&&et!==0&&b.lineIndent<_e&&throwWarning(b,"deficient indentation"),et}function testDocumentSeparator(b){var $=b.position,_e;return _e=b.input.charCodeAt($),!!((_e===45||_e===46)&&_e===b.input.charCodeAt($+1)&&_e===b.input.charCodeAt($+2)&&($+=3,_e=b.input.charCodeAt($),_e===0||is_WS_OR_EOL(_e)))}function writeFoldedLines(b,$){$===1?b.result+=" ":$>1&&(b.result+=common.repeat(`
`,$-1))}function readPlainScalar(b,$,_e){var et,tt,nt,rt,ot,st,ct,lt,at=b.kind,it=b.result,ut;if(ut=b.input.charCodeAt(b.position),is_WS_OR_EOL(ut)||is_FLOW_INDICATOR(ut)||ut===35||ut===38||ut===42||ut===33||ut===124||ut===62||ut===39||ut===34||ut===37||ut===64||ut===96||(ut===63||ut===45)&&(tt=b.input.charCodeAt(b.position+1),is_WS_OR_EOL(tt)||_e&&is_FLOW_INDICATOR(tt)))return!1;for(b.kind="scalar",b.result="",nt=rt=b.position,ot=!1;ut!==0;){if(ut===58){if(tt=b.input.charCodeAt(b.position+1),is_WS_OR_EOL(tt)||_e&&is_FLOW_INDICATOR(tt))break}else if(ut===35){if(et=b.input.charCodeAt(b.position-1),is_WS_OR_EOL(et))break}else{if(b.position===b.lineStart&&testDocumentSeparator(b)||_e&&is_FLOW_INDICATOR(ut))break;if(is_EOL(ut))if(st=b.line,ct=b.lineStart,lt=b.lineIndent,skipSeparationSpace(b,!1,-1),b.lineIndent>=$){ot=!0,ut=b.input.charCodeAt(b.position);continue}else{b.position=rt,b.line=st,b.lineStart=ct,b.lineIndent=lt;break}}ot&&(captureSegment(b,nt,rt,!1),writeFoldedLines(b,b.line-st),nt=rt=b.position,ot=!1),is_WHITE_SPACE(ut)||(rt=b.position+1),ut=b.input.charCodeAt(++b.position)}return captureSegment(b,nt,rt,!1),b.result?!0:(b.kind=at,b.result=it,!1)}function readSingleQuotedScalar(b,$){var _e,et,tt;if(_e=b.input.charCodeAt(b.position),_e!==39)return!1;for(b.kind="scalar",b.result="",b.position++,et=tt=b.position;(_e=b.input.charCodeAt(b.position))!==0;)if(_e===39)if(captureSegment(b,et,b.position,!0),_e=b.input.charCodeAt(++b.position),_e===39)et=b.position,b.position++,tt=b.position;else return!0;else is_EOL(_e)?(captureSegment(b,et,tt,!0),writeFoldedLines(b,skipSeparationSpace(b,!1,$)),et=tt=b.position):b.position===b.lineStart&&testDocumentSeparator(b)?throwError(b,"unexpected end of the document within a single quoted scalar"):(b.position++,tt=b.position);throwError(b,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(b,$){var _e,et,tt,nt,rt,ot;if(ot=b.input.charCodeAt(b.position),ot!==34)return!1;for(b.kind="scalar",b.result="",b.position++,_e=et=b.position;(ot=b.input.charCodeAt(b.position))!==0;){if(ot===34)return captureSegment(b,_e,b.position,!0),b.position++,!0;if(ot===92){if(captureSegment(b,_e,b.position,!0),ot=b.input.charCodeAt(++b.position),is_EOL(ot))skipSeparationSpace(b,!1,$);else if(ot<256&&simpleEscapeCheck[ot])b.result+=simpleEscapeMap[ot],b.position++;else if((rt=escapedHexLen(ot))>0){for(tt=rt,nt=0;tt>0;tt--)ot=b.input.charCodeAt(++b.position),(rt=fromHexCode(ot))>=0?nt=(nt<<4)+rt:throwError(b,"expected hexadecimal character");b.result+=charFromCodepoint(nt),b.position++}else throwError(b,"unknown escape sequence");_e=et=b.position}else is_EOL(ot)?(captureSegment(b,_e,et,!0),writeFoldedLines(b,skipSeparationSpace(b,!1,$)),_e=et=b.position):b.position===b.lineStart&&testDocumentSeparator(b)?throwError(b,"unexpected end of the document within a double quoted scalar"):(b.position++,et=b.position)}throwError(b,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(b,$){var _e=!0,et,tt,nt,rt=b.tag,ot,st=b.anchor,ct,lt,at,it,ut,dt=Object.create(null),ht,ft,pt,mt;if(mt=b.input.charCodeAt(b.position),mt===91)lt=93,ut=!1,ot=[];else if(mt===123)lt=125,ut=!0,ot={};else return!1;for(b.anchor!==null&&(b.anchorMap[b.anchor]=ot),mt=b.input.charCodeAt(++b.position);mt!==0;){if(skipSeparationSpace(b,!0,$),mt=b.input.charCodeAt(b.position),mt===lt)return b.position++,b.tag=rt,b.anchor=st,b.kind=ut?"mapping":"sequence",b.result=ot,!0;_e?mt===44&&throwError(b,"expected the node content, but found ','"):throwError(b,"missed comma between flow collection entries"),ft=ht=pt=null,at=it=!1,mt===63&&(ct=b.input.charCodeAt(b.position+1),is_WS_OR_EOL(ct)&&(at=it=!0,b.position++,skipSeparationSpace(b,!0,$))),et=b.line,tt=b.lineStart,nt=b.position,composeNode(b,$,CONTEXT_FLOW_IN,!1,!0),ft=b.tag,ht=b.result,skipSeparationSpace(b,!0,$),mt=b.input.charCodeAt(b.position),(it||b.line===et)&&mt===58&&(at=!0,mt=b.input.charCodeAt(++b.position),skipSeparationSpace(b,!0,$),composeNode(b,$,CONTEXT_FLOW_IN,!1,!0),pt=b.result),ut?storeMappingPair(b,ot,dt,ft,ht,pt,et,tt,nt):at?ot.push(storeMappingPair(b,null,dt,ft,ht,pt,et,tt,nt)):ot.push(ht),skipSeparationSpace(b,!0,$),mt=b.input.charCodeAt(b.position),mt===44?(_e=!0,mt=b.input.charCodeAt(++b.position)):_e=!1}throwError(b,"unexpected end of the stream within a flow collection")}function readBlockScalar(b,$){var _e,et,tt=CHOMPING_CLIP,nt=!1,rt=!1,ot=$,st=0,ct=!1,lt,at;if(at=b.input.charCodeAt(b.position),at===124)et=!1;else if(at===62)et=!0;else return!1;for(b.kind="scalar",b.result="";at!==0;)if(at=b.input.charCodeAt(++b.position),at===43||at===45)CHOMPING_CLIP===tt?tt=at===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(b,"repeat of a chomping mode identifier");else if((lt=fromDecimalCode(at))>=0)lt===0?throwError(b,"bad explicit indentation width of a block scalar; it cannot be less than one"):rt?throwError(b,"repeat of an indentation width identifier"):(ot=$+lt-1,rt=!0);else break;if(is_WHITE_SPACE(at)){do at=b.input.charCodeAt(++b.position);while(is_WHITE_SPACE(at));if(at===35)do at=b.input.charCodeAt(++b.position);while(!is_EOL(at)&&at!==0)}for(;at!==0;){for(readLineBreak(b),b.lineIndent=0,at=b.input.charCodeAt(b.position);(!rt||b.lineIndent<ot)&&at===32;)b.lineIndent++,at=b.input.charCodeAt(++b.position);if(!rt&&b.lineIndent>ot&&(ot=b.lineIndent),is_EOL(at)){st++;continue}if(b.lineIndent<ot){tt===CHOMPING_KEEP?b.result+=common.repeat(`
`,nt?1+st:st):tt===CHOMPING_CLIP&&nt&&(b.result+=`
`);break}for(et?is_WHITE_SPACE(at)?(ct=!0,b.result+=common.repeat(`
`,nt?1+st:st)):ct?(ct=!1,b.result+=common.repeat(`
`,st+1)):st===0?nt&&(b.result+=" "):b.result+=common.repeat(`
`,st):b.result+=common.repeat(`
`,nt?1+st:st),nt=!0,rt=!0,st=0,_e=b.position;!is_EOL(at)&&at!==0;)at=b.input.charCodeAt(++b.position);captureSegment(b,_e,b.position,!1)}return!0}function readBlockSequence(b,$){var _e,et=b.tag,tt=b.anchor,nt=[],rt,ot=!1,st;if(b.firstTabInLine!==-1)return!1;for(b.anchor!==null&&(b.anchorMap[b.anchor]=nt),st=b.input.charCodeAt(b.position);st!==0&&(b.firstTabInLine!==-1&&(b.position=b.firstTabInLine,throwError(b,"tab characters must not be used in indentation")),!(st!==45||(rt=b.input.charCodeAt(b.position+1),!is_WS_OR_EOL(rt))));){if(ot=!0,b.position++,skipSeparationSpace(b,!0,-1)&&b.lineIndent<=$){nt.push(null),st=b.input.charCodeAt(b.position);continue}if(_e=b.line,composeNode(b,$,CONTEXT_BLOCK_IN,!1,!0),nt.push(b.result),skipSeparationSpace(b,!0,-1),st=b.input.charCodeAt(b.position),(b.line===_e||b.lineIndent>$)&&st!==0)throwError(b,"bad indentation of a sequence entry");else if(b.lineIndent<$)break}return ot?(b.tag=et,b.anchor=tt,b.kind="sequence",b.result=nt,!0):!1}function readBlockMapping(b,$,_e){var et,tt,nt,rt,ot,st,ct=b.tag,lt=b.anchor,at={},it=Object.create(null),ut=null,dt=null,ht=null,ft=!1,pt=!1,mt;if(b.firstTabInLine!==-1)return!1;for(b.anchor!==null&&(b.anchorMap[b.anchor]=at),mt=b.input.charCodeAt(b.position);mt!==0;){if(!ft&&b.firstTabInLine!==-1&&(b.position=b.firstTabInLine,throwError(b,"tab characters must not be used in indentation")),et=b.input.charCodeAt(b.position+1),nt=b.line,(mt===63||mt===58)&&is_WS_OR_EOL(et))mt===63?(ft&&(storeMappingPair(b,at,it,ut,dt,null,rt,ot,st),ut=dt=ht=null),pt=!0,ft=!0,tt=!0):ft?(ft=!1,tt=!0):throwError(b,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),b.position+=1,mt=et;else{if(rt=b.line,ot=b.lineStart,st=b.position,!composeNode(b,_e,CONTEXT_FLOW_OUT,!1,!0))break;if(b.line===nt){for(mt=b.input.charCodeAt(b.position);is_WHITE_SPACE(mt);)mt=b.input.charCodeAt(++b.position);if(mt===58)mt=b.input.charCodeAt(++b.position),is_WS_OR_EOL(mt)||throwError(b,"a whitespace character is expected after the key-value separator within a block mapping"),ft&&(storeMappingPair(b,at,it,ut,dt,null,rt,ot,st),ut=dt=ht=null),pt=!0,ft=!1,tt=!1,ut=b.tag,dt=b.result;else if(pt)throwError(b,"can not read an implicit mapping pair; a colon is missed");else return b.tag=ct,b.anchor=lt,!0}else if(pt)throwError(b,"can not read a block mapping entry; a multiline key may not be an implicit key");else return b.tag=ct,b.anchor=lt,!0}if((b.line===nt||b.lineIndent>$)&&(ft&&(rt=b.line,ot=b.lineStart,st=b.position),composeNode(b,$,CONTEXT_BLOCK_OUT,!0,tt)&&(ft?dt=b.result:ht=b.result),ft||(storeMappingPair(b,at,it,ut,dt,ht,rt,ot,st),ut=dt=ht=null),skipSeparationSpace(b,!0,-1),mt=b.input.charCodeAt(b.position)),(b.line===nt||b.lineIndent>$)&&mt!==0)throwError(b,"bad indentation of a mapping entry");else if(b.lineIndent<$)break}return ft&&storeMappingPair(b,at,it,ut,dt,null,rt,ot,st),pt&&(b.tag=ct,b.anchor=lt,b.kind="mapping",b.result=at),pt}function readTagProperty(b){var $,_e=!1,et=!1,tt,nt,rt;if(rt=b.input.charCodeAt(b.position),rt!==33)return!1;if(b.tag!==null&&throwError(b,"duplication of a tag property"),rt=b.input.charCodeAt(++b.position),rt===60?(_e=!0,rt=b.input.charCodeAt(++b.position)):rt===33?(et=!0,tt="!!",rt=b.input.charCodeAt(++b.position)):tt="!",$=b.position,_e){do rt=b.input.charCodeAt(++b.position);while(rt!==0&&rt!==62);b.position<b.length?(nt=b.input.slice($,b.position),rt=b.input.charCodeAt(++b.position)):throwError(b,"unexpected end of the stream within a verbatim tag")}else{for(;rt!==0&&!is_WS_OR_EOL(rt);)rt===33&&(et?throwError(b,"tag suffix cannot contain exclamation marks"):(tt=b.input.slice($-1,b.position+1),PATTERN_TAG_HANDLE.test(tt)||throwError(b,"named tag handle cannot contain such characters"),et=!0,$=b.position+1)),rt=b.input.charCodeAt(++b.position);nt=b.input.slice($,b.position),PATTERN_FLOW_INDICATORS.test(nt)&&throwError(b,"tag suffix cannot contain flow indicator characters")}nt&&!PATTERN_TAG_URI.test(nt)&&throwError(b,"tag name cannot contain such characters: "+nt);try{nt=decodeURIComponent(nt)}catch{throwError(b,"tag name is malformed: "+nt)}return _e?b.tag=nt:_hasOwnProperty$1.call(b.tagMap,tt)?b.tag=b.tagMap[tt]+nt:tt==="!"?b.tag="!"+nt:tt==="!!"?b.tag="tag:yaml.org,2002:"+nt:throwError(b,'undeclared tag handle "'+tt+'"'),!0}function readAnchorProperty(b){var $,_e;if(_e=b.input.charCodeAt(b.position),_e!==38)return!1;for(b.anchor!==null&&throwError(b,"duplication of an anchor property"),_e=b.input.charCodeAt(++b.position),$=b.position;_e!==0&&!is_WS_OR_EOL(_e)&&!is_FLOW_INDICATOR(_e);)_e=b.input.charCodeAt(++b.position);return b.position===$&&throwError(b,"name of an anchor node must contain at least one character"),b.anchor=b.input.slice($,b.position),!0}function readAlias(b){var $,_e,et;if(et=b.input.charCodeAt(b.position),et!==42)return!1;for(et=b.input.charCodeAt(++b.position),$=b.position;et!==0&&!is_WS_OR_EOL(et)&&!is_FLOW_INDICATOR(et);)et=b.input.charCodeAt(++b.position);return b.position===$&&throwError(b,"name of an alias node must contain at least one character"),_e=b.input.slice($,b.position),_hasOwnProperty$1.call(b.anchorMap,_e)||throwError(b,'unidentified alias "'+_e+'"'),b.result=b.anchorMap[_e],skipSeparationSpace(b,!0,-1),!0}function composeNode(b,$,_e,et,tt){var nt,rt,ot,st=1,ct=!1,lt=!1,at,it,ut,dt,ht,ft;if(b.listener!==null&&b.listener("open",b),b.tag=null,b.anchor=null,b.kind=null,b.result=null,nt=rt=ot=CONTEXT_BLOCK_OUT===_e||CONTEXT_BLOCK_IN===_e,et&&skipSeparationSpace(b,!0,-1)&&(ct=!0,b.lineIndent>$?st=1:b.lineIndent===$?st=0:b.lineIndent<$&&(st=-1)),st===1)for(;readTagProperty(b)||readAnchorProperty(b);)skipSeparationSpace(b,!0,-1)?(ct=!0,ot=nt,b.lineIndent>$?st=1:b.lineIndent===$?st=0:b.lineIndent<$&&(st=-1)):ot=!1;if(ot&&(ot=ct||tt),(st===1||CONTEXT_BLOCK_OUT===_e)&&(CONTEXT_FLOW_IN===_e||CONTEXT_FLOW_OUT===_e?ht=$:ht=$+1,ft=b.position-b.lineStart,st===1?ot&&(readBlockSequence(b,ft)||readBlockMapping(b,ft,ht))||readFlowCollection(b,ht)?lt=!0:(rt&&readBlockScalar(b,ht)||readSingleQuotedScalar(b,ht)||readDoubleQuotedScalar(b,ht)?lt=!0:readAlias(b)?(lt=!0,(b.tag!==null||b.anchor!==null)&&throwError(b,"alias node should not have any properties")):readPlainScalar(b,ht,CONTEXT_FLOW_IN===_e)&&(lt=!0,b.tag===null&&(b.tag="?")),b.anchor!==null&&(b.anchorMap[b.anchor]=b.result)):st===0&&(lt=ot&&readBlockSequence(b,ft))),b.tag===null)b.anchor!==null&&(b.anchorMap[b.anchor]=b.result);else if(b.tag==="?"){for(b.result!==null&&b.kind!=="scalar"&&throwError(b,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+b.kind+'"'),at=0,it=b.implicitTypes.length;at<it;at+=1)if(dt=b.implicitTypes[at],dt.resolve(b.result)){b.result=dt.construct(b.result),b.tag=dt.tag,b.anchor!==null&&(b.anchorMap[b.anchor]=b.result);break}}else if(b.tag!=="!"){if(_hasOwnProperty$1.call(b.typeMap[b.kind||"fallback"],b.tag))dt=b.typeMap[b.kind||"fallback"][b.tag];else for(dt=null,ut=b.typeMap.multi[b.kind||"fallback"],at=0,it=ut.length;at<it;at+=1)if(b.tag.slice(0,ut[at].tag.length)===ut[at].tag){dt=ut[at];break}dt||throwError(b,"unknown tag !<"+b.tag+">"),b.result!==null&&dt.kind!==b.kind&&throwError(b,"unacceptable node kind for !<"+b.tag+'> tag; it should be "'+dt.kind+'", not "'+b.kind+'"'),dt.resolve(b.result,b.tag)?(b.result=dt.construct(b.result,b.tag),b.anchor!==null&&(b.anchorMap[b.anchor]=b.result)):throwError(b,"cannot resolve a node with !<"+b.tag+"> explicit tag")}return b.listener!==null&&b.listener("close",b),b.tag!==null||b.anchor!==null||lt}function readDocument(b){var $=b.position,_e,et,tt,nt=!1,rt;for(b.version=null,b.checkLineBreaks=b.legacy,b.tagMap=Object.create(null),b.anchorMap=Object.create(null);(rt=b.input.charCodeAt(b.position))!==0&&(skipSeparationSpace(b,!0,-1),rt=b.input.charCodeAt(b.position),!(b.lineIndent>0||rt!==37));){for(nt=!0,rt=b.input.charCodeAt(++b.position),_e=b.position;rt!==0&&!is_WS_OR_EOL(rt);)rt=b.input.charCodeAt(++b.position);for(et=b.input.slice(_e,b.position),tt=[],et.length<1&&throwError(b,"directive name must not be less than one character in length");rt!==0;){for(;is_WHITE_SPACE(rt);)rt=b.input.charCodeAt(++b.position);if(rt===35){do rt=b.input.charCodeAt(++b.position);while(rt!==0&&!is_EOL(rt));break}if(is_EOL(rt))break;for(_e=b.position;rt!==0&&!is_WS_OR_EOL(rt);)rt=b.input.charCodeAt(++b.position);tt.push(b.input.slice(_e,b.position))}rt!==0&&readLineBreak(b),_hasOwnProperty$1.call(directiveHandlers,et)?directiveHandlers[et](b,et,tt):throwWarning(b,'unknown document directive "'+et+'"')}if(skipSeparationSpace(b,!0,-1),b.lineIndent===0&&b.input.charCodeAt(b.position)===45&&b.input.charCodeAt(b.position+1)===45&&b.input.charCodeAt(b.position+2)===45?(b.position+=3,skipSeparationSpace(b,!0,-1)):nt&&throwError(b,"directives end mark is expected"),composeNode(b,b.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(b,!0,-1),b.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(b.input.slice($,b.position))&&throwWarning(b,"non-ASCII line breaks are interpreted as content"),b.documents.push(b.result),b.position===b.lineStart&&testDocumentSeparator(b)){b.input.charCodeAt(b.position)===46&&(b.position+=3,skipSeparationSpace(b,!0,-1));return}if(b.position<b.length-1)throwError(b,"end of the stream or a document separator is expected");else return}function loadDocuments(b,$){b=String(b),$=$||{},b.length!==0&&(b.charCodeAt(b.length-1)!==10&&b.charCodeAt(b.length-1)!==13&&(b+=`
`),b.charCodeAt(0)===65279&&(b=b.slice(1)));var _e=new State$1(b,$),et=b.indexOf("\0");for(et!==-1&&(_e.position=et,throwError(_e,"null byte is not allowed in input")),_e.input+="\0";_e.input.charCodeAt(_e.position)===32;)_e.lineIndent+=1,_e.position+=1;for(;_e.position<_e.length-1;)readDocument(_e);return _e.documents}function loadAll$1(b,$,_e){$!==null&&typeof $=="object"&&typeof _e>"u"&&(_e=$,$=null);var et=loadDocuments(b,_e);if(typeof $!="function")return et;for(var tt=0,nt=et.length;tt<nt;tt+=1)$(et[tt])}function load$1(b,$){var _e=loadDocuments(b,$);if(_e.length!==0){if(_e.length===1)return _e[0];throw new exception("expected a single document in the stream, but found more")}}var loadAll_1=loadAll$1,load_1=load$1,loader={loadAll:loadAll_1,load:load_1},JSON_SCHEMA=json,load=loader.load;function extractFrontMatter(b){const $=b.match(frontMatterRegex);if(!$)return{text:b,metadata:{}};let _e=load($[1],{schema:JSON_SCHEMA})??{};_e=typeof _e=="object"&&!Array.isArray(_e)?_e:{};const et={};return _e.displayMode&&(et.displayMode=_e.displayMode.toString()),_e.title&&(et.title=_e.title.toString()),_e.config&&(et.config=_e.config),{text:b.slice($[0].length),metadata:et}}const cleanupText=b=>b.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,($,_e,et)=>"<"+_e+et.replace(/="([^"]*)"/g,"='$1'")+">"),processFrontmatter=b=>{const{text:$,metadata:_e}=extractFrontMatter(b),{displayMode:et,title:tt,config:nt={}}=_e;return et&&(nt.gantt||(nt.gantt={}),nt.gantt.displayMode=et),{title:tt,config:nt,text:$}},processDirectives=b=>{const $=utils.detectInit(b)??{},_e=utils.detectDirective(b,"wrap");return Array.isArray(_e)?$.wrap=_e.some(({type:et})=>{}):(_e==null?void 0:_e.type)==="wrap"&&($.wrap=!0),{text:removeDirectives(b),directive:$}};function preprocessDiagram(b){const $=cleanupText(b),_e=processFrontmatter($),et=processDirectives(_e.text),tt=cleanAndMerge(_e.config,et.directive);return b=cleanupComments(et.text),{code:b,title:_e.title,config:tt}}const MAX_TEXTLENGTH=5e4,MAX_TEXTLENGTH_EXCEEDED_MSG="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",SECURITY_LVL_SANDBOX="sandbox",SECURITY_LVL_LOOSE="loose",XMLNS_SVG_STD="http://www.w3.org/2000/svg",XMLNS_XLINK_STD="http://www.w3.org/1999/xlink",XMLNS_XHTML_STD="http://www.w3.org/1999/xhtml",IFRAME_WIDTH="100%",IFRAME_HEIGHT="100%",IFRAME_STYLES="border:0;margin:0;",IFRAME_BODY_STYLE="margin:0",IFRAME_SANDBOX_OPTS="allow-top-navigation-by-user-activation allow-popups",IFRAME_NOT_SUPPORTED_MSG='The "iframe" tag is not supported by your browser.',DOMPURIFY_TAGS=["foreignobject"],DOMPURIFY_ATTR=["dominant-baseline"];function processAndSetConfigs(b){const $=preprocessDiagram(b);return reset(),addDirective($.config??{}),$}async function parse$1(b,$){addDiagrams(),b=processAndSetConfigs(b).code;try{await getDiagramFromText(b)}catch(_e){if($!=null&&$.suppressErrors)return!1;throw _e}return!0}const cssImportantStyles=(b,$,_e=[])=>`
.${b} ${$} { ${_e.join(" !important; ")} !important; }`,createCssStyles=(b,$={})=>{var _e;let et="";if(b.themeCSS!==void 0&&(et+=`
${b.themeCSS}`),b.fontFamily!==void 0&&(et+=`
:root { --mermaid-font-family: ${b.fontFamily}}`),b.altFontFamily!==void 0&&(et+=`
:root { --mermaid-alt-font-family: ${b.altFontFamily}}`),!isEmpty($)){const ot=b.htmlLabels||((_e=b.flowchart)==null?void 0:_e.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const st in $){const ct=$[st];isEmpty(ct.styles)||ot.forEach(lt=>{et+=cssImportantStyles(ct.id,lt,ct.styles)}),isEmpty(ct.textStyles)||(et+=cssImportantStyles(ct.id,"tspan",ct.textStyles))}}return et},createUserStyles=(b,$,_e,et)=>{const tt=createCssStyles(b,_e),nt=getStyles$1($,tt,b.themeVariables);return serialize(compile(`${et}{${nt}}`),stringify)},cleanUpSvgCode=(b="",$,_e)=>{let et=b;return!_e&&!$&&(et=et.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),et=decodeEntities(et),et=et.replace(/<br>/g,"<br/>"),et},putIntoIFrame=(b="",$)=>{var _e,et;const tt=(et=(_e=$==null?void 0:$.viewBox)==null?void 0:_e.baseVal)!=null&&et.height?$.viewBox.baseVal.height+"px":IFRAME_HEIGHT,nt=btoa('<body style="'+IFRAME_BODY_STYLE+'">'+b+"</body>");return`<iframe style="width:${IFRAME_WIDTH};height:${tt};${IFRAME_STYLES}" src="data:text/html;base64,${nt}" sandbox="${IFRAME_SANDBOX_OPTS}">
  ${IFRAME_NOT_SUPPORTED_MSG}
</iframe>`},appendDivSvgG=(b,$,_e,et,tt)=>{const nt=b.append("div");nt.attr("id",_e),et&&nt.attr("style",et);const rt=nt.append("svg").attr("id",$).attr("width","100%").attr("xmlns",XMLNS_SVG_STD);return tt&&rt.attr("xmlns:xlink",tt),rt.append("g"),b};function sandboxedIframe(b,$){return b.append("iframe").attr("id",$).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const removeExistingElements=(b,$,_e,et)=>{var tt,nt,rt;(tt=b.getElementById($))==null||tt.remove(),(nt=b.getElementById(_e))==null||nt.remove(),(rt=b.getElementById(et))==null||rt.remove()},render$1=async function(b,$,_e){var et,tt,nt,rt,ot,st;addDiagrams();const ct=processAndSetConfigs($);$=ct.code;const lt=getConfig$1();log$1.debug(lt),$.length>((lt==null?void 0:lt.maxTextSize)??MAX_TEXTLENGTH)&&($=MAX_TEXTLENGTH_EXCEEDED_MSG);const at="#"+b,it="i"+b,ut="#"+it,dt="d"+b,ht="#"+dt;let ft=select("body");const pt=lt.securityLevel===SECURITY_LVL_SANDBOX,mt=lt.securityLevel===SECURITY_LVL_LOOSE,gt=lt.fontFamily;if(_e!==void 0){if(_e&&(_e.innerHTML=""),pt){const Ot=sandboxedIframe(select(_e),it);ft=select(Ot.nodes()[0].contentDocument.body),ft.node().style.margin=0}else ft=select(_e);appendDivSvgG(ft,b,dt,`font-family: ${gt}`,XMLNS_XLINK_STD)}else{if(removeExistingElements(document,b,dt,it),pt){const Ot=sandboxedIframe(select("body"),it);ft=select(Ot.nodes()[0].contentDocument.body),ft.node().style.margin=0}else ft=select("body");appendDivSvgG(ft,b,dt)}let vt,yt;try{vt=await getDiagramFromText($,{title:ct.title})}catch(Ot){vt=new Diagram("error"),yt=Ot}const bt=ft.select(ht).node(),xt=vt.type,_t=bt.firstChild,wt=_t.firstChild,At=(tt=(et=vt.renderer).getClasses)==null?void 0:tt.call(et,$,vt),Pt=createUserStyles(lt,xt,At,at),jt=document.createElement("style");jt.innerHTML=Pt,_t.insertBefore(jt,wt);try{await vt.renderer.draw($,b,version$2,vt)}catch(Ot){throw errorRenderer.draw($,b,version$2),Ot}const kt=ft.select(`${ht} svg`),St=(rt=(nt=vt.db).getAccTitle)==null?void 0:rt.call(nt),Ct=(st=(ot=vt.db).getAccDescription)==null?void 0:st.call(ot);addA11yInfo(xt,kt,St,Ct),ft.select(`[id="${b}"]`).selectAll("foreignobject > *").attr("xmlns",XMLNS_XHTML_STD);let Et=ft.select(ht).node().innerHTML;if(log$1.debug("config.arrowMarkerAbsolute",lt.arrowMarkerAbsolute),Et=cleanUpSvgCode(Et,pt,evaluate$1(lt.arrowMarkerAbsolute)),pt){const Ot=ft.select(ht+" svg").node();Et=putIntoIFrame(Et,Ot)}else mt||(Et=purify.sanitize(Et,{ADD_TAGS:DOMPURIFY_TAGS,ADD_ATTR:DOMPURIFY_ATTR}));if(attachFunctions(),yt)throw yt;const $t=select(pt?ut:ht).node();return $t&&"remove"in $t&&$t.remove(),{svg:Et,bindFunctions:vt.db.bindFunctions}};function initialize$1(b={}){var $;b!=null&&b.fontFamily&&!(($=b.themeVariables)!=null&&$.fontFamily)&&(b.themeVariables||(b.themeVariables={}),b.themeVariables.fontFamily=b.fontFamily),saveConfigFromInitialize(b),b!=null&&b.theme&&b.theme in theme?b.themeVariables=theme[b.theme].getThemeVariables(b.themeVariables):b&&(b.themeVariables=theme.default.getThemeVariables(b.themeVariables));const _e=typeof b=="object"?setSiteConfig(b):getSiteConfig();setLogLevel$1(_e.logLevel),addDiagrams()}const getDiagramFromText=(b,$={})=>{const{code:_e}=preprocessDiagram(b);return getDiagramFromText$1(_e,$)};function addA11yInfo(b,$,_e,et){setA11yDiagramInfo($,b),addSVGa11yTitleDescription($,_e,et,$.attr("id"))}const mermaidAPI=Object.freeze({render:render$1,parse:parse$1,getDiagramFromText,initialize:initialize$1,getConfig:getConfig$1,setConfig:setConfig$1,getSiteConfig,updateSiteConfig,reset:()=>{reset()},globalReset:()=>{reset(defaultConfig$1)},defaultConfig:defaultConfig$1});setLogLevel$1(getConfig$1().logLevel);reset(getConfig$1());const loadRegisteredDiagrams=async()=>{log$1.debug("Loading registered diagrams");const $=(await Promise.allSettled(Object.entries(detectors).map(async([_e,{detector:et,loader:tt}])=>{if(tt)try{getDiagram(_e)}catch{try{const{diagram:rt,id:ot}=await tt();registerDiagram(ot,rt,et)}catch(rt){throw log$1.error(`Failed to load external diagram with key ${_e}. Removing from detectors.`),delete detectors[_e],rt}}}))).filter(_e=>_e.status==="rejected");if($.length>0){log$1.error(`Failed to load ${$.length} external diagrams`);for(const _e of $)log$1.error(_e);throw new Error(`Failed to load ${$.length} external diagrams`)}},handleError=(b,$,_e)=>{log$1.warn(b),isDetailedError(b)?(_e&&_e(b.str,b.hash),$.push({...b,message:b.str,error:b})):(_e&&_e(b),b instanceof Error&&$.push({str:b.message,message:b.message,hash:b.name,error:b}))},run=async function(b={querySelector:".mermaid"}){try{await runThrowsErrors(b)}catch($){if(isDetailedError($)&&log$1.error($.str),mermaid.parseError&&mermaid.parseError($),!b.suppressErrors)throw log$1.error("Use the suppressErrors option to suppress these errors"),$}},runThrowsErrors=async function({postRenderCallback:b,querySelector:$,nodes:_e}={querySelector:".mermaid"}){const et=mermaidAPI.getConfig();log$1.debug(`${b?"":"No "}Callback function found`);let tt;if(_e)tt=_e;else if($)tt=document.querySelectorAll($);else throw new Error("Nodes and querySelector are both undefined");log$1.debug(`Found ${tt.length} diagrams`),(et==null?void 0:et.startOnLoad)!==void 0&&(log$1.debug("Start On Load: "+(et==null?void 0:et.startOnLoad)),mermaidAPI.updateSiteConfig({startOnLoad:et==null?void 0:et.startOnLoad}));const nt=new utils.InitIDGenerator(et.deterministicIds,et.deterministicIDSeed);let rt;const ot=[];for(const st of Array.from(tt)){log$1.info("Rendering diagram: "+st.id);/*! Check if previously processed */if(st.getAttribute("data-processed"))continue;st.setAttribute("data-processed","true");const ct=`mermaid-${nt.next()}`;rt=st.innerHTML,rt=dedent(utils.entityDecode(rt)).trim().replace(/<br\s*\/?>/gi,"<br/>");const lt=utils.detectInit(rt);lt&&log$1.debug("Detected early reinit: ",lt);try{const{svg:at,bindFunctions:it}=await render(ct,rt,st);st.innerHTML=at,b&&await b(ct),it&&it(st)}catch(at){handleError(at,ot,mermaid.parseError)}}if(ot.length>0)throw ot[0]},initialize=function(b){mermaidAPI.initialize(b)},init=async function(b,$,_e){log$1.warn("mermaid.init is deprecated. Please use run instead."),b&&initialize(b);const et={postRenderCallback:_e,querySelector:".mermaid"};typeof $=="string"?et.querySelector=$:$&&($ instanceof HTMLElement?et.nodes=[$]:et.nodes=$),await run(et)},registerExternalDiagrams=async(b,{lazyLoad:$=!0}={})=>{registerLazyLoadedDiagrams(...b),$===!1&&await loadRegisteredDiagrams()},contentLoaded=function(){if(mermaid.startOnLoad){const{startOnLoad:b}=mermaidAPI.getConfig();b&&mermaid.run().catch($=>log$1.error("Mermaid failed to initialize",$))}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",contentLoaded,!1)}const setParseErrorHandler=function(b){mermaid.parseError=b},executionQueue=[];let executionQueueRunning=!1;const executeQueue=async()=>{if(!executionQueueRunning){for(executionQueueRunning=!0;executionQueue.length>0;){const b=executionQueue.shift();if(b)try{await b()}catch($){log$1.error("Error executing queue",$)}}executionQueueRunning=!1}},parse$2=async(b,$)=>new Promise((_e,et)=>{const tt=()=>new Promise((nt,rt)=>{mermaidAPI.parse(b,$).then(ot=>{nt(ot),_e(ot)},ot=>{var st;log$1.error("Error parsing",ot),(st=mermaid.parseError)==null||st.call(mermaid,ot),rt(ot),et(ot)})});executionQueue.push(tt),executeQueue().catch(et)}),render=(b,$,_e)=>new Promise((et,tt)=>{const nt=()=>new Promise((rt,ot)=>{mermaidAPI.render(b,$,_e).then(st=>{rt(st),et(st)},st=>{var ct;log$1.error("Error parsing",st),(ct=mermaid.parseError)==null||ct.call(mermaid,st),ot(st),tt(st)})});executionQueue.push(nt),executeQueue().catch(tt)}),mermaid={startOnLoad:!0,mermaidAPI,parse:parse$2,render,init,run,registerExternalDiagrams,initialize,parseError:void 0,contentLoaded,setParseErrorHandler,detectType};function MermaidViewer({count:b,chart:$,forceRefresh:_e,elementId:et,submitForm:tt,icons:nt}){const[rt,ot]=reactExports.useState(""),st=reactExports.useRef("");function ct(at){st.current=at}reactExports.useRef();async function lt(){return new Promise(function(at,it){if($)try{mermaid.parse($).catch(function(ut){ot(ut.message),ct(null),at()}).then(function(){mermaid.render(et,$).then(function(ut){ct(ut.svg),ot(null),_e(),at()}).catch(function(ut){ot(ut.message),ct(null),at()})})}catch(ut){ot(ut.message),ct(null),at()}else at()})}return reactExports.useEffect(function(){ot(null),mermaid.initialize({startOnLoad:!1}),lt()},[]),reactExports.useEffect(function(){lt()},[$]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[b,rt&&jsxRuntimeExports.jsxs("div",{style:{color:"red"},className:"error",children:[jsxRuntimeExports.jsx("pre",{style:{color:"red"},children:rt}),jsxRuntimeExports.jsx("pre",{children:$})]}),jsxRuntimeExports.jsx("div",{dangerouslySetInnerHTML:{__html:st.current}})]})}var version$1="6.3.0",version_1=version$1,TimingCallbacks$2=function(b,$){var _e=this;if($||($={}),_e.qpm=$.qpm?parseInt($.qpm,10):null,!_e.qpm){var et=b.metaText?b.metaText.tempo:null;_e.qpm=b.getBpm(et)}_e.extraMeasuresAtBeginning=$.extraMeasuresAtBeginning?parseInt($.extraMeasuresAtBeginning,10):0,_e.beatCallback=$.beatCallback,_e.eventCallback=$.eventCallback,_e.lineEndCallback=$.lineEndCallback,_e.lineEndAnticipation=$.lineEndAnticipation?parseInt($.lineEndAnticipation,10):0,_e.beatSubdivisions=$.beatSubdivisions?parseInt($.beatSubdivisions,10):1,_e.joggerTimer=null,_e.replaceTarget=function(nt){_e.noteTimings=nt.setTiming(_e.qpm,_e.extraMeasuresAtBeginning),nt.noteTimings.length===0&&(_e.noteTimings=nt.setTiming(0,0)),_e.lineEndCallback&&(_e.lineEndTimings=getLineEndTimings(nt.noteTimings,_e.lineEndAnticipation)),_e.startTime=null,_e.currentBeat=0,_e.currentEvent=0,_e.currentLine=0,_e.currentTime=0,_e.isPaused=!1,_e.isRunning=!1,_e.pausedPercent=null,_e.justUnpaused=!1,_e.newSeekPercent=0,_e.lastTimestamp=0,_e.noteTimings.length!==0&&(_e.millisecondsPerBeat=1e3/(_e.qpm/60)/_e.beatSubdivisions,_e.lastMoment=_e.noteTimings[_e.noteTimings.length-1].milliseconds,_e.totalBeats=Math.round(_e.lastMoment/_e.millisecondsPerBeat))},_e.replaceTarget(b),_e.doTiming=function(nt){if(_e.lastTimestamp!==nt&&(_e.lastTimestamp=nt,_e.startTime||(_e.startTime=nt),!_e.isPaused&&_e.isRunning)){for(_e.currentTime=nt-_e.startTime,_e.currentTime+=16;_e.noteTimings.length>_e.currentEvent&&_e.noteTimings[_e.currentEvent].milliseconds<_e.currentTime;){if(_e.eventCallback&&_e.noteTimings[_e.currentEvent].type==="event"){var rt=_e.startTime;_e.eventCallback(_e.noteTimings[_e.currentEvent]),rt!==_e.startTime&&(_e.currentTime=nt-_e.startTime)}_e.currentEvent++}if(_e.lineEndCallback&&_e.lineEndTimings.length>_e.currentLine&&_e.lineEndTimings[_e.currentLine].milliseconds<_e.currentTime&&_e.currentEvent<_e.noteTimings.length){var ot=_e.noteTimings[_e.currentEvent].milliseconds===_e.currentTime?_e.noteTimings[_e.currentEvent]:_e.noteTimings[_e.currentEvent-1];_e.lineEndCallback(_e.lineEndTimings[_e.currentLine],ot,{line:_e.currentLine,endTimings:_e.lineEndTimings,currentTime:_e.currentTime}),_e.currentLine++}if(_e.currentTime<_e.lastMoment){if(requestAnimationFrame(_e.doTiming),_e.currentBeat*_e.millisecondsPerBeat<_e.currentTime){var st=_e.doBeatCallback(nt);st!==null&&(_e.currentTime=st)}}else if(_e.currentBeat<=_e.totalBeats&&_e.beatCallback){var ct=_e.doBeatCallback(nt);ct!==null&&(_e.currentTime=ct),requestAnimationFrame(_e.doTiming)}if(_e.currentTime>=_e.lastMoment)if(_e.eventCallback){var lt=_e.eventCallback(null);_e.shouldStop(lt).then(function(at){at&&_e.stop()})}else _e.stop()}},_e.shouldStop=function(nt){return new Promise(function(rt){if(!nt)return rt(!0);if(nt==="continue")return rt(!1);nt.then&&nt.then(function(ot){rt(ot!=="continue")})})},_e.doBeatCallback=function(nt){if(_e.beatCallback){for(var rt=_e.currentEvent;rt<_e.noteTimings.length&&_e.noteTimings[rt].left===null;)rt++;var ot,st;if(rt<_e.noteTimings.length){for(ot=_e.noteTimings[rt].milliseconds,rt=Math.max(0,_e.currentEvent-1);rt>=0&&_e.noteTimings[rt].left===null;)rt--;st=_e.noteTimings[rt]}var ct={},lt={};if(st){ct.top=st.top,ct.height=st.height;var at=Math.max(0,nt-_e.startTime-st.milliseconds),it=ot-st.milliseconds,ut=st.endX-st.left,dt=it?at*ut/it:0;ct.left=st.left+dt,_e.currentEvent===0&&st.milliseconds>nt-_e.startTime&&(ct.left=void 0),lt={timestamp:nt,startTime:_e.startTime,ev:st,endMs:ot,offMs:at,offPx:dt,gapMs:it,gapPx:ut}}else lt={timestamp:nt,startTime:_e.startTime};var ht=_e.startTime;if(_e.beatCallback(_e.currentBeat/_e.beatSubdivisions,_e.totalBeats/_e.beatSubdivisions,_e.lastMoment,ct,lt),ht!==_e.startTime)return nt-_e.startTime;_e.currentBeat++}return null};var tt=60;_e.animationJogger=function(){_e.isRunning&&(_e.doTiming(performance.now()),_e.joggerTimer=setTimeout(_e.animationJogger,tt))},_e.start=function(nt,rt){if(_e.isRunning=!0,_e.isPaused&&(_e.isPaused=!1,nt===void 0&&(_e.justUnpaused=!0)),nt)_e.setProgress(nt,rt);else if(nt===0)_e.reset();else if(_e.pausedPercent!==null){var ot=performance.now();_e.currentTime=_e.lastMoment*_e.pausedPercent,_e.startTime=ot-_e.currentTime,_e.pausedPercent=null,_e.reportNext=!0}requestAnimationFrame(_e.doTiming),_e.joggerTimer=setTimeout(_e.animationJogger,tt)},_e.pause=function(){_e.isPaused=!0;var nt=performance.now();_e.pausedPercent=(nt-_e.startTime)/_e.lastMoment,_e.isRunning=!1,_e.joggerTimer&&(clearTimeout(_e.joggerTimer),_e.joggerTimer=null)},_e.currentMillisecond=function(){return _e.currentTime},_e.reset=function(){_e.currentBeat=0,_e.currentEvent=0,_e.currentLine=0,_e.startTime=null,_e.pausedPercent=null},_e.stop=function(){_e.pause(),_e.reset()},_e.setProgress=function(nt,rt){var ot;switch(rt){case"seconds":_e.currentTime=nt*1e3,_e.currentTime<0&&(_e.currentTime=0),_e.currentTime>_e.lastMoment&&(_e.currentTime=_e.lastMoment),ot=_e.currentTime/_e.lastMoment;break;case"beats":_e.currentTime=nt*_e.millisecondsPerBeat*_e.beatSubdivisions,_e.currentTime<0&&(_e.currentTime=0),_e.currentTime>_e.lastMoment&&(_e.currentTime=_e.lastMoment),ot=_e.currentTime/_e.lastMoment;break;default:ot=nt,ot<0&&(ot=0),ot>1&&(ot=1),_e.currentTime=_e.lastMoment*ot;break}_e.isRunning||(_e.pausedPercent=ot);var st=performance.now();for(_e.startTime=st-_e.currentTime,_e.currentEvent,_e.currentEvent=0;_e.noteTimings.length>_e.currentEvent&&_e.noteTimings[_e.currentEvent].milliseconds<_e.currentTime;)_e.currentEvent++;if(_e.lineEndCallback)for(_e.currentLine=0;_e.lineEndTimings.length>_e.currentLine&&_e.lineEndTimings[_e.currentLine].milliseconds+_e.lineEndAnticipation<_e.currentTime;)_e.currentLine++;var ct=_e.currentBeat;_e.currentBeat=Math.floor(_e.currentTime/_e.millisecondsPerBeat),_e.beatCallback&&ct!==_e.currentBeat&&_e.doBeatCallback(_e.startTime+_e.currentTime),_e.eventCallback&&_e.currentEvent>=0&&_e.noteTimings[_e.currentEvent].type==="event"&&_e.eventCallback(_e.noteTimings[_e.currentEvent]),_e.lineEndCallback&&_e.lineEndCallback(_e.lineEndTimings[_e.currentLine],_e.noteTimings[_e.currentEvent],{line:_e.currentLine,endTimings:_e.lineEndTimings}),_e.joggerTimer=setTimeout(_e.animationJogger,tt)}};function getLineEndTimings(b,$){for(var _e=[],et=null,tt=0;tt<b.length;tt++){var nt=b[tt];nt.type!=="end"&&nt.top!==et&&(_e.push({measureNumber:nt.measureNumber,milliseconds:nt.milliseconds-$,top:nt.top,bottom:nt.top+nt.height}),et=nt.top)}return _e}var abc_timing_callbacks=TimingCallbacks$2,TimingCallbacks$1=abc_timing_callbacks,animation$1={};(function(){var b,$;animation$1.startAnimation=function(_e,et,tt){b&&(b.stop(),b=void 0),tt.showCursor&&($=_e.querySelector(".abcjs-cursor"),$||($=document.createElement("DIV"),$.className="abcjs-cursor cursor",$.style.position="absolute",_e.appendChild($),_e.style.position="relative"));function nt(it){for(var ut=0;ut<it.length;ut++){var dt=it[ut];dt.classList.contains("abcjs-bar")||(dt.style.display="none")}}var rt;function ot(it){if(rt){var ut=_e.querySelectorAll(rt);nt(ut)}rt=it}function st(it){var ut=_e.querySelectorAll(it);nt(ut)}function ct(it){tt.hideCurrentMeasure?st(it):tt.hideFinishedMeasures&&ot(it)}function lt(it){return".abcjs-l"+it.line+".abcjs-m"+it.measureNumber}function at(it){if(it){if(it.measureStart){var ut=lt(it);ut&&ct(ut)}$&&($.style.left=it.left+"px",$.style.top=it.top+"px",$.style.width=it.width+"px",$.style.height=it.height+"px")}else b.stop(),b=void 0}b=new TimingCallbacks$1(et,{qpm:tt.bpm,eventCallback:at}),b.start()},animation$1.pauseAnimation=function(_e){b&&(_e?b.pause():b.start())},animation$1.stopAnimation=function(){b&&(b.stop(),b=void 0)}})();var abc_animation=animation$1,parseCommon$e={};parseCommon$e.clone=function(b){var $={};for(var _e in b)b.hasOwnProperty(_e)&&($[_e]=b[_e]);return $};parseCommon$e.cloneArray=function(b){for(var $=[],_e=0;_e<b.length;_e++)$.push(parseCommon$e.clone(b[_e]));return $};parseCommon$e.cloneHashOfHash=function(b){var $={};for(var _e in b)b.hasOwnProperty(_e)&&($[_e]=parseCommon$e.clone(b[_e]));return $};parseCommon$e.cloneHashOfArrayOfHash=function(b){var $={};for(var _e in b)b.hasOwnProperty(_e)&&($[_e]=parseCommon$e.cloneArray(b[_e]));return $};parseCommon$e.strip=function(b){return b.replace(/^\s+/,"").replace(/\s+$/,"")};parseCommon$e.startsWith=function(b,$){return b.indexOf($)===0};parseCommon$e.endsWith=function(b,$){var _e=b.length-$.length;return _e>=0&&b.lastIndexOf($)===_e};parseCommon$e.last=function(b){return b.length===0?null:b[b.length-1]};var abc_common=parseCommon$e,parseCommon$d=abc_common,parseDirective$3={};(function(){var b,$,_e,et,tt;parseDirective$3.initialize=function(Et,Tt,$t,Ot,Rt){b=Et,$=Tt,_e=$t,et=Ot,tt=Rt,nt()};function nt(){_e.annotationfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},_e.gchordfont={face:"Helvetica",size:12,weight:"normal",style:"normal",decoration:"none"},_e.historyfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},_e.infofont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},_e.measurefont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},_e.partsfont={face:'"Times New Roman"',size:15,weight:"normal",style:"normal",decoration:"none"},_e.repeatfont={face:'"Times New Roman"',size:13,weight:"normal",style:"normal",decoration:"none"},_e.textfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},_e.tripletfont={face:"Times",size:11,weight:"normal",style:"italic",decoration:"none"},_e.vocalfont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},_e.wordsfont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},et.formatting.composerfont={face:'"Times New Roman"',size:14,weight:"normal",style:"italic",decoration:"none"},et.formatting.subtitlefont={face:'"Times New Roman"',size:16,weight:"normal",style:"normal",decoration:"none"},et.formatting.tempofont={face:'"Times New Roman"',size:15,weight:"bold",style:"normal",decoration:"none"},et.formatting.titlefont={face:'"Times New Roman"',size:20,weight:"normal",style:"normal",decoration:"none"},et.formatting.footerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},et.formatting.headerfont={face:'"Times New Roman"',size:12,weight:"normal",style:"normal",decoration:"none"},et.formatting.voicefont={face:'"Times New Roman"',size:13,weight:"bold",style:"normal",decoration:"none"},et.formatting.tablabelfont={face:'"Trebuchet MS"',size:16,weight:"normal",style:"normal",decoration:"none"},et.formatting.tabnumberfont={face:'"Arial"',size:11,weight:"normal",style:"normal",decoration:"none"},et.formatting.tabgracefont={face:'"Arial"',size:8,weight:"normal",style:"normal",decoration:"none"},et.formatting.annotationfont=_e.annotationfont,et.formatting.gchordfont=_e.gchordfont,et.formatting.historyfont=_e.historyfont,et.formatting.infofont=_e.infofont,et.formatting.measurefont=_e.measurefont,et.formatting.partsfont=_e.partsfont,et.formatting.repeatfont=_e.repeatfont,et.formatting.textfont=_e.textfont,et.formatting.tripletfont=_e.tripletfont,et.formatting.vocalfont=_e.vocalfont,et.formatting.wordsfont=_e.wordsfont}var rt={gchordfont:!0,measurefont:!0,partsfont:!0,annotationfont:!0,composerfont:!0,historyfont:!0,infofont:!0,subtitlefont:!0,textfont:!0,titlefont:!0,voicefont:!0},ot=function(Et){switch(Et){case"Arial-Italic":return{face:"Arial",weight:"normal",style:"italic",decoration:"none"};case"Arial-Bold":return{face:"Arial",weight:"bold",style:"normal",decoration:"none"};case"Bookman-Demi":return{face:"Bookman,serif",weight:"bold",style:"normal",decoration:"none"};case"Bookman-DemiItalic":return{face:"Bookman,serif",weight:"bold",style:"italic",decoration:"none"};case"Bookman-Light":return{face:"Bookman,serif",weight:"normal",style:"normal",decoration:"none"};case"Bookman-LightItalic":return{face:"Bookman,serif",weight:"normal",style:"italic",decoration:"none"};case"Courier":return{face:'"Courier New"',weight:"normal",style:"normal",decoration:"none"};case"Courier-Oblique":return{face:'"Courier New"',weight:"normal",style:"italic",decoration:"none"};case"Courier-Bold":return{face:'"Courier New"',weight:"bold",style:"normal",decoration:"none"};case"Courier-BoldOblique":return{face:'"Courier New"',weight:"bold",style:"italic",decoration:"none"};case"AvantGarde-Book":return{face:"AvantGarde,Arial",weight:"normal",style:"normal",decoration:"none"};case"AvantGarde-BookOblique":return{face:"AvantGarde,Arial",weight:"normal",style:"italic",decoration:"none"};case"AvantGarde-Demi":case"Avant-Garde-Demi":return{face:"AvantGarde,Arial",weight:"bold",style:"normal",decoration:"none"};case"AvantGarde-DemiOblique":return{face:"AvantGarde,Arial",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Oblique":return{face:"Helvetica",weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Bold":return{face:"Helvetica",weight:"bold",style:"normal",decoration:"none"};case"Helvetica-BoldOblique":return{face:"Helvetica",weight:"bold",style:"italic",decoration:"none"};case"Helvetica-Narrow":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"normal",decoration:"none"};case"Helvetica-Narrow-Oblique":return{face:'"Helvetica Narrow",Helvetica',weight:"normal",style:"italic",decoration:"none"};case"Helvetica-Narrow-Bold":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"normal",decoration:"none"};case"Helvetica-Narrow-BoldOblique":return{face:'"Helvetica Narrow",Helvetica',weight:"bold",style:"italic",decoration:"none"};case"Palatino-Roman":return{face:"Palatino",weight:"normal",style:"normal",decoration:"none"};case"Palatino-Italic":return{face:"Palatino",weight:"normal",style:"italic",decoration:"none"};case"Palatino-Bold":return{face:"Palatino",weight:"bold",style:"normal",decoration:"none"};case"Palatino-BoldItalic":return{face:"Palatino",weight:"bold",style:"italic",decoration:"none"};case"NewCenturySchlbk-Roman":return{face:'"New Century",serif',weight:"normal",style:"normal",decoration:"none"};case"NewCenturySchlbk-Italic":return{face:'"New Century",serif',weight:"normal",style:"italic",decoration:"none"};case"NewCenturySchlbk-Bold":return{face:'"New Century",serif',weight:"bold",style:"normal",decoration:"none"};case"NewCenturySchlbk-BoldItalic":return{face:'"New Century",serif',weight:"bold",style:"italic",decoration:"none"};case"Times":case"Times-Roman":case"Times-Narrow":case"Times-Courier":case"Times-New-Roman":return{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none"};case"Times-Italic":case"Times-Italics":return{face:'"Times New Roman"',weight:"normal",style:"italic",decoration:"none"};case"Times-Bold":return{face:'"Times New Roman"',weight:"bold",style:"normal",decoration:"none"};case"Times-BoldItalic":return{face:'"Times New Roman"',weight:"bold",style:"italic",decoration:"none"};case"ZapfChancery-MediumItalic":return{face:'"Zapf Chancery",cursive,serif',weight:"normal",style:"normal",decoration:"none"};default:return null}},st=function(Et,Tt,$t,Ot,Rt){function Nt(){var $n=parseInt(Et[0].token);return Et.shift(),Tt?Et.length===0?{face:Tt.face,weight:Tt.weight,style:Tt.style,decoration:Tt.decoration,size:$n}:Et.length===1&&Et[0].token==="box"&&rt[Rt]?{face:Tt.face,weight:Tt.weight,style:Tt.style,decoration:Tt.decoration,size:$n,box:!0}:($("Extra parameters in font definition.",$t,Ot),{face:Tt.face,weight:Tt.weight,style:Tt.style,decoration:Tt.decoration,size:$n}):($("Can't set just the size of the font since there is no default value.",$t,Ot),{face:'"Times New Roman"',weight:"normal",style:"normal",decoration:"none",size:$n})}if(Et[0].token==="*"){if(Et.shift(),Et[0].type==="number")return Nt();$("Expected font size number after *.",$t,Ot)}if(Et[0].type==="number")return Nt();for(var Ft=[],Ht,zt="normal",an="normal",Jt="none",Zt=!1,Qt="face",qt=!1;Et.length;){var vn=Et.shift(),Yt=vn.token.toLowerCase();switch(Qt){case"face":qt||Yt!=="utf"&&vn.type!=="number"&&Yt!=="bold"&&Yt!=="italic"&&Yt!=="underline"&&Yt!=="box"?Ft.length>0&&vn.token==="-"?(qt=!0,Ft[Ft.length-1]=Ft[Ft.length-1]+vn.token):qt?(qt=!1,Ft[Ft.length-1]=Ft[Ft.length-1]+vn.token):Ft.push(vn.token):vn.type==="number"?(Ht?$("Font size specified twice in font definition.",$t,Ot):Ht=vn.token,Qt="modifier"):Yt==="bold"?zt="bold":Yt==="italic"?an="italic":Yt==="underline"?Jt="underline":Yt==="box"?(rt[Rt]?Zt=!0:$(`This font style doesn't support "box"`,$t,Ot),Qt="finished"):Yt==="utf"?(vn=Et.shift(),Qt="size"):$("Unknown parameter "+vn.token+" in font definition.",$t,Ot);break;case"size":vn.type==="number"?Ht?$("Font size specified twice in font definition.",$t,Ot):Ht=vn.token:$("Expected font size in font definition.",$t,Ot),Qt="modifier";break;case"modifier":Yt==="bold"?zt="bold":Yt==="italic"?an="italic":Yt==="underline"?Jt="underline":Yt==="box"?(rt[Rt]?Zt=!0:$(`This font style doesn't support "box"`,$t,Ot),Qt="finished"):$("Unknown parameter "+vn.token+" in font definition.",$t,Ot);break;case"finished":$('Extra characters found after "box" in font definition.',$t,Ot);break}}Ht===void 0?Tt?Ht=Tt.size:($("Must specify the size of the font since there is no default value.",$t,Ot),Ht=12):Ht=parseFloat(Ht),Ft=Ft.join(" "),Ft===""&&(Tt?Ft=Tt.face:($("Must specify the name of the font since there is no default value.",$t,Ot),Ft="sans-serif"));var rn=ot(Ft),pn={};return rn?(pn.face=rn.face,pn.weight=rn.weight,pn.style=rn.style,pn.decoration=rn.decoration,pn.size=Ht,Zt&&(pn.box=!0),pn):(pn.face=Ft,pn.weight=zt,pn.style=an,pn.decoration=Jt,pn.size=Ht,Zt&&(pn.box=!0),pn)},ct=function(Et,Tt,$t){return Tt.length===0?'Directive "'+Et+'" requires a font as a parameter.':(_e[Et]=st(Tt,_e[Et],$t,0,Et),_e.is_in_header&&(et.formatting[Et]=_e[Et]),null)},lt=function(Et,Tt,$t){return Tt.length===0?'Directive "'+Et+'" requires a font as a parameter.':(et.formatting[Et]=st(Tt,et.formatting[Et],$t,0,Et),null)},at=function(Et,Tt){var $t="";Tt.forEach(function(Rt){$t+=Rt.token});var Ot=parseFloat($t);if(isNaN(Ot)||Ot===0)return'Directive "'+Et+'" requires a number as a parameter.';et.formatting.scale=Ot},it=["acoustic-bass-drum","bass-drum-1","side-stick","acoustic-snare","hand-clap","electric-snare","low-floor-tom","closed-hi-hat","high-floor-tom","pedal-hi-hat","low-tom","open-hi-hat","low-mid-tom","hi-mid-tom","crash-cymbal-1","high-tom","ride-cymbal-1","chinese-cymbal","ride-bell","tambourine","splash-cymbal","cowbell","crash-cymbal-2","vibraslap","ride-cymbal-2","hi-bongo","low-bongo","mute-hi-conga","open-hi-conga","low-conga","high-timbale","low-timbale","high-agogo","low-agogo","cabasa","maracas","short-whistle","long-whistle","short-guiro","long-guiro","claves","hi-wood-block","low-wood-block","mute-cuica","open-cuica","mute-triangle","open-triangle"],ut=function(Et){var Tt=Et.split(/\s+/);if(Tt.length!==2&&Tt.length!==3)return{error:'Expected parameters "abc-note", "drum-sound", and optionally "note-head"'};var $t=Tt[0],Ot=parseInt(Tt[1],10);if((isNaN(Ot)||Ot<35||Ot>81)&&Tt[1]&&(Ot=it.indexOf(Tt[1].toLowerCase())+35),isNaN(Ot)||Ot<35||Ot>81)return{error:'Expected drum name, received "'+Tt[1]+'"'};var Rt={sound:Ot};return Tt.length===3&&(Rt.noteHead=Tt[2]),{key:$t,value:Rt}},dt=function(Et,Tt){var $t=b.getMeasurement(Tt);return $t.used===0||Tt.length!==0?{error:'Directive "'+Et+'" requires a measurement as a parameter.'}:$t.value},ht=function(Et,Tt){var $t=b.getMeasurement(Tt);return $t.used===0||Tt.length!==0?'Directive "'+Et+'" requires a measurement as a parameter.':(et.formatting[Et]=$t.value,null)},ft=function(Et,Tt,$t,Ot,Rt){if($t.length!==1||$t[0].type!=="number")return'Directive "'+Tt+'" requires a number as a parameter.';var Nt=$t[0].intt;return Ot!==void 0&&Nt<Ot?'Directive "'+Tt+'" requires a number greater than or equal to '+Ot+" as a parameter.":Rt!==void 0&&Nt>Rt?'Directive "'+Tt+'" requires a number less than or equal to '+Rt+" as a parameter.":(_e[Et]=Nt,null)},pt=function(Et,Tt,$t){if($t.length===1&&($t[0].token==="true"||$t[0].token==="false"))return _e[Et]=$t[0].token==="true",null;var Ot=ft(Et,Tt,$t,0,1);return Ot!==null?Ot:(_e[Et]=_e[Et]===1,null)},mt=function(Et,Tt,$t,Ot){if($t.length!==1)return'Directive "'+Tt+'" requires one of [ '+Ot.join(", ")+" ] as a parameter.";for(var Rt=$t[0].token,Nt=!1,Ft=0;!Nt&&Ft<Ot.length;Ft++)Ot[Ft]===Rt&&(Nt=!0);return Nt?(_e[Et]=Rt,null):'Directive "'+Tt+'" requires one of [ '+Ot.join(", ")+" ] as a parameter."},gt=["nobarlines","barlines","beataccents","nobeataccents","droneon","droneoff","drumon","drumoff","fermatafixed","fermataproportional","gchordon","gchordoff","controlcombo","temperamentnormal","noportamento"],vt=["gchord","ptstress","beatstring"],yt=["bassvol","chordvol","bassprog","chordprog","c","channel","beatmod","deltaloudness","drumbars","gracedivider","makechordchannels","randomchordattack","chordattack","stressmodel","transpose","rtranspose","vol","volinc"],bt=["program"],xt=["ratio","snt","bendvelocity","pitchbend","control","temperamentlinear"],_t=["beat"],wt=["drone"],At=["portamento"],Pt=["expand","grace","trim"],jt=["drum","chordname"],kt=function(Et,Tt,$t){var Ot=Et.shift().token,Rt=[];if(gt.indexOf(Ot)>=0)Et.length!==0&&$("Unexpected parameter in MIDI "+Ot,$t,0);else if(vt.indexOf(Ot)>=0)Et.length!==1?$("Expected one parameter in MIDI "+Ot,$t,0):Rt.push(Et[0].token);else if(yt.indexOf(Ot)>=0)Et.length!==1?$("Expected one parameter in MIDI "+Ot,$t,0):Et[0].type!=="number"?$("Expected one integer parameter in MIDI "+Ot,$t,0):Rt.push(Et[0].intt);else if(bt.indexOf(Ot)>=0)Et.length!==1&&Et.length!==2?$("Expected one or two parameters in MIDI "+Ot,$t,0):Et[0].type!=="number"||Et.length===2&&Et[1].type!=="number"?$("Expected integer parameter in MIDI "+Ot,$t,0):(Rt.push(Et[0].intt),Et.length===2&&Rt.push(Et[1].intt));else if(xt.indexOf(Ot)>=0)Et.length!==2?$("Expected two parameters in MIDI "+Ot,$t,0):Et[0].type!=="number"||Et[1].type!=="number"?$("Expected two integer parameters in MIDI "+Ot,$t,0):(Rt.push(Et[0].intt),Rt.push(Et[1].intt));else if(At.indexOf(Ot)>=0)Et.length!==2?$("Expected two parameters in MIDI "+Ot,$t,0):Et[0].type!=="alpha"||Et[1].type!=="number"?$("Expected one string and one integer parameters in MIDI "+Ot,$t,0):(Rt.push(Et[0].token),Rt.push(Et[1].intt));else if(Ot==="drummap")Et.length===2&&Et[0].type==="alpha"&&Et[1].type==="number"?(Tt.formatting||(Tt.formatting={}),Tt.formatting.midi||(Tt.formatting.midi={}),Tt.formatting.midi.drummap||(Tt.formatting.midi.drummap={}),Tt.formatting.midi.drummap[Et[0].token]=Et[1].intt,Rt=Tt.formatting.midi.drummap):Et.length===3&&Et[0].type==="punct"&&Et[1].type==="alpha"&&Et[2].type==="number"?(Tt.formatting||(Tt.formatting={}),Tt.formatting.midi||(Tt.formatting.midi={}),Tt.formatting.midi.drummap||(Tt.formatting.midi.drummap={}),Tt.formatting.midi.drummap[Et[0].token+Et[1].token]=Et[2].intt,Rt=Tt.formatting.midi.drummap):$("Expected one note name and one integer parameter in MIDI "+Ot,$t,0);else if(Pt.indexOf(Ot)>=0)Et.length!==3||Et[0].type!=="number"||Et[1].token!=="/"||Et[2].type!=="number"?$("Expected fraction parameter in MIDI "+Ot,$t,0):(Rt.push(Et[0].intt),Rt.push(Et[2].intt));else if(_t.indexOf(Ot)>=0)Et.length!==4?$("Expected four parameters in MIDI "+Ot,$t,0):Et[0].type!=="number"||Et[1].type!=="number"||Et[2].type!=="number"||Et[3].type!=="number"?$("Expected four integer parameters in MIDI "+Ot,$t,0):(Rt.push(Et[0].intt),Rt.push(Et[1].intt),Rt.push(Et[2].intt),Rt.push(Et[3].intt));else if(wt.indexOf(Ot)>=0)Et.length!==5?$("Expected five parameters in MIDI "+Ot,$t,0):Et[0].type!=="number"||Et[1].type!=="number"||Et[2].type!=="number"||Et[3].type!=="number"||Et[4].type!=="number"?$("Expected five integer parameters in MIDI "+Ot,$t,0):(Rt.push(Et[0].intt),Rt.push(Et[1].intt),Rt.push(Et[2].intt),Rt.push(Et[3].intt),Rt.push(Et[4].intt));else if(bt.indexOf(Ot)>=0)Et.length!==1||Et.length!==4?$("Expected one or two parameters in MIDI "+Ot,$t,0):Et[0].type!=="number"?$("Expected integer parameter in MIDI "+Ot,$t,0):Et.length===4?(Et[1].token!=="octave"&&$("Expected octave parameter in MIDI "+Ot,$t,0),Et[2].token!=="="&&$("Expected octave parameter in MIDI "+Ot,$t,0),Et[3].type!=="number"&&$("Expected integer parameter for octave in MIDI "+Ot,$t,0)):(Rt.push(Et[0].intt),Et.length===4&&Rt.push(Et[3].intt));else if(jt.indexOf(Ot)>=0)if(Et.length<2)$("Expected string parameter and at least one integer parameter in MIDI "+Ot,$t,0);else if(Et[0].type!=="alpha")$("Expected string parameter and at least one integer parameter in MIDI "+Ot,$t,0);else{var Nt=Et.shift();for(Rt.push(Nt.token);Et.length>0;)Nt=Et.shift(),Nt.type!=="number"&&$("Expected integer parameter in MIDI "+Ot,$t,0),Rt.push(Nt.intt)}tt.hasBeginMusic()?tt.appendElement("midi",-1,-1,{cmd:Ot,params:Rt}):(Tt.formatting.midi===void 0&&(Tt.formatting.midi={}),Tt.formatting.midi[Ot]=Rt)};parseDirective$3.parseFontChangeLine=function(Et){Et=Et.replace(/\$\$/g,"");var Tt=Et.split("$");if(Tt.length>1&&_e.setfont){var $t=[];Tt[0]!==""&&$t.push({text:Tt[0]});for(var Ot=1;Ot<Tt.length;Ot++)if(Tt[Ot][0]==="0")$t.push({text:Tt[Ot].substring(1).replace(/\x03/g,"$$")});else{var Rt=parseInt(Tt[Ot][0],10);_e.setfont[Rt]?$t.push({font:_e.setfont[Rt],text:Tt[Ot].substring(1).replace(/\x03/g,"$$")}):$t[$t.length-1].text+="$"+Tt[Ot].replace(/\x03/g,"$$")}return $t}return Et.replace(/\x03/g,"$$")};var St=["auto","above","below","hidden"];parseDirective$3.addDirective=function(Et){var Tt=b.tokenize(Et,0,Et.length);if(Tt.length===0||Tt[0].type!=="alpha")return null;var $t=Et.substring(Et.indexOf(Tt[0].token)+Tt[0].token.length);$t=b.stripComment($t);var Ot=Tt.shift().token.toLowerCase(),Rt="",Nt;switch(Ot){case"bagpipes":et.formatting.bagpipes=!0;break;case"flatbeams":et.formatting.flatbeams=!0;break;case"jazzchords":et.formatting.jazzchords=!0;break;case"accentAbove":et.formatting.accentAbove=!0;break;case"germanAlphabet":et.formatting.germanAlphabet=!0;break;case"landscape":_e.landscape=!0;break;case"papersize":_e.papersize=$t;break;case"graceslurs":if(Tt.length!==1)return"Directive graceslurs requires one parameter: 0 or 1";if(Tt[0].token==="0"||Tt[0].token==="false")et.formatting.graceSlurs=!1;else if(Tt[0].token==="1"||Tt[0].token==="true")et.formatting.graceSlurs=!0;else return"Directive graceslurs requires one parameter: 0 or 1 (received "+Tt[0].token+")";break;case"lineThickness":var Ft=Ct(Tt);if(Ft.value!==void 0&&(et.formatting.lineThickness=Ft.value),Ft.error)return Ft.error;break;case"stretchlast":var Ht=Ct(Tt);if(Ht.value!==void 0&&(et.formatting.stretchlast=Ht.value),Ht.error)return Ht.error;break;case"titlecaps":_e.titlecaps=!0;break;case"titleleft":et.formatting.titleleft=!0;break;case"measurebox":et.formatting.measurebox=!0;break;case"vocal":return mt("vocalPosition",Ot,Tt,St);case"dynamic":return mt("dynamicPosition",Ot,Tt,St);case"gchord":return mt("chordPosition",Ot,Tt,St);case"ornament":return mt("ornamentPosition",Ot,Tt,St);case"volume":return mt("volumePosition",Ot,Tt,St);case"botmargin":case"botspace":case"composerspace":case"indent":case"leftmargin":case"linesep":case"musicspace":case"partsspace":case"pageheight":case"pagewidth":case"rightmargin":case"staffsep":case"staffwidth":case"subtitlespace":case"sysstaffsep":case"systemsep":case"textspace":case"titlespace":case"topmargin":case"topspace":case"vocalspace":case"wordsspace":return ht(Ot,Tt);case"voicescale":if(Tt.length!==1||Tt[0].type!=="number")return"voicescale requires one float as a parameter";var zt=Tt.shift();return _e.currentVoice&&(_e.currentVoice.scale=zt.floatt,tt.changeVoiceScale(_e.currentVoice.scale)),null;case"voicecolor":if(Tt.length!==1)return"voicecolor requires one string as a parameter";var an=Tt.shift();return _e.currentVoice&&(_e.currentVoice.color=an.token,tt.changeVoiceColor(_e.currentVoice.color)),null;case"vskip":var Jt=Math.round(dt(Ot,Tt));return Jt.error?Jt.error:(tt.addSpacing(Jt),null);case"scale":at(Ot,Tt);break;case"sep":if(Tt.length===0)tt.addSeparator(14,14,85,{startChar:_e.iChar,endChar:_e.iChar+5});else{var Zt=b.getMeasurement(Tt);if(Zt.used===0)return'Directive "'+Ot+'" requires 3 numbers: space above, space below, length of line';var Qt=Zt.value;if(Zt=b.getMeasurement(Tt),Zt.used===0)return'Directive "'+Ot+'" requires 3 numbers: space above, space below, length of line';var qt=Zt.value;if(Zt=b.getMeasurement(Tt),Zt.used===0||Tt.length!==0)return'Directive "'+Ot+'" requires 3 numbers: space above, space below, length of line';var vn=Zt.value;tt.addSeparator(Qt,qt,vn,{startChar:_e.iChar,endChar:_e.iChar+$t.length})}break;case"barsperstaff":if(Rt=ft("barsperstaff",Ot,Tt),Rt!==null)return Rt;break;case"staffnonote":if(Tt.length!==1)return"Directive staffnonote requires one parameter: 0 or 1";if(Tt[0].token==="0")_e.staffnonote=!0;else if(Tt[0].token==="1")_e.staffnonote=!1;else return"Directive staffnonote requires one parameter: 0 or 1 (received "+Tt[0].token+")";break;case"printtempo":if(Rt=pt("printTempo",Ot,Tt),Rt!==null)return Rt;break;case"partsbox":if(Rt=pt("partsBox",Ot,Tt),Rt!==null)return Rt;_e.partsfont.box=_e.partsBox;break;case"freegchord":if(Rt=pt("freegchord",Ot,Tt),Rt!==null)return Rt;break;case"measurenb":case"barnumbers":if(Rt=ft("barNumbers",Ot,Tt),Rt!==null)return Rt;break;case"setbarnb":if(Tt.length!==1||Tt[0].type!=="number")return"Directive setbarnb requires a number as a parameter.";_e.currBarNumber=tt.setBarNumberImmediate(Tt[0].intt);break;case"begintext":var Yt="";for(Nt=b.nextLine();Nt&&Nt.indexOf("%%endtext")!==0;)parseCommon$d.startsWith(Nt,"%%")?Yt+=Nt.substring(2)+`
`:Yt+=Nt+`
`,Nt=b.nextLine();tt.addText(Yt,{startChar:_e.iChar,endChar:_e.iChar+Yt.length+7});break;case"continueall":_e.continueall=!0;break;case"beginps":for(Nt=b.nextLine();Nt&&Nt.indexOf("%%endps")!==0;)b.nextLine();$("Postscript ignored",Et,0);break;case"deco":$t.length>0&&_e.ignoredDecorations.push($t.substring(0,$t.indexOf(" "))),$("Decoration redefinition ignored",Et,0);break;case"text":var rn=b.translateString($t);tt.addText(parseDirective$3.parseFontChangeLine(rn),{startChar:_e.iChar,endChar:_e.iChar+$t.length+7});break;case"center":var pn=b.translateString($t);tt.addCentered(parseDirective$3.parseFontChangeLine(pn));break;case"font":break;case"setfont":var $n=b.tokenize($t,0,$t.length);if($n.length>=4&&$n[0].token==="-"&&$n[1].type==="number"){var on=parseInt($n[1].token);on>=1&&on<=9&&(_e.setfont||(_e.setfont=[]),$n.shift(),$n.shift(),_e.setfont[on]=st($n,_e.setfont[on],Et,0,"setfont"))}break;case"gchordfont":case"partsfont":case"tripletfont":case"vocalfont":case"textfont":case"annotationfont":case"historyfont":case"infofont":case"measurefont":case"repeatfont":case"wordsfont":return ct(Ot,Tt,Et);case"composerfont":case"subtitlefont":case"tempofont":case"titlefont":case"voicefont":case"footerfont":case"headerfont":return lt(Ot,Tt,Et);case"barlabelfont":case"barnumberfont":case"barnumfont":return ct("measurefont",Tt,Et);case"staves":case"score":_e.score_is_present=!0;for(var Tn=function(Un,or,tr,Vt,hn){(or||_e.staves.length===0)&&_e.staves.push({index:_e.staves.length,numVoices:0});var cn=parseCommon$d.last(_e.staves);tr!==void 0&&cn.bracket===void 0&&(cn.bracket=tr),Vt!==void 0&&cn.brace===void 0&&(cn.brace=Vt),hn&&(cn.connectBarLines="end"),_e.voices[Un]===void 0&&(_e.voices[Un]={staffNum:cn.index,index:cn.numVoices},cn.numVoices++)},kn=!1,Bn=!1,On=!1,dn=!1,wn=!1,bn=!1,Sn=!1,Pn,In=function(){if(Sn=!0,Pn){var Un="start";Pn.staffNum>0&&(_e.staves[Pn.staffNum-1].connectBarLines==="start"||_e.staves[Pn.staffNum-1].connectBarLines==="continue")&&(Un="continue"),_e.staves[Pn.staffNum].connectBarLines=Un}};Tt.length;){var Ln=Tt.shift();switch(Ln.token){case"(":kn?$("Can't nest parenthesis in %%score",Et,Ln.start):(kn=!0,dn=!0);break;case")":!kn||dn?$("Unexpected close parenthesis in %%score",Et,Ln.start):kn=!1;break;case"[":Bn?$("Can't nest brackets in %%score",Et,Ln.start):(Bn=!0,wn=!0);break;case"]":!Bn||wn?$("Unexpected close bracket in %%score",Et,Ln.start):(Bn=!1,_e.staves[Pn.staffNum].bracket="end");break;case"{":On?$("Can't nest braces in %%score",Et,Ln.start):(On=!0,bn=!0);break;case"}":!On||bn?$("Unexpected close brace in %%score",Et,Ln.start):(On=!1,_e.staves[Pn.staffNum].brace="end");break;case"|":In();break;default:for(var Xn="";(Ln.type==="alpha"||Ln.type==="number")&&(Xn+=Ln.token,Ln.continueId);)Ln=Tt.shift();var rr=!kn||dn,sr=wn?"start":Bn?"continue":void 0,dr=bn?"start":On?"continue":void 0;Tn(Xn,rr,sr,dr,Sn),dn=!1,wn=!1,bn=!1,Sn=!1,Pn=_e.voices[Xn],Ot==="staves"&&In();break}}break;case"newpage":var lr=b.getInt($t);tt.addNewPage(lr.digits===0?-1:lr.value);break;case"abc":var Gn=$t.split(" ");switch(Gn[0]){case"-copyright":case"-creator":case"-edited-by":case"-version":case"-charset":var Ut=Gn.shift();tt.addMetaText(Ot+Ut,Gn.join(" "),{startChar:_e.iChar,endChar:_e.iChar+$t.length+5});break;default:return"Unknown directive: "+Ot+Gn[0]}break;case"header":case"footer":var ln=b.getMeat($t,0,$t.length);ln=$t.substring(ln.start,ln.end),ln[0]==='"'&&ln[ln.length-1]==='"'&&(ln=ln.substring(1,ln.length-1));var gn=ln.split("	"),Cn={};gn.length===1?Cn={left:"",center:gn[0],right:""}:gn.length===2?Cn={left:gn[0],center:gn[1],right:""}:Cn={left:gn[0],center:gn[1],right:gn[2]},gn.length>3&&$("Too many tabs in "+Ot+": "+gn.length+" found.",$t,0),tt.addMetaTextObj(Ot,Cn,{startChar:_e.iChar,endChar:_e.iChar+Et.length});break;case"midi":var Fn=b.tokenize($t,0,$t.length,!0);Fn.length>0&&Fn[0].token==="="&&Fn.shift(),Fn.length===0?$("Expected midi command",$t,0):kt(Fn,et,$t);break;case"percmap":var Dn=ut($t);Dn.error?$(Dn.error,Et,8):(et.formatting.percmap||(et.formatting.percmap={}),et.formatting.percmap[Dn.key]=Dn.value);break;case"map":case"playtempo":case"auquality":case"continuous":case"nobarcheck":et.formatting[Ot]=$t;break;default:return"Unknown directive: "+Ot}return null},parseDirective$3.globalFormatting=function(Et){for(var Tt in Et)if(Et.hasOwnProperty(Tt)){var $t=""+Et[Tt],Ot=b.tokenize($t,0,$t.length),Rt;switch(Tt){case"titlefont":case"gchordfont":case"composerfont":case"footerfont":case"headerfont":case"historyfont":case"infofont":case"measurefont":case"partsfont":case"repeatfont":case"subtitlefont":case"tempofont":case"textfont":case"voicefont":case"tripletfont":case"vocalfont":case"wordsfont":case"annotationfont":case"tablabelfont":case"tabnumberfont":case"tabgracefont":ct(Tt,Ot,$t);break;case"scale":at(Tt,Ot);break;case"partsbox":Rt=pt("partsBox",Tt,Ot),Rt!==null&&$(Rt),_e.partsfont.box=_e.partsBox;break;case"freegchord":Rt=pt("freegchord",Tt,Ot),Rt!==null&&$(Rt);break;case"fontboxpadding":(Ot.length!==1||Ot[0].type!=="number")&&$('Directive "'+Tt+'" requires a number as a parameter.'),et.formatting.fontboxpadding=Ot[0].floatt;break;case"stretchlast":var Nt=Ct(Ot);if(Nt.value!==void 0&&(et.formatting.stretchlast=Nt.value),Nt.error)return Nt.error;break;default:$("Formatting directive unrecognized: ",Tt,0)}}};function Ct(Et){if(Et.length===0)return{value:1};if(Et.length===1)if(Et[0].type==="number"){if(Et[0].floatt>=0||Et[0].floatt<=1)return{value:Et[0].floatt}}else{if(Et[0].token==="false")return{value:0};if(Et[0].token==="true")return{value:1}}return{error:"Directive stretchlast requires zero or one parameter: false, true, or number between 0 and 1 (received "+Et[0].token+")"}}})();var abc_parse_directive=parseDirective$3,allNotes$1={};const allPitches=["C,,,","D,,,","E,,,","F,,,","G,,,","A,,,","B,,,","C,,","D,,","E,,","F,,","G,,","A,,","B,,","C,","D,","E,","F,","G,","A,","B,","C","D","E","F","G","A","B","c","d","e","f","g","a","b","c'","d'","e'","f'","g'","a'","b'","c''","d''","e''","f''","g''","a''","b''","c'''","d'''","e'''","f'''","g'''","a'''","b'''"];allNotes$1.pitchIndex=function(b){return allPitches.indexOf(b)};allNotes$1.noteName=function(b){return allPitches[b]};var allNotes_1=allNotes$1,sharpChords=["C","C♯","D","D♯","E","F","F♯","G","G♯","A","A♯","B"],flatChords=["C","D♭","D","E♭","E","F","G♭","G","A♭","A","B♭","B"],sharpChordsFree=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],flatChordsFree=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"];function transposeChordName$2(b,$,_e,et){if(!$||$%12===0)return b;for(;$<0;)$+=12;$>11&&($=$%12);var tt=b.match(/^([A-G][b#♭♯]?)([^\/]+)?\/?([A-G][b#♭♯]?)?(.+)?/);if(!tt)return b;var nt=tt[1],rt=tt[2],ot=tt[3],st=tt[4],ct=sharpChords.indexOf(nt);if(ct<0&&(ct=flatChords.indexOf(nt)),ct<0&&(ct=sharpChordsFree.indexOf(nt)),ct<0&&(ct=flatChordsFree.indexOf(nt)),ct<0)return b;if(ct+=$,ct=ct%12,_e?et?b=flatChordsFree[ct]:b=flatChords[ct]:et?b=sharpChordsFree[ct]:b=sharpChords[ct],rt&&(b+=rt),ot){var ct=sharpChords.indexOf(ot);ct<0&&(ct=flatChords.indexOf(ot)),ct<0&&(ct=sharpChordsFree.indexOf(ot)),ct<0&&(ct=flatChordsFree.indexOf(ot)),b+="/",ct>=0?(ct+=$,ct=ct%12,_e?et?b+=flatChordsFree[ct]:b+=flatChords[ct]:et?b+=sharpChordsFree[ct]:b+=sharpChords[ct]):b+=ot}return st&&(b+=st),b}var transposeChord=transposeChordName$2,keys$1={C:{modes:["CMaj","Amin","Am","GMix","DDor","EPhr","FLyd","BLoc"],stepsFromC:0},Db:{modes:["DbMaj","Bbmin","Bbm","AbMix","EbDor","FPhr","GbLyd","CLoc"],stepsFromC:1},D:{modes:["DMaj","Bmin","Bm","AMix","EDor","F#Phr","GLyd","C#Loc"],stepsFromC:2},Eb:{modes:["EbMaj","Cmin","Cm","BbMix","FDor","GPhr","AbLyd","DLoc"],stepsFromC:3},E:{modes:["EMaj","C#min","C#m","BMix","F#Dor","G#Phr","ALyd","D#Loc"],stepsFromC:4},F:{modes:["FMaj","Dmin","Dm","CMix","GDor","APhr","BbLyd","ELoc"],stepsFromC:5},Gb:{modes:["GbMaj","Ebmin","Ebm","DbMix","AbDor","BbPhr","CbLyd","FLoc"],stepsFromC:6},G:{modes:["GMaj","Emin","Em","DMix","ADor","BPhr","CLyd","F#Loc"],stepsFromC:7},Ab:{modes:["AbMaj","Fmin","Fm","EbMix","BbDor","CPhr","DbLyd","GLoc"],stepsFromC:8},A:{modes:["AMaj","F#min","F#m","EMix","BDor","C#Phr","DLyd","G#Loc"],stepsFromC:9},Bb:{modes:["BbMaj","Gmin","Gm","FMix","CDor","DPhr","EbLyd","ALoc"],stepsFromC:10},B:{modes:["BMaj","G#min","G#m","F#Mix","C#Dor","D#Phr","ELyd","A#Loc"],stepsFromC:11},"C#":{modes:["C#Maj","A#min","A#m","G#Mix","D#Dor","E#Phr","F#Lyd","B#Loc"],stepsFromC:1},"F#":{modes:["F#Maj","D#min","D#m","C#Mix","G#Dor","A#Phr","BLyd","E#Loc"],stepsFromC:6},Cb:{modes:["CbMaj","Abmin","Abm","GbMix","DbDor","EbPhr","FbLyd","BbLoc"],stepsFromC:11}},keyReverse=null;function createKeyReverse(){keyReverse={};for(var b=Object.keys(keys$1),$=0;$<b.length;$++){var _e=keys$1[b[$]];keyReverse[b[$].toLowerCase()]=b[$];for(var et=0;et<_e.modes.length;et++){var tt=_e.modes[et].toLowerCase();keyReverse[tt]=b[$]}}}function relativeMajor$2(b){keyReverse||createKeyReverse();var $=b.toLowerCase().match(/([a-g][b#]?)(maj|min|mix|dor|phr|lyd|loc|m)?/);if(!$||!$[2])return b;$=$[1]+$[2];var _e=keyReverse[$];return _e||b}function relativeMode$1(b,$){var _e=keys$1[b];if(!_e||$==="")return b;var et=$.toLowerCase().match(/^(maj|min|mix|dor|phr|lyd|loc|m)/);if(!et)return b;for(var tt=et[1],nt=0;nt<_e.modes.length;nt++){var rt=_e.modes[nt],ot=rt.toLowerCase().indexOf(tt);if(ot!==-1&&ot===rt.length-tt.length)return rt.substring(0,rt.length-tt.length)}return b}function transposeKey$1(b,$){var _e=keys$1[b];if(!_e)return b;for(;$<0;)$+=12;for(var et=(_e.stepsFromC+$)%12,tt=0;tt<Object.keys(keys$1).length;tt++){var nt=Object.keys(keys$1)[tt];if(keys$1[nt].stepsFromC===et)return nt}return b}var relativeMajor_1={relativeMajor:relativeMajor$2,relativeMode:relativeMode$1,transposeKey:transposeKey$1},{relativeMajor:relativeMajor$1}=relativeMajor_1,key1sharp={acc:"sharp",note:"f"},key2sharp={acc:"sharp",note:"c"},key3sharp={acc:"sharp",note:"g"},key4sharp={acc:"sharp",note:"d"},key5sharp={acc:"sharp",note:"A"},key6sharp={acc:"sharp",note:"e"},key7sharp={acc:"sharp",note:"B"},key1flat={acc:"flat",note:"B"},key2flat={acc:"flat",note:"e"},key3flat={acc:"flat",note:"A"},key4flat={acc:"flat",note:"d"},key5flat={acc:"flat",note:"G"},key6flat={acc:"flat",note:"c"},key7flat={acc:"flat",note:"F"},keys={"C#":[key1sharp,key2sharp,key3sharp,key4sharp,key5sharp,key6sharp,key7sharp],"F#":[key1sharp,key2sharp,key3sharp,key4sharp,key5sharp,key6sharp],B:[key1sharp,key2sharp,key3sharp,key4sharp,key5sharp],E:[key1sharp,key2sharp,key3sharp,key4sharp],A:[key1sharp,key2sharp,key3sharp],D:[key1sharp,key2sharp],G:[key1sharp],C:[],F:[key1flat],Bb:[key1flat,key2flat],Eb:[key1flat,key2flat,key3flat],Cm:[key1flat,key2flat,key3flat],Ab:[key1flat,key2flat,key3flat,key4flat],Db:[key1flat,key2flat,key3flat,key4flat,key5flat],Gb:[key1flat,key2flat,key3flat,key4flat,key5flat,key6flat],Cb:[key1flat,key2flat,key3flat,key4flat,key5flat,key6flat,key7flat],"A#":[key1flat,key2flat],"B#":[],"D#":[key1flat,key2flat,key3flat],"E#":[key1flat],"G#":[key1flat,key2flat,key3flat,key4flat],none:[]};function keyAccidentals$2(b){var $=keys[relativeMajor$1(b)];return $?JSON.parse(JSON.stringify($)):null}var keyAccidentals_1=keyAccidentals$2,allNotes=allNotes_1,transposeChordName$1=transposeChord,keyAccidentals$1=keyAccidentals_1,transpose$3={},keyIndex={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},newKey=["C","Db","D","Eb","E","F","F#","G","Ab","A","Bb","B"],newKeyMinor=["C","C#","D","D#","E","F","F#","G","G#","A","Bb","B"];transpose$3.keySignature=function(b,$,_e,et,tt){if(b.clef.type==="perc"||b.clef.type==="none")return{accidentals:keyAccidentals$1($),root:_e,acc:et};tt||(tt=0),b.localTransposeVerticalMovement=0,b.localTransposePreferFlats=!1;var nt=keyAccidentals$1($);if(!nt)return b.key;if(b.localTranspose=(b.globalTranspose?b.globalTranspose:0)+tt,!b.localTranspose)return{accidentals:nt,root:_e,acc:et};if(b.globalTransposeOrigKeySig=nt,b.localTranspose%12===0)return b.localTransposeVerticalMovement=b.localTranspose/12*7,{accidentals:nt,root:_e,acc:et};var rt=$[0];$[1]==="b"||$[1]==="#"?(rt+=$[1],$=$.substr(2)):$=$.substr(1);var ot=keyIndex[rt],st=ot!==void 0;st||(ot=0,rt="C",$="");for(var ct=ot+b.localTranspose;ct<0;)ct+=12;ct>11&&(ct=ct%12);var lt=$[0]==="m"?newKeyMinor[ct]:newKey[ct],at=lt+$,it=keyAccidentals$1(at);it.length>0&&it[0].acc==="flat"&&(b.localTransposePreferFlats=!0);var ut=at.charCodeAt(0)-rt.charCodeAt(0);return b.localTranspose>0?(ut<0||ut===0&&(rt[1]==="#"||at[1]==="b"))&&(ut+=7):b.localTranspose<0&&(ut>0||ut===0&&(rt[1]==="b"||at[1]==="#"))&&(ut-=7),b.localTranspose>0?b.localTransposeVerticalMovement=ut+Math.floor(b.localTranspose/12)*7:b.localTransposeVerticalMovement=ut+Math.ceil(b.localTranspose/12)*7,st?{accidentals:it,root:lt[0],acc:lt.length>1?lt[1]:""}:{accidentals:[],root:_e,acc:et}};transpose$3.chordName=function(b,$){return transposeChordName$1($,b.localTranspose,b.localTransposePreferFlats,b.freegchord)};var pitchToLetter=["c","d","e","f","g","a","b"];function accidentalChange(b,$,_e,et,tt){for(var nt=pitchToLetter[(b+49)%7],rt=0,ot=0;ot<et.length;ot++)et[ot].note.toLowerCase()===nt&&(rt=accidentals$1[et[ot].acc]);for(var st=accidentals$1[_e],ct=st-rt,lt=pitchToLetter[($+49)%7],at=0,it=0;it<tt.accidentals.length;it++)tt.accidentals[it].note.toLowerCase()===lt&&(at=accidentals$1[tt.accidentals[it].acc]);var ut=ct+at;return ut<-2&&($--,ut+=lt==="c"||lt==="f"?1:2),ut>2&&($++,ut-=lt==="b"||lt==="e"?1:2),[$,ut]}var accidentals$1={dblflat:-2,flat:-1,natural:0,sharp:1,dblsharp:2},accidentals2={"-2":"dblflat","-1":"flat",0:"natural",1:"sharp",2:"dblsharp"},accidentals3={"-2":"__","-1":"_",0:"=",1:"^",2:"^^"};transpose$3.note=function(b,$){if(!(!b.localTranspose||b.clef.type==="perc")){var _e=$.pitch;if(b.localTransposeVerticalMovement&&($.pitch=$.pitch+b.localTransposeVerticalMovement,$.name)){var et=$.accidental?$.name.substring(1):$.name,tt=$.accidental?$.name[0]:"",nt=allNotes.pitchIndex(et);$.name=tt+allNotes.noteName(nt+b.localTransposeVerticalMovement)}if($.accidental){var rt=accidentalChange(_e,$.pitch,$.accidental,b.globalTransposeOrigKeySig,b.targetKey);$.pitch=rt[0],$.accidental=accidentals2[rt[1]],$.name&&($.name=accidentals3[rt[1]]+$.name.replace(/[_^=]/g,""))}}};var abc_transpose=transpose$3,parseCommon$c=abc_common,parseDirective$2=abc_parse_directive,transpose$2=abc_transpose,parseKeyVoice$3={};(function(){var b,$,_e,et;parseKeyVoice$3.initialize=function(lt,at,it,ut,dt){b=lt,$=at,_e=it,et=dt},parseKeyVoice$3.standardKey=function(lt,at,it,ut){return transpose$2.keySignature(_e,lt,at,it,ut)};var tt={treble:{clef:"treble",pitch:4,mid:0},"treble+8":{clef:"treble+8",pitch:4,mid:0},"treble-8":{clef:"treble-8",pitch:4,mid:0},"treble^8":{clef:"treble+8",pitch:4,mid:0},treble_8:{clef:"treble-8",pitch:4,mid:0},treble1:{clef:"treble",pitch:2,mid:2},treble2:{clef:"treble",pitch:4,mid:0},treble3:{clef:"treble",pitch:6,mid:-2},treble4:{clef:"treble",pitch:8,mid:-4},treble5:{clef:"treble",pitch:10,mid:-6},perc:{clef:"perc",pitch:6,mid:0},none:{clef:"none",mid:0},bass:{clef:"bass",pitch:8,mid:-12},"bass+8":{clef:"bass+8",pitch:8,mid:-12},"bass-8":{clef:"bass-8",pitch:8,mid:-12},"bass^8":{clef:"bass+8",pitch:8,mid:-12},bass_8:{clef:"bass-8",pitch:8,mid:-12},"bass+16":{clef:"bass",pitch:8,mid:-12},"bass-16":{clef:"bass",pitch:8,mid:-12},"bass^16":{clef:"bass",pitch:8,mid:-12},bass_16:{clef:"bass",pitch:8,mid:-12},bass1:{clef:"bass",pitch:2,mid:-6},bass2:{clef:"bass",pitch:4,mid:-8},bass3:{clef:"bass",pitch:6,mid:-10},bass4:{clef:"bass",pitch:8,mid:-12},bass5:{clef:"bass",pitch:10,mid:-14},tenor:{clef:"alto",pitch:8,mid:-8},tenor1:{clef:"alto",pitch:2,mid:-2},tenor2:{clef:"alto",pitch:4,mid:-4},tenor3:{clef:"alto",pitch:6,mid:-6},tenor4:{clef:"alto",pitch:8,mid:-8},tenor5:{clef:"alto",pitch:10,mid:-10},alto:{clef:"alto",pitch:6,mid:-6},alto1:{clef:"alto",pitch:2,mid:-2},alto2:{clef:"alto",pitch:4,mid:-4},alto3:{clef:"alto",pitch:6,mid:-6},alto4:{clef:"alto",pitch:8,mid:-8},alto5:{clef:"alto",pitch:10,mid:-10},"alto+8":{clef:"alto+8",pitch:6,mid:-6},"alto-8":{clef:"alto-8",pitch:6,mid:-6},"alto^8":{clef:"alto+8",pitch:6,mid:-6},alto_8:{clef:"alto-8",pitch:6,mid:-6}},nt=function(lt,at){var it=tt[lt],ut=it?it.mid:0;return ut+at};parseKeyVoice$3.fixClef=function(lt){var at=tt[lt.type];at&&(lt.clefPos=at.pitch,lt.type=at.clef)},parseKeyVoice$3.deepCopyKey=function(lt){var at={accidentals:[],root:lt.root,acc:lt.acc,mode:lt.mode};return lt.accidentals.forEach(function(it){at.accidentals.push(parseCommon$c.clone(it))}),at};var rt={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};parseKeyVoice$3.addPosToKey=function(lt,at){var it=lt.verticalPos;at.accidentals.forEach(function(ut){var dt=rt[ut.note];dt=dt-it,ut.verticalPos=dt}),at.impliedNaturals&&at.impliedNaturals.forEach(function(ut){var dt=rt[ut.note];dt=dt-it,ut.verticalPos=dt}),it<-10?(at.accidentals.forEach(function(ut){ut.verticalPos-=7,(ut.verticalPos>=11||ut.verticalPos===10&&ut.acc==="flat")&&(ut.verticalPos-=7),ut.note==="A"&&ut.acc==="sharp"&&(ut.verticalPos-=7),(ut.note==="G"||ut.note==="F")&&ut.acc==="flat"&&(ut.verticalPos-=7)}),at.impliedNaturals&&at.impliedNaturals.forEach(function(ut){ut.verticalPos-=7,(ut.verticalPos>=11||ut.verticalPos===10&&ut.acc==="flat")&&(ut.verticalPos-=7),ut.note==="A"&&ut.acc==="sharp"&&(ut.verticalPos-=7),(ut.note==="G"||ut.note==="F")&&ut.acc==="flat"&&(ut.verticalPos-=7)})):it<-4?(at.accidentals.forEach(function(ut){ut.verticalPos-=7,it===-8&&(ut.note==="f"||ut.note==="g")&&ut.acc==="sharp"&&(ut.verticalPos-=7)}),at.impliedNaturals&&at.impliedNaturals.forEach(function(ut){ut.verticalPos-=7,it===-8&&(ut.note==="f"||ut.note==="g")&&ut.acc==="sharp"&&(ut.verticalPos-=7)})):it>=7&&(at.accidentals.forEach(function(ut){ut.verticalPos+=7}),at.impliedNaturals&&at.impliedNaturals.forEach(function(ut){ut.verticalPos+=7}))},parseKeyVoice$3.fixKey=function(lt,at){var it=parseCommon$c.clone(at);return parseKeyVoice$3.addPosToKey(lt,it),it};var ot=function(lt){var at=0,it=lt[at++];(it==="^"||it==="_")&&(it=lt[at++]);var ut=rt[it];for(ut===void 0&&(ut=6);at<lt.length;at++)if(lt[at]===",")ut-=7;else if(lt[at]==="'")ut+=7;else break;return{mid:ut-6,str:lt.substring(at)}},st=function(lt){for(var at=0;at<lt.length;at++)lt[at].note==="b"?lt[at].note="B":lt[at].note==="a"?lt[at].note="A":lt[at].note==="F"?lt[at].note="f":lt[at].note==="E"?lt[at].note="e":lt[at].note==="D"?lt[at].note="d":lt[at].note==="C"?lt[at].note="c":lt[at].note==="G"&&lt[at].acc==="sharp"?lt[at].note="g":lt[at].note==="g"&&lt[at].acc==="flat"&&(lt[at].note="G")};parseKeyVoice$3.parseKey=function(lt,at){lt.length===0&&(lt="none");var it=b.tokenize(lt,0,lt.length),ut={};if(it.length===0)return $("Must pass in key signature.",lt,0),ut;switch(it[0].token){case"HP":parseDirective$2.addDirective("bagpipes"),_e.key={root:"HP",accidentals:[],acc:"",mode:""},ut.foundKey=!0,it.shift();break;case"Hp":parseDirective$2.addDirective("bagpipes"),_e.key={root:"Hp",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}],acc:"",mode:""},ut.foundKey=!0,it.shift();break;case"none":_e.key={root:"none",accidentals:[],acc:"",mode:""},ut.foundKey=!0,it.shift();break;default:var dt=b.getKeyPitch(it[0].token);if(dt.len>0){ut.foundKey=!0;var ht="",ft="";it[0].token.length>1?it[0].token=it[0].token.substring(1):it.shift();var pt=dt.token;if(it.length>0){var mt=b.getSharpFlat(it[0].token);if(mt.len>0&&(it[0].token.length>1?it[0].token=it[0].token.substring(1):it.shift(),pt+=mt.token,ht=mt.token),it.length>0){var gt=b.getMode(it[0].token);gt.len>0&&(it.shift(),pt+=gt.token,ft=gt.token)}if(parseKeyVoice$3.standardKey(pt,dt.token,ht,0)===void 0)return $("Unsupported key signature: "+pt,lt,0),ut}var vt=parseKeyVoice$3.deepCopyKey(_e.key),yt=!at&&_e.globalTranspose?-_e.globalTranspose:0,bt;if(at&&(bt=_e.globalTransposeOrigKeySig),_e.key=parseKeyVoice$3.deepCopyKey(parseKeyVoice$3.standardKey(pt,dt.token,ht,yt)),at&&(_e.globalTransposeOrigKeySig=bt),_e.key.mode=ft,vt){for(var xt,_t=0;_t<_e.key.accidentals.length;_t++)for(xt=0;xt<vt.accidentals.length;xt++)vt.accidentals[xt].note&&_e.key.accidentals[_t].note.toLowerCase()===vt.accidentals[xt].note.toLowerCase()&&(vt.accidentals[xt].note=null);for(xt=0;xt<vt.accidentals.length;xt++)vt.accidentals[xt].note&&(_e.key.impliedNaturals||(_e.key.impliedNaturals=[]),_e.key.impliedNaturals.push({acc:"natural",note:vt.accidentals[xt].note}))}}break}if(it.length===0||(it[0].token==="exp"&&it.shift(),it.length===0)||(it[0].token==="oct"&&it.shift(),it.length===0))return ut;var wt=b.getKeyAccidentals2(it);if(wt.warn&&$(wt.warn,lt,0),wt.accs){ut.foundKey||(ut.foundKey=!0,_e.key={root:"none",acc:"",mode:"",accidentals:[]}),st(wt.accs);for(var At=0;At<wt.accs.length;At++){for(var Pt=!1,jt=0;jt<_e.key.accidentals.length&&!Pt;jt++)_e.key.accidentals[jt].note===wt.accs[At].note&&(Pt=!0,_e.key.accidentals[jt].acc!==wt.accs[At].acc&&(_e.key.accidentals[jt].acc=wt.accs[At].acc,_e.key.explicitAccidentals||(_e.key.explicitAccidentals=[]),_e.key.explicitAccidentals.push(wt.accs[At])));if(!Pt&&(_e.key.explicitAccidentals||(_e.key.explicitAccidentals=[]),_e.key.explicitAccidentals.push(wt.accs[At]),_e.key.accidentals.push(wt.accs[At]),_e.key.impliedNaturals))for(var kt=0;kt<_e.key.impliedNaturals.length;kt++)_e.key.impliedNaturals[kt].note===wt.accs[At].note&&_e.key.impliedNaturals.splice(kt,1)}}for(var St;it.length>0;)switch(it[0].token){case"m":case"middle":if(it.shift(),it.length===0)return $("Expected = after middle",lt,0),ut;if(St=it.shift(),St.token!=="="){$("Expected = after middle",lt,St.start);break}if(it.length===0)return $("Expected parameter after middle=",lt,0),ut;var Ct=b.getPitchFromTokens(it);Ct.warn&&$(Ct.warn,lt,0),Ct.position&&(_e.clef.verticalPos=Ct.position-6);break;case"transpose":if(it.shift(),it.length===0)return $("Expected = after transpose",lt,0),ut;if(St=it.shift(),St.token!=="="){$("Expected = after transpose",lt,St.start);break}if(it.length===0)return $("Expected parameter after transpose=",lt,0),ut;if(it[0].type!=="number"){$("Expected number after transpose",lt,it[0].start);break}_e.clef.transpose=it[0].intt,it.shift();break;case"stafflines":if(it.shift(),it.length===0)return $("Expected = after stafflines",lt,0),ut;if(St=it.shift(),St.token!=="="){$("Expected = after stafflines",lt,St.start);break}if(it.length===0)return $("Expected parameter after stafflines=",lt,0),ut;if(it[0].type!=="number"){$("Expected number after stafflines",lt,it[0].start);break}_e.clef.stafflines=it[0].intt,it.shift();break;case"staffscale":if(it.shift(),it.length===0)return $("Expected = after staffscale",lt,0),ut;if(St=it.shift(),St.token!=="="){$("Expected = after staffscale",lt,St.start);break}if(it.length===0)return $("Expected parameter after staffscale=",lt,0),ut;if(it[0].type!=="number"){$("Expected number after staffscale",lt,it[0].start);break}_e.clef.staffscale=it[0].floatt,it.shift();break;case"octave":if(it.shift(),it.length===0)return $("Expected = after octave",lt,0),ut;if(St=it.shift(),St.token!=="="){$("Expected = after octave",lt,St.start);break}if(it.length===0)return $("Expected parameter after octave=",lt,0),ut;if(it[0].type!=="number"){$("Expected number after octave",lt,it[0].start);break}_e.octave=it[0].intt,it.shift();break;case"style":if(it.shift(),it.length===0)return $("Expected = after style",lt,0),ut;if(St=it.shift(),St.token!=="="){$("Expected = after style",lt,St.start);break}if(it.length===0)return $("Expected parameter after style=",lt,0),ut;switch(it[0].token){case"normal":case"harmonic":case"rhythm":case"x":case"triangle":_e.style=it[0].token,it.shift();break;default:$("error parsing style element: "+it[0].token,lt,it[0].start);break}break;case"clef":if(it.shift(),it.length===0)return $("Expected = after clef",lt,0),ut;if(St=it.shift(),St.token!=="="){$("Expected = after clef",lt,St.start);break}if(it.length===0)return $("Expected parameter after clef=",lt,0),ut;case"treble":case"bass":case"alto":case"tenor":case"perc":case"none":var Et=it.shift();switch(Et.token){case"treble":case"tenor":case"alto":case"bass":case"perc":case"none":break;case"C":Et.token="alto";break;case"F":Et.token="bass";break;case"G":Et.token="treble";break;case"c":Et.token="alto";break;case"f":Et.token="bass";break;case"g":Et.token="treble";break;default:$("Expected clef name. Found "+Et.token,lt,Et.start);break}it.length>0&&it[0].type==="number"&&(Et.token+=it[0].token,it.shift()),it.length>1&&(it[0].token==="-"||it[0].token==="+"||it[0].token==="^"||it[0].token==="_")&&it[1].token==="8"&&(Et.token+=it[0].token+it[1].token,it.shift(),it.shift()),_e.clef={type:Et.token,verticalPos:nt(Et.token,0)},_e.currentVoice&&_e.currentVoice.transpose!==void 0&&(_e.clef.transpose=_e.currentVoice.transpose),ut.foundClef=!0;break;default:$("Unknown parameter: "+it[0].token,lt,it[0].start),it.shift()}return ut};var ct=function(lt){_e.currentVoice=_e.voices[lt],et.setCurrentVoice(_e.currentVoice.staffNum,_e.currentVoice.index)};parseKeyVoice$3.parseVoice=function(lt,at,it){var ut=b.getMeat(lt,at,it),dt=ut.start,ht=ut.end,ft=b.getToken(lt,dt,ht);if(ft.length===0){$("Expected a voice id",lt,dt);return}var pt=!1;_e.voices[ft]===void 0&&(_e.voices[ft]={},pt=!0,_e.score_is_present&&$("Can't have an unknown V: id when the %score directive is present",lt,dt)),dt+=ft.length,dt+=b.eatWhiteSpace(lt,dt);for(var mt={startStaff:pt},gt=function(Ct){var Et=b.getVoiceToken(lt,dt,ht);Et.warn!==void 0?$("Expected value for "+Ct+" in voice: "+Et.warn,lt,dt):Et.err!==void 0?$("Expected value for "+Ct+" in voice: "+Et.err,lt,dt):Et.token.length===0&&lt[dt]!=='"'?$("Expected value for "+Ct+" in voice",lt,dt):mt[Ct]=Et.token,dt+=Et.len},vt=function(Ct,Et,Tt){var $t=b.getVoiceToken(lt,dt,ht);$t.warn!==void 0?$("Expected value for "+Et+" in voice: "+$t.warn,lt,dt):$t.err!==void 0?$("Expected value for "+Et+" in voice: "+$t.err,lt,dt):$t.token.length===0&&lt[dt]!=='"'?$("Expected value for "+Et+" in voice",lt,dt):($t.token=parseFloat($t.token),_e.voices[Ct][Et]=$t.token),dt+=$t.len},yt=function(Ct,Et){var Tt=b.getVoiceToken(lt,dt,ht);if(Tt.warn!==void 0)$("Expected value for "+Ct+" in voice: "+Tt.warn,lt,dt);else if(Tt.err!==void 0)$("Expected value for "+Ct+" in voice: "+Tt.err,lt,dt);else if(Tt.token.length===0&&lt[dt]!=='"')$("Expected value for "+Ct+" in voice",lt,dt);else return Tt.token;dt+=Tt.len},bt=function(Ct,Et){var Tt={_B:2,_E:9,_b:-10,_e:-3},$t=b.getVoiceToken(lt,dt,ht);if($t.warn!==void 0)$("Expected one of (_B, _E, _b, _e) for "+Et+" in voice: "+$t.warn,lt,dt);else if($t.token.length===0&&lt[dt]!=='"')$("Expected one of (_B, _E, _b, _e) for "+Et+" in voice",lt,dt);else{var Ot=Tt[$t.token];Ot?_e.voices[Ct][Et]=Ot:$("Expected one of (_B, _E, _b, _e) for "+Et+" in voice",lt,dt)}dt+=$t.len};dt<ht;){var xt=b.getVoiceToken(lt,dt,ht);if(dt+=xt.len,xt.warn)$("Error parsing voice: "+xt.warn,lt,dt);else{var _t=null;switch(xt.token){case"clef":case"cl":gt("clef");var wt=0;mt.clef!==void 0&&(mt.clef=mt.clef.replace(/[',]/g,""),mt.clef.indexOf("+16")!==-1&&(wt+=14,mt.clef=mt.clef.replace("+16","")),mt.verticalPos=nt(mt.clef,wt));break;case"treble":case"bass":case"tenor":case"alto":case"perc":case"none":case"treble'":case"bass'":case"tenor'":case"alto'":case"none'":case"treble''":case"bass''":case"tenor''":case"alto''":case"none''":case"treble,":case"bass,":case"tenor,":case"alto,":case"none,":case"treble,,":case"bass,,":case"tenor,,":case"alto,,":case"none,,":var At=0;mt.clef=xt.token.replace(/[',]/g,""),mt.verticalPos=nt(mt.clef,At),_e.voices[ft].clef=xt.token;break;case"staves":case"stave":case"stv":gt("staves");break;case"brace":case"brc":gt("brace");break;case"bracket":case"brk":gt("bracket");break;case"name":case"nm":gt("name");break;case"subname":case"sname":case"snm":gt("subname");break;case"merge":mt.startStaff=!1;break;case"stem":case"stems":_t=b.getVoiceToken(lt,dt,ht),_t.warn!==void 0?$("Expected value for stems in voice: "+_t.warn,lt,dt):_t.err!==void 0?$("Expected value for stems in voice: "+_t.err,lt,dt):_t.token==="up"||_t.token==="down"?_e.voices[ft].stem=_t.token:$("Expected up or down for voice stem",lt,dt),dt+=_t.len;break;case"up":case"down":_e.voices[ft].stem=xt.token;break;case"middle":case"m":gt("verticalPos"),mt.verticalPos=ot(mt.verticalPos).mid;break;case"gchords":case"gch":_e.voices[ft].suppressChords=!0,_t=b.getVoiceToken(lt,dt,ht),_t.token==="0"&&(dt=dt+_t.len);break;case"space":case"spc":gt("spacing");break;case"scale":vt(ft,"scale");break;case"score":bt(ft,"scoreTranspose");break;case"transpose":vt(ft,"transpose");break;case"stafflines":vt(ft,"stafflines");break;case"staffscale":vt(ft,"staffscale");break;case"octave":vt(ft,"octave");break;case"volume":vt(ft,"volume");break;case"cue":var Pt=yt("cue");Pt==="on"?_e.voices[ft].scale=.6:_e.voices[ft].scale=1;break;case"style":_t=b.getVoiceToken(lt,dt,ht),_t.warn!==void 0?$("Expected value for style in voice: "+_t.warn,lt,dt):_t.err!==void 0?$("Expected value for style in voice: "+_t.err,lt,dt):_t.token==="normal"||_t.token==="harmonic"||_t.token==="rhythm"||_t.token==="x"||_t.token==="triangle"?_e.voices[ft].style=_t.token:$("Expected one of [normal, harmonic, rhythm, x, triangle] for voice style",lt,dt),dt+=_t.len;break}}dt+=b.eatWhiteSpace(lt,dt)}if((mt.startStaff||_e.staves.length===0)&&(_e.staves.push({index:_e.staves.length,meter:_e.origMeter}),_e.score_is_present||(_e.staves[_e.staves.length-1].numVoices=0)),_e.voices[ft].staffNum===void 0){_e.voices[ft].staffNum=_e.staves.length-1;var jt=0;for(var kt in _e.voices)_e.voices.hasOwnProperty(kt)&&_e.voices[kt].staffNum===_e.voices[ft].staffNum&&jt++;_e.voices[ft].index=jt-1}var St=_e.staves[_e.voices[ft].staffNum];_e.score_is_present||St.numVoices++,mt.clef&&(St.clef={type:mt.clef,verticalPos:mt.verticalPos}),mt.spacing&&(St.spacing_below_offset=mt.spacing),mt.verticalPos&&(St.verticalPos=mt.verticalPos),mt.name&&(St.name?St.name.push(mt.name):St.name=[mt.name]),mt.subname&&(St.subname?St.subname.push(mt.subname):St.subname=[mt.subname]),ct(ft)}})();var abc_parse_key_voice=parseKeyVoice$3,parseCommon$b=abc_common,parseDirective$1=abc_parse_directive,parseKeyVoice$2=abc_parse_key_voice,ParseHeader$1=function(b,$,_e,et,tt){this.reset=function(ot,st,ct,lt){parseKeyVoice$2.initialize(ot,st,ct,lt,tt),parseDirective$1.initialize(ot,st,ct,lt,tt)},this.reset(b,$,_e,et),this.setTitle=function(ot,st){_e.hasMainTitle?tt.addSubtitle(ot,{startChar:_e.iChar,endChar:_e.iChar+st+2}):(tt.addMetaText("title",ot,{startChar:_e.iChar,endChar:_e.iChar+st+2}),_e.hasMainTitle=!0)},this.setMeter=function(ot){if(ot=b.stripComment(ot),ot==="C")return _e.havent_set_length===!0&&(_e.default_length=.125,_e.havent_set_length=!1),{type:"common_time"};if(ot==="C|")return _e.havent_set_length===!0&&(_e.default_length=.125,_e.havent_set_length=!1),{type:"cut_time"};if(ot==="o")return _e.havent_set_length===!0&&(_e.default_length=.125,_e.havent_set_length=!1),{type:"tempus_perfectum"};if(ot==="c")return _e.havent_set_length===!0&&(_e.default_length=.125,_e.havent_set_length=!1),{type:"tempus_imperfectum"};if(ot==="o.")return _e.havent_set_length===!0&&(_e.default_length=.125,_e.havent_set_length=!1),{type:"tempus_perfectum_prolatio"};if(ot==="c.")return _e.havent_set_length===!0&&(_e.default_length=.125,_e.havent_set_length=!1),{type:"tempus_imperfectum_prolatio"};if(ot.length===0||ot.toLowerCase()==="none")return _e.havent_set_length===!0&&(_e.default_length=.125,_e.havent_set_length=!1),null;var st=b.tokenize(ot,0,ot.length);try{var ct=function(){var ht={value:0,num:""},ft=st.shift();for(ft.token==="("&&(ft=st.shift());;){if(ft.type!=="number")throw"Expected top number of meter";if(ht.value+=parseInt(ft.token),ht.num+=ft.token,st.length===0||st[0].token==="/")return ht;if(ft=st.shift(),ft.token===")"){if(st.length===0||st[0].token==="/")return ht;throw"Unexpected paren in meter"}if(ft.token!=="."&&ft.token!=="+"||(ht.num+=ft.token,st.length===0))throw"Expected top number of meter";ft=st.shift()}return ht},lt=function(){var ht=ct();if(st.length===0)return ht;var ft=st.shift();if(ft.token!=="/")throw"Expected slash in meter";if(ft=st.shift(),ft.type!=="number")throw"Expected bottom number of meter";return ht.den=ft.token,ht.value=ht.value/parseInt(ht.den),ht};if(st.length===0)throw"Expected meter definition in M: line";for(var at={type:"specified",value:[]},it=0;;){var ut=lt();it+=ut.value;var dt={num:ut.num};if(ut.den!==void 0&&(dt.den=ut.den),at.value.push(dt),st.length===0)break}return _e.havent_set_length===!0&&(_e.default_length=it<.75?.0625:.125,_e.havent_set_length=!1),at}catch(ht){$(ht,ot,0)}return null},this.calcTempo=function(ot){var st=.25;_e.meter&&_e.meter.type==="specified"?st=1/parseInt(_e.meter.value[0].den):_e.origMeter&&_e.origMeter.type==="specified"&&(st=1/parseInt(_e.origMeter.value[0].den));for(var ct=0;ct<ot.duration;ct++)ot.duration[ct]=st*ot.duration[ct];return ot},this.resolveTempo=function(){_e.tempo&&(this.calcTempo(_e.tempo),et.metaText.tempo=_e.tempo,delete _e.tempo)},this.addUserDefinition=function(ot,st,ct){var lt=ot.indexOf("=",st);if(lt===-1){$("Need an = in a macro definition",ot,st);return}var at=parseCommon$b.strip(ot.substring(st,lt)),it=parseCommon$b.strip(ot.substring(lt+1));if(at.length!==1){$("Macro definitions can only be one character",ot,st);return}var ut="HIJKLMNOPQRSTUVWXYhijklmnopqrstuvw~";if(ut.indexOf(at)===-1){$("Macro definitions must be H-Y, h-w, or tilde",ot,st);return}if(it.length===0){$("Missing macro definition",ot,st);return}_e.macros===void 0&&(_e.macros={}),_e.macros[at]=it},this.setDefaultLength=function(ot,st,ct){var lt=ot.substring(st,ct).replace(/ /g,""),at=lt.split("/");if(at.length===2){var it=parseInt(at[0]),ut=parseInt(at[1]);ut>0&&(_e.default_length=it/ut,_e.havent_set_length=!1)}else at.length===1&&at[0]==="1"&&(_e.default_length=1,_e.havent_set_length=!1)};var nt={larghissimo:20,adagissimo:24,sostenuto:28,grave:32,largo:40,lento:50,larghetto:60,adagio:68,adagietto:74,andante:80,andantino:88,"marcia moderato":84,"andante moderato":100,moderato:112,allegretto:116,"allegro moderato":120,allegro:126,animato:132,agitato:140,veloce:148,"mosso vivo":156,vivace:164,vivacissimo:172,allegrissimo:176,presto:184,prestissimo:210};this.setTempo=function(ot,st,ct,lt){try{var at=b.tokenize(ot,st,ct);if(at.length===0)throw"Missing parameter in Q: field";var it={startChar:lt+st-2,endChar:lt+ct},ut=!0,dt=at.shift();if(dt.type==="quote"&&(it.preString=dt.token,dt=at.shift(),at.length===0))return nt[it.preString.toLowerCase()]&&(it.bpm=nt[it.preString.toLowerCase()],it.suppressBpm=!0),{type:"immediate",tempo:it};if(dt.type==="alpha"&&dt.token==="C"){if(at.length===0)throw"Missing tempo after C in Q: field";if(dt=at.shift(),dt.type==="punct"&&dt.token==="="){if(at.length===0)throw"Missing tempo after = in Q: field";if(dt=at.shift(),dt.type!=="number")throw"Expected number after = in Q: field";it.duration=[1],it.bpm=parseInt(dt.token)}else if(dt.type==="number"){if(it.duration=[parseInt(dt.token)],at.length===0)throw"Missing = after duration in Q: field";if(dt=at.shift(),dt.type!=="punct"||dt.token!=="=")throw"Expected = after duration in Q: field";if(at.length===0)throw"Missing tempo after = in Q: field";if(dt=at.shift(),dt.type!=="number")throw"Expected number after = in Q: field";it.bpm=parseInt(dt.token)}else throw"Expected number or equal after C in Q: field"}else if(dt.type==="number"){var ht=parseInt(dt.token);if(at.length===0||at[0].type==="quote")it.duration=[1],it.bpm=ht;else{if(ut=!1,dt=at.shift(),dt.type!=="punct"&&dt.token!=="/"||(dt=at.shift(),dt.type!=="number"))throw"Expected fraction in Q: field";var ft=parseInt(dt.token);for(it.duration=[ht/ft];at.length>0&&at[0].token!=="="&&at[0].type!=="quote";){if(dt=at.shift(),dt.type!=="number"||(ht=parseInt(dt.token),dt=at.shift(),dt.type!=="punct"&&dt.token!=="/")||(dt=at.shift(),dt.type!=="number"))throw"Expected fraction in Q: field";ft=parseInt(dt.token),it.duration.push(ht/ft)}if(dt=at.shift(),dt.type!=="punct"&&dt.token!=="=")throw"Expected = in Q: field";if(dt=at.shift(),dt.type!=="number")throw"Expected tempo in Q: field";it.bpm=parseInt(dt.token)}}else throw"Unknown value in Q: field";if(at.length!==0&&(dt=at.shift(),dt.type==="quote"&&(it.postString=dt.token,dt=at.shift()),at.length!==0))throw"Unexpected string at end of Q: field";return _e.printTempo===!1&&(it.suppress=!0),{type:ut?"delaySet":"immediate",tempo:it}}catch(pt){return $(pt,ot,st),{type:"none"}}},this.letter_to_inline_header=function(ot,st,ct){var lt=b.eatWhiteSpace(ot,st);if(st+=lt,ot.length>=st+5&&ot[st]==="["&&ot[st+2]===":"){var at=ot.indexOf("]",st),it=_e.iChar+st,ut=_e.iChar+at+1;switch(ot.substring(st,st+3)){case"[I:":var dt=parseDirective$1.addDirective(ot.substring(st+3,at));return dt&&$(dt,ot,st),[at-st+1+lt];case"[M:":var ht=this.setMeter(ot.substring(st+3,at));return tt.hasBeginMusic()&&ht?tt.appendStartingElement("meter",it,ut,ht):_e.meter=ht,[at-st+1+lt];case"[K:":var ft=parseKeyVoice$2.parseKey(ot.substring(st+3,at),!0);return ft.foundClef&&tt.hasBeginMusic()&&tt.appendStartingElement("clef",it,ut,_e.clef),ft.foundKey&&tt.hasBeginMusic()&&tt.appendStartingElement("key",it,ut,parseKeyVoice$2.fixKey(_e.clef,_e.key)),[at-st+1+lt];case"[P:":var pt=parseDirective$1.parseFontChangeLine(ot.substring(st+3,at));return ct||et.lines.length<=et.lineNum?_e.partForNextLine={title:pt,startChar:it,endChar:ut}:tt.appendElement("part",it,ut,{title:pt}),[at-st+1+lt];case"[L:":return this.setDefaultLength(ot,st+3,at),[at-st+1+lt];case"[Q:":if(at>0){var mt=this.setTempo(ot,st+3,at,_e.iChar);return mt.type==="delaySet"?tt.hasBeginMusic()?tt.appendElement("tempo",it,ut,this.calcTempo(mt.tempo)):_e.tempoForNextLine=["tempo",it,ut,this.calcTempo(mt.tempo)]:mt.type==="immediate"&&(!ct&&tt.hasBeginMusic()?tt.appendElement("tempo",it,ut,mt.tempo):_e.tempoForNextLine=["tempo",it,ut,mt.tempo]),[at-st+1+lt,ot[st+1],ot.substring(st+3,at)]}break;case"[V:":if(at>0)return parseKeyVoice$2.parseVoice(ot,st+3,at),[at-st+1+lt,ot[st+1],ot.substring(st+3,at)];break;case"[r:":return[at-st+1+lt]}}return[0]},this.letter_to_body_header=function(ot,st){if(ot.length>=st+3)switch(ot.substring(st,st+2)){case"I:":var ct=parseDirective$1.addDirective(ot.substring(st+2));return ct&&$(ct,ot,st),[ot.length];case"M:":var lt=this.setMeter(ot.substring(st+2));return tt.hasBeginMusic()&&lt&&tt.appendStartingElement("meter",_e.iChar+st,_e.iChar+ot.length,lt),[ot.length];case"K:":var at=parseKeyVoice$2.parseKey(ot.substring(st+2),tt.hasBeginMusic());return at.foundClef&&tt.hasBeginMusic()&&tt.appendStartingElement("clef",_e.iChar+st,_e.iChar+ot.length,_e.clef),at.foundKey&&tt.hasBeginMusic()&&tt.appendStartingElement("key",_e.iChar+st,_e.iChar+ot.length,parseKeyVoice$2.fixKey(_e.clef,_e.key)),[ot.length];case"P:":return tt.hasBeginMusic()&&tt.appendElement("part",_e.iChar+st,_e.iChar+ot.length,{title:ot.substring(st+2)}),[ot.length];case"L:":return this.setDefaultLength(ot,st+2,ot.length),[ot.length];case"Q:":var it=ot.indexOf("",st+2);it===-1&&(it=ot.length);var ut=this.setTempo(ot,st+2,it,_e.iChar);return ut.type==="delaySet"?tt.appendElement("tempo",_e.iChar+st,_e.iChar+ot.length,this.calcTempo(ut.tempo)):ut.type==="immediate"&&tt.appendElement("tempo",_e.iChar+st,_e.iChar+ot.length,ut.tempo),[it,ot[st],parseCommon$b.strip(ot.substring(st+2))];case"V:":return parseKeyVoice$2.parseVoice(ot,st+2,ot.length),[ot.length,ot[st],parseCommon$b.strip(ot.substring(st+2))]}return[0]};var rt={A:"author",B:"book",C:"composer",D:"discography",F:"url",G:"group",I:"instruction",N:"notes",O:"origin",R:"rhythm",S:"source",W:"unalignedWords",Z:"transcription"};this.parseHeader=function(ot){var st=rt[ot[0]],ct=ot.length-2,lt=b.translateString(b.stripComment(ot.substring(2)));if(st==="unalignedWords"||st==="notes")tt.addMetaTextArray(st,parseDirective$1.parseFontChangeLine(lt),{startChar:_e.iChar,endChar:_e.iChar+ot.length});else if(st!==void 0)tt.addMetaText(st,parseDirective$1.parseFontChangeLine(lt),{startChar:_e.iChar,endChar:_e.iChar+ot.length});else{var at=_e.iChar,it=at+ot.length;switch(ot[0]){case"H":for(tt.addMetaTextArray("history",parseDirective$1.parseFontChangeLine(lt),{startChar:_e.iChar,endChar:_e.iChar+ot.length}),ot=b.peekLine();ot&&ot[1]!==":";)b.nextLine(),tt.addMetaTextArray("history",parseDirective$1.parseFontChangeLine(b.translateString(b.stripComment(ot))),{startChar:_e.iChar,endChar:_e.iChar+ot.length}),ot=b.peekLine();break;case"K":this.resolveTempo();var ut=parseKeyVoice$2.parseKey(ot.substring(2),!1);!_e.is_in_header&&tt.hasBeginMusic()&&(ut.foundClef&&tt.appendStartingElement("clef",at,it,_e.clef),ut.foundKey&&tt.appendStartingElement("key",at,it,parseKeyVoice$2.fixKey(_e.clef,_e.key))),_e.is_in_header=!1;break;case"L":this.setDefaultLength(ot,2,ot.length);break;case"M":_e.origMeter=_e.meter=this.setMeter(ot.substring(2));break;case"P":_e.is_in_header?tt.addMetaText("partOrder",parseDirective$1.parseFontChangeLine(lt),{startChar:_e.iChar,endChar:_e.iChar+ot.length}):_e.partForNextLine={title:lt,startChar:at,endChar:it};break;case"Q":var dt=this.setTempo(ot,2,ot.length,_e.iChar);dt.type==="delaySet"?_e.tempo=dt.tempo:dt.type==="immediate"&&(et.metaText.tempo?_e.tempoForNextLine=["tempo",at,it,dt.tempo]:et.metaText.tempo=dt.tempo);break;case"T":_e.titlecaps&&(lt=lt.toUpperCase()),this.setTitle(parseDirective$1.parseFontChangeLine(b.theReverser(lt)),ct);break;case"U":this.addUserDefinition(ot,2,ot.length);break;case"V":if(parseKeyVoice$2.parseVoice(ot,2,ot.length),!_e.is_in_header)return{newline:!0};break;case"s":return{symbols:!0};case"w":return{words:!0};case"X":break;case"E":case"m":$("Ignored header",ot,0);break;default:return{regular:!0}}}return{}}},abc_parse_header=ParseHeader$1,abc_parse_settings={};abc_parse_settings.legalAccents=["trill","lowermordent","uppermordent","mordent","pralltriller","accent","fermata","invertedfermata","tenuto","0","1","2","3","4","5","+","wedge","open","thumb","snap","turn","roll","breath","shortphrase","mediumphrase","longphrase","segno","coda","D.S.","D.C.","fine","beambr1","beambr2","slide","marcato","upbow","downbow","/","//","///","////","trem1","trem2","trem3","trem4","turnx","invertedturn","invertedturnx","trill(","trill)","arpeggio","xstem","mark","umarcato","style=normal","style=harmonic","style=rhythm","style=x","style=triangle","D.C.alcoda","D.C.alfine","D.S.alcoda","D.S.alfine","editorial","courtesy"];abc_parse_settings.volumeDecorations=["p","pp","f","ff","mf","mp","ppp","pppp","fff","ffff","sfz"];abc_parse_settings.dynamicDecorations=["crescendo(","crescendo)","diminuendo(","diminuendo)","glissando(","glissando)","~(","~)"];abc_parse_settings.accentPseudonyms=[["<","accent"],[">","accent"],["tr","trill"],["plus","+"],["emphasis","accent"],["^","umarcato"],["marcato","umarcato"]];abc_parse_settings.accentDynamicPseudonyms=[["<(","crescendo("],["<)","crescendo)"],[">(","diminuendo("],[">)","diminuendo)"]];abc_parse_settings.nonDecorations="ABCDEFGabcdefgxyzZ[]|^_{";abc_parse_settings.durations=[.5,.75,.875,.9375,.96875,.984375,.25,.375,.4375,.46875,.484375,.4921875,.125,.1875,.21875,.234375,.2421875,.24609375,.0625,.09375,.109375,.1171875,.12109375,.123046875,.03125,.046875,.0546875,.05859375,.060546875,.0615234375,.015625,.0234375,.02734375,.029296875,.0302734375,.03076171875];abc_parse_settings.pitches={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};abc_parse_settings.rests={x:"invisible",X:"invisible-multimeasure",y:"spacer",z:"rest",Z:"multimeasure"};abc_parse_settings.accMap={dblflat:"__",flat:"_",natural:"=",sharp:"^",dblsharp:"^^",quarterflat:"_/",quartersharp:"^/"};abc_parse_settings.tripletQ={2:3,3:2,4:3,5:2,6:2,7:2,8:3,9:2};var parseCommon$a=abc_common,parseKeyVoice$1=abc_parse_key_voice,transpose$1=abc_transpose,tokenizer,warn,multilineVars,tune,tuneBuilder$1,header,{legalAccents,volumeDecorations,dynamicDecorations,accentPseudonyms,accentDynamicPseudonyms,nonDecorations,durations,pitches,rests,accMap,tripletQ}=abc_parse_settings,MusicParser=function(b,$,_e,et,tt,nt){tokenizer=b,warn=$,multilineVars=_e,tune=et,tuneBuilder$1=tt,header=nt,this.lineContinuation=!1},isInTie=function(b,$,_e){if(b.inTie[$]===void 0)return!1;var et=b.currentVoice?b.currentVoice.staffNum*100+b.currentVoice.index:0;return!!(b.inTie[$][et]&&(_e.pitches!==void 0||_e.rest.type!=="spacer"))},el={};MusicParser.prototype.parseMusic=function(b){header.resolveTempo(),multilineVars.is_in_header=!1;for(var $=0,_e=multilineVars.iChar;tokenizer.isWhiteSpace(b[$])&&$<b.length;)$++;if(!($===b.length||b[$]==="%")){var et=multilineVars.start_new_line;multilineVars.continueall===void 0?multilineVars.start_new_line=!0:multilineVars.start_new_line=!1;var tt=0,nt=header.letter_to_body_header(b,$);nt[0]>0&&($+=nt[0],nt[1]==="V"&&this.startNewLine());for(var rt=0;$<b.length;){var ot=$;if(b[$]==="%")break;var st=header.letter_to_inline_header(b,$,et);if(st[0]>0)$+=st[0],st[1]==="V"&&(et=!0);else{(!tuneBuilder$1.hasBeginMusic()||et&&!this.lineContinuation)&&(this.startNewLine(),et=!1);for(var ct;;)if(ct=tokenizer.eatWhiteSpace(b,$),ct>0&&($+=ct),$>0&&b[$-1]===""&&(ct=header.letter_to_body_header(b,$),ct[0]>0&&(ct[1]==="V"&&this.startNewLine(),$=ct[0],multilineVars.start_new_line=!1)),ct=letter_to_spacer(b,$),ct[0]>0&&($+=ct[0]),ct=letter_to_chord(b,$),ct[0]>0){el.chord||(el.chord=[]);var lt=tokenizer.translateString(ct[1]);lt=lt.replace(/;/g,`
`);for(var at=!1,it=0;it<el.chord.length;it++)el.chord[it].position===ct[2]&&(at=!0,el.chord[it].name+=`
`+lt);at===!1&&(ct[2]===null&&ct[3]?el.chord.push({name:lt,rel_position:ct[3]}):el.chord.push({name:lt,position:ct[2]})),$+=ct[0];var ut=tokenizer.skipWhiteSpace(b.substring($));ut>0&&(el.force_end_beam_last=!0),$+=ut}else if(nonDecorations.indexOf(b[$])===-1?ct=letter_to_accent(b,$):ct=[0],ct[0]>0)ct[1]===null?$+1<b.length&&this.startNewLine():ct[1].length>0&&(ct[1].indexOf("style=")===0?el.style=ct[1].substr(6):(el.decoration===void 0&&(el.decoration=[]),ct[1]==="beambr1"?el.beambr=1:ct[1]==="beambr2"?el.beambr=2:el.decoration.push(ct[1]))),$+=ct[0];else if(ct=letter_to_grace(b,$),ct[0]>0)el.gracenotes=ct[1],$+=ct[0];else break;if(ct=letter_to_bar(b,$),ct[0]>0){rt=0,el.gracenotes!==void 0&&(el.rest={type:"spacer"},el.duration=.125,multilineVars.addFormattingOptions(el,tune.formatting,"note"),tuneBuilder$1.appendElement("note",_e+$,_e+$+ct[0],el),multilineVars.measureNotEmpty=!0,el={});var dt={type:ct[1]};if(dt.type.length===0)warn("Unknown bar type",b,$);else{if(multilineVars.inEnding&&dt.type!=="bar_thin"&&(dt.endEnding=!0,multilineVars.inEnding=!1),ct[2]&&(dt.startEnding=ct[2],multilineVars.inEnding&&(dt.endEnding=!0),multilineVars.inEnding=!0,ct[1]==="bar_right_repeat"?multilineVars.restoreStartEndingHoldOvers():multilineVars.duplicateStartEndingHoldOvers()),el.decoration!==void 0&&(dt.decoration=el.decoration),el.chord!==void 0&&(dt.chord=el.chord),dt.startEnding&&multilineVars.barFirstEndingNum===void 0?multilineVars.barFirstEndingNum=multilineVars.currBarNumber:dt.startEnding&&dt.endEnding&&multilineVars.barFirstEndingNum?multilineVars.currBarNumber=multilineVars.barFirstEndingNum:dt.endEnding&&(multilineVars.barFirstEndingNum=void 0),dt.type!=="bar_invisible"&&multilineVars.measureNotEmpty){var ht=multilineVars.currentVoice===void 0||multilineVars.currentVoice.staffNum===0&&multilineVars.currentVoice.index===0;ht&&(multilineVars.currBarNumber++,multilineVars.barNumbers&&multilineVars.currBarNumber%multilineVars.barNumbers===0&&(dt.barNumber=multilineVars.currBarNumber))}multilineVars.addFormattingOptions(el,tune.formatting,"bar"),tuneBuilder$1.appendElement("bar",_e+ot,_e+$+ct[0],dt),multilineVars.measureNotEmpty=!1,el={}}$+=ct[0]}else if(b[$]==="&")ct=letter_to_overlay(b,$),ct[0]>0&&(tuneBuilder$1.appendElement("overlay",_e,_e+1,{}),$+=1,rt++);else{if(ct=letter_to_open_slurs_and_triplets(b,$),ct.consumed>0&&(ct.startSlur!==void 0&&(el.startSlur=ct.startSlur),ct.dottedSlur&&(el.dottedSlur=!0),ct.triplet!==void 0&&(tt>0?warn("Can't nest triplets",b,$):(el.startTriplet=ct.triplet,el.tripletMultiplier=ct.tripletQ/ct.triplet,el.tripletR=ct.num_notes,tt=ct.num_notes===void 0?ct.triplet:ct.num_notes)),$+=ct.consumed),b[$]==="["){$++;for(var ft=null,pt=!1,mt=!1;!mt;){var gt=letter_to_accent(b,$);gt[0]>0&&($+=gt[0]);var vt=getCoreNote(b,$,{},!1);if(vt!==null&&vt.pitch!==void 0)gt[0]>0&&gt[1].indexOf("style=")!==0&&(el.decoration===void 0&&(el.decoration=[]),el.decoration.push(gt[1])),vt.end_beam&&(el.end_beam=!0,delete vt.end_beam),el.pitches===void 0?(el.duration=vt.duration,el.pitches=[vt]):el.pitches.push(vt),delete vt.duration,gt[0]>0&&gt[1].indexOf("style=")===0&&(el.pitches[el.pitches.length-1].style=gt[1].substr(6)),multilineVars.inTieChord[el.pitches.length]&&(vt.endTie=!0,multilineVars.inTieChord[el.pitches.length]=void 0),vt.startTie&&(multilineVars.inTieChord[el.pitches.length]=!0),$=vt.endChar,delete vt.endChar;else if(b[$]===" ")warn("Spaces are not allowed in chords",b,$),$++;else{if($<b.length&&b[$]==="]"){$++,multilineVars.next_note_duration!==0&&(el.duration=el.duration*multilineVars.next_note_duration,multilineVars.next_note_duration=0),isInTie(multilineVars,rt,el)&&(el.pitches.forEach(function(Pt){Pt.endTie=!0}),setIsInTie(multilineVars,rt,!1)),tt>0&&!(el.rest&&el.rest.type==="spacer")&&(tt--,tt===0&&(el.endTriplet=!0));for(var yt=!1;$<b.length&&!yt;){switch(b[$]){case" ":case"	":addEndBeam(el);break;case")":el.endSlur===void 0?el.endSlur=1:el.endSlur++;break;case"-":el.pitches.forEach(function(Pt){Pt.startTie={}}),setIsInTie(multilineVars,rt,!0);break;case">":case"<":var bt=getBrokenRhythm(b,$);$+=bt[0]-1,multilineVars.next_note_duration=bt[2],ft?ft=ft*bt[1]:ft=bt[1];break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"/":var xt=tokenizer.getFraction(b,$);ft=xt.value,$=xt.index;var _t=b[$];_t===" "&&(pt=!0),_t==="-"||_t===")"||_t===" "||_t==="<"||_t===">"?$--:yt=!0;break;default:yt=!0;break}yt||$++}}else warn("Expected ']' to end the chords",b,$);el.pitches!==void 0&&(ft!==null&&(el.duration=el.duration*ft,pt&&addEndBeam(el)),multilineVars.addFormattingOptions(el,tune.formatting,"note"),tuneBuilder$1.appendElement("note",_e+ot,_e+$,el),multilineVars.measureNotEmpty=!0,el={}),mt=!0}}}else{var wt={},At=getCoreNote(b,$,wt,!0);wt.endTie!==void 0&&setIsInTie(multilineVars,rt,!0),At!==null&&(At.pitch!==void 0?(el.pitches=[{}],At.accidental!==void 0&&(el.pitches[0].accidental=At.accidental),el.pitches[0].pitch=At.pitch,el.pitches[0].name=At.name,(At.midipitch||At.midipitch===0)&&(el.pitches[0].midipitch=At.midipitch),At.endSlur!==void 0&&(el.pitches[0].endSlur=At.endSlur),At.endTie!==void 0&&(el.pitches[0].endTie=At.endTie),At.startSlur!==void 0&&(el.pitches[0].startSlur=At.startSlur),el.startSlur!==void 0&&(el.pitches[0].startSlur=el.startSlur),el.dottedSlur!==void 0&&(el.pitches[0].dottedSlur=!0),At.startTie!==void 0&&(el.pitches[0].startTie=At.startTie),el.startTie!==void 0&&(el.pitches[0].startTie=el.startTie)):(el.rest=At.rest,At.endSlur!==void 0&&(el.endSlur=At.endSlur),At.endTie!==void 0&&(el.rest.endTie=At.endTie),At.startSlur!==void 0&&(el.startSlur=At.startSlur),At.startTie!==void 0&&(el.rest.startTie=At.startTie),el.startTie!==void 0&&(el.rest.startTie=el.startTie)),At.chord!==void 0&&(el.chord=At.chord),At.duration!==void 0&&(el.duration=At.duration),At.decoration!==void 0&&(el.decoration=At.decoration),At.graceNotes!==void 0&&(el.graceNotes=At.graceNotes),delete el.startSlur,delete el.dottedSlur,isInTie(multilineVars,rt,el)&&(el.pitches!==void 0?el.pitches[0].endTie=!0:el.rest.type!=="spacer"&&(el.rest.endTie=!0),setIsInTie(multilineVars,rt,!1)),(At.startTie||el.startTie)&&setIsInTie(multilineVars,rt,!0),$=At.endChar,tt>0&&!(At.rest&&At.rest.type==="spacer")&&(tt--,tt===0&&(el.endTriplet=!0)),At.end_beam&&addEndBeam(el),el.rest&&el.rest.type==="rest"&&el.duration===1&&durationOfMeasure(multilineVars)<=1&&(el.rest.type="whole",el.duration=durationOfMeasure(multilineVars)),el.duration<1&&durations.indexOf(el.duration)===-1&&el.duration!==0&&(!el.rest||el.rest.type!=="spacer")&&warn("Duration not representable: "+b.substring(ot,$),b,$),multilineVars.addFormattingOptions(el,tune.formatting,"note"),tuneBuilder$1.appendElement("note",_e+ot,_e+$,el),multilineVars.measureNotEmpty=!0,el={})}$===ot&&(b[$]!==" "&&b[$]!=="`"&&warn("Unknown character ignored",b,$),$++)}}}this.lineContinuation=b.indexOf("")>=0||nt[0]>0,this.lineContinuation||(el={})}};var setIsInTie=function(b,$,_e){var et=b.currentVoice?b.currentVoice.staffNum*100+b.currentVoice.index:0;b.inTie[$]===void 0&&(b.inTie[$]=[]),b.inTie[$][et]=_e},letter_to_chord=function(b,$){if(b[$]==='"'){var _e=tokenizer.getBrackettedSubstring(b,$,5);if(_e[2]||warn("Missing the closing quote while parsing the chord symbol",b,$),_e[0]>0&&_e[1].length>0&&_e[1][0]==="^")_e[1]=_e[1].substring(1),_e[2]="above";else if(_e[0]>0&&_e[1].length>0&&_e[1][0]==="_")_e[1]=_e[1].substring(1),_e[2]="below";else if(_e[0]>0&&_e[1].length>0&&_e[1][0]==="<")_e[1]=_e[1].substring(1),_e[2]="left";else if(_e[0]>0&&_e[1].length>0&&_e[1][0]===">")_e[1]=_e[1].substring(1),_e[2]="right";else if(_e[0]>0&&_e[1].length>0&&_e[1][0]==="@"){_e[1]=_e[1].substring(1);var et=tokenizer.getFloat(_e[1]);et.digits===0&&warn("Missing first position in absolutely positioned annotation.",b,$),_e[1]=_e[1].substring(et.digits),_e[1][0]!==","&&warn("Missing comma absolutely positioned annotation.",b,$),_e[1]=_e[1].substring(1);var tt=tokenizer.getFloat(_e[1]);tt.digits===0&&warn("Missing second position in absolutely positioned annotation.",b,$),_e[1]=_e[1].substring(tt.digits);var nt=tokenizer.skipWhiteSpace(_e[1]);_e[1]=_e[1].substring(nt),_e[2]=null,_e[3]={x:et.value,y:tt.value}}else multilineVars.freegchord!==!0&&(_e[1]=_e[1].replace(/([ABCDEFG0-9])b/g,"$1♭"),_e[1]=_e[1].replace(/([ABCDEFG0-9])#/g,"$1♯"),_e[1]=_e[1].replace(/^([ABCDEFG])([♯♭]?)o([^A-Za-z])/g,"$1$2°$3"),_e[1]=_e[1].replace(/^([ABCDEFG])([♯♭]?)o$/g,"$1$2°"),_e[1]=_e[1].replace(/^([ABCDEFG])([♯♭]?)0([^A-Za-z])/g,"$1$2ø$3"),_e[1]=_e[1].replace(/^([ABCDEFG])([♯♭]?)\^([^A-Za-z])/g,"$1$2∆$3")),_e[2]="default",_e[1]=transpose$1.chordName(multilineVars,_e[1]);return _e}return[0,""]},letter_to_grace=function(b,$){if(b[$]==="{"){var _e=tokenizer.getBrackettedSubstring(b,$,1,"}");_e[2]||warn("Missing the closing '}' while parsing grace note",b,$),b[$+_e[0]]===")"&&(_e[0]++,_e[1]+=")");for(var et=[],tt=0,nt=!1;tt<_e[1].length;){var rt=!1;_e[1][tt]==="/"&&(rt=!0,tt++);var ot=getCoreNote(_e[1],tt,{},!1);ot!==null?(ot.duration=ot.duration/(multilineVars.default_length*8),rt&&(ot.acciaccatura=!0),et.push(ot),nt&&(ot.endTie=!0,nt=!1),ot.startTie&&(nt=!0),tt=ot.endChar,delete ot.endChar,ot.end_beam&&(ot.endBeam=!0,delete ot.end_beam)):(_e[1][tt]===" "?et.length>0&&(et[et.length-1].endBeam=!0):warn("Unknown character '"+_e[1][tt]+"' while parsing grace note",b,$),tt++)}if(et.length)return[_e[0],et]}return[0]};function letter_to_overlay(b,$){if(b[$]==="&"){for(var _e=$;b[$]&&b[$]!==":"&&b[$]!=="|";)$++;return[$-_e,b.substring(_e+1,$)]}return[0]}function durationOfMeasure(b){var $=b.origMeter;return!$||$.type!=="specified"||!$.value||$.value.length===0?1:parseInt($.value[0].num,10)/parseInt($.value[0].den,10)}var letter_to_accent=function(b,$){var _e=multilineVars.macros[b[$]];if(_e!==void 0)return(_e[0]==="!"||_e[0]==="+")&&(_e=_e.substring(1)),(_e[_e.length-1]==="!"||_e[_e.length-1]==="+")&&(_e=_e.substring(0,_e.length-1)),legalAccents.includes(_e)?[1,_e]:volumeDecorations.includes(_e)?(multilineVars.volumePosition==="hidden"&&(_e=""),[1,_e]):dynamicDecorations.includes(_e)?(multilineVars.dynamicPosition==="hidden"&&(_e=""),[1,_e]):(multilineVars.ignoredDecorations.includes(_e)||warn("Unknown macro: "+_e,b,$),[1,""]);switch(b[$]){case".":if(b[$+1]==="("||b[$+1]==="-")break;return[1,"staccato"];case"u":return[1,"upbow"];case"v":return[1,"downbow"];case"~":return[1,"irishroll"];case"!":case"+":var et=tokenizer.getBrackettedSubstring(b,$,5);if(et[1].length>1&&(et[1][0]==="^"||et[1][0]==="_")&&(et[1]=et[1].substring(1)),legalAccents.includes(et[1]))return et;if(volumeDecorations.includes(et[1]))return multilineVars.volumePosition==="hidden"&&(et[1]=""),et;if(dynamicDecorations.includes(et[1]))return multilineVars.dynamicPosition==="hidden"&&(et[1]=""),et;var tt=accentPseudonyms.findIndex(function(nt){return et[1]===nt[0]});return tt>=0?(et[1]=accentPseudonyms[tt][1],et):(tt=accentDynamicPseudonyms.findIndex(function(nt){return et[1]===nt[0]}),tt>=0?(et[1]=accentDynamicPseudonyms[tt][1],multilineVars.dynamicPosition==="hidden"&&(et[1]=""),et):b[$]==="!"&&(et[0]===1||b[$+et[0]-1]!=="!")?[1,null]:(warn("Unknown decoration: "+et[1],b,$),et[1]="",et));case"H":return[1,"fermata"];case"J":return[1,"slide"];case"L":return[1,"accent"];case"M":return[1,"mordent"];case"O":return[1,"coda"];case"P":return[1,"pralltriller"];case"R":return[1,"roll"];case"S":return[1,"segno"];case"T":return[1,"trill"]}return[0,0]},letter_to_spacer=function(b,$){for(var _e=$;tokenizer.isWhiteSpace(b[$]);)$++;return[$-_e]},letter_to_bar=function(b,$){var _e=tokenizer.getBarLine(b,$);if(_e.len===0)return[0,""];if(_e.warn)return warn(_e.warn,b,$),[_e.len,""];for(var et=0;et<b.length&&b[$+_e.len+et]===" ";et++);var tt=_e.len;if(b[$+_e.len+et]==="["&&(_e.len+=et+1),b[$+_e.len]==='"'&&b[$+_e.len-1]==="["){var nt=tokenizer.getBrackettedSubstring(b,$+_e.len,5);return[_e.len+nt[0],_e.token,nt[1]]}var rt=tokenizer.getTokenOf(b.substring($+_e.len),"1234567890-,");return rt.len===0||rt.token[0]==="-"?[tt,_e.token]:[_e.len+rt.len,_e.token,rt.token]},letter_to_open_slurs_and_triplets=function(b,$){var _e={},et=$;for(b[$]==="."&&b[$+1]==="("&&(_e.dottedSlur=!0,$++);b[$]==="("||tokenizer.isWhiteSpace(b[$]);)b[$]==="("&&($+1<b.length&&b[$+1]>="2"&&b[$+1]<="9"?(_e.triplet!==void 0?warn("Can't nest triplets",b,$):(_e.triplet=b[$+1]-"0",_e.tripletQ=tripletQ[_e.triplet],_e.num_notes=_e.triplet,$+2<b.length&&b[$+2]===":"&&($+3<b.length&&b[$+3]===":"?$+4<b.length&&b[$+4]>="1"&&b[$+4]<="9"?(_e.num_notes=b[$+4]-"0",$+=3):warn("expected number after the two colons after the triplet to mark the duration",b,$):$+3<b.length&&b[$+3]>="1"&&b[$+3]<="9"?(_e.tripletQ=b[$+3]-"0",$+4<b.length&&b[$+4]===":"?$+5<b.length&&b[$+5]>="1"&&b[$+5]<="9"&&(_e.num_notes=b[$+5]-"0",$+=4):$+=2):warn("expected number after the triplet to mark the duration",b,$))),$++):_e.startSlur===void 0?_e.startSlur=1:_e.startSlur++),$++;return _e.consumed=$-et,_e};MusicParser.prototype.startNewLine=function(){var b={startChar:-1,endChar:-1};multilineVars.partForNextLine.title&&(b.part=multilineVars.partForNextLine),b.clef=multilineVars.currentVoice&&multilineVars.staves[multilineVars.currentVoice.staffNum].clef!==void 0?parseCommon$a.clone(multilineVars.staves[multilineVars.currentVoice.staffNum].clef):parseCommon$a.clone(multilineVars.clef);var $=multilineVars.currentVoice?multilineVars.currentVoice.scoreTranspose:0;if(b.key=parseKeyVoice$1.standardKey(multilineVars.key.root+multilineVars.key.acc+multilineVars.key.mode,multilineVars.key.root,multilineVars.key.acc,$),b.key.mode=multilineVars.key.mode,multilineVars.key.impliedNaturals&&(b.key.impliedNaturals=multilineVars.key.impliedNaturals),multilineVars.key.explicitAccidentals)for(var _e=0;_e<multilineVars.key.explicitAccidentals.length;_e++){for(var et=!1,tt=0;tt<b.key.accidentals.length;tt++)b.key.accidentals[tt].note===multilineVars.key.explicitAccidentals[_e].note&&(b.key.accidentals[tt].acc=multilineVars.key.explicitAccidentals[_e].acc,et=!0);et||b.key.accidentals.push(multilineVars.key.explicitAccidentals[_e])}if(multilineVars.targetKey=b.key,b.key.explicitAccidentals&&delete b.key.explicitAccidentals,parseKeyVoice$1.addPosToKey(b.clef,b.key),multilineVars.meter!==null?(multilineVars.currentVoice?(multilineVars.staves.forEach(function(ot){ot.meter=multilineVars.meter}),b.meter=multilineVars.staves[multilineVars.currentVoice.staffNum].meter,multilineVars.staves[multilineVars.currentVoice.staffNum].meter=null):b.meter=multilineVars.meter,multilineVars.meter=null):multilineVars.currentVoice&&multilineVars.staves[multilineVars.currentVoice.staffNum].meter&&(b.meter=multilineVars.staves[multilineVars.currentVoice.staffNum].meter,multilineVars.staves[multilineVars.currentVoice.staffNum].meter=null),multilineVars.currentVoice&&multilineVars.currentVoice.name&&(b.name=multilineVars.currentVoice.name),multilineVars.vocalfont&&(b.vocalfont=multilineVars.vocalfont),multilineVars.tripletfont&&(b.tripletfont=multilineVars.tripletfont),multilineVars.gchordfont&&(b.gchordfont=multilineVars.gchordfont),multilineVars.style&&(b.style=multilineVars.style),multilineVars.currentVoice){var nt=multilineVars.staves[multilineVars.currentVoice.staffNum];nt.brace&&(b.brace=nt.brace),nt.bracket&&(b.bracket=nt.bracket),nt.connectBarLines&&(b.connectBarLines=nt.connectBarLines),nt.name&&(b.name=nt.name[multilineVars.currentVoice.index]),nt.subname&&(b.subname=nt.subname[multilineVars.currentVoice.index]),multilineVars.currentVoice.stem&&(b.stem=multilineVars.currentVoice.stem),multilineVars.currentVoice.stafflines&&(b.stafflines=multilineVars.currentVoice.stafflines),multilineVars.currentVoice.staffscale&&(b.staffscale=multilineVars.currentVoice.staffscale),multilineVars.currentVoice.scale&&(b.scale=multilineVars.currentVoice.scale),multilineVars.currentVoice.color&&(b.color=multilineVars.currentVoice.color),multilineVars.currentVoice.style&&(b.style=multilineVars.currentVoice.style),multilineVars.currentVoice.transpose&&(b.clef.transpose=multilineVars.currentVoice.transpose)}var rt=multilineVars.currentVoice===void 0||multilineVars.currentVoice.staffNum===0&&multilineVars.currentVoice.index===0;multilineVars.barNumbers===0&&rt&&multilineVars.currBarNumber!==1&&(b.barNumber=multilineVars.currBarNumber),tuneBuilder$1.startNewLine(b),multilineVars.key.impliedNaturals&&delete multilineVars.key.impliedNaturals,multilineVars.partForNextLine={},multilineVars.tempoForNextLine.length===4&&tuneBuilder$1.appendElement(multilineVars.tempoForNextLine[0],multilineVars.tempoForNextLine[1],multilineVars.tempoForNextLine[2],multilineVars.tempoForNextLine[3]),multilineVars.tempoForNextLine=[]};var addEndBeam=function(b){return b.duration!==void 0&&b.duration<.25&&(b.end_beam=!0),b},getCoreNote=function(b,$,_e,et){var tt=function(it){return it==="octave"||it==="duration"||it==="Zduration"||it==="broken_rhythm"||it==="end_slur"},nt;b[$]==="."&&b[$+1]==="-"&&(nt=!0,$++);for(var rt="startSlur",ot=!1;;){switch(b[$]){case"(":if(rt==="startSlur")_e.startSlur===void 0?_e.startSlur=1:_e.startSlur++;else return tt(rt)?(_e.endChar=$,_e):null;break;case")":if(tt(rt))_e.endSlur===void 0?_e.endSlur=1:_e.endSlur++;else return null;break;case"^":if(rt==="startSlur")_e.accidental="sharp",rt="sharp2";else if(rt==="sharp2")_e.accidental="dblsharp",rt="pitch";else return tt(rt)?(_e.endChar=$,_e):null;break;case"_":if(rt==="startSlur")_e.accidental="flat",rt="flat2";else if(rt==="flat2")_e.accidental="dblflat",rt="pitch";else return tt(rt)?(_e.endChar=$,_e):null;break;case"=":if(rt==="startSlur")_e.accidental="natural",rt="pitch";else return tt(rt)?(_e.endChar=$,_e):null;break;case"A":case"B":case"C":case"D":case"E":case"F":case"G":case"a":case"b":case"c":case"d":case"e":case"f":case"g":if(rt==="startSlur"||rt==="sharp2"||rt==="flat2"||rt==="pitch"){if(_e.pitch=pitches[b[$]],_e.pitch+=7*(multilineVars.currentVoice&&multilineVars.currentVoice.octave!==void 0?multilineVars.currentVoice.octave:multilineVars.octave),_e.name=b[$],_e.accidental&&(_e.name=accMap[_e.accidental]+_e.name),transpose$1.note(multilineVars,_e),rt="octave",et&&multilineVars.next_note_duration!==0?(_e.duration=multilineVars.default_length*multilineVars.next_note_duration,multilineVars.next_note_duration=0,ot=!0):_e.duration=multilineVars.default_length,multilineVars.clef&&multilineVars.clef.type==="perc"||multilineVars.currentVoice&&multilineVars.currentVoice.clef==="perc"){var st=b[$];_e.accidental&&(st=accMap[_e.accidental]+st),tune.formatting&&tune.formatting.midi&&tune.formatting.midi.drummap&&(_e.midipitch=tune.formatting.midi.drummap[st])}}else return tt(rt)?(_e.endChar=$,_e):null;break;case",":if(rt==="octave")_e.pitch-=7,_e.name+=",";else return tt(rt)?(_e.endChar=$,_e):null;break;case"'":if(rt==="octave")_e.pitch+=7,_e.name+="'";else return tt(rt)?(_e.endChar=$,_e):null;break;case"x":case"X":case"y":case"z":case"Z":if(rt==="startSlur")_e.rest={type:rests[b[$]]},delete _e.accidental,delete _e.startSlur,delete _e.startTie,delete _e.endSlur,delete _e.endTie,delete _e.end_beam,delete _e.grace_notes,_e.rest.type.indexOf("multimeasure")>=0?(_e.duration=tune.getBarLength(),_e.rest.text=1,rt="Zduration"):(et&&multilineVars.next_note_duration!==0?(_e.duration=multilineVars.default_length*multilineVars.next_note_duration,multilineVars.next_note_duration=0,ot=!0):_e.duration=multilineVars.default_length,rt="duration");else return tt(rt)?(_e.endChar=$,_e):null;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"0":case"/":if(rt==="octave"||rt==="duration"){var ct=tokenizer.getFraction(b,$);for(_e.duration=_e.duration*ct.value,_e.endChar=ct.index;ct.index<b.length&&(tokenizer.isWhiteSpace(b[ct.index])||b[ct.index]==="-");)b[ct.index]==="-"?_e.startTie={}:_e=addEndBeam(_e),ct.index++;$=ct.index-1,rt="broken_rhythm"}else if(rt==="sharp2")_e.accidental="quartersharp",rt="pitch";else if(rt==="flat2")_e.accidental="quarterflat",rt="pitch";else if(rt==="Zduration"){var lt=tokenizer.getNumber(b,$);return _e.duration=lt.num*tune.getBarLength(),_e.rest.text=lt.num,_e.endChar=lt.index,_e}else return null;break;case"-":if(rt==="startSlur")tuneBuilder$1.addTieToLastNote(nt),_e.endTie=!0;else if(rt==="octave"||rt==="duration"||rt==="end_slur")if(_e.startTie={},!ot&&et)rt="broken_rhythm";else return tokenizer.isWhiteSpace(b[$+1])&&addEndBeam(_e),_e.endChar=$+1,_e;else return rt==="broken_rhythm"?(_e.endChar=$,_e):null;break;case" ":case"	":if(tt(rt)){_e.end_beam=!0,nt=!1;do b[$]==="."&&b[$+1]==="-"&&(nt=!0,$++),b[$]==="-"&&(_e.startTie={},nt&&(_e.startTie.style="dotted")),$++;while($<b.length&&(tokenizer.isWhiteSpace(b[$])||b[$]==="-")||b[$]==="."&&b[$+1]==="-");if(_e.endChar=$,!ot&&et&&(b[$]==="<"||b[$]===">"))$--,rt="broken_rhythm";else return _e}else return null;break;case">":case"<":if(tt(rt))if(et){var at=getBrokenRhythm(b,$);$+=at[0]-1,multilineVars.next_note_duration=at[2],_e.duration=at[1]*_e.duration,rt="end_slur"}else return _e.endChar=$,_e;else return null;break;default:return tt(rt)?(_e.endChar=$,_e):null}if($++,$===b.length)return tt(rt)?(_e.endChar=$,_e):null}return null},getBrokenRhythm=function(b,$){switch(b[$]){case">":return $<b.length-2&&b[$+1]===">"&&b[$+2]===">"?[3,1.875,.125]:$<b.length-1&&b[$+1]===">"?[2,1.75,.25]:[1,1.5,.5];case"<":return $<b.length-2&&b[$+1]==="<"&&b[$+2]==="<"?[3,.125,1.875]:$<b.length-1&&b[$+1]==="<"?[2,.25,1.75]:[1,.5,1.5]}return null},abc_parse_music=MusicParser,parseCommon$9=abc_common,Tokenizer$1=function(b,$){this.lineIndex=0,this.lines=b,this.multilineVars=$,this.skipWhiteSpace=function(at){for(var it=0;it<at.length;it++)if(!this.isWhiteSpace(at[it]))return it;return at.length};var _e=function(at,it){return it>=at.length};this.eatWhiteSpace=function(at,it){for(var ut=it;ut<at.length;ut++)if(!this.isWhiteSpace(at[ut]))return ut-it;return ut-it},this.getKeyPitch=function(at){var it=this.skipWhiteSpace(at);if(_e(at,it))return{len:0};switch(at[it]){case"A":return{len:it+1,token:"A"};case"B":return{len:it+1,token:"B"};case"C":return{len:it+1,token:"C"};case"D":return{len:it+1,token:"D"};case"E":return{len:it+1,token:"E"};case"F":return{len:it+1,token:"F"};case"G":return{len:it+1,token:"G"}}return{len:0}},this.getSharpFlat=function(at){if(at==="bass")return{len:0};switch(at[0]){case"#":return{len:1,token:"#"};case"b":return{len:1,token:"b"}}return{len:0}},this.getMode=function(at){var it=function(ht,ft){for(;ft<ht.length&&(ht[ft]>="a"&&ht[ft]<="z"||ht[ft]>="A"&&ht[ft]<="Z");)ft++;return ft},ut=this.skipWhiteSpace(at);if(_e(at,ut))return{len:0};var dt=at.substring(ut,ut+3).toLowerCase();switch((dt.length>1&&dt[1]===" "||dt[1]==="^"||dt[1]==="_"||dt[1]==="=")&&(dt=dt[0]),dt){case"mix":return{len:it(at,ut),token:"Mix"};case"dor":return{len:it(at,ut),token:"Dor"};case"phr":return{len:it(at,ut),token:"Phr"};case"lyd":return{len:it(at,ut),token:"Lyd"};case"loc":return{len:it(at,ut),token:"Loc"};case"aeo":return{len:it(at,ut),token:"m"};case"maj":return{len:it(at,ut),token:""};case"ion":return{len:it(at,ut),token:""};case"min":return{len:it(at,ut),token:"m"};case"m":return{len:it(at,ut),token:"m"}}return{len:0}},this.getClef=function(at,it){var ut=at,dt=this.skipWhiteSpace(at);if(_e(at,dt))return{len:0};var ht=!1,ft=at.substring(dt);if(parseCommon$9.startsWith(ft,"clef=")&&(ht=!0,ft=ft.substring(5),dt+=5),ft.length===0&&ht)return{len:dt+5,warn:"No clef specified: "+ut};var pt=this.skipWhiteSpace(ft);if(_e(ft,pt))return{len:0};pt>0&&(dt+=pt,ft=ft.substring(pt));var mt=null;if(parseCommon$9.startsWith(ft,"treble"))mt="treble";else if(parseCommon$9.startsWith(ft,"bass3"))mt="bass3";else if(parseCommon$9.startsWith(ft,"bass"))mt="bass";else if(parseCommon$9.startsWith(ft,"tenor"))mt="tenor";else if(parseCommon$9.startsWith(ft,"alto2"))mt="alto2";else if(parseCommon$9.startsWith(ft,"alto1"))mt="alto1";else if(parseCommon$9.startsWith(ft,"alto"))mt="alto";else if(!it&&ht&&parseCommon$9.startsWith(ft,"none"))mt="none";else if(parseCommon$9.startsWith(ft,"perc"))mt="perc";else if(!it&&ht&&parseCommon$9.startsWith(ft,"C"))mt="tenor";else if(!it&&ht&&parseCommon$9.startsWith(ft,"F"))mt="bass";else if(!it&&ht&&parseCommon$9.startsWith(ft,"G"))mt="treble";else return{len:dt+5,warn:"Unknown clef specified: "+ut};return ft=ft.substring(mt.length),pt=this.isMatch(ft,"+8"),pt>0?mt+="+8":(pt=this.isMatch(ft,"-8"),pt>0&&(mt+="-8")),{len:dt+mt.length,token:mt,explicit:ht}},this.getBarLine=function(at,it){switch(at[it]){case"]":switch(++it,at[it]){case"|":return{len:2,token:"bar_thick_thin"};case"[":return++it,at[it]>="1"&&at[it]<="9"||at[it]==='"'?{len:2,token:"bar_invisible"}:{len:1,warn:"Unknown bar symbol"};default:return{len:1,token:"bar_invisible"}}case":":switch(++it,at[it]){case":":return{len:2,token:"bar_dbl_repeat"};case"|":switch(++it,at[it]){case"]":switch(++it,at[it]){case"|":return++it,at[it]===":"?{len:5,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:3,token:"bar_right_repeat"}}case"|":return++it,at[it]===":"?{len:4,token:"bar_dbl_repeat"}:{len:3,token:"bar_right_repeat"};default:return{len:2,token:"bar_right_repeat"}}default:return{len:1,warn:"Unknown bar symbol"}}case"[":if(++it,at[it]==="|")switch(++it,at[it]){case":":return{len:3,token:"bar_left_repeat"};case"]":return{len:3,token:"bar_invisible"};default:return{len:2,token:"bar_thick_thin"}}else return at[it]>="1"&&at[it]<="9"||at[it]==='"'?{len:1,token:"bar_invisible"}:{len:0};case"|":switch(++it,at[it]){case"]":return{len:2,token:"bar_thin_thick"};case"|":return++it,at[it]===":"?{len:3,token:"bar_left_repeat"}:{len:2,token:"bar_thin_thin"};case":":for(var ut=0;at[it+ut]===":";)ut++;return{len:1+ut,token:"bar_left_repeat"};default:return{len:1,token:"bar_thin"}}}return{len:0}},this.getTokenOf=function(at,it){for(var ut=0;ut<at.length;ut++)if(it.indexOf(at[ut])<0)return{len:ut,token:at.substring(0,ut)};return{len:ut,token:at}},this.getToken=function(at,it,ut){for(var dt=it;dt<ut&&!this.isWhiteSpace(at[dt]);)dt++;return at.substring(it,dt)},this.isMatch=function(at,it){var ut=this.skipWhiteSpace(at);return _e(at,ut)?0:parseCommon$9.startsWith(at.substring(ut),it)?ut+it.length:0},this.getPitchFromTokens=function(at){var it={},ut={A:5,B:6,C:0,D:1,E:2,F:3,G:4,a:12,b:13,c:7,d:8,e:9,f:10,g:11};if(it.position=ut[at[0].token],it.position===void 0)return{warn:"Pitch expected. Found: "+at[0].token};for(at.shift();at.length;)switch(at[0].token){case",":it.position-=7,at.shift();break;case"'":it.position+=7,at.shift();break;default:return it}return it},this.getKeyAccidentals2=function(at){for(var it;at.length>0;){var ut;if(at[0].token==="^"){if(ut="sharp",at.shift(),at.length===0)return{accs:it,warn:"Expected note name after "+ut};switch(at[0].token){case"^":ut="dblsharp",at.shift();break;case"/":ut="quartersharp",at.shift();break}}else if(at[0].token==="=")ut="natural",at.shift();else if(at[0].token==="_"){if(ut="flat",at.shift(),at.length===0)return{accs:it,warn:"Expected note name after "+ut};switch(at[0].token){case"_":ut="dblflat",at.shift();break;case"/":ut="quarterflat",at.shift();break}}else return{accs:it};if(at.length===0)return{accs:it,warn:"Expected note name after "+ut};switch(at[0].token[0]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":it===void 0&&(it=[]),it.push({acc:ut,note:at[0].token[0]}),at[0].token.length===1?at.shift():at[0].token=at[0].token.substring(1);break;default:return{accs:it,warn:"Expected note name after "+ut+" Found: "+at[0].token}}}return{accs:it}},this.getKeyAccidental=function(at){var it={"^":"sharp","^^":"dblsharp","=":"natural",_:"flat",__:"dblflat","_/":"quarterflat","^/":"quartersharp"},ut=this.skipWhiteSpace(at);if(_e(at,ut))return{len:0};var dt=null;switch(at[ut]){case"^":case"_":case"=":dt=at[ut];break;default:return{len:0}}if(ut++,_e(at,ut))return{len:1,warn:"Expected note name after accidental"};switch(at[ut]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:ut+1,token:{acc:it[dt],note:at[ut]}};case"^":case"_":case"/":if(dt+=at[ut],ut++,_e(at,ut))return{len:2,warn:"Expected note name after accidental"};switch(at[ut]){case"a":case"b":case"c":case"d":case"e":case"f":case"g":case"A":case"B":case"C":case"D":case"E":case"F":case"G":return{len:ut+1,token:{acc:it[dt],note:at[ut]}};default:return{len:2,warn:"Expected note name after accidental"}}break;default:return{len:1,warn:"Expected note name after accidental"}}},this.isWhiteSpace=function(at){return at===" "||at==="	"||at===""},this.getMeat=function(at,it,ut){var dt=at.indexOf("%",it);for(dt>=0&&dt<ut&&(ut=dt);it<ut&&(at[it]===" "||at[it]==="	"||at[it]==="");)it++;for(;it<ut&&(at[ut-1]===" "||at[ut-1]==="	"||at[ut-1]==="");)ut--;return{start:it,end:ut}};var et=function(at){return at>="A"&&at<="Z"||at>="a"&&at<="z"},tt=function(at){return at>="0"&&at<="9"};this.tokenize=function(at,it,ut,dt){var ht=this.getMeat(at,it,ut);it=ht.start,ut=ht.end;for(var ft=[],pt;it<ut;){if(at[it]==='"'){for(pt=it+1;pt<ut&&at[pt]!=='"';)pt++;ft.push({type:"quote",token:at.substring(it+1,pt),start:it+1,end:pt}),pt++}else if(et(at[it])){if(pt=it+1,dt)for(;pt<ut&&!this.isWhiteSpace(at[pt]);)pt++;else for(;pt<ut&&et(at[pt]);)pt++;ft.push({type:"alpha",token:at.substring(it,pt),continueId:tt(at[pt]),start:it,end:pt}),it=pt+1}else if(at[it]==="."&&tt(at[pt+1])){pt=it+1;for(var mt=null,gt=null;pt<ut&&tt(at[pt]);)pt++;gt=parseFloat(at.substring(it,pt)),ft.push({type:"number",token:at.substring(it,pt),intt:mt,floatt:gt,continueId:et(at[pt]),start:it,end:pt}),it=pt+1}else if(tt(at[it])||at[it]==="-"&&tt(at[pt+1])){pt=it+1;for(var vt=null,yt=null;pt<ut&&tt(at[pt]);)pt++;if(at[pt]==="."&&tt(at[pt+1]))for(pt++;pt<ut&&tt(at[pt]);)pt++;else vt=parseInt(at.substring(it,pt));yt=parseFloat(at.substring(it,pt)),ft.push({type:"number",token:at.substring(it,pt),intt:vt,floatt:yt,continueId:et(at[pt]),start:it,end:pt}),it=pt+1}else at[it]===" "||at[it]==="	"||ft.push({type:"punct",token:at[it],start:it,end:it+1}),pt=it+1;it=pt}return ft},this.getVoiceToken=function(at,it,ut){for(var dt=it;dt<ut&&this.isWhiteSpace(at[dt])||at[dt]==="=";)dt++;if(at[dt]==='"'){var ht=at.indexOf('"',dt+1);return ht===-1||ht>=ut?{len:1,err:"Missing close quote"}:{len:ht-it+1,token:this.translateString(at.substring(dt+1,ht))}}else{for(var ft=dt;ft<ut&&!this.isWhiteSpace(at[ft])&&at[ft]!=="=";)ft++;return{len:ft-it+1,token:at.substring(dt,ft)}}};var nt={"`a":"à","'a":"á","^a":"â","~a":"ã",'"a':"ä",oa:"å",aa:"å","=a":"ā",ua:"ă",";a":"ą","`e":"è","'e":"é","^e":"ê",'"e':"ë","=e":"ē",ue:"ĕ",";e":"ę",".e":"ė","`i":"ì","'i":"í","^i":"î",'"i':"ï","=i":"ī",ui:"ĭ",";i":"į","`o":"ò","'o":"ó","^o":"ô","~o":"õ",'"o':"ö","=o":"ō",uo:"ŏ","/o":"ø","`u":"ù","'u":"ú","^u":"û","~u":"ũ",'"u':"ü",ou:"ů","=u":"ū",uu:"ŭ",";u":"ų","`A":"À","'A":"Á","^A":"Â","~A":"Ã",'"A':"Ä",oA:"Å",AA:"Å","=A":"Ā",uA:"Ă",";A":"Ą","`E":"È","'E":"É","^E":"Ê",'"E':"Ë","=E":"Ē",uE:"Ĕ",";E":"Ę",".E":"Ė","`I":"Ì","'I":"Í","^I":"Î","~I":"Ĩ",'"I':"Ï","=I":"Ī",uI:"Ĭ",";I":"Į",".I":"İ","`O":"Ò","'O":"Ó","^O":"Ô","~O":"Õ",'"O':"Ö","=O":"Ō",uO:"Ŏ","/O":"Ø","`U":"Ù","'U":"Ú","^U":"Û","~U":"Ũ",'"U':"Ü",oU:"Ů","=U":"Ū",uU:"Ŭ",";U":"Ų",ae:"æ",AE:"Æ",oe:"œ",OE:"Œ",ss:"ß","'c":"ć","^c":"ĉ",uc:"č",cc:"ç",".c":"ċ",cC:"Ç","'C":"Ć","^C":"Ĉ",uC:"Č",".C":"Ċ","~N":"Ñ","~n":"ñ","=s":"š",vs:"š",DH:"Ð",dh:"ð",HO:"Ő",Ho:"ő",HU:"Ű",Hu:"ű","'Y":"Ý","'y":"ý","^Y":"Ŷ","^y":"ŷ",'"Y':"Ÿ",'"y':"ÿ",vS:"Š",vZ:"Ž",vz:"ž"},rt={"#":"♯",b:"♭","=":"♮"},ot={201:"♯",202:"♭",203:"♮",241:"¡",242:"¢",252:"a",262:"2",272:"o",302:"Â",312:"Ê",322:"Ò",332:"Ú",342:"â",352:"ê",362:"ò",372:"ú",243:"£",253:"«",263:"3",273:"»",303:"Ã",313:"Ë",323:"Ó",333:"Û",343:"ã",353:"ë",363:"ó",373:"û",244:"¤",254:"¬",264:"  ́",274:"1⁄4",304:"Ä",314:"Ì",324:"Ô",334:"Ü",344:"ä",354:"ì",364:"ô",374:"ü",245:"¥",255:"-",265:"μ",275:"1⁄2",305:"Å",315:"Í",325:"Õ",335:"Ý",345:"å",355:"í",365:"õ",375:"ý",246:"¦",256:"®",266:"¶",276:"3⁄4",306:"Æ",316:"Î",326:"Ö",336:"Þ",346:"æ",356:"î",366:"ö",376:"þ",247:"§",257:" ̄",267:"·",277:"¿",307:"Ç",317:"Ï",327:"×",337:"ß",347:"ç",357:"ï",367:"÷",377:"ÿ",250:" ̈",260:"°",270:" ̧",300:"À",310:"È",320:"Ð",330:"Ø",340:"à",350:"è",360:"ð",370:"ø",251:"©",261:"±",271:"1",301:"Á",311:"É",321:"Ñ",331:"Ù",341:"á",351:"é",361:"ñ",371:"ù"};this.translateString=function(at){var it=at.split("\\");if(it.length===1)return at;var ut=null;return it.forEach(function(dt){if(ut===null)ut=dt;else{var ht=nt[dt.substring(0,2)];ht!==void 0?ut+=ht+dt.substring(2):(ht=ot[dt.substring(0,3)],ht!==void 0?ut+=ht+dt.substring(3):(ht=rt[dt.substring(0,1)],ht!==void 0?ut+=ht+dt.substring(1):ut+="\\"+dt))}}),ut},this.getNumber=function(at,it){for(var ut=0;it<at.length;)switch(at[it]){case"0":ut=ut*10,it++;break;case"1":ut=ut*10+1,it++;break;case"2":ut=ut*10+2,it++;break;case"3":ut=ut*10+3,it++;break;case"4":ut=ut*10+4,it++;break;case"5":ut=ut*10+5,it++;break;case"6":ut=ut*10+6,it++;break;case"7":ut=ut*10+7,it++;break;case"8":ut=ut*10+8,it++;break;case"9":ut=ut*10+9,it++;break;default:return{num:ut,index:it}}return{num:ut,index:it}},this.getFraction=function(at,it){var ut=1,dt=1;if(at[it]!=="/"){var ht=this.getNumber(at,it);ut=ht.num,it=ht.index}if(at[it]==="/")if(it++,at[it]==="/"){for(var ft=.5;at[it++]==="/";)ft=ft/2;return{value:ut*ft,index:it-1}}else{var pt=it,mt=this.getNumber(at,it);mt.num===0&&pt===it&&(mt.num=2),mt.num!==0&&(dt=mt.num),it=mt.index}return{value:ut/dt,index:it}};function st(at){const ut=/^(\d+)\./.exec(at);return ut?ut[1]:null}var ct=[{match:/,\s*[Tt]he$/,replace:"The "},{match:/,\s*[Aa]$/,replace:"A "},{match:/,\s*[Aa]n$/,replace:"An "}];this.theReverser=function(at){for(var it=0;it<ct.length;it++){var ut=ct[it],dt=at.match(ut.match);if(dt){var ht=st(at);ht&&(at=at.replace(ht+".",""),at=at.trim());var ft=dt[0].length,pt=ut.replace+at.substring(0,at.length-ft);return ht&&(pt=ht+". "+pt),pt}}return at},this.stripComment=function(at){var it=at.indexOf("%");return it>=0?parseCommon$9.strip(at.substring(0,it)):parseCommon$9.strip(at)},this.getInt=function(at){var it=parseInt(at);if(isNaN(it))return{digits:0};var ut=""+it,dt=at.indexOf(ut);return{value:it,digits:dt+ut.length}},this.getFloat=function(at){var it=parseFloat(at);if(isNaN(it))return{digits:0};var ut=""+it,dt=at.indexOf(ut);return{value:it,digits:dt+ut.length}},this.getMeasurement=function(at){if(at.length===0)return{used:0};var it=1,ut="";if(at[0].token==="-")at.shift(),ut="-",it++;else if(at[0].type!=="number")return{used:0};if(ut+=at.shift().token,at.length===0)return{used:1,value:parseInt(ut)};var dt=at.shift();if(dt.token==="."){if(it++,at.length===0)return{used:it,value:parseInt(ut)};if(at[0].type==="number"&&(dt=at.shift(),ut=ut+"."+dt.token,it++,at.length===0))return{used:it,value:parseFloat(ut)};dt=at.shift()}switch(dt.token){case"pt":return{used:it+1,value:parseFloat(ut)};case"px":return{used:it+1,value:parseFloat(ut)};case"cm":return{used:it+1,value:parseFloat(ut)/2.54*72};case"in":return{used:it+1,value:parseFloat(ut)*72};default:return at.unshift(dt),{used:it,value:parseFloat(ut)}}};var lt=function(at){return at=at.replace(/\\n/g,`
`),at=at.replace(/\\"/g,'"'),at};this.getBrackettedSubstring=function(at,it,ut,dt){for(var ht=dt||at[it],ft=it+1,pt=!1;ft<at.length&&(pt||at[ft]!==ht);)pt=at[ft]==="\\",++ft;return at[ft]===ht?[ft-it+1,lt(at.substring(it+1,ft)),!0]:(ft=it+ut,ft>at.length-1&&(ft=at.length-1),[ft-it+1,lt(at.substring(it+1,ft)),!1])}};Tokenizer$1.prototype.peekLine=function(){return this.lines[this.lineIndex]};Tokenizer$1.prototype.nextLine=function(){if(this.lineIndex>0&&(this.multilineVars.iChar+=this.lines[this.lineIndex-1].length+1),this.lineIndex<this.lines.length){var b=this.lines[this.lineIndex];return this.lineIndex++,b}return null};var abc_tokenizer=Tokenizer$1;function wrapLines(b,$,_e){if(!(!$||b.lines.length===0)){var et=b.deline({lineBreaks:!1}),tt=findLineBreaks(et,$);b.lines=addLineBreaks(et,tt,_e),b.lineBreaks=tt}}function addLineBreaks(b,$,_e){for(var et=[],tt=[],nt=[],rt=1,ot=0;ot<$.length;ot++){var st=$[ot];if(b[st.ogLine].staff){var ct=b[st.ogLine].staff[st.staff];if(et[st.line]||(et[st.line]={staff:[]}),!et[st.line].staff[st.staff]){et[st.line].staff[st.staff]={voices:[]},_e!==void 0&&st.staff===0&&st.line>0&&(et[st.line].staff[st.staff].barNumber=rt);for(var lt=Object.keys(ct),at=0;at<lt.length;at++){var it=lt[at]==="voices";lt[at]==="meter"&&st.line!==0&&(it=!0),it||(et[st.line].staff[st.staff][lt[at]]=ct[lt[at]])}tt[st.staff]&&(et[st.line].staff[st.staff].key=tt[st.staff])}et[st.line].staff[st.staff].voices[st.voice]||(et[st.line].staff[st.staff].voices[st.voice]=[]),et[st.line].staff[st.staff].voices[st.voice]=b[st.ogLine].staff[st.staff].voices[st.voice].slice(st.start,st.end+1),nt[st.staff*10+st.voice]&&et[st.line].staff[st.staff].voices[st.voice].unshift({el_type:"stem",direction:nt[st.staff*10+st.voice].direction});for(var ut=et[st.line].staff[st.staff].voices[st.voice],dt=ut.length-1;dt>=0;dt--)if(ut[dt].el_type==="key"){tt[st.staff]={root:ut[dt].root,acc:ut[dt].acc,mode:ut[dt].mode,accidentals:ut[dt].accidentals.filter(function(ft){return ft.acc!=="natural"})};break}for(dt=ut.length-1;dt>=0;dt--)if(ut[dt].el_type==="stem"){nt[st.staff*10+st.voice]={direction:ut[dt].direction};break}if(_e!==void 0&&st.staff===0&&st.voice===0)for(dt=0;dt<ut.length;dt++)ut[dt].el_type==="bar"&&(rt++,dt===ut.length-1?delete ut[dt].barNumber:ut[dt].barNumber=rt)}else et[st.line]=b[st.ogLine]}for(var ht=0;ht<et.length;ht++)et[ht].staff&&(et[ht].staff=et[ht].staff.filter(function(ft){return ft!=null}));return et}function findLineBreaks(b,$){for(var _e=[],et=0,tt=0,nt=0,rt=0;rt<b.length;rt++){var ot=b[rt];if(ot.staff){var st=tt,ct=$[et];et++;for(var lt=0;lt<ot.staff.length;lt++)for(var at=ot.staff[lt],it=0;it<at.voices.length;it++){nt=st;for(var ut=0,dt=0,ht=at.voices[it],ft=0,pt=0;pt<ht.length;pt++){var mt=ht[pt];mt.el_type==="bar"&&(ct[dt]===ut&&(_e.push({ogLine:rt,line:nt,staff:lt,voice:it,start:ft,end:pt}),ft=pt+1,nt++,tt=Math.max(tt,nt),dt++),ut++)}_e.push({ogLine:rt,line:nt,staff:lt,voice:it,start:ft,end:ht.length}),nt++,tt=Math.max(tt,nt)}}else _e.push({ogLine:rt,line:nt}),nt++,tt=Math.max(tt,nt)}return _e}function freeFormLineBreaks(b,$){for(var _e=[],et=[],tt=0,nt=0;nt<b.length;nt++){var rt=b[nt],ot=tt+rt;if(ot<$)tt=ot;else{var st=$-tt,ct=ot-$;st<ct&&tt>0?(_e.push(nt-1),et.push(Math.round(tt-rt)),tt=rt):nt<b.length-1&&(_e.push(nt),et.push(Math.round(tt)),tt=0)}}return et.push(Math.round(tt)),{lineBreaks:_e,totals:et}}function clone(b){for(var $=[],_e=0;_e<b.length;_e++)$.push(b[_e]);return $}function oneTry(b,$,_e,et,tt,nt,rt,ot,st,ct,lt){for(var at=ct;at<b.length;at++){var it=b[at];_e+=it,et+=it;var ut=Math.abs(_e-$[ot]),dt=Math.abs(ut-nt)<$[0]/10;if(dt)if(ut<nt){var ht=clone(tt),ft=clone(st);ft.push(at-1),ht.push(et-it),lt.push({accumulator:_e,lineAccumulator:it,lineWidths:ht,lastVariance:Math.abs(_e-$[ot+1]),highestVariance:Math.max(rt,nt),currLine:ot+1,lineBreaks:ft,startIndex:at+1})}else ut>nt&&at<b.length-1&&(ht=clone(tt),ft=clone(st),lt.push({accumulator:_e,lineAccumulator:et,lineWidths:ht,lastVariance:ut,highestVariance:Math.max(rt,ut),currLine:ot,lineBreaks:ft,startIndex:at+1}));ut>nt?(st.push(at-1),ot++,rt=Math.max(rt,nt),nt=Math.abs(_e-$[ot]),tt.push(et-it),et=it):nt=ut}tt.push(et)}function optimizeLineWidths(b,$,_e,et){for(var tt=Math.ceil(b.total/$),nt=Math.floor(b.total/tt),rt=[],ot=0;ot<tt;ot++)rt.push(nt*(ot+1));var st=[];st.push({accumulator:0,lineAccumulator:0,lineWidths:[],lastVariance:999999,highestVariance:0,currLine:0,lineBreaks:[],startIndex:0});for(var ct=0;ct<st.length;)oneTry(b.measureWidths,rt,st[ct].accumulator,st[ct].lineAccumulator,st[ct].lineWidths,st[ct].lastVariance,st[ct].highestVariance,st[ct].currLine,st[ct].lineBreaks,st[ct].startIndex,st),ct++;for(ot=0;ot<st.length;ot++){var lt=st[ot];lt.variances=[],lt.aveVariance=0;for(var at=0;at<lt.lineWidths.length;at++){var it=lt.lineWidths[at];lt.variances.push(it-rt[0]),lt.aveVariance+=Math.abs(it-rt[0])}lt.aveVariance=lt.aveVariance/lt.lineWidths.length,et.attempts.push({type:"optimizeLineWidths",lineBreaks:lt.lineBreaks,variances:lt.variances,aveVariance:lt.aveVariance,widths:b.measureWidths})}var ut=9999999,dt=-1;for(ot=0;ot<st.length;ot++)lt=st[ot],lt.aveVariance<ut&&(ut=lt.aveVariance,dt=ot);return{failed:!1,lineBreaks:st[dt].lineBreaks,variance:st[dt].highestVariance}}function fixedMeasureLineBreaks(b,$,_e){for(var et=[],tt=[],nt=0,rt=!1,ot=0;ot<b.length;ot++)nt+=b[ot],nt>$&&(rt=!0),ot%_e===_e-1&&(ot!==b.length-1&&et.push(ot),tt.push(Math.round(nt)),nt=0);return{failed:rt,totals:tt,lineBreaks:et}}function getRevisedTuneParams(b,$,_e){var et={lineBreaks:b,staffwidth:$};for(var tt in _e)_e.hasOwnProperty(tt)&&tt!=="wrap"&&tt!=="staffwidth"&&(et[tt]=_e[tt]);return{revisedParams:et}}function calcLineWraps(b,$,_e){if($.length===0||_e.staffwidth<$[0].left)return{reParse:!1,explanation:"Staff width is narrower than the margin",revisedParams:_e};var et=_e.scale?Math.max(_e.scale,.1):1,tt=_e.wrap.minSpacing?Math.max(parseFloat(_e.wrap.minSpacing),1):1,nt=_e.wrap.minSpacingLimit?Math.max(parseFloat(_e.wrap.minSpacingLimit),1):tt-.1,rt=_e.wrap.maxSpacing?Math.max(parseFloat(_e.wrap.maxSpacing),1):void 0;_e.wrap.lastLineLimit&&!rt&&(rt=Math.max(parseFloat(_e.wrap.lastLineLimit),1));for(var ot=_e.wrap.preferredMeasuresPerLine?Math.max(parseInt(_e.wrap.preferredMeasuresPerLine,10),0):void 0,st=[],ct=[],lt=0;lt<$.length;lt++){var at=$[lt],it=_e.staffwidth-at.left,ut=it/tt/et,dt=it/rt/et,ht=it/nt/et,ft={widths:at,lineBreakPoint:ut,minLineSize:dt,attempts:[],staffWidth:_e.staffwidth,minWidth:Math.round(ht)},pt=null;if(ot){var mt=fixedMeasureLineBreaks(at.measureWidths,ut,ot);ft.attempts.push({type:"Fixed Measures Per Line",preferredMeasuresPerLine:ot,lineBreaks:mt.lineBreaks,failed:mt.failed,totals:mt.totals}),mt.failed||(pt=mt.lineBreaks)}if(!pt){var gt=freeFormLineBreaks(at.measureWidths,ut);ft.attempts.push({type:"Free Form",lineBreaks:gt.lineBreaks,totals:gt.totals}),pt=gt.lineBreaks,pt.length>0&&at.measureWidths.length<25&&(gt=optimizeLineWidths(at,ut,pt,ft),ft.attempts.push({type:"Optimize",failed:gt.failed,reason:gt.reason,lineBreaks:gt.lineBreaks,totals:gt.totals}),gt.failed||(pt=gt.lineBreaks))}st.push(pt),ct.push(ft)}var vt=_e.staffwidth,yt=getRevisedTuneParams(st,vt,_e);return yt.explanation=ct,yt.reParse=!0,yt}var wrap_lines={wrapLines,calcLineWraps},spacing$e={};spacing$e.FONTEM=360;spacing$e.FONTSIZE=30;spacing$e.STEP=spacing$e.FONTSIZE*93/720;spacing$e.SPACE=10;spacing$e.TOPNOTE=15;spacing$e.STAVEHEIGHT=100;spacing$e.INDENT=50;var spacing_1=spacing$e,sequence$2,parseCommon$8=abc_common;(function(){var b=1,$=128;sequence$2=function(ut,dt){dt=dt||{};var ht,ft=dt.program||0,pt=dt.midiTranspose||0;ut.visualTranspose&&(pt-=ut.visualTranspose);var mt=dt.channel||0,gt=!1,vt=dt.drum||"",yt=dt.drumBars||1,bt=dt.drumIntro||0,xt=vt!=="",_t=[],wt=50;ft=parseInt(ft,10),pt=parseInt(pt,10),mt=parseInt(mt,10),mt===10&&(ft=$),vt=vt.split(" "),yt=parseInt(yt,10),bt=parseInt(bt,10);var At=ut.formatting.bagpipes;At&&(ft=71);var Pt=[];if(ut.formatting.midi){var jt=ut.formatting.midi;jt.program&&jt.program.length>0&&(ft=jt.program[0],jt.program.length>1&&(ft=jt.program[1],mt=jt.program[0]),gt=!0),jt.transpose&&(pt=jt.transpose[0]),jt.channel&&(mt=jt.channel[0],gt=!0),jt.drum&&(vt=jt.drum),jt.drumbars&&(yt=jt.drumbars[0]),jt.drumon&&(xt=!0),mt===10&&(ft=$),jt.beat&&Pt.push({el_type:"beat",beats:jt.beat}),jt.nobeataccents&&Pt.push({el_type:"beataccents",value:!1})}dt.qpm?ht=parseInt(dt.qpm,10):ut.metaText.tempo?ht=ot(ut.metaText.tempo,ut.getBeatLength()):dt.defaultQpm?ht=dt.defaultQpm:ht=180;var kt=[];At&&kt.push({el_type:"bagpipes"}),kt.push({el_type:"instrument",program:ft}),mt&&kt.push({el_type:"channel",channel:mt}),pt&&kt.push({el_type:"transpose",transpose:pt}),kt.push({el_type:"tempo",qpm:ht});for(var St=0;St<Pt.length;St++)kt.push(Pt[St]);var Ct=[],Et=[],Tt=[],$t=[0],Ot={};Ot[0]={el_type:"tempo",qpm:ht,timing:0};for(var Rt,Nt=[],Ft=[],Ht=!1,zt=ut.lines,an=0;an<zt.length;an++){var Jt=zt[an];if(Jt.staff){let gn=function(Cn){var Fn={pppp:[15,10,5,1],ppp:[30,20,10,1],pp:[45,35,20,1],p:[60,50,35,1],mp:[75,65,50,1],mf:[90,80,65,1],f:[105,95,80,1],ff:[120,110,95,1],fff:[127,125,110,1],ffff:[127,125,110,1]},Dn;if(Cn.decoration)if(Cn.decoration.indexOf("pppp")>=0?Dn="pppp":Cn.decoration.indexOf("ppp")>=0?Dn="ppp":Cn.decoration.indexOf("pp")>=0?Dn="pp":Cn.decoration.indexOf("p")>=0?Dn="p":Cn.decoration.indexOf("mp")>=0?Dn="mp":Cn.decoration.indexOf("mf")>=0?Dn="mf":Cn.decoration.indexOf("f")>=0?Dn="f":Cn.decoration.indexOf("ff")>=0?Dn="ff":Cn.decoration.indexOf("fff")>=0?Dn="fff":Cn.decoration.indexOf("ffff")>=0&&(Dn="ffff"),Dn&&(Rt=Fn[Dn].slice(0),Ct[Qt].push({el_type:"beat",beats:Rt.slice(0)}),Et[Yt]=!1,Tt[Yt]=!1),Cn.decoration.indexOf("crescendo(")>=0){var Un=_e(rn,On,"crescendo)"),or=Math.min(127,Rt[0]+wt),tr=et(rn,On+Un+1,Object.keys(Fn));tr&&(or=Fn[tr][0]),Un>0?Et[Yt]=Math.floor((or-Rt[0])/Un):Et[Yt]=!1,Tt[Yt]=!1}else if(Cn.decoration.indexOf("crescendo)")>=0)Et[Yt]=!1;else if(Cn.decoration.indexOf("diminuendo(")>=0){var Vt=_e(rn,On,"diminuendo)"),hn=Math.max(15,Rt[0]-wt),cn=et(rn,On+Vt+1,Object.keys(Fn));cn&&(hn=Fn[cn][0]),Et[Yt]=!1,Vt>0?Tt[Yt]=Math.floor((hn-Rt[0])/Vt):Tt[Yt]=!1}else Cn.decoration.indexOf("diminuendo)")>=0&&(Tt[Yt]=!1)};for(var Zt=Jt.staff,Qt=0,qt=0;qt<Zt.length;qt++){var vn=Zt[qt];if(!(vn.clef&&vn.clef.type==="TAB"))for(var Yt=0;Yt<vn.voices.length;Yt++){var rn=vn.voices[Yt];if(!Ct[Qt]){Ct[Qt]=[].concat(JSON.parse(JSON.stringify(kt)));var pn=rt(Jt.staff,Qt);pn&&Ct[Qt].unshift({el_type:"name",trackName:pn})}if(pt&&vn.clef.type==="perc"&&Ct[Qt].push({el_type:"transpose",transpose:0}),vn.clef&&vn.clef.type==="perc"&&!gt)for(var $n=0;$n<Ct[Qt].length;$n++)Ct[Qt][$n].el_type==="instrument"&&(Ct[Qt][$n].program=$);else vn.key&&lt(Ct[Qt],vn.key);vn.meter&&at(Ct[Qt],vn.meter),!Ht&&xt&&(Ct[Qt].push({el_type:"drum",params:{pattern:vt,bars:yt,on:xt,intro:bt}}),Ht=!0),vn.clef&&vn.clef.type!=="perc"&&vn.clef.transpose&&(vn.clef.el_type="clef",Ct[Qt].push({el_type:"transpose",transpose:vn.clef.transpose})),vn.clef&&vn.clef.type&&(vn.clef.type.indexOf("-8")>=0?Ct[Qt].push({el_type:"transpose",transpose:-12}):vn.clef.type.indexOf("+8")>=0&&Ct[Qt].push({el_type:"transpose",transpose:12})),ut.formatting.midi&&ut.formatting.midi.drumoff&&(Ct[Qt].push({el_type:"bar"}),Ct[Qt].push({el_type:"drum",params:{pattern:"",on:!1}}));var on=0,Tn=0,kn=0,Bn=0;Rt=[105,95,85,1];for(var On=0;On<rn.length;On++){var dn=rn[On];switch(dn.el_type){case"note":if(Et[Yt]&&(Rt[0]+=Et[Yt],Rt[1]+=Et[Yt],Rt[2]+=Et[Yt],Ct[Qt].push({el_type:"beat",beats:Rt.slice(0)})),Tt[Yt]&&(Rt[0]+=Tt[Yt],Rt[1]+=Tt[Yt],Rt[2]+=Tt[Yt],Ct[Qt].push({el_type:"beat",beats:Rt.slice(0)})),gn(dn),!dn.rest||dn.rest.type!=="spacer"){var wn={elem:dn,el_type:"note",timing:$t[Qt]};if(dn.style?wn.style=dn.style:_t[Qt]&&(wn.style=_t[Qt]),wn.duration=dn.duration===0?.25:dn.duration,dn.startTriplet){if(Tn=dn.tripletMultiplier,kn=dn.startTriplet*Tn*dn.duration,dn.startTriplet!==dn.tripletR&&On+dn.tripletR<=rn.length){for(var bn=0,Sn=On;Sn<On+dn.tripletR;Sn++)bn+=rn[Sn].duration;kn=Tn*bn}wn.duration=wn.duration*Tn,wn.duration=Math.round(wn.duration*1e6)/1e6,Bn=wn.duration}else Tn&&(dn.endTriplet?(Tn=0,wn.duration=Math.round((kn-Bn)*1e6)/1e6):(wn.duration=wn.duration*Tn,wn.duration=Math.round(wn.duration*1e6)/1e6,Bn+=wn.duration));dn.rest&&(wn.rest=dn.rest),dn.decoration&&(wn.decoration=dn.decoration.slice(0)),dn.pitches&&(wn.pitches=parseCommon$8.cloneArray(dn.pitches)),dn.gracenotes&&(wn.gracenotes=parseCommon$8.cloneArray(dn.gracenotes)),dn.chord&&(wn.chord=parseCommon$8.cloneArray(dn.chord)),Ct[Qt].push(wn),dn.style==="rhythm"&&nt(Ct),on++,$t[Qt]+=wn.duration}break;case"key":case"keySignature":lt(Ct[Qt],dn);break;case"meter":at(Ct[Qt],dn);break;case"clef":dn.transpose&&Ct[Qt].push({el_type:"transpose",transpose:dn.transpose}),dn.type&&(dn.type.indexOf("-8")>=0?Ct[Qt].push({el_type:"transpose",transpose:-12}):dn.type.indexOf("+8")>=0&&Ct[Qt].push({el_type:"transpose",transpose:12}));break;case"tempo":ht=ot(dn,ut.getBeatLength()),Ct[Qt].push({el_type:"tempo",qpm:ht,timing:$t[Qt]}),Ot[""+$t[Qt]]={el_type:"tempo",qpm:ht,timing:$t[Qt]};break;case"bar":on>0&&Ct[Qt].push({el_type:"bar"}),gn(dn),on=0;var Pn=dn.type==="bar_right_repeat"||dn.type==="bar_dbl_repeat",In=dn.startEnding==="1",Ln=dn.type==="bar_left_repeat"||dn.type==="bar_dbl_repeat"||dn.type==="bar_right_repeat";if(Pn){var Xn=Nt[Qt];Xn||(Xn=0);var rr=Ft[Qt];rr||(rr=Ct[Qt].length);for(var sr=Xn;sr<rr;sr++){var dr=parseCommon$8.clone(Ct[Qt][sr]);dr.pitches&&(dr.pitches=parseCommon$8.cloneArray(dr.pitches)),Ct[Qt].push(dr)}Ft[Qt]=void 0,Nt[Qt]=void 0}In&&(Ft[Qt]=Ct[Qt].length),Ln&&(Nt[Qt]=Ct[Qt].length);break;case"style":_t[Qt]=dn.head;break;case"timeSignature":Ct[Qt].push(st(dn));break;case"part":break;case"stem":case"scale":case"break":case"font":break;case"midi":var lr=!1;switch(dn.cmd){case"drumon":xt=!0,lr=!0;break;case"drumoff":xt=!1,lr=!0;break;case"drum":vt=dn.params,lr=!0;break;case"drumbars":yt=dn.params[0],lr=!0;break;case"drummap":break;case"channel":dn.params[0]===10&&Ct[Qt].push({el_type:"instrument",program:$});break;case"program":it(Ct[Qt],{el_type:"instrument",program:dn.params[0]}),gt=!0;break;case"transpose":Ct[Qt].push({el_type:"transpose",transpose:dn.params[0]});break;case"gchordoff":Ct[Qt].push({el_type:"gchord",tacet:!0});break;case"gchordon":Ct[Qt].push({el_type:"gchord",tacet:!1});break;case"beat":Ct[Qt].push({el_type:"beat",beats:dn.params});break;case"nobeataccents":Ct[Qt].push({el_type:"beataccents",value:!1});break;case"beataccents":Ct[Qt].push({el_type:"beataccents",value:!0});break;case"vol":Ct[Qt].push({el_type:"vol",volume:dn.params[0]});break;case"volinc":Ct[Qt].push({el_type:"volinc",volume:dn.params[0]});break;default:console.log("MIDI seq: midi cmd not handled: ",dn.cmd,dn)}lr&&(Ct[0].push({el_type:"drum",params:{pattern:vt,bars:yt,intro:bt,on:xt}}),Ht=!0);break;default:console.log("MIDI: element type "+dn.el_type+" not handled.")}}Qt++,$t[Qt]||($t[Qt]=0)}}}}if(tt(Ct,Ot),bt)for(var Gn=ut.getPickupLength(),Ut=0;Ut<Ct.length;Ut++){for(var ln=0;Ct[Ut][ln].el_type!=="note"&&Ct[Ut].length>ln;)ln++;if(Ct[Ut].length>ln)for(var Sn=0;Sn<bt;Sn++)Gn===0||Sn<bt-1?Ct[Ut].splice(ln,0,{el_type:"note",rest:{type:"rest"},duration:b},{el_type:"bar"}):Ct[Ut].splice(ln,0,{el_type:"note",rest:{type:"rest"},duration:b-Gn})}return Ct.length>0&&Ct[0].length>0&&(Ct[0][0].pickupLength=ut.getPickupLength()),Ct};function _e(ut,dt,ht){for(var ft=0,pt=dt+1;pt<ut.length;pt++)if(ut[pt].el_type==="note"&&ft++,ut[pt].decoration&&ut[pt].decoration.indexOf(ht)>=0)return ft;return ft}function et(ut,dt,ht){for(var ft=Math.min(ut.length,dt+3),pt=dt;pt<ft;pt++)if(ut[pt].el_type==="note"&&ut[pt].decoration){for(var mt=0;mt<ut[pt].decoration.length;mt++)if(ht.indexOf(ut[pt].decoration[mt])>=0)return ut[pt].decoration[mt]}return null}function tt(ut,dt){if(!(!dt||dt.length===0))for(var ht=Object.keys(dt),ft=0;ft<ut.length;ft++)for(var pt=ut[ft],mt=dt[0]?dt[0].qpm:0,gt=0;gt<pt.length;gt++){var vt=pt[gt];vt.el_type==="tempo"&&(mt=vt.qpm),ht.indexOf(""+vt.timing)>=0&&mt!==dt[""+vt.timing].qpm&&(mt=dt[""+vt.timing].qpm,vt.el_type==="tempo"?(vt.qpm=dt[""+vt.timing].qpm,gt++):(ut[ft].splice(gt,0,{el_type:"tempo",qpm:dt[""+vt.timing].qpm,timing:vt.timing}),gt+=2))}}function nt(ut){for(var dt=0;dt<ut.length;dt++)for(var ht=ut[dt],ft=ht.length-1;ft>=0&&ht[ft].el_type!=="bar";)ht[ft].noChordVoice=!0,ft--}function rt(ut,dt){if(!(!ut||ut.length<=dt||!ut[dt].title))return ut[dt].title.join(" ")}function ot(ut,dt){var ht=.25;ut.duration&&(ht=ut.duration[0]);var ft=60;return ut.bpm&&(ft=ut.bpm),ht*ft/dt}function st(ut){var dt;switch(ut.type){case"common_time":dt={el_type:"meter",num:4,den:4};break;case"cut_time":dt={el_type:"meter",num:2,den:2};break;case"specified":dt={el_type:"meter",num:ut.value[0].num,den:ut.value[0].den};break;default:dt={el_type:"meter"}}return b=dt.num/dt.den,dt}function ct(ut){for(var dt=[],ht=0;ht<ut.length;ht++)ut[ht].acc!=="natural"&&dt.push(ut[ht]);return dt}function lt(ut,dt){var ht;dt.root==="HP"?ht={el_type:"key",accidentals:[{acc:"natural",note:"g"},{acc:"sharp",note:"f"},{acc:"sharp",note:"c"}]}:ht={el_type:"key",accidentals:ct(dt.accidentals)},it(ut,ht)}function at(ut,dt){var ht=st(dt);it(ut,ht)}function it(ut,dt){for(var ht=ut.length-1;ht>=0;ht--)if(ut[ht].el_type===dt.el_type){JSON.stringify(ut[ht])!==JSON.stringify(dt)&&ut.push(dt);return}ut.push(dt)}})();var abc_midi_sequencer=sequence$2,pitchMap={f0:"_C",n0:"=C",s0:"^C",x0:"C",f1:"_D",n1:"=D",s1:"^D",x1:"D",f2:"_E",n2:"=E",s2:"^E",x2:"E",f3:"_F",n3:"=F",s3:"^F",x3:"F",f4:"_G",n4:"=G",s4:"^G",x4:"G",f5:"_A",n5:"=A",s5:"^A",x5:"A",f6:"_B",n6:"=B",s6:"^B",x6:"B",f7:"_c",n7:"=c",s7:"^c",x7:"c",f8:"_d",n8:"=d",s8:"^d",x8:"d",f9:"_e",n9:"=e",s9:"^e",x9:"e",f10:"_f",n10:"=f",s10:"^f",x10:"f",f11:"_g",n11:"=g",s11:"^g",x11:"g",f12:"_a",n12:"=a",s12:"^a",x12:"a",f13:"_b",n13:"=b",s13:"^b",x13:"b",f14:"_c'",n14:"=c'",s14:"^c'",x14:"c'",f15:"_d'",n15:"=d'",s15:"^d'",x15:"d'",f16:"_e'",n16:"=e'",s16:"^e'",x16:"e'"};function pitchesToPerc$2(b){var $=(b.accidental?b.accidental[0]:"x")+b.verticalPos;return pitchMap[$]}var pitchesToPerc_1=pitchesToPerc$2,flatten$1,parseCommon$7=abc_common,pitchesToPerc$1=pitchesToPerc_1;(function(){var b,$,_e,et,tt,nt=1,rt,ot,st,ct,lt,at={num:4,den:4},it,ut,dt,ht,ft=0,pt=0,mt=128,gt=64,vt=48,yt,bt,xt,_t,wt=!1,At=!1,Pt=!0,jt=105,kt=95,St=85,Ct=.25,Et,Tt,$t=0,Ot,Rt={},Nt,Ft=0,Ht,zt=0,an=-.001,Jt=.4;flatten$1=function(Vt,hn,cn,fn){hn||(hn={}),fn||(fn={}),b=[],$=[0,0,0,0,0,0,0],et=[],tt=hn.qpm,nt=1,rt=void 0,ot=void 0,st=void 0,ct=void 0,lt=0,Ht=cn,at={num:4,den:4},it=[],ut=!1,ht=Vt.length,dt=!1,yt=[],ft=fn.bassprog&&fn.bassprog.length===1?fn.bassprog[0]:0,pt=fn.chordprog&&fn.chordprog.length===1?fn.chordprog[0]:0,gt=fn.bassvol&&fn.bassvol.length===1?fn.bassvol[0]:64,vt=fn.chordvol&&fn.chordvol.length===1?fn.chordvol[0]:48,bt=void 0,xt=void 0,wt=!!hn.chordsOff,At=!1,Pt=!0,jt=105,kt=95,St=85,Ct=.25,Et=void 0,Tt=void 0,$t=0,Ot=[],Rt={},Nt=1,Vt.length>0&&Vt[0].length>0&&(Ft=Vt[0][0].pickupLength),Yt(Vt,hn);for(var Gt=0;Gt<Vt.length;Gt++){_e=0;var An=Vt[Gt];st=[{cmd:"program",channel:Gt,instrument:rt}],ct=void 0,_t=0;var zn=!1;(hn.voicesOff===!0||hn.voicesOff&&hn.voicesOff.length&&hn.voicesOff.indexOf(Gt)>=0)&&(zn=!0);for(var Zn=0;Zn<An.length;Zn++){var Vn=An[Zn];switch(Vn.el_type){case"name":ct={cmd:"text",type:"name",text:Vn.trackName};break;case"note":var Kn=dn(Vn,zn);Kn&&(ut=Gt);break;case"key":$=Pn(Vn);break;case"meter":at=Vn,Ct=rn(at),Un();break;case"tempo":tt?nt=Vn.qpm?tt/Vn.qpm:1:tt=Vn.qpm;break;case"transpose":_e=Vn.transpose;break;case"bar":it.length>0&&(ut===!1||Gt===ut)&&(Fn(_t,qt(Vn.time)),yt=[]),b=[],Gt===0&&or(Vt.length+1),At=!1,xt=bt,_t=qt(Vn.time);break;case"bagpipes":break;case"instrument":if(rt===void 0&&(rt=Vn.program),ot=Vn.program,st.length>0&&st[st.length-1].cmd==="program")st[st.length-1].instrument=Vn.program;else{var Wn;for(Wn=st.length-1;Wn>=0&&st[Wn].cmd!=="program";Wn--);(Wn<0||st[Wn].instrument!==Vn.program)&&st.push({cmd:"program",channel:0,instrument:Vn.program})}break;case"channel":Zt(Vn.channel);break;case"drum":Rt=Dn(Vn.params),Un();break;case"gchord":hn.chordsOff||(wt=Vn.tacet);break;case"beat":jt=Vn.beats[0],kt=Vn.beats[1],St=Vn.beats[2];break;case"vol":Et=Vn.volume;break;case"volinc":Tt=Vn.volume;break;case"beataccents":Pt=Vn.value;break;default:console.log("MIDI creation. Unknown el_type: "+Vn.el_type+`
`);break}}st[0].instrument===void 0&&(st[0].instrument=rt||0),ct&&st.unshift(ct),et.push(st),Qt()||(dt=!0),Ot.length>0}return hn.detuneOctave&&tr(et,parseInt(hn.detuneOctave,10)),Qt()||et.push(it),Ot.length>0&&et.push(Ot),{tempo:tt,instrument:rt,tracks:et,totalDuration:lt}};function Zt(Vt){for(var hn=st.length-1;hn>=0;hn--)if(st[hn].cmd==="program"){st[hn].channel=Vt;return}}function Qt(){for(var Vt=!0,hn=0;hn<it.length&&Vt;hn++)it[hn].cmd==="note"&&(Vt=!1);return Vt}function qt(Vt){return Vt/1e6}function vn(Vt){return Math.round(Vt*nt*1e6)/1e6}function Yt(Vt,hn){for(var cn=0;cn<Vt.length;cn++){for(var fn=Vt[cn],Gt={},An=hn.qpm,zn=0,Zn=1,Vn=0;Vn<fn.length;Vn++){var Kn=fn[Vn];if(Kn.el_type==="tempo"){An?Zn=Kn.qpm?An/Kn.qpm:1:An=Kn.qpm;continue}Kn.time=zn;var Wn=Kn.duration?Kn.duration:0;if(zn+=Math.round(Wn*Zn*1e6),Kn.pitches){for(var Qn=0;Qn<Kn.pitches.length;Qn++){var nr=Kn.pitches[Qn];if(nr){if(nr.duration=Kn.duration,nr.startTie)Gt[nr.pitch]===void 0?Gt[nr.pitch]={el:Vn,pitch:Qn}:(fn[Gt[nr.pitch].el].pitches[Gt[nr.pitch].pitch].duration+=nr.duration,Kn.pitches[Qn]=null);else if(nr.endTie){var ar=Gt[nr.pitch];if(ar){var yr=nr.duration;delete fn[ar.el].pitches[ar.pitch].startTie,fn[ar.el].pitches[ar.pitch].duration+=yr,Kn.pitches[Qn]=null,delete Gt[nr.pitch]}else delete nr.endTie}}}delete Kn.duration}}for(var vr in Gt)if(Gt.hasOwnProperty(vr)){var gr=Gt[vr];delete fn[gr.el].pitches[gr.pitch].startTie}}}function rn(Vt){switch(parseInt(Vt.den,10)){case 2:return .5;case 4:return .25;case 8:return Vt.num%3===0?.375:.125;case 16:return .125}return .25}var pn=["break","(break)","no chord","n.c.","tacet"];function $n(Vt){if(wt)return"break";if(dt||!Vt.chord||Vt.chord.length===0)return null;for(var hn=0;hn<Vt.chord.length;hn++){var cn=Vt.chord[hn];if(cn.position==="default")return cn.name;if(pn.indexOf(cn.name.toLowerCase())>=0)return"break"}return null}function on(Vt,hn,cn){var fn=cn-Vt;return fn/hn}function Tn(Vt,hn){if(hn)return 0;var cn;if(Et)cn=Et,Et=void 0;else if(!Pt)cn=kt;else if(Ft>Vt)cn=St;else{at.num/at.den;var fn=on(_t,rn(at),Vt);fn===0?cn=jt:parseInt(fn,10)===fn?cn=kt:cn=St}return Tt&&(cn+=Tt,Tt=void 0),cn<0&&(cn=0),cn>127&&(cn=127),hn?0:cn}function kn(Vt){var hn=!1,cn=$n(Vt);if(cn){var fn=lr(cn);if(fn){it.length===0&&(hn=!0,it.push({cmd:"program",channel:ht,instrument:pt})),bt=fn;var Gt=on(_t,rn(at),qt(Vt.time));yt.push({chord:bt,beat:Gt,start:qt(Vt.time)})}}return hn}function Bn(Vt,hn){var cn={};if(Vt.decoration)for(var fn=0;fn<Vt.decoration.length;fn++)Vt.decoration[fn]==="staccato"?cn.thisBreakBetweenNotes="staccato":Vt.decoration[fn]==="tenuto"?cn.thisBreakBetweenNotes="tenuto":Vt.decoration[fn]==="accent"?cn.velocity=Math.min(127,hn*1.5):Vt.decoration[fn]==="trill"?cn.noteModification="trill":Vt.decoration[fn]==="lowermordent"?cn.noteModification="lowermordent":Vt.decoration[fn]==="uppermordent"||Vt.decoration[fn]==="mordent"?cn.noteModification="mordent":Vt.decoration[fn]==="turn"?cn.noteModification="turn":Vt.decoration[fn]==="roll"&&(cn.noteModification="roll");return cn}function On(Vt,hn){var cn=hn.start,fn=hn.duration,Gt=vn(1/32);switch(Vt){case"trill":for(var An=1;fn>0;)st.push({cmd:"note",pitch:hn.pitch+An,volume:hn.volume,start:cn,duration:Gt,gap:0,instrument:ot,style:"decoration"}),An=An===1?0:1,fn-=Gt,cn+=Gt;break;case"mordent":st.push({cmd:"note",pitch:hn.pitch,volume:hn.volume,start:cn,duration:Gt,gap:0,instrument:ot,style:"decoration"}),fn-=Gt,cn+=Gt,st.push({cmd:"note",pitch:hn.pitch+1,volume:hn.volume,start:cn,duration:Gt,gap:0,instrument:ot,style:"decoration"}),fn-=Gt,cn+=Gt,st.push({cmd:"note",pitch:hn.pitch,volume:hn.volume,start:cn,duration:fn,gap:0,instrument:ot});break;case"lowermordent":st.push({cmd:"note",pitch:hn.pitch,volume:hn.volume,start:cn,duration:Gt,gap:0,instrument:ot,style:"decoration"}),fn-=Gt,cn+=Gt,st.push({cmd:"note",pitch:hn.pitch-1,volume:hn.volume,start:cn,duration:Gt,gap:0,instrument:ot,style:"decoration"}),fn-=Gt,cn+=Gt,st.push({cmd:"note",pitch:hn.pitch,volume:hn.volume,start:cn,duration:fn,gap:0,instrument:ot});break;case"turn":Gt=hn.duration/5,st.push({cmd:"note",pitch:hn.pitch,volume:hn.volume,start:cn,duration:Gt,gap:0,instrument:ot,style:"decoration"}),st.push({cmd:"note",pitch:hn.pitch+1,volume:hn.volume,start:cn+Gt,duration:Gt,gap:0,instrument:ot,style:"decoration"}),st.push({cmd:"note",pitch:hn.pitch,volume:hn.volume,start:cn+Gt*2,duration:Gt,gap:0,instrument:ot,style:"decoration"}),st.push({cmd:"note",pitch:hn.pitch+1,volume:hn.volume,start:cn+Gt*3,duration:Gt,gap:0,instrument:ot,style:"decoration"}),st.push({cmd:"note",pitch:hn.pitch,volume:hn.volume,start:cn+Gt*4,duration:Gt,gap:0,instrument:ot});break;case"roll":for(;fn>0;)st.push({cmd:"note",pitch:hn.pitch,volume:hn.volume,start:cn,duration:Gt,gap:0,instrument:ot,style:"decoration"}),fn-=Gt*2,cn+=Gt*2;break}}function dn(Vt,hn){st.length;var cn=Tn(qt(Vt.time),hn),fn=kn(Vt),Gt;if(Vt.gracenotes&&Vt.pitches&&Vt.pitches.length>0&&Vt.pitches[0]&&(Gt=In(Vt.gracenotes,Vt.pitches[0].duration),Vt.elem&&(Vt.elem.midiGraceNotePitches=Ln(Gt,qt(Vt.time),cn*2/3,ot))),Vt.elem){var An=qt(Vt.time),zn=An/Ct/tt*60*1e3;if(Vt.elem.currentTrackMilliseconds===void 0)Vt.elem.currentTrackMilliseconds=zn,Vt.elem.currentTrackWholeNotes=An;else if(Vt.elem.currentTrackMilliseconds.length===void 0)Vt.elem.currentTrackMilliseconds!==zn&&(Vt.elem.currentTrackMilliseconds=[Vt.elem.currentTrackMilliseconds,zn],Vt.elem.currentTrackWholeNotes=[Vt.elem.currentTrackWholeNotes,An]);else{for(var Zn=!1,Vn=0;Vn<Vt.elem.currentTrackMilliseconds.length;Vn++)Vt.elem.currentTrackMilliseconds[Vn]===zn&&(Zn=!0);Zn||(Vt.elem.currentTrackMilliseconds.push(zn),Vt.elem.currentTrackWholeNotes.push(An))}}if(Vt.pitches){var Kn="",Wn=Bn(Vt,cn);Wn.thisBreakBetweenNotes&&(Kn=Wn.thisBreakBetweenNotes),Wn.velocity&&(cn=Wn.velocity);var Qn=Vt.pitches;if(Vt.style==="rhythm"&&(At=!0,bt&&bt.chick)){Qn=[];for(var nr=0;nr<bt.chick.length;nr++){var ar=parseCommon$7.clone(Vt.pitches[0]);ar.actualPitch=bt.chick[nr],Qn.push(ar)}}Vt.elem&&(Vt.elem.midiPitches=[]);for(var yr=0;yr<Qn.length;yr++){var vr=Qn[yr];if(vr){vr.startSlur&&($t+=vr.startSlur.length),vr.endSlur&&($t-=vr.endSlur.length);var gr=vr.actualPitch?vr.actualPitch:Sn(vr);if(ot===mt&&Ht){var mr=pitchesToPerc$1(vr);mr&&Ht[mr]&&(gr=Ht[mr].sound)}var qn={cmd:"note",pitch:gr,volume:cn,start:qt(Vt.time),duration:vn(vr.duration),instrument:ot,startChar:Vt.elem.startChar,endChar:Vt.elem.endChar};if(qn=Xn(qn),Vt.gracenotes&&(qn.duration=qn.duration/2,qn.start=qn.start+qn.duration),Vt.elem&&Vt.elem.midiPitches.push(qn),Wn.noteModification)On(Wn.noteModification,qn);else{switch($t>0?qn.endType="tenuto":Kn&&(qn.endType=Kn),qn.endType){case"tenuto":qn.gap=an;break;case"staccato":var Er=qn.duration*Jt;qn.gap=tt/60*Er;break;default:qn.gap=zt;break}st.push(qn)}}}st.length-1}var Sr=wn(Vt);return lt=Math.max(lt,qt(Vt.time)+vn(Sr)),fn}function wn(Vt){return Vt.pitches&&Vt.pitches.length>0&&Vt.pitches[0]?Vt.pitches[0].duration:Vt.elem?Vt.elem.duration:Vt.duration}var bn=[0,2,4,5,7,9,11];function Sn(Vt){if(Vt.midipitch!==void 0)return Vt.midipitch;var hn=Vt.pitch;if(Vt.accidental)switch(Vt.accidental){case"sharp":b[hn]=1;break;case"flat":b[hn]=-1;break;case"natural":b[hn]=0;break;case"dblsharp":b[hn]=2;break;case"dblflat":b[hn]=-2;break;case"quartersharp":b[hn]=.25;break;case"quarterflat":b[hn]=-.25;break}var cn=rr(hn)*12+bn[sr(hn)]+60;return b[hn]!==void 0?cn+=b[hn]:cn+=$[sr(hn)],cn+=_e,cn}function Pn(Vt){var hn=[0,0,0,0,0,0,0];if(!Vt.accidentals)return hn;for(var cn=0;cn<Vt.accidentals.length;cn++){var fn=Vt.accidentals[cn],Gt;switch(fn.acc){case"flat":Gt=-1;break;case"quarterflat":Gt=-.25;break;case"sharp":Gt=1;break;case"quartersharp":Gt=.25;break;default:Gt=0;break}var An=fn.note.toLowerCase(),zn=sr(An.charCodeAt(0)-99);hn[zn]+=Gt}return hn}function In(Vt,hn){for(var cn=0,fn=[],Gt,An=0;An<Vt.length;An++)Gt=Vt[An],cn+=Gt.duration;var zn=hn/2/cn;for(An=0;An<Vt.length;An++){Gt=Vt[An];var Zn=Sn(Gt);if(ot===mt&&Ht){var Vn=pitchesToPerc$1(Gt);Vn&&Ht[Vn]&&(Zn=Ht[Vn].sound)}var Kn={pitch:Zn,duration:Gt.duration*zn};Kn=Xn(Kn),fn.push(Kn)}return fn}function Ln(Vt,hn,cn,fn){var Gt=[];cn=Math.round(cn);for(var An=0;An<Vt.length;An++){var zn=Vt[An];st.push({cmd:"note",pitch:zn.pitch,volume:cn,start:hn,duration:zn.duration,gap:0,instrument:fn,style:"grace"}),Gt.push({pitch:zn.pitch,durationInMeasures:zn.duration,volume:cn,instrument:fn}),hn+=zn.duration}return Gt}function Xn(Vt){var hn=""+Vt.pitch;return hn.indexOf(".75")>=0?(Vt.pitch=Math.round(Vt.pitch),Vt.cents=-50):hn.indexOf(".25")>=0&&(Vt.pitch=Math.round(Vt.pitch),Vt.cents=50),Vt}function rr(Vt){return Math.floor(Vt/7)}function sr(Vt){return Vt=Vt%7,Vt<0&&(Vt+=7),Vt}var dr={A:33,B:35,C:36,D:38,E:40,F:41,G:43};function lr(Vt){if(Vt.length!==0){if(Vt==="break")return{chick:[]};var hn=Vt.substring(0,1);if(hn==="("){if(Vt=Vt.substring(1,Vt.length-2),Vt.length===0)return;hn=Vt.substring(0,1)}var cn=dr[hn];if(cn){for(var fn=_e;fn<-8;)fn+=12;for(;fn>8;)fn-=12;cn+=fn;var Gt=cn-5,An;Vt.length===1&&(An=Ut(cn,""));var zn=Vt.substring(1),Zn=zn.substring(0,1);Zn==="b"||Zn==="♭"?(cn--,Gt--,zn=zn.substring(1)):(Zn==="#"||Zn==="♯")&&(cn++,Gt++,zn=zn.substring(1));var Vn=zn.split("/");if(An=Ut(cn,Vn[0]),An.length>=3){var Kn=An[2]-An[0];Gt=Gt+Kn-7}if(Vn.length===2){var Wn=dr[Vn[1].substring(0,1)];if(Wn){var Qn=Vn[1].substring(1),nr={"#":1,"♯":1,b:-1,"♭":-1}[Qn]||0;cn=dr[Vn[1].substring(0,1)]+nr+fn,Gt=cn}}return{boom:cn,boom2:Gt,chick:An}}}}var Gn={dim:[0,3,6],"°":[0,3,6],"˚":[0,3,6],dim7:[0,3,6,9],"°7":[0,3,6,9],"˚7":[0,3,6,9],ø7:[0,3,6,10],"m7(b5)":[0,3,6,10],m7b5:[0,3,6,10],"m7♭5":[0,3,6,10],"-7(b5)":[0,3,6,10],"-7b5":[0,3,6,10],"7b5":[0,4,6,10],"7(b5)":[0,4,6,10],"7♭5":[0,4,6,10],"7(b9,b5)":[0,4,6,10,13],"7b9,b5":[0,4,6,10,13],"7(#9,b5)":[0,4,6,10,15],"7#9b5":[0,4,6,10,15],"maj7(b5)":[0,4,6,11],maj7b5:[0,4,6,11],"13(b5)":[0,4,6,10,14,21],"13b5":[0,4,6,10,14,21],m:[0,3,7],"-":[0,3,7],m6:[0,3,7,9],"-6":[0,3,7,9],m7:[0,3,7,10],"-7":[0,3,7,10],"-(b6)":[0,3,7,8],"-b6":[0,3,7,8],"-6/9":[0,3,7,9,14],"-7(b9)":[0,3,7,10,13],"-7b9":[0,3,7,10,13],"-maj7":[0,3,7,11],"-9+7":[0,3,7,11,13],"-11":[0,3,7,11,14,17],m11:[0,3,7,11,14,17],"-maj9":[0,3,7,11,14],"-∆9":[0,3,7,11,14],mM9:[0,3,7,11,14],M:[0,4,7],6:[0,4,7,9],"6/9":[0,4,7,9,14],"6add9":[0,4,7,9,14],69:[0,4,7,9,14],7:[0,4,7,10],9:[0,4,7,10,14],11:[0,7,10,14,17],13:[0,4,7,10,14,21],"7b9":[0,4,7,10,13],"7♭9":[0,4,7,10,13],"7(b9)":[0,4,7,10,13],"7(#9)":[0,4,7,10,15],"7#9":[0,4,7,10,15],"(13)":[0,4,7,10,14,21],"7(9,13)":[0,4,7,10,14,21],"7(#9,b13)":[0,4,7,10,15,20],"7(#11)":[0,4,7,10,14,18],"7#11":[0,4,7,10,14,18],"7(b13)":[0,4,7,10,20],"7b13":[0,4,7,10,20],"9(#11)":[0,4,7,10,14,18],"9#11":[0,4,7,10,14,18],"13(#11)":[0,4,7,10,18,21],"13#11":[0,4,7,10,18,21],maj7:[0,4,7,11],"∆7":[0,4,7,11],Δ7:[0,4,7,11],maj9:[0,4,7,11,14],"maj7(9)":[0,4,7,11,14],"maj7(11)":[0,4,7,11,17],"maj7(#11)":[0,4,7,11,18],"maj7(13)":[0,4,7,14,21],"maj7(9,13)":[0,4,7,11,14,21],"7sus4":[0,5,7,10],m7sus4:[0,3,7,10,17],sus4:[0,5,7],sus2:[0,2,7],"7sus2":[0,2,7,10],"9sus4":[0,5,7,10,14],"13sus4":[0,5,7,10,14,21],aug7:[0,4,8,10],"+7":[0,4,8,10],"+":[0,4,8],"7#5":[0,4,8,10],"7♯5":[0,4,8,10],"7+5":[0,4,8,10],"9#5":[0,4,8,10,14],"9♯5":[0,4,8,10,14],"9+5":[0,4,8,10,14],"-7(#5)":[0,3,8,10],"-7#5":[0,3,8,10],"7(#5)":[0,4,8,10],"7(b9,#5)":[0,4,8,10,13],"7b9#5":[0,4,8,10,13],"maj7(#5)":[0,4,8,11],"maj7#5":[0,4,8,11],"maj7(#5,#11)":[0,4,8,11,18],"maj7#5#11":[0,4,8,11,18],"9(#5)":[0,4,8,10,14],"13(#5)":[0,4,8,10,14,21],"13#5":[0,4,8,10,14,21]};function Ut(Vt,hn){var cn=Gn[hn];cn||(hn.slice(0,2).toLowerCase()==="ma"||hn[0]==="M"?cn=Gn.M:hn[0]==="m"||hn[0]==="-"?cn=Gn.m:cn=Gn.M),Vt+=12;for(var fn=[],Gt=0;Gt<cn.length;Gt++)fn.push(Vt+cn[Gt]);return fn}function ln(Vt,hn,cn,fn,Gt){Vt!==void 0&&it.push({cmd:"note",pitch:Vt,volume:cn,start:_t+fn*vn(hn),duration:vn(Gt),gap:0,instrument:ft})}function gn(Vt,hn,cn,fn,Gt){for(var An=0;An<Vt.length;An++)it.push({cmd:"note",pitch:Vt[An],volume:cn,start:_t+fn*vn(hn),duration:vn(Gt),gap:0,instrument:pt})}var Cn={"2/2":["boom","chick"],"2/4":["boom","chick"],"3/4":["boom","chick","chick"],"4/4":["boom","chick","boom2","chick"],"5/4":["boom","chick","chick","boom2","chick"],"6/8":["boom","","chick","boom2","","chick"],"9/8":["boom","","chick","boom2","","chick","boom2","","chick"],"12/8":["boom","","chick","boom2","","chick","boom","","chick","boom2","","chick"]};function Fn(Vt,hn){var cn=at.num,fn=at.den,Gt=1/fn,An=Gt/2,zn=Cn[cn+"/"+fn],Zn=parseInt(cn,10)/parseInt(fn,10),Vn=Zn-(hn-Vt)/nt;if(Math.abs(Vn)<1e-5&&(Vn=!1),!zn||Vn){zn=[];for(var Kn=(hn-Vt)/nt/Gt,Wn=0;Wn<Kn;Wn++)zn.push("chick")}if(yt.length===0&&yt.push({beat:0,chord:bt}),yt[0].beat!==0&&bt&&xt&&yt.unshift({beat:0,chord:xt}),yt.length===1){for(var Qn=yt[0].beat;Qn<zn.length;Qn++)if(!At)switch(zn[Qn]){case"boom":ln(yt[0].chord.boom,Gt,gt,Qn,An);break;case"boom2":ln(yt[0].chord.boom2,Gt,gt,Qn,An);break;case"chick":gn(yt[0].chord.chick,Gt,vt,Qn,An);break}return}for(var nr=Gt===.125?3:1,ar={},yr=0;yr<yt.length;yr++){var vr=yt[yr],gr=Math.round(vr.beat*nr);ar[""+gr]=vr}for(var mr=0;mr<zn.length;mr++){var qn;ar[""+mr]&&(qn=ar[""+mr]);var Er;if(!At&&qn)switch(zn[mr]){case"boom":ar[""+(mr+1)]?gn(qn.chord.chick,Gt,vt,mr,An):(ln(qn.chord.boom,Gt,gt,mr,An),Er=qn.chord.boom);break;case"boom2":ar[""+(mr+1)]?gn(qn.chord.chick,Gt,vt,mr,An):Er===qn.chord.boom?(ln(qn.chord.boom2,Gt,gt,mr,An),Er=void 0):(ln(qn.chord.boom,Gt,gt,mr,An),Er=qn.chord.boom);break;case"chick":gn(qn.chord.chick,Gt,vt,mr,An);break;case"":ar[""+mr]&&gn(qn.chord.chick,Gt,vt,mr,An);break}}}function Dn(Vt){if(Vt.pattern.length===0||Vt.on===!1)return{on:!1};for(var hn=Vt.pattern[0],cn=[],fn="",Gt=0,An=0;An<hn.length;An++)if(hn[An]==="d"&&Gt++,hn[An]==="d"||hn[An]==="z")fn.length!==0?(cn.push(fn),fn=hn[An]):fn=fn+hn[An];else{if(fn.length===0)return{on:!1};fn=fn+hn[An]}if(fn.length!==0&&cn.push(fn),Vt.pattern.length!==Gt*2+1)return{on:!1};for(var zn={on:!0,bars:Vt.bars,pattern:[]},Zn=rn(at),Vn=0,Kn=0;Kn<cn.length;Kn++){fn=cn[Kn];for(var Wn=1,Qn=!1,nr=0,ar=1;ar<fn.length;ar++)switch(fn[ar]){case"/":nr!==0&&(Wn*=nr),nr=0,Qn=!0;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":nr=nr*10+fn[ar];break;default:return{on:!1}}Qn?(nr===0&&(nr=2),Wn/=nr):nr&&(Wn*=nr),fn[0]==="d"?(zn.pattern.push({len:Wn*Zn,pitch:Vt.pattern[1+Vn],velocity:Vt.pattern[1+Vn+Gt]}),Vn++):zn.pattern.push({len:Wn*Zn,pitch:null})}return Nt=Vt.bars?Vt.bars:1,zn}function Un(){if(!(!Rt||!Rt.pattern)){for(var Vt=Rt,hn=0,cn=at.num/at.den,fn=0;fn<Vt.pattern.length;fn++)hn+=Vt.pattern[fn].len;var Gt=hn/Nt/cn;for(fn=0;fn<Vt.pattern.length;fn++)Vt.pattern[fn].len=Vt.pattern[fn].len/Gt;Rt=Vt}}function or(Vt){if(!(Ot.length===0&&!Rt.on)){var hn=at.num/at.den;if(Ot.length===0){if(lt<hn)return;Ot.push({cmd:"program",channel:Vt,instrument:mt})}if(Rt.on)for(var cn=_t,fn=0;fn<Rt.pattern.length;fn++){var Gt=vn(Rt.pattern[fn].len);Rt.pattern[fn].pitch&&Ot.push({cmd:"note",pitch:Rt.pattern[fn].pitch,volume:Rt.pattern[fn].velocity,start:cn,duration:Gt,gap:0,instrument:mt}),cn+=Gt}}}function tr(Vt,hn){for(var cn={},fn=0;fn<Vt.length;fn++)for(var Gt=0;Gt<Vt[fn].length;Gt++){var An=Vt[fn][Gt];An.cmd==="note"&&(cn[An.start]===void 0&&(cn[An.start]=[]),cn[An.start].push({track:fn,event:Gt,pitch:An.pitch}))}var zn=Object.keys(cn);for(fn=0;fn<zn.length;fn++){var Zn=cn[zn[fn]];if(Zn.length>1){Zn=Zn.sort(function(nr,ar){return nr.pitch-ar.pitch});var Vn=Zn[Zn.length-1],Kn=Vn.pitch%12,Wn=!1;for(Gt=0;!Wn&&Gt<Zn.length-1;Gt++)Zn[Gt].pitch%12===Kn&&(Wn=!0);if(Wn){var Qn=Vt[Vn.track][Vn.event];Qn.cents||(Qn.cents=0),Qn.cents+=hn}}}}})();var abc_midi_flattener=flatten$1;function delineTune$1(b,$){$||($={});for(var _e=!!$.lineBreaks,et=[],tt=!1,nt=[],rt=[],ot=[],st=[],ct=[],lt=[],at=[],it=0;it<b.length;it++){var ut=b[it];if(ut.staff){if(tt&&!ut.vskip)for(var dt=et[et.length-1],ht=0;ht<dt.staff.length;ht++){var ft=ut.staff[ht],pt=dt.staff[ht];if(ft&&(objEqual(ft.meter,nt[ht])||(addMeterToVoices(ft.meter,ft.voices),nt[ht]=ft.meter,delete ft.meter),objEqual(ft.key,rt[ht])||(addKeyToVoices(ft.key,ft.voices),rt[ht]=ft.key,delete ft.key),ft.title&&(pt.abbrevTitle=ft.title),objEqual(ft.clef,ot[ht])||(addClefToVoices(ft.clef,ft.voices),ot[ht]=ft.clef,delete ft.clef),objEqual(ft.vocalfont,st[ht])||(addFontToVoices(ft.vocalfont,ft.voices,"vocalfont"),st[ht]=ft.vocalfont,delete ft.vocalfont),objEqual(ft.gchordfont,ct[ht])||(addFontToVoices(ft.gchordfont,ft.voices,"gchordfont"),ct[ht]=ft.gchordfont,delete ft.gchordfont),objEqual(ft.tripletfont,lt[ht])||(addFontToVoices(ft.tripletfont,ft.voices,"tripletfont"),lt[ht]=ft.tripletfont,delete ft.tripletfont),objEqual(ft.annotationfont,at[ht])||(addFontToVoices(ft.annotationfont,ft.voices,"annotationfont"),at[ht]=ft.annotationfont,delete ft.annotationfont)),ft)for(var mt=0;mt<pt.voices.length;mt++){var gt=pt.voices[mt],vt=ft.voices[mt];_e&&gt.push({el_type:"break"}),vt&&(pt.voices[mt]=gt.concat(vt))}}else{for(var yt=0;yt<ut.staff.length;yt++)rt[yt]=ut.staff[yt].key,nt[yt]=ut.staff[yt].meter,ot[yt]=ut.staff[yt].clef;et.push(cloneLine(ut))}tt=!0}else tt=!1,et.push(ut)}return et}function replacer(b,$){return b==="abselem"?"abselem":$}function addMeterToVoices(b,$){b.el_type="meter",b.startChar=-1,b.endChar=-1;for(var _e=0;_e<$.length;_e++)$[_e].unshift(b)}function addKeyToVoices(b,$){b.el_type="key",b.startChar=-1,b.endChar=-1;for(var _e=0;_e<$.length;_e++)$[_e].unshift(b)}function addClefToVoices(b,$){b.el_type="clef",b.startChar=-1,b.endChar=-1;for(var _e=0;_e<$.length;_e++)$[_e].unshift(b)}function addFontToVoices(b,$,_e){b.el_type="font",b.type=_e,b.startChar=-1,b.endChar=-1;for(var et=0;et<$.length;et++)$[et].unshift(b)}function objEqual(b,$){if(!b)return!0;var _e=JSON.stringify(b,replacer),et=JSON.stringify($,replacer);return _e===et}function cloneLine(b){for(var $={},_e=Object.keys(b),et=0;et<_e.length;et++)if(_e[et]!=="staff")$[_e[et]]=b[_e[et]];else{$.staff=[];for(var tt=0;tt<b.staff.length;tt++){for(var nt={},rt=Object.keys(b.staff[tt]),ot=0;ot<rt.length;ot++)if(rt[ot]!=="voices")nt[rt[ot]]=b.staff[tt][rt[ot]];else{nt.voices=[];for(var st=0;st<b.staff[tt].voices.length;st++)nt.voices.push([].concat(b.staff[tt].voices[st]))}$.staff.push(nt)}}return $}var delineTune_1=delineTune$1,parseCommon$6=abc_common,spacing$d=spacing_1,sequence$1=abc_midi_sequencer,flatten=abc_midi_flattener,delineTune=delineTune_1,Tune$1=function(){this.reset=function(){this.version="1.1.0",this.media="screen",this.metaText={},this.metaTextInfo={},this.formatting={},this.lines=[],this.staffNum=0,this.voiceNum=0,this.lineNum=0,this.runningFonts={},delete this.visualTranspose},this.reset();function b(rt,ot,st,ct){for(var lt=0;lt<ct.length;lt++)rt[st][ct[lt]]=ot[st][ct[lt]]}this.copyTopInfo=function(rt){var ot=["tempo","title","header","rhythm","origin","composer","author","partOrder"];b(this,rt,"metaText",ot),b(this,rt,"metaTextInfo",ot)},this.copyBottomInfo=function(rt){var ot=["unalignedWords","book","source","discography","notes","transcription","history","abc-copyright","abc-creator","abc-edited-by","footer"];b(this,rt,"metaText",ot),b(this,rt,"metaTextInfo",ot)},this.getBeatLength=function(){var rt=this.getMeterFraction(),ot=1;return(rt.num===6||rt.num===9||rt.num===12||rt.num===3&&rt.den===8)&&(ot=3),ot/rt.den};function $(rt,ot){for(var st=0,ct=0;ct<rt.length;ct++)if(rt[ct].staff)for(var lt=0;lt<rt[ct].staff.length;lt++)for(var at=0;at<rt[ct].staff[lt].voices.length;at++)for(var it=rt[ct].staff[lt].voices[at],ut=1,dt=0;dt<it.length;dt++){var ht=it[dt].rest&&it[dt].rest.type==="spacer";if(it[dt].startTriplet&&(ut=it[dt].tripletMultiplier),it[dt].duration&&!ht&&it[dt].el_type!=="tempo"&&(st+=it[dt].duration*ut),it[dt].endTriplet&&(ut=1),st>=ot&&(st-=ot),it[dt].el_type==="bar")return st}return st}this.getPickupLength=function(){var rt=this.getBarLength(),ot=$(this.lines,rt);return ot<1e-8||rt-ot<1e-8?0:ot},this.getBarLength=function(){var rt=this.getMeterFraction();return rt.num/rt.den},this.getTotalTime=function(){return this.totalTime},this.getTotalBeats=function(){return this.totalBeats},this.millisecondsPerMeasure=function(rt){var ot;if(rt)ot=rt;else{var st=this.metaText?this.metaText.tempo:null;ot=this.getBpm(st)}ot<=0&&(ot=1);var ct=this.getBeatsPerMeasure(),lt=ct/ot;return lt*6e4},this.getBeatsPerMeasure=function(){var rt=this.getBeatLength(),ot=this.getBarLength();return ot/rt},this.getMeter=function(){for(var rt=0;rt<this.lines.length;rt++){var ot=this.lines[rt];if(ot.staff)for(var st=0;st<ot.staff.length;st++){var ct=ot.staff[st].meter;if(ct)return ct}}return{type:"common_time"}},this.getMeterFraction=function(){var rt=this.getMeter(),ot=4,st=4;return rt&&(rt.type==="specified"?(ot=parseInt(rt.value[0].num,10),st=parseInt(rt.value[0].den,10)):rt.type==="cut_time"?(ot=2,st=2):rt.type==="common_time"&&(ot=4,st=4)),this.meter={num:ot,den:st},this.meter},this.getKeySignature=function(){for(var rt=0;rt<this.lines.length;rt++){var ot=this.lines[rt];if(ot.staff){for(var st=0;st<ot.staff.length;st++)if(ot.staff[st].key)return ot.staff[st].key}}return{}},this.getElementFromChar=function(rt){for(var ot=0;ot<this.lines.length;ot++){var st=this.lines[ot];if(st.staff)for(var ct=0;ct<st.staff.length;ct++)for(var lt=st.staff[ct],at=0;at<lt.voices.length;at++)for(var it=lt.voices[at],ut=0;ut<it.length;ut++){var dt=it[ut];if(dt.startChar&&dt.endChar&&dt.startChar<=rt&&dt.endChar>rt)return dt}}return null};function _e(rt){for(var ot,st,ct,lt,at=rt.length-1;at>=0;at--){var it=rt[at];it.type==="bar"?(it.top=ct,it.nextTop=ot,ot=ct,it.bottom=lt,it.nextBottom=st,st=lt):it.type==="event"&&(ct=it.top,lt=it.top+it.height)}}function et(rt){var ot=[];for(var st in rt)rt.hasOwnProperty(st)&&ot.push(rt[st]);return ot=ot.sort(function(ct,lt){var at=ct.milliseconds-lt.milliseconds;return at!==0?at:ct.type==="bar"?-1:1}),ot}this.addElementToEvents=function(rt,ot,st,ct,lt,at,it,ut,dt,ht){if(ot.hint)return{isTiedState:void 0,duration:0};var ft=ot.durationClass?ot.durationClass:ot.duration;if(ot.abcelem.rest&&ot.abcelem.rest.type==="spacer"&&(ft=0),ft>0){for(var pt=[],mt=0;mt<ot.elemset.length;mt++)ot.elemset[mt]!==null&&pt.push(ot.elemset[mt]);var gt=ot.startTie;if(dt!==void 0)rt["event"+dt].elements.push(pt),ht&&(rt["event"+st]||(rt["event"+st]={type:"event",milliseconds:st,line:at,measureNumber:it,top:ct,height:lt,left:null,width:0,elements:[],startChar:null,endChar:null,startCharArray:[],endCharArray:[]}),rt["event"+st].measureStart=!0,ht=!1),gt||(dt=void 0);else{if(!rt["event"+st])rt["event"+st]={type:"event",milliseconds:st,line:at,measureNumber:it,top:ct,height:lt,left:ot.x,width:ot.w,elements:[pt],startChar:ot.abcelem.startChar,endChar:ot.abcelem.endChar,startCharArray:[ot.abcelem.startChar],endCharArray:[ot.abcelem.endChar],midiPitches:ot.abcelem.midiPitches?parseCommon$6.cloneArray(ot.abcelem.midiPitches):[]},ot.abcelem.midiGraceNotePitches&&(rt["event"+st].midiGraceNotePitches=parseCommon$6.cloneArray(ot.abcelem.midiGraceNotePitches));else{if(rt["event"+st].left?rt["event"+st].left=Math.min(rt["event"+st].left,ot.x):rt["event"+st].left=ot.x,rt["event"+st].elements.push(pt),rt["event"+st].startCharArray.push(ot.abcelem.startChar),rt["event"+st].endCharArray.push(ot.abcelem.endChar),rt["event"+st].startChar===null&&(rt["event"+st].startChar=ot.abcelem.startChar),rt["event"+st].endChar===null&&(rt["event"+st].endChar=ot.abcelem.endChar),ot.abcelem.midiPitches&&ot.abcelem.midiPitches.length){rt["event"+st].midiPitches||(rt["event"+st].midiPitches=[]);for(var mt=0;mt<ot.abcelem.midiPitches.length;mt++)rt["event"+st].midiPitches.push(ot.abcelem.midiPitches[mt])}if(ot.abcelem.midiGraceNotePitches&&ot.abcelem.midiGraceNotePitches.length){rt["event"+st].midiGraceNotePitches||(rt["event"+st].midiGraceNotePitches=[]);for(var vt=0;vt<ot.abcelem.midiGraceNotePitches.length;vt++)rt["event"+st].midiGraceNotePitches.push(ot.abcelem.midiGraceNotePitches[vt])}}ht&&(rt["event"+st].measureStart=!0,ht=!1),gt&&(dt=st)}}return{isTiedState:dt,duration:ft/ut,nextIsBar:ht||ot.type==="bar"}},this.makeVoicesArray=function(){for(var rt=[],ot=[],st={},ct=0;ct<this.engraver.staffgroups.length;ct++){var lt=this.engraver.staffgroups[ct];if(lt&&lt.staffs&&lt.staffs.length>0){var at=lt.staffs[0],it=at.absoluteY,ut=it-at.top*spacing$d.STEP,dt=lt.staffs[lt.staffs.length-1];it=dt.absoluteY;for(var ht=it-dt.bottom*spacing$d.STEP,ft=ht-ut,pt=lt.voices,mt=0;mt<pt.length;mt++)if(!(pt[mt].staff&&pt[mt].staff.isTabStaff)){var gt=!1;rt[mt]||(rt[mt]=[]),ot[mt]===void 0&&(ot[mt]=0);for(var vt=pt[mt].children,yt=0;yt<vt.length;yt++)vt[yt].type==="tempo"&&(st[ot[mt]]=this.getBpm(vt[yt].abcelem)),rt[mt].push({top:ut,height:ft,line:lt.line,measureNumber:ot[mt],elem:vt[yt]}),vt[yt].type==="bar"&&gt&&ot[mt]++,(vt[yt].type==="note"||vt[yt].type==="rest")&&(gt=!0)}}}return this.tempoLocations=st,rt},this.setupEvents=function(rt,ot,st,ct){ct||(ct=1);for(var lt=[],at={},it=rt,ut,dt=!0,ht=this.makeVoicesArray(),ft=0,pt=0;pt<ht.length;pt++){var mt=it,gt=Math.round(mt*1e3),vt=0,yt=-1,bt=ht[pt],xt=st;ot=this.getBeatLength()*xt/60;for(var _t=-1,wt=0;wt<bt.length;wt++){var At=bt[wt].measureNumber;_t!==At&&this.tempoLocations[At]&&(xt=this.tempoLocations[At],ot=ct*this.getBeatLength()*xt/60,_t=At);var Pt=bt[wt].elem,jt=this.addElementToEvents(at,Pt,gt,bt[wt].top,bt[wt].height,bt[wt].line,bt[wt].measureNumber,ot,ut,dt);ut=jt.isTiedState,dt=jt.nextIsBar,mt+=jt.duration;var kt;if(Pt.duration>0&&at["event"+gt]&&(kt="event"+gt),gt=Math.round(mt*1e3),Pt.type==="bar"){var St=Pt.abcelem.type,Ct=St==="bar_right_repeat"||St==="bar_dbl_repeat",Et=Pt.abcelem.startEnding==="1",Tt=St==="bar_left_repeat"||St==="bar_dbl_repeat"||St==="bar_right_repeat";if(Ct){wt>0&&(at[kt].endX=Pt.x),yt===-1&&(yt=wt);var $t=0;_t=-1;for(var Ot=vt;Ot<yt;Ot++){At=bt[Ot].measureNumber,_t!==At&&this.tempoLocations[At]&&(xt=this.tempoLocations[At],ot=ct*this.getBeatLength()*xt/60,_t=At);var Rt=bt[Ot].elem;jt=this.addElementToEvents(at,Rt,gt,bt[Ot].top,bt[Ot].height,bt[Ot].line,bt[Ot].measureNumber,ot,ut,dt),ut=jt.isTiedState,dt=jt.nextIsBar,mt+=jt.duration,$t=gt,gt=Math.round(mt*1e3)}at["event"+$t]&&(at["event"+$t].endX=bt[yt].elem.x),dt=!0,yt=-1}Et&&(yt=wt),Tt&&(vt=wt)}}ft=Math.max(ft,gt)}return lt=et(at),_e(lt),nt(this.lines,lt),lt.push({type:"end",milliseconds:ft}),this.addUsefulCallbackInfo(lt,xt*ct),lt},this.addUsefulCallbackInfo=function(rt,ot){for(var st=this.millisecondsPerMeasure(ot),ct=0;ct<rt.length;ct++){var lt=rt[ct];lt.millisecondsPerMeasure=st}};function tt(rt,ot){for(;ot<rt.length&&rt[ot].left===null;)ot++;return rt[ot]}function nt(rt,ot){if(!(ot.length<1)){for(var st=0;st<ot.length-1;st++){var ct=ot[st],lt=tt(ot,st+1);if(ct.left!==null){var at=lt&&ct.top===lt.top?lt.left:rt[ct.line].staffGroup.w;ct.endX!==void 0?at>ct.left&&(ct.endX=Math.min(ct.endX,at)):ct.endX=at}}var it=ot[ot.length-1];it.endX=rt[it.line].staffGroup.w}}this.getBpm=function(rt){var ot;if(rt){ot=rt.bpm;var st=this.getBeatLength(),ct=rt.duration&&rt.duration.length>0?rt.duration[0]:st;ot=ot*ct/st}if(!ot){ot=180;var lt=this.getMeterFraction();lt&&lt.num!==3&&lt.num%3===0&&(ot=120)}return ot},this.setTiming=function(rt,ot){if(ot=ot||0,!this.engraver||!this.engraver.staffgroups)return console.log("setTiming cannot be called before the tune is drawn."),this.noteTimings=[],this.noteTimings;var st=this.metaText?this.metaText.tempo:null,ct=this.getBpm(st),lt=1;rt?st&&(lt=rt/ct):rt=ct;var at=this.getBeatLength(),it=rt/60,ut=this.getBarLength(),dt=ut/at*ot/it;dt&&(dt-=this.getPickupLength()/at/it);var ht=at*it;return this.noteTimings=this.setupEvents(dt,ht,rt,lt),this.noteTimings.length>0?(this.totalTime=this.noteTimings[this.noteTimings.length-1].milliseconds/1e3,this.totalBeats=this.totalTime*it):(this.totalTime=void 0,this.totalBeats=void 0),this.noteTimings},this.setUpAudio=function(rt){rt||(rt={});var ot=sequence$1(this,rt);return flatten(ot,rt,this.formatting.percmap,this.formatting.midi)},this.deline=function(rt){return delineTune(this.lines,rt)}},abc_tune=Tune$1,parseKeyVoice=abc_parse_key_voice,parseCommon$5=abc_common,TuneBuilder$1=function(b){var $=this;this.setVisualTranspose=function(tt){tt&&(b.visualTranspose=tt)},this.resolveOverlays=function(){for(var tt=!1,nt=[],rt=0;rt<b.lines.length;rt++){var ot=b.lines[rt];if(ot.staff)for(var st=0;st<ot.staff.length;st++){for(var ct=ot.staff[st],lt=[],at=0;at<ct.voices.length;at++){var it=ct.voices[at];lt.push({hasOverlay:!1,voice:[],snip:[]}),nt[rt]=0;for(var ut=0,dt=!1,ht=-1,ft=0;ft<it.length;ft++){var pt=it[ft];if(pt.el_type==="overlay"&&!dt){tt=!0,dt=!0,ht=ft,lt[at].hasOverlay=!0;for(var mt=0;mt<rt;mt++)nt[mt]&&b.lines[mt].staff&&ct.voices.length>=b.lines[mt].staff[0].voices.length&&b.lines[mt].staff[0].voices.push([{el_type:"note",duration:nt[mt],rest:{type:"invisible"},startChar:pt.startChar,endChar:pt.endChar}])}else pt.el_type==="bar"?(dt?(dt=!1,lt[at].snip.push({start:ht,len:ft-ht}),lt[at].voice.push(pt)):(ut>0&&lt[at].voice.push({el_type:"note",duration:ut,rest:{type:"invisible"},startChar:pt.startChar,endChar:pt.endChar}),lt[at].voice.push(pt)),ut=0):pt.el_type==="note"?dt?lt[at].voice.push(pt):(ut+=pt.duration,nt[rt]+=pt.duration):(pt.el_type==="scale"||pt.el_type==="stem"||pt.el_type==="overlay"||pt.el_type==="style"||pt.el_type==="transpose"||pt.el_type==="color")&&lt[at].voice.push(pt)}lt[at].hasOverlay&&lt[at].snip.length===0&&lt[at].snip.push({start:ht,len:it.length-ht})}for(at=0;at<lt.length;at++){var gt=lt[at];if(gt.hasOverlay){gt.voice.splice(0,0,{el_type:"stem",direction:"down"}),ct.voices.push(gt.voice);for(var vt=gt.snip.length-1;vt>=0;vt--){var yt=gt.snip[vt];ct.voices[at].splice(yt.start,yt.len),ct.voices[at].splice(yt.start+1,0,{el_type:"stem",direction:"auto"});var bt=_e(ct.voices[at],yt.start);ct.voices[at].splice(bt,0,{el_type:"stem",direction:"up"})}for(vt=0;vt<ct.voices[ct.voices.length-1].length;vt++){ct.voices[ct.voices.length-1][vt]=parseCommon$5.clone(ct.voices[ct.voices.length-1][vt]);var xt=ct.voices[ct.voices.length-1][vt];xt.el_type==="bar"&&xt.startEnding&&delete xt.startEnding,xt.el_type==="bar"&&xt.endEnding&&delete xt.endEnding}}}}}return tt};function _e(tt,nt){for(var rt=nt-1;rt>0&&tt[rt].el_type!=="bar";rt--);return rt}function et(tt){for(var nt=!0,rt=0;rt<tt.length;rt++){var ot=tt[rt];if(ot.staff){for(var st=0;st<ot.staff.length;st++){var ct=ot.staff[st];if(ct.title){for(var lt=!1,at=0;at<ct.title.length;at++)ct.title[at]?(ct.title[at]=nt?ct.title[at].name:ct.title[at].subname,ct.title[at]?lt=!0:ct.title[at]=""):ct.title[at]="";lt||delete ct.title}}nt=!1}}}this.cleanUp=function(tt,nt,rt){this.closeLine(),delete b.runningFonts,simplifyMetaText(b),b.metaText.tempo&&b.metaText.tempo.bpm&&!b.metaText.tempo.duration&&(b.metaText.tempo.duration=[b.getBeatLength()]);var ot=!1,st,ct,lt;for(st=0;st<b.lines.length;st++)if(b.lines[st].staff!==void 0){var at=!1;for(ct=0;ct<b.lines[st].staff.length;ct++)if(b.lines[st].staff[ct]===void 0)ot=!0,b.lines[st].staff[ct]=null;else for(lt=0;lt<b.lines[st].staff[ct].voices.length;lt++)b.lines[st].staff[ct].voices[lt]===void 0?b.lines[st].staff[ct].voices[lt]=[]:this.containsNotes(b.lines[st].staff[ct].voices[lt])&&(at=!0);at||(b.lines[st]=null,ot=!0)}if(ot&&(b.lines=b.lines.filter(function(yt){return!!yt}),b.lines.forEach(function(yt){yt.staff&&(yt.staff=yt.staff.filter(function(bt){return!!bt}))})),tt)for(;ht(b.lines,tt););if(nt){for(ot=!1,st=0;st<b.lines.length;st++)if(b.lines[st].staff!==void 0)for(ct=0;ct<b.lines[st].staff.length;ct++){var it=!1;for(lt=0;lt<b.lines[st].staff[ct].voices.length;lt++)this.containsNotesStrict(b.lines[st].staff[ct].voices[lt])&&(it=!0);it||(ot=!0,b.lines[st].staff[ct]=null)}ot&&b.lines.forEach(function(yt){yt.staff&&(yt.staff=yt.staff.filter(function(bt){return!!bt}))})}for(et(b.lines),st=0;st<b.lines.length;st++)if(b.lines[st].staff)for(ct=0;ct<b.lines[st].staff.length;ct++)delete b.lines[st].staff[ct].workingClef;for(;this.resolveOverlays(););function ut(yt,bt,xt){rt[bt]||(rt[bt]=[]),rt[bt][xt]||(rt[bt][xt]=[]);for(var _t,wt=function(Nt,Ft,Ht){if(rt[bt][xt][Ht]===void 0){for(_t=0;_t<rt[bt][xt].length;_t++)if(rt[bt][xt][_t]!==void 0){Ht=_t;break}if(rt[bt][xt][Ht]===void 0){var zt=Ht*100+1;Nt.endSlur.forEach(function(Zt){zt===Zt&&--zt}),rt[bt][xt][Ht]=[zt]}}for(var an,Jt=0;Jt<Ft;Jt++)an=rt[bt][xt][Ht].pop(),Nt.endSlur.push(an);return rt[bt][xt][Ht].length===0&&delete rt[bt][xt][Ht],an},At=function(Nt,Ft,Ht,zt){Nt.startSlur=[],rt[bt][xt][Ht]===void 0&&(rt[bt][xt][Ht]=[]);for(var an=Ht*100+1,Jt=0;Jt<Ft;Jt++)zt&&(zt.forEach(function(Zt){an===Zt&&++an}),zt.forEach(function(Zt){an===Zt&&++an}),zt.forEach(function(Zt){an===Zt&&++an})),rt[bt][xt][Ht].forEach(function(Zt){an===Zt&&++an}),rt[bt][xt][Ht].forEach(function(Zt){an===Zt&&++an}),rt[bt][xt][Ht].push(an),Nt.startSlur.push({label:an}),Nt.dottedSlur&&(Nt.startSlur[Nt.startSlur.length-1].style="dotted",delete Nt.dottedSlur),an++},Pt=0;Pt<yt.length;Pt++){var jt=yt[Pt];if(jt.el_type==="note"){if(jt.gracenotes)for(var kt=0;kt<jt.gracenotes.length;kt++){if(jt.gracenotes[kt].endSlur){var St=jt.gracenotes[kt].endSlur;jt.gracenotes[kt].endSlur=[];for(var Ct=0;Ct<St;Ct++)wt(jt.gracenotes[kt],1,20)}jt.gracenotes[kt].startSlur&&(_t=jt.gracenotes[kt].startSlur,At(jt.gracenotes[kt],_t,20))}if(jt.endSlur&&(_t=jt.endSlur,jt.endSlur=[],wt(jt,_t,0)),jt.startSlur&&(_t=jt.startSlur,At(jt,_t,0)),jt.pitches){for(var Et=[],Tt=0;Tt<jt.pitches.length;Tt++)if(jt.pitches[Tt].endSlur){var $t=jt.pitches[Tt].endSlur;jt.pitches[Tt].endSlur=[];for(var Ot=0;Ot<$t;Ot++){var Rt=wt(jt.pitches[Tt],1,Tt+1);Et.push(Rt)}}for(Tt=0;Tt<jt.pitches.length;Tt++)jt.pitches[Tt].startSlur&&(_t=jt.pitches[Tt].startSlur,At(jt.pitches[Tt],_t,Tt+1,Et));jt.gracenotes&&jt.pitches[0].endSlur&&jt.pitches[0].endSlur[0]===100&&jt.pitches[0].startSlur&&(jt.gracenotes[0].endSlur?jt.gracenotes[0].endSlur.push(jt.pitches[0].startSlur[0].label):jt.gracenotes[0].endSlur=[jt.pitches[0].startSlur[0].label],jt.pitches[0].endSlur.length===1?delete jt.pitches[0].endSlur:jt.pitches[0].endSlur[0]===100?jt.pitches[0].endSlur.shift():jt.pitches[0].endSlur[jt.pitches[0].endSlur.length-1]===100&&jt.pitches[0].endSlur.pop(),rt[bt][xt][1].length===1?delete rt[bt][xt][1]:rt[bt][xt][1].pop())}}}}function dt(yt){parseKeyVoice.fixClef(yt)}function ht(yt,bt){for(st=0;st<yt.length;st++)if(yt[st].staff!==void 0)for(ct=0;ct<yt[st].staff.length;ct++){var xt=[];for(lt=0;lt<yt[st].staff[ct].voices.length;lt++)for(var _t=yt[st].staff[ct].voices[lt],wt=0,At=0;At<_t.length;At++)if(_t[At].el_type==="bar"){if(wt++,wt>=bt&&At<_t.length-1){var Pt=ft(yt,st);if(!Pt){var jt=JSON.parse(JSON.stringify(yt[st]));yt.push(parseCommon$5.clone(jt)),Pt=yt[yt.length-1];for(var kt=0;kt<Pt.staff.length;kt++)for(var St=0;St<Pt.staff[kt].voices.length;St++)Pt.staff[kt].voices[St]=[]}var Ct=At+1,Et=yt[st].staff[ct].voices[lt].slice(Ct);return yt[st].staff[ct].voices[lt]=yt[st].staff[ct].voices[lt].slice(0,Ct),Pt.staff[ct].voices[lt]=xt.concat(Et.concat(Pt.staff[ct].voices[lt])),!0}}else _t[At].duration||xt.push(_t[At])}return!1}function ft(yt,bt){for(bt++;yt.length>bt;){if(yt[bt].staff)return yt[bt];bt++}return null}for(b.lineNum=0;b.lineNum<b.lines.length;b.lineNum++){var pt=b.lines[b.lineNum].staff;if(pt)for(b.staffNum=0;b.staffNum<pt.length;b.staffNum++)for(pt[b.staffNum].clef&&dt(pt[b.staffNum].clef),b.voiceNum=0;b.voiceNum<pt[b.staffNum].voices.length;b.voiceNum++){var mt=pt[b.staffNum].voices[b.voiceNum];ut(mt,b.staffNum,b.voiceNum);for(var gt=0;gt<mt.length;gt++)mt[gt].el_type==="clef"&&dt(mt[gt]);if(mt.length>0&&mt[mt.length-1].barNumber){var vt=ft(b.lines,b.lineNum);vt&&(vt.staff[0].barNumber=mt[mt.length-1].barNumber),delete mt[mt.length-1].barNumber}}}return delete b.staffNum,delete b.voiceNum,delete b.lineNum,delete b.potentialStartBeam,delete b.potentialEndBeam,delete b.vskipPending,rt},b.reset(),this.getLastNote=function(){if(b.lines[b.lineNum]&&b.lines[b.lineNum].staff&&b.lines[b.lineNum].staff[b.staffNum]&&b.lines[b.lineNum].staff[b.staffNum].voices[b.voiceNum])for(var tt=b.lines[b.lineNum].staff[b.staffNum].voices[b.voiceNum].length-1;tt>=0;tt--){var nt=b.lines[b.lineNum].staff[b.staffNum].voices[b.voiceNum][tt];if(nt.el_type==="note")return nt}return null},this.addTieToLastNote=function(tt){var nt=this.getLastNote();return nt&&nt.pitches&&nt.pitches.length>0?(nt.pitches[0].startTie={},tt&&(nt.pitches[0].startTie.style="dotted"),!0):!1},this.getDuration=function(tt){return tt.duration?tt.duration:0},this.closeLine=function(){b.potentialStartBeam&&b.potentialEndBeam&&(b.potentialStartBeam.startBeam=!0,b.potentialEndBeam.endBeam=!0),delete b.potentialStartBeam,delete b.potentialEndBeam},this.appendElement=function(tt,nt,rt,ot){var st=b,ct=function(ut){var dt=st.lines[st.lineNum].staff[st.staffNum];if(dt){if(ut.pitches!==void 0){var ht=dt.workingClef.verticalPos;ut.pitches.forEach(function(pt){pt.verticalPos=pt.pitch-ht})}if(ut.gracenotes!==void 0){var ft=dt.workingClef.verticalPos;ut.gracenotes.forEach(function(pt){pt.verticalPos=pt.pitch-ft})}dt.voices[st.voiceNum].push(ut)}};ot.el_type=tt,nt!==null&&(ot.startChar=nt),rt!==null&&(ot.endChar=rt);var lt=function(){st.potentialStartBeam.startBeam=!0,ot.endBeam=!0,delete st.potentialStartBeam,delete st.potentialEndBeam},at=function(){st.potentialStartBeam!==void 0&&st.potentialEndBeam!==void 0&&(st.potentialStartBeam.startBeam=!0,st.potentialEndBeam.endBeam=!0),delete st.potentialStartBeam,delete st.potentialEndBeam};if(tt==="note"){var it=$.getDuration(ot);it>=.25||ot.force_end_beam_last&&st.potentialStartBeam!==void 0?at():ot.end_beam&&st.potentialStartBeam!==void 0?ot.rest===void 0?lt():at():ot.rest===void 0&&(st.potentialStartBeam===void 0?ot.end_beam||(st.potentialStartBeam=ot,delete st.potentialEndBeam):st.potentialEndBeam=ot)}else at();delete ot.end_beam,delete ot.force_end_beam_last,ct(ot)},this.appendStartingElement=function(tt,nt,rt,ot){this.closeLine();var st;tt==="key"&&(st=ot.impliedNaturals,delete ot.impliedNaturals,delete ot.explicitAccidentals);var ct=parseCommon$5.clone(ot);if(b.lines[b.lineNum]&&b.lines[b.lineNum].staff){b.lines[b.lineNum].staff.length<=b.staffNum&&(b.lines[b.lineNum].staff[b.staffNum]={},b.lines[b.lineNum].staff[b.staffNum].clef=parseCommon$5.clone(b.lines[b.lineNum].staff[0].clef),b.lines[b.lineNum].staff[b.staffNum].key=parseCommon$5.clone(b.lines[b.lineNum].staff[0].key),b.lines[b.lineNum].staff[0].meter&&(b.lines[b.lineNum].staff[b.staffNum].meter=parseCommon$5.clone(b.lines[b.lineNum].staff[0].meter)),b.lines[b.lineNum].staff[b.staffNum].workingClef=parseCommon$5.clone(b.lines[b.lineNum].staff[0].workingClef),b.lines[b.lineNum].staff[b.staffNum].voices=[[]]),tt==="clef"&&(b.lines[b.lineNum].staff[b.staffNum].workingClef=ct);for(var lt=b.lines[b.lineNum].staff[b.staffNum].voices[b.voiceNum],at=0;at<lt.length;at++){if(lt[at].el_type==="note"||lt[at].el_type==="bar"){ct.el_type=tt,ct.startChar=nt,ct.endChar=rt,st&&(ct.accidentals=st.concat(ct.accidentals)),lt.push(ct);return}if(lt[at].el_type===tt){ct.el_type=tt,ct.startChar=nt,ct.endChar=rt,st&&(ct.accidentals=st.concat(ct.accidentals)),lt[at]=ct;return}}b.lines[b.lineNum].staff[b.staffNum][tt]=ot}},this.pushLine=function(tt){b.vskipPending&&(tt.vskip=b.vskipPending,delete b.vskipPending),b.lines.push(tt)},this.addSubtitle=function(tt,nt){this.pushLine({subtitle:{text:tt,startChar:nt.startChar,endChar:nt.endChar}})},this.addSpacing=function(tt){b.vskipPending=tt},this.addNewPage=function(tt){this.pushLine({newpage:tt})},this.addSeparator=function(tt,nt,rt,ot){this.pushLine({separator:{spaceAbove:Math.round(tt),spaceBelow:Math.round(nt),lineLength:Math.round(rt),startChar:ot.startChar,endChar:ot.endChar}})},this.addText=function(tt,nt){this.pushLine({text:{text:tt,startChar:nt.startChar,endChar:nt.endChar}})},this.addCentered=function(tt){this.pushLine({text:[{text:tt,center:!0}]})},this.containsNotes=function(tt){for(var nt=0;nt<tt.length;nt++)if(tt[nt].el_type==="note"||tt[nt].el_type==="bar")return!0;return!1},this.containsNotesStrict=function(tt){for(var nt=0;nt<tt.length;nt++)if(tt[nt].el_type==="note"&&(tt[nt].rest===void 0||tt[nt].chord!==void 0))return!0;return!1},this.changeVoiceScale=function(tt){$.appendElement("scale",null,null,{size:tt})},this.changeVoiceColor=function(tt){$.appendElement("color",null,null,{color:tt})},this.startNewLine=function(tt){var nt=b;this.closeLine();var rt=function(ct){var lt=nt.lines[nt.lineNum].staff[nt.staffNum];if(lt.voices[nt.voiceNum]=[],lt.title||(lt.title=[]),lt.title[nt.voiceNum]={name:ct.name,subname:ct.subname},ct.style&&$.appendElement("style",null,null,{head:ct.style}),ct.stem)$.appendElement("stem",null,null,{direction:ct.stem});else if(nt.voiceNum>0){if(lt.voices[0]!==void 0){for(var at=!1,it=0;it<lt.voices[0].length;it++)lt.voices[0].el_type==="stem"&&(at=!0);if(!at){var ut={el_type:"stem",direction:"up"};lt.voices[0].splice(0,0,ut)}}$.appendElement("stem",null,null,{direction:"down"})}ct.scale&&$.appendElement("scale",null,null,{size:ct.scale}),ct.color&&$.appendElement("color",null,null,{color:ct.color})},ot=function(ct){ct.key&&ct.key.impliedNaturals&&(ct.key.accidentals=ct.key.accidentals.concat(ct.key.impliedNaturals),delete ct.key.impliedNaturals),nt.lines[nt.lineNum].staff[nt.staffNum]={voices:[],clef:ct.clef,key:ct.key,workingClef:ct.clef},ct.stafflines!==void 0&&(nt.lines[nt.lineNum].staff[nt.staffNum].clef.stafflines=ct.stafflines,nt.lines[nt.lineNum].staff[nt.staffNum].workingClef.stafflines=ct.stafflines),ct.staffscale&&(nt.lines[nt.lineNum].staff[nt.staffNum].staffscale=ct.staffscale),ct.annotationfont&&$.setLineFont("annotationfont",ct.annotationfont),ct.gchordfont&&$.setLineFont("gchordfont",ct.gchordfont),ct.tripletfont&&$.setLineFont("tripletfont",ct.tripletfont),ct.vocalfont&&$.setLineFont("vocalfont",ct.vocalfont),ct.bracket&&(nt.lines[nt.lineNum].staff[nt.staffNum].bracket=ct.bracket),ct.brace&&(nt.lines[nt.lineNum].staff[nt.staffNum].brace=ct.brace),ct.connectBarLines&&(nt.lines[nt.lineNum].staff[nt.staffNum].connectBarLines=ct.connectBarLines),ct.barNumber&&(nt.lines[nt.lineNum].staff[nt.staffNum].barNumber=ct.barNumber),rt(ct),ct.part&&$.appendElement("part",ct.part.startChar,ct.part.endChar,{title:ct.part.title}),ct.meter!==void 0&&(nt.lines[nt.lineNum].staff[nt.staffNum].meter=ct.meter),nt.vskipPending&&(nt.lines[nt.lineNum].vskip=nt.vskipPending,delete nt.vskipPending)},st=function(ct){nt.lines[nt.lineNum]={staff:[]},ot(ct)};b.lines[b.lineNum]===void 0?st(tt):b.lines[b.lineNum].staff===void 0?(b.lineNum++,this.startNewLine(tt)):b.lines[b.lineNum].staff[b.staffNum]===void 0?ot(tt):b.lines[b.lineNum].staff[b.staffNum].voices[b.voiceNum]===void 0?rt(tt):this.containsNotes(b.lines[b.lineNum].staff[b.staffNum].voices[b.voiceNum])?(b.lineNum++,this.startNewLine(tt)):tt.part&&$.appendElement("part",tt.part.startChar,tt.part.endChar,{title:tt.part.title})},this.setRunningFont=function(tt,nt){b.runningFonts[tt]=nt},this.setLineFont=function(tt,nt){if(b.runningFonts[tt]){for(var rt=!1,ot=Object.keys(nt),st=0;st<ot.length;st++)b.runningFonts[tt][ot[st]]!==nt[ot[st]]&&(rt=!0);rt&&(b.lines[b.lineNum].staff[b.staffNum][tt]=nt)}b.runningFonts[tt]=nt},this.setBarNumberImmediate=function(tt){var nt=this.getCurrentVoice();if(nt&&nt.length>0){var rt=nt[nt.length-1];if(rt.el_type==="bar")rt.barNumber!==void 0&&(rt.barNumber=tt);else return tt-1}return tt},this.hasBeginMusic=function(){for(var tt=0;tt<b.lines.length;tt++)if(b.lines[tt].staff)return!0;return!1},this.isFirstLine=function(tt){for(var nt=tt-1;nt>=0;nt--)if(b.lines[nt].staff!==void 0)return!1;return!0},this.getCurrentVoice=function(){var tt=b.lines[b.lineNum];if(!tt)return null;var nt=tt.staff[b.staffNum];return nt&&nt.voices[b.voiceNum]!==void 0?nt.voices[b.voiceNum]:null},this.setCurrentVoice=function(tt,nt){b.staffNum=tt,b.voiceNum=nt;for(var rt=0;rt<b.lines.length;rt++)if(b.lines[rt].staff&&(b.lines[rt].staff[tt]===void 0||b.lines[rt].staff[tt].voices[nt]===void 0||!this.containsNotes(b.lines[rt].staff[tt].voices[nt]))){b.lineNum=rt;return}b.lineNum=rt},this.addMetaText=function(tt,nt,rt){b.metaText[tt]===void 0?(b.metaText[tt]=nt,b.metaTextInfo[tt]=rt):(typeof b.metaText[tt]=="string"&&typeof nt=="string"?b.metaText[tt]+=`
`+nt:(b.metaText[tt]==="string"&&(b.metaText[tt]=[{text:b.metaText[tt]}]),typeof nt=="string"&&(nt=[{text:nt}]),b.metaText[tt]=b.metaText[tt].concat(nt)),b.metaTextInfo[tt].endChar=rt.endChar)},this.addMetaTextArray=function(tt,nt,rt){b.metaText[tt]===void 0?(b.metaText[tt]=[nt],b.metaTextInfo[tt]=rt):(b.metaText[tt].push(nt),b.metaTextInfo[tt].endChar=rt.endChar)},this.addMetaTextObj=function(tt,nt,rt){b.metaText[tt]=nt,b.metaTextInfo[tt]=rt}};function isArrayOfStrings(b){if(!b||typeof b=="string")return!1;for(var $=0;$<b.length;$++)if(typeof b[$]!="string")return!1;return!0}function simplifyMetaText(b){isArrayOfStrings(b.metaText.notes)&&(b.metaText.notes=b.metaText.notes.join(`
`)),isArrayOfStrings(b.metaText.history)&&(b.metaText.history=b.metaText.history.join(`
`))}var tuneBuilder=TuneBuilder$1,parseCommon$4=abc_common,parseDirective=abc_parse_directive,ParseHeader=abc_parse_header,ParseMusic=abc_parse_music,Tokenizer=abc_tokenizer,wrap$1=wrap_lines,Tune=abc_tune,TuneBuilder=tuneBuilder,Parse$2=function(){var b=new Tune,$=new TuneBuilder(b),_e,et="",tt="";this.getTune=function(){var vt={formatting:b.formatting,lines:b.lines,media:b.media,metaText:b.metaText,metaTextInfo:b.metaTextInfo,version:b.version,addElementToEvents:b.addElementToEvents,addUsefulCallbackInfo:b.addUsefulCallbackInfo,getTotalTime:b.getTotalTime,getTotalBeats:b.getTotalBeats,getBarLength:b.getBarLength,getBeatLength:b.getBeatLength,getBeatsPerMeasure:b.getBeatsPerMeasure,getBpm:b.getBpm,getMeter:b.getMeter,getMeterFraction:b.getMeterFraction,getPickupLength:b.getPickupLength,getKeySignature:b.getKeySignature,getElementFromChar:b.getElementFromChar,makeVoicesArray:b.makeVoicesArray,millisecondsPerMeasure:b.millisecondsPerMeasure,setupEvents:b.setupEvents,setTiming:b.setTiming,setUpAudio:b.setUpAudio,deline:b.deline};return b.lineBreaks&&(vt.lineBreaks=b.lineBreaks),b.visualTranspose&&(vt.visualTranspose=b.visualTranspose),vt};function nt(vt,yt,bt){vt.positioning||(vt.positioning={}),vt.positioning[yt]=bt}function rt(vt,yt,bt){vt.fonts||(vt.fonts={}),vt.fonts[yt]=bt}var ot={reset:function(){for(var vt in this)this.hasOwnProperty(vt)&&typeof this[vt]!="function"&&delete this[vt];this.iChar=0,this.key={accidentals:[],root:"none",acc:"",mode:""},this.meter=null,this.origMeter=null,this.hasMainTitle=!1,this.default_length=.125,this.clef={type:"treble",verticalPos:0},this.octave=0,this.next_note_duration=0,this.start_new_line=!0,this.is_in_header=!0,this.partForNextLine={},this.tempoForNextLine=[],this.havent_set_length=!0,this.voices={},this.staves=[],this.macros={},this.currBarNumber=1,this.barCounter={},this.ignoredDecorations=[],this.score_is_present=!1,this.inEnding=!1,this.inTie=[],this.inTieChord={},this.vocalPosition="auto",this.dynamicPosition="auto",this.chordPosition="auto",this.ornamentPosition="auto",this.volumePosition="auto",this.openSlurs=[],this.freegchord=!1,this.endingHoldOver={}},differentFont:function(vt,yt){return this[vt].decoration!==yt[vt].decoration||this[vt].face!==yt[vt].face||this[vt].size!==yt[vt].size||this[vt].style!==yt[vt].style||this[vt].weight!==yt[vt].weight},addFormattingOptions:function(vt,yt,bt){bt==="note"?(this.vocalPosition!=="auto"&&nt(vt,"vocalPosition",this.vocalPosition),this.dynamicPosition!=="auto"&&nt(vt,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&nt(vt,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&nt(vt,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&nt(vt,"volumePosition",this.volumePosition),this.differentFont("annotationfont",yt)&&rt(vt,"annotationfont",this.annotationfont),this.differentFont("gchordfont",yt)&&rt(vt,"gchordfont",this.gchordfont),this.differentFont("vocalfont",yt)&&rt(vt,"vocalfont",this.vocalfont),this.differentFont("tripletfont",yt)&&rt(vt,"tripletfont",this.tripletfont)):bt==="bar"&&(this.dynamicPosition!=="auto"&&nt(vt,"dynamicPosition",this.dynamicPosition),this.chordPosition!=="auto"&&nt(vt,"chordPosition",this.chordPosition),this.ornamentPosition!=="auto"&&nt(vt,"ornamentPosition",this.ornamentPosition),this.volumePosition!=="auto"&&nt(vt,"volumePosition",this.volumePosition),this.differentFont("measurefont",yt)&&rt(vt,"measurefont",this.measurefont),this.differentFont("repeatfont",yt)&&rt(vt,"repeatfont",this.repeatfont))},duplicateStartEndingHoldOvers:function(){this.endingHoldOver={inTie:[],inTieChord:{}};for(var vt=0;vt<this.inTie.length;vt++)if(this.endingHoldOver.inTie.push([]),this.inTie[vt])for(var yt=0;yt<this.inTie[vt].length;yt++)this.endingHoldOver.inTie[vt].push(this.inTie[vt][yt]);for(var bt in this.inTieChord)this.inTieChord.hasOwnProperty(bt)&&(this.endingHoldOver.inTieChord[bt]=this.inTieChord[bt])},restoreStartEndingHoldOvers:function(){if(this.endingHoldOver.inTie){this.inTie=[],this.inTieChord={};for(var vt=0;vt<this.endingHoldOver.inTie.length;vt++){this.inTie.push([]);for(var yt=0;yt<this.endingHoldOver.inTie[vt].length;yt++)this.inTie[vt].push(this.endingHoldOver.inTie[vt][yt])}for(var bt in this.endingHoldOver.inTieChord)this.endingHoldOver.inTieChord.hasOwnProperty(bt)&&(this.inTieChord[bt]=this.endingHoldOver.inTieChord[bt])}}},st=function(vt){ot.warnings||(ot.warnings=[]),ot.warnings.push(vt)},ct=function(vt){ot.warningObjects||(ot.warningObjects=[]),ot.warningObjects.push(vt)},lt=function(vt){var yt=vt.replace(/\x12/g," ");return yt=yt.replace(/&/g,"&amp;"),yt=yt.replace(/</g,"&lt;"),yt.replace(/>/g,"&gt;")},at=function(vt,yt,bt){yt||(yt=" ");var xt=yt[bt];(xt===" "||!xt)&&(xt="SPACE");var _t=lt(yt.substring(bt-64,bt))+'<span style="text-decoration:underline;font-size:1.3em;font-weight:bold;">'+xt+"</span>"+lt(yt.substring(bt+1).substring(0,64));st("Music Line:"+_e.lineIndex+":"+(bt+1)+": "+vt+":  "+_t),ct({message:vt,line:yt,startChar:ot.iChar+bt,column:bt})},it,ut;this.getWarnings=function(){return ot.warnings},this.getWarningObjects=function(){return ot.warningObjects};var dt=function(vt,yt){if(yt.indexOf("")>=0){et+=yt;return}if(yt=et+yt,et="",!vt){at("Can't add words before the first line of music",vt,0);return}yt=parseCommon$4.strip(yt),yt[yt.length-1]!=="-"&&(yt=yt+" ");for(var bt=[],xt=0,_t=!1,wt=function(kt){var St=parseCommon$4.strip(yt.substring(xt,kt));if(St=St.replace(/\\([-_*|~])/g,"$1"),xt=kt+1,St.length>0){_t&&(St=St.replace(/~/g," "));var Ct=yt[kt];return Ct!=="_"&&Ct!=="-"&&(Ct=" "),bt.push({syllable:_e.translateString(St),divider:Ct}),_t=!1,!0}return!1},At=!1,Pt=0;Pt<yt.length;Pt++){switch(yt[Pt]){case" ":case"":wt(Pt);break;case"-":!At&&!wt(Pt)&&bt.length>0&&(parseCommon$4.last(bt).divider="-",bt.push({skip:!0,to:"next"}));break;case"_":At||(wt(Pt),bt.push({skip:!0,to:"slur"}));break;case"*":At||(wt(Pt),bt.push({skip:!0,to:"next"}));break;case"|":At||(wt(Pt),bt.push({skip:!0,to:"bar"}));break;case"~":At||(_t=!0);break}At=yt[Pt]==="\\"}var jt=!1;vt.forEach(function(kt){if(bt.length!==0){if(bt[0].skip){switch(bt[0].to){case"next":kt.el_type==="note"&&kt.pitches!==null&&!jt&&bt.shift();break;case"slur":kt.el_type==="note"&&kt.pitches!==null&&bt.shift();break;case"bar":kt.el_type==="bar"&&bt.shift();break}kt.el_type!=="bar"&&(kt.lyric===void 0?kt.lyric=[{syllable:"",divider:" "}]:kt.lyric.push({syllable:"",divider:" "}))}else if(kt.el_type==="note"&&kt.rest===void 0&&!jt){var St=bt.shift();St.syllable&&(St.syllable=St.syllable.replace(/ +/g," ")),kt.lyric===void 0?kt.lyric=[St]:kt.lyric.push(St)}}})},ht=function(vt,yt){if(yt.indexOf("")>=0){tt+=yt;return}if(yt=tt+yt,tt="",!vt){at("Can't add symbols before the first line of music",vt,0);return}yt=parseCommon$4.strip(yt),yt[yt.length-1]!=="-"&&(yt=yt+" ");for(var bt=[],xt=0,_t=!1,wt=function(jt){var kt=parseCommon$4.strip(yt.substring(xt,jt));if(xt=jt+1,kt.length>0){_t&&(kt=kt.replace(/~/g," "));var St=yt[jt];return St!=="_"&&St!=="-"&&(St=" "),bt.push({syllable:_e.translateString(kt),divider:St}),_t=!1,!0}return!1},At=0;At<yt.length;At++)switch(yt[At]){case" ":case"":wt(At);break;case"-":!wt(At)&&bt.length>0&&(parseCommon$4.last(bt).divider="-",bt.push({skip:!0,to:"next"}));break;case"_":wt(At),bt.push({skip:!0,to:"slur"});break;case"*":wt(At),bt.push({skip:!0,to:"next"});break;case"|":wt(At),bt.push({skip:!0,to:"bar"});break;case"~":_t=!0;break}var Pt=!1;vt.forEach(function(jt){if(bt.length!==0){if(bt[0].skip)switch(bt[0].to){case"next":jt.el_type==="note"&&jt.pitches!==null&&!Pt&&bt.shift();break;case"slur":jt.el_type==="note"&&jt.pitches!==null&&bt.shift();break;case"bar":jt.el_type==="bar"&&bt.shift();break}else if(jt.el_type==="note"&&jt.rest===void 0&&!Pt){var kt=bt.shift();jt.lyric===void 0?jt.lyric=[kt]:jt.lyric.push(kt)}}})},ft=function(vt){if(parseCommon$4.startsWith(vt,"%%")){var yt=parseDirective.addDirective(vt.substring(2));yt&&at(yt,vt,2);return}var bt=vt.indexOf("%");if(bt>=0&&(vt=vt.substring(0,bt)),vt=vt.replace(/\s+$/,""),vt.length!==0){if(et){dt($.getCurrentVoice(),vt.substring(2));return}if(tt){ht($.getCurrentVoice(),vt.substring(2));return}if(vt.length<2||vt[1]!==":"||ut.lineContinuation){ut.parseMusic(vt);return}var xt=it.parseHeader(vt);xt.regular&&ut.parseMusic(vt),xt.newline&&ut.startNewLine(),xt.words&&dt($.getCurrentVoice(),vt.substring(2)),xt.symbols&&ht($.getCurrentVoice(),vt.substring(2))}};function pt(vt,yt){vt.push({el_type:"hint"});for(var bt=0;bt<yt.length;bt++){var xt=yt[bt],_t=parseCommon$4.clone(xt);if(vt.push(_t),xt.el_type==="bar")return}}function mt(vt,yt){for(var bt=0;bt<vt.length;bt++){var xt=vt[bt],_t=yt[bt];if(_t)for(var wt=0;wt<_t.voices.length;wt++){var At=_t.voices[wt],Pt=xt.voices[wt];Pt&&pt(Pt,At)}}}function gt(){for(var vt=0;vt<b.lines.length;vt++){var yt=b.lines[vt].staff;if(yt){for(var bt=vt+1;bt<b.lines.length&&b.lines[bt].staff===void 0;)bt++;if(bt<b.lines.length){var xt=b.lines[bt].staff;mt(yt,xt)}}}}this.parse=function(vt,yt,bt){yt||(yt={}),bt||(bt=0),b.reset(),vt=vt.replace(/\r\n?/g,`
`)+`
`;var xt=vt.split(`
\\`);if(xt.length>1){for(var _t=1;_t<xt.length;_t++)for(;xt[_t].length>0&&xt[_t][0]!==`
`;)xt[_t]=xt[_t].substr(1),xt[_t-1]+=" ";vt=xt.join("  ")}vt=vt.replace(/\\([ \t]*)(%.*)*\n/g,function(Ct,Et,Tt){var $t=Tt?Array(Tt.length+1).join(" "):"";return Et+""+$t+`
`});var wt=vt.split(`
`);parseCommon$4.last(wt).length===0&&wt.pop(),_e=new Tokenizer(wt,ot),it=new ParseHeader(_e,at,ot,b,$),ut=new ParseMusic(_e,at,ot,b,$,it),yt.print&&(b.media="print"),ot.reset(),ot.iChar=bt,yt.visualTranspose?(ot.globalTranspose=parseInt(yt.visualTranspose),ot.globalTranspose===0?ot.globalTranspose=void 0:$.setVisualTranspose(yt.visualTranspose)):ot.globalTranspose=void 0,yt.lineBreaks&&(ot.lineBreaks=yt.lineBreaks),it.reset(_e,at,ot,b);try{yt.format&&parseDirective.globalFormatting(yt.format);for(var At=_e.nextLine();At;){if(yt.header_only&&ot.is_in_header===!1||yt.stop_on_warning&&ot.warnings)throw"normal_abort";var Pt=ot.is_in_header;ft(At),Pt&&!ot.is_in_header&&($.setRunningFont("annotationfont",ot.annotationfont),$.setRunningFont("gchordfont",ot.gchordfont),$.setRunningFont("tripletfont",ot.tripletfont),$.setRunningFont("vocalfont",ot.vocalfont)),At=_e.nextLine()}et&&dt($.getCurrentVoice(),""),tt&&ht($.getCurrentVoice(),""),ot.openSlurs=$.cleanUp(ot.barsperstaff,ot.staffnonote,ot.openSlurs)}catch(Ct){if(Ct!=="normal_abort")throw Ct}var jt=11*72,kt=8.5*72;switch(ot.papersize){case"legal":jt=14*72,kt=8.5*72;break;case"A4":jt=11.7*72,kt=8.3*72;break}if(ot.landscape){var St=jt;jt=kt,kt=St}b.formatting.pagewidth||(b.formatting.pagewidth=kt),b.formatting.pageheight||(b.formatting.pageheight=jt),yt.hint_measures&&gt(),wrap$1.wrapLines(b,ot.lineBreaks,ot.barNumbers)}},abc_parse=Parse$2,parseCommon$3=abc_common,bookParser$1=function(b){var $="",_e=b.match(/(\s*)/);b=parseCommon$3.strip(b);for(var et=b.split(`
X:`),tt=1;tt<et.length;tt++)et[tt]="X:"+et[tt];var nt=_e?_e[0].length:0,rt=[];if(et.forEach(function(lt){rt.push({abc:lt,startPos:nt}),nt+=lt.length+1}),rt.length>1&&!parseCommon$3.startsWith(rt[0].abc,"X:")){var ot=rt.shift(),st=ot.abc.split(`
`);st.forEach(function(lt){parseCommon$3.startsWith(lt,"%%")&&($+=lt+`
`)})}var ct=$;return rt.forEach(function(lt){var at=lt.abc.indexOf(`

`);at>0&&(lt.abc=lt.abc.substring(0,at)),lt.pure=lt.abc,lt.abc=$+lt.abc,lt.title="";var it=lt.pure.split("T:");it.length>1&&(it=it[1].split(`
`),lt.title=parseCommon$3.strip(it[0]));var ut=lt.pure.substring(2,lt.pure.indexOf(`
`));lt.id=parseCommon$3.strip(ut)}),{header:ct,tunes:rt}},abc_parse_book=bookParser$1;function StringTablature$2(b,$){this.numLines=b,this.lineSpace=$,this.verticalSize=this.numLines*this.lineSpace;var _e=3;this.bar={pitch:_e,pitch2:$*b,height:5}}StringTablature$2.prototype.bypass=function(b){var $=b.staffGroup.voices;return!!($.length>0&&$[0].isPercussion)};StringTablature$2.prototype.setRelative=function(b,$,_e){switch(b.type){case"bar":$.pitch=this.bar.pitch,$.pitch2=this.bar.pitch2,$.height=this.height;break;case"symbol":var et=this.bar.pitch2/2;if(b.name=="dots.dot")return _e?($.pitch=et,!1):($.pitch=et+this.lineSpace,!0);break}return _e};var stringTablature=StringTablature$2;function TabCommon$1(b,$,_e){this.tune=b,this.params=_e,this.tuneNumber=$,this.inError=!1}TabCommon$1.prototype.setError=function(b){var $=this.tune;b&&(this.error=b,this.inError=!0,$.warnings?$.warnings.push(b):$.warnings=[b])};var tabCommon=TabCommon$1,VoiceElement$3=function b($,_e){this.children=[],this.beams=[],this.otherchildren=[],this.w=0,this.duplicate=!1,this.voicenumber=$,this.voicetotal=_e,this.bottom=7,this.top=7,this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};VoiceElement$3.prototype.addChild=function(b){if(b.type==="bar"){for(var $=!0,_e=0;$&&_e<this.children.length;_e++)this.children[_e].type.indexOf("staff-extra")<0&&this.children[_e].type!=="tempo"&&($=!1);$||(this.beams.push("bar"),this.otherchildren.push("bar"))}this.children[this.children.length]=b,this.setRange(b)};VoiceElement$3.prototype.setLimit=function(b,$){var _e=$.specialY;_e||(_e=$),_e[b]&&(this.specialY[b]?this.specialY[b]=Math.max(this.specialY[b],_e[b]):this.specialY[b]=_e[b])};VoiceElement$3.prototype.adjustRange=function(b){b.bottom!==void 0&&(this.bottom=Math.min(this.bottom,b.bottom)),b.top!==void 0&&(this.top=Math.max(this.top,b.top))};VoiceElement$3.prototype.setRange=function(b){this.adjustRange(b),this.setLimit("tempoHeightAbove",b),this.setLimit("partHeightAbove",b),this.setLimit("volumeHeightAbove",b),this.setLimit("dynamicHeightAbove",b),this.setLimit("endingHeightAbove",b),this.setLimit("chordHeightAbove",b),this.setLimit("lyricHeightAbove",b),this.setLimit("lyricHeightBelow",b),this.setLimit("chordHeightBelow",b),this.setLimit("volumeHeightBelow",b),this.setLimit("dynamicHeightBelow",b)};VoiceElement$3.prototype.addOther=function(b){this.otherchildren.push(b),this.setRange(b)};VoiceElement$3.prototype.addBeam=function(b){this.beams.push(b)};VoiceElement$3.prototype.setWidth=function(b){this.w=b};var voiceElement=VoiceElement$3,setClass$3=function(b,$,_e,et){if(b)for(var tt=0;tt<b.length;tt++){var nt=b[tt],rt=nt.getAttribute("highlight");rt||(rt="fill"),nt.setAttribute(rt,et);var ot=nt.getAttribute("class");ot||(ot=""),ot=ot.replace(_e,""),ot=ot.replace($,""),$.length>0&&(ot.length>0&&ot[ot.length-1]!==" "&&(ot+=" "),ot+=$),nt.setAttribute("class",ot)}},setClass_1=setClass$3,setClass$2=setClass_1,highlight$2=function(b,$){b===void 0&&(b="abcjs-note_selected"),$===void 0&&($="#ff0000"),setClass$2(this.elemset,b,"",$)},highlight_1=highlight$2,setClass$1=setClass_1,unhighlight$2=function(b,$){b===void 0&&(b="abcjs-note_selected"),$===void 0&&($="#000000"),setClass$1(this.elemset,"",b,$)},unhighlight_1=unhighlight$2,highlight$1=highlight_1,unhighlight$1=unhighlight_1,AbsoluteElement$6=function b($,_e,et,tt,nt,rt){rt||(rt={}),this.tuneNumber=nt,this.abcelem=$,this.duration=_e,this.durationClass=rt.durationClassOveride?rt.durationClassOveride:this.duration,this.minspacing=et||0,this.x=0,this.children=[],this.heads=[],this.extra=[],this.extraw=0,this.w=0,this.right=[],this.invisible=!1,this.bottom=void 0,this.top=void 0,this.type=tt,this.fixed={w:0,t:void 0,b:void 0},this.specialY={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}};AbsoluteElement$6.prototype.getFixedCoords=function(){return{x:this.x,w:this.fixed.w,t:this.fixed.t,b:this.fixed.b}};AbsoluteElement$6.prototype.addExtra=function(b){this.fixed.w=Math.max(this.fixed.w,b.dx+b.w),this.fixed.t===void 0?this.fixed.t=b.top:this.fixed.t=Math.max(this.fixed.t,b.top),this.fixed.b===void 0?this.fixed.b=b.bottom:this.fixed.b=Math.min(this.fixed.b,b.bottom),b.dx<this.extraw&&(this.extraw=b.dx),this.extra[this.extra.length]=b,this._addChild(b)};AbsoluteElement$6.prototype.addHead=function(b){b.dx<this.extraw&&(this.extraw=b.dx),this.heads[this.heads.length]=b,this.addRight(b)};AbsoluteElement$6.prototype.addRight=function(b){this.fixed.w=Math.max(this.fixed.w,b.dx+b.w),b.top!==void 0&&(this.fixed.t===void 0?this.fixed.t=b.top:this.fixed.t=Math.max(this.fixed.t,b.top)),b.bottom!==void 0&&(this.fixed.b===void 0?this.fixed.b=b.bottom:this.fixed.b=Math.min(this.fixed.b,b.bottom)),b.dx+b.w>this.w&&(this.w=b.dx+b.w),this.right[this.right.length]=b,this._addChild(b)};AbsoluteElement$6.prototype.addFixed=function(b){this._addChild(b)};AbsoluteElement$6.prototype.addFixedX=function(b){this._addChild(b)};AbsoluteElement$6.prototype.addCentered=function(b){var $=b.w/2;-$<this.extraw&&(this.extraw=-$),this.extra[this.extra.length]=b,b.dx+$>this.w&&(this.w=b.dx+$),this.right[this.right.length]=b,this._addChild(b)};AbsoluteElement$6.prototype.setLimit=function(b,$){$[b]&&(this.specialY[b]?this.specialY[b]=Math.max(this.specialY[b],$[b]):this.specialY[b]=$[b])};AbsoluteElement$6.prototype._addChild=function(b){b.parent=this,this.children[this.children.length]=b,this.pushTop(b.top),this.pushBottom(b.bottom),this.setLimit("tempoHeightAbove",b),this.setLimit("partHeightAbove",b),this.setLimit("volumeHeightAbove",b),this.setLimit("dynamicHeightAbove",b),this.setLimit("endingHeightAbove",b),this.setLimit("chordHeightAbove",b),this.setLimit("lyricHeightAbove",b),this.setLimit("lyricHeightBelow",b),this.setLimit("chordHeightBelow",b),this.setLimit("volumeHeightBelow",b),this.setLimit("dynamicHeightBelow",b)};AbsoluteElement$6.prototype.pushTop=function(b){b!==void 0&&(this.top===void 0?this.top=b:this.top=Math.max(b,this.top))};AbsoluteElement$6.prototype.pushBottom=function(b){b!==void 0&&(this.bottom===void 0?this.bottom=b:this.bottom=Math.min(b,this.bottom))};AbsoluteElement$6.prototype.setX=function(b){this.x=b;for(var $=0;$<this.children.length;$++)this.children[$].setX(b)};AbsoluteElement$6.prototype.center=function(b,$){var _e=($.x-b.x)/2+b.x;this.x=_e-this.w/2;for(var et=0;et<this.children.length;et++)this.children[et].setX(this.x)};AbsoluteElement$6.prototype.setHint=function(){this.hint=!0};AbsoluteElement$6.prototype.highlight=function(b,$){highlight$1.bind(this)(b,$)};AbsoluteElement$6.prototype.unhighlight=function(b,$){unhighlight$1.bind(this)(b,$)};var absoluteElement=AbsoluteElement$6,RelativeElement$a=function b($,_e,et,tt,nt){switch(nt=nt||{},this.x=0,this.c=$,this.dx=_e,this.w=et,this.pitch=tt,this.scalex=nt.scalex||1,this.scaley=nt.scaley||1,this.type=nt.type||"symbol",this.pitch2=nt.pitch2,this.linewidth=nt.linewidth,this.klass=nt.klass,this.anchor=nt.anchor?nt.anchor:"middle",this.top=tt,this.pitch2!==void 0&&this.pitch2>this.top&&(this.top=this.pitch2),this.bottom=tt,this.pitch2!==void 0&&this.pitch2<this.bottom&&(this.bottom=this.pitch2),nt.thickness&&(this.top+=nt.thickness/2,this.bottom-=nt.thickness/2),nt.stemHeight&&(nt.stemHeight>0?this.top+=nt.stemHeight:this.bottom+=nt.stemHeight),nt.dim&&(this.dim=nt.dim),nt.position&&(this.position=nt.position),this.height=nt.height?nt.height:4,nt.top&&(this.top=nt.top),nt.bottom&&(this.bottom=nt.bottom),nt.name?this.name=nt.name:this.c?this.name=this.c:this.name=this.type,nt.realWidth?this.realWidth=nt.realWidth:this.realWidth=this.w,this.centerVertically=!1,this.type){case"debug":this.chordHeightAbove=this.height;break;case"lyric":nt.position&&nt.position==="below"?this.lyricHeightBelow=this.height:this.lyricHeightAbove=this.height;break;case"chord":nt.position&&nt.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height;break;case"text":this.pitch===void 0?nt.position&&nt.position==="below"?this.chordHeightBelow=this.height:this.chordHeightAbove=this.height:this.centerVertically=!0;break;case"part":this.partHeightAbove=this.height;break}};RelativeElement$a.prototype.getChordDim=function(){if(this.type==="debug"||!this.chordHeightAbove&&!this.chordHeightBelow)return null;var b=0,$=this.type==="chord"?this.realWidth/2:0,_e=this.x-$-b,et=_e+this.realWidth+b;return{left:_e,right:et}};RelativeElement$a.prototype.invertLane=function(b){this.lane===void 0&&(this.lane=0),this.lane=b-this.lane-1};RelativeElement$a.prototype.putChordInLane=function(b){this.lane=b,this.chordHeightAbove?this.chordHeightAbove=this.height*1.25*this.lane:this.chordHeightBelow=this.height*1.25*this.lane};RelativeElement$a.prototype.getLane=function(){return this.lane===void 0?0:this.lane};RelativeElement$a.prototype.setX=function(b){this.x=b+this.dx};var relativeElement=RelativeElement$a,AbsoluteElement$5=absoluteElement,RelativeElement$9=relativeElement;function isObject(b){return b!=null&&b.constructor===Object}function cloneObject(b,$){for(var _e in $)$.hasOwnProperty(_e)&&(Array.isArray($[_e])||isObject($[_e])||(b[_e]=$[_e]))}function cloneAbsolute(b){var $=new AbsoluteElement$5("",0,0,"",0);return cloneObject($,b),$.top=0,$.bottom=-1,b.abcelem&&($.abcelem={},cloneObject($.abcelem,b.abcelem),$.abcelem.el_type==="note"&&($.abcelem.el_type="tabNumber")),b.cloned=$,$}function cloneAbsoluteAndRelatives(b,$){var _e=cloneAbsolute(b);if($)for(var et=b.children,tt=!0,nt=0;nt<et.length;nt++){var rt=et[nt],ot=new RelativeElement$9("",0,0,0,"");cloneObject(ot,rt),tt=$.tablature.setRelative(rt,ot,tt),_e.children.push(ot)}return _e}function buildTabAbsolute(b,$,_e){var et="tab.tiny",tt=7.5;b.isTabBig&&(et="tab.big",tt=10);var nt={el_type:"tab",icon:et,Ypos:tt};if(tt+=b.tabSymbolOffset,!b.hideTabSymbol){var rt=new AbsoluteElement$5(nt,0,0,"symbol",0);rt.x=$;var ot=new RelativeElement$9(et,0,0,7.5,"tab");ot.x=_e,rt.children.push(ot),rt.abcelem.el_type=="tab"&&(ot.pitch=tt)}return rt}function lyricsDim(b){if(b.extra)for(var $=0;$<b.extra.length;$++){var _e=b.extra[$];if(_e.type=="lyric")return{bottom:_e.bottom,height:_e.height}}return null}function TabAbsoluteElements$1(){this.accidentals=null}function getInitialStaffSize(b){for(var $=0,_e=0;_e<b.length;_e++)b[_e].tabNameInfos||$++;return $}function buildRelativeTabNote(b,$,_e,et,tt){var nt=et.num;et.note.quarter!=null&&(nt=nt.toString(),nt+=et.note.quarter);var rt=b.semantics.stringToPitch(et.str);_e.notes.push({num:nt,str:et.str,pitch:et.note.emit()});var ot={type:"tabNumber"},st=new RelativeElement$9(nt,0,0,rt+.3,ot);return st.x=$,st.isGrace=tt,st.isAltered=et.note.isAltered,st}function getXGrace(b,$){var _e=0;if(b.extra){for(var et=0;et<b.extra.length;et++)if(b.extra[et].c.indexOf("noteheads")>=0){if(_e===$)return b.extra[et].x+b.extra[et].w/2;_e++}}return-1}function graceInRest(b){if(b.abcelem){var $=b.abcelem;if($.rest)return $.gracenotes}return null}function convertToNumber(b,$,_e){var et=b.semantics.notesToNumber($,_e);if(et.error)return b._super.setError(et.error),et;if(et.graces&&et.notes){var tt=et.notes.length-1;et.notes[tt].graces=et.graces}return et}function buildGraceRelativesForRest(b,$,_e,et,tt){for(var nt=0;nt<et.length;nt++){var rt={el_type:"note",startChar:_e.abcelem.startChar,endChar:_e.abcelem.endChar,notes:[],grace:!0},ot=getXGrace(_e,nt),st=et[nt],ct=buildRelativeTabNote(b,ot,rt,st,!0);$.children.push(ct),tt.push(rt)}}TabAbsoluteElements$1.prototype.build=function(b,$,_e,et,tt,nt,rt){getInitialStaffSize($);var ot=$[tt+et],st=$[rt],ct=null,lt=null;ot.children[0].abcelem.el_type!="clef"&&nt!="none"&&ot.children.splice(0,0,nt);for(var at=0;at<ot.children.length;at++){var it=ot.children[at],ut=it.x,dt=ut;switch(it.isClef&&(st.children.push(buildTabAbsolute(b,ut,dt)),it.abcelem.type.indexOf("-8")>=0&&(b.semantics.strings.clefTranspose=-12),it.abcelem.type.indexOf("+8")>=0&&(b.semantics.strings.clefTranspose=12)),it.type){case"staff-extra key-signature":this.accidentals=it.abcelem.accidentals,b.semantics.strings.accidentals=this.accidentals;break;case"bar":b.semantics.strings.measureAccidentals={};var ht=!1;at===ot.children.length-1&&(ht=!0);var ft=cloneAbsoluteAndRelatives(it,b);if(ft.abcelem.barNumber){delete ft.abcelem.barNumber;for(var pt=0;pt<ft.children.length;pt++)if(ft.children[pt].type==="barNumber"){ft.children.splice(pt,1);break}}ft.abcelem.lastBar=ht,st.children.push(ft),_e.push({el_type:it.abcelem.el_type,type:it.abcelem.type,endChar:it.abcelem.endChar,startChar:it.abcelem.startChar,abselem:ft});break;case"rest":var mt=graceInRest(it);if(mt){if(ct=convertToNumber(b,null,mt),ct.error)return;At={el_type:"note",startChar:it.abcelem.startChar,endChar:it.abcelem.endChar,notes:[],grace:!0},buildGraceRelativesForRest(b,gt,it,ct.graces,_e)}break;case"note":var gt=cloneAbsolute(it);gt.x=it.heads[0].x+it.heads[0].w/2,gt.lyricDim=lyricsDim(it);var vt=it.abcelem.pitches,yt=it.abcelem.gracenotes;if(gt.type="tabNumber",ct=convertToNumber(b,vt,yt),ct.error)return;if(ct.graces){var bt=ct.notes.length-1;ct.notes[bt].graces=ct.graces}lt={el_type:"note",startChar:it.abcelem.startChar,endChar:it.abcelem.endChar,notes:[]};for(var xt=0;xt<ct.notes.length;xt++){var _t=ct.notes[xt];if(_t.graces)for(var wt=0;wt<_t.graces.length;wt++){var At={el_type:"note",startChar:it.abcelem.startChar,endChar:it.abcelem.endChar,notes:[],grace:!0},Pt=getXGrace(it,wt),jt=_t.graces[wt],kt=buildRelativeTabNote(b,Pt,At,jt,!0);gt.children.push(kt),_e.push(At)}var St=buildRelativeTabNote(b,gt.x+it.heads[xt].dx,lt,_t,!1);gt.children.push(St)}lt.notes.length>0&&(lt.abselem=gt,_e.push(lt),st.children.push(gt));break}}};var tabAbsoluteElements=TabAbsoluteElements$1,VoiceElement$2=voiceElement,TabAbsoluteElements=tabAbsoluteElements,spacing$c=spacing_1;function initSpecialY(){return{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}}function getLyricHeight(b){for(var $=0,_e=0;_e<b.children.length;_e++){var et=b.children[_e];et.specialY&&et.specialY.lyricHeightBelow>$&&($=et.specialY.lyricHeightBelow)}return $}function buildTabName(b,$){var _e=b.plugin.semantics.strings,et=b.renderer.controller,tt=et.getTextSize,nt=_e.tabInfos(b.plugin),rt=_e.suppress(b.plugin),ot=!0;if(rt&&(ot=!1),ot){var st=tt.calc(nt,"tablabelfont","text instrumentname");return $.tabNameInfos={textSize:{height:st.height,width:st.width},name:nt},st.height}return 0}function TabRenderer$1(b,$,_e,et){this.renderer=$,this.plugin=b,this.line=_e,this.absolutes=new TabAbsoluteElements,this.staffIndex=et,this.tabStaff={clef:{type:"TAB"}},this.tabSize=b.linePitch*b.nbLines}function islastTabInStaff(b,$){return $[b].isTabStaff?b===$.length-1?!0:!$[b+1].isTabStaff:!1}function getStaffNumbers(b){for(var $=0,_e=0;_e<b.length;_e++)b[_e].isTabStaff||$++;return $}function getParentStaffIndex(b,$){for(var _e=$;_e>=0;_e--)if(!b[_e].isTabStaff)return _e;return-1}function linkStaffAndTabs(b){for(var $=0;$<b.length;$++)if(b[$].isTabStaff){var _e=getParentStaffIndex(b,$);b[$].hasStaff=b[_e],b[_e].hasTab||(b[_e].hasTab=[]),b[_e].hasTab.push(b[$])}}function isMultiVoiceSingleStaff(b,$){return getStaffNumbers(b)===1&&$.voices.length>1}function getNextTabPos(b,$){for(var _e=b.staffIndex,et=0,tt=0,nt=!0,rt=0;nt;){if(!$[et])return-1;if($[et].isTabStaff||(rt=$[et].voices.length),$[et].isTabStaff){if(tt++,islastTabInStaff(et,$)&&tt<rt)return et+1}else if(tt=0,et>=_e&&(et+1==$.length||!$[et+1].isTabStaff))return et+1;if(et++,et>$.length)return-1}}function getLastStaff(b,$){for(var _e=$;_e>=0;_e--)if(!b[_e].isTabStaff)return b[_e];return null}function checkVoiceKeySig(b,$){var _e=b[$],et=_e.children[0].abcelem;return et.el_type==="clef"?null:$==0?"none":b[$-1].children[0]}TabRenderer$1.prototype.doLayout=function(){var b=this.line.staff;if(b){var $=b[0];if($&&$.clef&&$.clef.stafflines==0){this.plugin._super.setError("No tablatures when stafflines=0");return}b.splice(b.length,0,this.tabStaff)}var _e=this.line.staffGroup,et=_e.voices,tt=et[0],nt=getLyricHeight(tt),rt=3,ot=this.staffIndex,st=_e.staffs[ot],ct=this.tabSize+rt-st.bottom-nt;st.isTabStaff&&(ct=st.top);var lt={bottom:-1,isTabStaff:!0,specialY:initSpecialY(),lines:this.plugin.nbLines,linePitch:this.plugin.linePitch,dy:.15,top:ct},at=getNextTabPos(this,_e.staffs);if(at!==-1){lt.parentIndex=at-1,_e.staffs.splice(at,0,lt),_e.height+=this.tabSize+rt;var it=getLastStaff(_e.staffs,at),ut=1;isMultiVoiceSingleStaff(_e.staffs,it)&&(ut=it.voices.length),this.tabStaff.voices=[];for(var dt=0;dt<ut;dt++){var ht=new VoiceElement$2(0,0);dt>0&&(ht.duplicate=!0);var ft=buildTabName(this,ht)/spacing$c.STEP;ft=Math.max(ft,1),_e.staffs[this.staffIndex].top+=1,_e.height+=ft,ht.staff=lt;var pt=et.length;et.splice(et.length,0,ht);var mt=checkVoiceKeySig(et,dt+this.staffIndex);this.tabStaff.voices[dt]=[],this.absolutes.build(this.plugin,et,this.tabStaff.voices[dt],dt,this.staffIndex,mt,pt)}linkStaffAndTabs(_e.staffs)}};var tabRenderer=TabRenderer$1,accidentals={__:-2,_:-1,"_/":-.5,"=":0,"":0,"^/":.5,"^":1,"^^":2},notesInOrder=["C","-","D","-","E","F","-","G","-","A","-","B","c","-","d","-","e","f","-","g","-","a","-","b"];function noteToMidi$2(b){var $=b.match(/([_^\/]*)([ABCDEFGabcdefg])(,*)('*)/);if($&&$.length===5){var _e=accidentals[$[1]],et=notesInOrder.indexOf($[2]),tt=$[4].length-$[3].length;return 48+et+_e+tt*12}return 0}function midiToNote$1(b){b=parseInt(b,10);var $=Math.floor(b/12),_e=b%12,et=notesInOrder[_e];if(et==="-"&&(et="^"+notesInOrder[_e-1]),$>4)for(et=et.toLowerCase(),$-=5;$>0;)et+="'",$--;else for(;$<4;)et+=",",$++;return et}var noteToMidi_1={noteToMidi:noteToMidi$2,midiToNote:midiToNote$1},{noteToMidi:noteToMidi$1,midiToNote}=noteToMidi_1,notes$1=["A","B","C","D","E","F","G"];function TabNote$2(b,$){var _e=noteToMidi$1(b);$&&(_e+=$);var et=midiToNote(_e),tt=!1,nt=!1,rt=!1,ot=null,st=null,ct=!1,lt=0;b.startsWith("_")?(tt=!0,lt=-1,b[1]=="/"?(tt=!1,st="v",lt=0):b[1]=="_"&&(ct=!0,lt-=1)):b.startsWith("^")?(nt=!0,lt=1,b[1]=="/"?(nt=!1,st="^",lt=0):b[1]=="^"&&(ct=!0,lt+=1)):b.startsWith("=")&&(ot=!0,lt=0),rt=tt||nt||st!=null,(rt||ot)&&(st!=null||ct?et=b.slice(2):et=b.slice(1));var at=(et.match(/,/g)||[]).length,it=(et.match(/'/g)||[]).length;this.pitch=_e,this.pitchAltered=0,this.name=et,this.acc=lt,this.isSharp=nt,this.isKeySharp=!1,this.isDouble=ct,this.isAltered=rt,this.isFlat=tt,this.isKeyFlat=!1,this.natural=ot,this.quarter=st,this.isLower=this.name==this.name.toLowerCase(),this.name=this.name[0].toUpperCase(),this.hasComma=at,this.isQuoted=it}function cloneNote(b){var $=b.name,_e=new TabNote$2($);return _e.pitch=b.pitch,_e.hasComma=b.hasComma,_e.isLower=b.isLower,_e.isQuoted=b.isQuoted,_e.isSharp=b.isSharp,_e.isKeySharp=b.isKeySharp,_e.isFlat=b.isFlat,_e.isKeyFlat=b.isKeyFlat,_e}TabNote$2.prototype.sameNoteAs=function(b){return b.pitch===this.pitch};TabNote$2.prototype.isLowerThan=function(b){return b.pitch>this.pitch};TabNote$2.prototype.checkKeyAccidentals=function(b,$){if(!(this.isAltered||this.natural)){if($[this.name.toUpperCase()])switch($[this.name.toUpperCase()]){case"__":this.acc=-2,this.pitchAltered=-2;return;case"_":this.acc=-1,this.pitchAltered=-1;return;case"=":this.acc=0,this.pitchAltered=0;return;case"^":this.acc=1,this.pitchAltered=1;return;case"^^":this.acc=2,this.pitchAltered=2;return}else if(b)for(var _e=this.name,et=0;et<b.length;et++){var tt=b[et];_e==tt.note.toUpperCase()&&(tt.acc=="flat"&&(this.acc=-1,this.isKeyFlat=!0,this.pitchAltered=-1),tt.acc=="sharp"&&(this.acc=1,this.isKeySharp=!0,this.pitchAltered=1))}}};TabNote$2.prototype.getAccidentalEquiv=function(){var b=cloneNote(this);return b.isSharp||b.isKeySharp?(b=b.nextNote(),b.isFlat=!0,b.isSharp=!1,b.isKeySharp=!1):(b.isFlat||b.isKeyFlat)&&(b=b.prevNote(),b.isSharp=!0,b.isFlat=!1,b.isKeyFlat=!1),b};TabNote$2.prototype.nextNote=function(){var b=midiToNote(this.pitch+1+this.pitchAltered);return new TabNote$2(b)};TabNote$2.prototype.prevNote=function(){var b=midiToNote(this.pitch-1+this.pitchAltered);return new TabNote$2(b)};TabNote$2.prototype.emitNoAccidentals=function(){var b=this.name;this.isLower&&(b=b.toLowerCase());for(var $=0;$<this.isQuoted;$++)b+="'";for(var _e=0;_e<this.hasComma;_e++)b+=",";return b};TabNote$2.prototype.emit=function(){var b=this.name;(this.isSharp||this.isKeySharp)&&(b="^"+b,this.isDouble&&(b="^"+b)),(this.isFlat||this.isKeyFlat)&&(b="_"+b,this.isDouble&&(b="_"+b)),this.quarter&&(this.quarter=="^"?b="^/"+b:b="_/"+b),this.natural&&(b="="+b);for(var $=1;$<=this.hasComma;$++)b+=",";if(this.isLower){b=b.toLowerCase();for(var _e=1;_e<=this.isQuoted;_e++)b+="'"}return b};var tabNote={TabNote:TabNote$2,notes:notes$1},TabNote$1=tabNote,notes=TabNote$1.notes;function TabNotes$1(b,$){this.fromN=new TabNote$1.TabNote(b),this.toN=new TabNote$1.TabNote($)}TabNotes$1.prototype.build=function(){var b=this.fromN,$=this.toN;if($.isLowerThan(b)){var _e=b.emit(),et=$.emit();return{error:"Invalid string Instrument tuning : "+et+" string lower than "+_e+" string"}}var tt=[],nt=notes.indexOf(b.name),rt=notes.indexOf($.name);if(nt==-1||rt==-1)return tt;for(var ot=!1;!ot;)tt.push(b.emit()),b=b.nextNote(),b.sameNoteAs($)&&(ot=!0);return tt};var tabNotes=TabNotes$1;const{noteToMidi}=noteToMidi_1;var TabNote=tabNote,TabNotes=tabNotes;function buildCapo(b){var $=null,_e=b.tuning;if(b.capo>0){$=[];for(var et=0;et<_e.length;et++){for(var tt=new TabNote.TabNote(_e[et]),nt=0;nt<b.capo;nt++)tt=tt.nextNote();$[et]=tt.emit()}}return $}function buildPatterns(b){var $=[],_e=b.tuning;b.capo>0&&(_e=b.capoTuning);for(var et=_e.length-1,tt=0;tt<_e.length;tt++){var nt=b.highestNote;tt!=_e.length-1&&(nt=_e[tt+1]);var rt=new TabNotes(_e[tt],nt),ot=rt.build();if(ot.error)return ot;$[et--]=ot}return $}function buildSecond(b){var $=[];$[0]=[];for(var _e=b.strings,et=1;et<_e.length;et++)$[et]=_e[et-1];return $}function sameString(b,$){for(var _e=0;_e<$.length-1;_e++){var et=$[_e],tt=$[_e+1];if(et.str==tt.str){if(et.str==b.strings.length-1){et.num="?",tt.num="?";return}tt.num<et.num?(tt.str++,tt=noteToNumber(b,tt.note,tt.str,b.secondPos,b.strings[tt.str].length)):(et.str++,et=noteToNumber(b,et.note,et.str,b.secondPos,b.strings[et.str].length)),$[_e]=et,$[_e+1]=tt}}return null}function handleChordNotes(b,$){for(var _e=[],et=0;et<$.length;et++)if(!$[et].endTie){var tt=new TabNote.TabNote($[et].name,b.clefTranspose);tt.checkKeyAccidentals(b.accidentals,b.measureAccidentals);var nt=toNumber(b,tt);_e.push(nt)}return sameString(b,_e),_e}function noteToNumber(b,$,_e,et,tt){var nt=b.strings;$.checkKeyAccidentals(b.accidentals,b.measureAccidentals),et&&(nt=et);var rt=$.emitNoAccidentals(),ot=nt[_e].indexOf(rt),st=$.acc;if(ot!=-1){if(et&&(ot+=tt),($.isFlat||$.acc==-1)&&ot==0){var ct=$.getAccidentalEquiv();_e++,ot=nt[_e].indexOf(ct.emit()),st=0}return{num:ot+st,str:_e,note:$}}return null}function toNumber(b,$){if($.isAltered||$.natural){var _e;$.isFlat?$.isDouble?_e="__":_e="_":$.isSharp?$.isDouble?_e="^^":_e="^":$.natural&&(_e="="),b.measureAccidentals[$.name.toUpperCase()]=_e}for(var et=b.stringPitches.length-1;et>=0;et--)if($.pitch+$.pitchAltered>=b.stringPitches[et]){var tt=$.pitch+$.pitchAltered-b.stringPitches[et];return $.quarter==="^"?tt-=.5:$.quarter==="v"&&(tt+=.5),{num:Math.round(tt),str:b.stringPitches.length-1-et,note:$}}return{num:"?",str:b.stringPitches.length-1,note:$}}StringPatterns$1.prototype.stringToPitch=function(b){var $=5.3,_e=this.strings.length-1;return $+(_e-b)*this.linePitch};function invalidNumber(b,$){var _e={num:"?",str:0,note:$};b.push(_e),b.error=$.emit()+": unexpected note for instrument"}StringPatterns$1.prototype.notesToNumber=function(b,$){var _e,et,tt=null,nt=null;if(b&&(nt=[],b.length>1?(nt=handleChordNotes(this,b),nt.error&&(tt=nt.error)):b[0].endTie||(_e=new TabNote.TabNote(b[0].name,this.clefTranspose),_e.checkKeyAccidentals(this.accidentals,this.measureAccidentals),et=toNumber(this,_e),et?nt.push(et):(invalidNumber(nt,_e),tt=nt.error))),tt)return nt;var rt=null;if($){rt=[];for(var ot=0;ot<$.length;ot++)_e=new TabNote.TabNote($[ot].name,this.clefTranspose),_e.checkKeyAccidentals(this.accidentals,this.measureAccidentals),et=toNumber(this,_e),et?rt.push(et):(invalidNumber(rt,_e),tt=nt.error)}return{notes:nt,graces:rt,error:tt}};StringPatterns$1.prototype.toString=function(){for(var b=[],$=0;$<this.tuning.length;$++){var _e=this.tuning[$].replaceAll(",","").replaceAll("'","").toUpperCase();_e[0]==="_"?_e=_e[1]+"b ":_e[0]==="^"&&(_e=_e[1]+"# "),b.push(_e)}return b.join("")};StringPatterns$1.prototype.tabInfos=function(b){var $=b._super,_e=$.params.label;if(_e){var et=_e.indexOf("%T"),tt="";return et!=-1&&(tt=this.toString(),b.capo>0&&(tt+=" capo:"+b.capo),_e=_e.replace("%T",tt)),_e}return""};StringPatterns$1.prototype.suppress=function(b){var $=b._super,_e=$.params.suppress;return!!_e};function StringPatterns$1(b){var $=b.tuning,_e=b.capo,et=b._super.params.highestNote;this.linePitch=b.linePitch,this.highestNote="a'",et&&(this.highestNote=et),this.measureAccidentals={},this.capo=0,_e&&(this.capo=parseInt(_e,10)),this.transpose=b.transpose?b.transpose:0,this.tuning=$,this.stringPitches=[];for(var tt=0;tt<this.tuning.length;tt++){var nt=noteToMidi(this.tuning[tt])+this.capo;this.stringPitches.push(nt)}if(this.capo>0&&(this.capoTuning=buildCapo(this)),this.strings=buildPatterns(this),this.strings.error){b._super.setError(this.strings.error),b.inError=!0;return}this.secondPos=buildSecond(this)}var stringPatterns=StringPatterns$1,StringPatterns=stringPatterns;function TabStringPatterns$1(b,$){this.tuning=b._super.params.tuning,this.tuning||(this.tuning=$),b.tuning=this.tuning,this.strings=new StringPatterns(b)}TabStringPatterns$1.prototype.notesToNumber=function(b,$){var _e=this.strings;return _e.notesToNumber(b,$)};TabStringPatterns$1.prototype.stringToPitch=function(b){var $=this.strings;return $.stringToPitch(b)};var tabStringPatterns=TabStringPatterns$1,StringTablature$1=stringTablature,TabCommon=tabCommon,TabRenderer=tabRenderer,TabStringPatterns=tabStringPatterns;Plugin.prototype.init=function(b,$,_e,et,tt){var nt=new TabCommon(b,$,_e);this.abcTune=b,this._super=nt,this.linePitch=3,this.nbLines=tt.defaultTuning.length,this.isTabBig=tt.isTabBig,this.tabSymbolOffset=tt.tabSymbolOffset,this.capo=_e.capo,this.transpose=_e.visualTranspose,this.hideTabSymbol=_e.hideTabSymbol,this.tablature=new StringTablature$1(this.nbLines,this.linePitch);var rt=new TabStringPatterns(this,tt.defaultTuning);this.semantics=rt};Plugin.prototype.render=function(b,$,_e){if(!this._super.inError&&!this.tablature.bypass($)){var et=new TabRenderer(this,b,$,_e);et.doLayout()}};function Plugin(){}var AbcStringTab=function(){return{name:"StringTab",tablature:Plugin}},tabString=AbcStringTab,StringTablature=tabString,pluginTab={violin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},fiddle:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},mandolin:{name:"StringTab",defaultTuning:["G,","D","A","e"],isTabBig:!1,tabSymbolOffset:0},guitar:{name:"StringTab",defaultTuning:["E,","A,","D","G","B","e"],isTabBig:!0,tabSymbolOffset:0},fiveString:{name:"StringTab",defaultTuning:["C,","G,","D","A","e"],isTabBig:!1,tabSymbolOffset:-.95}},abcTablatures={inited:!1,plugins:{},register:function(b){var $=b.name,_e=b.tablature;this.plugins[$]=_e},setError:function(b,$){b.warnings?b.warning.push($):b.warnings=[$]},preparePlugins:function(b,$,_e){var et=null;if(_e.tablature){var tt=_e.tablature;et=[];for(var nt=0;nt<tt.length;nt++){var rt=tt[nt],ot=rt.instrument;if(ot==null)return this.setError(b,"tablature 'instrument' is missing"),et;var st=pluginTab[ot],ct=null;if(st&&(ct=this.plugins[st.name]),ct){_e.visualTranspose!=0&&(rt.visualTranspose=_e.visualTranspose),rt.abcSrc=_e.tablature.abcSrc;var lt={classz:ct,tuneNumber:$,params:rt,instance:null,tabType:st};et.push(lt)}else if(ot==="")et.push(null);else return this.setError(b,"Undefined tablature plugin: "+ot),et}}return et},layoutTablatures:function b($,_e){var et=_e.tablatures,tt=0;if(et&&et.length>0)for(var nt=et.length,rt=0;rt<nt;++rt)et[rt]&&et[rt].params.firstStaffOnly&&(et[rt].params.suppress=!1);for(var ot=0;ot<_e.lines.length;ot++){var st=_e.lines[ot];if(st.staff&&tt++,tt>1&&et&&et.length>0)for(var nt=et.length,rt=0;rt<nt;++rt)et[rt].params.firstStaffOnly&&(et[rt].params.suppress=!0);var ct=st.staff;if(ct){for(var lt=ct.length,at=0;at<ct.length;at++)if(et[at]&&at<lt){var it=et[at];it.instance==null&&(it.instance=new it.classz,it.instance.init(_e,it.tuneNumber,it.params,at,it.tabType)),it.instance.render($,st,at)}}}},init:function(){this.inited||(this.register(new StringTablature),this.inited=!0)}},abc_tablatures=abcTablatures,Parse$1=abc_parse,bookParser=abc_parse_book,tablatures$1=abc_tablatures,tunebook$2={};(function(){tunebook$2.numberOfTunes=function($){var _e=$.split(`
X:`),et=_e.length;return et===0&&(et=1),et};var b=tunebook$2.TuneBook=function($){var _e=bookParser($);this.header=_e.header,this.tunes=_e.tunes};b.prototype.getTuneById=function($){for(var _e=0;_e<this.tunes.length;_e++)if(this.tunes[_e].id===""+$)return this.tunes[_e];return null},b.prototype.getTuneByTitle=function($){for(var _e=0;_e<this.tunes.length;_e++)if(this.tunes[_e].title===$)return this.tunes[_e];return null},tunebook$2.parseOnly=function($,_e){for(var et=tunebook$2.numberOfTunes($),tt=[],nt=0;nt<et;nt++)tt.push(1);function rt(){}return tunebook$2.renderEngine(rt,tt,$,_e)},tunebook$2.renderEngine=function($,_e,et,tt){var nt=[],rt=function(ht){return ht&&!ht.propertyIsEnumerable("length")&&typeof ht=="object"&&typeof ht.length=="number"};if(!(_e===void 0||et===void 0)){rt(_e)||(_e=[_e]),tt===void 0&&(tt={});for(var ot=tt.startingTune?parseInt(tt.startingTune,10):0,st=new b(et),ct=new Parse$1,lt=0;lt<_e.length;lt++){var at=_e[lt];if(at==="*"||typeof at=="string"&&(at=document.getElementById(at)),at)if(ot>=0&&ot<st.tunes.length){ct.parse(st.tunes[ot].abc,tt,st.tunes[ot].startPos-st.header.length);var it=ct.getTune();tt.tablature&&(tablatures$1.init(),it.tablatures=tablatures$1.preparePlugins(it,ot,tt));var ut=ct.getWarnings();ut&&(it.warnings=ut);var dt=$(at,it,lt,st.tunes[ot].abc);nt.push(dt||it)}else at.innerHTML&&(at.innerHTML="");ot++}return nt}},tunebook$2.extractMeasures=function($){for(var _e=[],et=new b($),tt=0;tt<et.tunes.length;tt++){for(var nt=et.tunes[tt],rt=nt.abc.split("K:"),ot=rt[1].split(`
`),st=rt[0]+"K:"+ot[0]+`
`,ct=null,lt=null,at=null,it=[],ut=!1,dt=tunebook$2.parseOnly(nt.abc)[0],ht=dt.getPickupLength()>0,ft=0;ft<dt.lines.length;ft++){var pt=dt.lines[ft];if(pt.staff)for(var mt=0;mt<1;mt++)for(var gt=pt.staff[mt],vt=0;vt<1;vt++)for(var yt=gt.voices[vt],bt=0;bt<yt.length;bt++){var xt=yt[bt];if(at===null&&xt.startChar>=0&&(at=xt.startChar,xt.chord===void 0?lt=ct:lt=null),xt.chord&&(ct=xt),xt.el_type==="bar"){if(ut){var _t=nt.abc.substring(at,xt.endChar),wt={abc:_t};ct=lt&&lt.chord&&lt.chord.length>0?lt.chord[0].name:null,ct&&(wt.lastChord=ct),xt.startEnding&&(wt.startEnding=xt.startEnding),xt.endEnding&&(wt.endEnding=xt.endEnding),it.push(wt),at=null,ut=!1}}else xt.el_type==="note"&&(ut=!0)}}_e.push({header:st,measures:it,hasPickup:ht})}return _e}})();var abc_tunebook=tunebook$2,keyAccidentals=keyAccidentals_1,{relativeMajor,transposeKey,relativeMode}=relativeMajor_1,transposeChordName=transposeChord,strTranspose$1;(function(){strTranspose$1=function(gt,vt,yt){if(vt==="TEST")return{keyAccidentals,relativeMajor,transposeKey,relativeMode,transposeChordName};yt=parseInt(yt,10);var bt=[],xt;for(xt=0;xt<vt.length;xt++)bt=bt.concat(b(gt,vt[xt],yt));bt=bt.sort(function(At,Pt){return Pt.start-At.start});var _t=gt.split("");for(xt=0;xt<bt.length;xt++){var wt=bt[xt];_t.splice(wt.start,wt.end-wt.start,wt.note)}return _t.join("")};function b(gt,vt,yt){var bt=[],xt=vt.getKeySignature();if(xt.root==="Hp"||xt.root==="HP")return bt;bt=bt.concat($(gt,yt));for(var _t=0;_t<vt.lines.length;_t++){var wt=vt.lines[_t].staff;if(wt)for(var At=0;At<wt.length;At++){var Pt=wt[At];Pt.clef.type!=="perc"&&(bt=bt.concat(_e(gt,Pt.voices,Pt.key,yt)))}}return bt}function $(gt,vt){for(var yt=[],bt=gt.split("K:"),xt=bt[0].length,_t=1;_t<bt.length;_t++){var wt=bt[_t],At=wt.match(/^( *)([A-G])([#b]?)(\w*)/);if(At){var Pt=xt+2+At[1].length,jt=At[2]+At[3]+At[4],kt=st({root:At[2],acc:At[3],mode:At[4]},vt),St=kt.root+kt.acc+kt.mode;yt.push({start:Pt,end:Pt+jt.length,note:St})}xt+=wt.length+2}return yt}function _e(gt,vt,yt,bt){for(var xt=[],_t=st(yt,bt),wt=0;wt<vt.length;wt++)xt=xt.concat(nt(gt,vt[wt],yt.root,et(yt),_t,bt));return xt}function et(gt){for(var vt={},yt=0;yt<gt.accidentals.length;yt++){var bt=gt.accidentals[yt];bt.acc==="flat"?vt[bt.note.toUpperCase()]="_":bt.acc==="sharp"&&(vt[bt.note.toUpperCase()]="^")}return vt}function tt(gt,vt,yt){var bt=rt.indexOf(gt.root)-rt.indexOf(vt);return vt==="none"&&(bt=rt.indexOf(gt.root)),bt===0?yt>2?bt+=7:yt===-12&&(bt-=7):yt>0&&bt<0?bt+=7:yt<0&&bt>0&&(bt-=7),yt>12?bt+=7:yt<-12&&(bt-=7),bt}function nt(gt,vt,yt,bt,xt,_t){for(var wt=[],At=tt(xt,yt,_t),Pt={},jt={},kt=0;kt<vt.length;kt++){var St=vt[kt];if(St.chord)for(var Ct=0;Ct<St.chord.length;Ct++){var Et=St.chord[Ct];if(Et.position==="default"){var Tt=xt.accidentals.length&&xt.accidentals[0].acc==="flat",$t=transposeChordName(Et.name,_t,Tt,!0);$t=$t.replace(/♭/g,"b").replace(/♯/g,"#"),$t!==Et.name&&wt.push(pt(gt,St.startChar,St.endChar,$t))}}if(St.el_type==="note"&&St.pitches){for(var Ot=0;Ot<St.pitches.length;Ot++){var Rt=dt(St.pitches[Ot].name,yt,bt,Pt);Rt.acc&&(Pt[Rt.name.toUpperCase()]=Rt.acc);var Nt=ct(Rt,xt,At,jt);Nt.acc&&(jt[Nt.upper]=Nt.acc),wt.push(ht(gt,St.startChar,St.endChar,Nt.acc+Nt.name,Ot))}if(St.gracenotes)for(var Ft=0;Ft<St.gracenotes.length;Ft++){var Ht=dt(St.gracenotes[Ft].name,yt,bt,Pt);Ht.acc&&(Pt[Ht.name.toUpperCase()]=Ht.acc);var zt=ct(Ht,xt,At,Pt);zt.acc&&(jt[zt.upper]=zt.acc),wt.push(ft(gt,St.startChar,St.endChar,zt.acc+zt.name,Ft))}}else St.el_type==="bar"?(Pt={},jt={}):St.el_type==="keySignature"&&(yt=St.root,bt=et(St),xt=st(St,_t),At=tt(xt,yt,_t))}return wt}var rt="CDEFGAB",ot=[",,,,",",,,",",,",",","","'","''","'''","''''"];function st(gt,vt){if(gt.root==="none")return{root:transposeKey("C",vt),mode:"",acc:"",accidentals:[]};var yt=relativeMajor(gt.root+gt.acc+gt.mode),bt=transposeKey(yt,vt),xt=relativeMode(bt,gt.mode),_t=keyAccidentals(bt);return{root:xt[0],mode:gt.mode,acc:xt.length>1?xt[1]:"",accidentals:_t}}function ct(gt,vt,yt,bt){for(var xt=gt.pitch,_t=rt.indexOf(gt.name),wt=rt.indexOf(vt.root),At=(wt+xt)%7,Pt=_t+yt,jt=gt.oct;Pt>6;)jt++,Pt-=7;for(;Pt<0;)jt--,Pt+=7;for(var kt=rt[At],St="",Ct=gt.adj,Et="=",Tt=0;Tt<vt.accidentals.length;Tt++)if(vt.accidentals[Tt].note.toLowerCase()===kt.toLowerCase()){Ct=Ct+(vt.accidentals[Tt].acc==="flat"?-1:1),Et=vt.accidentals[Tt].acc==="flat"?"_":"^";break}switch(Ct){case-2:St="__";break;case-1:St="_";break;case 0:St="=";break;case 1:St="^";break;case 2:St="^^";break;case-3:var $t={};return $t.pitch=gt.pitch-1,$t.oct=gt.oct,$t.name=rt[rt.indexOf(gt.name)-1],$t.name||($t.name="B",$t.oct--),$t.name==="B"||$t.name==="E"?$t.adj=gt.adj+1:$t.adj=gt.adj+2,ct($t,vt,yt+1,bt);case 3:var $t={};return $t.pitch=gt.pitch+1,$t.oct=gt.oct,$t.name=rt[rt.indexOf(gt.name)+1],$t.name||($t.name="C",$t.oct++),$t.name==="C"||$t.name==="F"?$t.adj=gt.adj-1:$t.adj=gt.adj-2,ct($t,vt,yt+1,bt)}switch((bt[kt]===St||!bt[kt]&&St===Et)&&!gt.courtesy&&(St=""),jt){case 0:kt=kt+",,,";break;case 1:kt=kt+",,";break;case 2:kt=kt+",";break;case 4:kt=kt.toLowerCase();break;case 5:kt=kt.toLowerCase()+"'";break;case 6:kt=kt.toLowerCase()+"''";break;case 7:kt=kt.toLowerCase()+"'''";break;case 8:kt=kt.toLowerCase()+"''''";break}return jt>4&&(kt=kt.toLowerCase()),{acc:St,name:kt,upper:kt.toUpperCase()}}var lt=/([_^=]*)([A-Ga-g])([,']*)/,at=/([_^=]*[A-Ga-g][,']*)(\d*\/*\d*)([\>\<\-\)\.\s\\]*)/,it=/([_^=]*[A-Ga-g][,']*)?(\d*\/*\d*)?([\>\<\-\)]*)?/,ut=/(\s*)$/;function dt(gt,vt,yt,bt){var xt=vt==="none"?0:rt.indexOf(vt),_t=gt.match(lt),wt=_t[2].toUpperCase(),At=rt.indexOf(wt)-xt;At<0&&(At+=7);var Pt=ot.indexOf(_t[3]);wt===_t[2]&&Pt--;var jt=bt[wt]||yt[wt]||"=";return{acc:_t[1],name:wt,pitch:At,oct:Pt,adj:mt(_t[1],yt[wt],bt[wt]),courtesy:_t[1]===jt}}function ht(gt,vt,yt,bt,xt){var _t=gt.substring(vt,yt),wt=_t.match(new RegExp(at.source+ut.source),"");if(wt){var At=wt[1].length,Pt=wt[2].length+wt[3].length+wt[4].length,jt=yt-vt-At-Pt;vt+=jt,yt-=Pt}else{var kt=/([^\[]*)/,St=/\[/,Ct=/\-?](\d*\/*\d*)?([\>\<\-\)]*)/;if(wt=_t.match(new RegExp(kt.source+St.source+it.source+it.source+it.source+it.source+it.source+it.source+it.source+it.source+Ct.source+ut.source)),wt){for(var Et=1+wt[1].length,Tt=0;Tt<xt;Tt++)wt[Tt*3+2]&&(Et+=wt[Tt*3+2].length),wt[Tt*3+3]&&(Et+=wt[Tt*3+3].length),wt[Tt*3+4]&&(Et+=wt[Tt*3+4].length);vt+=Et;var $t=wt[xt*3+2]?wt[xt*3+2].length:0;yt=vt+$t}}return{start:vt,end:yt,note:bt}}function ft(gt,vt,yt,bt,xt){var _t=gt.substring(vt,yt),wt=/\{/,At=/\}/,Pt=/([^\{]*)/,jt=/(\/*)/,kt=_t.match(new RegExp(Pt.source+wt.source+jt.source+it.source+jt.source+it.source+jt.source+it.source+jt.source+it.source+jt.source+it.source+jt.source+it.source+jt.source+it.source+jt.source+it.source+At.source));if(kt){for(var St=1+kt[1].length,Ct=0;Ct<xt;Ct++)kt[Ct*3+2]&&(St+=kt[Ct*3+2].length),kt[Ct*3+3]&&(St+=kt[Ct*3+3].length),kt[Ct*3+4]&&(St+=kt[Ct*3+4].length),kt[Ct*3+5]&&(St+=kt[Ct*3+5].length);kt[xt*3+2]&&(St+=kt[Ct*3+2].length),vt+=St;var Et=kt[xt*3+3]?kt[xt*3+3].length:0;Et+=kt[xt*3+4]?kt[xt*3+4].length:0,Et+=kt[xt*3+5]?kt[xt*3+5].length:0,yt=vt+Et}return{start:vt,end:yt,note:bt}}function pt(gt,vt,yt,bt){var xt=gt.substring(vt,yt).match(/([^"]+)?(".+")+/);return xt[1]&&(vt+=xt[1].length),yt=vt+xt[2].length,{start:vt+1,end:yt-1,note:bt}}function mt(gt,vt,yt){if(!gt&&yt&&(gt=yt),!gt)return 0;switch(vt){case void 0:switch(gt){case"__":return-2;case"_":return-1;case"=":return 0;case"^":return 1;case"^^":return 2;default:return 0}case"_":switch(gt){case"__":return-1;case"_":return 0;case"=":return 1;case"^":return 2;case"^^":return 3;default:return 0}case"^":switch(gt){case"__":return-3;case"_":return-2;case"=":return-1;case"^":return 0;case"^^":return 1;default:return 0}}return 0}})();var output=strTranspose$1,BeamElem$1=function b($,_e,et,tt){this.type="BeamElem",this.isflat=!!et,this.isgrace=!!(_e&&_e==="grace"),this.forceup=!!(this.isgrace||_e&&_e==="up"),this.forcedown=!!(_e&&_e==="down"),this.elems=[],this.total=0,this.average=6,this.allrests=!0,this.stemHeight=$,this.beams=[],tt&&tt.duration?(this.duration=tt.duration,tt.startTriplet&&(this.duration*=tt.tripletMultiplier),this.duration=Math.round(this.duration*1e3)/1e3):this.duration=0};BeamElem$1.prototype.setHint=function(){this.hint=!0};BeamElem$1.prototype.runningDirection=function(b){var $=b.averagepitch;$!==void 0&&(this.total=Math.round(this.total+$),this.count||(this.count=0),this.count++)};BeamElem$1.prototype.add=function(b){var $=b.abcelem.averagepitch;$!==void 0&&(b.abcelem.rest||(this.allrests=!1),b.beam=this,this.elems.push(b),this.total=Math.round(this.total+$),(this.min===void 0||b.abcelem.minpitch<this.min)&&(this.min=b.abcelem.minpitch),(this.max===void 0||b.abcelem.maxpitch>this.max)&&(this.max=b.abcelem.maxpitch))};BeamElem$1.prototype.addBeam=function(b){this.beams.push(b)};BeamElem$1.prototype.setStemDirection=function(){if(this.average=calcAverage(this.total,this.count),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var b=6;this.stemsUp=this.average<b}delete this.count,this.total=0};BeamElem$1.prototype.calcDir=function(){if(this.average=calcAverage(this.total,this.elems.length),this.forceup)this.stemsUp=!0;else if(this.forcedown)this.stemsUp=!1;else{var b=6;this.stemsUp=this.average<b}for(var $=this.stemsUp?"up":"down",_e=0;_e<this.elems.length;_e++)for(var et=0;et<this.elems[_e].heads.length;et++)this.elems[_e].heads[et].stemDir=$};function calcAverage(b,$){return $?b/$:0}var beamElement=BeamElem$1,BraceElem$1=function b($,_e){this.startVoice=$,this.type=_e};BraceElem$1.prototype.setBottomStaff=function(b){this.endVoice=b,this.startVoice.header&&!this.endVoice.header&&(this.header=this.startVoice.header,delete this.startVoice.header)};BraceElem$1.prototype.continuing=function(b){this.lastContinuedVoice=b};BraceElem$1.prototype.getWidth=function(){return 10};BraceElem$1.prototype.isStartVoice=function(b){return!!(this.startVoice&&this.startVoice.staff&&this.startVoice.staff.voices.length>0&&this.startVoice.staff.voices[0]===b)};var braceElement=BraceElem$1,spacing$b=spacing_1,glyphs$8={0:{d:[["M",4.83,-14.97],["c",.33,-.03,1.11,0,1.47,.06],["c",1.68,.36,2.97,1.59,3.78,3.6],["c",1.2,2.97,.81,6.96,-.9,9.27],["c",-.78,1.08,-1.71,1.71,-2.91,1.95],["c",-.45,.09,-1.32,.09,-1.77,0],["c",-.81,-.18,-1.47,-.51,-2.07,-1.02],["c",-2.34,-2.07,-3.15,-6.72,-1.74,-10.2],["c",.87,-2.16,2.28,-3.42,4.14,-3.66],["z"],["m",1.11,.87],["c",-.21,-.06,-.69,-.09,-.87,-.06],["c",-.54,.12,-.87,.42,-1.17,.99],["c",-.36,.66,-.51,1.56,-.6,3],["c",-.03,.75,-.03,4.59,0,5.31],["c",.09,1.5,.27,2.4,.6,3.06],["c",.24,.48,.57,.78,.96,.9],["c",.27,.09,.78,.09,1.05,0],["c",.39,-.12,.72,-.42,.96,-.9],["c",.33,-.66,.51,-1.56,.6,-3.06],["c",.03,-.72,.03,-4.56,0,-5.31],["c",-.09,-1.47,-.27,-2.37,-.6,-3.03],["c",-.24,-.48,-.54,-.78,-.93,-.9],["z"]],w:10.78,h:14.959},1:{d:[["M",3.3,-15.06],["c",.06,-.06,.21,-.03,.66,.15],["c",.81,.39,1.08,.39,1.83,.03],["c",.21,-.09,.39,-.15,.42,-.15],["c",.12,0,.21,.09,.27,.21],["c",.06,.12,.06,.33,.06,5.94],["c",0,3.93,0,5.85,.03,6.03],["c",.06,.36,.15,.69,.27,.96],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.12,-.27,.21,-.6,.27,-.96],["c",.03,-.18,.03,-1.59,.03,-4.29],["c",0,-3.87,0,-4.05,-.06,-4.14],["c",-.09,-.15,-.18,-.24,-.39,-.24],["c",-.12,0,-.15,.03,-.21,.06],["c",-.03,.06,-.45,.99,-.96,2.13],["c",-.48,1.14,-.9,2.1,-.93,2.16],["c",-.06,.15,-.21,.24,-.33,.24],["c",-.24,0,-.42,-.18,-.42,-.39],["c",0,-.06,3.27,-7.62,3.33,-7.74],["z"]],w:8.94,h:15.058},2:{d:[["M",4.23,-14.97],["c",.57,-.06,1.68,0,2.34,.18],["c",.69,.18,1.5,.54,2.01,.9],["c",1.35,.96,1.95,2.25,1.77,3.81],["c",-.15,1.35,-.66,2.34,-1.68,3.15],["c",-.6,.48,-1.44,.93,-3.12,1.65],["c",-1.32,.57,-1.8,.81,-2.37,1.14],["c",-.57,.33,-.57,.33,-.24,.27],["c",.39,-.09,1.26,-.09,1.68,0],["c",.72,.15,1.41,.45,2.1,.9],["c",.99,.63,1.86,.87,2.55,.75],["c",.24,-.06,.42,-.15,.57,-.3],["c",.12,-.09,.3,-.42,.3,-.51],["c",0,-.09,.12,-.21,.24,-.24],["c",.18,-.03,.39,.12,.39,.3],["c",0,.12,-.15,.57,-.3,.87],["c",-.54,1.02,-1.56,1.74,-2.79,2.01],["c",-.42,.09,-1.23,.09,-1.62,.03],["c",-.81,-.18,-1.32,-.45,-2.01,-1.11],["c",-.45,-.45,-.63,-.57,-.96,-.69],["c",-.84,-.27,-1.89,.12,-2.25,.9],["c",-.12,.21,-.21,.54,-.21,.72],["c",0,.12,-.12,.21,-.27,.24],["c",-.15,0,-.27,-.03,-.33,-.15],["c",-.09,-.21,.09,-1.08,.33,-1.71],["c",.24,-.66,.66,-1.26,1.29,-1.89],["c",.45,-.45,.9,-.81,1.92,-1.56],["c",1.29,-.93,1.89,-1.44,2.34,-1.98],["c",.87,-1.05,1.26,-2.19,1.2,-3.63],["c",-.06,-1.29,-.39,-2.31,-.96,-2.91],["c",-.36,-.33,-.72,-.51,-1.17,-.54],["c",-.84,-.03,-1.53,.42,-1.59,1.05],["c",-.03,.33,.12,.6,.57,1.14],["c",.45,.54,.54,.87,.42,1.41],["c",-.15,.63,-.54,1.11,-1.08,1.38],["c",-.63,.33,-1.2,.33,-1.83,0],["c",-.24,-.12,-.33,-.18,-.54,-.39],["c",-.18,-.18,-.27,-.3,-.36,-.51],["c",-.24,-.45,-.27,-.84,-.21,-1.38],["c",.12,-.75,.45,-1.41,1.02,-1.98],["c",.72,-.72,1.74,-1.17,2.85,-1.32],["z"]],w:10.764,h:14.97},3:{d:[["M",3.78,-14.97],["c",.3,-.03,1.41,0,1.83,.06],["c",2.22,.3,3.51,1.32,3.72,2.91],["c",.03,.33,.03,1.26,-.03,1.65],["c",-.12,.84,-.48,1.47,-1.05,1.77],["c",-.27,.15,-.36,.24,-.45,.39],["c",-.09,.21,-.09,.36,0,.57],["c",.09,.15,.18,.24,.51,.39],["c",.75,.42,1.23,1.14,1.41,2.13],["c",.06,.42,.06,1.35,0,1.71],["c",-.18,.81,-.48,1.38,-1.02,1.95],["c",-.75,.72,-1.8,1.2,-3.18,1.38],["c",-.42,.06,-1.56,.06,-1.95,0],["c",-1.89,-.33,-3.18,-1.29,-3.51,-2.64],["c",-.03,-.12,-.03,-.33,-.03,-.6],["c",0,-.36,0,-.42,.06,-.63],["c",.12,-.3,.27,-.51,.51,-.75],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.51,.36,-.63,.54,-.6,.87],["c",.06,.54,.54,.9,1.38,.99],["c",.36,.06,.72,.03,.96,-.06],["c",.81,-.27,1.29,-1.23,1.44,-2.79],["c",.03,-.45,.03,-1.95,-.03,-2.37],["c",-.09,-.75,-.33,-1.23,-.75,-1.44],["c",-.33,-.18,-.45,-.18,-1.98,-.18],["c",-1.35,0,-1.41,0,-1.5,-.06],["c",-.18,-.12,-.24,-.39,-.12,-.6],["c",.12,-.15,.15,-.15,1.68,-.15],["c",1.5,0,1.62,0,1.89,-.15],["c",.18,-.09,.42,-.36,.54,-.57],["c",.18,-.42,.27,-.9,.3,-1.95],["c",.03,-1.2,-.06,-1.8,-.36,-2.37],["c",-.24,-.48,-.63,-.81,-1.14,-.96],["c",-.3,-.06,-1.08,-.06,-1.38,.03],["c",-.6,.15,-.9,.42,-.96,.84],["c",-.03,.3,.06,.45,.63,.84],["c",.33,.24,.42,.39,.45,.63],["c",.03,.72,-.57,1.5,-1.32,1.65],["c",-1.05,.27,-2.1,-.57,-2.1,-1.65],["c",0,-.45,.15,-.96,.39,-1.38],["c",.12,-.21,.54,-.63,.81,-.81],["c",.57,-.42,1.38,-.69,2.25,-.81],["z"]],w:9.735,h:14.967},4:{d:[["M",8.64,-14.94],["c",.27,-.09,.42,-.12,.54,-.03],["c",.09,.06,.15,.21,.15,.3],["c",-.03,.06,-1.92,2.31,-4.23,5.04],["c",-2.31,2.73,-4.23,4.98,-4.26,5.01],["c",-.03,.06,.12,.06,2.55,.06],["l",2.61,0],["l",0,-2.37],["c",0,-2.19,.03,-2.37,.06,-2.46],["c",.03,-.06,.21,-.18,.57,-.42],["c",1.08,-.72,1.38,-1.08,1.86,-2.16],["c",.12,-.3,.24,-.54,.27,-.57],["c",.12,-.12,.39,-.06,.45,.12],["c",.06,.09,.06,.57,.06,3.96],["l",0,3.9],["l",1.08,0],["c",1.05,0,1.11,0,1.2,.06],["c",.24,.15,.24,.54,0,.69],["c",-.09,.06,-.15,.06,-1.2,.06],["l",-1.08,0],["l",0,.33],["c",0,.57,.09,1.11,.3,1.53],["c",.36,.75,.93,1.17,1.68,1.26],["c",.3,.03,.39,.09,.39,.3],["c",0,.15,-.03,.18,-.09,.24],["c",-.06,.06,-.09,.06,-.48,.06],["c",-.42,0,-.69,-.03,-2.1,-.24],["c",-.9,-.15,-1.77,-.15,-2.67,0],["c",-1.41,.21,-1.68,.24,-2.1,.24],["c",-.39,0,-.42,0,-.48,-.06],["c",-.06,-.06,-.06,-.09,-.06,-.24],["c",0,-.21,.06,-.27,.36,-.3],["c",.75,-.09,1.32,-.51,1.68,-1.26],["c",.21,-.42,.3,-.96,.3,-1.53],["l",0,-.33],["l",-2.7,0],["c",-2.91,0,-2.85,0,-3.09,-.15],["c",-.18,-.12,-.3,-.39,-.27,-.54],["c",.03,-.06,.18,-.24,.33,-.45],["c",.75,-.9,1.59,-2.07,2.13,-3.03],["c",.33,-.54,.84,-1.62,1.05,-2.16],["c",.57,-1.41,.84,-2.64,.9,-4.05],["c",.03,-.63,.06,-.72,.24,-.81],["l",.12,-.06],["l",.45,.12],["c",.66,.18,1.02,.24,1.47,.27],["c",.6,.03,1.23,-.09,2.01,-.33],["z"]],w:11.795,h:14.994},5:{d:[["M",1.02,-14.94],["c",.12,-.09,.03,-.09,1.08,.06],["c",2.49,.36,4.35,.36,6.96,-.06],["c",.57,-.09,.66,-.06,.81,.06],["c",.15,.18,.12,.24,-.15,.51],["c",-1.29,1.26,-3.24,2.04,-5.58,2.31],["c",-.6,.09,-1.2,.12,-1.71,.12],["c",-.39,0,-.45,0,-.57,.06],["c",-.09,.06,-.15,.12,-.21,.21],["l",-.06,.12],["l",0,1.65],["l",0,1.65],["l",.21,-.21],["c",.66,-.57,1.41,-.96,2.19,-1.14],["c",.33,-.06,1.41,-.06,1.95,0],["c",2.61,.36,4.02,1.74,4.26,4.14],["c",.03,.45,.03,1.08,-.03,1.44],["c",-.18,1.02,-.78,2.01,-1.59,2.7],["c",-.72,.57,-1.62,1.02,-2.49,1.2],["c",-1.38,.27,-3.03,.06,-4.2,-.54],["c",-1.08,-.54,-1.71,-1.32,-1.86,-2.28],["c",-.09,-.69,.09,-1.29,.57,-1.74],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.36,.33,.57,.75,.6,1.2],["c",0,.21,0,.27,-.06,.42],["c",-.09,.18,-.12,.24,-.54,.54],["c",-.18,.12,-.36,.3,-.42,.33],["c",-.36,.42,-.18,.99,.36,1.26],["c",.51,.27,1.47,.36,2.01,.27],["c",.93,-.21,1.47,-1.17,1.65,-2.91],["c",.06,-.45,.06,-1.89,0,-2.31],["c",-.15,-1.2,-.51,-2.1,-1.05,-2.55],["c",-.21,-.18,-.54,-.36,-.81,-.39],["c",-.3,-.06,-.84,-.03,-1.26,.06],["c",-.93,.18,-1.65,.6,-2.16,1.2],["c",-.15,.21,-.27,.3,-.39,.3],["c",-.15,0,-.3,-.09,-.36,-.18],["c",-.06,-.09,-.06,-.15,-.06,-3.66],["c",0,-3.39,0,-3.57,.06,-3.66],["c",.03,-.06,.09,-.15,.15,-.18],["z"]],w:10.212,h:14.997},6:{d:[["M",4.98,-14.97],["c",.36,-.03,1.2,0,1.59,.06],["c",.9,.15,1.68,.51,2.25,1.05],["c",.57,.51,.87,1.23,.84,1.98],["c",-.03,.51,-.21,.9,-.6,1.26],["c",-.24,.24,-.45,.39,-.75,.51],["c",-.21,.06,-.27,.06,-.6,.06],["c",-.33,0,-.39,0,-.6,-.06],["c",-.3,-.12,-.51,-.27,-.75,-.51],["c",-.39,-.36,-.57,-.78,-.57,-1.26],["c",0,-.27,0,-.3,.09,-.42],["c",.03,-.09,.18,-.21,.3,-.3],["c",.12,-.09,.3,-.21,.39,-.27],["c",.09,-.06,.21,-.18,.27,-.24],["c",.06,-.12,.09,-.15,.09,-.33],["c",0,-.18,-.03,-.24,-.09,-.36],["c",-.24,-.39,-.75,-.6,-1.38,-.57],["c",-.54,.03,-.9,.18,-1.23,.48],["c",-.81,.72,-1.08,2.16,-.96,5.37],["l",0,.63],["l",.3,-.12],["c",.78,-.27,1.29,-.33,2.1,-.27],["c",1.47,.12,2.49,.54,3.27,1.29],["c",.48,.51,.81,1.11,.96,1.89],["c",.06,.27,.06,.42,.06,.93],["c",0,.54,0,.69,-.06,.96],["c",-.15,.78,-.48,1.38,-.96,1.89],["c",-.54,.51,-1.17,.87,-1.98,1.08],["c",-1.14,.3,-2.4,.33,-3.24,.03],["c",-1.5,-.48,-2.64,-1.89,-3.27,-4.02],["c",-.36,-1.23,-.51,-2.82,-.42,-4.08],["c",.3,-3.66,2.28,-6.3,4.95,-6.66],["z"],["m",.66,7.41],["c",-.27,-.09,-.81,-.12,-1.08,-.06],["c",-.72,.18,-1.08,.69,-1.23,1.71],["c",-.06,.54,-.06,3,0,3.54],["c",.18,1.26,.72,1.77,1.8,1.74],["c",.39,-.03,.63,-.09,.9,-.27],["c",.66,-.42,.9,-1.32,.9,-3.24],["c",0,-2.22,-.36,-3.12,-1.29,-3.42],["z"]],w:9.956,h:14.982},7:{d:[["M",.21,-14.97],["c",.21,-.06,.45,0,.54,.15],["c",.06,.09,.06,.15,.06,.39],["c",0,.24,0,.33,.06,.42],["c",.06,.12,.21,.24,.27,.24],["c",.03,0,.12,-.12,.24,-.21],["c",.96,-1.2,2.58,-1.35,3.99,-.42],["c",.15,.12,.42,.3,.54,.45],["c",.48,.39,.81,.57,1.29,.6],["c",.69,.03,1.5,-.3,2.13,-.87],["c",.09,-.09,.27,-.3,.39,-.45],["c",.12,-.15,.24,-.27,.3,-.3],["c",.18,-.06,.39,.03,.51,.21],["c",.06,.18,.06,.24,-.27,.72],["c",-.18,.24,-.54,.78,-.78,1.17],["c",-2.37,3.54,-3.54,6.27,-3.87,9],["c",-.03,.33,-.03,.66,-.03,1.26],["c",0,.9,0,1.08,.15,1.89],["c",.06,.45,.06,.48,.03,.6],["c",-.06,.09,-.21,.21,-.3,.21],["c",-.03,0,-.27,-.06,-.54,-.15],["c",-.84,-.27,-1.11,-.3,-1.65,-.3],["c",-.57,0,-.84,.03,-1.56,.27],["c",-.6,.18,-.69,.21,-.81,.15],["c",-.12,-.06,-.21,-.18,-.21,-.3],["c",0,-.15,.6,-1.44,1.2,-2.61],["c",1.14,-2.22,2.73,-4.68,5.1,-8.01],["c",.21,-.27,.36,-.48,.33,-.48],["c",0,0,-.12,.06,-.27,.12],["c",-.54,.3,-.99,.39,-1.56,.39],["c",-.75,.03,-1.2,-.18,-1.83,-.75],["c",-.99,-.9,-1.83,-1.17,-2.31,-.72],["c",-.18,.15,-.36,.51,-.45,.84],["c",-.06,.24,-.06,.33,-.09,1.98],["c",0,1.62,-.03,1.74,-.06,1.8],["c",-.15,.24,-.54,.24,-.69,0],["c",-.06,-.09,-.06,-.15,-.06,-3.57],["c",0,-3.42,0,-3.48,.06,-3.57],["c",.03,-.06,.09,-.12,.15,-.15],["z"]],w:10.561,h:15.093},8:{d:[["M",4.98,-14.97],["c",.33,-.03,1.02,-.03,1.32,0],["c",1.32,.12,2.49,.6,3.21,1.32],["c",.39,.39,.66,.81,.78,1.29],["c",.09,.36,.09,1.08,0,1.44],["c",-.21,.84,-.66,1.59,-1.59,2.55],["l",-.3,.3],["l",.27,.18],["c",1.47,.93,2.31,2.31,2.25,3.75],["c",-.03,.75,-.24,1.35,-.63,1.95],["c",-.45,.66,-1.02,1.14,-1.83,1.53],["c",-1.8,.87,-4.2,.87,-6,.03],["c",-1.62,-.78,-2.52,-2.16,-2.46,-3.66],["c",.06,-.99,.54,-1.77,1.8,-2.97],["c",.54,-.51,.54,-.54,.48,-.57],["c",-.39,-.27,-.96,-.78,-1.2,-1.14],["c",-.75,-1.11,-.87,-2.4,-.3,-3.6],["c",.69,-1.35,2.25,-2.25,4.2,-2.4],["z"],["m",1.53,.69],["c",-.42,-.09,-1.11,-.12,-1.38,-.06],["c",-.3,.06,-.6,.18,-.81,.3],["c",-.21,.12,-.6,.51,-.72,.72],["c",-.51,.87,-.42,1.89,.21,2.52],["c",.21,.21,.36,.3,1.95,1.23],["c",.96,.54,1.74,.99,1.77,1.02],["c",.09,0,.63,-.6,.99,-1.11],["c",.21,-.36,.48,-.87,.57,-1.23],["c",.06,-.24,.06,-.36,.06,-.72],["c",0,-.45,-.03,-.66,-.15,-.99],["c",-.39,-.81,-1.29,-1.44,-2.49,-1.68],["z"],["m",-1.44,8.07],["l",-1.89,-1.08],["c",-.03,0,-.18,.15,-.39,.33],["c",-1.2,1.08,-1.65,1.95,-1.59,3],["c",.09,1.59,1.35,2.85,3.21,3.24],["c",.33,.06,.45,.06,.93,.06],["c",.63,0,.81,-.03,1.29,-.27],["c",.9,-.42,1.47,-1.41,1.41,-2.4],["c",-.06,-.66,-.39,-1.29,-.9,-1.65],["c",-.12,-.09,-1.05,-.63,-2.07,-1.23],["z"]],w:10.926,h:14.989},9:{d:[["M",4.23,-14.97],["c",.42,-.03,1.29,0,1.62,.06],["c",.51,.12,.93,.3,1.38,.57],["c",1.53,1.02,2.52,3.24,2.73,5.94],["c",.18,2.55,-.48,4.98,-1.83,6.57],["c",-1.05,1.26,-2.4,1.89,-3.93,1.83],["c",-1.23,-.06,-2.31,-.45,-3.03,-1.14],["c",-.57,-.51,-.87,-1.23,-.84,-1.98],["c",.03,-.51,.21,-.9,.6,-1.26],["c",.24,-.24,.45,-.39,.75,-.51],["c",.21,-.06,.27,-.06,.6,-.06],["c",.33,0,.39,0,.6,.06],["c",.3,.12,.51,.27,.75,.51],["c",.39,.36,.57,.78,.57,1.26],["c",0,.27,0,.3,-.09,.42],["c",-.03,.09,-.18,.21,-.3,.3],["c",-.12,.09,-.3,.21,-.39,.27],["c",-.09,.06,-.21,.18,-.27,.24],["c",-.06,.12,-.06,.15,-.06,.33],["c",0,.18,0,.24,.06,.36],["c",.24,.39,.75,.6,1.38,.57],["c",.54,-.03,.9,-.18,1.23,-.48],["c",.81,-.72,1.08,-2.16,.96,-5.37],["l",0,-.63],["l",-.3,.12],["c",-.78,.27,-1.29,.33,-2.1,.27],["c",-1.47,-.12,-2.49,-.54,-3.27,-1.29],["c",-.48,-.51,-.81,-1.11,-.96,-1.89],["c",-.06,-.27,-.06,-.42,-.06,-.96],["c",0,-.51,0,-.66,.06,-.93],["c",.15,-.78,.48,-1.38,.96,-1.89],["c",.15,-.12,.33,-.27,.42,-.36],["c",.69,-.51,1.62,-.81,2.76,-.93],["z"],["m",1.17,.66],["c",-.21,-.06,-.57,-.06,-.81,-.03],["c",-.78,.12,-1.26,.69,-1.41,1.74],["c",-.12,.63,-.15,1.95,-.09,2.79],["c",.12,1.71,.63,2.4,1.77,2.46],["c",1.08,.03,1.62,-.48,1.8,-1.74],["c",.06,-.54,.06,-3,0,-3.54],["c",-.15,-1.05,-.51,-1.53,-1.26,-1.68],["z"]],w:9.959,h:14.986},"rests.multimeasure":{d:[["M",0,-4],["l",0,16],["l",1,0],["l",0,-5],["l",40,0],["l",0,5],["l",1,0],["l",0,-16],["l",-1,0],["l",0,5],["l",-40,0],["l",0,-5],["z"]],w:42,h:18},"rests.whole":{d:[["M",.06,.03],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.half":{d:[["M",.06,-4.62],["l",.09,-.06],["l",5.46,0],["l",5.49,0],["l",.09,.06],["l",.06,.09],["l",0,2.19],["l",0,2.19],["l",-.06,.09],["l",-.09,.06],["l",-5.49,0],["l",-5.46,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-2.19],["l",0,-2.19],["z"]],w:11.25,h:4.68},"rests.quarter":{d:[["M",1.89,-11.82],["c",.12,-.06,.24,-.06,.36,-.03],["c",.09,.06,4.74,5.58,4.86,5.82],["c",.21,.39,.15,.78,-.15,1.26],["c",-.24,.33,-.72,.81,-1.62,1.56],["c",-.45,.36,-.87,.75,-.96,.84],["c",-.93,.99,-1.14,2.49,-.6,3.63],["c",.18,.39,.27,.48,1.32,1.68],["c",1.92,2.25,1.83,2.16,1.83,2.34],["c",0,.18,-.18,.36,-.36,.39],["c",-.15,0,-.27,-.06,-.48,-.27],["c",-.75,-.75,-2.46,-1.29,-3.39,-1.08],["c",-.45,.09,-.69,.27,-.9,.69],["c",-.12,.3,-.21,.66,-.24,1.14],["c",-.03,.66,.09,1.35,.3,2.01],["c",.15,.42,.24,.66,.45,.96],["c",.18,.24,.18,.33,.03,.42],["c",-.12,.06,-.18,.03,-.45,-.3],["c",-1.08,-1.38,-2.07,-3.36,-2.4,-4.83],["c",-.27,-1.05,-.15,-1.77,.27,-2.07],["c",.21,-.12,.42,-.15,.87,-.15],["c",.87,.06,2.1,.39,3.3,.9],["l",.39,.18],["l",-1.65,-1.95],["c",-2.52,-2.97,-2.61,-3.09,-2.7,-3.27],["c",-.09,-.24,-.12,-.48,-.03,-.75],["c",.15,-.48,.57,-.96,1.83,-2.01],["c",.45,-.36,.84,-.72,.93,-.78],["c",.69,-.75,1.02,-1.8,.9,-2.79],["c",-.06,-.33,-.21,-.84,-.39,-1.11],["c",-.09,-.15,-.45,-.6,-.81,-1.05],["c",-.36,-.42,-.69,-.81,-.72,-.87],["c",-.09,-.18,0,-.42,.21,-.51],["z"]],w:7.888,h:21.435},"rests.8th":{d:[["M",1.68,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.33,-.09],["c",.39,-.18,1.32,-1.29,1.68,-1.98],["c",.09,-.21,.24,-.3,.39,-.3],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.27,1.11,-1.86,6.42],["c",-1.02,3.48,-1.89,6.39,-1.92,6.42],["c",0,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.15,-.57,1.68,-4.92],["c",.96,-2.67,1.74,-4.89,1.71,-4.89],["l",-.51,.15],["c",-1.08,.36,-1.74,.48,-2.55,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:7.534,h:13.883},"rests.16th":{d:[["M",3.33,-6.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.87,.42],["c",.39,-.18,1.2,-1.23,1.62,-2.07],["c",.06,-.15,.24,-.24,.36,-.24],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.45,1.86,-2.67,10.17],["c",-1.5,5.55,-2.73,10.14,-2.76,10.17],["c",-.03,.03,-.12,.12,-.24,.15],["c",-.18,.09,-.21,.09,-.45,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.12,-.57,1.44,-4.92],["c",.81,-2.67,1.47,-4.86,1.47,-4.89],["c",-.03,0,-.27,.06,-.54,.15],["c",-1.08,.36,-1.77,.48,-2.58,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.12,0,.18,0,.33,-.09],["c",.33,-.15,1.02,-.93,1.41,-1.59],["c",.12,-.21,.18,-.39,.39,-1.08],["c",.66,-2.1,1.17,-3.84,1.17,-3.87],["c",0,0,-.21,.06,-.42,.15],["c",-.51,.15,-1.2,.33,-1.68,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:9.724,h:21.383},"rests.32nd":{d:[["M",4.23,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.12,0,.18,0,.27,-.06],["c",.33,-.21,.99,-1.11,1.44,-1.98],["c",.09,-.24,.21,-.33,.39,-.33],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.57,2.67,-3.21,13.89],["c",-1.8,7.62,-3.3,13.89,-3.3,13.92],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.09,-.57,1.23,-4.92],["c",.69,-2.67,1.26,-4.86,1.29,-4.89],["c",0,-.03,-.12,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.12,.09,.3,.18,.48,.21],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.29,-1.29,1.56,-1.89],["c",.03,-.12,1.23,-4.59,1.23,-4.65],["c",0,-.03,-.18,.03,-.39,.12],["c",-.63,.18,-1.2,.36,-1.74,.45],["c",-.39,.06,-.54,.06,-1.02,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.18,.18,.51,.27,.72,.15],["c",.3,-.12,.69,-.57,1.08,-1.17],["c",.42,-.6,.39,-.51,1.05,-3.03],["c",.33,-1.26,.6,-2.31,.6,-2.34],["c",0,0,-.21,.03,-.45,.12],["c",-.57,.18,-1.14,.33,-1.62,.42],["c",-.33,.06,-.51,.06,-.96,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:11.373,h:28.883},"rests.64th":{d:[["M",5.13,-13.62],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.54,.3,.75,.18],["c",.24,-.12,.63,-.66,1.08,-1.56],["c",.33,-.66,.39,-.72,.6,-.72],["c",.12,0,.27,.09,.33,.18],["c",.03,.06,-.69,3.66,-3.54,17.64],["c",-1.95,9.66,-3.57,17.61,-3.57,17.64],["c",-.03,.06,-.12,.12,-.24,.18],["c",-.21,.09,-.24,.09,-.48,.09],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.06,-.57,1.05,-4.95],["c",.6,-2.7,1.08,-4.89,1.08,-4.92],["c",0,0,-.24,.06,-.51,.15],["c",-.66,.24,-1.2,.36,-1.77,.48],["c",-.42,.06,-.57,.06,-1.05,.06],["c",-.69,0,-.87,-.03,-1.35,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.72,-1.05,2.22,-1.23,3.06,-.42],["c",.3,.33,.42,.6,.6,1.38],["c",.09,.45,.21,.78,.33,.9],["c",.09,.09,.27,.18,.45,.21],["c",.21,.03,.39,-.09,.72,-.42],["c",.45,-.45,1.02,-1.26,1.17,-1.65],["c",.03,-.09,.27,-1.14,.54,-2.34],["c",.27,-1.2,.48,-2.19,.51,-2.22],["c",0,-.03,-.09,-.03,-.48,.12],["c",-1.17,.39,-2.22,.57,-3,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.15,.39,.57,.57,.9,.42],["c",.36,-.18,1.2,-1.26,1.47,-1.89],["c",.03,-.09,.3,-1.2,.57,-2.43],["l",.51,-2.28],["l",-.54,.18],["c",-1.11,.36,-1.8,.48,-2.61,.48],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.21,.21,.54,.3,.75,.18],["c",.36,-.18,.93,-.93,1.29,-1.68],["c",.12,-.24,.18,-.48,.63,-2.55],["l",.51,-2.31],["c",0,-.03,-.18,.03,-.39,.12],["c",-1.14,.36,-2.1,.54,-2.82,.51],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.453,h:36.383},"rests.128th":{d:[["M",6.03,-21.12],["c",.66,-.09,1.23,.09,1.68,.51],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.21,0,.33,-.06,.54,-.36],["c",.15,-.21,.54,-.93,.78,-1.47],["c",.15,-.33,.18,-.39,.3,-.48],["c",.18,-.09,.45,0,.51,.15],["c",.03,.09,-7.11,42.75,-7.17,42.84],["c",-.03,.03,-.15,.09,-.24,.15],["c",-.18,.06,-.24,.06,-.45,.06],["c",-.24,0,-.3,0,-.48,-.06],["c",-.09,-.06,-.21,-.12,-.21,-.15],["c",-.06,-.03,.03,-.57,.84,-4.98],["c",.51,-2.7,.93,-4.92,.9,-4.92],["c",0,0,-.15,.06,-.36,.12],["c",-.78,.27,-1.62,.48,-2.31,.57],["c",-.15,.03,-.54,.03,-.81,.03],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.63,.48],["c",.12,0,.18,0,.3,-.09],["c",.42,-.21,1.14,-1.11,1.5,-1.83],["c",.12,-.27,.12,-.27,.54,-2.52],["c",.24,-1.23,.42,-2.25,.39,-2.25],["c",0,0,-.24,.06,-.51,.18],["c",-1.26,.39,-2.25,.57,-3.06,.54],["c",-.42,-.03,-.75,-.12,-1.11,-.3],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.21,.51,.3,.75,.18],["c",.36,-.15,1.05,-.99,1.41,-1.77],["l",.15,-.3],["l",.42,-2.25],["c",.21,-1.26,.42,-2.28,.39,-2.28],["l",-.51,.15],["c",-1.11,.39,-1.89,.51,-2.7,.51],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.15,.63,.21,.81,.33,.96],["c",.18,.18,.48,.27,.72,.21],["c",.33,-.12,1.14,-1.26,1.41,-1.95],["c",0,-.09,.21,-1.11,.45,-2.34],["c",.21,-1.2,.39,-2.22,.39,-2.28],["c",.03,-.03,0,-.03,-.45,.12],["c",-.57,.18,-1.2,.33,-1.71,.42],["c",-.3,.06,-.51,.06,-.93,.06],["c",-.66,0,-.84,-.03,-1.32,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.36,-.54,.96,-.87,1.65,-.93],["c",.54,-.03,1.02,.15,1.41,.54],["c",.27,.3,.39,.54,.57,1.26],["c",.09,.33,.18,.66,.21,.72],["c",.12,.27,.33,.45,.6,.48],["c",.18,0,.36,-.09,.57,-.33],["c",.33,-.36,.78,-1.14,.93,-1.56],["c",.03,-.12,.24,-1.2,.45,-2.4],["c",.24,-1.2,.42,-2.22,.42,-2.28],["c",.03,-.03,0,-.03,-.39,.09],["c",-1.05,.36,-1.8,.48,-2.58,.48],["c",-.63,0,-.84,-.03,-1.29,-.27],["c",-1.32,-.63,-1.77,-2.16,-1.02,-3.3],["c",.33,-.45,.84,-.81,1.38,-.9],["z"]],w:12.992,h:43.883},"accidentals.sharp":{d:[["M",5.73,-11.19],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.31],["c",0,1.23,0,2.22,.03,2.22],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.43],["c",0,1.32,0,2.43,.03,2.43],["c",0,0,.27,-.12,.6,-.24],["c",.69,-.27,.78,-.3,.96,-.15],["c",.21,.15,.21,.18,.21,1.38],["c",0,1.02,0,1.11,-.06,1.2],["c",-.03,.06,-.09,.12,-.12,.15],["c",-.06,.03,-.42,.21,-.84,.36],["l",-.75,.33],["l",-.03,2.52],["c",0,2.28,-.03,2.55,-.06,2.64],["c",-.21,.36,-.72,.36,-.93,0],["c",-.03,-.09,-.06,-.33,-.06,-2.43],["l",0,-2.31],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.43],["c",0,2.58,0,2.52,-.15,2.67],["c",-.06,.09,-.27,.18,-.36,.18],["c",-.12,0,-.33,-.09,-.39,-.18],["c",-.15,-.15,-.15,-.09,-.15,-2.43],["c",0,-1.23,0,-2.22,-.03,-2.22],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.43],["c",0,-1.32,0,-2.43,-.03,-2.43],["c",0,0,-.27,.12,-.6,.24],["c",-.69,.27,-.78,.3,-.96,.15],["c",-.21,-.15,-.21,-.18,-.21,-1.38],["c",0,-1.02,0,-1.11,.06,-1.2],["c",.03,-.06,.09,-.12,.12,-.15],["c",.06,-.03,.42,-.21,.84,-.36],["l",.78,-.33],["l",0,-2.52],["c",0,-2.28,.03,-2.55,.06,-2.64],["c",.21,-.36,.72,-.36,.93,0],["c",.03,.09,.06,.33,.06,2.43],["l",.03,2.31],["l",1.26,-.51],["l",1.26,-.51],["l",0,-2.43],["c",0,-2.28,0,-2.43,.06,-2.55],["c",.06,-.12,.12,-.18,.27,-.24],["z"],["m",-.33,10.65],["l",0,-2.43],["l",-1.29,.51],["l",-1.26,.51],["l",0,2.46],["l",0,2.43],["l",.09,-.03],["c",.06,-.03,.63,-.27,1.29,-.51],["l",1.17,-.48],["l",0,-2.46],["z"]],w:8.25,h:22.462},"accidentals.halfsharp":{d:[["M",2.43,-10.05],["c",.21,-.12,.54,-.03,.66,.24],["c",.06,.12,.06,.21,.06,2.01],["c",0,1.05,0,1.89,.03,1.89],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.37],["c",0,1.32,0,2.37,.03,2.37],["l",.72,-.48],["c",.69,-.48,.69,-.51,.87,-.51],["c",.15,0,.18,.03,.27,.09],["c",.21,.15,.21,.18,.21,1.41],["c",0,1.11,-.03,1.14,-.09,1.23],["c",-.03,.03,-.48,.39,-1.02,.75],["l",-.99,.66],["l",0,2.25],["c",0,1.95,0,2.28,-.06,2.37],["c",-.06,.12,-.12,.21,-.24,.27],["c",-.27,.12,-.54,.03,-.69,-.24],["c",-.06,-.12,-.06,-.21,-.06,-2.01],["c",0,-1.05,0,-1.89,-.03,-1.89],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.37],["c",0,-1.32,0,-2.37,-.03,-2.37],["l",-.72,.48],["c",-.69,.48,-.69,.48,-.87,.48],["c",-.15,0,-.18,0,-.27,-.06],["c",-.21,-.15,-.21,-.18,-.21,-1.41],["c",0,-1.11,.03,-1.14,.09,-1.23],["c",.03,-.03,.48,-.39,1.02,-.75],["l",.99,-.66],["l",0,-2.25],["c",0,-2.13,0,-2.28,.06,-2.4],["c",.06,-.12,.12,-.18,.27,-.24],["z"]],w:5.25,h:20.174},"accidentals.nat":{d:[["M",.21,-11.4],["c",.24,-.06,.78,0,.99,.15],["c",.03,.03,.03,.48,0,2.61],["c",-.03,1.44,-.03,2.61,-.03,2.61],["c",0,.03,.75,-.09,1.68,-.24],["c",.96,-.18,1.71,-.27,1.74,-.27],["c",.15,.03,.27,.15,.36,.3],["l",.06,.12],["l",.09,8.67],["c",.09,6.96,.12,8.67,.09,8.67],["c",-.03,.03,-.12,.06,-.21,.09],["c",-.24,.09,-.72,.09,-.96,0],["c",-.09,-.03,-.18,-.06,-.21,-.09],["c",-.03,-.03,-.03,-.48,0,-2.61],["c",.03,-1.44,.03,-2.61,.03,-2.61],["c",0,-.03,-.75,.09,-1.68,.24],["c",-.96,.18,-1.71,.27,-1.74,.27],["c",-.15,-.03,-.27,-.15,-.36,-.3],["l",-.06,-.15],["l",-.09,-7.53],["c",-.06,-4.14,-.09,-8.04,-.12,-8.67],["l",0,-1.11],["l",.15,-.06],["c",.09,-.03,.21,-.06,.27,-.09],["z"],["m",3.75,8.4],["c",0,-.33,0,-.42,-.03,-.42],["c",-.12,0,-2.79,.45,-2.79,.48],["c",-.03,0,-.09,6.3,-.09,6.33],["c",.03,0,2.79,-.45,2.82,-.48],["c",0,0,.09,-4.53,.09,-5.91],["z"]],w:5.4,h:22.8},"accidentals.flat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:6.75,h:18.801},"accidentals.halfflat":{d:[["M",4.83,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.6,-.12,9.06],["c",-.09,5.55,-.15,9.06,-.18,9.12],["c",-.03,.09,-.09,.18,-.15,.27],["c",-.24,.21,-.54,.24,-.81,.06],["c",-.06,-.03,-.27,-.24,-.45,-.42],["c",-.36,-.42,-.66,-.66,-1.8,-1.44],["c",-1.23,-.84,-1.83,-1.32,-2.25,-1.77],["c",-.66,-.78,-.96,-1.56,-.93,-2.46],["c",.09,-1.41,1.11,-2.58,2.4,-2.79],["c",.3,-.06,.84,-.03,1.23,.06],["c",.54,.12,1.08,.33,1.53,.63],["c",.12,.09,.24,.15,.24,.12],["c",0,0,-.12,-8.37,-.18,-9.75],["l",0,-.66],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",-1.65,10.95],["c",-.6,-.18,-1.08,.09,-1.38,.69],["c",-.27,.6,-.36,1.38,-.18,2.07],["c",.12,.42,.42,.99,.72,1.41],["c",.3,.42,.93,1.05,1.56,1.59],["l",.48,.39],["l",0,-.12],["c",.03,-.09,.03,-.48,.06,-.9],["c",.03,-.57,.03,-1.08,0,-2.22],["c",-.03,-1.62,-.03,-1.62,-.24,-2.07],["c",-.21,-.42,-.6,-.75,-1.02,-.84],["z"]],w:6.728,h:18.801},"accidentals.dblflat":{d:[["M",-.36,-14.07],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"],["m",3,-11],["c",.33,-.06,.87,0,1.08,.15],["c",.06,.03,.06,.36,-.03,5.25],["c",-.06,2.85,-.09,5.19,-.09,5.19],["c",0,.03,.12,-.03,.24,-.12],["c",.63,-.42,1.41,-.66,2.19,-.72],["c",.81,-.03,1.47,.21,2.04,.78],["c",.57,.54,.87,1.26,.93,2.04],["c",.03,.57,-.09,1.08,-.36,1.62],["c",-.42,.81,-1.02,1.38,-2.82,2.61],["c",-1.14,.78,-1.44,1.02,-1.8,1.44],["c",-.18,.18,-.39,.39,-.45,.42],["c",-.27,.18,-.57,.15,-.81,-.06],["c",-.06,-.09,-.12,-.18,-.15,-.27],["c",-.03,-.06,-.09,-3.27,-.18,-8.34],["c",-.09,-4.53,-.15,-8.58,-.18,-9.03],["l",0,-.78],["l",.12,-.06],["c",.06,-.03,.18,-.09,.27,-.12],["z"],["m",3.18,11.01],["c",-.21,-.12,-.54,-.15,-.81,-.06],["c",-.54,.15,-.99,.63,-1.17,1.26],["c",-.06,.3,-.12,2.88,-.06,3.87],["c",.03,.42,.03,.81,.06,.9],["l",.03,.12],["l",.45,-.39],["c",.63,-.54,1.26,-1.17,1.56,-1.59],["c",.3,-.42,.6,-.99,.72,-1.41],["c",.18,-.69,.09,-1.47,-.18,-2.07],["c",-.15,-.3,-.33,-.51,-.6,-.63],["z"]],w:12.1,h:18.804},"accidentals.dblsharp":{d:[["M",-.18,-3.96],["c",.06,-.03,.12,-.06,.15,-.06],["c",.09,0,2.76,.27,2.79,.3],["c",.12,.03,.15,.12,.15,.51],["c",.06,.96,.24,1.59,.57,2.1],["c",.06,.09,.15,.21,.18,.24],["l",.09,.06],["l",.09,-.06],["c",.03,-.03,.12,-.15,.18,-.24],["c",.33,-.51,.51,-1.14,.57,-2.1],["c",0,-.39,.03,-.45,.12,-.51],["c",.03,0,.66,-.09,1.44,-.15],["c",1.47,-.15,1.5,-.15,1.56,-.03],["c",.03,.06,0,.42,-.09,1.44],["c",-.09,.72,-.15,1.35,-.15,1.38],["c",0,.03,-.03,.09,-.06,.12],["c",-.06,.06,-.12,.09,-.51,.09],["c",-1.08,.06,-1.8,.3,-2.28,.75],["l",-.12,.09],["l",.09,.09],["c",.12,.15,.39,.33,.63,.45],["c",.42,.18,.96,.27,1.68,.33],["c",.39,0,.45,.03,.51,.09],["c",.03,.03,.06,.09,.06,.12],["c",0,.03,.06,.66,.15,1.38],["c",.09,1.02,.12,1.38,.09,1.44],["c",-.06,.12,-.09,.12,-1.56,-.03],["c",-.78,-.06,-1.41,-.15,-1.44,-.15],["c",-.09,-.06,-.12,-.12,-.12,-.54],["c",-.06,-.93,-.24,-1.56,-.57,-2.07],["c",-.06,-.09,-.15,-.21,-.18,-.24],["l",-.09,-.06],["l",-.09,.06],["c",-.03,.03,-.12,.15,-.18,.24],["c",-.33,.51,-.51,1.14,-.57,2.07],["c",0,.42,-.03,.48,-.12,.54],["c",-.03,0,-.66,.09,-1.44,.15],["c",-1.47,.15,-1.5,.15,-1.56,.03],["c",-.03,-.06,0,-.42,.09,-1.44],["c",.09,-.72,.15,-1.35,.15,-1.38],["c",0,-.03,.03,-.09,.06,-.12],["c",.06,-.06,.12,-.09,.51,-.09],["c",.72,-.06,1.26,-.15,1.68,-.33],["c",.24,-.12,.51,-.3,.63,-.45],["l",.09,-.09],["l",-.12,-.09],["c",-.48,-.45,-1.2,-.69,-2.28,-.75],["c",-.39,0,-.45,-.03,-.51,-.09],["c",-.03,-.03,-.06,-.09,-.06,-.12],["c",0,-.03,-.06,-.63,-.12,-1.38],["c",-.09,-.72,-.15,-1.35,-.15,-1.38],["z"]],w:7.95,h:7.977},"dots.dot":{d:[["M",1.32,-1.68],["c",.09,-.03,.27,-.06,.39,-.06],["c",.96,0,1.74,.78,1.74,1.71],["c",0,.96,-.78,1.74,-1.71,1.74],["c",-.96,0,-1.74,-.78,-1.74,-1.71],["c",0,-.78,.54,-1.5,1.32,-1.68],["z"]],w:3.45,h:3.45},"noteheads.dbl":{d:[["M",-.69,-4.02],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["c",.06,.15,.06,.18,.06,1.41],["l",0,1.23],["l",.12,-.18],["c",.72,-1.26,2.64,-2.31,4.86,-2.64],["c",.81,-.15,1.11,-.15,2.13,-.15],["c",.99,0,1.29,0,2.1,.15],["c",.75,.12,1.38,.27,2.04,.54],["c",1.35,.51,2.34,1.26,2.82,2.1],["l",.12,.18],["l",0,-1.23],["c",0,-1.2,0,-1.26,.06,-1.38],["c",.09,-.18,.15,-.24,.33,-.33],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,3.54],["l",0,3.54],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.38],["l",0,-1.23],["l",-.12,.18],["c",-.48,.84,-1.47,1.59,-2.82,2.1],["c",-.84,.33,-1.71,.54,-2.85,.66],["c",-.45,.06,-2.16,.06,-2.61,0],["c",-1.14,-.12,-2.01,-.33,-2.85,-.66],["c",-1.35,-.51,-2.34,-1.26,-2.82,-2.1],["l",-.12,-.18],["l",0,1.23],["c",0,1.23,0,1.26,-.06,1.38],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-3.54],["c",0,-3.48,0,-3.54,.06,-3.66],["c",.09,-.18,.15,-.24,.33,-.33],["z"],["m",7.71,.63],["c",-.36,-.06,-.9,-.06,-1.14,0],["c",-.3,.03,-.66,.24,-.87,.42],["c",-.6,.54,-.9,1.62,-.75,2.82],["c",.12,.93,.51,1.68,1.11,2.31],["c",.75,.72,1.83,1.2,2.85,1.26],["c",1.05,.06,1.83,-.54,2.1,-1.65],["c",.21,-.9,.12,-1.95,-.24,-2.82],["c",-.36,-.81,-1.08,-1.53,-1.95,-1.95],["c",-.3,-.15,-.78,-.3,-1.11,-.39],["z"]],w:16.83,h:8.145},"noteheads.whole":{d:[["M",6.51,-4.05],["c",.51,-.03,2.01,0,2.52,.03],["c",1.41,.18,2.64,.51,3.72,1.08],["c",1.2,.63,1.95,1.41,2.19,2.31],["c",.09,.33,.09,.9,0,1.23],["c",-.24,.9,-.99,1.68,-2.19,2.31],["c",-1.08,.57,-2.28,.9,-3.75,1.08],["c",-.66,.06,-2.31,.06,-2.97,0],["c",-1.47,-.18,-2.67,-.51,-3.75,-1.08],["c",-1.2,-.63,-1.95,-1.41,-2.19,-2.31],["c",-.09,-.33,-.09,-.9,0,-1.23],["c",.24,-.9,.99,-1.68,2.19,-2.31],["c",1.2,-.63,2.61,-.99,4.23,-1.11],["z"],["m",.57,.66],["c",-.87,-.15,-1.53,0,-2.04,.51],["c",-.15,.15,-.24,.27,-.33,.48],["c",-.24,.51,-.36,1.08,-.33,1.77],["c",.03,.69,.18,1.26,.42,1.77],["c",.6,1.17,1.74,1.98,3.18,2.22],["c",1.11,.21,1.95,-.15,2.34,-.99],["c",.24,-.51,.36,-1.08,.33,-1.8],["c",-.06,-1.11,-.45,-2.04,-1.17,-2.76],["c",-.63,-.63,-1.47,-1.05,-2.4,-1.2],["z"]],w:14.985,h:8.097},"noteheads.half":{d:[["M",7.44,-4.05],["c",.06,-.03,.27,-.03,.48,-.03],["c",1.05,0,1.71,.24,2.1,.81],["c",.42,.6,.45,1.35,.18,2.4],["c",-.42,1.59,-1.14,2.73,-2.16,3.39],["c",-1.41,.93,-3.18,1.44,-5.4,1.53],["c",-1.17,.03,-1.89,-.21,-2.28,-.81],["c",-.42,-.6,-.45,-1.35,-.18,-2.4],["c",.42,-1.59,1.14,-2.73,2.16,-3.39],["c",.63,-.42,1.23,-.72,1.98,-.96],["c",.9,-.3,1.65,-.42,3.12,-.54],["z"],["m",1.29,.87],["c",-.27,-.09,-.63,-.12,-.9,-.03],["c",-.72,.24,-1.53,.69,-3.27,1.8],["c",-2.34,1.5,-3.3,2.25,-3.57,2.79],["c",-.36,.72,-.06,1.5,.66,1.77],["c",.24,.12,.69,.09,.99,0],["c",.84,-.3,1.92,-.93,4.14,-2.37],["c",1.62,-1.08,2.37,-1.71,2.61,-2.19],["c",.36,-.72,.06,-1.5,-.66,-1.77],["z"]],w:10.37,h:8.132},"noteheads.quarter":{d:[["M",6.09,-4.05],["c",.36,-.03,1.2,0,1.53,.06],["c",1.17,.24,1.89,.84,2.16,1.83],["c",.06,.18,.06,.3,.06,.66],["c",0,.45,0,.63,-.15,1.08],["c",-.66,2.04,-3.06,3.93,-5.52,4.38],["c",-.54,.09,-1.44,.09,-1.83,.03],["c",-1.23,-.27,-1.98,-.87,-2.25,-1.86],["c",-.06,-.18,-.06,-.3,-.06,-.66],["c",0,-.45,0,-.63,.15,-1.08],["c",.24,-.78,.75,-1.53,1.44,-2.22],["c",1.2,-1.2,2.85,-2.01,4.47,-2.22],["z"]],w:9.81,h:8.094},"noteheads.slash.nostem":{d:[["M",9.3,-7.77],["c",.06,-.06,.18,-.06,1.71,-.06],["l",1.65,0],["l",.09,.09],["c",.06,.06,.06,.09,.06,.15],["c",-.03,.12,-9.21,15.24,-9.3,15.33],["c",-.06,.06,-.18,.06,-1.71,.06],["l",-1.65,0],["l",-.09,-.09],["c",-.06,-.06,-.06,-.09,-.06,-.15],["c",.03,-.12,9.21,-15.24,9.3,-15.33],["z"]],w:12.81,h:15.63},"noteheads.indeterminate":{d:[["M",.78,-4.05],["c",.12,-.03,.24,-.03,.36,.03],["c",.03,.03,.93,.72,1.95,1.56],["l",1.86,1.5],["l",1.86,-1.5],["c",1.02,-.84,1.92,-1.53,1.95,-1.56],["c",.21,-.12,.33,-.09,.75,.24],["c",.3,.27,.36,.36,.36,.54],["c",0,.03,-.03,.12,-.06,.18],["c",-.03,.06,-.9,.75,-1.89,1.56],["l",-1.8,1.47],["c",0,.03,.81,.69,1.8,1.5],["c",.99,.81,1.86,1.5,1.89,1.56],["c",.03,.06,.06,.15,.06,.18],["c",0,.18,-.06,.27,-.36,.54],["c",-.42,.33,-.54,.36,-.75,.24],["c",-.03,-.03,-.93,-.72,-1.95,-1.56],["l",-1.86,-1.5],["l",-1.86,1.5],["c",-1.02,.84,-1.92,1.53,-1.95,1.56],["c",-.21,.12,-.33,.09,-.75,-.24],["c",-.3,-.27,-.36,-.36,-.36,-.54],["c",0,-.03,.03,-.12,.06,-.18],["c",.03,-.06,.9,-.75,1.89,-1.56],["l",1.8,-1.47],["c",0,-.03,-.81,-.69,-1.8,-1.5],["c",-.99,-.81,-1.86,-1.5,-1.89,-1.56],["c",-.06,-.12,-.09,-.21,-.03,-.36],["c",.03,-.09,.57,-.57,.72,-.63],["z"]],w:9.843,h:8.139},"scripts.ufermata":{d:[["M",-.75,-10.77],["c",.12,0,.45,-.03,.69,-.03],["c",2.91,-.03,5.55,1.53,7.41,4.35],["c",1.17,1.71,1.95,3.72,2.43,6.03],["c",.12,.51,.12,.57,.03,.69],["c",-.12,.21,-.48,.27,-.69,.12],["c",-.12,-.09,-.18,-.24,-.27,-.69],["c",-.78,-3.63,-3.42,-6.54,-6.78,-7.38],["c",-.78,-.21,-1.2,-.24,-2.07,-.24],["c",-.63,0,-.84,0,-1.2,.06],["c",-1.83,.27,-3.42,1.08,-4.8,2.37],["c",-1.41,1.35,-2.4,3.21,-2.85,5.19],["c",-.09,.45,-.15,.6,-.27,.69],["c",-.21,.15,-.57,.09,-.69,-.12],["c",-.09,-.12,-.09,-.18,.03,-.69],["c",.33,-1.62,.78,-3,1.47,-4.38],["c",1.77,-3.54,4.44,-5.67,7.56,-5.97],["z"],["m",.33,7.47],["c",1.38,-.3,2.58,.9,2.31,2.25],["c",-.15,.72,-.78,1.35,-1.47,1.5],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.748,h:11.289},"scripts.dfermata":{d:[["M",-9.63,-.42],["c",.15,-.09,.36,-.06,.51,.03],["c",.12,.09,.18,.24,.27,.66],["c",.78,3.66,3.42,6.57,6.78,7.41],["c",.78,.21,1.2,.24,2.07,.24],["c",.63,0,.84,0,1.2,-.06],["c",1.83,-.27,3.42,-1.08,4.8,-2.37],["c",1.41,-1.35,2.4,-3.21,2.85,-5.22],["c",.09,-.42,.15,-.57,.27,-.66],["c",.21,-.15,.57,-.09,.69,.12],["c",.09,.12,.09,.18,-.03,.69],["c",-.33,1.62,-.78,3,-1.47,4.38],["c",-1.92,3.84,-4.89,6,-8.31,6],["c",-3.42,0,-6.39,-2.16,-8.31,-6],["c",-.48,-.96,-.84,-1.92,-1.14,-2.97],["c",-.18,-.69,-.42,-1.74,-.42,-1.92],["c",0,-.12,.09,-.27,.24,-.33],["z"],["m",9.21,0],["c",1.2,-.27,2.34,.63,2.34,1.86],["c",0,.9,-.66,1.68,-1.5,1.89],["c",-1.38,.27,-2.58,-.93,-2.31,-2.31],["c",.15,-.69,.78,-1.29,1.47,-1.44],["z"]],w:19.744,h:11.274},"scripts.sforzato":{d:[["M",-6.45,-3.69],["c",.06,-.03,.15,-.06,.18,-.06],["c",.06,0,2.85,.72,6.24,1.59],["l",6.33,1.65],["c",.33,.06,.45,.21,.45,.51],["c",0,.3,-.12,.45,-.45,.51],["l",-6.33,1.65],["c",-3.39,.87,-6.18,1.59,-6.21,1.59],["c",-.21,0,-.48,-.24,-.51,-.45],["c",0,-.15,.06,-.36,.18,-.45],["c",.09,-.06,.87,-.27,3.84,-1.05],["c",2.04,-.54,3.84,-.99,4.02,-1.02],["c",.15,-.06,1.14,-.24,2.22,-.42],["c",1.05,-.18,1.92,-.36,1.92,-.36],["c",0,0,-.87,-.18,-1.92,-.36],["c",-1.08,-.18,-2.07,-.36,-2.22,-.42],["c",-.18,-.03,-1.98,-.48,-4.02,-1.02],["c",-2.97,-.78,-3.75,-.99,-3.84,-1.05],["c",-.12,-.09,-.18,-.3,-.18,-.45],["c",.03,-.15,.15,-.3,.3,-.39],["z"]],w:13.5,h:7.5},"scripts.staccato":{d:[["M",-.36,-1.47],["c",.93,-.21,1.86,.51,1.86,1.47],["c",0,.93,-.87,1.65,-1.8,1.47],["c",-.54,-.12,-1.02,-.57,-1.14,-1.08],["c",-.21,-.81,.27,-1.65,1.08,-1.86],["z"]],w:2.989,h:3.004},"scripts.tenuto":{d:[["M",-4.2,-.48],["l",.12,-.06],["l",4.08,0],["l",4.08,0],["l",.12,.06],["c",.39,.21,.39,.75,0,.96],["l",-.12,.06],["l",-4.08,0],["l",-4.08,0],["l",-.12,-.06],["c",-.39,-.21,-.39,-.75,0,-.96],["z"]],w:8.985,h:1.08},"scripts.umarcato":{d:[["M",-.15,-8.19],["c",.15,-.12,.36,-.03,.45,.15],["c",.21,.42,3.45,7.65,3.45,7.71],["c",0,.12,-.12,.27,-.21,.3],["c",-.03,.03,-.51,.03,-1.14,.03],["c",-1.05,0,-1.08,0,-1.17,-.06],["c",-.09,-.06,-.24,-.36,-1.17,-2.4],["c",-.57,-1.29,-1.05,-2.34,-1.08,-2.34],["c",0,-.03,-.51,1.02,-1.08,2.34],["c",-.93,2.07,-1.08,2.34,-1.14,2.4],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.06,3.24,-7.32,3.45,-7.71],["c",.03,-.06,.09,-.15,.15,-.15],["z"]],w:7.5,h:8.245},"scripts.dmarcato":{d:[["M",-3.57,.03],["c",.03,0,.57,-.03,1.17,-.03],["c",1.05,0,1.08,0,1.17,.06],["c",.09,.06,.24,.36,1.17,2.4],["c",.57,1.29,1.05,2.34,1.08,2.34],["c",0,.03,.51,-1.02,1.08,-2.34],["c",.93,-2.07,1.08,-2.34,1.14,-2.4],["c",.06,-.03,.15,-.06,.18,-.06],["c",.15,0,.33,.18,.33,.33],["c",0,.09,-3.45,7.74,-3.54,7.83],["c",-.12,.12,-.3,.12,-.42,0],["c",-.09,-.09,-3.54,-7.74,-3.54,-7.83],["c",0,-.09,.12,-.27,.18,-.3],["z"]],w:7.5,h:8.25},"scripts.stopped":{d:[["M",-.27,-4.08],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.5],["l",0,1.47],["l",1.47,0],["l",1.5,0],["l",.15,.06],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.09,.36,0,.54],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.12,.06,-.18,.06,-1.62,.06],["l",-1.47,0],["l",0,1.47],["l",0,1.47],["l",-.06,.15],["c",-.09,.18,-.15,.24,-.33,.33],["c",-.18,.09,-.36,.09,-.54,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["l",-.06,-.15],["l",0,-1.47],["l",0,-1.47],["l",-1.47,0],["c",-1.44,0,-1.5,0,-1.62,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.47,0],["l",1.47,0],["l",0,-1.47],["c",0,-1.44,0,-1.5,.06,-1.62],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:8.295,h:8.295},"scripts.upbow":{d:[["M",-4.65,-15.54],["c",.12,-.09,.36,-.06,.48,.03],["c",.03,.03,.09,.09,.12,.15],["c",.03,.06,.66,2.13,1.41,4.62],["c",1.35,4.41,1.38,4.56,2.01,6.96],["l",.63,2.46],["l",.63,-2.46],["c",.63,-2.4,.66,-2.55,2.01,-6.96],["c",.75,-2.49,1.38,-4.56,1.41,-4.62],["c",.06,-.15,.18,-.21,.36,-.24],["c",.15,0,.3,.06,.39,.18],["c",.15,.21,.24,-.18,-2.1,7.56],["c",-1.2,3.96,-2.22,7.32,-2.25,7.41],["c",0,.12,-.06,.27,-.09,.3],["c",-.12,.21,-.6,.21,-.72,0],["c",-.03,-.03,-.09,-.18,-.09,-.3],["c",-.03,-.09,-1.05,-3.45,-2.25,-7.41],["c",-2.34,-7.74,-2.25,-7.35,-2.1,-7.56],["c",.03,-.03,.09,-.09,.15,-.12],["z"]],w:9.73,h:15.608},"scripts.downbow":{d:[["M",-5.55,-9.93],["l",.09,-.06],["l",5.46,0],["l",5.46,0],["l",.09,.06],["l",.06,.09],["l",0,4.77],["c",0,5.28,0,4.89,-.18,5.01],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.06,-.09,-.06,-.18,-.06,-2.97],["l",0,-2.85],["l",-4.83,0],["l",-4.83,0],["l",0,2.85],["c",0,2.79,0,2.88,-.06,2.97],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.21,-.06,-4.89],["l",0,-4.77],["z"]],w:11.22,h:9.992},"scripts.turn":{d:[["M",-4.77,-3.9],["c",.36,-.06,1.05,-.06,1.44,.03],["c",.78,.15,1.5,.51,2.34,1.14],["c",.6,.45,1.05,.87,2.22,2.01],["c",1.11,1.08,1.62,1.5,2.22,1.86],["c",.6,.36,1.32,.57,1.92,.57],["c",.9,0,1.71,-.57,1.89,-1.35],["c",.24,-.93,-.39,-1.89,-1.35,-2.1],["l",-.15,-.06],["l",-.09,.15],["c",-.03,.09,-.15,.24,-.24,.33],["c",-.72,.72,-2.04,.54,-2.49,-.36],["c",-.48,-.93,.03,-1.86,1.17,-2.19],["c",.3,-.09,1.02,-.09,1.35,0],["c",.99,.27,1.74,.87,2.25,1.83],["c",.69,1.41,.63,3,-.21,4.26],["c",-.21,.3,-.69,.81,-.99,1.02],["c",-.3,.21,-.84,.45,-1.17,.54],["c",-1.23,.36,-2.49,.15,-3.72,-.6],["c",-.75,-.48,-1.41,-1.02,-2.85,-2.46],["c",-1.11,-1.08,-1.62,-1.5,-2.22,-1.86],["c",-.6,-.36,-1.32,-.57,-1.92,-.57],["c",-.9,0,-1.71,.57,-1.89,1.35],["c",-.24,.93,.39,1.89,1.35,2.1],["l",.15,.06],["l",.09,-.15],["c",.03,-.09,.15,-.24,.24,-.33],["c",.72,-.72,2.04,-.54,2.49,.36],["c",.48,.93,-.03,1.86,-1.17,2.19],["c",-.3,.09,-1.02,.09,-1.35,0],["c",-.99,-.27,-1.74,-.87,-2.25,-1.83],["c",-.69,-1.41,-.63,-3,.21,-4.26],["c",.21,-.3,.69,-.81,.99,-1.02],["c",.48,-.33,1.11,-.57,1.74,-.66],["z"]],w:16.366,h:7.893},"scripts.trill":{d:[["M",-.51,-16.02],["c",.12,-.09,.21,-.18,.21,-.18],["l",-.81,4.02],["l",-.81,4.02],["c",.03,0,.51,-.27,1.08,-.6],["c",.6,-.3,1.14,-.63,1.26,-.66],["c",1.14,-.54,2.31,-.6,3.09,-.18],["c",.27,.15,.54,.36,.6,.51],["l",.06,.12],["l",.21,-.21],["c",.9,-.81,2.22,-.99,3.12,-.42],["c",.6,.42,.9,1.14,.78,2.07],["c",-.15,1.29,-1.05,2.31,-1.95,2.25],["c",-.48,-.03,-.78,-.3,-.96,-.81],["c",-.09,-.27,-.09,-.9,-.03,-1.2],["c",.21,-.75,.81,-1.23,1.59,-1.32],["l",.24,-.03],["l",-.09,-.12],["c",-.51,-.66,-1.62,-.63,-2.31,.03],["c",-.39,.42,-.3,.09,-1.23,4.77],["l",-.81,4.14],["c",-.03,0,-.12,-.03,-.21,-.09],["c",-.33,-.15,-.54,-.18,-.99,-.18],["c",-.42,0,-.66,.03,-1.05,.18],["c",-.12,.06,-.21,.09,-.21,.09],["c",0,-.03,.36,-1.86,.81,-4.11],["c",.9,-4.47,.87,-4.26,.69,-4.53],["c",-.21,-.36,-.66,-.51,-1.17,-.36],["c",-.15,.06,-2.22,1.14,-2.58,1.38],["c",-.12,.09,-.12,.09,-.21,.6],["l",-.09,.51],["l",.21,.24],["c",.63,.75,1.02,1.47,1.2,2.19],["c",.06,.27,.06,.36,.06,.81],["c",0,.42,0,.54,-.06,.78],["c",-.15,.54,-.33,.93,-.63,1.35],["c",-.18,.24,-.57,.63,-.81,.78],["c",-.24,.15,-.63,.36,-.84,.42],["c",-.27,.06,-.66,.06,-.87,.03],["c",-.81,-.18,-1.32,-1.05,-1.38,-2.46],["c",-.03,-.6,.03,-.99,.33,-2.46],["c",.21,-1.08,.24,-1.32,.21,-1.29],["c",-1.2,.48,-2.4,.75,-3.21,.72],["c",-.69,-.06,-1.17,-.3,-1.41,-.72],["c",-.39,-.75,-.12,-1.8,.66,-2.46],["c",.24,-.18,.69,-.42,1.02,-.51],["c",.69,-.18,1.53,-.15,2.31,.09],["c",.3,.09,.75,.3,.99,.45],["c",.12,.09,.15,.09,.15,.03],["c",.03,-.03,.33,-1.59,.72,-3.45],["c",.36,-1.86,.66,-3.42,.69,-3.45],["c",0,-.03,.03,-.03,.21,.03],["c",.21,.06,.27,.06,.48,.06],["c",.42,-.03,.78,-.18,1.26,-.48],["c",.15,-.12,.36,-.27,.48,-.39],["z"],["m",-5.73,7.68],["c",-.27,-.03,-.96,-.06,-1.2,-.03],["c",-.81,.12,-1.35,.57,-1.5,1.2],["c",-.18,.66,.12,1.14,.75,1.29],["c",.66,.12,1.92,-.12,3.18,-.66],["l",.33,-.15],["l",.09,-.39],["c",.06,-.21,.09,-.42,.09,-.45],["c",0,-.03,-.45,-.3,-.75,-.45],["c",-.27,-.15,-.66,-.27,-.99,-.36],["z"],["m",4.29,3.63],["c",-.24,-.39,-.51,-.75,-.51,-.69],["c",-.06,.12,-.39,1.92,-.45,2.28],["c",-.09,.54,-.12,1.14,-.06,1.38],["c",.06,.42,.21,.6,.51,.57],["c",.39,-.06,.75,-.48,.93,-1.14],["c",.09,-.33,.09,-1.05,0,-1.38],["c",-.09,-.39,-.24,-.69,-.42,-1.02],["z"]],w:17.963,h:16.49},"scripts.segno":{d:[["M",-3.72,-11.22],["c",.78,-.09,1.59,.03,2.31,.42],["c",1.2,.6,2.01,1.71,2.31,3.09],["c",.09,.42,.09,1.2,.03,1.5],["c",-.15,.45,-.39,.81,-.66,.93],["c",-.33,.18,-.84,.21,-1.23,.15],["c",-.81,-.18,-1.32,-.93,-1.26,-1.89],["c",.03,-.36,.09,-.57,.24,-.9],["c",.15,-.33,.45,-.6,.72,-.75],["c",.12,-.06,.18,-.09,.18,-.12],["c",0,-.03,-.03,-.15,-.09,-.24],["c",-.18,-.45,-.54,-.87,-.96,-1.08],["c",-1.11,-.57,-2.34,-.18,-2.88,.9],["c",-.24,.51,-.33,1.11,-.24,1.83],["c",.27,1.92,1.5,3.54,3.93,5.13],["c",.48,.33,1.26,.78,1.29,.78],["c",.03,0,1.35,-2.19,2.94,-4.89],["l",2.88,-4.89],["l",.84,0],["l",.87,0],["l",-.03,.06],["c",-.15,.21,-6.15,10.41,-6.15,10.44],["c",0,0,.21,.15,.48,.27],["c",2.61,1.47,4.35,3.03,5.13,4.65],["c",1.14,2.34,.51,5.07,-1.44,6.39],["c",-.66,.42,-1.32,.63,-2.13,.69],["c",-2.01,.09,-3.81,-1.41,-4.26,-3.54],["c",-.09,-.42,-.09,-1.2,-.03,-1.5],["c",.15,-.45,.39,-.81,.66,-.93],["c",.33,-.18,.84,-.21,1.23,-.15],["c",.81,.18,1.32,.93,1.26,1.89],["c",-.03,.36,-.09,.57,-.24,.9],["c",-.15,.33,-.45,.6,-.72,.75],["c",-.12,.06,-.18,.09,-.18,.12],["c",0,.03,.03,.15,.09,.24],["c",.18,.45,.54,.87,.96,1.08],["c",1.11,.57,2.34,.18,2.88,-.9],["c",.24,-.51,.33,-1.11,.24,-1.83],["c",-.27,-1.92,-1.5,-3.54,-3.93,-5.13],["c",-.48,-.33,-1.26,-.78,-1.29,-.78],["c",-.03,0,-1.35,2.19,-2.91,4.89],["l",-2.88,4.89],["l",-.87,0],["l",-.87,0],["l",.03,-.06],["c",.15,-.21,6.15,-10.41,6.15,-10.44],["c",0,0,-.21,-.15,-.48,-.3],["c",-2.61,-1.44,-4.35,-3,-5.13,-4.62],["c",-.9,-1.89,-.72,-4.02,.48,-5.52],["c",.69,-.84,1.68,-1.41,2.73,-1.53],["z"],["m",8.76,9.09],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"],["m",-10.53,2.61],["c",.03,-.03,.15,-.03,.27,-.03],["c",.33,.03,.57,.18,.72,.48],["c",.09,.18,.09,.57,0,.75],["c",-.09,.18,-.21,.3,-.36,.39],["c",-.15,.06,-.21,.06,-.39,.06],["c",-.21,0,-.27,0,-.39,-.06],["c",-.3,-.15,-.48,-.45,-.48,-.75],["c",0,-.39,.24,-.72,.63,-.84],["z"]],w:15,h:22.504},"scripts.coda":{d:[["M",-.21,-10.47],["c",.18,-.12,.42,-.06,.54,.12],["c",.06,.09,.06,.18,.06,1.5],["l",0,1.38],["l",.18,0],["c",.39,.06,.96,.24,1.38,.48],["c",1.68,.93,2.82,3.24,3.03,6.12],["c",.03,.24,.03,.45,.03,.45],["c",0,.03,.6,.03,1.35,.03],["c",1.5,0,1.47,0,1.59,.18],["c",.09,.12,.09,.3,0,.42],["c",-.12,.18,-.09,.18,-1.59,.18],["c",-.75,0,-1.35,0,-1.35,.03],["c",0,0,0,.21,-.03,.42],["c",-.24,3.15,-1.53,5.58,-3.45,6.36],["c",-.27,.12,-.72,.24,-.96,.27],["l",-.18,0],["l",0,1.38],["c",0,1.32,0,1.41,-.06,1.5],["c",-.15,.24,-.51,.24,-.66,0],["c",-.06,-.09,-.06,-.18,-.06,-1.5],["l",0,-1.38],["l",-.18,0],["c",-.39,-.06,-.96,-.24,-1.38,-.48],["c",-1.68,-.93,-2.82,-3.24,-3.03,-6.15],["c",-.03,-.21,-.03,-.42,-.03,-.42],["c",0,-.03,-.6,-.03,-1.35,-.03],["c",-1.5,0,-1.47,0,-1.59,-.18],["c",-.09,-.12,-.09,-.3,0,-.42],["c",.12,-.18,.09,-.18,1.59,-.18],["c",.75,0,1.35,0,1.35,-.03],["c",0,0,0,-.21,.03,-.45],["c",.24,-3.12,1.53,-5.55,3.45,-6.33],["c",.27,-.12,.72,-.24,.96,-.27],["l",.18,0],["l",0,-1.38],["c",0,-1.53,0,-1.5,.18,-1.62],["z"],["m",-.18,6.93],["c",0,-2.97,0,-3.15,-.06,-3.15],["c",-.09,0,-.51,.15,-.66,.21],["c",-.87,.51,-1.38,1.62,-1.56,3.51],["c",-.06,.54,-.12,1.59,-.12,2.16],["l",0,.42],["l",1.2,0],["l",1.2,0],["l",0,-3.15],["z"],["m",1.17,-3.06],["c",-.09,-.03,-.21,-.06,-.27,-.09],["l",-.12,0],["l",0,3.15],["l",0,3.15],["l",1.2,0],["l",1.2,0],["l",0,-.81],["c",-.06,-2.4,-.33,-3.69,-.93,-4.59],["c",-.27,-.39,-.66,-.69,-1.08,-.81],["z"],["m",-1.17,10.14],["l",0,-3.15],["l",-1.2,0],["l",-1.2,0],["l",0,.81],["c",.03,.96,.06,1.47,.15,2.13],["c",.24,2.04,.96,3.12,2.13,3.36],["l",.12,0],["l",0,-3.15],["z"],["m",3.18,-2.34],["l",0,-.81],["l",-1.2,0],["l",-1.2,0],["l",0,3.15],["l",0,3.15],["l",.12,0],["c",1.17,-.24,1.89,-1.32,2.13,-3.36],["c",.09,-.66,.12,-1.17,.15,-2.13],["z"]],w:16.035,h:21.062},"scripts.comma":{d:[["M",1.14,-4.62],["c",.3,-.12,.69,-.03,.93,.15],["c",.12,.12,.36,.45,.51,.78],["c",.9,1.77,.54,4.05,-1.08,6.75],["c",-.36,.63,-.87,1.38,-.96,1.44],["c",-.18,.12,-.42,.06,-.54,-.12],["c",-.09,-.18,-.09,-.3,.12,-.6],["c",.96,-1.44,1.44,-2.97,1.38,-4.35],["c",-.06,-.93,-.3,-1.68,-.78,-2.46],["c",-.27,-.39,-.33,-.63,-.24,-.96],["c",.09,-.27,.36,-.54,.66,-.63],["z"]],w:3.042,h:9.237},"scripts.roll":{d:[["M",1.95,-6],["c",.21,-.09,.36,-.09,.57,0],["c",.39,.15,.63,.39,1.47,1.35],["c",.66,.75,.78,.87,1.08,1.05],["c",.75,.45,1.65,.42,2.4,-.06],["c",.12,-.09,.27,-.27,.54,-.6],["c",.42,-.54,.51,-.63,.69,-.63],["c",.09,0,.3,.12,.36,.21],["c",.09,.12,.12,.3,.03,.42],["c",-.06,.12,-3.15,3.9,-3.3,4.08],["c",-.06,.06,-.18,.12,-.27,.18],["c",-.27,.12,-.6,.06,-.99,-.27],["c",-.27,-.21,-.42,-.39,-1.08,-1.14],["c",-.63,-.72,-.81,-.9,-1.17,-1.08],["c",-.36,-.18,-.57,-.21,-.99,-.21],["c",-.39,0,-.63,.03,-.93,.18],["c",-.36,.15,-.51,.27,-.9,.81],["c",-.24,.27,-.45,.51,-.48,.54],["c",-.12,.09,-.27,.06,-.39,0],["c",-.24,-.15,-.33,-.39,-.21,-.6],["c",.09,-.12,3.18,-3.87,3.33,-4.02],["c",.06,-.06,.18,-.15,.24,-.21],["z"]],w:10.817,h:6.125},"scripts.prall":{d:[["M",-4.38,-3.69],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.57,-.84,1.23,-1.83],["c",1.14,-1.68,1.23,-1.83,1.35,-1.89],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["c",-.03,0,-.57,.84,-1.23,1.83],["c",-1.14,1.68,-1.23,1.83,-1.35,1.89],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["z"]],w:15.011,h:7.5},"scripts.arpeggio":{d:[["M",1.5,0],["c",1.5,2,1.5,3,1.5,3],["s",0,1,-2,1.5],["s",-.5,3,1,5.5],["l",1.5,0],["s",-1.75,-2,-1.9,-3.25],["s",2.15,-.6,2.95,-1.6],["s",.45,-1,.5,-1.25],["s",0,-1,-2,-3.9],["l",-1.5,0],["z"]],w:5,h:10},"scripts.mordent":{d:[["M",-.21,-4.95],["c",.27,-.15,.63,0,.75,.27],["c",.06,.12,.06,.24,.06,1.44],["l",0,1.29],["l",.57,-.84],["c",.51,-.75,.57,-.84,.69,-.9],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["l",.48,-.69],["c",.51,-.78,.54,-.84,.69,-.9],["c",.42,-.18,.87,.15,.81,.6],["c",-.03,.12,-.3,.51,-1.5,2.37],["c",-1.38,2.07,-1.5,2.22,-1.62,2.28],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.83,-1.89],["c",-.81,-.99,-1.5,-1.8,-1.53,-1.86],["c",-.06,-.03,-.06,-.03,-.12,.03],["c",-.06,.06,-.06,.15,-.06,2.28],["c",0,1.95,0,2.25,-.06,2.34],["c",-.18,.45,-.81,.48,-1.05,.03],["c",-.03,-.06,-.06,-.24,-.06,-1.41],["l",0,-1.35],["l",-.57,.84],["c",-.54,.78,-.6,.87,-.72,.93],["c",-.06,.03,-.18,.06,-.24,.06],["c",-.3,0,-.27,.03,-1.89,-1.95],["l",-1.53,-1.83],["l",-.48,.69],["c",-.51,.78,-.54,.84,-.69,.9],["c",-.42,.18,-.87,-.15,-.81,-.6],["c",.03,-.12,.3,-.51,1.5,-2.37],["c",1.38,-2.07,1.5,-2.22,1.62,-2.28],["c",.06,-.03,.18,-.06,.24,-.06],["c",.3,0,.27,-.03,1.89,1.95],["l",1.53,1.83],["c",.03,0,.06,-.06,.09,-.09],["c",.06,-.12,.06,-.15,.06,-2.28],["c",0,-1.92,0,-2.22,.06,-2.31],["c",.06,-.15,.15,-.24,.3,-.3],["z"]],w:15.011,h:10.012},"flags.u8th":{d:[["M",-.42,3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",0,.18],["c",0,.3,.06,.84,.12,1.23],["c",.24,1.53,.9,3.12,2.13,5.16],["l",.99,1.59],["c",.87,1.44,1.38,2.34,1.77,3.09],["c",.81,1.68,1.2,3.06,1.26,4.53],["c",.03,1.53,-.21,3.27,-.75,5.01],["c",-.21,.69,-.51,1.5,-.6,1.59],["c",-.09,.12,-.27,.21,-.42,.21],["c",-.15,0,-.42,-.12,-.51,-.21],["c",-.15,-.18,-.18,-.42,-.09,-.66],["c",.15,-.33,.45,-1.2,.57,-1.62],["c",.42,-1.38,.6,-2.58,.6,-3.9],["c",0,-.66,0,-.81,-.06,-1.11],["c",-.39,-2.07,-1.8,-4.26,-4.59,-7.14],["l",-.42,-.45],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["z"]],w:6.692,h:22.59},"flags.u16th":{d:[["M",-.42,7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,.39],["c",.06,1.08,.39,2.19,.99,3.39],["c",.45,.9,.87,1.59,1.95,3.12],["c",1.29,1.86,1.77,2.64,2.22,3.57],["c",.45,.93,.72,1.8,.87,2.64],["c",.06,.51,.06,1.5,0,1.92],["c",-.12,.6,-.3,1.2,-.54,1.71],["l",-.09,.24],["l",.18,.45],["c",.51,1.2,.72,2.22,.69,3.42],["c",-.06,1.53,-.39,3.03,-.99,4.53],["c",-.3,.75,-.36,.81,-.57,.9],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.12,-.75],["c",.66,-1.41,1.02,-2.88,1.08,-4.32],["c",0,-.6,-.03,-1.05,-.18,-1.59],["c",-.3,-1.2,-.99,-2.4,-2.25,-3.87],["c",-.42,-.48,-1.53,-1.62,-2.19,-2.22],["l",-.45,-.42],["l",-.03,1.11],["l",0,1.11],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["z"],["m",1.65,.09],["c",-.3,-.3,-.69,-.72,-.9,-.87],["l",-.33,-.33],["l",0,.15],["c",0,.3,.06,.81,.15,1.26],["c",.27,1.29,.87,2.61,2.04,4.29],["c",.15,.24,.6,.87,.96,1.38],["l",1.08,1.53],["l",.42,.63],["c",.03,0,.12,-.36,.21,-.72],["c",.06,-.33,.06,-1.2,0,-1.62],["c",-.33,-1.71,-1.44,-3.48,-3.63,-5.7],["z"]],w:6.693,h:26.337},"flags.u32nd":{d:[["M",-.42,11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,.36],["c",.09,1.68,.69,3.27,2.07,5.46],["l",.87,1.35],["c",1.02,1.62,1.47,2.37,1.86,3.18],["c",.48,1.02,.78,1.92,.93,2.88],["c",.06,.48,.06,1.5,0,1.89],["c",-.09,.42,-.21,.87,-.36,1.26],["l",-.12,.3],["l",.15,.39],["c",.69,1.56,.84,2.88,.54,4.38],["c",-.09,.45,-.27,1.08,-.45,1.47],["l",-.12,.24],["l",.18,.36],["c",.33,.72,.57,1.56,.69,2.34],["c",.12,1.02,-.06,2.52,-.42,3.84],["c",-.27,.93,-.75,2.13,-.93,2.31],["c",-.18,.15,-.45,.18,-.66,.09],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.06,-.6],["c",.21,-.36,.42,-.9,.57,-1.38],["c",.51,-1.41,.69,-3.06,.48,-4.08],["c",-.15,-.81,-.57,-1.68,-1.2,-2.55],["c",-.72,-.99,-1.83,-2.13,-3.3,-3.33],["l",-.48,-.42],["l",-.03,1.53],["l",0,1.56],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["z"],["m",1.26,-3.96],["c",-.27,-.3,-.54,-.6,-.66,-.72],["l",-.18,-.21],["l",0,.42],["c",.06,.87,.24,1.74,.66,2.67],["c",.36,.87,.96,1.86,1.92,3.18],["c",.21,.33,.63,.87,.87,1.23],["c",.27,.39,.6,.84,.75,1.08],["l",.27,.39],["l",.03,-.12],["c",.12,-.45,.15,-1.05,.09,-1.59],["c",-.27,-1.86,-1.38,-3.78,-3.75,-6.33],["z"],["m",-.27,6.09],["c",-.27,-.21,-.48,-.42,-.51,-.45],["c",-.06,-.03,-.06,-.03,-.06,.21],["c",0,.9,.3,2.04,.81,3.09],["c",.48,1.02,.96,1.77,2.37,3.63],["c",.6,.78,1.05,1.44,1.29,1.77],["c",.06,.12,.15,.21,.15,.18],["c",.03,-.03,.18,-.57,.24,-.87],["c",.06,-.45,.06,-1.32,-.03,-1.74],["c",-.09,-.48,-.24,-.9,-.51,-1.44],["c",-.66,-1.35,-1.83,-2.7,-3.75,-4.38],["z"]],w:6.697,h:32.145},"flags.u64th":{d:[["M",-.42,15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,.36],["c",.06,1.2,.39,2.37,1.02,3.66],["c",.39,.81,.84,1.56,1.8,3.09],["c",.81,1.26,1.05,1.68,1.35,2.22],["c",.87,1.5,1.35,2.79,1.56,4.08],["c",.06,.54,.06,1.56,-.03,2.04],["c",-.09,.48,-.21,.99,-.36,1.35],["l",-.12,.27],["l",.12,.27],["c",.09,.15,.21,.45,.27,.66],["c",.69,1.89,.63,3.66,-.18,5.46],["l",-.18,.39],["l",.15,.33],["c",.3,.66,.51,1.44,.63,2.1],["c",.06,.48,.06,1.35,0,1.71],["c",-.15,.57,-.42,1.2,-.78,1.68],["l",-.21,.27],["l",.18,.33],["c",.57,1.05,.93,2.13,1.02,3.18],["c",.06,.72,0,1.83,-.21,2.79],["c",-.18,1.02,-.63,2.34,-1.02,3.09],["c",-.15,.33,-.48,.45,-.78,.3],["c",-.18,-.09,-.27,-.18,-.33,-.33],["c",-.09,-.18,-.06,-.3,.03,-.54],["c",.75,-1.5,1.23,-3.45,1.17,-4.89],["c",-.06,-1.02,-.42,-2.01,-1.17,-3.15],["c",-.48,-.72,-1.02,-1.35,-1.89,-2.22],["c",-.57,-.57,-1.56,-1.5,-1.92,-1.77],["l",-.12,-.09],["l",0,1.68],["l",0,1.68],["l",-.21,0],["l",-.21,0],["l",0,-15],["z"],["m",.93,-8.07],["c",-.27,-.3,-.48,-.54,-.51,-.54],["c",0,0,0,.69,.03,1.02],["c",.15,1.47,.75,2.94,2.04,4.83],["l",1.08,1.53],["c",.39,.57,.84,1.2,.99,1.44],["c",.15,.24,.3,.45,.3,.45],["c",0,0,.03,-.09,.06,-.21],["c",.36,-1.59,-.15,-3.33,-1.47,-5.4],["c",-.63,-.93,-1.35,-1.83,-2.52,-3.12],["z"],["m",.06,6.72],["c",-.24,-.21,-.48,-.42,-.51,-.45],["l",-.06,-.06],["l",0,.33],["c",0,1.2,.3,2.34,.93,3.6],["c",.45,.9,.96,1.68,2.25,3.51],["c",.39,.54,.84,1.17,1.02,1.44],["c",.21,.33,.33,.51,.33,.48],["c",.06,-.09,.21,-.63,.3,-.99],["c",.06,-.33,.06,-.45,.06,-.96],["c",0,-.6,-.03,-.84,-.18,-1.35],["c",-.3,-1.08,-1.02,-2.28,-2.13,-3.57],["c",-.39,-.45,-1.44,-1.47,-2.01,-1.98],["z"],["m",0,6.72],["c",-.24,-.21,-.48,-.39,-.51,-.42],["l",-.06,-.06],["l",0,.33],["c",0,1.41,.45,2.82,1.38,4.35],["c",.42,.72,.72,1.14,1.86,2.73],["c",.36,.45,.75,.99,.87,1.2],["c",.15,.21,.3,.36,.3,.36],["c",.06,0,.3,-.48,.39,-.75],["c",.09,-.36,.12,-.63,.12,-1.05],["c",-.06,-1.05,-.45,-2.04,-1.2,-3.18],["c",-.57,-.87,-1.11,-1.53,-2.07,-2.49],["c",-.36,-.33,-.84,-.78,-1.08,-1.02],["z"]],w:6.682,h:39.694},"flags.d8th":{d:[["M",5.67,-21.63],["c",.24,-.12,.54,-.06,.69,.15],["c",.06,.06,.21,.36,.39,.66],["c",.84,1.77,1.26,3.36,1.32,5.1],["c",.03,1.29,-.21,2.37,-.81,3.63],["c",-.6,1.23,-1.26,2.13,-3.21,4.38],["c",-1.35,1.53,-1.86,2.19,-2.4,2.97],["c",-.63,.93,-1.11,1.92,-1.38,2.79],["c",-.15,.54,-.27,1.35,-.27,1.8],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-3.75],["l",0,-3.75],["l",.21,0],["l",.21,0],["l",.48,-.3],["c",1.83,-1.11,3.12,-2.1,4.17,-3.12],["c",.78,-.81,1.32,-1.53,1.71,-2.31],["c",.45,-.93,.6,-1.74,.51,-2.88],["c",-.12,-1.56,-.63,-3.18,-1.47,-4.68],["c",-.12,-.21,-.15,-.33,-.06,-.51],["c",.06,-.15,.15,-.24,.33,-.33],["z"]],w:8.492,h:21.691},"flags.ugrace":{d:[["M",6.03,6.93],["c",.15,-.09,.33,-.06,.51,0],["c",.15,.09,.21,.15,.3,.33],["c",.09,.18,.06,.39,-.03,.54],["c",-.06,.15,-10.89,8.88,-11.07,8.97],["c",-.15,.09,-.33,.06,-.48,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.06,-.39,.03,-.54],["c",.06,-.15,10.89,-8.88,11.07,-8.97],["z"]],w:12.019,h:9.954},"flags.dgrace":{d:[["M",-6.06,-15.93],["c",.18,-.09,.33,-.12,.48,-.06],["c",.18,.09,14.01,8.04,14.1,8.1],["c",.12,.12,.18,.33,.18,.51],["c",-.03,.21,-.15,.39,-.36,.48],["c",-.18,.09,-.33,.12,-.48,.06],["c",-.18,-.09,-14.01,-8.04,-14.1,-8.1],["c",-.12,-.12,-.18,-.33,-.18,-.51],["c",.03,-.21,.15,-.39,.36,-.48],["z"]],w:15.12,h:9.212},"flags.d16th":{d:[["M",6.84,-22.53],["c",.27,-.12,.57,-.06,.72,.15],["c",.15,.15,.33,.87,.45,1.56],["c",.06,.33,.06,1.35,0,1.65],["c",-.06,.33,-.15,.78,-.27,1.11],["c",-.12,.33,-.45,.96,-.66,1.32],["l",-.18,.27],["l",.09,.18],["c",.48,1.02,.72,2.25,.69,3.3],["c",-.06,1.23,-.42,2.28,-1.26,3.45],["c",-.57,.87,-.99,1.32,-3,3.39],["c",-1.56,1.56,-2.22,2.4,-2.76,3.45],["c",-.42,.84,-.66,1.8,-.66,2.55],["l",0,.15],["l",-.21,0],["l",-.21,0],["l",0,-7.5],["l",0,-7.5],["l",.21,0],["l",.21,0],["l",0,1.14],["l",0,1.11],["l",.27,-.15],["c",1.11,-.57,1.77,-.99,2.52,-1.47],["c",2.37,-1.56,3.69,-3.15,4.05,-4.83],["c",.03,-.18,.03,-.39,.03,-.78],["c",0,-.6,-.03,-.93,-.24,-1.5],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.5],["c",-.06,-.18,-.15,-.36,-.15,-.36],["c",-.03,0,-.03,.03,-.06,.06],["c",-.06,.12,-.96,1.02,-1.95,1.98],["c",-.63,.57,-1.26,1.17,-1.44,1.35],["c",-1.53,1.62,-2.28,2.85,-2.55,4.32],["c",-.03,.18,-.03,.54,-.06,.99],["l",0,.69],["l",.18,-.09],["c",.93,-.54,2.1,-1.29,2.82,-1.83],["c",.69,-.51,1.02,-.81,1.53,-1.29],["c",1.86,-1.89,2.37,-3.66,1.68,-5.82],["z"]],w:8.475,h:22.591},"flags.d32nd":{d:[["M",6.84,-29.13],["c",.27,-.12,.57,-.06,.72,.15],["c",.12,.12,.27,.63,.36,1.11],["c",.33,1.59,.06,3.06,-.81,4.47],["l",-.18,.27],["l",.09,.15],["c",.12,.24,.33,.69,.45,1.05],["c",.63,1.83,.45,3.57,-.57,5.22],["l",-.18,.3],["l",.15,.27],["c",.42,.87,.6,1.71,.57,2.61],["c",-.06,1.29,-.48,2.46,-1.35,3.78],["c",-.54,.81,-.93,1.29,-2.46,3],["c",-.51,.54,-1.05,1.17,-1.26,1.41],["c",-1.56,1.86,-2.25,3.36,-2.37,5.01],["l",0,.33],["l",-.21,0],["l",-.21,0],["l",0,-11.25],["l",0,-11.25],["l",.21,0],["l",.21,0],["l",0,1.35],["l",.03,1.35],["l",.78,-.39],["c",1.38,-.69,2.34,-1.26,3.24,-1.92],["c",1.38,-1.02,2.28,-2.13,2.64,-3.21],["c",.15,-.48,.18,-.72,.18,-1.29],["c",0,-.57,-.06,-.9,-.24,-1.47],["c",-.06,-.18,-.12,-.39,-.15,-.45],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.63,7.2],["c",-.09,-.18,-.12,-.21,-.12,-.15],["c",-.03,.09,-1.02,1.08,-2.04,2.04],["c",-1.17,1.08,-1.65,1.56,-2.07,2.04],["c",-.84,.96,-1.38,1.86,-1.68,2.76],["c",-.21,.57,-.27,.99,-.3,1.65],["l",0,.54],["l",.66,-.33],["c",3.57,-1.86,5.49,-3.69,5.94,-5.7],["c",.06,-.39,.06,-1.2,-.03,-1.65],["c",-.06,-.39,-.24,-.9,-.36,-1.2],["z"],["m",-.06,7.2],["c",-.06,-.15,-.12,-.33,-.15,-.45],["l",-.06,-.18],["l",-.18,.21],["l",-1.83,1.83],["c",-.87,.9,-1.77,1.8,-1.95,2.01],["c",-1.08,1.29,-1.62,2.31,-1.89,3.51],["c",-.06,.3,-.06,.51,-.09,.93],["l",0,.57],["l",.09,-.06],["c",.75,-.45,1.89,-1.26,2.52,-1.74],["c",.81,-.66,1.74,-1.53,2.22,-2.16],["c",1.26,-1.53,1.68,-3.06,1.32,-4.47],["z"]],w:8.385,h:29.191},"flags.d64th":{d:[["M",7.08,-32.88],["c",.3,-.12,.66,-.03,.78,.24],["c",.18,.33,.27,2.1,.15,2.64],["c",-.09,.39,-.21,.78,-.39,1.08],["l",-.15,.3],["l",.09,.27],["c",.03,.12,.09,.45,.12,.69],["c",.27,1.44,.18,2.55,-.3,3.6],["l",-.12,.33],["l",.06,.42],["c",.27,1.35,.33,2.82,.21,3.63],["c",-.12,.6,-.3,1.23,-.57,1.8],["l",-.15,.27],["l",.03,.42],["c",.06,1.02,.06,2.7,.03,3.06],["c",-.15,1.47,-.66,2.76,-1.74,4.41],["c",-.45,.69,-.75,1.11,-1.74,2.37],["c",-1.05,1.38,-1.5,1.98,-1.95,2.73],["c",-.93,1.5,-1.38,2.82,-1.44,4.2],["l",0,.42],["l",-.21,0],["l",-.21,0],["l",0,-15],["l",0,-15],["l",.21,0],["l",.21,0],["l",0,1.86],["l",0,1.89],["c",0,0,.21,-.03,.45,-.09],["c",2.22,-.39,4.08,-1.11,5.19,-2.01],["c",.63,-.54,1.02,-1.14,1.2,-1.8],["c",.06,-.3,.06,-1.14,-.03,-1.65],["c",-.03,-.18,-.06,-.39,-.09,-.48],["c",-.03,-.24,.12,-.48,.36,-.6],["z"],["m",-.45,6.15],["c",-.03,-.18,-.06,-.42,-.06,-.54],["l",-.03,-.18],["l",-.33,.3],["c",-.42,.36,-.87,.72,-1.68,1.29],["c",-1.98,1.38,-2.25,1.59,-2.85,2.16],["c",-.75,.69,-1.23,1.44,-1.47,2.19],["c",-.15,.45,-.18,.63,-.21,1.35],["l",0,.66],["l",.39,-.18],["c",1.83,-.9,3.45,-1.95,4.47,-2.91],["c",.93,-.9,1.53,-1.83,1.74,-2.82],["c",.06,-.33,.06,-.87,.03,-1.32],["z"],["m",-.27,4.86],["c",-.03,-.21,-.06,-.36,-.06,-.36],["c",0,-.03,-.12,.09,-.24,.24],["c",-.39,.48,-.99,1.08,-2.16,2.19],["c",-1.47,1.38,-1.92,1.83,-2.46,2.49],["c",-.66,.87,-1.08,1.74,-1.29,2.58],["c",-.09,.42,-.15,.87,-.15,1.44],["l",0,.54],["l",.48,-.33],["c",1.5,-1.02,2.58,-1.89,3.51,-2.82],["c",1.47,-1.47,2.25,-2.85,2.4,-4.26],["c",.03,-.39,.03,-1.17,-.03,-1.71],["z"],["m",-.66,7.68],["c",.03,-.15,.03,-.6,.03,-.99],["l",0,-.72],["l",-.27,.33],["l",-1.74,1.98],["c",-1.77,1.92,-2.43,2.76,-2.97,3.9],["c",-.51,1.02,-.72,1.77,-.75,2.91],["c",0,.63,0,.63,.06,.6],["c",.03,-.03,.3,-.27,.63,-.54],["c",.66,-.6,1.86,-1.8,2.31,-2.31],["c",1.65,-1.89,2.52,-3.54,2.7,-5.16],["z"]],w:8.485,h:32.932},"clefs.C":{d:[["M",.06,-14.94],["l",.09,-.06],["l",1.92,0],["l",1.92,0],["l",.09,.06],["l",.06,.09],["l",0,14.85],["l",0,14.82],["l",-.06,.09],["l",-.09,.06],["l",-1.92,0],["l",-1.92,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"],["m",5.37,0],["c",.09,-.06,.09,-.06,.57,-.06],["c",.45,0,.45,0,.54,.06],["l",.06,.09],["l",0,7.14],["l",0,7.11],["l",.09,-.06],["c",.18,-.18,.72,-.84,.96,-1.2],["c",.3,-.45,.66,-1.17,.84,-1.65],["c",.36,-.9,.57,-1.83,.6,-2.79],["c",.03,-.48,.03,-.54,.09,-.63],["c",.12,-.18,.36,-.21,.54,-.12],["c",.18,.09,.21,.15,.24,.66],["c",.06,.87,.21,1.56,.57,2.22],["c",.51,1.02,1.26,1.68,2.22,1.92],["c",.21,.06,.33,.06,.78,.06],["c",.45,0,.57,0,.84,-.06],["c",.45,-.12,.81,-.33,1.08,-.6],["c",.57,-.57,.87,-1.41,.99,-2.88],["c",.06,-.54,.06,-3,0,-3.57],["c",-.21,-2.58,-.84,-3.87,-2.16,-4.5],["c",-.48,-.21,-1.17,-.36,-1.77,-.36],["c",-.69,0,-1.29,.27,-1.5,.72],["c",-.06,.15,-.06,.21,-.06,.42],["c",0,.24,0,.3,.06,.45],["c",.12,.24,.24,.39,.63,.66],["c",.42,.3,.57,.48,.69,.72],["c",.06,.15,.06,.21,.06,.48],["c",0,.39,-.03,.63,-.21,.96],["c",-.3,.6,-.87,1.08,-1.5,1.26],["c",-.27,.06,-.87,.06,-1.14,0],["c",-.78,-.24,-1.44,-.87,-1.65,-1.68],["c",-.12,-.42,-.09,-1.17,.09,-1.71],["c",.51,-1.65,1.98,-2.82,3.81,-3.09],["c",.84,-.09,2.46,.03,3.51,.27],["c",2.22,.57,3.69,1.8,4.44,3.75],["c",.36,.93,.57,2.13,.57,3.36],["c",0,1.44,-.48,2.73,-1.38,3.81],["c",-1.26,1.5,-3.27,2.43,-5.28,2.43],["c",-.48,0,-.51,0,-.75,-.09],["c",-.15,-.03,-.48,-.21,-.78,-.36],["c",-.69,-.36,-.87,-.42,-1.26,-.42],["c",-.27,0,-.3,0,-.51,.09],["c",-.57,.3,-.81,.9,-.81,2.1],["c",0,1.23,.24,1.83,.81,2.13],["c",.21,.09,.24,.09,.51,.09],["c",.39,0,.57,-.06,1.26,-.42],["c",.3,-.15,.63,-.33,.78,-.36],["c",.24,-.09,.27,-.09,.75,-.09],["c",2.01,0,4.02,.93,5.28,2.4],["c",.9,1.11,1.38,2.4,1.38,3.84],["c",0,1.5,-.3,2.88,-.84,3.96],["c",-.78,1.59,-2.19,2.64,-4.17,3.15],["c",-1.05,.24,-2.67,.36,-3.51,.27],["c",-1.83,-.27,-3.3,-1.44,-3.81,-3.09],["c",-.18,-.54,-.21,-1.29,-.09,-1.74],["c",.15,-.6,.63,-1.2,1.23,-1.47],["c",.36,-.18,.57,-.21,.99,-.21],["c",.42,0,.63,.03,1.02,.21],["c",.42,.21,.84,.63,1.05,1.05],["c",.18,.36,.21,.6,.21,.96],["c",0,.3,0,.36,-.06,.51],["c",-.12,.24,-.27,.42,-.69,.72],["c",-.57,.42,-.69,.63,-.69,1.08],["c",0,.24,0,.3,.06,.45],["c",.12,.21,.3,.39,.57,.54],["c",.42,.18,.87,.21,1.53,.15],["c",1.08,-.15,1.8,-.57,2.34,-1.32],["c",.54,-.75,.84,-1.83,.99,-3.51],["c",.06,-.57,.06,-3.03,0,-3.57],["c",-.12,-1.47,-.42,-2.31,-.99,-2.88],["c",-.27,-.27,-.63,-.48,-1.08,-.6],["c",-.27,-.06,-.39,-.06,-.84,-.06],["c",-.45,0,-.57,0,-.78,.06],["c",-1.14,.27,-2.01,1.17,-2.46,2.49],["c",-.21,.57,-.3,.99,-.33,1.65],["c",-.03,.51,-.06,.57,-.24,.66],["c",-.12,.06,-.27,.06,-.39,0],["c",-.21,-.09,-.21,-.15,-.24,-.75],["c",-.09,-1.92,-.78,-3.72,-2.01,-5.19],["c",-.18,-.21,-.36,-.42,-.39,-.45],["l",-.09,-.06],["l",0,7.11],["l",0,7.14],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.54,.06],["c",-.48,0,-.48,0,-.57,-.06],["l",-.06,-.09],["l",0,-14.82],["l",0,-14.85],["z"]],w:20.31,h:29.97},"clefs.F":{d:[["M",6.3,-7.8],["c",.36,-.03,1.65,0,2.13,.03],["c",3.6,.42,6.03,2.1,6.93,4.86],["c",.27,.84,.36,1.5,.36,2.58],["c",0,.9,-.03,1.35,-.18,2.16],["c",-.78,3.78,-3.54,7.08,-8.37,9.96],["c",-1.74,1.05,-3.87,2.13,-6.18,3.12],["c",-.39,.18,-.75,.33,-.81,.36],["c",-.06,.03,-.15,.06,-.18,.06],["c",-.15,0,-.33,-.18,-.33,-.33],["c",0,-.15,.06,-.21,.51,-.48],["c",3,-1.77,5.13,-3.21,6.84,-4.74],["c",.51,-.45,1.59,-1.5,1.95,-1.95],["c",1.89,-2.19,2.88,-4.32,3.15,-6.78],["c",.06,-.42,.06,-1.77,0,-2.19],["c",-.24,-2.01,-.93,-3.63,-2.04,-4.71],["c",-.63,-.63,-1.29,-1.02,-2.07,-1.2],["c",-1.62,-.39,-3.36,.15,-4.56,1.44],["c",-.54,.6,-1.05,1.47,-1.32,2.22],["l",-.09,.21],["l",.24,-.12],["c",.39,-.21,.63,-.24,1.11,-.24],["c",.3,0,.45,0,.66,.06],["c",1.92,.48,2.85,2.55,1.95,4.38],["c",-.45,.99,-1.41,1.62,-2.46,1.71],["c",-1.47,.09,-2.91,-.87,-3.39,-2.25],["c",-.18,-.57,-.21,-1.32,-.03,-2.28],["c",.39,-2.25,1.83,-4.2,3.81,-5.19],["c",.69,-.36,1.59,-.6,2.37,-.69],["z"],["m",11.58,2.52],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.3,1.17,-.72,2.19,-1.89,1.89],["c",-.99,-.21,-1.5,-1.32,-1.02,-2.25],["c",.18,-.39,.6,-.69,1.02,-.78],["z"],["m",0,7.5],["c",.84,-.21,1.71,.3,1.89,1.14],["c",.21,.87,-.3,1.71,-1.14,1.89],["c",-.87,.21,-1.71,-.3,-1.89,-1.14],["c",-.21,-.84,.3,-1.71,1.14,-1.89],["z"]],w:20.153,h:23.142},"clefs.G":{d:[["M",9.69,-37.41],["c",.09,-.09,.24,-.06,.36,0],["c",.12,.09,.57,.6,.96,1.11],["c",1.77,2.34,3.21,5.85,3.57,8.73],["c",.21,1.56,.03,3.27,-.45,4.86],["c",-.69,2.31,-1.92,4.47,-4.23,7.44],["c",-.3,.39,-.57,.72,-.6,.75],["c",-.03,.06,0,.15,.18,.78],["c",.54,1.68,1.38,4.44,1.68,5.49],["l",.09,.42],["l",.39,0],["c",1.47,.09,2.76,.51,3.96,1.29],["c",1.83,1.23,3.06,3.21,3.39,5.52],["c",.09,.45,.12,1.29,.06,1.74],["c",-.09,1.02,-.33,1.83,-.75,2.73],["c",-.84,1.71,-2.28,3.06,-4.02,3.72],["l",-.33,.12],["l",.03,1.26],["c",0,1.74,-.06,3.63,-.21,4.62],["c",-.45,3.06,-2.19,5.49,-4.47,6.21],["c",-.57,.18,-.9,.21,-1.59,.21],["c",-.69,0,-1.02,-.03,-1.65,-.21],["c",-1.14,-.27,-2.13,-.84,-2.94,-1.65],["c",-.99,-.99,-1.56,-2.16,-1.71,-3.54],["c",-.09,-.81,.06,-1.53,.45,-2.13],["c",.63,-.99,1.83,-1.56,3,-1.53],["c",1.5,.09,2.64,1.32,2.73,2.94],["c",.06,1.47,-.93,2.7,-2.37,2.97],["c",-.45,.06,-.84,.03,-1.29,-.09],["l",-.21,-.09],["l",.09,.12],["c",.39,.54,.78,.93,1.32,1.26],["c",1.35,.87,3.06,1.02,4.35,.36],["c",1.44,-.72,2.52,-2.28,2.97,-4.35],["c",.15,-.66,.24,-1.5,.3,-3.03],["c",.03,-.84,.03,-2.94,0,-3],["c",-.03,0,-.18,0,-.36,.03],["c",-.66,.12,-.99,.12,-1.83,.12],["c",-1.05,0,-1.71,-.06,-2.61,-.3],["c",-4.02,-.99,-7.11,-4.35,-7.8,-8.46],["c",-.12,-.66,-.12,-.99,-.12,-1.83],["c",0,-.84,0,-1.14,.15,-1.92],["c",.36,-2.28,1.41,-4.62,3.3,-7.29],["l",2.79,-3.6],["c",.54,-.66,.96,-1.2,.96,-1.23],["c",0,-.03,-.09,-.33,-.18,-.69],["c",-.96,-3.21,-1.41,-5.28,-1.59,-7.68],["c",-.12,-1.38,-.15,-3.09,-.06,-3.96],["c",.33,-2.67,1.38,-5.07,3.12,-7.08],["c",.36,-.42,.99,-1.05,1.17,-1.14],["z"],["m",2.01,4.71],["c",-.15,-.3,-.3,-.54,-.3,-.54],["c",-.03,0,-.18,.09,-.3,.21],["c",-2.4,1.74,-3.87,4.2,-4.26,7.11],["c",-.06,.54,-.06,1.41,-.03,1.89],["c",.09,1.29,.48,3.12,1.08,5.22],["c",.15,.42,.24,.78,.24,.81],["c",0,.03,.84,-1.11,1.23,-1.68],["c",1.89,-2.73,2.88,-5.07,3.15,-7.53],["c",.09,-.57,.12,-1.74,.06,-2.37],["c",-.09,-1.23,-.27,-1.92,-.87,-3.12],["z"],["m",-2.94,20.7],["c",-.21,-.72,-.39,-1.32,-.42,-1.32],["c",0,0,-1.2,1.47,-1.86,2.37],["c",-2.79,3.63,-4.02,6.3,-4.35,9.3],["c",-.03,.21,-.03,.69,-.03,1.08],["c",0,.69,0,.75,.06,1.11],["c",.12,.54,.27,.99,.51,1.47],["c",.69,1.38,1.83,2.55,3.42,3.42],["c",.96,.54,2.07,.9,3.21,1.08],["c",.78,.12,2.04,.12,2.94,-.03],["c",.51,-.06,.45,-.03,.42,-.3],["c",-.24,-3.33,-.72,-6.33,-1.62,-10.08],["c",-.09,-.39,-.18,-.75,-.18,-.78],["c",-.03,-.03,-.42,0,-.81,.09],["c",-.9,.18,-1.65,.57,-2.22,1.14],["c",-.72,.72,-1.08,1.65,-1.05,2.64],["c",.06,.96,.48,1.83,1.23,2.58],["c",.36,.36,.72,.63,1.17,.9],["c",.33,.18,.36,.21,.42,.33],["c",.18,.42,-.18,.9,-.6,.87],["c",-.18,-.03,-.84,-.36,-1.26,-.63],["c",-.78,-.51,-1.38,-1.11,-1.86,-1.83],["c",-1.77,-2.7,-.99,-6.42,1.71,-8.19],["c",.3,-.21,.81,-.48,1.17,-.63],["c",.3,-.09,1.02,-.3,1.14,-.3],["c",.06,0,.09,0,.09,-.03],["c",.03,-.03,-.51,-1.92,-1.23,-4.26],["z"],["m",3.78,7.41],["c",-.18,-.03,-.36,-.06,-.39,-.06],["c",-.03,0,0,.21,.18,1.02],["c",.75,3.18,1.26,6.3,1.5,9.09],["c",.06,.72,0,.69,.51,.42],["c",.78,-.36,1.44,-.96,1.98,-1.77],["c",1.08,-1.62,1.2,-3.69,.3,-5.55],["c",-.81,-1.62,-2.31,-2.79,-4.08,-3.15],["z"]],w:19.051,h:57.057},"clefs.perc":{d:[["M",5.07,-7.44],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"],["m",6.63,0],["l",.09,-.06],["l",1.53,0],["l",1.53,0],["l",.09,.06],["l",.06,.09],["l",0,7.35],["l",0,7.32],["l",-.06,.09],["l",-.09,.06],["l",-1.53,0],["l",-1.53,0],["l",-.09,-.06],["l",-.06,-.09],["l",0,-7.32],["l",0,-7.35],["z"]],w:21,h:14.97},"tab.big":{d:[["M",20.16,-21.66],["c",.24,-.09,.66,.09,.78,.36],["c",.09,.21,.09,.24,-.18,.54],["c",-.78,.81,-1.86,1.44,-2.94,1.71],["c",-.87,.24,-1.71,.24,-2.55,.03],["l",-.06,-.03],["l",-.18,.99],["c",-.33,1.98,-.75,4.26,-.96,5.04],["c",-.42,1.65,-1.26,3.18,-2.28,4.14],["c",-.57,.57,-1.17,.9,-1.86,1.08],["c",-.18,.06,-.33,.06,-.66,.06],["c",-.54,0,-.78,-.03,-1.23,-.27],["c",-.39,-.18,-.66,-.39,-1.38,-.99],["c",-.3,-.24,-.66,-.51,-.75,-.57],["c",-.21,-.15,-.27,-.24,-.24,-.45],["c",.06,-.27,.36,-.6,.6,-.66],["c",.18,-.03,.33,.06,.9,.57],["c",.48,.42,.72,.57,.93,.69],["c",.66,.33,1.38,.21,1.95,-.36],["c",.63,-.6,1.05,-1.62,1.23,-3],["c",.03,-.18,.09,-.66,.09,-1.11],["c",.09,-1.56,.33,-3.81,.57,-5.49],["c",.06,-.33,.09,-.63,.09,-.63],["c",-.03,-.03,-.81,-.12,-1.02,-.12],["c",-.57,0,-1.32,.12,-1.8,.33],["c",-.87,.3,-1.35,.78,-1.5,1.41],["c",-.18,.63,.09,1.26,.66,1.65],["c",.12,.06,.15,.12,.18,.24],["c",.09,.27,.06,.57,-.09,.75],["c",-.03,.06,-.12,.09,-.27,.15],["c",-.72,.21,-1.44,.15,-2.1,-.18],["c",-.54,-.27,-.96,-.66,-1.2,-1.14],["c",-.39,-.75,-.33,-1.74,.15,-2.52],["c",.27,-.42,.84,-.93,1.41,-1.23],["c",1.17,-.57,2.88,-.9,4.8,-.9],["c",.69,0,.78,0,1.08,.06],["c",.45,.09,1.11,.3,2.07,.6],["c",1.47,.48,1.83,.57,2.55,.54],["c",1.02,-.06,2.04,-.45,2.94,-1.11],["c",.12,-.09,.24,-.18,.27,-.18],["z"],["m",-5.88,13.05],["c",.21,-.03,.81,0,1.08,.06],["c",.48,.12,.9,.42,.99,.69],["c",.03,.09,.03,.15,0,.27],["c",0,.09,-.03,.57,-.06,1.08],["c",-.09,2.19,-.24,5.76,-.39,8.28],["c",-.06,1.53,-.06,1.77,.03,2.01],["c",.09,.18,.15,.24,.3,.3],["c",.24,.12,.54,.06,1.23,-.27],["c",.57,-.27,.66,-.3,.75,-.24],["c",.09,.06,.18,.3,.18,.45],["c",0,.33,-.15,.51,-.45,.63],["c",-.12,.03,-.39,.15,-.6,.27],["c",-1.17,.6,-1.38,.69,-1.8,.72],["c",-.45,.03,-.78,-.09,-1.08,-.39],["c",-.39,-.42,-.66,-1.2,-1.02,-3.12],["c",-.24,-1.23,-.36,-2.07,-.54,-3.75],["l",0,-.18],["l",-.36,.45],["c",-.6,.75,-1.32,1.59,-1.95,2.25],["c",-.15,.18,-.27,.3,-.27,.33],["c",0,0,.06,.09,.15,.18],["c",.24,.33,.6,.57,1.05,.69],["c",.18,.06,.3,.06,.69,.06],["l",.48,.03],["l",.06,.12],["c",.15,.27,.03,.72,-.21,.9],["c",-.18,.12,-.93,.27,-1.41,.27],["c",-.84,0,-1.59,-.3,-1.98,-.84],["l",-.12,-.15],["l",-.45,.42],["c",-.99,.87,-1.53,1.32,-2.16,1.74],["c",-.78,.51,-1.5,.84,-2.1,.93],["c",-.69,.12,-1.2,.03,-1.95,-.42],["c",-.21,-.12,-.51,-.27,-.66,-.36],["c",-.24,-.12,-.3,-.18,-.33,-.24],["c",-.12,-.27,.15,-.78,.45,-.93],["c",.24,-.12,.33,-.09,.9,.18],["c",.6,.3,.84,.39,1.2,.36],["c",.87,-.09,1.77,-.69,3.24,-2.31],["c",2.67,-2.85,4.59,-5.94,5.7,-9.15],["c",.15,-.45,.24,-.63,.42,-.81],["c",.21,-.24,.6,-.45,.99,-.51],["z"],["m",-3.99,16.05],["c",.18,0,.69,-.03,1.17,0],["c",3.27,.03,5.37,.75,6,2.07],["c",.45,.99,.12,2.4,-.81,3.42],["c",-.24,.27,-.57,.57,-.84,.75],["c",-.09,.06,-.18,.09,-.18,.12],["c",0,0,.18,.03,.42,.09],["c",1.23,.3,2.01,.81,2.37,1.59],["c",.27,.54,.3,1.32,.09,2.1],["c",-.12,.36,-.45,1.05,-.69,1.35],["c",-.87,1.17,-2.1,1.92,-3.54,2.25],["c",-.36,.06,-.48,.06,-.96,.06],["c",-.45,0,-.66,0,-.84,-.03],["c",-.84,-.18,-1.47,-.51,-2.07,-1.11],["c",-.33,-.33,-.45,-.51,-.45,-.63],["c",0,-.06,.03,-.15,.06,-.24],["c",.18,-.33,.69,-.6,.93,-.48],["c",.03,.03,.15,.12,.27,.24],["c",.39,.42,.99,.57,1.62,.45],["c",1.05,-.21,1.98,-1.02,2.31,-2.01],["c",.48,-1.53,-.48,-2.55,-2.58,-2.67],["c",-.21,0,-.36,-.03,-.42,-.06],["c",-.15,-.09,-.21,-.51,-.06,-.78],["c",.12,-.27,.24,-.33,.6,-.36],["c",.57,-.06,1.11,-.42,1.5,-.99],["c",.48,-.72,.54,-1.59,.18,-2.31],["c",-.12,-.21,-.45,-.54,-.69,-.69],["c",-.33,-.21,-.93,-.45,-1.35,-.51],["l",-.12,-.03],["l",-.06,.48],["c",-.54,2.94,-1.14,6.24,-1.29,6.75],["c",-.33,1.35,-.93,2.61,-1.65,3.6],["c",-.3,.36,-.81,.9,-1.14,1.14],["c",-.3,.24,-.84,.48,-1.14,.57],["c",-.33,.09,-.96,.09,-1.26,.03],["c",-.45,-.12,-.87,-.39,-1.53,-.96],["c",-.24,-.15,-.51,-.39,-.63,-.48],["c",-.3,-.21,-.33,-.33,-.21,-.63],["c",.12,-.18,.27,-.36,.42,-.45],["c",.27,-.12,.36,-.09,.87,.33],["c",.78,.6,1.08,.75,1.65,.72],["c",.45,-.03,.81,-.21,1.17,-.54],["c",.87,-.9,1.38,-2.85,1.38,-5.37],["c",0,-.6,.03,-1.11,.12,-2.04],["c",.06,-.69,.24,-2.01,.33,-2.58],["c",.06,-.24,.06,-.42,.06,-.42],["c",0,0,-.12,.03,-.21,.09],["c",-1.44,.57,-2.16,1.65,-1.74,2.55],["c",.09,.15,.18,.24,.27,.33],["c",.24,.21,.3,.27,.33,.39],["c",.06,.24,0,.63,-.15,.78],["c",-.09,.12,-.54,.21,-.96,.24],["c",-1.02,.03,-2.01,-.48,-2.43,-1.32],["c",-.21,-.45,-.27,-.9,-.15,-1.44],["c",.06,-.27,.21,-.66,.39,-.93],["c",.87,-1.29,3,-2.22,5.64,-2.43],["z"]],w:19.643,h:43.325},"tab.tiny":{d:[["M",16.02,-17.25],["c",.12,-.09,.15,-.09,.27,-.09],["c",.21,.03,.51,.3,.51,.45],["c",0,.06,-.12,.18,-.3,.36],["c",-1.11,1.08,-2.55,1.59,-3.84,1.41],["c",-.15,-.03,-.33,-.06,-.39,-.09],["c",-.06,-.03,-.09,-.03,-.12,-.03],["c",0,0,-.06,.42,-.15,.93],["c",-.33,2.01,-.66,3.69,-.84,4.26],["c",-.42,1.41,-1.23,2.67,-2.16,3.33],["c",-.27,.18,-.75,.42,-.99,.48],["c",-.3,.09,-.72,.09,-1.02,.06],["c",-.45,-.09,-.84,-.33,-1.53,-.9],["c",-.21,-.18,-.51,-.39,-.63,-.48],["c",-.27,-.21,-.3,-.24,-.3,-.36],["c",0,-.12,.09,-.36,.18,-.45],["c",.09,-.09,.27,-.18,.36,-.18],["c",.12,0,.3,.12,.66,.45],["c",.57,.51,.87,.69,1.23,.72],["c",.93,.06,1.68,-.78,1.98,-2.37],["c",.09,-.39,.15,-.75,.18,-1.53],["c",.06,-.99,.24,-2.79,.42,-4.05],["c",.03,-.3,.06,-.57,.06,-.6],["c",0,-.06,-.03,-.09,-.15,-.12],["c",-.9,-.18,-2.13,.06,-2.76,.57],["c",-.36,.3,-.51,.6,-.51,1.02],["c",0,.45,.15,.75,.48,.99],["c",.06,.06,.15,.18,.18,.24],["c",.12,.24,.03,.63,-.15,.69],["c",-.24,.12,-.6,.15,-.9,.15],["c",-.36,-.03,-.57,-.09,-.87,-.24],["c",-.78,-.36,-1.23,-1.11,-1.2,-1.92],["c",.12,-1.53,1.74,-2.49,4.62,-2.7],["c",1.2,-.09,1.47,-.03,3.33,.57],["c",.9,.3,1.14,.36,1.56,.39],["c",.45,0,.93,-.06,1.38,-.21],["c",.51,-.18,.81,-.33,1.41,-.75],["z"],["m",-4.68,10.38],["c",.39,-.06,.84,0,1.2,.15],["c",.24,.12,.36,.21,.45,.36],["l",.09,.09],["l",-.06,1.41],["c",-.09,2.19,-.18,3.96,-.27,5.49],["c",-.03,.78,-.06,1.59,-.06,1.86],["c",0,.42,0,.48,.06,.57],["c",.06,.18,.18,.24,.36,.27],["c",.18,0,.39,-.06,.84,-.27],["c",.45,-.21,.54,-.24,.63,-.18],["c",.12,.12,.15,.54,.03,.69],["c",-.03,.03,-.15,.12,-.27,.18],["c",-.15,.03,-.3,.12,-.36,.15],["c",-.87,.45,-1.02,.51,-1.26,.57],["c",-.33,.09,-.6,.06,-.84,-.06],["c",-.42,-.18,-.63,-.6,-.87,-1.44],["c",-.3,-1.23,-.57,-2.97,-.66,-4.08],["c",0,-.18,-.03,-.3,-.03,-.33],["l",-.06,.06],["c",-.18,.27,-1.11,1.38,-1.68,2.01],["l",-.33,.33],["l",.06,.09],["c",.06,.15,.27,.33,.48,.42],["c",.27,.18,.51,.24,.96,.27],["l",.39,0],["l",.03,.12],["c",.12,.21,.03,.57,-.15,.69],["c",-.03,.03,-.21,.09,-.36,.15],["c",-.27,.06,-.39,.06,-.75,.06],["c",-.48,0,-.75,-.03,-1.08,-.21],["c",-.21,-.12,-.51,-.36,-.57,-.48],["l",-.03,-.09],["l",-.39,.36],["c",-1.47,1.35,-2.49,1.98,-3.42,2.13],["c",-.54,.09,-.96,-.03,-1.62,-.39],["c",-.21,-.15,-.45,-.27,-.54,-.3],["c",-.18,-.09,-.21,-.21,-.12,-.45],["c",.06,-.27,.33,-.48,.54,-.48],["c",.03,0,.27,.09,.48,.21],["c",.48,.24,.69,.27,.99,.27],["c",.6,-.06,1.17,-.42,2.1,-1.35],["c",2.22,-2.22,4.02,-4.98,4.95,-7.59],["c",.21,-.57,.3,-.78,.48,-.93],["c",.15,-.15,.42,-.27,.66,-.33],["z"],["m",-3.06,12.84],["c",.27,-.03,1.68,0,2.01,.03],["c",1.92,.18,3.15,.69,3.63,1.5],["c",.18,.33,.24,.51,.21,.93],["c",0,.45,-.06,.72,-.24,1.11],["c",-.24,.51,-.69,1.02,-1.17,1.35],["c",-.21,.15,-.21,.15,-.12,.18],["c",.72,.15,1.11,.3,1.5,.57],["c",.39,.24,.63,.57,.75,.96],["c",.09,.3,.09,.96,0,1.29],["c",-.15,.57,-.39,1.05,-.78,1.5],["c",-.66,.75,-1.62,1.32,-2.61,1.53],["c",-.27,.06,-.42,.06,-.84,.06],["c",-.48,0,-.57,0,-.81,-.06],["c",-.6,-.18,-1.05,-.42,-1.47,-.81],["c",-.36,-.39,-.42,-.51,-.3,-.75],["c",.12,-.21,.39,-.39,.6,-.39],["c",.09,0,.15,.03,.33,.18],["c",.12,.12,.27,.24,.36,.27],["c",.96,.48,2.46,-.33,2.82,-1.5],["c",.24,-.81,-.03,-1.44,-.69,-1.77],["c",-.39,-.21,-1.02,-.33,-1.53,-.33],["c",-.18,0,-.21,0,-.27,-.09],["c",-.06,-.09,-.06,-.3,-.03,-.48],["c",.06,-.18,.18,-.36,.33,-.36],["c",.39,-.06,.51,-.09,.72,-.18],["c",.69,-.36,1.11,-1.23,.99,-2.01],["c",-.09,-.51,-.42,-.9,-.93,-1.17],["c",-.24,-.12,-.6,-.27,-.87,-.3],["c",-.09,-.03,-.09,-.03,-.12,.12],["c",0,.09,-.21,1.11,-.42,2.25],["c",-.66,3.75,-.72,3.99,-1.26,5.07],["c",-.9,1.89,-2.25,2.85,-3.48,2.61],["c",-.39,-.09,-.69,-.27,-1.38,-.84],["c",-.63,-.51,-.63,-.48,-.63,-.6],["c",0,-.18,.18,-.48,.39,-.57],["c",.21,-.12,.3,-.09,.81,.33],["c",.15,.15,.39,.3,.54,.36],["c",.18,.12,.27,.12,.48,.15],["c",.99,.06,1.71,-.78,2.04,-2.46],["c",.12,-.66,.18,-1.14,.21,-2.22],["c",.03,-1.23,.12,-2.25,.36,-3.63],["c",.03,-.24,.06,-.45,.06,-.48],["c",-.06,-.03,-.66,.27,-.9,.42],["c",-.06,.06,-.21,.18,-.33,.3],["c",-.57,.57,-.6,1.35,-.06,1.74],["c",.18,.12,.24,.24,.21,.51],["c",-.03,.3,-.15,.42,-.57,.48],["c",-1.11,.24,-2.22,-.42,-2.43,-1.38],["c",-.09,-.45,.03,-1.02,.3,-1.47],["c",.18,-.24,.6,-.63,.9,-.84],["c",.9,-.6,2.28,-1.02,3.69,-1.11],["z"]],w:15.709,h:34.656},"timesig.common":{d:[["M",6.66,-7.83],["c",.72,-.06,1.41,-.03,1.98,.09],["c",1.2,.27,2.34,.96,3.09,1.92],["c",.63,.81,1.08,1.86,1.14,2.73],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,0,-.09,-.12,-.24,-.27],["c",-1.02,-1.11,-2.55,-1.68,-4.08,-1.5],["c",-1.29,.15,-2.04,.69,-2.4,1.74],["c",-.36,.93,-.42,1.89,-.42,5.37],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.63,1.68,1.41,2.07],["c",.81,.39,2.16,.45,3.18,.09],["c",1.29,-.45,2.37,-1.53,3.03,-2.97],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.06,.39,-.42,1.38,-.69,1.89],["c",-.96,1.8,-2.49,2.94,-4.23,3.18],["c",-.99,.12,-2.58,-.06,-3.63,-.45],["c",-.96,-.36,-1.71,-.84,-2.4,-1.5],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.9,-3.45,2.01,-4.56],["c",.69,-.66,1.44,-1.11,2.37,-1.47],["c",.63,-.24,1.47,-.42,2.22,-.48],["z"]],w:13.038,h:15.689},"timesig.cut":{d:[["M",6.24,-10.44],["c",.09,-.06,.09,-.06,.48,-.06],["c",.36,0,.36,0,.45,.06],["l",.06,.09],["l",0,1.23],["l",0,1.26],["l",.27,0],["c",1.26,0,2.49,.45,3.48,1.29],["c",1.05,.87,1.8,2.28,1.89,3.48],["c",.06,1.02,-.51,1.92,-1.44,2.22],["c",-.24,.09,-.3,.09,-.63,.09],["c",-.33,0,-.42,0,-.63,-.06],["c",-.66,-.24,-1.14,-.63,-1.41,-1.2],["c",-.15,-.3,-.21,-.51,-.24,-.9],["c",-.06,-1.08,.57,-2.04,1.56,-2.37],["c",.18,-.06,.27,-.06,.63,-.06],["l",.45,0],["c",.06,.03,.09,.03,.09,0],["c",0,-.03,-.45,-.51,-.66,-.69],["c",-.87,-.69,-1.83,-1.05,-2.94,-1.11],["l",-.42,0],["l",0,7.17],["l",0,7.14],["l",.42,0],["c",.69,-.03,1.23,-.18,1.86,-.51],["c",1.05,-.51,1.89,-1.47,2.46,-2.7],["c",.15,-.33,.33,-.87,.39,-1.17],["c",.09,-.24,.15,-.36,.3,-.39],["c",.21,-.03,.42,.15,.39,.36],["c",-.03,.24,-.21,.78,-.39,1.2],["c",-.96,2.37,-2.94,3.9,-5.13,3.9],["l",-.3,0],["l",0,1.26],["l",0,1.23],["l",-.06,.09],["c",-.09,.06,-.09,.06,-.45,.06],["c",-.39,0,-.39,0,-.48,-.06],["l",-.06,-.09],["l",0,-1.29],["l",0,-1.29],["l",-.21,-.03],["c",-1.23,-.21,-2.31,-.63,-3.21,-1.29],["c",-.15,-.09,-.45,-.36,-.66,-.57],["c",-1.11,-1.11,-1.8,-2.61,-2.04,-4.56],["c",-.06,-.6,-.06,-2.01,0,-2.61],["c",.24,-1.95,.93,-3.45,2.04,-4.59],["c",.42,-.39,.78,-.66,1.26,-.93],["c",.75,-.45,1.65,-.75,2.61,-.9],["l",.21,-.03],["l",0,-1.29],["l",0,-1.29],["z"],["m",-.06,10.44],["c",0,-5.58,0,-6.99,-.03,-6.99],["c",-.15,0,-.63,.27,-.87,.45],["c",-.45,.36,-.75,.93,-.93,1.77],["c",-.18,.81,-.24,1.8,-.24,4.74],["c",0,2.97,.06,3.96,.24,4.77],["c",.24,1.08,.66,1.68,1.41,2.07],["c",.12,.06,.3,.12,.33,.15],["l",.09,0],["l",0,-6.96],["z"]],w:13.038,h:20.97},"timesig.imperfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.imperfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},"timesig.perfectum2":{d:[["M",13,-5],["a",8,8,0,1,0,0,10]],w:13.038,h:20.97},f:{d:[["M",9.93,-14.28],["c",1.53,-.18,2.88,.45,3.12,1.5],["c",.12,.51,0,1.32,-.27,1.86],["c",-.15,.3,-.42,.57,-.63,.69],["c",-.69,.36,-1.56,.03,-1.83,-.69],["c",-.09,-.24,-.09,-.69,0,-.87],["c",.06,-.12,.21,-.24,.45,-.42],["c",.42,-.24,.57,-.45,.6,-.72],["c",.03,-.33,-.09,-.39,-.63,-.42],["c",-.3,0,-.45,0,-.6,.03],["c",-.81,.21,-1.35,.93,-1.74,2.46],["c",-.06,.27,-.48,2.25,-.48,2.31],["c",0,.03,.39,.03,.9,.03],["c",.72,0,.9,0,.99,.06],["c",.42,.15,.45,.72,.03,.9],["c",-.12,.06,-.24,.06,-1.17,.06],["l",-1.05,0],["l",-.78,2.55],["c",-.45,1.41,-.87,2.79,-.96,3.06],["c",-.87,2.37,-2.37,4.74,-3.78,5.91],["c",-1.05,.9,-2.04,1.23,-3.09,1.08],["c",-1.11,-.18,-1.89,-.78,-2.04,-1.59],["c",-.12,-.66,.15,-1.71,.54,-2.19],["c",.69,-.75,1.86,-.54,2.22,.39],["c",.06,.15,.09,.27,.09,.48],["c",0,.24,-.03,.27,-.12,.42],["c",-.03,.09,-.15,.18,-.27,.27],["c",-.09,.06,-.27,.21,-.36,.27],["c",-.24,.18,-.36,.36,-.39,.6],["c",-.03,.33,.09,.39,.63,.42],["c",.42,0,.63,-.03,.9,-.15],["c",.6,-.3,.96,-.96,1.38,-2.64],["c",.09,-.42,.63,-2.55,1.17,-4.77],["l",1.02,-4.08],["c",0,-.03,-.36,-.03,-.81,-.03],["c",-.72,0,-.81,0,-.93,-.06],["c",-.42,-.18,-.39,-.75,.03,-.9],["c",.09,-.06,.27,-.06,1.05,-.06],["l",.96,0],["l",0,-.09],["c",.06,-.18,.3,-.72,.51,-1.17],["c",1.2,-2.46,3.3,-4.23,5.34,-4.5],["z"]],w:16.155,h:19.445},m:{d:[["M",2.79,-8.91],["c",.09,0,.3,-.03,.45,-.03],["c",.24,.03,.3,.03,.45,.12],["c",.36,.15,.63,.54,.75,1.02],["l",.03,.21],["l",.33,-.3],["c",.69,-.69,1.38,-1.02,2.07,-1.02],["c",.27,0,.33,0,.48,.06],["c",.21,.09,.48,.36,.63,.6],["c",.03,.09,.12,.27,.18,.42],["c",.03,.15,.09,.27,.12,.27],["c",0,0,.09,-.09,.18,-.21],["c",.33,-.39,.87,-.81,1.29,-.99],["c",.78,-.33,1.47,-.21,2.01,.33],["c",.3,.33,.48,.69,.6,1.14],["c",.09,.42,.06,.54,-.54,3.06],["c",-.33,1.29,-.57,2.4,-.57,2.43],["c",0,.12,.09,.21,.21,.21],["c",.24,0,.75,-.3,1.2,-.72],["c",.45,-.39,.6,-.45,.78,-.27],["c",.18,.18,.09,.36,-.45,.87],["c",-1.05,.96,-1.83,1.47,-2.58,1.71],["c",-.93,.33,-1.53,.21,-1.8,-.33],["c",-.06,-.15,-.06,-.21,-.06,-.45],["c",0,-.24,.03,-.48,.6,-2.82],["c",.42,-1.71,.6,-2.64,.63,-2.79],["c",.03,-.57,-.3,-.75,-.84,-.48],["c",-.24,.12,-.54,.39,-.66,.63],["c",-.03,.09,-.42,1.38,-.9,3],["c",-.9,3.15,-.84,3,-1.14,3.15],["l",-.15,.09],["l",-.78,0],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.36,-1.38,.84,-2.97],["c",.57,-2.04,.81,-2.97,.84,-3.12],["c",.03,-.54,-.3,-.72,-.84,-.45],["c",-.24,.12,-.57,.42,-.66,.63],["c",-.06,.09,-.51,1.44,-1.05,2.97],["c",-.51,1.56,-.99,2.85,-.99,2.91],["c",-.06,.12,-.21,.24,-.36,.3],["c",-.12,.06,-.21,.06,-.9,.06],["c",-.6,0,-.78,0,-.84,-.06],["c",-.09,-.03,-.18,-.18,-.18,-.27],["c",0,-.03,.45,-1.38,.99,-2.97],["c",1.05,-3.18,1.05,-3.18,.93,-3.45],["c",-.12,-.27,-.39,-.3,-.72,-.15],["c",-.54,.27,-1.14,1.17,-1.56,2.4],["c",-.06,.15,-.15,.3,-.18,.36],["c",-.21,.21,-.57,.27,-.72,.09],["c",-.09,-.09,-.06,-.21,.06,-.63],["c",.48,-1.26,1.26,-2.46,2.01,-3.21],["c",.57,-.54,1.2,-.87,1.83,-1.02],["z"]],w:14.687,h:9.126},p:{d:[["M",1.92,-8.7],["c",.27,-.09,.81,-.06,1.11,.03],["c",.54,.18,.93,.51,1.17,.99],["c",.09,.15,.15,.33,.18,.36],["l",0,.12],["l",.3,-.27],["c",.66,-.6,1.35,-1.02,2.13,-1.2],["c",.21,-.06,.33,-.06,.78,-.06],["c",.45,0,.51,0,.84,.09],["c",1.29,.33,2.07,1.32,2.25,2.79],["c",.09,.81,-.09,2.01,-.45,2.79],["c",-.54,1.26,-1.86,2.55,-3.18,3.03],["c",-.45,.18,-.81,.24,-1.29,.24],["c",-.69,-.03,-1.35,-.18,-1.86,-.45],["c",-.3,-.15,-.51,-.18,-.69,-.09],["c",-.09,.03,-.18,.09,-.18,.12],["c",-.09,.12,-1.05,2.94,-1.05,3.06],["c",0,.24,.18,.48,.51,.63],["c",.18,.06,.54,.15,.75,.15],["c",.21,0,.36,.06,.42,.18],["c",.12,.18,.06,.42,-.12,.54],["c",-.09,.03,-.15,.03,-.78,0],["c",-1.98,-.15,-3.81,-.15,-5.79,0],["c",-.63,.03,-.69,.03,-.78,0],["c",-.24,-.15,-.24,-.57,.03,-.66],["c",.06,-.03,.48,-.09,.99,-.12],["c",.87,-.06,1.11,-.09,1.35,-.21],["c",.18,-.06,.33,-.18,.39,-.3],["c",.06,-.12,3.24,-9.42,3.27,-9.6],["c",.06,-.33,.03,-.57,-.15,-.69],["c",-.09,-.06,-.12,-.06,-.3,-.06],["c",-.69,.06,-1.53,1.02,-2.28,2.61],["c",-.09,.21,-.21,.45,-.27,.51],["c",-.09,.12,-.33,.24,-.48,.24],["c",-.18,0,-.36,-.15,-.36,-.3],["c",0,-.24,.78,-1.83,1.26,-2.55],["c",.72,-1.11,1.47,-1.74,2.28,-1.92],["z"],["m",5.37,1.47],["c",-.27,-.12,-.75,-.03,-1.14,.21],["c",-.75,.48,-1.47,1.68,-1.89,3.15],["c",-.45,1.47,-.42,2.34,0,2.7],["c",.45,.39,1.26,.21,1.83,-.36],["c",.51,-.51,.99,-1.68,1.38,-3.27],["c",.3,-1.17,.33,-1.74,.15,-2.13],["c",-.09,-.15,-.15,-.21,-.33,-.3],["z"]],w:14.689,h:13.127},r:{d:[["M",6.33,-9.12],["c",.27,-.03,.93,0,1.2,.06],["c",.84,.21,1.23,.81,1.02,1.53],["c",-.24,.75,-.9,1.17,-1.56,.96],["c",-.33,-.09,-.51,-.3,-.66,-.75],["c",-.03,-.12,-.09,-.24,-.12,-.3],["c",-.09,-.15,-.3,-.24,-.48,-.24],["c",-.57,0,-1.38,.54,-1.65,1.08],["c",-.06,.15,-.33,1.17,-.9,3.27],["c",-.57,2.31,-.81,3.12,-.87,3.21],["c",-.03,.06,-.12,.15,-.18,.21],["l",-.12,.06],["l",-.81,.03],["c",-.69,0,-.81,0,-.9,-.03],["c",-.09,-.06,-.18,-.21,-.18,-.3],["c",0,-.06,.39,-1.62,.9,-3.51],["c",.84,-3.24,.87,-3.45,.87,-3.72],["c",0,-.21,0,-.27,-.03,-.36],["c",-.12,-.15,-.21,-.24,-.42,-.24],["c",-.24,0,-.45,.15,-.78,.42],["c",-.33,.36,-.45,.54,-.72,1.14],["c",-.03,.12,-.21,.24,-.36,.27],["c",-.12,0,-.15,0,-.24,-.06],["c",-.18,-.12,-.18,-.21,-.06,-.54],["c",.21,-.57,.42,-.93,.78,-1.32],["c",.54,-.51,1.2,-.81,1.95,-.87],["c",.81,-.03,1.53,.3,1.92,.87],["l",.12,.18],["l",.09,-.09],["c",.57,-.45,1.41,-.84,2.19,-.96],["z"]],w:9.41,h:9.132},s:{d:[["M",4.47,-8.73],["c",.09,0,.36,-.03,.57,-.03],["c",.75,.03,1.29,.24,1.71,.63],["c",.51,.54,.66,1.26,.36,1.83],["c",-.24,.42,-.63,.57,-1.11,.42],["c",-.33,-.09,-.6,-.36,-.6,-.57],["c",0,-.03,.06,-.21,.15,-.39],["c",.12,-.21,.15,-.33,.18,-.48],["c",0,-.24,-.06,-.48,-.15,-.6],["c",-.15,-.21,-.42,-.24,-.75,-.15],["c",-.27,.06,-.48,.18,-.69,.36],["c",-.39,.39,-.51,.96,-.33,1.38],["c",.09,.21,.42,.51,.78,.72],["c",1.11,.69,1.59,1.11,1.89,1.68],["c",.21,.39,.24,.78,.15,1.29],["c",-.18,1.2,-1.17,2.16,-2.52,2.52],["c",-1.02,.24,-1.95,.12,-2.7,-.42],["c",-.72,-.51,-.99,-1.47,-.6,-2.19],["c",.24,-.48,.72,-.63,1.17,-.42],["c",.33,.18,.54,.45,.57,.81],["c",0,.21,-.03,.3,-.33,.51],["c",-.33,.24,-.39,.42,-.27,.69],["c",.06,.15,.21,.27,.45,.33],["c",.3,.09,.87,.09,1.2,0],["c",.75,-.21,1.23,-.72,1.29,-1.35],["c",.03,-.42,-.15,-.81,-.54,-1.2],["c",-.24,-.24,-.48,-.42,-1.41,-1.02],["c",-.69,-.42,-1.05,-.93,-1.05,-1.47],["c",0,-.39,.12,-.87,.3,-1.23],["c",.27,-.57,.78,-1.05,1.38,-1.35],["c",.24,-.12,.63,-.27,.9,-.3],["z"]],w:6.632,h:8.758},z:{d:[["M",2.64,-7.95],["c",.36,-.09,.81,-.03,1.71,.27],["c",.78,.21,.96,.27,1.74,.3],["c",.87,.06,1.02,.03,1.38,-.21],["c",.21,-.15,.33,-.15,.48,-.06],["c",.15,.09,.21,.3,.15,.45],["c",-.03,.06,-1.26,1.26,-2.76,2.67],["l",-2.73,2.55],["l",.54,.03],["c",.54,.03,.72,.03,2.01,.15],["c",.36,.03,.9,.06,1.2,.09],["c",.66,0,.81,-.03,1.02,-.24],["c",.3,-.3,.39,-.72,.27,-1.23],["c",-.06,-.27,-.06,-.27,-.03,-.39],["c",.15,-.3,.54,-.27,.69,.03],["c",.15,.33,.27,1.02,.27,1.5],["c",0,1.47,-1.11,2.7,-2.52,2.79],["c",-.57,.03,-1.02,-.09,-2.01,-.51],["c",-1.02,-.42,-1.23,-.48,-2.13,-.54],["c",-.81,-.06,-.96,-.03,-1.26,.18],["c",-.12,.06,-.24,.12,-.27,.12],["c",-.27,0,-.45,-.3,-.36,-.51],["c",.03,-.06,1.32,-1.32,2.91,-2.79],["l",2.88,-2.73],["c",-.03,0,-.21,.03,-.42,.06],["c",-.21,.03,-.78,.09,-1.23,.12],["c",-1.11,.12,-1.23,.15,-1.95,.27],["c",-.72,.15,-1.17,.18,-1.29,.09],["c",-.27,-.18,-.21,-.75,.12,-1.26],["c",.39,-.6,.93,-1.02,1.59,-1.2],["z"]],w:8.573,h:8.743},"+":{d:[["M",3.48,-9.3],["c",.18,-.09,.36,-.09,.54,0],["c",.18,.09,.24,.15,.33,.3],["l",.06,.15],["l",0,1.29],["l",0,1.29],["l",1.29,0],["c",1.23,0,1.29,0,1.41,.06],["c",.06,.03,.15,.09,.18,.12],["c",.12,.09,.21,.33,.21,.48],["c",0,.15,-.09,.39,-.21,.48],["c",-.03,.03,-.12,.09,-.18,.12],["c",-.12,.06,-.18,.06,-1.41,.06],["l",-1.29,0],["l",0,1.29],["c",0,1.23,0,1.29,-.06,1.41],["c",-.09,.18,-.15,.24,-.3,.33],["c",-.21,.09,-.39,.09,-.57,0],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.06,-.12,-.06,-.18,-.06,-1.41],["l",0,-1.29],["l",-1.29,0],["c",-1.23,0,-1.29,0,-1.41,-.06],["c",-.18,-.09,-.24,-.15,-.33,-.33],["c",-.09,-.18,-.09,-.36,0,-.54],["c",.09,-.18,.15,-.24,.33,-.33],["l",.15,-.06],["l",1.26,0],["l",1.29,0],["l",0,-1.29],["c",0,-1.23,0,-1.29,.06,-1.41],["c",.09,-.18,.15,-.24,.33,-.33],["z"]],w:7.507,h:7.515},",":{d:[["M",1.85,-3.36],["c",.57,-.15,1.17,.03,1.59,.45],["c",.45,.45,.6,.96,.51,1.89],["c",-.09,1.23,-.42,2.46,-.99,3.93],["c",-.3,.72,-.72,1.62,-.78,1.68],["c",-.18,.21,-.51,.18,-.66,-.06],["c",-.03,-.06,-.06,-.15,-.06,-.18],["c",0,-.06,.12,-.33,.24,-.63],["c",.84,-1.8,1.02,-2.61,.69,-3.24],["c",-.12,-.24,-.27,-.36,-.75,-.6],["c",-.36,-.15,-.42,-.21,-.6,-.39],["c",-.69,-.69,-.69,-1.71,0,-2.4],["c",.21,-.21,.51,-.39,.81,-.45],["z"]],w:3.452,h:8.143},"-":{d:[["M",.18,-5.34],["c",.09,-.06,.15,-.06,2.31,-.06],["c",2.46,0,2.37,0,2.46,.21],["c",.12,.21,.03,.42,-.15,.54],["c",-.09,.06,-.15,.06,-2.28,.06],["c",-2.16,0,-2.22,0,-2.31,-.06],["c",-.27,-.15,-.27,-.54,-.03,-.69],["z"]],w:5.001,h:.81},".":{d:[["M",1.32,-3.36],["c",1.05,-.27,2.1,.57,2.1,1.65],["c",0,1.08,-1.05,1.92,-2.1,1.65],["c",-.9,-.21,-1.5,-1.14,-1.26,-2.04],["c",.12,-.63,.63,-1.11,1.26,-1.26],["z"]],w:3.413,h:3.402},"scripts.wedge":{d:[["M",-3.66,-7.44],["c",.06,-.09,0,-.09,.81,.03],["c",1.86,.3,3.84,.3,5.73,0],["c",.78,-.12,.72,-.12,.78,-.03],["c",.15,.15,.12,.24,-.24,.6],["c",-.93,.93,-1.98,2.76,-2.67,4.62],["c",-.3,.78,-.51,1.71,-.51,2.13],["c",0,.15,0,.18,-.06,.27],["c",-.12,.09,-.24,.09,-.36,0],["c",-.06,-.09,-.06,-.12,-.06,-.27],["c",0,-.42,-.21,-1.35,-.51,-2.13],["c",-.69,-1.86,-1.74,-3.69,-2.67,-4.62],["c",-.36,-.36,-.39,-.45,-.24,-.6],["z"]],w:7.49,h:7.752},"scripts.thumb":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.27,1.41,-1.08,2.43,-2.16,2.73],["l",-.18,.06],["l",0,.12],["c",.03,.06,.06,.45,.09,.87],["c",.03,.57,.03,.78,0,.84],["c",-.09,.27,-.39,.48,-.66,.48],["c",-.27,0,-.57,-.21,-.66,-.48],["c",-.03,-.06,-.03,-.27,0,-.84],["c",.03,-.42,.06,-.81,.09,-.87],["l",0,-.12],["l",-.18,-.06],["c",-1.08,-.3,-1.89,-1.32,-2.16,-2.73],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.05,.9],["c",-.15,-.09,-.21,-.09,-.45,-.12],["c",-.15,0,-.3,.03,-.39,.03],["c",-.57,.18,-.9,.72,-1.08,1.74],["c",-.06,.48,-.06,1.8,0,2.28],["c",.15,.9,.42,1.44,.9,1.65],["c",.18,.09,.21,.09,.51,.09],["c",.3,0,.33,0,.51,-.09],["c",.48,-.21,.75,-.75,.9,-1.65],["c",.03,-.27,.03,-.54,.03,-1.14],["c",0,-.6,0,-.87,-.03,-1.14],["c",-.15,-.9,-.45,-1.44,-.9,-1.65],["z"]],w:5.955,h:9.75},"scripts.open":{d:[["M",-.54,-3.69],["c",.15,-.03,.36,-.06,.51,-.06],["c",1.44,0,2.58,1.11,2.94,2.85],["c",.09,.48,.09,1.32,0,1.8],["c",-.33,1.74,-1.47,2.85,-2.91,2.85],["c",-1.44,0,-2.58,-1.11,-2.91,-2.85],["c",-.09,-.48,-.09,-1.32,0,-1.8],["c",.15,-.84,.51,-1.53,1.02,-2.04],["c",.39,-.39,.84,-.63,1.35,-.75],["z"],["m",1.11,.9],["c",-.21,-.09,-.27,-.09,-.51,-.12],["c",-.3,0,-.42,.03,-.66,.15],["c",-.24,.12,-.51,.39,-.66,.63],["c",-.54,.93,-.63,2.64,-.21,3.81],["c",.21,.54,.51,.9,.93,1.11],["c",.21,.09,.24,.09,.54,.09],["c",.3,0,.33,0,.54,-.09],["c",.42,-.21,.72,-.57,.93,-1.11],["c",.36,-.99,.36,-2.37,0,-3.36],["c",-.21,-.54,-.51,-.9,-.9,-1.11],["z"]],w:5.955,h:7.5},"scripts.longphrase":{d:[["M",1.47,-15.09],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.54,.06,11.25],["l",0,11.25],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-3.39,-.03,-11.25],["l",0,-11.25],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:23.04},"scripts.mediumphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.39,.06,7.5],["l",0,7.5],["l",-.63,.15],["c",-.66,.18,-1.44,.39,-1.5,.39],["c",-.03,0,-.03,-2.28,-.03,-7.5],["l",0,-7.5],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:15.54},"scripts.shortphrase":{d:[["M",1.47,-7.59],["c",.36,-.09,.66,-.18,.69,-.18],["c",.06,0,.06,.21,.06,3.75],["l",0,3.75],["l",-.42,.09],["c",-.57,.18,-1.65,.45,-1.71,.45],["c",-.03,0,-.03,-.72,-.03,-3.75],["l",0,-3.75],["l",.36,-.09],["c",.21,-.06,.66,-.18,1.05,-.27],["z"]],w:2.16,h:8.04},"scripts.snap":{d:[["M",4.5,-3.39],["c",.36,-.03,.96,-.03,1.35,0],["c",1.56,.15,3.15,.9,4.2,2.01],["c",.24,.27,.33,.42,.33,.6],["c",0,.27,.03,.24,-2.46,2.22],["c",-1.29,1.02,-2.4,1.86,-2.49,1.92],["c",-.18,.09,-.3,.09,-.48,0],["c",-.09,-.06,-1.2,-.9,-2.49,-1.92],["c",-2.49,-1.98,-2.46,-1.95,-2.46,-2.22],["c",0,-.18,.09,-.33,.33,-.6],["c",1.05,-1.08,2.64,-1.86,4.17,-2.01],["z"],["m",1.29,1.17],["c",-1.47,-.15,-2.97,.3,-4.14,1.2],["l",-.18,.15],["l",.06,.09],["c",.15,.12,3.63,2.85,3.66,2.85],["c",.03,0,3.51,-2.73,3.66,-2.85],["l",.06,-.09],["l",-.18,-.15],["c",-.84,-.66,-1.89,-1.08,-2.94,-1.2],["z"]],w:10.38,h:6.84}};glyphs$8["noteheads.slash.whole"]={d:[["M",5,-5],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"],["m",0,-2],["l",1,1],["l",-5,5],["l",-1,-1],["z"],["m",-4,6],["l",-5,-5],["l",2,-2],["l",5,5],["z"]],w:10.81,h:15.63};glyphs$8["noteheads.slash.quarter"]={d:[["M",9,-6],["l",0,4],["l",-9,9],["l",0,-4],["z"]],w:9,h:9};glyphs$8["noteheads.harmonic.quarter"]={d:[["M",3.63,-4.02],["c",.09,-.06,.18,-.09,.24,-.03],["c",.03,.03,.87,.93,1.83,2.01],["c",1.5,1.65,1.8,1.98,1.8,2.04],["c",0,.06,-.3,.39,-1.8,2.04],["c",-.96,1.08,-1.8,1.98,-1.83,2.01],["c",-.06,.06,-.15,.03,-.24,-.03],["c",-.12,-.09,-3.54,-3.84,-3.6,-3.93],["c",-.03,-.03,-.03,-.09,-.03,-.15],["c",.03,-.06,3.45,-3.84,3.63,-3.96],["z"]],w:7.5,h:8.165};glyphs$8["noteheads.triangle.quarter"]={d:[["M",0,4],["l",9,0],["l",-4.5,-9],["z"]],w:9,h:9};var pathClone=function(b){for(var $=[],_e=0,et=b.length;_e<et;_e++){$[_e]=[];for(var tt=0,nt=b[_e].length;tt<nt;tt++)$[_e][tt]=b[_e][tt]}return $},pathScale=function(b,$,_e){for(var et=0,tt=b.length;et<tt;et++){var nt=b[et],rt,ot;for(rt=1,ot=nt.length;rt<ot;rt++)nt[rt]*=rt%2?$:_e}},Glyphs={printSymbol:function(b,$,_e,et,tt){if(!glyphs$8[_e])return null;var nt=pathClone(glyphs$8[_e].d);nt[0][1]+=b,nt[0][2]+=$;for(var rt="",ot=0;ot<nt.length;ot++)rt+=nt[ot].join(" ");return tt.path=rt,et.path(tt)},getPathForSymbol:function(b,$,_e,et,tt){if(et=et||1,tt=tt||1,!glyphs$8[_e])return null;var nt=pathClone(glyphs$8[_e].d);return(et!==1||tt!==1)&&pathScale(nt,et,tt),nt[0][1]+=b,nt[0][2]+=$,nt},getSymbolWidth:function(b){return glyphs$8[b]?glyphs$8[b].w:0},symbolHeightInPitches:function(b){var $=glyphs$8[b]?glyphs$8[b].h:0;return $/spacing$b.STEP},getSymbolAlign:function(b){return b.substring(0,7)==="scripts"&&b!=="scripts.roll"?"center":"left"},getYCorr:function(b){switch(b){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":return-2;case"timesig.common":case"timesig.cut":return 0;case"flags.d32nd":return-1;case"flags.d64th":return-2;case"flags.u32nd":return 1;case"flags.u64th":return 3;case"rests.whole":return 1;case"rests.half":return-1;case"rests.8th":return-1;case"rests.quarter":return-1;case"rests.16th":return-1;case"rests.32nd":return-1;case"rests.64th":return-1;case"f":case"m":case"p":case"s":case"z":return-4;case"scripts.trill":case"scripts.upbow":case"scripts.downbow":return-2;case"scripts.ufermata":case"scripts.wedge":case"scripts.roll":case"scripts.shortphrase":case"scripts.longphrase":return-1;case"scripts.dfermata":return 1;default:return 0}},setSymbol:function(b,$){glyphs$8[b]=$}},glyphs_1=Glyphs,AbsoluteElement$4=absoluteElement,glyphs$7=glyphs_1,RelativeElement$8=relativeElement,createClef$1=function(b,$){var _e,et=0;b.el_type="clef";var tt=new AbsoluteElement$4(b,0,10,"staff-extra clef",$);switch(tt.isClef=!0,b.type){case"treble":_e="clefs.G";break;case"tenor":_e="clefs.C";break;case"alto":_e="clefs.C";break;case"bass":_e="clefs.F";break;case"treble+8":_e="clefs.G",et=1;break;case"tenor+8":_e="clefs.C",et=1;break;case"bass+8":_e="clefs.F",et=1;break;case"alto+8":_e="clefs.C",et=1;break;case"treble-8":_e="clefs.G",et=-1;break;case"tenor-8":_e="clefs.C",et=-1;break;case"bass-8":_e="clefs.F",et=-1;break;case"alto-8":_e="clefs.C",et=-1;break;case"none":return null;case"perc":_e="clefs.perc";break;default:tt.addFixed(new RelativeElement$8("clef="+b.type,0,0,void 0,{type:"debug"}))}var nt=5;if(_e){var rt=glyphs$7.symbolHeightInPitches(_e),ot=clefOffsets(_e);if(tt.addRight(new RelativeElement$8(_e,nt,glyphs$7.getSymbolWidth(_e),b.clefPos,{top:rt+b.clefPos+ot,bottom:b.clefPos+ot})),et!==0){var st=.6666666666666666,ct=(glyphs$7.getSymbolWidth(_e)-glyphs$7.getSymbolWidth("8")*st)/2,lt=et>0?tt.top+3:tt.bottom-1,at=et>0?tt.top+3:tt.bottom-3,it=at-2;b.type==="bass-8"&&(lt=3,ct=0),tt.addRight(new RelativeElement$8("8",nt+ct,glyphs$7.getSymbolWidth("8")*st,lt,{scalex:st,scaley:st,top:at,bottom:it}))}}return tt};function clefOffsets(b){switch(b){case"clefs.G":return-5;case"clefs.C":return-4;case"clefs.F":return-4;case"clefs.perc":return-2;default:return 0}}var createClef_1=createClef$1,AbsoluteElement$3=absoluteElement,glyphs$6=glyphs_1,RelativeElement$7=relativeElement,createKeySignature$1=function(b,$){if(b.el_type="keySignature",!b.accidentals||b.accidentals.length===0)return null;var _e=new AbsoluteElement$3(b,0,10,"staff-extra key-signature",$);_e.isKeySig=!0;var et=0;return b.accidentals.forEach(function(tt){var nt,rt=0;switch(tt.acc){case"sharp":nt="accidentals.sharp",rt=-3;break;case"natural":nt="accidentals.nat";break;case"flat":nt="accidentals.flat",rt=-1.2;break;case"quartersharp":nt="accidentals.halfsharp",rt=-2.5;break;case"quarterflat":nt="accidentals.halfflat",rt=-1.2;break;default:nt="accidentals.flat"}_e.addRight(new RelativeElement$7(nt,et,glyphs$6.getSymbolWidth(nt),tt.verticalPos,{thickness:glyphs$6.symbolHeightInPitches(nt),top:tt.verticalPos+glyphs$6.symbolHeightInPitches(nt)+rt,bottom:tt.verticalPos+rt})),et+=glyphs$6.getSymbolWidth(nt)+2},this),_e},createKeySignature_1=createKeySignature$1,glyphs$5=glyphs_1,RelativeElement$6=relativeElement,createNoteHead$1=function(b,$,_e,et){et||(et={});var tt=et.dir!==void 0?et.dir:null,nt=et.headx!==void 0?et.headx:0,rt=et.extrax!==void 0?et.extrax:0,ot=et.flag!==void 0?et.flag:null,st=et.dot!==void 0?et.dot:0,ct=et.dotshiftx!==void 0?et.dotshiftx:0,lt=et.scale!==void 0?et.scale:1,at=et.accidentalSlot!==void 0?et.accidentalSlot:[],it=et.shouldExtendStem!==void 0?et.shouldExtendStem:!1,ut=et.printAccidentals!==void 0?et.printAccidentals:!0,dt=_e.verticalPos,ht,ft=0,pt=0,mt=0;if($===void 0)b.addFixed(new RelativeElement$6("pitch is undefined",0,0,0,{type:"debug"}));else if($==="")ht=new RelativeElement$6(null,0,0,dt);else{var gt=nt;if(_e.printer_shift){var vt=_e.printer_shift==="same"?1:0;gt=tt==="down"?-glyphs$5.getSymbolWidth($)*lt+vt:glyphs$5.getSymbolWidth($)*lt-vt}var yt={scalex:lt,scaley:lt,thickness:glyphs$5.symbolHeightInPitches($)*lt,name:_e.name};if(ht=new RelativeElement$6($,gt,glyphs$5.getSymbolWidth($)*lt,dt,yt),ht.stemDir=tt,ot){var bt=dt+(tt==="down"?-7:7)*lt;it&&(tt==="down"&&bt>6&&(bt=6),tt==="up"&&bt<6&&(bt=6));var xt=tt==="down"?nt:nt+ht.w-.6;b.addRight(new RelativeElement$6(ot,xt,glyphs$5.getSymbolWidth(ot)*lt,bt,{scalex:lt,scaley:lt}))}for(pt=ht.w+ct-2+5*st;st>0;st--){var _t=1-Math.abs(dt)%2;b.addRight(new RelativeElement$6("dots.dot",ht.w+ct-2+5*st,glyphs$5.getSymbolWidth("dots.dot"),dt+_t))}}if(ht&&(ht.highestVert=_e.highestVert),ut&&_e.accidental){var wt;switch(_e.accidental){case"quartersharp":wt="accidentals.halfsharp";break;case"dblsharp":wt="accidentals.dblsharp";break;case"sharp":wt="accidentals.sharp";break;case"quarterflat":wt="accidentals.halfflat";break;case"flat":wt="accidentals.flat";break;case"dblflat":wt="accidentals.dblflat";break;case"natural":wt="accidentals.nat"}for(var At=!1,Pt=rt,jt=0;jt<at.length;jt++)if(dt-at[jt][0]>=6){at[jt][0]=dt,Pt=at[jt][1],At=!0;break}At===!1&&(Pt-=glyphs$5.getSymbolWidth(wt)*lt+2,at.push([dt,Pt]),ft=glyphs$5.getSymbolWidth(wt)*lt+2);var kt=glyphs$5.symbolHeightInPitches(wt);b.addExtra(new RelativeElement$6(wt,Pt,glyphs$5.getSymbolWidth(wt),dt,{scalex:lt,scaley:lt,top:dt+kt/2,bottom:dt-kt/2})),mt=glyphs$5.getSymbolWidth(wt)/2}return{notehead:ht,accidentalshiftx:ft,dotshiftx:pt,extraLeft:mt}},createNoteHead_1=createNoteHead$1,AbsoluteElement$2=absoluteElement,glyphs$4=glyphs_1,RelativeElement$5=relativeElement,createTimeSignature$1=function(b,$){b.el_type="timeSignature";var _e=new AbsoluteElement$2(b,0,10,"staff-extra time-signature",$);if(b.type==="specified")for(var et=0,tt=0;tt<b.value.length;tt++)if(tt!==0&&(_e.addRight(new RelativeElement$5("+",et+1,glyphs$4.getSymbolWidth("+"),6,{thickness:glyphs$4.symbolHeightInPitches("+")})),et+=glyphs$4.getSymbolWidth("+")+2),b.value[tt].den){for(var nt=0,rt=0;rt<b.value[tt].num.length;rt++)nt+=glyphs$4.getSymbolWidth(b.value[tt].num[rt]);var ot=0;for(rt=0;rt<b.value[tt].num.length;rt++)ot+=glyphs$4.getSymbolWidth(b.value[tt].den[rt]);var st=Math.max(nt,ot);_e.addRight(new RelativeElement$5(b.value[tt].num,et+(st-nt)/2,nt,8,{thickness:glyphs$4.symbolHeightInPitches(b.value[tt].num[0])})),_e.addRight(new RelativeElement$5(b.value[tt].den,et+(st-ot)/2,ot,4,{thickness:glyphs$4.symbolHeightInPitches(b.value[tt].den[0])})),et+=st}else{for(var ct=0,lt=0;lt<b.value[tt].num.length;lt++)ct+=glyphs$4.getSymbolWidth(b.value[tt].num[lt]);_e.addRight(new RelativeElement$5(b.value[tt].num,et,ct,6,{thickness:glyphs$4.symbolHeightInPitches(b.value[tt].num[0])})),et+=ct}else b.type==="common_time"?_e.addRight(new RelativeElement$5("timesig.common",0,glyphs$4.getSymbolWidth("timesig.common"),6,{thickness:glyphs$4.symbolHeightInPitches("timesig.common")})):b.type==="cut_time"?_e.addRight(new RelativeElement$5("timesig.cut",0,glyphs$4.getSymbolWidth("timesig.cut"),6,{thickness:glyphs$4.symbolHeightInPitches("timesig.cut")})):b.type==="tempus_imperfectum"?_e.addRight(new RelativeElement$5("timesig.imperfectum",0,glyphs$4.getSymbolWidth("timesig.imperfectum"),6,{thickness:glyphs$4.symbolHeightInPitches("timesig.imperfectum")})):b.type==="tempus_imperfectum_prolatio"?_e.addRight(new RelativeElement$5("timesig.imperfectum2",0,glyphs$4.getSymbolWidth("timesig.imperfectum2"),6,{thickness:glyphs$4.symbolHeightInPitches("timesig.imperfectum2")})):b.type==="tempus_perfectum"?_e.addRight(new RelativeElement$5("timesig.perfectum",0,glyphs$4.getSymbolWidth("timesig.perfectum"),6,{thickness:glyphs$4.symbolHeightInPitches("timesig.perfectum")})):b.type==="tempus_perfectum_prolatio"?_e.addRight(new RelativeElement$5("timesig.perfectum2",0,glyphs$4.getSymbolWidth("timesig.perfectum2"),6,{thickness:glyphs$4.symbolHeightInPitches("timesig.perfectum2")})):console.log("time signature:",b);return _e},createTimeSignature_1=createTimeSignature$1,DynamicDecoration$1=function b($,_e,et){this.type="DynamicDecoration",this.anchor=$,this.dec=_e,et==="below"?this.volumeHeightBelow=6:this.volumeHeightAbove=6,this.pitch=void 0},dynamicDecoration=DynamicDecoration$1,CrescendoElem$1=function b($,_e,et,tt){this.type="CrescendoElem",this.anchor1=$,this.anchor2=_e,this.dir=et,tt==="above"?this.dynamicHeightAbove=6:this.dynamicHeightBelow=6,this.pitch=void 0},crescendoElement=CrescendoElem$1,GlissandoElem$1=function b($,_e){this.type="GlissandoElem",this.anchor1=$,this.anchor2=_e},glissandoElement=GlissandoElem$1,TieElem$2=function b($){this.type="TieElem",this.anchor1=$.anchor1,this.anchor2=$.anchor2,$.isGrace&&(this.isGrace=!0),$.fixedY&&(this.fixedY=!0),$.stemDir&&(this.stemDir=$.stemDir),$.voiceNumber!==void 0&&(this.voiceNumber=$.voiceNumber),$.style!==void 0&&(this.dotted=!0),this.internalNotes=[]};TieElem$2.prototype.addInternalNote=function(b){this.internalNotes.push(b)};TieElem$2.prototype.setEndAnchor=function(b){this.anchor2=b,this.anchor1?(this.top=Math.max(this.anchor1.pitch,this.anchor2.pitch)+4,this.bottom=Math.min(this.anchor1.pitch,this.anchor2.pitch)-4):(this.top=this.anchor2.pitch+4,this.bottom=this.anchor2.pitch-4)};TieElem$2.prototype.setStartX=function(b){this.startLimitX=b};TieElem$2.prototype.setEndX=function(b){this.endLimitX=b};TieElem$2.prototype.setHint=function(){this.hint=!0};TieElem$2.prototype.calcTieDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var b;this.anchor1?b=this.anchor1.pitch:this.anchor2?b=this.anchor2.pitch:b=14,this.anchor1&&this.anchor1.stemDir==="down"&&this.anchor2&&this.anchor2.stemDir==="down"?this.above=!0:this.anchor1&&this.anchor1.stemDir==="up"&&this.anchor2&&this.anchor2.stemDir==="up"?this.above=!1:this.anchor1&&this.anchor2?this.above=b>=6:this.anchor1?this.above=this.anchor1.stemDir==="down":this.anchor2?this.above=this.anchor2.stemDir==="down":this.above=b>=6}};TieElem$2.prototype.calcSlurDirection=function(){if(this.isGrace)this.above=!1;else if(this.voiceNumber===0)this.above=!0;else if(this.voiceNumber>0)this.above=!1;else{var b=!1;this.anchor1&&this.anchor1.stemDir==="down"&&(b=!0),this.anchor2&&this.anchor2.stemDir==="down"&&(b=!0);for(var $=0;$<this.internalNotes.length;$++){var _e=this.internalNotes[$];_e.stemDir==="down"&&(b=!0)}this.above=b}};TieElem$2.prototype.calcX=function(b,$){this.anchor1?(this.startX=this.anchor1.x,this.anchor1.scalex<1&&(this.startX-=3)):this.startLimitX?this.startX=this.startLimitX.x+this.startLimitX.w:this.anchor2?this.startX=this.anchor2.x-20:this.startX=b,!this.anchor1&&this.dotted&&(this.startX-=3),this.anchor2?this.endX=this.anchor2.x:this.endLimitX?this.endX=this.endLimitX.x:this.endX=$};TieElem$2.prototype.calcTieY=function(){this.anchor1?this.startY=this.anchor1.pitch:this.anchor2?this.startY=this.anchor2.pitch:this.startY=this.above?14:0,this.anchor2?this.endY=this.anchor2.pitch:this.anchor1?this.endY=this.anchor1.pitch:this.endY=this.above?14:0};TieElem$2.prototype.calcSlurY=function(){if(this.anchor1&&this.anchor2){this.above&&this.anchor1.stemDir==="up"&&!this.fixedY?(this.startY=(this.anchor1.highestVert+this.anchor1.pitch)/2,this.startX+=this.anchor1.w/2):this.startY=this.anchor1.pitch;var b=this.anchor2.parent.beam&&this.anchor2.parent.beam.stemsUp&&this.anchor2.parent.beam.elems[0]!==this.anchor2.parent,$=(this.anchor2.highestVert+this.anchor2.pitch)/2;this.above&&this.anchor2.stemDir==="up"&&!this.fixedY&&!b&&$<this.startY?(this.endY=$,this.endX+=Math.round(this.anchor2.w/2)):this.endY=this.above&&b?this.anchor2.highestVert:this.anchor2.pitch}else this.anchor1?this.startY=this.endY=this.anchor1.pitch:this.anchor2?this.startY=this.endY=this.anchor2.pitch:(this.startY=this.above?14:0,this.endY=this.above?14:0)};TieElem$2.prototype.avoidCollisionAbove=function(){if(this.above){for(var b=-50,$=0;$<this.internalNotes.length;$++)this.internalNotes[$].highestVert>b&&(b=this.internalNotes[$].highestVert);b>this.startY&&b>this.endY&&(this.startY=this.endY=b-1)}};var tieElement=TieElem$2,DynamicDecoration=dynamicDecoration,CrescendoElem=crescendoElement,GlissandoElem=glissandoElement,glyphs$3=glyphs_1,RelativeElement$4=relativeElement,TieElem$1=tieElement,Decoration$1=function b(){this.startDiminuendoX=void 0,this.startCrescendoX=void 0,this.minTop=12,this.minBottom=0},closeDecoration=function(b,$,_e,et,tt,nt,rt,ot,st){for(var ct,lt=0;lt<$.length;lt++){if($[lt]==="staccato"||$[lt]==="tenuto"||$[lt]==="accent"&&!st){var at="scripts."+$[lt];if($[lt]==="accent"&&(at="scripts.sforzato"),ct===void 0?ct=rt==="down"?_e+2:ot-2:ct=rt==="down"?ct+2:ct-2,$[lt]==="accent")rt==="up"?ct--:ct++;else switch(ct){case 2:case 4:case 6:case 8:case 10:rt==="up"?ct--:ct++;break}_e>9&&ct++;var it=et/2;glyphs$3.getSymbolAlign(at)!=="center"&&(it-=glyphs$3.getSymbolWidth(at)/2),tt.addFixedX(new RelativeElement$4(at,it,glyphs$3.getSymbolWidth(at),ct))}if($[lt]==="slide"&&tt.heads[0]){var ut=tt.heads[0].pitch;ut-=2;var dt=new RelativeElement$4("",-nt-15,0,ut-1),ht=new RelativeElement$4("",-nt-5,0,ut+1);tt.addFixedX(dt),tt.addFixedX(ht),b.addOther(new TieElem$1({anchor1:dt,anchor2:ht,fixedY:!0}))}}return ct===void 0&&(ct=_e),{above:ct,below:tt.bottom}},volumeDecoration=function(b,$,_e,et){for(var tt=0;tt<$.length;tt++)switch($[tt]){case"p":case"mp":case"pp":case"ppp":case"pppp":case"f":case"ff":case"fff":case"ffff":case"sfz":case"mf":var nt=new DynamicDecoration(_e,$[tt],et);b.addOther(nt)}},compoundDecoration=function(b,$,_e,et,tt){function nt(){if(et.heads.length===0)return 10;for(var ct=et.heads[0].pitch,lt=1;lt<et.heads.length;lt++)ct=Math.max(ct,et.heads[lt].pitch);return ct}function rt(){if(et.heads.length===0)return 2;for(var ct=et.heads[0].pitch,lt=1;lt<et.heads.length;lt++)ct=Math.min(ct,et.heads[lt].pitch);return ct}function ot(ct,lt){var at=tt==="down"?rt()+1:nt()+9;tt!=="down"&&lt===1&&at--;var it=_e/2;it+=tt==="down"?-5:3;for(var ut=0;ut<lt;ut++)at-=1,et.addFixedX(new RelativeElement$4(ct,it,glyphs$3.getSymbolWidth(ct),at))}for(var st=0;st<b.length;st++)switch(b[st]){case"/":ot("flags.ugrace",1);break;case"//":ot("flags.ugrace",2);break;case"///":ot("flags.ugrace",3);break;case"////":ot("flags.ugrace",4);break}},stackedDecoration=function(b,$,_e,et,tt,nt,rt,ot){function st(ht,ft){ht==="above"?et.above+=ft:et.below-=ft}function ct(ht){var ft;return ht==="above"?(ft=et.above,ft<nt&&(ft=nt)):(ft=et.below,ft>rt&&(ft=rt)),ft}function lt(ht,ft,pt){var mt=ct(ft),gt=2,vt=5;_e.addFixedX(new RelativeElement$4(ht,$/2,0,mt+gt,{type:"decoration",klass:"ornament",thickness:3,anchor:pt})),st(ft,vt)}function at(ht,ft){var pt=$/2;glyphs$3.getSymbolAlign(ht)!=="center"&&(pt-=glyphs$3.getSymbolWidth(ht)/2);var mt=glyphs$3.symbolHeightInPitches(ht)+1,gt=ct(ft);gt=ft==="above"?gt+mt/2:gt-mt/2,_e.addFixedX(new RelativeElement$4(ht,pt,glyphs$3.getSymbolWidth(ht),gt,{klass:"ornament",thickness:glyphs$3.symbolHeightInPitches(ht)})),st(ft,mt)}for(var it={"+":"scripts.stopped",open:"scripts.open",snap:"scripts.snap",wedge:"scripts.wedge",thumb:"scripts.thumb",shortphrase:"scripts.shortphrase",mediumphrase:"scripts.mediumphrase",longphrase:"scripts.longphrase",trill:"scripts.trill",roll:"scripts.roll",irishroll:"scripts.roll",marcato:"scripts.umarcato",dmarcato:"scripts.dmarcato",umarcato:"scripts.umarcato",turn:"scripts.turn",uppermordent:"scripts.prall",pralltriller:"scripts.prall",mordent:"scripts.mordent",lowermordent:"scripts.mordent",downbow:"scripts.downbow",upbow:"scripts.upbow",fermata:"scripts.ufermata",invertedfermata:"scripts.dfermata",breath:",",coda:"scripts.coda",segno:"scripts.segno"},ut=!1,dt=0;dt<b.length;dt++)switch(b[dt]){case"0":case"1":case"2":case"3":case"4":case"5":case"D.C.":case"D.S.":lt(b[dt],tt,"middle"),ut=!0;break;case"D.C.alcoda":lt("D.C. al coda",tt,"end"),ut=!0;break;case"D.C.alfine":lt("D.C. al fine",tt,"end"),ut=!0;break;case"D.S.alcoda":lt("D.S. al coda",tt,"end"),ut=!0;break;case"D.S.alfine":lt("D.S. al fine",tt,"end"),ut=!0;break;case"fine":lt("FINE",tt,"middle"),ut=!0;break;case"+":case"open":case"snap":case"wedge":case"thumb":case"shortphrase":case"mediumphrase":case"longphrase":case"trill":case"roll":case"irishroll":case"marcato":case"dmarcato":case"turn":case"uppermordent":case"pralltriller":case"mordent":case"lowermordent":case"downbow":case"upbow":case"fermata":case"breath":case"umarcato":case"coda":case"segno":at(it[b[dt]],tt),ut=!0;break;case"invertedfermata":at(it[b[dt]],"below"),ut=!0;break;case"mark":_e.klass="mark";break;case"accent":ot&&(at("scripts.sforzato",tt),ut=!0);break}return ut};function leftDecoration(b,$,_e){for(var et=0;et<b.length;et++)switch(b[et]){case"arpeggio":for(var tt=$.abcelem.minpitch-1;tt<=$.abcelem.maxpitch;tt+=2)$.addExtra(new RelativeElement$4("scripts.arpeggio",-glyphs$3.getSymbolWidth("scripts.arpeggio")*2-_e,0,tt+2,{klass:"ornament",thickness:glyphs$3.symbolHeightInPitches("scripts.arpeggio")}));break}}Decoration$1.prototype.dynamicDecoration=function(b,$,_e,et){for(var tt,nt,rt,ot=0;ot<$.length;ot++)switch($[ot]){case"diminuendo(":this.startDiminuendoX=_e,tt=void 0;break;case"diminuendo)":tt={start:this.startDiminuendoX,stop:_e},this.startDiminuendoX=void 0;break;case"crescendo(":this.startCrescendoX=_e,nt=void 0;break;case"crescendo)":nt={start:this.startCrescendoX,stop:_e},this.startCrescendoX=void 0;break;case"~(":case"glissando(":this.startGlissandoX=_e,rt=void 0;break;case"~)":case"glissando)":rt={start:this.startGlissandoX,stop:_e},this.startGlissandoX=void 0;break}tt&&b.addOther(new CrescendoElem(tt.start,tt.stop,">",et)),nt&&b.addOther(new CrescendoElem(nt.start,nt.stop,"<",et)),rt&&b.addOther(new GlissandoElem(rt.start,rt.stop))};Decoration$1.prototype.createDecoration=function(b,$,_e,et,tt,nt,rt,ot,st,ct,lt){st||(st={ornamentPosition:"above",volumePosition:ct?"above":"below",dynamicPosition:ct?"above":"below"}),volumeDecoration(b,$,tt,st.volumePosition),this.dynamicDecoration(b,$,tt,st.dynamicPosition),compoundDecoration($,_e,et,tt,rt);var at=closeDecoration(b,$,_e,et,tt,nt,rt,ot,lt);at.above=Math.max(at.above,this.minTop),stackedDecoration($,et,tt,at,st.ornamentPosition,this.minTop,this.minBottom,lt),leftDecoration($,tt,nt)};var decoration=Decoration$1,EndingElem$1=function b($,_e,et){this.type="EndingElem",this.text=$,this.anchor1=_e,this.anchor2=et,this.endingHeightAbove=5,this.pitch=void 0},endingElement=EndingElem$1,calcHeight$1=function(b){for(var $=0,_e=0;_e<b.voices.length;_e++){var et=b.voices[_e].staff;b.voices[_e].duplicate||($+=et.top,$+=-et.bottom)}return $},calcHeight_1=calcHeight$1,calcHeight=calcHeight_1,StaffGroupElement$1=function(b){this.getTextSize=b,this.voices=[],this.staffs=[],this.brace=void 0,this.bracket=void 0};StaffGroupElement$1.prototype.setLimit=function(b,$){$.specialY[b]&&($.staff.specialY[b]?$.staff.specialY[b]=Math.max($.staff.specialY[b],$.specialY[b]):$.staff.specialY[b]=$.specialY[b])};StaffGroupElement$1.prototype.addVoice=function(b,$,_e){var et=this.voices.length;this.voices[et]=b,this.staffs[$]?this.staffs[$].voices.push(et):this.staffs[this.staffs.length]={top:10,bottom:2,lines:_e,voices:[et],specialY:{tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0}},b.staff=this.staffs[$]};StaffGroupElement$1.prototype.setHeight=function(){this.height=calcHeight(this)};StaffGroupElement$1.prototype.setWidth=function(b){this.w=b;for(var $=0;$<this.voices.length;$++)this.voices[$].setWidth(b)};StaffGroupElement$1.prototype.setStaffLimits=function(b){b.staff.top=Math.max(b.staff.top,b.top),b.staff.bottom=Math.min(b.staff.bottom,b.bottom),this.setLimit("tempoHeightAbove",b),this.setLimit("partHeightAbove",b),this.setLimit("volumeHeightAbove",b),this.setLimit("dynamicHeightAbove",b),this.setLimit("endingHeightAbove",b),this.setLimit("chordHeightAbove",b),this.setLimit("lyricHeightAbove",b),this.setLimit("lyricHeightBelow",b),this.setLimit("chordHeightBelow",b),this.setLimit("volumeHeightBelow",b),this.setLimit("dynamicHeightBelow",b)};var staffGroupElement=StaffGroupElement$1,AbsoluteElement$1=absoluteElement,RelativeElement$3=relativeElement,TempoElement$1=function b($,_e,et){this.type="TempoElement",this.tempo=$,this.tempo.type="tempo",this.tuneNumber=_e,this.totalHeightInPitches=6,this.tempoHeightAbove=this.totalHeightInPitches,this.pitch=void 0,this.tempo.duration&&!this.tempo.suppressBpm&&(this.note=this.createNote(et,$,_e))};TempoElement$1.prototype.setX=function(b){this.x=b};TempoElement$1.prototype.createNote=function(b,$,_e){var et=.75,tt=$.duration[0],nt=new AbsoluteElement$1($,tt,1,"tempo",_e),rt,ot,st;tt<=1/32?(st="noteheads.quarter",ot="flags.u32nd",rt=0):tt<=1/16?(st="noteheads.quarter",ot="flags.u16th",rt=0):tt<=3/32?(st="noteheads.quarter",ot="flags.u16nd",rt=1):tt<=1/8?(st="noteheads.quarter",ot="flags.u8th",rt=0):tt<=3/16?(st="noteheads.quarter",ot="flags.u8th",rt=1):tt<=1/4?(st="noteheads.quarter",rt=0):tt<=3/8?(st="noteheads.quarter",rt=1):tt<=1/2?(st="noteheads.half",rt=0):tt<=3/4?(st="noteheads.half",rt=1):tt<=1?(st="noteheads.whole",rt=0):tt<=1.5?(st="noteheads.whole",rt=1):tt<=2?(st="noteheads.dbl",rt=0):(st="noteheads.dbl",rt=1);var ct=b(nt,st,{verticalPos:0},{dir:"up",flag:ot,dot:rt,scale:et}),lt=ct.notehead;nt.addHead(lt);var at;if(st!=="noteheads.whole"&&st!=="noteheads.dbl"){var it=.3333333333333333*et,ut=5*et,dt=lt.dx+lt.w,ht=-.6;at=new RelativeElement$3(null,dt,0,it,{type:"stem",pitch2:ut,linewidth:ht}),nt.addRight(at)}return nt};var tempoElement=TempoElement$1,TripletElem$1=function b($,_e,et){this.type="TripletElem",this.anchor1=_e,this.number=$,this.durationClass=("d"+Math.round(_e.parent.durationClass*1e3)/1e3).replace(/\./,"-"),this.middleElems=[],this.flatBeams=et.flatBeams};TripletElem$1.prototype.isClosed=function(){return!!this.anchor2};TripletElem$1.prototype.middleNote=function(b){this.middleElems.push(b)};TripletElem$1.prototype.setCloseAnchor=function(b){this.anchor2=b,(!this.anchor1.parent.beam||this.anchor1.stemDir==="up")&&(this.endingHeightAbove=4)};var tripletElement=TripletElem$1;function germanNote(b){switch(b){case"B#":return"H#";case"B♯":return"H♯";case"B":return"H";case"Bb":return"B";case"B♭":return"B"}return b}function translateChord$1(b,$,_e){var et=b.split(`
`);for(let tt=0;tt<et.length;tt++){let rt=et[tt].match(/^([ABCDEFG][♯♭]?)?([^\/]+)?(\/([ABCDEFG][#b♯♭]?))?/);if(!rt)continue;let ot=rt[1]||"",st=rt[2]||"",ct=rt[4]||"";_e&&(ot=germanNote(ot),ct=germanNote(ct));const lt=$?"":"",at=ct?"/"+ct:"";et[tt]=[ot,st,at].join(lt)}return et.join(`
`)}var translateChord_1=translateChord$1,RelativeElement$2=relativeElement,spacing$a=spacing_1;const translateChord=translateChord_1;var addChord$1=function(b,$,_e,et,tt,nt,rt,ot){for(var st=0;st<_e.chord.length;st++){var ct=_e.chord[st].position,lt=_e.chord[st].rel_position,at=ct==="left"||ct==="right"||ct==="below"||ct==="above"||!!lt,it,ut;at?(it="annotationfont",ut="abcjs-annotation"):(it="gchordfont",ut="abcjs-chord");var dt=b.attr(it,ut),ht=_e.chord[st].name,ft;if(typeof ht=="string")ft=chordString(ht,ct,lt,at,it,ut,dt,b,$,_e,et,tt,nt,rt,ot),et=ft.roomTaken,tt=ft.roomTakenRight;else for(var pt=0;pt<ht.length;pt++)ft=chordString(ht[pt].text,ct,lt,at,it,ut,dt,b,$,_e,et,tt,nt,rt,ot),et=ft.roomTaken,tt=ft.roomTakenRight}return{roomTaken:et,roomTakenRight:tt}};function chordString(b,$,_e,et,tt,nt,rt,ot,st,ct,lt,at,it,ut,dt){for(var ht=b.split(`
`),ft=ht.length-1;ft>=0;ft--){var pt=ht[ft],mt=0,gt;et||(pt=translateChord(pt,ut,dt));var vt=ot.calc(pt,tt,nt),yt=vt.width,bt=vt.height/spacing$a.STEP;switch($){case"left":lt+=yt+7,mt=-lt,gt=ct.averagepitch,st.addExtra(new RelativeElement$2(pt,mt,yt+4,gt,{type:"text",height:bt,dim:rt,position:"left"}));break;case"right":at+=4,mt=at,gt=ct.averagepitch,st.addRight(new RelativeElement$2(pt,mt,yt+4,gt,{type:"text",height:bt,dim:rt,position:"right"}));break;case"below":st.addRight(new RelativeElement$2(pt,0,0,void 0,{type:"text",position:"below",height:bt,dim:rt,realWidth:yt}));break;case"above":st.addRight(new RelativeElement$2(pt,0,0,void 0,{type:"text",position:"above",height:bt,dim:rt,realWidth:yt}));break;default:if(_e){var xt=_e.y+3*spacing$a.STEP;st.addRight(new RelativeElement$2(pt,mt+_e.x,0,ct.minpitch+xt/spacing$a.STEP,{position:"relative",type:"text",height:bt,dim:rt}))}else{var _t="above";ct.positioning&&ct.positioning.chordPosition&&(_t=ct.positioning.chordPosition),_t!=="hidden"&&st.addCentered(new RelativeElement$2(pt,it/2,yt,void 0,{type:"chord",position:_t,height:bt,dim:rt,realWidth:yt}))}}}return{roomTaken:lt,roomTakenRight:at}}var addChord_1=addChord$1,AbsoluteElement=absoluteElement,BeamElem=beamElement,BraceElem=braceElement,createClef=createClef_1,createKeySignature=createKeySignature_1,createNoteHead=createNoteHead_1,createTimeSignature=createTimeSignature_1,Decoration=decoration,EndingElem=endingElement,glyphs$2=glyphs_1,RelativeElement$1=relativeElement,spacing$9=spacing_1,StaffGroupElement=staffGroupElement,TempoElement=tempoElement,TieElem=tieElement,TripletElem=tripletElement,VoiceElement$1=voiceElement,addChord=addChord_1,pitchesToPerc=pitchesToPerc_1,parseCommon$2=abc_common,getDuration=function(b){var $=0;return b.duration&&($=b.duration),$},hint=!1,chartable={rest:{0:"rests.whole",1:"rests.half",2:"rests.quarter",3:"rests.8th",4:"rests.16th",5:"rests.32nd",6:"rests.64th",7:"rests.128th",multi:"rests.multimeasure"},note:{"-1":"noteheads.dbl",0:"noteheads.whole",1:"noteheads.half",2:"noteheads.quarter",3:"noteheads.quarter",4:"noteheads.quarter",5:"noteheads.quarter",6:"noteheads.quarter",7:"noteheads.quarter",nostem:"noteheads.quarter"},rhythm:{"-1":"noteheads.slash.whole",0:"noteheads.slash.whole",1:"noteheads.slash.whole",2:"noteheads.slash.quarter",3:"noteheads.slash.quarter",4:"noteheads.slash.quarter",5:"noteheads.slash.quarter",6:"noteheads.slash.quarter",7:"noteheads.slash.quarter",nostem:"noteheads.slash.nostem"},x:{"-1":"noteheads.indeterminate",0:"noteheads.indeterminate",1:"noteheads.indeterminate",2:"noteheads.indeterminate",3:"noteheads.indeterminate",4:"noteheads.indeterminate",5:"noteheads.indeterminate",6:"noteheads.indeterminate",7:"noteheads.indeterminate",nostem:"noteheads.indeterminate"},harmonic:{"-1":"noteheads.harmonic.quarter",0:"noteheads.harmonic.quarter",1:"noteheads.harmonic.quarter",2:"noteheads.harmonic.quarter",3:"noteheads.harmonic.quarter",4:"noteheads.harmonic.quarter",5:"noteheads.harmonic.quarter",6:"noteheads.harmonic.quarter",7:"noteheads.harmonic.quarter",nostem:"noteheads.harmonic.quarter"},triangle:{"-1":"noteheads.triangle.quarter",0:"noteheads.triangle.quarter",1:"noteheads.triangle.quarter",2:"noteheads.triangle.quarter",3:"noteheads.triangle.quarter",4:"noteheads.triangle.quarter",5:"noteheads.triangle.quarter",6:"noteheads.triangle.quarter",7:"noteheads.triangle.quarter",nostem:"noteheads.triangle.quarter"},uflags:{3:"flags.u8th",4:"flags.u16th",5:"flags.u32nd",6:"flags.u64th"},dflags:{3:"flags.d8th",4:"flags.d16th",5:"flags.d32nd",6:"flags.d64th"}},AbstractEngraver$1=function(b,$,_e){this.decoration=new Decoration,this.getTextSize=b,this.tuneNumber=$,this.isBagpipes=_e.bagpipes,this.flatBeams=_e.flatbeams,this.graceSlurs=_e.graceSlurs,this.percmap=_e.percmap,this.initialClef=_e.initialClef,this.jazzchords=!!_e.jazzchords,this.accentAbove=!!_e.accentAbove,this.germanAlphabet=!!_e.germanAlphabet,this.reset()};AbstractEngraver$1.prototype.reset=function(){this.slurs={},this.ties=[],this.voiceScale=1,this.voiceColor=void 0,this.slursbyvoice={},this.tiesbyvoice={},this.endingsbyvoice={},this.scaleByVoice={},this.colorByVoice={},this.tripletmultiplier=1,this.abcline=void 0,this.accidentalSlot=void 0,this.accidentalshiftx=void 0,this.dotshiftx=void 0,this.hasVocals=!1,this.minY=void 0,this.partstartelem=void 0,this.startlimitelem=void 0,this.stemdir=void 0};AbstractEngraver$1.prototype.setStemHeight=function(b){this.stemHeight=Math.round(b*10/spacing$9.STEP)/10};AbstractEngraver$1.prototype.getCurrentVoiceId=function(b,$){return"s"+b+"v"+$};AbstractEngraver$1.prototype.pushCrossLineElems=function(b,$){this.slursbyvoice[this.getCurrentVoiceId(b,$)]=this.slurs,this.tiesbyvoice[this.getCurrentVoiceId(b,$)]=this.ties,this.endingsbyvoice[this.getCurrentVoiceId(b,$)]=this.partstartelem,this.scaleByVoice[this.getCurrentVoiceId(b,$)]=this.voiceScale,this.voiceColor&&(this.colorByVoice[this.getCurrentVoiceId(b,$)]=this.voiceColor)};AbstractEngraver$1.prototype.popCrossLineElems=function(b,$){this.slurs=this.slursbyvoice[this.getCurrentVoiceId(b,$)]||{},this.ties=this.tiesbyvoice[this.getCurrentVoiceId(b,$)]||[],this.partstartelem=this.endingsbyvoice[this.getCurrentVoiceId(b,$)],this.voiceScale=this.scaleByVoice[this.getCurrentVoiceId(b,$)],this.voiceScale===void 0&&(this.voiceScale=1),this.voiceColor=this.colorByVoice[this.getCurrentVoiceId(b,$)]};AbstractEngraver$1.prototype.containsLyrics=function(b){for(var $=0;$<b.length;$++)for(var _e=0;_e<b[$].voices.length;_e++)for(var et=0;et<b[$].voices[_e].length;et++){var tt=b[$].voices[_e][et];if(tt.lyric){(!tt.positioning||tt.positioning.vocalPosition==="below")&&(this.hasVocals=!0);return}}};AbstractEngraver$1.prototype.createABCLine=function(b,$,_e){this.minY=2,this.containsLyrics(b);var et=new StaffGroupElement(this.getTextSize);this.tempoSet=!1;for(var tt=0;tt<b.length;tt++)hint&&this.restoreState(),hint=!1,this.createABCStaff(et,b[tt],$,tt,_e);return et};AbstractEngraver$1.prototype.createABCStaff=function(b,$,_e,et,tt){b.getTextSize.updateFonts($);for(var nt=0;nt<$.voices.length;nt++){var rt=new VoiceElement$1(nt,$.voices.length);nt===0?(rt.barfrom=$.connectBarLines==="start"||$.connectBarLines==="continue",rt.barto=$.connectBarLines==="continue"||$.connectBarLines==="end"):rt.duplicate=!0,$.title&&$.title[nt]&&(rt.header=$.title[nt].replace(/\\n/g,`
`),rt.headerPosition=6+b.getTextSize.baselineToCenter(rt.header,"voicefont","staff-extra voice-name",nt,$.voices.length)/spacing$9.STEP),$.clef&&$.clef.type==="perc"&&(rt.isPercussion=!0);var ot=(!this.initialClef||tt===0)&&createClef($.clef,this.tuneNumber);ot&&(nt===0&&$.barNumber&&this.addMeasureNumber($.barNumber,ot),rt.addChild(ot),this.startlimitelem=ot);var st=createKeySignature($.key,this.tuneNumber);if(st&&(rt.addChild(st),this.startlimitelem=st),$.meter){$.meter.type==="specified"?this.measureLength=$.meter.value[0].num/$.meter.value[0].den:this.measureLength=1;var ct=createTimeSignature($.meter,this.tuneNumber);rt.addChild(ct),this.startlimitelem=ct}rt.duplicate&&(rt.children=[]);var lt=$.clef.stafflines||$.clef.stafflines===0?$.clef.stafflines:5;b.addVoice(rt,et,lt);var at=lt===1;this.createABCVoice($.voices[nt],_e,et,nt,at,rt),b.setStaffLimits(rt),nt===0&&($.brace==="start"||!b.brace&&$.brace?(b.brace||(b.brace=[]),b.brace.push(new BraceElem(rt,"brace"))):$.brace==="end"&&b.brace?b.brace[b.brace.length-1].setBottomStaff(rt):$.brace==="continue"&&b.brace&&b.brace[b.brace.length-1].continuing(rt),$.bracket==="start"||!b.bracket&&$.bracket?(b.bracket||(b.bracket=[]),b.bracket.push(new BraceElem(rt,"bracket"))):$.bracket==="end"&&b.bracket?b.bracket[b.bracket.length-1].setBottomStaff(rt):$.bracket==="continue"&&b.bracket&&b.bracket[b.bracket.length-1].continuing(rt))}};function getBeamGroup(b,$){var _e=b[$];if(_e.el_type!=="note"||!_e.startBeam||_e.endBeam)return{count:1,elem:_e};for(var et=[];$<b.length&&b[$].el_type==="note"&&(et.push(b[$]),!b[$].endBeam);)$++;return{count:et.length,elem:et}}AbstractEngraver$1.prototype.createABCVoice=function(b,$,_e,et,tt,nt){this.popCrossLineElems(_e,et),this.stemdir=this.isBagpipes?"down":null,this.abcline=b,this.partstartelem&&(this.partstartelem=new EndingElem("",null,null),nt.addOther(this.partstartelem));var rt=nt.voicetotal<2?-1:nt.voicenumber;for(var ot in this.slurs)this.slurs.hasOwnProperty(ot)&&(this.slurs[ot]=new TieElem({force:this.slurs[ot].force,voiceNumber:rt,stemDir:this.slurs[ot].stemDir,style:this.slurs[ot].dotted}),hint&&this.slurs[ot].setHint(),nt.addOther(this.slurs[ot]));for(var st=0;st<this.ties.length;st++)this.ties[st]=new TieElem({force:this.ties[st].force,stemDir:this.ties[st].stemDir,voiceNumber:rt,style:this.ties[st].dotted}),hint&&this.ties[st].setHint(),nt.addOther(this.ties[st]);for(var ct=0;ct<this.abcline.length;ct++)setAveragePitch(this.abcline[ct]),this.minY=Math.min(this.abcline[ct].minpitch,this.minY);for(var lt=_e===0,at=0;at<this.abcline.length;){var it=getBeamGroup(this.abcline,at),ut=this.createABCElement(lt,tt,nt,it.elem);if(ut)for(st=0;st<ut.length;st++){if(!this.tempoSet&&$&&!$.suppress){this.tempoSet=!0;var dt=new AbsoluteElement($,0,0,"tempo",this.tuneNumber,{});dt.addFixedX(new TempoElement($,this.tuneNumber,createNoteHead)),nt.addChild(dt)}nt.addChild(ut[st])}at+=it.count}this.pushCrossLineElems(_e,et)};AbstractEngraver$1.prototype.saveState=function(){this.tiesSave=parseCommon$2.cloneArray(this.ties),this.slursSave=parseCommon$2.cloneHashOfHash(this.slurs),this.slursbyvoiceSave=parseCommon$2.cloneHashOfHash(this.slursbyvoice),this.tiesbyvoiceSave=parseCommon$2.cloneHashOfArrayOfHash(this.tiesbyvoice)};AbstractEngraver$1.prototype.restoreState=function(){this.ties=parseCommon$2.cloneArray(this.tiesSave),this.slurs=parseCommon$2.cloneHashOfHash(this.slursSave),this.slursbyvoice=parseCommon$2.cloneHashOfHash(this.slursbyvoiceSave),this.tiesbyvoice=parseCommon$2.cloneHashOfArrayOfHash(this.tiesbyvoiceSave)};AbstractEngraver$1.prototype.createABCElement=function(b,$,_e,et){var tt=[];switch(et.el_type){case void 0:tt=this.createBeam($,_e,et);break;case"note":tt[0]=this.createNote(et,!1,$,_e),this.triplet&&this.triplet.isClosed()&&(_e.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1);break;case"bar":tt[0]=this.createBarLine(_e,et,b),_e.duplicate&&tt.length>0&&(tt[0].invisible=!0);break;case"meter":tt[0]=createTimeSignature(et,this.tuneNumber),this.startlimitelem=tt[0],_e.duplicate&&tt.length>0&&(tt[0].invisible=!0);break;case"clef":if(tt[0]=createClef(et,this.tuneNumber),!tt[0])return null;_e.duplicate&&tt.length>0&&(tt[0].invisible=!0);break;case"key":var nt=createKeySignature(et,this.tuneNumber);nt&&(tt[0]=nt,this.startlimitelem=tt[0]),_e.duplicate&&tt.length>0&&(tt[0].invisible=!0);break;case"stem":this.stemdir=et.direction==="auto"?void 0:et.direction;break;case"part":var rt=new AbsoluteElement(et,0,0,"part",this.tuneNumber),ot=this.getTextSize.calc(et.title,"partsfont","part");rt.addFixedX(new RelativeElement$1(et.title,0,0,void 0,{type:"part",height:ot.height/spacing$9.STEP})),tt[0]=rt;break;case"tempo":var st=new AbsoluteElement(et,0,0,"tempo",this.tuneNumber);st.addFixedX(new TempoElement(et,this.tuneNumber,createNoteHead)),tt[0]=st;break;case"style":et.head==="normal"?delete this.style:this.style=et.head;break;case"hint":hint=!0,this.saveState();break;case"midi":break;case"scale":this.voiceScale=et.size;break;case"color":this.voiceColor=et.color,_e.color=this.voiceColor;break;default:var ct=new AbsoluteElement(et,0,0,"unsupported",this.tuneNumber);ct.addFixed(new RelativeElement$1("element type "+et.el_type,0,0,void 0,{type:"debug"})),tt[0]=ct}return tt};function setAveragePitch(b){if(b.pitches){sortPitch(b);for(var $=0,_e=0;_e<b.pitches.length;_e++)$+=b.pitches[_e].verticalPos;b.averagepitch=$/b.pitches.length,b.minpitch=b.pitches[0].verticalPos,b.maxpitch=b.pitches[b.pitches.length-1].verticalPos}}AbstractEngraver$1.prototype.createBeam=function(b,$,_e){var et=[],tt=new BeamElem(this.stemHeight*this.voiceScale,this.stemdir,this.flatBeams,_e[0]);hint&&tt.setHint();for(var nt=0;nt<_e.length;nt++)tt.runningDirection(_e[nt]);tt.setStemDirection();var rt=this.stemdir;for(this.stemdir=tt.stemsUp?"up":"down",nt=0;nt<_e.length;nt++){var ot=_e[nt],st=this.createNote(ot,!0,b,$);et.push(st),tt.add(st),this.triplet&&this.triplet.isClosed()&&($.addOther(this.triplet),this.triplet=null,this.tripletmultiplier=1)}return tt.calcDir(),$.addBeam(tt),this.stemdir=rt,et};var sortPitch=function(b){var $;do{$=!0;for(var _e=0;_e<b.pitches.length-1;_e++)if(b.pitches[_e].pitch>b.pitches[_e+1].pitch){$=!1;var et=b.pitches[_e];b.pitches[_e]=b.pitches[_e+1],b.pitches[_e+1]=et}}while(!$)},ledgerLines=function(b,$,_e,et,tt,nt,rt,ot,st){for(var ct=_e;ct>11;ct--)ct%2===0&&!et&&b.addFixed(new RelativeElement$1(null,ot,(tt+4)*st,ct,{type:"ledger"}));for(ct=$;ct<1;ct++)ct%2===0&&!et&&b.addFixed(new RelativeElement$1(null,ot,(tt+4)*st,ct,{type:"ledger"}));for(ct=0;ct<nt.length;ct++){var lt=tt;rt==="down"&&(lt=-lt),b.addFixed(new RelativeElement$1(null,lt+ot,(tt+4)*st,nt[ct],{type:"ledger"}))}};AbstractEngraver$1.prototype.addGraceNotes=function(b,$,_e,et,tt,nt,rt){var ot=.6,st=3.5/5;tt=Math.round(tt*st);var ct=null,lt;b.gracenotes.length>1&&(ct=new BeamElem(tt,"grace",nt),hint&&ct.setHint(),ct.mainNote=_e);var at,it=[];for(at=b.gracenotes.length-1;at>=0;at--)rt+=10,it[at]=rt,b.gracenotes[at].accidental&&(rt+=7);for(at=0;at<b.gracenotes.length;at++){var ut=b.gracenotes[at].verticalPos;lt=ct?null:chartable.uflags[nt?5:3];var dt=[],ht=createNoteHead(_e,"noteheads.quarter",b.gracenotes[at],{dir:"up",headx:-it[at],extrax:-it[at],flag:lt,scale:ot*this.voiceScale,accidentalSlot:dt});ht.notehead.highestVert=ht.notehead.pitch+tt;var ft=ht.notehead;if(this.addSlursAndTies(_e,b.gracenotes[at],ft,$,"up",!0),_e.addExtra(ft),b.gracenotes[at].acciaccatura){var pt=b.gracenotes[at].verticalPos+7*ot,mt=ct?5:6;_e.addRight(new RelativeElement$1("flags.ugrace",-it[at]+mt,0,pt,{scalex:ot,scaley:ot}))}if(ct){var gt=b.gracenotes[at].duration/2;nt&&(gt/=2);var vt={heads:[ft],abcelem:{averagepitch:ut,minpitch:ut,maxpitch:ut,duration:gt}};ct.add(vt)}else{var yt=ut+.3333333333333333*ot,bt=ut+7*ot,xt=ft.dx+ft.w,_t=-.6;_e.addExtra(new RelativeElement$1(null,xt,0,yt,{type:"stem",pitch2:bt,linewidth:_t}))}ledgerLines(_e,ut,ut,!1,glyphs$2.getSymbolWidth("noteheads.quarter"),[],!0,ft.dx-1,.6);var wt=b.rest&&(b.rest.type==="spacer"||b.rest.type==="invisible");at===0&&!nt&&this.graceSlurs&&!wt&&$.addOther(new TieElem({anchor1:ft,anchor2:et,isGrace:!0}))}return ct&&(ct.calcDir(),$.addBeam(ct)),rt};function addRestToAbsElement(b,$,_e,et,tt,nt,rt,ot,st){var ct,lt=7,at,it,ut;switch(tt&&(nt==="down"&&(lt=3),nt==="up"&&(lt=11)),rt&&(_e<.5||_e<1?lt=7:lt=5),$.rest.type){case"whole":ct=chartable.rest[0],$.averagepitch=lt,$.minpitch=lt,$.maxpitch=lt,et=0;break;case"rest":$.style==="rhythm"?ct=chartable.rhythm[-ot]:ct=chartable.rest[-ot],$.averagepitch=lt,$.minpitch=lt,$.maxpitch=lt;break;case"invisible":case"invisible-multimeasure":case"spacer":ct="",$.averagepitch=lt,$.minpitch=lt,$.maxpitch=lt;break;case"multimeasure":ct=chartable.rest.multi,$.averagepitch=lt,$.minpitch=lt,$.maxpitch=lt,et=0;var dt=glyphs$2.getSymbolWidth(ct);b.addHead(new RelativeElement$1(ct,dt,dt*2,7));var ht=new RelativeElement$1(""+$.rest.text,dt,dt,16,{type:"multimeasure-text"});b.addExtra(ht)}if($.rest.type.indexOf("multimeasure")<0&&$.rest.type!=="invisible"){var ft=createNoteHead(b,ct,{verticalPos:lt},{dot:et,scale:st});at=ft.notehead,at&&(b.addHead(at),it=ft.accidentalshiftx,ut=ft.dotshiftx)}return{noteHead:at,roomTaken:it,roomTakenRight:ut}}function addIfNotExist(b,$){for(var _e=0;_e<b.length;_e++)if(JSON.stringify(b[_e])===JSON.stringify($))return;b.push($)}AbstractEngraver$1.prototype.addNoteToAbcElement=function(b,$,_e,et,tt,nt,rt,ot,st){var ct=0,lt,at=0,it=0,ut,dt,ht=[],ft=[],pt=0,mt=$.averagepitch>=6?"down":"up";et&&(mt=et),tt=$.style?$.style:tt,(!tt||tt==="normal")&&(tt="note");var gt;nt?gt=chartable[tt].nostem:gt=chartable[tt][-rt],gt||console.log("noteSymbol:",tt,rt,nt);var vt;for(vt=mt==="down"?$.pitches.length-2:1;mt==="down"?vt>=0:vt<$.pitches.length;vt=mt==="down"?vt-1:vt+1){var yt=$.pitches[mt==="down"?vt+1:vt-1],bt=$.pitches[vt],xt=mt==="down"?yt.pitch-bt.pitch:bt.pitch-yt.pitch;xt<=1&&!yt.printer_shift&&(bt.printer_shift=xt?"different":"same",(bt.verticalPos>11||bt.verticalPos<1)&&ht.push(bt.verticalPos-bt.verticalPos%2),mt==="down"?at=glyphs$2.getSymbolWidth(gt)+2:ct=glyphs$2.getSymbolWidth(gt)+2)}var _t=$.pitches.length;for(vt=0;vt<$.pitches.length;vt++){if(!ot){var wt;mt==="down"&&vt!==0||mt==="up"&&vt!==_t-1?wt=null:wt=chartable[mt==="down"?"dflags":"uflags"][-rt]}var At;if($.pitches[vt].style)At=chartable[$.pitches[vt].style][-rt];else if(st.isPercussion&&this.percmap){At=gt;var Pt=this.percmap[pitchesToPerc($.pitches[vt])];Pt&&Pt.noteHead&&chartable[Pt.noteHead]&&(At=chartable[Pt.noteHead][-rt])}else At=gt;$.pitches[vt].highestVert=$.pitches[vt].verticalPos;var jt=(et==="up"||mt==="up")&&vt===0,kt=(et==="down"||mt==="down")&&vt===_t-1;if(jt||kt){if(($.startSlur||_t===1)&&($.pitches[vt].highestVert=$.pitches[_t-1].verticalPos,getDuration($)<1&&(et==="up"||mt==="up")&&($.pitches[vt].highestVert+=6)),$.startSlur)for($.pitches[vt].startSlur||($.pitches[vt].startSlur=[]),dt=0;dt<$.startSlur.length;dt++)addIfNotExist($.pitches[vt].startSlur,$.startSlur[dt]);if($.endSlur)for($.pitches[vt].highestVert=$.pitches[_t-1].verticalPos,getDuration($)<1&&(et==="up"||mt==="up")&&($.pitches[vt].highestVert+=6),$.pitches[vt].endSlur||($.pitches[vt].endSlur=[]),dt=0;dt<$.endSlur.length;dt++)addIfNotExist($.pitches[vt].endSlur,$.endSlur[dt])}var St=!ot&&rt<=-1,Ct=createNoteHead(b,At,$.pitches[vt],{dir:mt,extrax:-at,flag:wt,dot:_e,dotshiftx:ct,scale:this.voiceScale,accidentalSlot:ft,shouldExtendStem:!et,printAccidentals:!st.isPercussion});pt=Math.max(glyphs$2.getSymbolWidth(At),pt),b.extraw-=Ct.extraLeft,lt=Ct.notehead,lt&&(this.addSlursAndTies(b,$.pitches[vt],lt,st,St?mt:null,!1),$.gracenotes&&$.gracenotes.length>0&&(lt.bottom=lt.bottom-1),b.addHead(lt)),at+=Ct.accidentalshiftx,it=Math.max(it,Ct.dotshiftx)}if(St){var Et=Math.round(70*this.voiceScale)/10,Tt=mt==="down"?$.minpitch-Et:$.minpitch+1/3;Tt>6&&!et&&(Tt=6);var $t=mt==="down"?$.maxpitch-1/3:$.maxpitch+Et;$t<6&&!et&&($t=6);var Ot=mt==="down"||b.heads.length===0?0:b.heads[0].w,Rt=mt==="down"?1:-1;lt&&lt.c==="noteheads.slash.quarter"&&(mt==="down"?$t-=1:Tt+=1),lt&&lt.c==="noteheads.triangle.quarter"&&(mt==="down"?$t-=.7:Tt-=1.2),b.addRight(new RelativeElement$1(null,Ot,0,Tt,{type:"stem",pitch2:$t,linewidth:Rt,bottom:Tt-1})),ut=Math.min(Tt,$t)}return{noteHead:lt,roomTaken:at,roomTakenRight:it,min:ut,additionalLedgers:ht,dir:mt,symbolWidth:pt}};AbstractEngraver$1.prototype.addLyric=function(b,$){var _e="";$.lyric.forEach(function(nt){var rt=nt.divider===" "?"":nt.divider;_e+=nt.syllable+rt+`
`});var et=this.getTextSize.calc(_e,"vocalfont","lyric"),tt=$.positioning?$.positioning.vocalPosition:"below";b.addCentered(new RelativeElement$1(_e,0,et.width,void 0,{type:"lyric",position:tt,height:et.height/spacing$9.STEP,dim:this.getTextSize.attr("vocalfont","lyric")}))};AbstractEngraver$1.prototype.createNote=function(b,$,_e,et){var tt=null,nt=0,rt=0,ot=0,st=[],ct,lt=getDuration(b),at=!1;lt===0&&(at=!0,lt=.25,$=!0);for(var it=Math.floor(Math.log(lt)/Math.log(2)),ut=0,dt=Math.pow(2,it),ht=dt/2;dt<lt;ut++,dt+=ht,ht/=2);b.startTriplet&&(this.tripletmultiplier=b.tripletMultiplier);var ft=lt*this.tripletmultiplier;b.rest&&b.rest.type==="multimeasure"&&(ft=1),b.rest&&b.rest.type==="invisible-multimeasure"&&(ft=this.measureLength*b.rest.text);var pt=b.rest?"rest":"note",mt=new AbsoluteElement(b,ft,1,pt,this.tuneNumber,{durationClassOveride:b.duration*this.tripletmultiplier});if(hint&&mt.setHint(),b.rest){this.measureLength===lt&&b.rest.type!=="invisible"&&b.rest.type!=="spacer"&&b.rest.type.indexOf("multimeasure")<0&&(b.rest.type="whole");var gt=addRestToAbsElement(mt,b,lt,ut,et.voicetotal>1,this.stemdir,_e,it,this.voiceScale);tt=gt.noteHead,nt=gt.roomTaken,rt=gt.roomTakenRight}else{var vt=this.addNoteToAbcElement(mt,b,ut,this.stemdir,this.style,at,it,$,et);vt.min!==void 0&&(this.minY=Math.min(vt.min,this.minY)),tt=vt.noteHead,nt=vt.roomTaken,rt=vt.roomTakenRight,st=vt.additionalLedgers,ct=vt.dir,ot=vt.symbolWidth}if(b.lyric!==void 0&&this.addLyric(mt,b),b.gracenotes!==void 0&&(nt+=this.addGraceNotes(b,et,mt,tt,this.stemHeight*this.voiceScale,this.isBagpipes,nt)),b.decoration&&this.decoration.createDecoration(et,b.decoration,mt.top,tt?tt.w:0,mt,nt,ct,mt.bottom,b.positioning,this.hasVocals,this.accentAbove),b.barNumber&&mt.addFixed(new RelativeElement$1(b.barNumber,-10,0,0,{type:"barNumber"})),ledgerLines(mt,b.minpitch,b.maxpitch,b.rest,ot,st,ct,-2,1),b.chord!==void 0){var yt=addChord(this.getTextSize,mt,b,nt,rt,ot,this.jazzchords,this.germanAlphabet);nt=yt.roomTaken,rt=yt.roomTakenRight}return b.startTriplet&&(this.triplet=new TripletElem(b.startTriplet,tt,{flatBeams:this.flatBeams})),b.endTriplet&&this.triplet&&this.triplet.setCloseAnchor(tt),this.triplet&&!b.startTriplet&&!b.endTriplet&&!(b.rest&&b.rest.type==="spacer")&&this.triplet.middleNote(tt),mt};AbstractEngraver$1.prototype.addSlursAndTies=function(b,$,_e,et,tt,nt){if($.endTie&&this.ties.length>0){for(var rt=!1,ot=0;ot<this.ties.length;ot++)if(this.ties[ot].anchor1&&this.ties[ot].anchor1.pitch===_e.pitch){this.ties[ot].setEndAnchor(_e),et.setRange(this.ties[ot]),this.ties.splice(ot,1),rt=!0;break}rt||(this.ties[0].setEndAnchor(_e),et.setRange(this.ties[0]),this.ties.splice(0,1))}var st=et.voicetotal<2?-1:et.voicenumber;if($.startTie){var ct=new TieElem({anchor1:_e,force:this.stemdir==="down"||this.stemdir==="up",stemDir:this.stemdir,isGrace:nt,voiceNumber:st,style:$.startTie.style});hint&&ct.setHint(),this.ties[this.ties.length]=ct,et.addOther(ct),b.startTie=!0}var lt,at;if($.endSlur)for(var it=0;it<$.endSlur.length;it++)at=$.endSlur[it],this.slurs[at]?(lt=this.slurs[at],lt.setEndAnchor(_e),et.setRange(lt),delete this.slurs[at]):(lt=new TieElem({anchor2:_e,stemDir:this.stemdir,voiceNumber:st}),hint&&lt.setHint(),et.addOther(lt)),this.startlimitelem&&lt.setStartX(this.startlimitelem);else if(!nt)for(var ut in this.slurs)this.slurs.hasOwnProperty(ut)&&this.slurs[ut].addInternalNote(_e);if($.startSlur)for(it=0;it<$.startSlur.length;it++)at=$.startSlur[it].label,lt=new TieElem({anchor1:_e,stemDir:this.stemdir,voiceNumber:st,style:$.startSlur[it].style}),hint&&lt.setHint(),this.slurs[at]=lt,et.addOther(lt)};AbstractEngraver$1.prototype.addMeasureNumber=function(b,$){var _e=this.getTextSize.calc(b,"measurefont","bar-number"),et=0;$.isClef&&(et+=_e.width/2);var tt=_e.width>10&&$.abcelem.type==="treble"?13:11;$.addFixed(new RelativeElement$1(b,et,_e.width,tt+_e.height/spacing$9.STEP,{type:"barNumber",dim:this.getTextSize.attr("measurefont","bar-number")}))};AbstractEngraver$1.prototype.createBarLine=function(b,$,_e){var et=new AbsoluteElement($,0,10,"bar",this.tuneNumber),tt=null,nt=0;$.barNumber&&this.addMeasureNumber($.barNumber,et);var rt=$.type==="bar_right_repeat"||$.type==="bar_dbl_repeat",ot=$.type!=="bar_left_repeat"&&$.type!=="bar_thick_thin"&&$.type!=="bar_invisible",st=$.type==="bar_right_repeat"||$.type==="bar_dbl_repeat"||$.type==="bar_left_repeat"||$.type==="bar_thin_thick"||$.type==="bar_thick_thin",ct=$.type==="bar_left_repeat"||$.type==="bar_thick_thin"||$.type==="bar_thin_thin"||$.type==="bar_dbl_repeat",lt=$.type==="bar_left_repeat"||$.type==="bar_dbl_repeat";if(rt||lt){for(var at in this.slurs)this.slurs.hasOwnProperty(at)&&this.slurs[at].setEndX(et);this.startlimitelem=et}if(rt&&(et.addRight(new RelativeElement$1("dots.dot",nt,1,7)),et.addRight(new RelativeElement$1("dots.dot",nt,1,5)),nt+=6),ot&&(tt=new RelativeElement$1(null,nt,1,2,{type:"bar",pitch2:10,linewidth:.6}),et.addRight(tt)),$.type==="bar_invisible"&&(tt=new RelativeElement$1(null,nt,1,2,{type:"none",pitch2:10,linewidth:.6}),et.addRight(tt)),$.decoration&&this.decoration.createDecoration(b,$.decoration,12,st?3:1,et,0,"down",2,$.positioning,this.hasVocals,this.accentAbove),st&&(nt+=4,tt=new RelativeElement$1(null,nt,4,2,{type:"bar",pitch2:10,linewidth:4}),et.addRight(tt),nt+=5),this.partstartelem&&$.endEnding&&(this.partstartelem.anchor2=tt,this.partstartelem=null),ct&&(nt+=3,tt=new RelativeElement$1(null,nt,1,2,{type:"bar",pitch2:10,linewidth:.6}),et.addRight(tt)),lt&&(nt+=3,et.addRight(new RelativeElement$1("dots.dot",nt,1,7)),et.addRight(new RelativeElement$1("dots.dot",nt,1,5))),$.startEnding&&_e){var it=this.getTextSize.calc($.startEnding,"repeatfont","").width;et.minspacing+=it+10,this.partstartelem=new EndingElem($.startEnding,tt,null),b.addOther(this.partstartelem)}return et.extraw-=5,$.chord!==void 0&&addChord(this.getTextSize,et,$,0,0,0,!1,this.germanAlphabet),et};var abstractEngraver=AbstractEngraver$1,svgNS="http://www.w3.org/2000/svg";function Svg$1(b){this.svg=createSvg(),this.currentGroup=[],b.appendChild(this.svg)}Svg$1.prototype.clear=function(){if(this.svg){var b=this.svg.parentNode;this.svg=createSvg(),this.currentGroup=[],b&&(b.innerHTML="",b.appendChild(this.svg))}};Svg$1.prototype.setTitle=function(b){var $=document.createElement("title"),_e=document.createTextNode(b);$.appendChild(_e),this.svg.insertBefore($,this.svg.firstChild)};Svg$1.prototype.setResponsiveWidth=function(b,$){if(this.svg.setAttribute("viewBox","0 0 "+b+" "+$),this.svg.setAttribute("preserveAspectRatio","xMinYMin meet"),this.svg.removeAttribute("height"),this.svg.removeAttribute("width"),this.svg.style.display="inline-block",this.svg.style.position="absolute",this.svg.style.top="0",this.svg.style.left="0",this.svg.parentNode){var _e=this.svg.parentNode.getAttribute("class");_e?_e.indexOf("abcjs-container")<0&&this.svg.parentNode.setAttribute("class",_e+" abcjs-container"):this.svg.parentNode.setAttribute("class","abcjs-container"),this.svg.parentNode.style.display="inline-block",this.svg.parentNode.style.position="relative",this.svg.parentNode.style.width="100%";var et=$/b*100;this.svg.parentNode.style["padding-bottom"]=et+"%",this.svg.parentNode.style["vertical-align"]="middle",this.svg.parentNode.style.overflow="hidden"}};Svg$1.prototype.setSize=function(b,$){this.svg.setAttribute("width",b),this.svg.setAttribute("height",$)};Svg$1.prototype.setAttribute=function(b,$){this.svg.setAttribute(b,$)};Svg$1.prototype.setScale=function(b){b!==1?(this.svg.style.transform="scale("+b+","+b+")",this.svg.style["-ms-transform"]="scale("+b+","+b+")",this.svg.style["-webkit-transform"]="scale("+b+","+b+")",this.svg.style["transform-origin"]="0 0",this.svg.style["-ms-transform-origin-x"]="0",this.svg.style["-ms-transform-origin-y"]="0",this.svg.style["-webkit-transform-origin-x"]="0",this.svg.style["-webkit-transform-origin-y"]="0"):(this.svg.style.transform="",this.svg.style["-ms-transform"]="",this.svg.style["-webkit-transform"]="")};Svg$1.prototype.insertStyles=function(b){var $=document.createElementNS(svgNS,"style");$.textContent=b,this.svg.insertBefore($,this.svg.firstChild)};Svg$1.prototype.setParentStyles=function(b){for(var $ in b)b.hasOwnProperty($)&&this.svg.parentNode&&(this.svg.parentNode.style[$]=b[$]);if(this.dummySvg){var _e=document.querySelector("body");_e.removeChild(this.dummySvg),this.dummySvg=null}};function constructHLine(b,$,_e){var et=_e-b;return"M "+b+" "+$+" l "+et+" 0 l 0 1  l "+-et+" 0  z "}function constructVLine(b,$,_e){var et=_e-$;return"M "+b+" "+$+" l 0 "+et+" l 1 0  l 0 "+-et+"  z "}Svg$1.prototype.rect=function(b){var $=[],_e=b.x,et=b.y,tt=b.x+b.width,nt=b.y+b.height;return $.push(constructHLine(_e,et,tt)),$.push(constructHLine(_e,nt,tt)),$.push(constructVLine(tt,et,nt)),$.push(constructVLine(_e,nt,et)),this.path({path:$.join(" "),stroke:"none","data-name":b["data-name"]})};Svg$1.prototype.dottedLine=function(b){var $=document.createElementNS(svgNS,"line");$.setAttribute("x1",b.x1),$.setAttribute("x2",b.x2),$.setAttribute("y1",b.y1),$.setAttribute("y2",b.y2),$.setAttribute("stroke",b.stroke),$.setAttribute("stroke-dasharray","5,5"),this.svg.insertBefore($,this.svg.firstChild)};Svg$1.prototype.rectBeneath=function(b){var $=document.createElementNS(svgNS,"rect");$.setAttribute("x",b.x),$.setAttribute("width",b.width),$.setAttribute("y",b.y),$.setAttribute("height",b.height),b.stroke&&$.setAttribute("stroke",b.stroke),b["stroke-opacity"]&&$.setAttribute("stroke-opacity",b["stroke-opacity"]),b.fill&&$.setAttribute("fill",b.fill),b["fill-opacity"]&&$.setAttribute("fill-opacity",b["fill-opacity"]),this.svg.insertBefore($,this.svg.firstChild)};Svg$1.prototype.text=function(b,$,_e){var et=document.createElementNS(svgNS,"text");et.setAttribute("stroke","none");for(var tt in $)$.hasOwnProperty(tt)&&et.setAttribute(tt,$[tt]);for(var nt=(""+b).split(`
`),rt=0;rt<nt.length;rt++){var ot=document.createElementNS(svgNS,"tspan");if(ot.setAttribute("x",$.x?$.x:0),rt!==0&&ot.setAttribute("dy","1.2em"),nt[rt].indexOf("")!==-1){var st=nt[rt].split("");if(ot.textContent=st[0],st[1]){var ct=document.createElementNS(svgNS,"tspan");ct.setAttribute("dy","-0.3em"),ct.setAttribute("style","font-size:0.7em"),ct.textContent=st[1],ot.appendChild(ct)}if(st[2]){var lt=st[1]?"0.4em":"0.1em",at=document.createElementNS(svgNS,"tspan");at.setAttribute("dy",lt),at.setAttribute("style","font-size:0.7em"),at.textContent=st[2],ot.appendChild(at)}}else ot.textContent=nt[rt];et.appendChild(ot)}return _e?_e.appendChild(et):this.append(et),et};Svg$1.prototype.richTextLine=function(b,$,_e,et,tt,nt){var rt=document.createElementNS(svgNS,"text");rt.setAttribute("stroke","none"),rt.setAttribute("class",et),rt.setAttribute("x",$),rt.setAttribute("y",_e),rt.setAttribute("text-anchor",tt),rt.setAttribute("dominant-baseline","middle");for(var ot=0;ot<b.length;ot++){for(var st=b[ot],ct=document.createElementNS(svgNS,"tspan"),lt=Object.keys(st.attrs),at=0;at<lt.length;at++){var it=st.attrs[lt[at]];it!==""&&ct.setAttribute(lt[at],it)}ct.textContent=st.content,rt.appendChild(ct)}return nt?nt.appendChild(rt):this.append(rt),rt};Svg$1.prototype.guessWidth=function(b,$){var _e=this.createDummySvg(),et=this.text(b,$,_e),tt;try{tt=et.getBBox(),isNaN(tt.height)||!tt.height?tt={width:$["font-size"]/2,height:$["font-size"]+2}:tt={width:tt.width,height:tt.height}}catch{tt={width:$["font-size"]/2,height:$["font-size"]+2}}return _e.removeChild(et),tt};Svg$1.prototype.createDummySvg=function(){if(!this.dummySvg){this.dummySvg=createSvg();var b=["display: block !important;","height: 1px;","width: 1px;","position: absolute;"];this.dummySvg.setAttribute("style",b.join(""));var $=document.querySelector("body");$.appendChild(this.dummySvg)}return this.dummySvg};var sizeCache={};Svg$1.prototype.getTextSize=function(b,$,_e){if(typeof b=="number"&&(b=""+b),!b||b.match(/^\s+$/))return{width:0,height:0};var et;if(b.length<20&&(et=b+JSON.stringify($),sizeCache[et]))return sizeCache[et];var tt=!_e;_e||(_e=this.text(b,$));var nt;try{nt=_e.getBBox(),isNaN(nt.height)||!nt.height?nt=this.guessWidth(b,$):nt={width:nt.width,height:nt.height}}catch{nt=this.guessWidth(b,$)}return tt&&(this.currentGroup.length>0?this.currentGroup[0].removeChild(_e):this.svg.removeChild(_e)),et&&(sizeCache[et]=nt),nt};Svg$1.prototype.openGroup=function(b){b=b||{};var $=document.createElementNS(svgNS,"g");return b.klass&&$.setAttribute("class",b.klass),b.fill&&$.setAttribute("fill",b.fill),b.stroke&&$.setAttribute("stroke",b.stroke),b["data-name"]&&$.setAttribute("data-name",b["data-name"]),b.prepend?this.prepend($):this.append($),this.currentGroup.unshift($),$};Svg$1.prototype.closeGroup=function(){var b=this.currentGroup.shift();return b&&b.children.length===0?(b.parentElement.removeChild(b),null):b};Svg$1.prototype.path=function(b){var $=document.createElementNS(svgNS,"path");for(var _e in b)b.hasOwnProperty(_e)&&(_e==="path"?$.setAttributeNS(null,"d",b.path):_e==="klass"?$.setAttributeNS(null,"class",b[_e]):b[_e]!==void 0&&$.setAttributeNS(null,_e,b[_e]));return this.append($),$};Svg$1.prototype.pathToBack=function(b){var $=document.createElementNS(svgNS,"path");for(var _e in b)b.hasOwnProperty(_e)&&(_e==="path"?$.setAttributeNS(null,"d",b.path):_e==="klass"?$.setAttributeNS(null,"class",b[_e]):$.setAttributeNS(null,_e,b[_e]));return this.prepend($),$};Svg$1.prototype.lineToBack=function(b){for(var $=document.createElementNS(svgNS,"line"),_e=Object.keys(b),et=0;et<_e.length;et++)$.setAttribute(_e[et],b[_e[et]]);return this.prepend($),$};Svg$1.prototype.append=function(b){this.currentGroup.length>0?this.currentGroup[0].appendChild(b):this.svg.appendChild(b)};Svg$1.prototype.prepend=function(b){this.currentGroup.length>0?this.currentGroup[0].appendChild(b):this.svg.insertBefore(b,this.svg.firstChild)};Svg$1.prototype.setAttributeOnElement=function(b,$){for(var _e in $)$.hasOwnProperty(_e)&&b.setAttributeNS(null,_e,$[_e])};Svg$1.prototype.moveElementToChild=function(b,$){b.appendChild($)};function createSvg(){var b=document.createElementNS(svgNS,"svg");return b.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),b.setAttribute("role","img"),b.setAttribute("fill","currentColor"),b.setAttribute("stroke","currentColor"),b}var svg$5=Svg$1,spacing$8=spacing_1,Svg=svg$5,Renderer$1=function(b){this.paper=new Svg(b),this.controller=null,this.space=3*spacing$8.SPACE,this.padding={},this.reset(),this.firefox112=navigator.userAgent.indexOf("Firefox/112.0")>=0};Renderer$1.prototype.reset=function(){this.paper.clear(),this.y=0,this.abctune=null,this.path=null,this.isPrint=!1,this.lineThickness=0,this.initVerticalSpace()};Renderer$1.prototype.newTune=function(b){this.abctune=b,this.setVerticalSpace(b.formatting),this.isPrint=b.media==="print",this.setPadding(b)};Renderer$1.prototype.setLineThickness=function(b){this.lineThickness=b};Renderer$1.prototype.setPaddingOverride=function(b){this.paddingOverride={top:b.paddingtop,bottom:b.paddingbottom,right:b.paddingright,left:b.paddingleft}};Renderer$1.prototype.setPadding=function(b){function $(_e,et,tt,nt,rt){b.formatting[tt]!==void 0?_e.padding[et]=b.formatting[tt]:_e.paddingOverride[et]!==void 0?_e.padding[et]=_e.paddingOverride[et]:_e.isPrint?_e.padding[et]=nt:_e.padding[et]=rt}$(this,"top","topmargin",38,15),$(this,"bottom","botmargin",38,15),$(this,"left","leftmargin",68,15),$(this,"right","rightmargin",68,15)};Renderer$1.prototype.adjustNonScaledItems=function(b){this.padding.top/=b,this.padding.bottom/=b,this.padding.left/=b,this.padding.right/=b,this.abctune.formatting.headerfont.size/=b,this.abctune.formatting.footerfont.size/=b};Renderer$1.prototype.initVerticalSpace=function(){this.spacing={composer:7.56,graceBefore:8.67,graceInside:10.67,graceAfter:16,info:0,lineSkipFactor:1.1,music:7.56,paragraphSkipFactor:.4,parts:11.33,slurHeight:1,staffSeparation:61.33,stemHeight:26.67+10,subtitle:3.78,systemStaffSeparation:48,text:18.9,title:7.56,top:30.24,vocal:0,words:0}};Renderer$1.prototype.setVerticalSpace=function(b){b.staffsep!==void 0&&(this.spacing.staffSeparation=b.staffsep*4/3),b.composerspace!==void 0&&(this.spacing.composer=b.composerspace*4/3),b.partsspace!==void 0&&(this.spacing.parts=b.partsspace*4/3),b.textspace!==void 0&&(this.spacing.text=b.textspace*4/3),b.musicspace!==void 0&&(this.spacing.music=b.musicspace*4/3),b.titlespace!==void 0&&(this.spacing.title=b.titlespace*4/3),b.sysstaffsep!==void 0&&(this.spacing.systemStaffSeparation=b.sysstaffsep*4/3),b.subtitlespace!==void 0&&(this.spacing.subtitle=b.subtitlespace*4/3),b.topspace!==void 0&&(this.spacing.top=b.topspace*4/3),b.vocalspace!==void 0&&(this.spacing.vocal=b.vocalspace*4/3),b.wordsspace!==void 0&&(this.spacing.words=b.wordsspace*4/3)};Renderer$1.prototype.calcY=function(b){return this.y-b*spacing$8.STEP};Renderer$1.prototype.moveY=function(b,$){$===void 0&&($=1),this.y+=b*$};Renderer$1.prototype.absolutemoveY=function(b){this.y=b};var renderer=Renderer$1;function FreeText$1(b,$,_e,et,tt,nt){var rt=b.text;this.rows=[];var ot;$&&this.rows.push({move:$});var st=_e.calc("textfont","defined-text");if(rt==="")this.rows.push({move:st.attr["font-size"]*2});else if(typeof rt=="string")this.rows.push({move:st.attr["font-size"]/2}),this.rows.push({left:et,text:rt,font:"textfont",klass:"defined-text",anchor:"start",startChar:b.startChar,endChar:b.endChar,absElemType:"freeText",name:"free-text"}),ot=nt.calc(rt,"textfont","defined-text"),this.rows.push({move:ot.height});else if(rt){for(var ct=0,lt=et,at="textfont",it=0;it<rt.length;it++)rt[it].font?at=rt[it].font:at="textfont",this.rows.push({left:lt,text:rt[it].text,font:at,klass:"defined-text",anchor:"start",startChar:b.startChar,endChar:b.endChar,absElemType:"freeText",name:"free-text"}),ot=nt.calc(rt[it].text,_e.calc(at,"defined-text").font,"defined-text"),lt+=ot.width+ot.height/2,ct=Math.max(ct,ot.height);this.rows.push({move:ct})}else if(b.length===1){var ut=tt/2;this.rows.push({left:ut,text:b[0].text,font:"textfont",klass:"defined-text",anchor:"middle",startChar:b.startChar,endChar:b.endChar,absElemType:"freeText",name:"free-text"}),ot=nt.calc(b[0].text,"textfont","defined-text"),this.rows.push({move:ot.height})}}var freeText=FreeText$1;function Separator$1(b,$,_e){this.rows=[],b&&this.rows.push({move:b}),this.rows.push({separator:$,absElemType:"separator"}),_e&&this.rows.push({move:_e})}var separator$1=Separator$1;function Subtitle$1(b,$,_e,et,tt,nt){this.rows=[],b&&this.rows.push({move:b});var rt=$.titleleft?"start":"middle",ot=$.titleleft?tt:et;this.rows.push({left:ot,text:_e.text,font:"subtitlefont",klass:"text subtitle",anchor:rt,startChar:_e.startChar,endChar:_e.endChar,absElemType:"subtitle",name:"subtitle"});var st=nt.calc(_e.text,"subtitlefont","text subtitle");this.rows.push({move:st.height})}var subtitle=Subtitle$1;function addTextIf$3(b,$,_e){if($.text){$.marginLeft||($.marginLeft=0),$.klass||($.klass=""),$.anchor||($.anchor="start"),$.info||($.info={startChar:-2,endChar:-2}),$.marginTop&&b.push({move:$.marginTop});var et={left:$.marginLeft,text:$.text,font:$.font,anchor:$.anchor,startChar:$.info.startChar,endChar:$.info.endChar,"dominant-baseline":$["dominant-baseline"]};$.absElemType&&(et.absElemType=$.absElemType),!$.inGroup&&$.klass&&(et.klass=$.klass),$.name&&(et.name=$.name),b.push(et);var tt=_e.calc("A",$.font,$.klass),nt=$.text.split(`
`).length;if($.text[$.text.length-1]===`
`&&nt--,!$.noMove){var rt=tt.height*1.1*nt;b.push({move:Math.round(rt)}),$.marginBottom&&b.push({move:$.marginBottom})}}}var addTextIf_1=addTextIf$3;const addTextIf$2=addTextIf_1;function richText$2(b,$,_e,et,tt,nt,rt,ot){var st=ot.calc("i",_e,et);if($==="")b.push({move:st.height});else{if(typeof $=="string"){addTextIf$2(b,{marginLeft:nt,text:$,font:_e,klass:et,marginTop:rt.marginTop,anchor:rt.anchor,absElemType:rt.absElemType,info:rt.info,name:tt},ot);return}rt.marginTop&&b.push({move:rt.marginTop});var ct=0,lt={left:nt,anchor:rt.anchor,phrases:[]};et&&(lt.klass=et),b.push(lt);for(var at=0;at<$.length;at++){var it=$[at],ut=it.font?it.font:ot.attr(_e,et).font,dt={content:it.text};ut&&(dt.attrs={"font-family":ot.getFamily(ut.face),"font-size":ut.size,"font-weight":ut.weight,"font-style":ut.style,"font-decoration":ut.decoration}),lt.phrases.push(dt);var ht=ot.calc(it.text,ut,et);ct=Math.max(ct,ht.height),it.text[it.text.length-1]===" "&&st.width}b.push({move:ct})}}var richText_1=richText$2;const addTextIf$1=addTextIf_1,richText$1=richText_1;function TopText$1(b,$,_e,et,tt,nt,rt,ot,st,ct){if(this.rows=[],b.header&&nt){var lt=ct.calc("X","headerfont","abcjs-header abcjs-meta-top").height;addTextIf$1(this.rows,{marginLeft:rt,text:b.header.left,font:"headerfont",klass:"header meta-top",marginTop:-lt,info:$.header,name:"header"},ct),addTextIf$1(this.rows,{marginLeft:rt+tt/2,text:b.header.center,font:"headerfont",klass:"header meta-top",marginTop:-lt,anchor:"middle",info:$.header,name:"header"},ct),addTextIf$1(this.rows,{marginLeft:rt+tt,text:b.header.right,font:"headerfont",klass:"header meta-top",marginTop:-lt,anchor:"end",info:$.header,name:"header"},ct)}nt&&this.rows.push({move:ot.top});var at=_e.titleleft?"start":"middle",it=_e.titleleft?rt:rt+tt/2;if(b.title){var ut=st?"abcjs-title":"";richText$1(this.rows,b.title,"titlefont",ut,"title",it,{marginTop:ot.title,anchor:at,absElemType:"title",info:$.title},ct)}if(et.length)for(var dt=0;dt<et.length&&et[dt].subtitle;){var ut=st?"abcjs-text abcjs-subtitle":"";richText$1(this.rows,et[dt].subtitle.text,"subtitlefont",ut,"subtitle",it,{marginTop:ot.subtitle,anchor:at,absElemType:"subtitle",info:et[dt].subtitle},ct),dt++}if(b.rhythm||b.origin||b.composer){if(this.rows.push({move:ot.composer}),b.rhythm&&b.rhythm.length>0){var ht=!!(b.composer||b.origin),ut=st?"abcjs-rhythm":"";addTextIf$1(this.rows,{marginLeft:rt,text:b.rhythm,font:"infofont",klass:ut,absElemType:"rhythm",noMove:ht,info:$.rhythm,name:"rhythm"},ct)}b.composer&&b.composer,b.origin&&b.origin;var ft=b.composer?b.composer:"";if(b.origin&&(typeof ft=="string"&&typeof b.origin=="string"?ft+=" ("+b.origin+")":typeof ft=="string"&&typeof b.origin!="string"?(ft=[{text:ft}],ft.push({text:" ("}),ft=ft.concat(b.origin),ft.push({text:")"})):(ft.push({text:" ("}),ft=ft.concat(b.origin),ft.push({text:")"}))),ft){var ut=st?"abcjs-composer":"";richText$1(this.rows,ft,"composerfont",ut,"composer",rt+tt,{anchor:"end",absElemType:"composer",info:$.composer,ingroup:!0},ct)}}if(b.author&&b.author.length>0){var ut=st?"abcjs-author":"";richText$1(this.rows,b.author,"composerfont",ut,"author",rt+tt,{anchor:"end",absElemType:"author",info:$.author},ct)}if(b.partOrder&&b.partOrder.length>0){var ut=st?"abcjs-part-order":"";richText$1(this.rows,b.partOrder,"partsfont",ut,"part-order",rt,{absElemType:"partOrder",info:$.partOrder,anchor:"start"},ct)}}var topText=TopText$1;const addTextIf=addTextIf_1,richText=richText_1;function BottomText$1(b,$,_e,et,tt,nt,rt){this.rows=[],b.unalignedWords&&b.unalignedWords.length>0&&this.unalignedWords(b.unalignedWords,et,tt,nt,rt),this.extraText(b,et,tt,nt,rt),b.footer&&_e&&this.footer(b.footer,$,et,rt)}BottomText$1.prototype.unalignedWords=function(b,$,_e,et,tt){var nt=et?"abcjs-unaligned-words":"",rt="wordsfont",ot=tt.calc("i",rt,nt);this.rows.push({move:_e.words}),addMultiLine(this.rows,"",b,$,rt,"unalignedWords","unalignedWords",nt,"unalignedWords",_e,et,tt),this.rows.push({move:ot.height})};function addSingleLine(b,$,_e,et,tt,nt,rt){_e&&($&&(typeof _e=="string"?_e=$+_e:_e=[{text:$}].concat(_e)),tt=nt?"abcjs-extra-text "+tt:"",richText(b,_e,"historyfont",tt,"description",et,{absElemType:"extraText",anchor:"start"},rt))}function addMultiLine(b,$,_e,et,tt,nt,rt,ot,st,ct,lt,at){if(_e){ot=lt?"abcjs-extra-text "+ot:"";var it=at.calc("A",tt,ot);if(typeof _e=="string")$&&(_e=$+`
`+_e),addTextIf(b,{marginLeft:et,text:_e,font:tt,absElemType:"extraText",name:st,"dominant-baseline":"middle",klass:ot},at);else{b.push({startGroup:rt,klass:ot,name:st}),b.push({move:ct.info}),$&&(addTextIf(b,{marginLeft:et,text:$,font:tt,absElemType:"extraText",name:st,"dominant-baseline":"middle"},at),b.push({move:it.height*3/4}));for(var ut=0;ut<_e.length;ut++)richText(b,_e[ut],tt,"",st,et,{anchor:"start"},at),ut<_e.length-1&&typeof _e[ut]=="string"&&typeof _e[ut+1]!="string"&&b.push({move:it.height*3/4});b.push({endGroup:rt,absElemType:nt,startChar:-1,endChar:-1,name:st}),b.push({move:it.height})}}}BottomText$1.prototype.extraText=function(b,$,_e,et,tt){addSingleLine(this.rows,"Book: ",b.book,$,"abcjs-book",et,tt),addSingleLine(this.rows,"Source: ",b.source,$,"abcjs-source",et,tt),addSingleLine(this.rows,"Discography: ",b.discography,$,"abcjs-discography",et,tt),addMultiLine(this.rows,"Notes:",b.notes,$,"historyfont","extraText","notes","abcjs-notes","description",_e,et,tt),addSingleLine(this.rows,"Transcription: ",b.transcription,$,"abcjs-transcription",et,tt),addMultiLine(this.rows,"History:",b.history,$,"historyfont","extraText","history","abcjs-history","description",_e,et,tt),addSingleLine(this.rows,"Copyright: ",b["abc-copyright"],$,"abcjs-copyright",et,tt),addSingleLine(this.rows,"Creator: ",b["abc-creator"],$,"abcjs-creator",et,tt),addSingleLine(this.rows,"Edited By: ",b["abc-edited-by"],$,"abcjs-edited-by",et,tt)};BottomText$1.prototype.footer=function(b,$,_e,et){var tt="header meta-bottom",nt="footerfont";this.rows.push({startGroup:"footer",klass:tt}),addTextIf(this.rows,{marginLeft:_e,text:b.left,font:nt,klass:tt,name:"footer"},et),addTextIf(this.rows,{marginLeft:_e+$/2,text:b.center,font:nt,klass:tt,anchor:"middle",name:"footer"},et),addTextIf(this.rows,{marginLeft:_e+$,text:b.right,font:nt,klass:tt,anchor:"end",name:"footer"},et)};var bottomText=BottomText$1,spacing$7=spacing_1;function setupSelection$1(b,$){if(b.rangeHighlight=rangeHighlight,b.dragging)for(var _e=0;_e<b.selectables.length;_e++){var et=b.selectables[_e];et.svgEl.getAttribute("selectable")==="true"&&(et.svgEl.setAttribute("tabindex",0),et.svgEl.setAttribute("data-index",_e),et.svgEl.addEventListener("keydown",keyboardDown.bind(b)),et.svgEl.addEventListener("keyup",keyboardSelection.bind(b)),et.svgEl.addEventListener("focus",elementFocused.bind(b)))}for(var tt=0;tt<$.length;tt++)$[tt].addEventListener("touchstart",mouseDown.bind(b),{passive:!0}),$[tt].addEventListener("touchmove",mouseMove.bind(b),{passive:!0}),$[tt].addEventListener("touchend",mouseUp.bind(b),{passive:!0}),$[tt].addEventListener("mousedown",mouseDown.bind(b)),$[tt].addEventListener("mousemove",mouseMove.bind(b)),$[tt].addEventListener("mouseup",mouseUp.bind(b))}function getCoord(b){var $=1,_e=1,et=b.target.closest("svg"),tt=0;et&&et.viewBox&&et.viewBox.baseVal&&(et.viewBox.baseVal.width!==0&&($=et.viewBox.baseVal.width/et.clientWidth),et.viewBox.baseVal.height!==0&&(_e=et.viewBox.baseVal.height/et.clientHeight),tt=et.viewBox.baseVal.y);var nt=b.target&&b.target.tagName==="svg",rt,ot;return nt?(rt=b.offsetX,ot=b.offsetY):(rt=b.layerX,ot=b.layerY),rt=rt*$,ot=ot*_e,[rt,ot+tt]}function elementFocused(b){this.dragMechanism==="keyboard"&&this.dragYStep!==0&&this.dragTarget&&notifySelect.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,b),this.dragYStep=0}function keyboardDown(b){switch(b.keyCode){case 38:case 40:b.preventDefault()}}function keyboardSelection(b){var $=!1,_e=b.target.dataset.index;switch(b.keyCode){case 13:case 32:$=!0,this.dragTarget=this.selectables[_e],this.dragIndex=_e,this.dragMechanism="keyboard",mouseUp.bind(this)(b);break;case 38:$=!0,this.dragTarget=this.selectables[_e],this.dragIndex=_e,this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep--,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*spacing$7.STEP+")"));break;case 40:$=!0,this.dragTarget=this.selectables[_e],this.dragIndex=_e,this.dragMechanism="keyboard",this.dragTarget&&this.dragTarget.isDraggable&&(this.dragging&&this.dragTarget.isDraggable&&this.dragTarget.absEl.highlight(void 0,this.dragColor),this.dragYStep++,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+this.dragYStep*spacing$7.STEP+")"));break;case 9:this.dragYStep!==0&&mouseUp.bind(this)(b);break}$&&b.preventDefault()}function findElementInHistory(b,$){if(!$)return-1;for(var _e=0;_e<b.length;_e++)if($.dataset.index===b[_e].svgEl.dataset.index)return _e;return-1}function findElementByCoord(b,$,_e){for(var et=9999999,tt=-1,nt=0;nt<b.selectables.length&&et>0;nt++){var rt=b.selectables[nt];if(b.getDim(rt),rt.dim.left<$&&rt.dim.right>$&&rt.dim.top<_e&&rt.dim.bottom>_e)tt=nt,et=0;else if(rt.dim.top<_e&&rt.dim.bottom>_e){var ot=Math.min(Math.abs(rt.dim.left-$),Math.abs(rt.dim.right-$));ot<et&&(et=ot,tt=nt)}else if(rt.dim.left<$&&rt.dim.right>$){var st=Math.min(Math.abs(rt.dim.top-_e),Math.abs(rt.dim.bottom-_e));st<et&&(et=st,tt=nt)}else{var ct=Math.abs($-rt.dim.left)>Math.abs($-rt.dim.right)?Math.abs($-rt.dim.right):Math.abs($-rt.dim.left),lt=Math.abs(_e-rt.dim.top)>Math.abs(_e-rt.dim.bottom)?Math.abs(_e-rt.dim.bottom):Math.abs(_e-rt.dim.top),at=Math.sqrt(ct*ct+lt*lt);at<et&&(et=at,tt=nt)}}return tt>=0&&et<=12?tt:-1}function getBestMatchCoordinates(b,$,_e){if(b.x<=$.offsetX&&b.x+b.width>=$.offsetX&&b.y<=$.offsetY&&b.y+b.height>=$.offsetY)return[$.offsetX,$.offsetY];var et=Math.abs($.layerY/_e-$.offsetY);return et<3?[$.offsetX,$.offsetY]:[$.layerX,$.layerY]}function getTarget(b){if(!b)return null;if(b.tagName==="svg")return b;if(!b.getAttribute)return null;for(var $=b.getAttribute("selectable");!$;)b.parentElement?(b=b.parentElement,b.tagName==="svg"?$=!0:$=b.getAttribute("selectable")):$=!0;return b}function getMousePosition(b,$){var _e,et,tt,nt=findElementInHistory(b.selectables,getTarget($.target));return nt>=0?(tt=getBestMatchCoordinates(b.selectables[nt].svgEl.getBBox(),$,b.scale),_e=tt[0],et=tt[1]):(tt=getCoord($),_e=tt[0],et=tt[1],nt=findElementByCoord(b,_e,et)),{x:_e,y:et,clickedOn:nt}}function attachMissingTouchEventAttributes(b){if(!(!b||!b.target||!b.touches||b.touches.length<1)){var $=b.target.getBoundingClientRect(),_e=b.touches[0].pageX-$.left,et=b.touches[0].pageY-$.top;b.touches[0].offsetX=_e,b.touches[0].offsetY=et,b.touches[0].layerX=b.touches[0].pageX,b.touches[0].layerY=b.touches[0].pageY}}function mouseDown(b){var $=b;b.type==="touchstart"&&(attachMissingTouchEventAttributes(b),b.touches.length>0&&($=b.touches[0]));var _e=getMousePosition(this,$);_e.clickedOn>=0&&(b.type==="touchstart"||b.button===0)&&this.selectables[_e.clickedOn]&&(this.dragTarget=this.selectables[_e.clickedOn],this.dragIndex=_e.clickedOn,this.dragMechanism="mouse",this.dragMouseStart={x:_e.x,y:_e.y},this.dragging&&this.dragTarget.isDraggable&&(addGlobalClass(this.renderer.paper,"abcjs-dragging-in-progress"),this.dragTarget.absEl.highlight(void 0,this.dragColor)))}function mouseMove(b){var $=b;if(b.type==="touchmove"&&(attachMissingTouchEventAttributes(b),b.touches.length>0&&($=b.touches[0])),this.lastTouchMove=b,!(!this.dragTarget||!this.dragging||!this.dragTarget.isDraggable||this.dragMechanism!=="mouse"||!this.dragMouseStart)){var _e=getMousePosition(this,$),et=Math.round((_e.y-this.dragMouseStart.y)/spacing$7.STEP);et!==this.dragYStep&&(this.dragYStep=et,this.dragTarget.svgEl.setAttribute("transform","translate(0,"+et*spacing$7.STEP+")"))}}function mouseUp(b){var $=b;b.type==="touchend"&&this.lastTouchMove&&(attachMissingTouchEventAttributes(this.lastTouchMove),this.lastTouchMove&&this.lastTouchMove.touches&&this.lastTouchMove.touches.length>0&&($=this.lastTouchMove.touches[0])),this.dragTarget&&(clearSelection.bind(this)(),this.dragTarget.absEl&&this.dragTarget.absEl.highlight&&(this.selected=[this.dragTarget.absEl],this.dragTarget.absEl.highlight(void 0,this.selectionColor)),notifySelect.bind(this)(this.dragTarget,this.dragYStep,this.selectables.length,this.dragIndex,$),this.dragTarget.svgEl&&this.dragTarget.svgEl.focus&&(this.dragTarget.svgEl.focus(),this.dragTarget=null,this.dragIndex=-1),removeGlobalClass(this.renderer.svg,"abcjs-dragging-in-progress"))}function setSelection(b){b>=0&&b<this.selectables.length&&(this.dragTarget=this.selectables[b],this.dragIndex=b,this.dragMechanism="keyboard",mouseUp.bind(this)({target:this.dragTarget.svgEl}))}function notifySelect(b,$,_e,et,tt){var nt=[];if(b.absEl.elemset){for(var rt={},ot=0;ot<b.absEl.elemset.length;ot++){var st=b.absEl.elemset[ot];if(st)for(var ct=st.getAttribute("class").split(" "),lt=0;lt<ct.length;lt++)rt[ct[lt]]=!0}for(var at=0;at<Object.keys(rt).length;at++)nt.push(Object.keys(rt)[at])}for(var it={},ut=0;ut<nt.length;ut++)findNumber(nt[ut],"abcjs-v",it,"voice"),findNumber(nt[ut],"abcjs-l",it,"line"),findNumber(nt[ut],"abcjs-m",it,"measure");b.staffPos&&(it.staffPos=b.staffPos);for(var dt=tt.target;dt&&dt.dataset&&!dt.dataset.name&&dt.tagName.toLowerCase()!=="svg";)dt=dt.parentNode;for(var ht=tt.target;ht&&ht.dataset&&!ht.dataset.index&&ht.tagName.toLowerCase()!=="svg";)ht=ht.parentNode;ht&&ht.dataset&&(it.name=ht.dataset.name,it.clickedName=dt.dataset.name,it.parentClasses=ht.classList),dt&&dt.classList&&(it.clickedClasses=dt.classList),it.selectableElement=b.svgEl;for(var ft=0;ft<this.listeners.length;ft++)this.listeners[ft](b.absEl.abcelem,b.absEl.tuneNumber,nt.join(" "),it,{step:$,max:_e,index:et,setSelection:setSelection.bind(this)},tt)}function findNumber(b,$,_e,et){if(b.indexOf($)===0){var tt=b.replace($,""),nt=parseInt(tt,10);""+nt===tt&&(_e[et]=nt)}}function clearSelection(){for(var b=0;b<this.selected.length;b++)this.selected[b].unhighlight(void 0,this.renderer.foregroundColor);this.selected=[]}function rangeHighlight(b,$){clearSelection.bind(this)();for(var _e=0;_e<this.staffgroups.length;_e++)for(var et=this.staffgroups[_e].voices,tt=0;tt<et.length;tt++)for(var nt=et[tt].children,rt=0;rt<nt.length;rt++){var ot=nt[rt].abcelem.startChar,st=nt[rt].abcelem.endChar;($>ot&&b<st||$===b&&$===st)&&(this.selected[this.selected.length]=nt[rt],nt[rt].highlight(void 0,this.selectionColor))}}function getClassSet(b){var $=b.getAttribute("class");$||($="");for(var _e=$.split(" "),et={},tt=0;tt<_e.length;tt++)et[_e[tt]]=!0;return et}function setClassSet(b,$){var _e=[];for(var et in $)$.hasOwnProperty(et)&&_e.push(et);b.setAttribute("class",_e.join(" "))}function addGlobalClass(b,$){if(b){var _e=getClassSet(b.svg);_e[$]=!0,setClassSet(b.svg,_e)}}function removeGlobalClass(b,$){if(b){var _e=getClassSet(b.svg);delete _e[$],setClassSet(b.svg,_e)}}var selection=setupSelection$1;function getBarYAt$3(b,$,_e,et,tt){return $+(et-$)/(_e-b)*(tt-b)}var getBarYAt_1=getBarYAt$3,RelativeElement=relativeElement,spacing$6=spacing_1,getBarYAt$2=getBarYAt_1,layoutBeam$1=function(b){if(!(b.elems.length===0||b.allrests)){var $=calcDy(b.stemsUp,b.isgrace),_e=b.elems[0],et=b.elems[b.elems.length-1],tt=0,nt=b.stemsUp?_e.abcelem.maxpitch:_e.abcelem.minpitch;tt=minStem(_e,b.stemsUp,nt,tt),tt=minStem(et,b.stemsUp,nt,tt),tt=Math.max(b.stemHeight,tt+3);var rt=calcYPos(b.average,b.elems.length,tt,b.stemsUp,_e.abcelem.averagepitch,et.abcelem.averagepitch,b.isflat,b.min,b.max,b.isgrace),ot=calcXPos(b.stemsUp,_e,et);b.addBeam({startX:ot[0],endX:ot[1],startY:rt[0],endY:rt[1],dy:$});for(var st=createAdditionalBeams(b.elems,b.stemsUp,b.beams[0],b.isgrace,$),ct=0;ct<st.length;ct++)b.addBeam(st[ct]);createStems(b.elems,b.stemsUp,b.beams[0],$,b.mainNote)}},getDurlog=function(b){return b===void 0?0:Math.floor(Math.log(b)/Math.log(2))};function minStem(b,$,_e,et){if(!b.children)return et;for(var tt=0;tt<b.children.length;tt++){var nt=b.children[tt];$&&nt.top!==void 0&&nt.c==="flags.ugrace"?et=Math.max(et,nt.top-_e):!$&&nt.bottom!==void 0&&nt.c==="flags.ugrace"&&(et=Math.max(et,_e-nt.bottom+7))}return et}function calcSlant(b,$,_e,et){if(et)return 0;var tt=b-$,nt=_e/2;return tt>nt&&(tt=nt),tt<-nt&&(tt=-nt),tt}function calcDy(b,$){var _e=b?spacing$6.STEP:-spacing$6.STEP;return $&&(_e=_e*.4),_e}function calcXPos(b,$,_e){var et=$.heads[b?0:$.heads.length-1],tt=_e.heads[b?0:_e.heads.length-1],nt=et.x;b&&(nt+=et.w-.6);var rt=tt.x;return rt+=b?tt.w:.6,[nt,rt]}function calcYPos(b,$,_e,et,tt,nt,rt,ot,st,ct){var lt=_e-2,at=_e-2,it=Math.round(et?Math.max(b+lt,st+at):Math.min(b-lt,ot-at)),ut=calcSlant(tt,nt,$,rt),dt=it+Math.floor(ut/2),ht=it+Math.floor(-ut/2);return ct||(et&&it<6||!et&&it>6)&&(dt=6,ht=6),[dt,ht]}function createStems(b,$,_e,et,tt){for(var nt=0;nt<b.length;nt++){var rt=b[nt];if(!rt.abcelem.rest){var ot=!rt.addExtra,st=ot?tt:rt,ct=rt.heads[$?0:rt.heads.length-1],lt=1/5,at=ct.pitch+($?lt:-lt),it=$?ct.w:0;ot||(it+=ct.dx);var ut=ct.x+it,dt=getBarYAt$2(_e.startX,_e.startY,_e.endX,_e.endY,ut),ht=$?-.6:.6;$||(dt-=et/2/spacing$6.STEP),ot&&(it+=rt.heads[0].dx),ct.c==="noteheads.slash.quarter"&&($?at+=1:at-=1);var ft=new RelativeElement(null,it,0,at,{type:"stem",pitch2:dt,linewidth:ht});ft.setX(st.x),st.addRight(ft)}}}function createAdditionalBeams(b,$,_e,et,tt){for(var nt=[],rt=[],ot=0;ot<b.length;ot++){var st=b[ot];if(!st.abcelem.rest){var ct=st.heads[$?0:st.heads.length-1],lt=ct.x+($?ct.w:0),at=getBarYAt$2(_e.startX,_e.startY,_e.endX,_e.endY,lt),it=$?-1.5:1.5;et&&(it=it*2/3);var ut=st.abcelem.duration;ut===0&&(ut=.25);for(var dt=getDurlog(ut);dt<-3;dt++){var ht=-4-dt;if(rt[ht]?rt[ht].single=!1:rt[ht]={x:lt+($?-.6:0),y:at+it*(ht+1),durlog:dt,single:!0},ot>0&&st.abcelem.beambr&&st.abcelem.beambr<=ht+1){rt[ht].split||(rt[ht].split=[rt[ht].x]);var ft=calcXPos($,b[ot-1],st);rt[ht].split[rt[ht].split.length-1]>=ft[0]&&(ft[0]+=st.w),rt[ht].split.push(ft[0]),rt[ht].split.push(ft[1])}}for(var pt=rt.length-1;pt>=0;pt--)if(ot===b.length-1||getDurlog(b[ot+1].abcelem.duration)>-pt-4){var mt=lt,gt=at+it*(pt+1);rt[pt].single&&(mt=ot===0?lt+5:lt-5,gt=getBarYAt$2(_e.startX,_e.startY,_e.endX,_e.endY,mt)+it*(pt+1));var vt={startX:rt[pt].x,endX:mt,startY:rt[pt].y,endY:gt,dy:tt};if(rt[pt].split!==void 0){var yt=rt[pt].split;vt.endX<=yt[yt.length-1]&&(yt[yt.length-1]-=st.w),yt.push(vt.endX),vt.split=rt[pt].split}nt.push(vt),rt=rt.slice(0,pt)}}}return nt}var beam$1=layoutBeam$1,getBarYAt$1=getBarYAt_1;function layoutTriplet$1(b){if(b.anchor1&&b.anchor2){b.hasBeam=!!b.anchor1.parent.beam&&b.anchor1.parent.beam===b.anchor2.parent.beam;var $=b.anchor1.parent.beam;if(b.hasBeam&&($.elems[0]!==b.anchor1.parent||$.elems[$.elems.length-1]!==b.anchor2.parent)&&(b.hasBeam=!1),b.hasBeam){var _e=isAbove($)?b.anchor1.x+b.anchor1.w:b.anchor1.x;b.yTextPos=heightAtMidpoint(_e,b.anchor2.x,$),b.yTextPos+=isAbove($)?3:-2,b.xTextPos=xAtMidpoint(_e,b.anchor2.x),b.top=b.yTextPos+1,b.bottom=b.yTextPos-2,isAbove($)&&(b.endingHeightAbove=4)}else{b.startNote=Math.max(b.anchor1.parent.top,9)+4,b.endNote=Math.max(b.anchor2.parent.top,9)+4,b.anchor1.parent.type==="rest"&&b.anchor2.parent.type!=="rest"?b.startNote=b.endNote:b.anchor2.parent.type==="rest"&&b.anchor1.parent.type!=="rest"&&(b.endNote=b.startNote);for(var et=0,tt=0;tt<b.middleElems.length;tt++)et=Math.max(et,b.middleElems[tt].top);et+=4,(et>b.startNote||et>b.endNote)&&(b.startNote=et,b.endNote=et),b.flatBeams&&(b.startNote=Math.max(b.startNote,b.endNote),b.endNote=Math.max(b.startNote,b.endNote)),b.yTextPos=b.startNote+(b.endNote-b.startNote)/2,b.xTextPos=b.anchor1.x+(b.anchor2.x+b.anchor2.w-b.anchor1.x)/2,b.top=b.yTextPos+1}}delete b.middleElems,delete b.flatBeams}function isAbove(b){return b.stemsUp}function heightAtMidpoint(b,$,_e){if(_e.beams.length===0)return 0;_e=_e.beams[0];var et=b+($-b)/2;return getBarYAt$1(_e.startX,_e.startY,_e.endX,_e.endY,et)}function xAtMidpoint(b,$){return b+($-b)/2}var triplet$1=layoutTriplet$1,layoutBeam=beam$1,getBarYAt=getBarYAt_1,layoutTriplet=triplet$1,layoutVoice$1=function(b){for(var $=0;$<b.beams.length;$++)if(b.beams[$].type==="BeamElem"){layoutBeam(b.beams[$]),moveDecorations(b.beams[$]);for(var _e=0;_e<b.beams[$].elems.length;_e++)b.adjustRange(b.beams[$].elems[_e])}for(b.staff.specialY.chordLines=setLaneForChord(b.children),$=0;$<b.otherchildren.length;$++){var et=b.otherchildren[$];et.type==="TripletElem"&&(layoutTriplet(et),b.adjustRange(et))}b.staff.top=Math.max(b.staff.top,b.top),b.staff.bottom=Math.min(b.staff.bottom,b.bottom)};function moveDecorations(b){for(var $=1.5,_e=0;_e<b.elems.length;_e++){var et=b.elems[_e];if(et.top)for(var tt=yAtNote(et,b),nt=0;nt<et.children.length;nt++){var rt=et.children[nt];if(rt.klass==="ornament"&&rt.bottom-$<tt){var ot=tt-rt.bottom+$;rt.bottom+=ot,rt.top+=ot,rt.pitch+=ot,tt=et.top=rt.top}}}}function placeInLane(b,$){var _e=$.getChordDim();if(_e){for(var et=0;et<b.length;et++){var tt=b[et]<_e.left;if(tt){et>0&&$.putChordInLane(et),b[et]=_e.right;return}}b.push(_e.right),$.putChordInLane(b.length-1)}}function setLaneForChord(b){var $=[0],_e=[0],et,tt,nt;for(et=0;et<b.length;et++){for(tt=0;tt<b[et].children.length;tt++)nt=b[et].children[tt],nt.chordHeightAbove&&placeInLane($,nt);for(tt=b[et].children.length-1;tt>=0;tt--)nt=b[et].children[tt],nt.chordHeightBelow&&placeInLane(_e,nt)}return($.length>1||_e.length>1)&&setLane(b,$.length,_e.length),{above:$.length,below:_e.length}}function numAnnotationsBelow(b){for(var $=0,_e=0;_e<b.children.length;_e++){var et=b.children[_e];et.chordHeightBelow&&$++}return $}function setLane(b,$,_e){for(var et=0;et<b.length;et++){numAnnotationsBelow(b[et]);for(var tt=0;tt<b[et].children.length;tt++){var nt=b[et].children[tt];nt.chordHeightAbove&&nt.invertLane($)}}}function yAtNote(b,$){return $=$.beams[0],getBarYAt($.startX,$.startY,$.endX,$.endY,b.x)}var voice$1=layoutVoice$1,spacing$5=spacing_1,setUpperAndLowerElements$1=function(b,$){for(var _e,et=0;et<$.staffs.length;et++){var tt=$.staffs[et],nt={tempoHeightAbove:0,partHeightAbove:0,volumeHeightAbove:0,dynamicHeightAbove:0,endingHeightAbove:0,chordHeightAbove:0,lyricHeightAbove:0,lyricHeightBelow:0,chordHeightBelow:0,volumeHeightBelow:0,dynamicHeightBelow:0};if(b.showDebug&&b.showDebug.indexOf("box")>=0&&(tt.originalTop=tt.top,tt.originalBottom=tt.bottom),incTop(tt,nt,"lyricHeightAbove"),incTop(tt,nt,"chordHeightAbove",tt.specialY.chordLines.above),tt.specialY.endingHeightAbove&&(tt.specialY.chordHeightAbove?tt.top+=2:tt.top+=tt.specialY.endingHeightAbove+margin,nt.endingHeightAbove=tt.top),tt.specialY.dynamicHeightAbove&&tt.specialY.volumeHeightAbove?(tt.top+=Math.max(tt.specialY.dynamicHeightAbove,tt.specialY.volumeHeightAbove)+margin,nt.dynamicHeightAbove=tt.top,nt.volumeHeightAbove=tt.top):(incTop(tt,nt,"dynamicHeightAbove"),incTop(tt,nt,"volumeHeightAbove")),incTop(tt,nt,"partHeightAbove"),incTop(tt,nt,"tempoHeightAbove"),tt.specialY.lyricHeightBelow&&(tt.specialY.lyricHeightBelow+=b.spacing.vocal/spacing$5.STEP,nt.lyricHeightBelow=tt.bottom,tt.bottom-=tt.specialY.lyricHeightBelow+margin),tt.specialY.chordHeightBelow){nt.chordHeightBelow=tt.bottom;var rt=tt.specialY.chordHeightBelow;tt.specialY.chordLines.below&&(rt*=tt.specialY.chordLines.below),tt.bottom-=rt+margin}tt.specialY.volumeHeightBelow&&tt.specialY.dynamicHeightBelow?(nt.volumeHeightBelow=tt.bottom,nt.dynamicHeightBelow=tt.bottom,tt.bottom-=Math.max(tt.specialY.volumeHeightBelow,tt.specialY.dynamicHeightBelow)+margin):tt.specialY.volumeHeightBelow?(nt.volumeHeightBelow=tt.bottom,tt.bottom-=tt.specialY.volumeHeightBelow+margin):tt.specialY.dynamicHeightBelow&&(nt.dynamicHeightBelow=tt.bottom,tt.bottom-=tt.specialY.dynamicHeightBelow+margin),b.showDebug&&b.showDebug.indexOf("box")>=0&&(tt.positionY=nt);for(var ot=0;ot<tt.voices.length;ot++){var st=$.voices[tt.voices[ot]];setUpperAndLowerVoiceElements(nt,st,b.spacing)}if(_e!==void 0){var ct=tt.top-10,lt=_e+ct,at=b.spacing.systemStaffSeparation/spacing$5.STEP,it=at-lt;it>0&&(tt.top+=it)}_e=2-tt.bottom}},margin=1;function incTop(b,$,_e,et){if(b.specialY[_e]){var tt=b.specialY[_e];et&&(tt*=et),b.top+=tt+margin,$[_e]=b.top}}function setUpperAndLowerVoiceElements(b,$,_e){var et,tt;for(et=0;et<$.children.length;et++)tt=$.children[et],setUpperAndLowerAbsoluteElements(b,tt,_e);for(et=0;et<$.otherchildren.length;et++)switch(tt=$.otherchildren[et],tt.type){case"CrescendoElem":setUpperAndLowerCrescendoElements(b,tt);break;case"DynamicDecoration":setUpperAndLowerDynamicElements(b,tt);break;case"EndingElem":setUpperAndLowerEndingElements(b,tt);break}}function setUpperAndLowerAbsoluteElements(b,$,_e){for(var et=0;et<$.children.length;et++){var tt=$.children[et];for(var nt in $.specialY)$.specialY.hasOwnProperty(nt)&&tt[nt]&&(tt.pitch=b[nt],tt.top===void 0&&(tt.type==="TempoElement"?setUpperAndLowerTempoElement(b,tt):setUpperAndLowerRelativeElements(b,tt,_e),$.pushTop(tt.top),$.pushBottom(tt.bottom)))}}function setUpperAndLowerCrescendoElements(b,$){$.dynamicHeightAbove?$.pitch=b.dynamicHeightAbove:$.pitch=b.dynamicHeightBelow}function setUpperAndLowerDynamicElements(b,$){$.volumeHeightAbove?$.pitch=b.volumeHeightAbove:$.pitch=b.volumeHeightBelow}function setUpperAndLowerEndingElements(b,$){$.pitch=b.endingHeightAbove-2}function setUpperAndLowerTempoElement(b,$){if($.pitch=b.tempoHeightAbove,$.top=b.tempoHeightAbove,$.bottom=b.tempoHeightAbove,$.note){var _e=$.pitch-$.totalHeightInPitches+1;$.note.top=_e,$.note.bottom=_e;for(var et=0;et<$.note.children.length;et++){var tt=$.note.children[et];tt.top+=_e,tt.bottom+=_e,tt.pitch+=_e,tt.pitch2!==void 0&&(tt.pitch2+=_e)}}}function setUpperAndLowerRelativeElements(b,$,_e){switch($.type){case"part":$.top=b.partHeightAbove+$.height,$.bottom=b.partHeightAbove;break;case"text":case"chord":$.chordHeightAbove?($.top=b.chordHeightAbove,$.bottom=b.chordHeightAbove):($.top=b.chordHeightBelow,$.bottom=b.chordHeightBelow);break;case"lyric":$.lyricHeightAbove?($.top=b.lyricHeightAbove,$.bottom=b.lyricHeightAbove):($.top=b.lyricHeightBelow+_e.vocal/spacing$5.STEP,$.bottom=b.lyricHeightBelow+_e.vocal/spacing$5.STEP,$.pitch-=_e.vocal/spacing$5.STEP);break;case"debug":$.top=b.chordHeightAbove,$.bottom=b.chordHeightAbove;break}($.pitch===void 0||$.top===void 0)&&console.error("RelativeElement position not set.",$.type,$.pitch,$.top,b)}var setUpperAndLowerElements_1=setUpperAndLowerElements$1,VoiceElement=function b(){};VoiceElement.beginLayout=function(b,$){$.i=0,$.durationindex=0,$.startx=b,$.minx=b,$.nextx=b,$.spacingduration=0};VoiceElement.layoutEnded=function(b){return b.i>=b.children.length};VoiceElement.getNextX=function(b){return Math.max(b.minx,b.nextx)};VoiceElement.getSpacingUnits=function(b){return Math.sqrt(b.spacingduration*8)};VoiceElement.layoutOneItem=function(b,$,_e,et,tt){var nt=_e.children[_e.i];if(!nt)return 0;var rt=b-_e.minx,ot=_e.durationindex+nt.duration>0?et:0;if(nt.abcelem.el_type==="note"&&!nt.abcelem.rest&&_e.voicenumber!==0&&tt){var st=tt.children[tt.i],ct=st&&(nt.abcelem.maxpitch<=st.abcelem.maxpitch+1&&nt.abcelem.maxpitch>=st.abcelem.minpitch-1||nt.abcelem.minpitch<=st.abcelem.maxpitch+1&&nt.abcelem.minpitch>=st.abcelem.minpitch-1);if(ct&&nt.abcelem.minpitch===st.abcelem.minpitch&&nt.abcelem.maxpitch===st.abcelem.maxpitch&&st.heads&&st.heads.length>0&&nt.heads&&nt.heads.length>0&&st.heads[0].c===nt.heads[0].c&&(ct=!1),ct){var lt=st.heads&&st.heads.length>0?st.heads[0].realWidth:st.fixed.w;nt.adjustedWidth||(nt.adjustedWidth=lt+nt.w),nt.w=nt.adjustedWidth;for(var at=0;at<nt.children.length;at++){var it=nt.children[at];it.name.indexOf("accidental")<0&&(it.adjustedWidth||(it.adjustedWidth=it.dx+lt),it.dx=it.adjustedWidth)}}}var ut=getExtraWidth(nt,ot);return rt<ut&&(_e.i===0||nt.type!=="bar"||_e.children[_e.i-1].type!=="part"&&_e.children[_e.i-1].type!=="tempo")&&(b+=ut-rt),nt.setX(b),_e.spacingduration=nt.duration,_e.minx=b+getMinWidth(nt),_e.i!==_e.children.length-1&&(_e.minx+=nt.minspacing),this.updateNextX(b,$,_e),b};VoiceElement.shiftRight=function(b,$){var _e=$.children[$.i];_e&&(_e.setX(_e.x+b),$.minx+=b,$.nextx+=b)};VoiceElement.updateNextX=function(b,$,_e){_e.nextx=b+$*Math.sqrt(_e.spacingduration*8)};VoiceElement.updateIndices=function(b){this.layoutEnded(b)||(b.durationindex+=b.children[b.i].duration,b.children[b.i].type==="bar"&&(b.durationindex=Math.round(b.durationindex*64)/64),b.i++)};function getExtraWidth(b,$){var _e=0;return(b.type==="note"||b.type==="bar")&&(_e=$),-b.extraw+_e}function getMinWidth(b){return b.w}var voiceElements=VoiceElement,layoutVoiceElements=voiceElements;function checkLastBarX(b){for(var $=0,_e=0;_e<b.length;_e++){var et=b[_e];if(et.children.length>0){var tt=et.children.length-1,nt=et.children[tt];if(nt.abcelem.el_type==="bar"){var rt=nt.children[0].x;rt>$?$=rt:nt.children[0].x=$}}}}var layoutStaffGroup$1=function(b,$,_e,et,tt){var nt=1e-7,rt=0,ot=1e3,st=tt;et.startx=st;var ct,lt=0;for(_e&&console.log("init layout",b),ct=0;ct<et.voices.length;ct++)layoutVoiceElements.beginLayout(st,et.voices[ct]);for(var at=0;!finished(et.voices);){for(lt=null,ct=0;ct<et.voices.length;ct++)!layoutVoiceElements.layoutEnded(et.voices[ct])&&(!lt||getDurationIndex(et.voices[ct])<lt)&&(lt=getDurationIndex(et.voices[ct]));var it=[],ut=[];for(ct=0;ct<et.voices.length;ct++){var dt=getDurationIndex(et.voices[ct]);dt-lt>nt?ut.push(et.voices[ct]):it.push(et.voices[ct])}at=0;var ht=0;for(ct=0;ct<it.length;ct++)layoutVoiceElements.getNextX(it[ct])>st&&(st=layoutVoiceElements.getNextX(it[ct]),at=layoutVoiceElements.getSpacingUnits(it[ct]),ht=it[ct].spacingduration);rt+=at,ot=Math.min(ot,at),_e&&console.log("currentduration: ",lt,rt,ot);var ft=void 0;for(ct=0;ct<it.length;ct++){var pt=it[ct];pt.voicenumber===0&&(ft=ct);var mt=ft!==void 0&&it[ft].voicenumber!==pt.voicenumber?it[ft]:void 0;isSameStaff(pt,mt)||(mt=void 0);var gt=layoutVoiceElements.layoutOneItem(st,b,pt,$.minPadding,mt),vt=gt-st;if(vt>0){st=gt;for(var yt=0;yt<ct;yt++)layoutVoiceElements.shiftRight(vt,it[yt])}}for(ct=0;ct<ut.length;ct++)ut[ct].spacingduration-=ht,layoutVoiceElements.updateNextX(st,b,ut[ct]);for(ct=0;ct<it.length;ct++){var bt=it[ct];layoutVoiceElements.updateIndices(bt)}}for(ct=0;ct<et.voices.length;ct++)layoutVoiceElements.getNextX(et.voices[ct])>st&&(st=layoutVoiceElements.getNextX(et.voices[ct]),at=layoutVoiceElements.getSpacingUnits(et.voices[ct]));return checkLastBarX(et.voices),rt+=at,et.setWidth(st),{spacingUnits:rt,minSpace:ot}};function finished(b){for(var $=0;$<b.length;$++)if(!layoutVoiceElements.layoutEnded(b[$]))return!1;return!0}function getDurationIndex(b){return b.durationindex-(b.children[b.i]&&b.children[b.i].duration>0?0:5e-7)}function isSameStaff(b,$){return!b||!b.staff||!b.staff.voices||b.staff.voices.length===0||!$||!$.staff||!$.staff.voices||$.staff.voices.length===0?!1:b.staff.voices[0]===$.staff.voices[0]}var staffGroup$1=layoutStaffGroup$1;function getLeftEdgeOfStaff$1(b,$,_e,et,tt){var nt=b.padding.left,rt=0,ot,st;for(ot=0;ot<_e.length;ot++)_e[ot].header&&(st=$.calc(_e[ot].header,"voicefont",""),rt=Math.max(rt,st.width));if(rt=addBraceSize(rt,et,$),rt=addBraceSize(rt,tt,$),rt){var ct=$.calc("A","voicefont","");rt+=ct.width}nt+=rt;var lt=0;return lt=setBraceLocation(et,nt,lt),lt=setBraceLocation(tt,nt,lt),nt+lt}function addBraceSize(b,$,_e){if($){for(var et=0;et<$.length;et++)if($[et].header){var tt=_e.calc($[et].header,"voicefont","");b=Math.max(b,tt.width)}}return b}function setBraceLocation(b,$,_e){if(b)for(var et=0;et<b.length;et++)setLocation($,b[et]),_e=Math.max(_e,b[et].getWidth());return _e}function setLocation(b,$){$.x=b}var getLeftEdgeOfStaff_1=getLeftEdgeOfStaff$1,layoutVoice=voice$1,setUpperAndLowerElements=setUpperAndLowerElements_1,layoutStaffGroup=staffGroup$1,getLeftEdgeOfStaff=getLeftEdgeOfStaff_1,layout$2=function(b,$,_e,et,tt){var nt,rt,ot=_e;for(nt=0;nt<$.lines.length;nt++)if(rt=$.lines[nt],rt.staff){var st=setXSpacing(b,ot,et,rt.staffGroup,$.formatting,nt===$.lines.length-1,!1);Math.round(st)>Math.round(ot)&&(ot=st,tt&&(nt=-1))}for(nt=0;nt<$.lines.length;nt++)if(rt=$.lines[nt],rt.staffGroup&&rt.staffGroup.voices){for(var ct=0;ct<rt.staffGroup.voices.length;ct++)layoutVoice(rt.staffGroup.voices[ct]);setUpperAndLowerElements(b,rt.staffGroup)}for(nt=0;nt<$.lines.length;nt++)rt=$.lines[nt],rt.staffGroup&&rt.staffGroup.setHeight();return ot},setXSpacing=function(b,$,_e,et,tt,nt,rt){for(var ot=getLeftEdgeOfStaff(b,et.getTextSize,et.voices,et.brace,et.bracket),st=_e,ct=0;ct<8;ct++){var lt=layoutStaffGroup(st,b,rt,et,ot);if(st=calcHorizontalSpacing(nt,tt.stretchlast,$+b.padding.left,et.w,st,lt.spacingUnits,lt.minSpace,b.padding.left+b.padding.right),st===null)break}return centerWholeRests(et.voices),et.w-ot};function calcHorizontalSpacing(b,$,_e,et,tt,nt,rt,ot){if(b)if($===void 0){if(et/_e<.66)return null}else{var st=1-(et+ot)/_e,ct=st<$;if(!ct)return null}if(Math.abs(_e-et)<2)return null;var lt=nt*tt,at=et-lt;return nt>0?(tt=(_e-at)/nt,tt*rt>50&&(tt=50/rt),tt):null}function centerWholeRests(b){for(var $=0;$<b.length;$++)for(var _e=b[$],et=1;et<_e.children.length-1;et++){var tt=_e.children[et];if(tt.abcelem.rest&&(tt.abcelem.rest.type==="whole"||tt.abcelem.rest.type==="multimeasure")){var nt=_e.children[et-1],rt=_e.children[et+1];tt.center(nt,rt)}}}var layout_1=layout$2,Classes$1=function b($){this.shouldAddClasses=$.shouldAddClasses,this.reset()};Classes$1.prototype.reset=function(){this.lineNumber=null,this.voiceNumber=null,this.measureNumber=null,this.measureTotalPerLine=[],this.noteNumber=null};Classes$1.prototype.incrLine=function(){this.lineNumber===null?this.lineNumber=0:this.lineNumber++,this.voiceNumber=null,this.measureNumber=null,this.noteNumber=null};Classes$1.prototype.incrVoice=function(){this.voiceNumber===null?this.voiceNumber=0:this.voiceNumber++,this.measureNumber=null,this.noteNumber=null};Classes$1.prototype.isInMeasure=function(){return this.measureNumber!==null};Classes$1.prototype.newMeasure=function(){this.measureNumber&&(this.measureTotalPerLine[this.lineNumber]=this.measureNumber),this.measureNumber=null,this.noteNumber=null};Classes$1.prototype.startMeasure=function(){this.measureNumber=0,this.noteNumber=0};Classes$1.prototype.incrMeasure=function(){this.measureNumber++,this.noteNumber=0};Classes$1.prototype.incrNote=function(){this.noteNumber++};Classes$1.prototype.measureTotal=function(){for(var b=0,$=0;$<this.lineNumber;$++)b+=this.measureTotalPerLine[$]?this.measureTotalPerLine[$]:0;return this.measureNumber&&(b+=this.measureNumber),b};Classes$1.prototype.getCurrent=function(b){return{line:this.lineNumber,measure:this.measureNumber,measureTotal:this.measureTotal(),voice:this.voiceNumber,note:this.noteNumber}};Classes$1.prototype.generate=function(b){if(!this.shouldAddClasses)return"";var $=[];if(b&&b.length>0&&$.push(b),b==="abcjs-tab-number")return $.join(" ");if(b==="text instrument-name")return"abcjs-text abcjs-instrument-name";if(this.lineNumber!==null&&$.push("l"+this.lineNumber),this.measureNumber!==null&&$.push("m"+this.measureNumber),this.measureNumber!==null&&$.push("mm"+this.measureTotal()),this.voiceNumber!==null&&$.push("v"+this.voiceNumber),b&&(b.indexOf("note")>=0||b.indexOf("rest")>=0||b.indexOf("lyric")>=0)&&this.noteNumber!==null&&$.push("n"+this.noteNumber),$.length>0){$=$.join(" "),$=$.split(" ");for(var _e=0;_e<$.length;_e++)$[_e].indexOf("abcjs-")!==0&&$[_e].length>0&&($[_e]="abcjs-"+$[_e])}return $.join(" ")};var classes=Classes$1,GetFontAndAttr$1=function b($,_e){this.formatting=$,this.classes=_e};GetFontAndAttr$1.prototype.updateFonts=function(b){b.gchordfont&&(this.formatting.gchordfont=b.gchordfont),b.tripletfont&&(this.formatting.tripletfont=b.tripletfont),b.annotationfont&&(this.formatting.annotationfont=b.annotationfont),b.vocalfont&&(this.formatting.vocalfont=b.vocalfont)};GetFontAndAttr$1.prototype.getFamily=function(b){return b[0]==='"'&&b[b.length-1]==='"'?b.substring(1,b.length-1):b};GetFontAndAttr$1.prototype.calc=function(b,$){var _e;typeof b=="string"?(_e=this.formatting[b],_e?_e={face:_e.face,size:Math.round(_e.size*4/3),decoration:_e.decoration,style:_e.style,weight:_e.weight,box:_e.box}:_e={face:"Arial",size:Math.round(12*4/3),decoration:"underline",style:"normal",weight:"normal"}):_e={face:b.face,size:Math.round(b.size*4/3),decoration:b.decoration,style:b.style,weight:b.weight,box:b.box};var et=this.formatting.fontboxpadding?this.formatting.fontboxpadding:.1;_e.padding=_e.size*et;var tt={"font-size":_e.size,"font-style":_e.style,"font-family":this.getFamily(_e.face),"font-weight":_e.weight,"text-decoration":_e.decoration,class:this.classes.generate($)};return{font:_e,attr:tt}};var getFontAndAttr=GetFontAndAttr$1,GetTextSize$1=function b($,_e){this.getFontAndAttr=$,this.svg=_e};GetTextSize$1.prototype.updateFonts=function(b){this.getFontAndAttr.updateFonts(b)};GetTextSize$1.prototype.attr=function(b,$){return this.getFontAndAttr.calc(b,$)};GetTextSize$1.prototype.getFamily=function(b){return b[0]==='"'&&b[b.length-1]==='"'?b.substring(1,b.length-1):b};GetTextSize$1.prototype.calc=function(b,$,_e,et){var tt;typeof $=="string"?tt=this.attr($,_e):tt={font:{face:$.face,size:$.size,decoration:$.decoration,style:$.style,weight:$.weight},attr:{"font-size":$.size,"font-style":$.style,"font-family":this.getFamily($.face),"font-weight":$.weight,"text-decoration":$.decoration,class:this.getFontAndAttr.classes.generate(_e)}};var nt=this.svg.getTextSize(b,tt.attr,et);return tt.font.box?{height:nt.height+tt.font.padding*4,width:nt.width+tt.font.padding*4}:nt};GetTextSize$1.prototype.baselineToCenter=function(b,$,_e,et,tt){var nt=this.calc(b,$,_e).height,rt=this.attr($,_e).font.size;return nt*.5+(tt-et-2)*rt};var getTextSize=GetTextSize$1,sprintf$7=function(){for(var b=0,$,_e=arguments[b++],et=[],tt,nt,rt,ot;_e;){if(tt=/^[^\x25]+/.exec(_e))et.push(tt[0]);else if(tt=/^\x25{2}/.exec(_e))et.push("%");else if(tt=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(_e)){if(($=arguments[tt[1]||b++])==null||$==null)throw"Too few arguments.";if(/[^s]/.test(tt[7])&&typeof $!="number")throw"Expecting number but found "+typeof $;switch(tt[7]){case"b":$=$.toString(2);break;case"c":$=String.fromCharCode($);break;case"d":$=parseInt($);break;case"e":$=tt[6]?$.toExponential(tt[6]):$.toExponential();break;case"f":$=tt[6]?parseFloat($).toFixed(tt[6]):parseFloat($);break;case"o":$=$.toString(8);break;case"s":$=($=String($))&&tt[6]?$.substring(0,tt[6]):$;break;case"u":$=Math.abs($);break;case"x":$=$.toString(16);break;case"X":$=$.toString(16).toUpperCase();break}$=/[def]/.test(tt[7])&&tt[2]&&$>0?"+"+$:$,rt=tt[3]?tt[3]=="0"?"0":tt[3][1]:" ",ot=tt[5]-String($).length,nt=tt[5]?str_repeat(rt,ot):"",et.push(tt[4]?$+nt:nt+$)}else throw"Huh ?!";_e=_e.substring(tt[0].length)}return et.join("")},sprintf_1=sprintf$7;function roundNumber$a(b){return parseFloat(b.toFixed(2))}var roundNumber_1=roundNumber$a,roundNumber$9=roundNumber_1;function renderText$8(b,$,_e){var et=$.y;if($.phrases){var ot=b.paper.richTextLine($.phrases,$.x,$.y,$.klass,$.anchor);return ot}if($.lane){var tt=$.dim.font.size*.25;et+=($.dim.font.size+tt)*$.lane}var nt;$.dim?(nt=$.dim,nt.attr.class=$.klass):nt=b.controller.getFontAndAttr.calc($.type,$.klass),$.anchor&&(nt.attr["text-anchor"]=$.anchor),$["dominant-baseline"]&&(nt.attr["dominant-baseline"]=$["dominant-baseline"]),nt.attr.x=$.x,nt.attr.y=et,$.centerVertically||(nt.attr.y+=nt.font.size),$.type==="debugfont"&&(console.log("Debug msg: "+$.text),nt.attr.stroke="#ff0000"),$.cursor&&(nt.attr.cursor=$.cursor);var rt=$.text.replace(/\n\n/g,`
 
`);rt=rt.replace(/^\n/,` 
`),nt.font.box&&(_e||b.paper.openGroup({klass:nt.attr.class,fill:b.foregroundColor,"data-name":$.name}),nt.attr["text-anchor"]==="end"?nt.attr.x-=nt.font.padding:nt.attr["text-anchor"]==="start"&&(nt.attr.x+=nt.font.padding),nt.attr.y+=nt.font.padding,delete nt.attr.class),$.noClass&&delete nt.attr.class,nt.attr.x=roundNumber$9(nt.attr.x),nt.attr.y=roundNumber$9(nt.attr.y),$.name&&(nt.attr["data-name"]=$.name);var ot=b.paper.text(rt,nt.attr);if(nt.font.box){var st=ot.getBBox(),ct=0;nt.attr["text-anchor"]==="middle"?ct=st.width/2+nt.font.padding:nt.attr["text-anchor"]==="end"&&(ct=st.width+nt.font.padding*2);var lt=0;$.centerVertically&&(lt=st.height-nt.font.padding),b.paper.rect({"data-name":"box",x:Math.round($.x-ct),y:Math.round(et-lt),width:Math.round(st.width+nt.font.padding*2),height:Math.round(st.height+nt.font.padding*2)}),_e||(ot=b.paper.closeGroup())}return ot}var text=renderText$8,sprintf$6=sprintf_1,spacing$4=spacing_1,renderText$7=text;function drawBrace$1(b,$,_e){var et=$.startVoice.staff.absoluteY-spacing$4.STEP*10;return $.endVoice&&$.endVoice.staff?$.endY=$.endVoice.staff.absoluteY-spacing$4.STEP*2:$.lastContinuedVoice&&$.lastContinuedVoice.staff?$.endY=$.lastContinuedVoice.staff.absoluteY-spacing$4.STEP*2:$.endY=$.startVoice.staff.absoluteY-spacing$4.STEP*2,draw$3(b,$.x,et,$.endY,$.type,$.header,_e)}function straightPath(b,$,_e,et,tt){$+=spacing$4.STEP;var nt=spacing$4.STEP*.75,rt=spacing$4.STEP*.75,ot=et-_e,st=sprintf$6("M %f %f l %f %f l %f %f l %f %f z",$,_e-rt,0,ot+rt*2,nt,0,0,-(ot+rt*2)),ct=spacing$4.STEP*2,lt=spacing$4.STEP;return st+=sprintf$6("M %f %f q %f %f %f %f q %f %f %f %f z",$+nt,_e-rt,ct*.6,lt*.2,ct,-lt,-ct*.1,lt*.3,-ct,lt+spacing$4.STEP),st+=sprintf$6("M %f %f q %f %f %f %f q %f %f %f %f z",$+nt,_e+rt+ot,ct*.6,-lt*.2,ct,lt,-ct*.1,-lt*.3,-ct,-lt-spacing$4.STEP),b.paper.path({path:st,stroke:b.foregroundColor,fill:b.foregroundColor,class:b.controller.classes.generate(tt),"data-name":tt})}function curvyPath(b,$,_e,et,tt){var nt=et-_e,rt=curve($,_e,[7.5,-8,21,0,18.5,-10.5,7.5],[0,nt/5.5,nt/3.14,nt/2,nt/2.93,nt/4.88,0]);return rt+=curve($,_e,[0,17.5,-7.5,6.6,-5,20,0],[nt/2,nt/1.46,nt/1.22,nt,nt/1.19,nt/1.42,nt/2]),b.paper.path({path:rt,stroke:b.foregroundColor,fill:b.foregroundColor,class:b.controller.classes.generate(tt),"data-name":tt})}function curve(b,$,_e,et){return sprintf$6("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",b+_e[0],$+et[0],b+_e[1],$+et[1],b+_e[2],$+et[2],b+_e[3],$+et[3],b+_e[4],$+et[4],b+_e[5],$+et[5],b+_e[6],$+et[6])}var draw$3=function(b,$,_e,et,tt,nt,rt){var ot;if(nt){b.paper.openGroup({klass:b.controller.classes.generate("staff-extra voice-name"),"data-name":tt});var st=_e+(et-_e)/2;st=st-b.controller.getTextSize.baselineToCenter(nt,"voicefont","staff-extra voice-name",0,1),renderText$7(b,{x:b.padding.left,y:st,text:nt,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0})}return tt==="brace"?ot=curvyPath(b,$,_e,et,tt):tt==="bracket"&&(ot=straightPath(b,$,_e,et,tt)),nt&&(ot=b.paper.closeGroup()),rt.wrapSvgEl({el_type:tt,startChar:-1,endChar:-1},ot),ot},brace=drawBrace$1;function printPath$5(b,$,_e){var et=b.paper.path($);return et}var printPath_1=printPath$5,sprintf$5=sprintf_1,printPath$4=printPath_1,roundNumber$8=roundNumber_1;function drawGlissando$1(b,$,_e){(!$.anchor1||!$.anchor2||!$.anchor1.heads||!$.anchor2.heads||$.anchor1.heads.length===0||$.anchor2.heads.length===0)&&window.console.error("Glissando Element not set.");var et=4,tt=b.calcY($.anchor1.heads[0].pitch),nt=b.calcY($.anchor2.heads[0].pitch),rt=$.anchor1.x+$.anchor1.w/2,ot=$.anchor2.x+$.anchor2.w/2,st=lineLength(rt,tt,ot,nt),ct=$.anchor1.w/2+et,lt=$.anchor2.w/2+et,at=slope(rt,tt,ot,nt),it=getY$1(tt,at,ct);getY$1(nt,at,-lt);var ut=numSquigglies(st-ct-lt),dt=drawSquiggly(b,rt+ct,it,ut,at);return _e.wrapSvgEl({el_type:"glissando",startChar:-1,endChar:-1},dt),[dt]}function lineLength(b,$,_e,et){var tt=_e-b,nt=et-$;return Math.sqrt(tt*tt+nt*nt)}function slope(b,$,_e,et){return(et-$)/(_e-b)}function getY$1(b,$,_e){return roundNumber$8(b+_e*$)}function numSquigglies(b){var $=5;return Math.max(2,Math.floor((b-$*2)/6))}var leftStart=[[3.5,-4.8]],right=[[1.5,-1],[.3,-.3],[-3.5,3.8]],leftEnd=[[-1.5,2]],top=[[3,4],[3,-4]],bottom=[[-3,4],[-3,-4]];function segment(b,$){for(var _e="",et=0;et<b.length;et++)_e+="l"+b[et][0]+" "+getY$1(b[et][1],$,b[et][0]);return _e}var drawSquiggly=function(b,$,_e,et,tt){var nt=sprintf$5("M %f %f",$,_e);nt+=segment(leftStart,tt);var rt;for(rt=0;rt<et;rt++)nt+=segment(top,tt);for(nt+=segment(right,tt),rt=0;rt<et;rt++)nt+=segment(bottom,tt);return nt+=segment(leftEnd,tt)+"z",printPath$4(b,{path:nt,highlight:"stroke",stroke:b.foregroundColor,class:b.controller.classes.generate("decoration"),"data-name":"glissando"})},glissando=drawGlissando$1,sprintf$4=sprintf_1,printPath$3=printPath_1,roundNumber$7=roundNumber_1;function drawCrescendo$1(b,$,_e){$.pitch===void 0&&window.console.error("Crescendo Element y-coordinate not set.");var et=b.calcY($.pitch)+4,tt=8,nt=$.anchor1?$.anchor1.x:0,rt=$.anchor2?$.anchor2.x:800,ot;return $.dir==="<"?ot=drawLine$1(b,et+tt/2,et,et+tt/2,et+tt,nt,rt):ot=drawLine$1(b,et,et+tt/2,et+tt,et+tt/2,nt,rt),_e.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1},ot),[ot]}var drawLine$1=function(b,$,_e,et,tt,nt,rt){$=roundNumber$7($),_e=roundNumber$7(_e),et=roundNumber$7(et),tt=roundNumber$7(tt),nt=roundNumber$7(nt),rt=roundNumber$7(rt);var ot=sprintf$4("M %f %f L %f %f M %f %f L %f %f",nt,$,rt,_e,nt,et,rt,tt);return printPath$3(b,{path:ot,highlight:"stroke",stroke:b.foregroundColor,class:b.controller.classes.generate("dynamics decoration"),"data-name":"dynamics"})},crescendo=drawCrescendo$1,roundNumber$6=roundNumber_1;function Group(){this.ingroup=!1}Group.prototype.beginGroup=function(b,$){this.paper=b,this.controller=$,this.path=[],this.lastM=[0,0],this.ingroup=!0,this.paper.openGroup()};Group.prototype.isInGroup=function(){return this.ingroup};Group.prototype.addPath=function(b){if(b=b||[],b.length!==0){b[0][0]="m",b[0][1]=roundNumber$6(b[0][1]-this.lastM[0]),b[0][2]=roundNumber$6(b[0][2]-this.lastM[1]),this.lastM[0]+=b[0][1],this.lastM[1]+=b[0][2],this.path.push(b[0]);for(var $=1,_e=b.length;$<_e;$++)b[$][0]==="m"&&(this.lastM[0]+=b[$][1],this.lastM[1]+=b[$][2]),this.path.push(b[$])}};Group.prototype.endGroup=function(b,$){this.ingroup=!1;for(var _e="",et=0;et<this.path.length;et++)_e+=this.path[et].join(" ");this.path=[];var tt=this.paper.closeGroup();return tt&&(tt.setAttribute("class",this.controller.classes.generate(b)),tt.setAttribute("fill",this.controller.renderer.foregroundColor),tt.setAttribute("stroke","none"),tt.setAttribute("data-name",$)),tt};var elementGroup$3=new Group,groupElements=elementGroup$3,renderText$6=text,glyphs$1=glyphs_1,elementGroup$2=groupElements;function printSymbol$2(b,$,_e,et,tt){var nt,rt;if(!et)return null;if(et.length>1&&et.indexOf(".")<0){var ot=elementGroup$2.isInGroup()?"":tt.klass;b.paper.openGroup({"data-name":tt.name,klass:ot});for(var st=0,ct=0;ct<et.length;ct++){var lt=et[ct];rt=glyphs$1.getYCorr(lt),nt=glyphs$1.printSymbol($+st,b.calcY(_e+rt),lt,b.paper,{stroke:tt.stroke,fill:tt.fill}),nt?ct<et.length-1&&(st+=kernSymbols(lt,et[ct+1],glyphs$1.getSymbolWidth(lt))):renderText$6(b,{x:$,y:b.y,text:"no symbol:"+et,type:"debugfont",klass:"debug-msg",anchor:"start"},!1)}var at=b.paper.closeGroup();return at}else return rt=glyphs$1.getYCorr(et),elementGroup$2.isInGroup()?nt=glyphs$1.printSymbol($,b.calcY(_e+rt),et,b.paper,{"data-name":tt.name}):nt=glyphs$1.printSymbol($,b.calcY(_e+rt),et,b.paper,{klass:tt.klass,stroke:tt.stroke,fill:tt.fill,"data-name":tt.name}),nt||(renderText$6(b,{x:$,y:b.y,text:"no symbol:"+et,type:"debugfont",klass:"debug-msg",anchor:"start"},!1),null)}function kernSymbols(b,$,_e){var et=_e;return b==="f"&&$==="f"&&(et=et*2/3),b==="p"&&$==="p"&&(et=et*5/6),b==="f"&&$==="z"&&(et=et*5/8),et}var printSymbol_1=printSymbol$2,printSymbol$1=printSymbol_1;function drawDynamics$1(b,$,_e){$.pitch===void 0&&window.console.error("Dynamic Element y-coordinate not set.");var et=1,tt=1,nt=printSymbol$1(b,$.anchor.x,$.pitch,$.dec,{scalex:et,scaley:tt,klass:b.controller.classes.generate("decoration dynamics"),fill:b.foregroundColor,stroke:"none",name:"dynamics"});return _e.wrapSvgEl({el_type:"dynamicDecoration",startChar:-1,endChar:-1,decoration:$.dec},nt),[nt]}var dynamics=drawDynamics$1,sprintf$3=sprintf_1,renderText$5=text,printPath$2=printPath_1,roundNumber$5=roundNumber_1;function drawTriplet$1(b,$,_e){b.paper.openGroup({klass:b.controller.classes.generate("triplet "+$.durationClass),"data-name":"triplet"}),$.hasBeam||drawBracket(b,$.anchor1.x,$.startNote,$.anchor2.x+$.anchor2.w,$.endNote),renderText$5(b,{x:$.xTextPos,y:b.calcY($.yTextPos-1),text:""+$.number,type:"tripletfont",anchor:"middle",centerVertically:!0,noClass:!0,name:""+$.number},!0);var et=b.paper.closeGroup();return _e.wrapSvgEl({el_type:"triplet",startChar:-1,endChar:-1},et),et}function drawLine(b,$,_e,et){return sprintf$3("M %f %f L %f %f",roundNumber$5(b),roundNumber$5($),roundNumber$5(_e),roundNumber$5(et))}function drawBracket(b,$,_e,et,tt){_e=b.calcY(_e),tt=b.calcY(tt);var nt=5,rt="";rt+=drawLine($,_e,$,_e+nt),rt+=drawLine(et,tt,et,tt+nt);var ot=$+(et-$)/2,st=8,ct=(tt-_e)/(et-$),lt=ot-st,at=_e+(lt-$)*ct;rt+=drawLine($,_e,lt,at);var it=ot+st,ut=_e+(it-$)*ct;rt+=drawLine(it,ut,et,tt),printPath$2(b,{path:rt,stroke:b.foregroundColor,"data-name":"triplet-bracket"})}var triplet=drawTriplet$1,sprintf$2=sprintf_1,renderText$4=text,printPath$1=printPath_1,roundNumber$4=roundNumber_1;function drawEnding$1(b,$,_e,et,tt){$.pitch===void 0&&window.console.error("Ending Element y-coordinate not set.");var nt=roundNumber$4(b.calcY($.pitch)),rt=20,ot="";$.anchor1&&(_e=roundNumber$4($.anchor1.x+$.anchor1.w),ot+=sprintf$2("M %f %f L %f %f ",_e,nt,_e,roundNumber$4(nt+rt))),$.anchor2&&(et=roundNumber$4($.anchor2.x),ot+=sprintf$2("M %f %f L %f %f ",et,nt,et,roundNumber$4(nt+rt))),ot+=sprintf$2("M %f %f L %f %f ",_e,nt,et,nt),b.paper.openGroup({klass:b.controller.classes.generate("ending"),"data-name":"ending"}),printPath$1(b,{path:ot,stroke:b.foregroundColor,fill:b.foregroundColor,"data-name":"line"}),$.anchor1&&renderText$4(b,{x:roundNumber$4(_e+5),y:roundNumber$4(b.calcY($.pitch-.5)),text:$.text,type:"repeatfont",klass:"ending",anchor:"start",noClass:!0,name:$.text});var st=b.paper.closeGroup();return tt.wrapSvgEl({el_type:"ending",startChar:-1,endChar:-1},st),[st]}var ending=drawEnding$1,sprintf$1=sprintf_1,roundNumber$3=roundNumber_1;function drawTie$1(b,$,_e,et,tt){layout$1($,_e,et);var nt="";$.anchor1?nt+="abcjs-start-m"+$.anchor1.parent.counters.measure+"-n"+$.anchor1.parent.counters.note:nt+="abcjs-start-edge",$.anchor2?nt+=" abcjs-end-m"+$.anchor2.parent.counters.measure+"-n"+$.anchor2.parent.counters.note:nt+=" abcjs-end-edge",$.hint&&(nt="abcjs-hint");var rt=$.fixedY?1.5:0,ot=drawArc(b,$.startX,$.endX,$.startY+rt,$.endY+rt,$.above,nt,$.isTie,$.dotted),st=-1;$.anchor1&&!$.isTie&&(st=$.anchor1.parent.abcelem.startChar-1);var ct=-1;return $.anchor2&&!$.isTie&&(ct=$.anchor2.parent.abcelem.endChar+1),tt.wrapSvgEl({el_type:"slur",startChar:st,endChar:ct},ot),[ot]}var layout$1=function(b,$,_e){!b.anchor1||!b.anchor2||b.anchor1.pitch===b.anchor2.pitch&&b.internalNotes.length===0?b.isTie=!0:b.isTie=!1,b.isTie?(b.calcTieDirection(),b.calcX($,_e),b.calcTieY()):(b.calcSlurDirection(),b.calcX($,_e),b.calcSlurY()),b.avoidCollisionAbove()},drawArc=function(b,$,_e,et,tt,nt,rt,ot,st){var ct=ot?1.2:1.5;$=roundNumber$3($+6),_e=roundNumber$3(_e+4),et=et+(nt?ct:-ct),tt=tt+(nt?ct:-ct);var lt=roundNumber$3(b.calcY(et)),at=roundNumber$3(b.calcY(tt)),it=_e-$,ut=at-lt,dt=Math.sqrt(it*it+ut*ut),ht=it/dt,ft=ut/dt,pt=dt/3.5,mt=ot?10:25,gt=(nt?-1:1)*Math.min(mt,Math.max(4,pt)),vt=roundNumber$3($+pt*ht-gt*ft),yt=roundNumber$3(lt+pt*ft+gt*ht),bt=roundNumber$3(_e-pt*ht-gt*ft),xt=roundNumber$3(at-pt*ft+gt*ht),_t=2;rt?rt+=" slur":rt="slur",rt+=ot?" tie":" legato";var wt;if(st){rt+=" dotted";var At=sprintf$1("M %f %f C %f %f %f %f %f %f",$,lt,vt,yt,bt,xt,_e,at);wt=b.paper.path({path:At,stroke:b.foregroundColor,fill:"none","stroke-dasharray":"5 5",class:b.controller.classes.generate(rt),"data-name":ot?"tie":"slur"})}else{var Pt=sprintf$1("M %f %f C %f %f %f %f %f %f C %f %f %f %f %f %f z",$,lt,vt,yt,bt,xt,_e,at,roundNumber$3(bt-_t*ft),roundNumber$3(xt+_t*ht),roundNumber$3(vt-_t*ft),roundNumber$3(yt+_t*ht),$,lt);wt=b.paper.path({path:Pt,stroke:"none",fill:b.foregroundColor,class:b.controller.classes.generate(rt),"data-name":ot?"tie":"slur"})}return wt},tie=drawTie$1,printPath=printPath_1,roundNumber$2=roundNumber_1;function drawBeam$1(b,$){if($.beams.length!==0){for(var _e="",et=0;et<$.beams.length;et++){var tt=$.beams[et];if(tt.split){for(var nt=getSlope(b,tt.startX,tt.startY,tt.endX,tt.endY),rt=[],ot=0;ot<tt.split.length;ot+=2)rt.push([tt.split[ot],tt.split[ot+1]]);for(ot=0;ot<rt.length;ot++){var st=getY(tt.startX,tt.startY,nt,rt[ot][0]),ct=getY(tt.startX,tt.startY,nt,rt[ot][1]);_e+=draw$2(b,rt[ot][0],st,rt[ot][1],ct,tt.dy)}}else _e+=draw$2(b,tt.startX,tt.startY,tt.endX,tt.endY,tt.dy)}var lt=("abcjs-d"+$.duration).replace(/\./g,"-"),at=b.controller.classes.generate("beam-elem "+lt),it=printPath(b,{path:_e,stroke:"none",fill:b.foregroundColor,class:at});return[it]}}function draw$2(b,$,_e,et,tt,nt){_e=roundNumber$2(b.calcY(_e)),tt=roundNumber$2(b.calcY(tt)),$=roundNumber$2($),et=roundNumber$2(et);var rt=roundNumber$2(_e+nt),ot=roundNumber$2(tt+nt);return"M"+$+" "+_e+" L"+et+" "+tt+"L"+et+" "+ot+" L"+$+" "+rt+"z"}function getSlope(b,$,_e,et,tt){return(tt-_e)/(et-$)}function getY(b,$,_e,et){var tt=et-b;return $+tt*_e}var beam=drawBeam$1,elementGroup$1=groupElements,roundNumber$1=roundNumber_1;function printStem$2(b,$,_e,et,tt,nt,rt){if(_e<0||et<tt){var ot=roundNumber$1(tt);tt=roundNumber$1(et),et=ot}else et=roundNumber$1(et),tt=roundNumber$1(tt);$=roundNumber$1($);var st=roundNumber$1($+_e);if(b.firefox112){$+=_e/2;var lt={x1:$,x2:$,y1:et,y2:tt,stroke:b.foregroundColor,"stroke-width":Math.abs(_e)};return nt&&(lt.class=nt),rt&&(lt["data-name"]=rt),b.paper.lineToBack(lt)}for(var ct=[["M",$,et],["L",$,tt],["L",st,tt],["L",st,et],["z"]],lt={path:""},at=0;at<ct.length;at++)lt.path+=ct[at].join(" ");return nt&&(lt.class=nt),rt&&(lt["data-name"]=rt),elementGroup$1.isInGroup()||(lt.stroke="none",lt.fill=b.foregroundColor),b.paper.pathToBack(lt)}var printStem_1=printStem$2,sprintf=sprintf_1,roundNumber=roundNumber_1;function printLine$1(b,$,_e,et,tt,nt,rt){var ot=b.foregroundColor;$=roundNumber($),_e=roundNumber(_e);var st=roundNumber(et-rt),ct=roundNumber(et+rt);if(b.firefox112){et+=rt/2;var lt={x1:$,x2:_e,y1:et,y2:et,stroke:b.foregroundColor,"stroke-width":Math.abs(rt*2)};return tt&&(lt.class=tt),nt&&(lt["data-name"]=nt),b.paper.lineToBack(lt)}var at=sprintf("M %f %f L %f %f L %f %f L %f %f z",$,st,_e,st,_e,ct,$,ct),it={path:at,stroke:"none",fill:ot};nt&&(it["data-name"]=nt),tt&&(it.class=tt);var ut=b.paper.pathToBack(it);return ut}var printLine_1=printLine$1,printLine=printLine_1;function printStaffLine$2(b,$,_e,et,tt,nt,rt){var ot=b.calcY(et);return printLine(b,$,_e,ot,tt,nt,rt)}var staffLine=printStaffLine$2,renderText$3=text,printStem$1=printStem_1,printStaffLine$1=staffLine,printSymbol=printSymbol_1;function drawRelativeElement$2(b,$,_e){$.pitch===void 0&&window.console.error($.type+" Relative Element y-coordinate not set.");var et=b.calcY($.pitch);switch($.type){case"symbol":if($.c===null)return null;var tt="symbol";$.klass&&(tt+=" "+$.klass),$.graphelem=printSymbol(b,$.x,$.pitch,$.c,{scalex:$.scalex,scaley:$.scaley,klass:b.controller.classes.generate(tt),name:$.name});break;case"debug":$.graphelem=renderText$3(b,{x:$.x,y:b.calcY(15),text:""+$.c,type:"debugfont",klass:b.controller.classes.generate("debug-msg"),anchor:"start",centerVertically:!1,dim:$.dim},!1);break;case"tabNumber":var nt="middle",rt="tabnumberfont",ot="abcjs-tab-number";$.isGrace&&(rt="tabgracefont",et+=2.5,ot="tab-grace"),$.graphelem=renderText$3(b,{x:$.x,y:et,text:""+$.c,type:rt,klass:b.controller.classes.generate(ot),anchor:nt,centerVertically:!1,dim:$.dim,cursor:"default"},!1);break;case"barNumber":$.graphelem=renderText$3(b,{x:$.x,y:et,text:""+$.c,type:"measurefont",klass:b.controller.classes.generate("bar-number"),anchor:"middle",dim:$.dim,name:"bar-number"},!0);break;case"lyric":$.graphelem=renderText$3(b,{x:$.x,y:et,text:$.c,type:"vocalfont",klass:b.controller.classes.generate("lyric"),anchor:"middle",dim:$.dim,name:"lyric"},!1);break;case"chord":$.graphelem=renderText$3(b,{x:$.x,y:et,text:$.c,type:"gchordfont",klass:b.controller.classes.generate("chord"),anchor:"middle",dim:$.dim,lane:$.getLane(),name:"chord"},!1);break;case"decoration":$.graphelem=renderText$3(b,{x:$.x,y:et+6,text:$.c,type:"annotationfont",klass:b.controller.classes.generate("annotation"),anchor:$.anchor,centerVertically:!0,dim:$.dim},!1);break;case"text":$.graphelem=renderText$3(b,{x:$.x,y:et,text:$.c,type:"annotationfont",klass:b.controller.classes.generate("annotation"),anchor:"start",centerVertically:$.centerVertically,dim:$.dim,lane:$.getLane(),name:"annotation"},!1);break;case"multimeasure-text":$.graphelem=renderText$3(b,{x:$.x+$.w/2,y:et,text:$.c,type:"tempofont",klass:b.controller.classes.generate("rest"),anchor:"middle",centerVertically:!1,dim:$.dim},!1);break;case"part":$.graphelem=renderText$3(b,{x:$.x,y:et,text:$.c,type:"partsfont",klass:b.controller.classes.generate("part"),anchor:"start",dim:$.dim,name:$.c},!0);break;case"bar":$.graphelem=printStem$1(b,$.x,$.linewidth+b.lineThickness,et,_e||b.calcY($.pitch2),null,"bar");break;case"stem":var st=$.linewidth>0?$.linewidth+b.lineThickness:$.linewidth-b.lineThickness;$.graphelem=printStem$1(b,$.x,st,et,b.calcY($.pitch2),"abcjs-stem","stem");break;case"ledger":$.graphelem=printStaffLine$1(b,$.x,$.x+$.w,$.pitch,"abcjs-ledger","ledger",.35+b.lineThickness);break}return $.scalex!==1&&$.graphelem&&scaleExistingElem(b.paper,$.graphelem,$.scalex,$.scaley,$.x,et),$.graphelem}function scaleExistingElem(b,$,_e,et,tt,nt){b.setAttributeOnElement($,{style:"transform:scale("+_e+","+et+");transform-origin:"+tt+"px "+nt+"px;"})}var relative=drawRelativeElement$2,drawRelativeElement$1=relative,renderText$2=text;function drawTempo$1(b,$){var _e=$.x;$.pitch===void 0&&window.console.error("Tempo Element y-coordinate not set."),$.tempo.el_type="tempo";var et=b.calcY($.pitch)+2,tt,nt;if($.tempo.preString){tt=renderText$2(b,{x:_e,y:et,text:$.tempo.preString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"pre"},!0),nt=b.controller.getTextSize.calc($.tempo.preString,"tempofont","tempo",tt);var rt=nt.width,ot=rt/$.tempo.preString.length;_e+=rt+ot}if($.note){$.note.setX(_e);for(var st=0;st<$.note.children.length;st++)drawRelativeElement$1(b,$.note.children[st],_e);_e+=$.note.w+5;var ct="= "+$.tempo.bpm;tt=renderText$2(b,{x:_e,y:et,text:ct,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"beats"}),nt=b.controller.getTextSize.calc(ct,"tempofont","tempo",tt);var lt=nt.width,at=lt/ct.length;_e+=lt+at}$.tempo.postString&&renderText$2(b,{x:_e,y:et,text:$.tempo.postString,type:"tempofont",klass:"abcjs-tempo",anchor:"start",noClass:!0,name:"post"},!0)}var tempo=drawTempo$1,drawTempo=tempo,drawRelativeElement=relative,spacing$3=spacing_1,setClass=setClass_1,elementGroup=groupElements;function drawAbsolute$1(b,$,_e,et,tt){if(!$.invisible){var nt=$.children.length>0&&$.children[0].type==="TempoElement";$.elemset=[],elementGroup.beginGroup(b.paper,b.controller);for(var rt=0;rt<$.children.length;rt++){var ot=$.children[rt];switch(ot.type){case"TempoElement":drawTempo(b,ot);break;default:var st=drawRelativeElement(b,ot,_e);ot.type==="symbol"&&ot.c&&ot.c.indexOf("notehead")>=0&&st.setAttribute("class","abcjs-notehead")}}var ct=$.type;if(($.type==="note"||$.type==="rest")&&($.counters=b.controller.classes.getCurrent(),ct+=" d"+Math.round($.durationClass*1e3)/1e3,ct=ct.replace(/\./g,"-"),$.abcelem.pitches))for(var lt=0;lt<$.abcelem.pitches.length;lt++)ct+=" p"+$.abcelem.pitches[lt].pitch;var at=elementGroup.endGroup(ct,$.type);if(at){if($.cloned&&($.cloned.overrideClasses=at.className.baseVal),$.overrideClasses){var it=at.classList&&at.classList.length>0?at.classList[0]+" ":"";at.setAttribute("class",it+$.overrideClasses)}if(nt)$.startChar=$.abcelem.startChar,$.endChar=$.abcelem.endChar,et.add($,at,!1,tt);else{$.elemset.push(at);var ut=!1;($.type==="note"||$.type==="tabNumber")&&(ut=!0),et.add($,at,ut,tt)}}else $.elemset.length>0&&et.add($,$.elemset[0],$.type==="note",tt);if($.klass&&setClass($.elemset,"mark","","#00ff00"),$.hint&&setClass($.elemset,"abcjs-hint","",null),$.abcelem.abselem=$,$.heads&&$.heads.length>0){$.notePositions=[];for(var dt=0;dt<$.heads.length;dt++)$.notePositions.push({x:$.heads[dt].x+$.heads[dt].w/2,y:tt.zero-$.heads[dt].pitch*spacing$3.STEP})}}}var absolute=drawAbsolute$1,drawGlissando=glissando,drawCrescendo=crescendo,drawDynamics=dynamics,drawTriplet=triplet,drawEnding=ending,drawTie=tie,drawBeam=beam,renderText$1=text,drawAbsolute=absolute;function drawVoice$1(b,$,_e,et,tt){var nt=$.w-1;b.staffbottom=$.staff.bottom;var rt=b.foregroundColor;if($.color&&(b.foregroundColor=$.color),$.header){var ot=renderText$1(b,{x:b.padding.left,y:b.calcY($.headerPosition),text:$.header,type:"voicefont",klass:"staff-extra voice-name",anchor:"start",centerVertically:!0,name:"voice-name"},!0);et.wrapSvgEl({el_type:"voiceName",startChar:-1,endChar:-1,text:$.header},ot)}var st,ct,lt=!1;for(st=0;st<$.children.length;st++){ct=$.children[st],(ct.type==="note"||ct.type==="rest")&&(lt=!0);var at=!1;ct.type!=="staff-extra"&&!b.controller.classes.isInMeasure()&&(b.controller.classes.startMeasure(),at=!0),$.staff.isTabStaff&&(ct.invisible=!1,ct.type=="bar"&&ct.abcelem.lastBar&&(_e=$.topLine)),drawAbsolute(b,ct,$.barto||st===$.children.length-1?_e:0,et,tt),(ct.type==="note"||isNonSpacerRest(ct))&&b.controller.classes.incrNote(),ct.type==="bar"&&!at&&lt&&b.controller.classes.incrMeasure()}for(b.controller.classes.startMeasure(),st=0;st<$.beams.length;st++){var it=$.beams[st];it==="bar"?b.controller.classes.incrMeasure():drawBeam(b,it)}for(b.controller.classes.startMeasure(),st=0;st<$.otherchildren.length;st++)if(ct=$.otherchildren[st],ct==="bar")b.controller.classes.incrMeasure();else switch(ct.type){case"GlissandoElem":ct.elemset=drawGlissando(b,ct,et);break;case"CrescendoElem":ct.elemset=drawCrescendo(b,ct,et);break;case"DynamicDecoration":ct.elemset=drawDynamics(b,ct,et);break;case"TripletElem":drawTriplet(b,ct,et);break;case"EndingElem":ct.elemset=drawEnding(b,ct,$.startx+10,nt,et);break;case"TieElem":ct.elemset=drawTie(b,ct,$.startx+10,nt,et);break;default:console.log(ct),drawAbsolute(b,ct,$.startx+10,nt,et)}b.foregroundColor=rt}function isNonSpacerRest(b){return b.type!=="rest"?!1:!!(b.abcelem&&b.abcelem.rest&&b.abcelem.rest.type!=="spacer")}var voice=drawVoice$1,printStaffLine=staffLine;function printStaff$1(b,$,_e,et,tt,nt){var rt="abcjs-top-line",ot=2;tt&&(ot=tt),b.paper.openGroup({prepend:!0,klass:b.controller.classes.generate("abcjs-staff")});var st=0,ct=0;if(et===1)printStaffLine(b,$,_e,6,rt,null,nt+b.lineThickness),st=b.calcY(10),ct=b.calcY(2);else for(var lt=et-1;lt>=0;lt--){var at=(lt+1)*ot;ct=b.calcY(at),st===0&&(st=ct),printStaffLine(b,$,_e,at,rt,null,nt+b.lineThickness),rt=void 0}return b.paper.closeGroup(),[st,ct]}var staff=printStaff$1;function printDebugBox$1(b,$,_e){var et=b.paper.rectBeneath($);return _e&&b.paper.text(_e,{x:0,y:$.y+7,"text-anchor":"start","font-size":"14px",fill:"rgba(0,0,255,.4)",stroke:"rgba(0,0,255,.4)"}),et}var debugBox=printDebugBox$1;function drawSeparator$1(b,$){var _e="rgba(0,0,0,255)",et="rgba(0,0,0,0)",tt=Math.round(b.y),nt=b.controller.width,rt=(nt-$)/2,ot=rt+$,st="M "+rt+" "+tt+" L "+ot+" "+tt+" L "+ot+" "+(tt+1)+" L "+rt+" "+(tt+1)+" L "+rt+" "+tt+" z";b.paper.pathToBack({path:st,stroke:et,fill:_e,class:b.controller.classes.generate("defined-text")})}var separator=drawSeparator$1,drawSeparator=separator,renderText=text;function nonMusic$2(b,$,_e){for(var et=0;et<$.rows.length;et++){var tt=$.rows[et];if(tt.absmove)b.absolutemoveY(tt.absmove);else if(tt.move)b.moveY(tt.move);else if(tt.text||tt.phrases){var nt=tt.left?tt.left:0,rt=renderText(b,{x:nt,y:b.y,text:tt.text,phrases:tt.phrases,"dominant-baseline":tt["dominant-baseline"],type:tt.font,klass:tt.klass,name:tt.name,anchor:tt.anchor});tt.absElemType&&_e.wrapSvgEl({el_type:tt.absElemType,name:tt.name,startChar:tt.startChar,endChar:tt.endChar,text:tt.text},rt)}else if(tt.separator)drawSeparator(b,tt.separator);else if(tt.startGroup)b.paper.openGroup({klass:tt.klass,"data-name":tt.name});else if(tt.endGroup){var ot=b.paper.closeGroup();tt.absElemType&&_e.wrapSvgEl({el_type:tt.absElemType,name:tt.name,startChar:tt.startChar,endChar:tt.endChar,text:""},ot)}}}var nonMusic_1=nonMusic$2,spacing$2=spacing_1,drawBrace=brace,drawVoice=voice,printStaff=staff,printDebugBox=debugBox,printStem=printStem_1,nonMusic$1=nonMusic_1;function drawStaffGroup$1(b,$,_e,et){for(var tt,nt=b.y,rt=0;rt<$.staffs.length;rt++){var ot=$.staffs[rt];b.moveY(spacing$2.STEP,ot.top),ot.absoluteY=b.y,b.showDebug&&(b.showDebug.indexOf("box")>=0&&ot.voices&&boxAllElements(b,$.voices,ot.voices),b.showDebug.indexOf("grid")>=0&&(b.paper.dottedLine({x1:b.padding.left,x2:b.padding.left+b.controller.width,y1:nt,y2:nt,stroke:"#0000ff"}),printDebugBox(b,{x:b.padding.left,y:b.calcY(ot.originalTop),width:b.controller.width,height:b.calcY(ot.originalBottom)-b.calcY(ot.originalTop),fill:b.foregroundColor,stroke:b.foregroundColor,"fill-opacity":.1,"stroke-opacity":.1}),tt=0,vt(ot,"chordHeightAbove"),vt(ot,"chordHeightBelow"),vt(ot,"dynamicHeightAbove"),vt(ot,"dynamicHeightBelow"),vt(ot,"endingHeightAbove"),vt(ot,"lyricHeightAbove"),vt(ot,"lyricHeightBelow"),vt(ot,"partHeightAbove"),vt(ot,"tempoHeightAbove"),vt(ot,"volumeHeightAbove"),vt(ot,"volumeHeightBelow"))),b.moveY(spacing$2.STEP,-ot.bottom),b.showDebug&&b.showDebug.indexOf("grid")>=0&&b.paper.dottedLine({x1:b.padding.left,x2:b.padding.left+b.controller.width,y1:b.y,y2:b.y,stroke:"#0000aa"})}for(var st,ct,lt=2,at=0,it=0;it<$.voices.length;it++){var ut=$.voices[it].staff,dt=$.voices[it].tabNameInfos;if(b.y=ut.absoluteY,b.controller.classes.incrVoice(),!$.voices[it].duplicate){if(st||(st=b.calcY(10)),ct=b.calcY(lt),ut.lines!==0){ut.linePitch&&(lt=ut.linePitch),b.controller.classes.newMeasure();var ht=printStaff(b,$.startx,$.w,ut.lines,ut.linePitch,.35);ct=ht[1],ut.bottomLine=ct,ut.topLine=ht[0],ut.hasTab&&(at=ut.topLine),ut.hasStaff&&(at=ut.hasStaff.topLine,$.voices[it].barto=!0,$.voices[it].topLine=st)}printBrace(b,ut.absoluteY,$.brace,it,_e),printBrace(b,ut.absoluteY,$.bracket,it,_e)}drawVoice(b,$.voices[it],at,_e,{top:nt,zero:b.y,height:$.height*spacing$2.STEP});var ft=0;if(dt){var pt={rows:[]};pt.rows.push({absmove:ct+2});var mt=8;pt.rows.push({left:$.startx+mt,text:dt.name,font:"tablabelfont",klass:"text instrument-name",anchor:"start"}),pt.rows.push({move:dt.textSize.height}),nonMusic$1(b,pt),ft=dt.textSize.height}b.controller.classes.newMeasure(),$.voices[it].duplicate||(at=b.calcY(2+ft))}b.controller.classes.newMeasure();var gt=$.staffs.length;gt>1&&(st=$.staffs[0].topLine,ct=$.staffs[gt-1].bottomLine,printStem(b,$.startx,.6,st,ct,null)),b.y=nt;function vt(yt,bt){var xt=["rgb(207,27,36)","rgb(168,214,80)","rgb(110,161,224)","rgb(191,119,218)","rgb(195,30,151)","rgb(31,170,177)","rgb(220,166,142)"];if(yt.positionY&&yt.positionY[bt]){var _t=yt.specialY[bt]*spacing$2.STEP;bt==="chordHeightAbove"&&yt.specialY.chordLines&&yt.specialY.chordLines.above&&(_t*=yt.specialY.chordLines.above),bt==="chordHeightBelow"&&yt.specialY.chordLines&&yt.specialY.chordLines.below&&(_t*=yt.specialY.chordLines.below),printDebugBox(b,{x:b.padding.left,y:b.calcY(yt.positionY[bt]),width:b.controller.width,height:_t,fill:xt[tt],stroke:xt[tt],"fill-opacity":.4,"stroke-opacity":.4},bt.substr(0,4)),tt+=1,tt>6&&(tt=0)}}}function printBrace(b,$,_e,et,tt){if(_e)for(var nt=0;nt<_e.length;nt++)_e[nt].isStartVoice(et)&&(_e[nt].startY=$-spacing$2.STEP*10,_e[nt].elemset=drawBrace(b,_e[nt],tt))}function boxAllElements(b,$,_e){for(var et=0;et<_e.length;et++)for(var tt=$[_e[et]].children,nt=0;nt<tt.length;nt++){var rt=tt[nt],ot=rt.getFixedCoords();if(!(rt.invisible||ot.t===void 0||ot.b===void 0)){var st=(ot.t-ot.b)*spacing$2.STEP;printDebugBox(b,{x:ot.x,y:b.calcY(ot.t),width:ot.w,height:st,fill:"#88e888","fill-opacity":.4,stroke:"#4aa93d","stroke-opacity":.8});for(var ct=0;ct<rt.children.length;ct++){var lt=rt.children[ct],at=lt.getChordDim();if(at){var it=b.calcY(lt.pitch);it+=lt.dim.font.size*lt.getLane(),printDebugBox(b,{x:at.left,y:it,width:at.right-at.left,height:lt.dim.font.size,fill:"none",stroke:"#4aa93d","stroke-opacity":.8})}}}}}var staffGroup=drawStaffGroup$1;function setPaperSize$1(b,$,_e,et){var tt=($+b.padding.left+b.padding.right)*_e,nt=(b.y+b.padding.bottom)*_e;if(b.isPrint&&(nt=Math.max(nt,1056)),b.ariaLabel!==""){var rt="Sheet Music";b.abctune&&b.abctune.metaText&&b.abctune.metaText.title&&(rt+=' for "'+b.abctune.metaText.title+'"'),b.paper.setTitle(rt);var ot=b.ariaLabel?b.ariaLabel:rt;b.paper.setAttribute("aria-label",ot)}var st=["-webkit-touch-callout: none;","-webkit-user-select: none;","-khtml-user-select: none;","-moz-user-select: none;","-ms-user-select: none;","user-select: none;"];b.paper.insertStyles(".abcjs-dragging-in-progress text, .abcjs-dragging-in-progress tspan {"+st.join(" ")+"}");var ct={overflow:"hidden"};et==="resize"?b.paper.setResponsiveWidth(tt,nt):(ct.width="",ct.height=nt+"px",_e<1?(ct.width=tt+"px",b.paper.setSize(tt/_e,nt/_e)):b.paper.setSize(tt,nt)),b.paper.setScale(_e),b.paper.setParentStyles(ct)}var setPaperSize_1=setPaperSize$1,highlight=highlight_1,unhighlight=unhighlight_1;function Selectables$1(b,$,_e){this.elements=[],this.paper=b,this.tuneNumber=_e,this.selectTypes=$}Selectables$1.prototype.getElements=function(){return this.elements};Selectables$1.prototype.add=function(b,$,_e,et){if(this.canSelect(b)){var tt;this.selectTypes===void 0?tt={selectable:!1,"data-index":this.elements.length}:tt={selectable:!0,tabindex:0,"data-index":this.elements.length},this.paper.setAttributeOnElement($,tt);var nt={absEl:b,svgEl:$,isDraggable:_e};et!==void 0&&(nt.staffPos=et),this.elements.push(nt)}};Selectables$1.prototype.canSelect=function(b){return this.selectTypes===!1||!b||!b.abcelem?!1:this.selectTypes===!0?!0:this.selectTypes===void 0?b.abcelem.el_type==="note"||b.abcelem.el_type==="tabNumber":this.selectTypes.indexOf(b.abcelem.el_type)>=0};Selectables$1.prototype.wrapSvgEl=function(b,$){var _e={tuneNumber:this.tuneNumber,abcelem:b,elemset:[$],highlight,unhighlight};this.add(_e,$,!1)};var selectables=Selectables$1,drawStaffGroup=staffGroup,setPaperSize=setPaperSize_1,nonMusic=nonMusic_1,spacing$1=spacing_1,Selectables=selectables;function draw$1(b,$,_e,et,tt,nt,rt,ot,st,ct){var lt=new Selectables(b.paper,ot,st),at={};$.shouldAddClasses&&(at.klass="abcjs-meta-top"),b.paper.openGroup(at),b.moveY(b.padding.top),nonMusic(b,_e.topText,lt),b.paper.closeGroup(),b.moveY(b.spacing.music);for(var it=[],ut=0;ut<_e.lines.length;ut++){$.incrLine();var dt=_e.lines[ut];if(dt.staff){$.shouldAddClasses&&(at.klass="abcjs-staff l"+$.lineNumber),b.paper.openGroup(at),dt.vskip&&b.moveY(dt.vskip),it.length>=1&&addStaffPadding(b,b.spacing.staffSeparation,it[it.length-1],dt.staffGroup);var ht=engraveStaffLine(b,dt.staffGroup,lt);ht.line=ct+ut,it.push(ht),b.paper.closeGroup()}else dt.nonMusic&&($.shouldAddClasses&&(at.klass="abcjs-non-music"),b.paper.openGroup(at),nonMusic(b,dt.nonMusic,lt),b.paper.closeGroup())}return $.reset(),_e.bottomText&&_e.bottomText.rows&&_e.bottomText.rows.length>0&&($.shouldAddClasses&&(at.klass="abcjs-meta-bottom"),b.paper.openGroup(at),b.moveY(24),nonMusic(b,_e.bottomText,lt),b.paper.closeGroup()),setPaperSize(b,tt,rt,nt),{staffgroups:it,selectables:lt.getElements()}}function engraveStaffLine(b,$,_e,et){drawStaffGroup(b,$,_e);var tt=$.height*spacing$1.STEP;return b.y+=tt,$}function addStaffPadding(b,$,_e,et){var tt=_e.staffs[_e.staffs.length-1],nt=-(tt.bottom-2),rt=et.staffs[0].top-10,ot=rt+nt,st=ot*spacing$1.STEP;st<$&&b.moveY($-st)}var draw_1=draw$1,spacing=spacing_1,AbstractEngraver=abstractEngraver,Renderer=renderer,FreeText=freeText,Separator=separator$1,Subtitle=subtitle,TopText=topText,BottomText=bottomText,setupSelection=selection,layout=layout_1,Classes=classes,GetFontAndAttr=getFontAndAttr,GetTextSize=getTextSize,draw=draw_1,tablatures=abc_tablatures,EngraverController$1=function(b,$){$=$||{},this.oneSvgPerLine=$.oneSvgPerLine,this.selectionColor=$.selectionColor,this.dragColor=$.dragColor?$.dragColor:$.selectionColor,this.dragging=!!$.dragging,this.selectTypes=$.selectTypes,this.responsive=$.responsive,this.space=3*spacing.SPACE,this.initialClef=$.initialClef,this.expandToWidest=!!$.expandToWidest,this.scale=$.scale?parseFloat($.scale):0,this.classes=new Classes({shouldAddClasses:$.add_classes}),this.scale>.1||(this.scale=void 0),$.staffwidth?(this.staffwidthScreen=$.staffwidth,this.staffwidthPrint=$.staffwidth):(this.staffwidthScreen=740,this.staffwidthPrint=680),this.listeners=[],$.clickListener&&this.addSelectListener($.clickListener),this.renderer=new Renderer(b),this.renderer.setPaddingOverride($),$.showDebug&&(this.renderer.showDebug=$.showDebug),$.jazzchords&&(this.jazzchords=$.jazzchords),$.accentAbove&&(this.accentAbove=$.accentAbove),$.germanAlphabet&&(this.germanAlphabet=$.germanAlphabet),$.lineThickness&&(this.lineThickness=$.lineThickness),this.renderer.controller=this,this.renderer.foregroundColor=$.foregroundColor?$.foregroundColor:"currentColor",$.ariaLabel!==void 0&&(this.renderer.ariaLabel=$.ariaLabel),this.renderer.minPadding=$.minPadding?$.minPadding:0,this.reset()};EngraverController$1.prototype.reset=function(){this.selected=[],this.staffgroups=[],this.engraver&&this.engraver.reset(),this.engraver=null,this.renderer.reset(),this.dragTarget=null,this.dragIndex=-1,this.dragMouseStart={x:-1,y:-1},this.dragYStep=0,this.lineThickness&&this.renderer.setLineThickness(this.lineThickness)};EngraverController$1.prototype.engraveABC=function(b,$,_e){b[0]===void 0&&(b=[b]),this.reset();for(var et=0;et<b.length;et++)$===void 0&&($=et),this.getFontAndAttr=new GetFontAndAttr(b[et].formatting,this.classes),this.getTextSize=new GetTextSize(this.getFontAndAttr,this.renderer.paper),this.engraveTune(b[et],$,_e)};EngraverController$1.prototype.adjustNonScaledItems=function(b){this.width/=b,this.renderer.adjustNonScaledItems(b)};EngraverController$1.prototype.getMeasureWidths=function(b){this.reset(),this.getFontAndAttr=new GetFontAndAttr(b.formatting,this.classes),this.getTextSize=new GetTextSize(this.getFontAndAttr,this.renderer.paper);var $=this.jazzchords;this.setupTune(b,0),this.constructTuneElements(b),layout(this.renderer,b,0,this.space);for(var _e=[],et,tt=!0,nt=0;nt<b.lines.length;nt++){var rt=b.lines[nt];if(rt.staff){if(tt&&(et={left:0,measureWidths:[],total:0},_e.push(et),tt=!1),rt.staffGroup.voices.length>0)for(var ot=rt.staffGroup.voices[0],st=!1,ct=0,lt=0;lt<ot.children.length;lt++){var at=ot.children[lt];!st&&!at.isClef&&!at.isKeySig&&(st=!0,et.left=at.x,ct=at.x),at.type==="bar"&&(et.measureWidths.push(at.x-ct),et.total+=at.x-ct,ct=at.x)}}else tt=!0}return this.jazzchords=$,_e};EngraverController$1.prototype.setupTune=function(b,$){this.classes.reset(),b.formatting.jazzchords!==void 0&&(this.jazzchords=b.formatting.jazzchords),b.formatting.accentAbove!==void 0&&(this.accentAbove=b.formatting.accentAbove),this.renderer.newTune(b),this.engraver=new AbstractEngraver(this.getTextSize,$,{bagpipes:b.formatting.bagpipes,flatbeams:b.formatting.flatbeams,graceSlurs:b.formatting.graceSlurs!==!1,percmap:b.formatting.percmap,initialClef:this.initialClef,jazzchords:this.jazzchords,accentAbove:this.accentAbove,germanAlphabet:this.germanAlphabet}),this.engraver.setStemHeight(this.renderer.spacing.stemHeight),this.engraver.measureLength=b.getMeterFraction().num/b.getMeterFraction().den,b.formatting.staffwidth?this.width=b.formatting.staffwidth*1.33:this.width=this.renderer.isPrint?this.staffwidthPrint:this.staffwidthScreen;var _e=b.formatting.scale?b.formatting.scale:this.scale;return this.responsive==="resize"&&(_e=void 0),_e===void 0&&(_e=this.renderer.isPrint?.75:1),this.adjustNonScaledItems(_e),_e};EngraverController$1.prototype.constructTuneElements=function(b){b.topText=new TopText(b.metaText,b.metaTextInfo,b.formatting,b.lines,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize);var $,_e,et=!1,tt=!1;for($=0;$<b.lines.length;$++)if(_e=b.lines[$],_e.staff)tt=!0,_e.staffGroup=this.engraver.createABCLine(_e.staff,et?null:b.metaText.tempo,$),et=!0;else if(_e.subtitle){if(tt){var nt=this.width/2+this.renderer.padding.left;_e.nonMusic=new Subtitle(this.renderer.spacing.subtitle,b.formatting,_e.subtitle,nt,this.renderer.padding.left,this.getTextSize)}}else _e.text!==void 0?(tt=!0,_e.nonMusic=new FreeText(_e.text,_e.vskip,this.getFontAndAttr,this.renderer.padding.left,this.width,this.getTextSize)):_e.separator!==void 0&&_e.separator.lineLength&&(tt=!0,_e.nonMusic=new Separator(_e.separator.spaceAbove,_e.separator.lineLength,_e.separator.spaceBelow));b.bottomText=new BottomText(b.metaText,this.width,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize)};EngraverController$1.prototype.engraveTune=function(b,$,_e){var et=this.jazzchords,tt=this.setupTune(b,$);this.constructTuneElements(b);var nt=layout(this.renderer,b,this.width,this.space,this.expandToWidest);if(this.expandToWidest&&nt>this.width+1&&(b.topText=new TopText(b.metaText,b.metaTextInfo,b.formatting,b.lines,nt,this.renderer.isPrint,this.renderer.padding.left,this.renderer.spacing,this.classes.shouldAddClasses,this.getTextSize),b.lines&&b.lines.length>0))for(var rt=b.lines.length,ot=0;ot<rt;++ot){var st=b.lines[ot];if(st.nonMusic&&st.nonMusic.rows&&st.nonMusic.rows.length>0)for(var ct=st.nonMusic.rows.length,lt=0;lt<ct;++lt){var at=st.nonMusic.rows[lt];at.left&&(st.subtitle?at.left=nt/2+this.renderer.padding.left:st.text&&st.text.length>0&&st.text[0].center&&(at.left=nt/2+this.renderer.padding.left))}}b.tablatures&&tablatures.layoutTablatures(this.renderer,b);var it=draw(this.renderer,this.classes,b,this.width,nt,this.responsive,tt,this.selectTypes,$,_e);if(this.staffgroups=it.staffgroups,this.selectables=it.selectables,this.oneSvgPerLine){var ut=this.renderer.paper.svg.parentNode;this.svgs=splitSvgIntoLines(this.renderer,ut,b.metaText.title,this.responsive)}else this.svgs=[this.renderer.paper.svg];setupSelection(this,this.svgs),this.jazzchords=et};function splitSvgIntoLines(b,$,_e,et){_e||(_e="Untitled");var tt=$.querySelector("svg");et==="resize"&&($.style.paddingBottom="");for(var nt=tt.querySelector("style"),rt=et==="resize"?tt.viewBox.baseVal.width:tt.getAttribute("width"),ot=$.querySelectorAll("svg > g"),st=0,ct=[],lt=0;lt<ot.length;lt++){var at=ot[lt],it=at.getBBox(),ut=it.y-st,dt=it.height+ut,ht=document.createElement("div"),ft="overflow: hidden;";et!=="resize"&&(ft+="height:"+dt+"px;"),ht.setAttribute("style",ft);var pt=duplicateSvg(tt),mt='Sheet Music for "'+_e+'" section '+(lt+1);pt.setAttribute("aria-label",mt),et!=="resize"&&pt.setAttribute("height",dt),et==="resize"&&(pt.style.position="");var gt=b.firefox112?dt+1:dt;pt.setAttribute("viewBox","0 "+st+" "+rt+" "+gt),pt.appendChild(nt.cloneNode(!0));var vt=document.createElement("title");vt.innerText=mt,pt.appendChild(vt),pt.appendChild(at),ht.appendChild(pt),ct.push(pt),$.appendChild(ht),st=it.y+it.height}return $.removeChild(tt),ct}function duplicateSvg(b){for(var $="http://www.w3.org/2000/svg",_e=document.createElementNS($,"svg"),et=0;et<b.attributes.length;et++){var tt=b.attributes[et];tt.name!=="height"&&tt.name!="aria-label"&&_e.setAttribute(tt.name,tt.value)}return _e}EngraverController$1.prototype.getDim=function(b){if(!b.dim){var $=b.svgEl.getBBox();b.dim={left:Math.round($.x),top:Math.round($.y),right:Math.round($.x+$.width),bottom:Math.round($.y+$.height)}}return b.dim};EngraverController$1.prototype.addSelectListener=function(b){this.listeners[this.listeners.length]=b};var engraverController=EngraverController$1,tunebook$1=abc_tunebook,EngraverController=engraverController,Parse=abc_parse,wrap=wrap_lines,resizeDivs={};function resizeOuter(){var b=window.innerWidth;for(var $ in resizeDivs)if(resizeDivs.hasOwnProperty($)){var _e=resizeDivs[$],et=_e.offsetLeft;b-=et*2,_e.style.width=b+"px"}}try{window.addEventListener("resize",resizeOuter),window.addEventListener("orientationChange",resizeOuter)}catch(b){}function renderOne(b,$,_e,et,tt){_e.viewportHorizontal?(b.innerHTML='<div class="abcjs-inner"></div>',_e.scrollHorizontal?(b.style.overflowX="auto",b.style.overflowY="hidden"):b.style.overflow="hidden",resizeDivs[b.id]=b,b=b.children[0]):_e.viewportVertical?(b.innerHTML='<div class="abcjs-inner scroll-amount"></div>',b.style.overflowX="hidden",b.style.overflowY="auto",b=b.children[0]):b.innerHTML="";var nt=new EngraverController(b,_e);if(nt.engraveABC($,et,tt),$.engraver=nt,_e.viewportVertical||_e.viewportHorizontal){var rt=b.parentNode;rt.style.width=b.style.width}}var renderAbc$1=function(b,$,_e,et,tt){var nt={},rt;if(_e){for(rt in _e)_e.hasOwnProperty(rt)&&(nt[rt]=_e[rt]);nt.warnings_id&&nt.tablature&&(nt.tablature.warning_id=nt.warnings_id)}if(et)for(rt in et)et.hasOwnProperty(rt)&&(rt==="listener"?et[rt].highlight&&(nt.clickListener=et[rt].highlight):nt[rt]=et[rt]);if(tt)for(rt in tt)tt.hasOwnProperty(rt)&&(nt[rt]=tt[rt]);function ot(st,ct,lt,at){var it=!1;return st==="*"&&(it=!0,st=document.createElement("div"),st.setAttribute("style","visibility: hidden;"),document.body.appendChild(st)),!it&&nt.wrap&&nt.staffwidth?(ct=doLineWrapping(st,ct,lt,at,nt),ct):(nt.afterParsing&&nt.afterParsing(ct,lt,at),renderOne(st,ct,nt,lt,0),it&&st.parentNode.removeChild(st),null)}return tunebook$1.renderEngine(ot,b,$,nt)};function doLineWrapping(b,$,_e,et,tt){var nt=new EngraverController(b,tt),rt=nt.getMeasureWidths($),ot=wrap.calcLineWraps($,rt,tt);if(ot.reParse){var st=new Parse;st.parse(et,ot.revisedParams),$=st.getTune();var ct=st.getWarnings();ct&&($.warnings=ct)}return tt.afterParsing&&tt.afterParsing($,_e,et),renderOne(b,$,ot.revisedParams,_e,0),$.explanation=ot.explanation,$}var abc_tunebook_svg=renderAbc$1,soundsCache$3={},soundsCache_1=soundsCache$3,soundsCache$2=soundsCache_1,getNote$1=function(b,$,_e,et){soundsCache$2[$]||(soundsCache$2[$]={});var tt=soundsCache$2[$];return tt[_e]||(tt[_e]=new Promise(function(nt,rt){var ot=new XMLHttpRequest;let st=b+$+"-mp3/"+_e+".mp3";ot.open("GET",st,!0),ot.responseType="arraybuffer",ot.onload=function(){if(ot.status!==200){rt(Error("Can't load sound at "+st+" status="+ot.status));return}var ct=function(at){nt({instrument:$,name:_e,status:"loaded",audioBuffer:at})},lt=et.decodeAudioData(ot.response,ct,function(){rt(Error("Can't decode sound at "+st))});lt&&typeof lt.catch=="function"&&lt.catch(rt)},ot.onerror=function(){rt(Error("Can't load sound at "+st))},ot.send()}).catch(nt=>{throw console.error("Didn't load note",$,_e,":",nt.message),nt})),tt[_e]},loadNote=getNote$1,instrumentIndexToName$3=["acoustic_grand_piano","bright_acoustic_piano","electric_grand_piano","honkytonk_piano","electric_piano_1","electric_piano_2","harpsichord","clavinet","celesta","glockenspiel","music_box","vibraphone","marimba","xylophone","tubular_bells","dulcimer","drawbar_organ","percussive_organ","rock_organ","church_organ","reed_organ","accordion","harmonica","tango_accordion","acoustic_guitar_nylon","acoustic_guitar_steel","electric_guitar_jazz","electric_guitar_clean","electric_guitar_muted","overdriven_guitar","distortion_guitar","guitar_harmonics","acoustic_bass","electric_bass_finger","electric_bass_pick","fretless_bass","slap_bass_1","slap_bass_2","synth_bass_1","synth_bass_2","violin","viola","cello","contrabass","tremolo_strings","pizzicato_strings","orchestral_harp","timpani","string_ensemble_1","string_ensemble_2","synth_strings_1","synth_strings_2","choir_aahs","voice_oohs","synth_choir","orchestra_hit","trumpet","trombone","tuba","muted_trumpet","french_horn","brass_section","synth_brass_1","synth_brass_2","soprano_sax","alto_sax","tenor_sax","baritone_sax","oboe","english_horn","bassoon","clarinet","piccolo","flute","recorder","pan_flute","blown_bottle","shakuhachi","whistle","ocarina","lead_1_square","lead_2_sawtooth","lead_3_calliope","lead_4_chiff","lead_5_charang","lead_6_voice","lead_7_fifths","lead_8_bass_lead","pad_1_new_age","pad_2_warm","pad_3_polysynth","pad_4_choir","pad_5_bowed","pad_6_metallic","pad_7_halo","pad_8_sweep","fx_1_rain","fx_2_soundtrack","fx_3_crystal","fx_4_atmosphere","fx_5_brightness","fx_6_goblins","fx_7_echoes","fx_8_scifi","sitar","banjo","shamisen","koto","kalimba","bagpipe","fiddle","shanai","tinkle_bell","agogo","steel_drums","woodblock","taiko_drum","melodic_tom","synth_drum","reverse_cymbal","guitar_fret_noise","breath_noise","seashore","bird_tweet","telephone_ring","helicopter","applause","gunshot","percussion"],instrumentIndexToName_1=instrumentIndexToName$3,instrumentIndexToName$2=instrumentIndexToName_1,createNoteMap$1=function(b){for(var $=[],_e=0;_e<b.tracks.length;_e++)$.push([]);var et=instrumentIndexToName$2[0];return b.tracks.forEach(function(tt,nt){tt.forEach(function(rt){switch(rt.cmd){case"note":if(rt.duration>0){var ot=rt.gap?rt.gap:0,st=rt.duration;ot=Math.min(ot,st*2/3);var ct={pitch:rt.pitch,instrument:et,start:Math.round(rt.start*1e6)/1e6,end:Math.round((rt.start+st-ot)*1e6)/1e6,volume:rt.volume};rt.startChar&&(ct.startChar=rt.startChar),rt.endChar&&(ct.endChar=rt.endChar),rt.style&&(ct.style=rt.style),rt.cents&&(ct.cents=rt.cents),$[nt].push(ct)}break;case"program":et=instrumentIndexToName$2[rt.instrument];break;case"text":break;default:console.log("Unhandled midi event",rt)}})}),$},createNoteMap_1=createNoteMap$1;function registerAudioContext$4(b){if(b)window.abcjsAudioContext=b;else if(!window.abcjsAudioContext){var $=window.AudioContext||window.webkitAudioContext;if($)window.abcjsAudioContext=new $;else return!1}return window.abcjsAudioContext.state!=="suspended"}var registerAudioContext_1=registerAudioContext$4,registerAudioContext$3=registerAudioContext_1;function activeAudioContext$6(){return window.abcjsAudioContext||registerAudioContext$3(),window.abcjsAudioContext}var activeAudioContext_1=activeAudioContext$6,activeAudioContext$5=activeAudioContext_1;function supportsAudio$4(){if(!window.Promise||!window.AudioContext&&!window.webkitAudioContext&&!navigator.mozAudioContext&&!navigator.msAudioContext)return!1;var b=activeAudioContext$5();if(b)return b.resume!==void 0}var supportsAudio_1=supportsAudio$4,pitchToNoteName$3={21:"A0",22:"Bb0",23:"B0",24:"C1",25:"Db1",26:"D1",27:"Eb1",28:"E1",29:"F1",30:"Gb1",31:"G1",32:"Ab1",33:"A1",34:"Bb1",35:"B1",36:"C2",37:"Db2",38:"D2",39:"Eb2",40:"E2",41:"F2",42:"Gb2",43:"G2",44:"Ab2",45:"A2",46:"Bb2",47:"B2",48:"C3",49:"Db3",50:"D3",51:"Eb3",52:"E3",53:"F3",54:"Gb3",55:"G3",56:"Ab3",57:"A3",58:"Bb3",59:"B3",60:"C4",61:"Db4",62:"D4",63:"Eb4",64:"E4",65:"F4",66:"Gb4",67:"G4",68:"Ab4",69:"A4",70:"Bb4",71:"B4",72:"C5",73:"Db5",74:"D5",75:"Eb5",76:"E5",77:"F5",78:"Gb5",79:"G5",80:"Ab5",81:"A5",82:"Bb5",83:"B5",84:"C6",85:"Db6",86:"D6",87:"Eb6",88:"E6",89:"F6",90:"Gb6",91:"G6",92:"Ab6",93:"A6",94:"Bb6",95:"B6",96:"C7",97:"Db7",98:"D7",99:"Eb7",100:"E7",101:"F7",102:"Gb7",103:"G7",104:"Ab7",105:"A7",106:"Bb7",107:"B7",108:"C8",109:"Db8",110:"D8",111:"Eb8",112:"E8",113:"F8",114:"Gb8",115:"G8",116:"Ab8",117:"A8",118:"Bb8",119:"B8",120:"C9",121:"Db9"},pitchToNoteName_1=pitchToNoteName$3,downloadBuffer$1=function(b){return window.URL.createObjectURL(bufferToWave(b.audioBuffers))};function bufferToWave(b){var $=b[0],_e=$.numberOfChannels,et=$.length*_e*2+44,tt=new ArrayBuffer(et),nt=new DataView(tt),rt=[],ot,st,ct=0,lt=0;for(it(1179011410),it(et-8),it(1163280727),it(544501094),it(16),at(1),at(_e),it($.sampleRate),it($.sampleRate*2*_e),at(_e*2),at(16),it(1635017060),it(et-lt-4),ot=0;ot<_e;ot++)rt.push($.getChannelData(ot));for(;lt<et;){for(ot=0;ot<rt.length;ot++)st=Math.max(-1,Math.min(1,rt[ot][ct])),st=(.5+st<0?st*32768:st*32767)|0,nt.setInt16(lt,st,!0),lt+=2;ct++}return new Blob([tt],{type:"audio/wav"});function at(ut){nt.setUint16(lt,ut,!0),lt+=2}function it(ut){nt.setUint32(lt,ut,!0),lt+=4}}var downloadBuffer_1=downloadBuffer$1;function centsToFactor$2(b){return Math.pow(2,b/1200)}var centsToFactor_1=centsToFactor$2,soundsCache$1=soundsCache_1,pitchToNoteName$2=pitchToNoteName_1,centsToFactor$1=centsToFactor_1;function placeNote$1(b,$,_e,et,tt,nt,rt,ot,st){var ct=window.OfflineAudioContext||window.webkitOfflineAudioContext,lt=_e.len*_e.tempoMultiplier;nt&&(lt+=nt/1e3),lt-=ot,lt<0&&(lt=.005);var at=new ct(2,Math.floor((lt+rt)*$),$),it=pitchToNoteName$2[_e.pitch];if(!soundsCache$1[_e.instrument])return st&&st("placeNote skipped (instrument empty): "+_e.instrument+":"+it),Promise.resolve();var ut=soundsCache$1[_e.instrument][it];return ut?ut.then(function(dt){var ht=at.createBufferSource();ht.buffer=dt.audioBuffer;var ft=_e.volume/96*tt;ht.gainNode=at.createGain(),_e.pan&&at.createStereoPanner&&(ht.panNode=at.createStereoPanner(),ht.panNode.pan.setValueAtTime(_e.pan,0)),ht.gainNode.gain.value=ft,ht.gainNode.gain.linearRampToValueAtTime(ht.gainNode.gain.value,lt),ht.gainNode.gain.linearRampToValueAtTime(0,lt+rt),_e.cents&&(ht.playbackRate.value=centsToFactor$1(_e.cents)),ht.panNode?(ht.panNode.connect(at.destination),ht.gainNode.connect(ht.panNode)):ht.gainNode.connect(at.destination),ht.connect(ht.gainNode),ht.start(0),ht.noteOff?ht.noteOff(lt+rt):ht.stop(lt+rt);var pt;return at.oncomplete=function(mt){if(mt.renderedBuffer&&mt.renderedBuffer.getChannelData)for(var gt=0;gt<et.length;gt++){var vt=et[gt]*_e.tempoMultiplier;nt&&(vt-=nt/1e3),vt<0&&(vt=0),vt=Math.floor(vt*$),copyToChannel(b,mt.renderedBuffer,vt)}st&&st("placeNote: "+_e.instrument+":"+it),pt()},at.startRendering(),new Promise(function(mt){pt=mt})}).catch(function(dt){return st&&st("placeNote catch: "+dt.message),Promise.resolve()}):(st&&st("placeNote skipped: "+_e.instrument+":"+it),Promise.resolve())}var copyToChannel=function(b,$,_e){for(var et=0;et<2;et++)for(var tt=$.getChannelData(et),nt=b.getChannelData(et),rt=0;rt<tt.length;rt++)nt[rt+_e]+=tt[rt]},placeNote_1=placeNote$1,getNote=loadNote,createNoteMap=createNoteMap_1,registerAudioContext$2=registerAudioContext_1,activeAudioContext$4=activeAudioContext_1,supportsAudio$3=supportsAudio_1,pitchToNoteName$1=pitchToNoteName_1,instrumentIndexToName$1=instrumentIndexToName_1,downloadBuffer=downloadBuffer_1,placeNote=placeNote_1,soundsCache=soundsCache_1,notSupportedMessage="MIDI is not supported in this browser.",originalSoundFontUrl="https://paulrosen.github.io/midi-js-soundfonts/abcjs/",defaultSoundFontUrl="https://paulrosen.github.io/midi-js-soundfonts/FluidR3_GM/",alternateSoundFontUrl="https://paulrosen.github.io/midi-js-soundfonts/MusyngKite/";function CreateSynth$3(){var b=this;b.audioBufferPossible=void 0,b.directSource=[],b.startTimeSec=void 0,b.pausedTimeSec=void 0,b.audioBuffers=[],b.duration=void 0,b.isRunning=!1,b.init=function(_e){_e||(_e={}),registerAudioContext$2(_e.audioContext);var et=activeAudioContext$4().currentTime;if(b.debugCallback=_e.debugCallback,b.debugCallback&&b.debugCallback("init called"),b.audioBufferPossible=b._deviceCapable(),!b.audioBufferPossible)return Promise.reject({status:"NotSupported",message:notSupportedMessage});var tt=_e.options?_e.options:{};b.soundFontUrl=tt.soundFontUrl?tt.soundFontUrl:defaultSoundFontUrl,b.soundFontUrl[b.soundFontUrl.length-1]!=="/"&&(b.soundFontUrl+="/"),tt.soundFontVolumeMultiplier||tt.soundFontVolumeMultiplier===0?b.soundFontVolumeMultiplier=tt.soundFontVolumeMultiplier:b.soundFontUrl===defaultSoundFontUrl||b.soundFontUrl===alternateSoundFontUrl?b.soundFontVolumeMultiplier=3:b.soundFontUrl===originalSoundFontUrl?b.soundFontVolumeMultiplier=.4:b.soundFontVolumeMultiplier=1,tt.programOffsets?b.programOffsets=tt.programOffsets:b.soundFontUrl===originalSoundFontUrl?b.programOffsets={bright_acoustic_piano:20,honkytonk_piano:20,electric_piano_1:30,electric_piano_2:30,harpsichord:40,clavinet:20,celesta:20,glockenspiel:40,vibraphone:30,marimba:35,xylophone:30,tubular_bells:35,dulcimer:30,drawbar_organ:20,percussive_organ:25,rock_organ:20,church_organ:40,reed_organ:40,accordion:40,harmonica:40,acoustic_guitar_nylon:20,acoustic_guitar_steel:30,electric_guitar_jazz:25,electric_guitar_clean:15,electric_guitar_muted:35,overdriven_guitar:25,distortion_guitar:20,guitar_harmonics:30,electric_bass_finger:15,electric_bass_pick:30,fretless_bass:40,violin:105,viola:50,cello:40,contrabass:60,trumpet:10,trombone:90,alto_sax:20,tenor_sax:20,clarinet:20,flute:50,banjo:50,woodblock:20}:b.programOffsets={};var nt=tt.fadeLength!==void 0?parseInt(tt.fadeLength,10):NaN;if(b.fadeLength=isNaN(nt)?200:nt,nt=tt.noteEnd!==void 0?parseInt(tt.noteEnd,10):NaN,b.noteEnd=isNaN(nt)?0:nt,b.pan=tt.pan,b.meterSize=1,_e.visualObj){b.flattened=_e.visualObj.setUpAudio(tt);var rt=_e.visualObj.getMeterFraction();rt.den&&(b.meterSize=_e.visualObj.getMeterFraction().num/_e.visualObj.getMeterFraction().den)}else if(_e.sequence)b.flattened=_e.sequence;else return Promise.reject(new Error("Must pass in either a visualObj or a sequence"));b.millisecondsPerMeasure=_e.millisecondsPerMeasure?_e.millisecondsPerMeasure:_e.visualObj?_e.visualObj.millisecondsPerMeasure(b.flattened.tempo):1e3,b.beatsPerMeasure=_e.visualObj?_e.visualObj.getBeatsPerMeasure():4,b.sequenceCallback=tt.sequenceCallback,b.callbackContext=tt.callbackContext,b.onEnded=tt.onEnded;var ot={},st=[],ct=[],lt=instrumentIndexToName$1[0];b.flattened.tracks.forEach(function(ht){ht.forEach(function(ft){if(ft.cmd==="program"&&instrumentIndexToName$1[ft.instrument]&&(lt=instrumentIndexToName$1[ft.instrument]),ft.pitch!==void 0){var pt=ft.pitch,mt=pitchToNoteName$1[pt];if(mt)if(ot[lt]||(ot[lt]={}),!soundsCache[lt]||!soundsCache[lt][mt])ot[lt][mt]=!0;else{var gt=lt+":"+mt;st.indexOf(gt)<0&&st.push(gt)}else{var vt=lt+":"+mt;console.log("Can't find note: ",pt,vt),ct.indexOf(vt)<0&&ct.push(vt)}}})}),b.debugCallback&&b.debugCallback("note gathering time = "+Math.floor((activeAudioContext$4().currentTime-et)*1e3)+"ms"),et=activeAudioContext$4().currentTime;var at=[];Object.keys(ot).forEach(function(ht){Object.keys(ot[ht]).forEach(function(ft){at.push({instrument:ht,note:ft})})}),b.debugCallback&&b.debugCallback("notes "+JSON.stringify(at));for(var it=[],ut=256,dt=0;dt<at.length;dt+=ut)it.push(at.slice(dt,dt+ut));return new Promise(function(ht,ft){var pt={cached:st,error:ct,loaded:[]},mt=0,gt=function(){b.debugCallback&&b.debugCallback("loadBatch idx="+mt+" len="+it.length),mt<it.length?b._loadBatch(it[mt],b.soundFontUrl,et).then(function(vt){b.debugCallback&&b.debugCallback("loadBatch then"),et=activeAudioContext$4().currentTime,vt&&(vt.error&&(pt.error=pt.error.concat(vt.error)),vt.loaded&&(pt.loaded=pt.loaded.concat(vt.loaded))),mt++,gt()},ft):(b.debugCallback&&b.debugCallback("resolve init"),ht(pt))};gt()})},b._loadBatch=function(_e,et,tt,nt){var rt=[];return _e.forEach(function(ot){b.debugCallback&&b.debugCallback("getNote "+ot.instrument+":"+ot.note),rt.push(getNote(et,ot.instrument,ot.note,activeAudioContext$4()))}),Promise.all(rt).then(function(ot){b.debugCallback&&b.debugCallback("mp3 load time = "+Math.floor((activeAudioContext$4().currentTime-tt)*1e3)+"ms");for(var st=[],ct=[],lt=[],at=[],it=0;it<ot.length;it++){var ut=ot[it],dt=ut.instrument+":"+ut.name;ut.status==="loaded"?st.push(dt):ut.status==="pending"?lt.push(dt):ut.status==="cached"?ct.push(dt):at.push(dt+" "+ut.message)}if(lt.length>0){if(b.debugCallback&&b.debugCallback("pending "+JSON.stringify(lt)),nt?nt=nt*2:nt=50,nt<9e4)return new Promise(function(pt,mt){setTimeout(function(){var gt=[];for(it=0;it<lt.length;it++)dt=lt[it].split(":"),gt.push({instrument:dt[0],note:dt[1]});b.debugCallback&&b.debugCallback("retry "+JSON.stringify(gt)),b._loadBatch(gt,et,tt,nt).then(function(vt){pt(vt)}).catch(function(vt){mt(vt)})},nt)});for(var ht=[],ft=0;ft<_e.length;ft++)ht.push(_e[ft].instrument+"/"+_e[ft].note);return b.debugCallback&&b.debugCallback("loadBatch timeout"),Promise.reject(new Error("timeout attempting to load: "+ht.join(", ")))}else return b.debugCallback&&b.debugCallback("loadBatch resolve"),Promise.resolve({loaded:st,cached:ct,error:at})}).catch(function(ot){b.debugCallback&&b.debugCallback("loadBatch catch "+ot.message)})},b.prime=function(){var _e=b.fadeLength/1e3;return b.isRunning=!1,b.audioBufferPossible?(b.debugCallback&&b.debugCallback("prime called"),new Promise(function(et){var tt=activeAudioContext$4().currentTime,nt=b.millisecondsPerMeasure/1e3/b.meterSize;if(b.duration=b.flattened.totalDuration*nt,b.duration<=0)return b.audioBuffers=[],et({status:"empty",seconds:0});b.duration+=_e;var rt=Math.floor(activeAudioContext$4().sampleRate*b.duration);b.stop();var ot=createNoteMap(b.flattened);b.sequenceCallback&&b.sequenceCallback(ot,b.callbackContext);var st=$(ot.length,b.pan),ct={};ot.forEach(function(pt,mt){var gt=st&&st.length>mt?st[mt]:0;pt.forEach(function(vt){var yt=vt.instrument+":"+vt.pitch+":"+vt.volume+":"+Math.round((vt.end-vt.start)*1e3)/1e3+":"+gt+":"+nt+":"+(vt.cents?vt.cents:0);b.debugCallback&&b.debugCallback("noteMapTrack "+yt),ct[yt]||(ct[yt]=[]),ct[yt].push(vt.start)})});for(var lt=[],at=activeAudioContext$4().createBuffer(2,rt,activeAudioContext$4().sampleRate),it=0;it<Object.keys(ct).length;it++){var ut=Object.keys(ct)[it],dt=ut.split(":"),ht=dt[6]!==void 0?parseFloat(dt[6]):0;dt={instrument:dt[0],pitch:parseInt(dt[1],10),volume:parseInt(dt[2],10),len:parseFloat(dt[3]),pan:parseFloat(dt[4]),tempoMultiplier:parseFloat(dt[5]),cents:ht},lt.push(placeNote(at,activeAudioContext$4().sampleRate,dt,ct[ut],b.soundFontVolumeMultiplier,b.programOffsets[dt.instrument],_e,b.noteEnd/1e3,b.debugCallback))}b.audioBuffers=[at],b.debugCallback&&(b.debugCallback("sampleRate = "+activeAudioContext$4().sampleRate),b.debugCallback("totalSamples = "+rt),b.debugCallback("creationTime = "+Math.floor((activeAudioContext$4().currentTime-tt)*1e3)+"ms"));function ft(pt){var mt=pt&&pt.audioBuffers&&pt.audioBuffers.length>0?pt.audioBuffers[0].duration:0;return{status:activeAudioContext$4().state,duration:mt}}Promise.all(lt).then(function(){activeAudioContext$4().state==="suspended"?activeAudioContext$4().resume().then(function(){et(ft(b))}):activeAudioContext$4().state==="interrupted"?activeAudioContext$4().suspend().then(function(){activeAudioContext$4().resume().then(function(){et(ft(b))})}):et(ft(b))})})):Promise.reject(new Error(notSupportedMessage))};function $(_e,et){if(et==null)return null;var tt=[];if(et.length){for(var nt=0;nt<_e;nt++)if(nt<et.length){var rt=parseFloat(et[nt]);rt<-1?rt=-1:rt>1&&(rt=1),tt.push(rt)}else tt.push(0);return tt}else{var ot=parseFloat(et);if(ot*(_e-1)>2)return null;for(var st=_e%2===0,ct=st?0-ot/2:0,lt=ct+ot,at=0;at<_e;at++)st=at%2===0,st?(tt.push(ct),ct-=ot):(tt.push(lt),lt+=ot);return tt}}b.start=function(){if(!b.audioBufferPossible)throw new Error(notSupportedMessage);b.debugCallback&&b.debugCallback("start called");var _e=b.pausedTimeSec?b.pausedTimeSec:0;b._kickOffSound(_e),b.startTimeSec=activeAudioContext$4().currentTime-_e,b.pausedTimeSec=void 0,b.debugCallback&&b.debugCallback("MIDI STARTED",b.startTimeSec)},b.pause=function(){if(!b.audioBufferPossible)throw new Error(notSupportedMessage);return b.debugCallback&&b.debugCallback("pause called"),b.pausedTimeSec=b.stop(),b.pausedTimeSec},b.resume=function(){b.start()},b.seek=function(_e,et){var tt;switch(et){case"seconds":tt=_e;break;case"beats":tt=_e*b.millisecondsPerMeasure/b.beatsPerMeasure/1e3;break;default:tt=(b.duration-b.fadeLength/1e3)*_e;break}if(!b.audioBufferPossible)throw new Error(notSupportedMessage);b.debugCallback&&b.debugCallback("seek called sec="+tt),b.isRunning?(b.stop(),b._kickOffSound(tt)):b.pausedTimeSec=tt,b.pausedTimeSec=tt},b.stop=function(){b.isRunning=!1,b.pausedTimeSec=void 0,b.directSource.forEach(function(et){try{et.stop()}catch(tt){console.log("direct source didn't stop:",tt)}}),b.directSource=[];var _e=activeAudioContext$4().currentTime-b.startTimeSec;return _e},b.finished=function(){b.startTimeSec=void 0,b.pausedTimeSec=void 0,b.isRunning=!1},b.download=function(){return downloadBuffer(b)},b.getAudioBuffer=function(){return b.audioBuffers[0]},b.getIsRunning=function(){return b.isRunning},b._deviceCapable=function(){return supportsAudio$3()?!0:(console.warn(notSupportedMessage),b.debugCallback&&b.debugCallback(notSupportedMessage),!1)},b._kickOffSound=function(_e){b.isRunning=!0,b.directSource=[],b.audioBuffers.forEach(function(et,tt){b.directSource[tt]=activeAudioContext$4().createBufferSource(),b.directSource[tt].buffer=et,b.directSource[tt].connect(activeAudioContext$4().destination)}),b.directSource.forEach(function(et){et.start(0,_e)}),b.onEnded&&(b.directSource[0].onended=function(){b.onEnded(b.callbackContext)})}}var createSynth=CreateSynth$3,SynthSequence$2=function(){var b=this;b.tracks=[],b.totalDuration=0,b.currentInstrument=[],b.starts=[],b.addTrack=function(){return b.tracks.push([]),b.currentInstrument.push(0),b.starts.push(0),b.tracks.length-1},b.setInstrument=function($,_e){b.tracks[$].push({channel:0,cmd:"program",instrument:_e}),b.currentInstrument[$]=_e},b.appendNote=function($,_e,et,tt,nt){var rt={cmd:"note",duration:et,gap:0,instrument:b.currentInstrument[$],pitch:_e,start:b.starts[$],volume:tt};nt&&(rt.cents=nt),b.tracks[$].push(rt),b.starts[$]+=et,b.totalDuration=Math.max(b.totalDuration,b.starts[$])}},synthSequence=SynthSequence$2,svg$4=`
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 700" preserveAspectRatio="xMidYMid meet">
	<g transform="translate(0,700) scale(0.1,-0.1)" >
	<path d="M3111 6981 c-20 -37 -90 -55 -364 -96 -120 -18 -190 -33 -244 -55
	-42 -17 -124 -42 -182 -56 -78 -18 -119 -34 -157 -60 -28 -19 -86 -46 -128
	-60 -43 -13 -107 -42 -144 -64 -37 -23 -84 -46 -106 -52 -21 -7 -56 -29 -79
	-50 -22 -22 -61 -50 -86 -63 -26 -13 -67 -40 -91 -60 -24 -20 -65 -47 -90 -60
	-25 -13 -53 -31 -61 -41 -8 -9 -32 -30 -54 -46 -75 -54 -486 -460 -512 -507
	-15 -25 -48 -69 -75 -98 -26 -28 -48 -57 -48 -63 0 -6 -18 -29 -39 -53 -21
	-23 -56 -71 -77 -107 -20 -36 -50 -80 -65 -97 -16 -18 -33 -52 -40 -75 -12
	-47 -47 -115 -84 -166 -13 -18 -30 -56 -38 -83 -8 -27 -34 -80 -56 -118 -33
	-53 -46 -91 -62 -167 -12 -63 -34 -127 -59 -179 -42 -84 -60 -166 -60 -270 0
	-90 26 -122 125 -154 54 -17 96 -19 430 -20 305 -1 381 2 430 14 82 22 140 51
	153 78 6 12 22 47 37 77 14 30 38 77 54 103 15 27 34 73 40 103 7 30 28 78 48
	107 19 28 44 74 55 101 10 28 34 67 53 87 18 20 49 61 68 90 19 30 44 63 57
	74 13 11 36 40 52 65 59 94 232 270 306 313 20 11 57 37 82 58 25 20 70 52
	100 72 30 19 66 47 79 61 13 14 49 35 80 46 30 12 80 37 111 56 31 19 95 45
	143 58 48 12 110 37 139 55 63 40 127 55 323 76 83 9 208 28 279 41 156 29
	165 29 330 4 453 -71 514 -84 606 -130 31 -16 83 -36 116 -45 32 -9 84 -34
	115 -56 31 -21 82 -48 113 -60 32 -11 72 -33 89 -48 18 -16 59 -45 92 -65 33
	-21 74 -51 90 -66 17 -15 49 -40 73 -54 52 -32 65 -61 50 -113 -8 -31 -61 -90
	-277 -308 -300 -303 -361 -382 -369 -481 -2 -29 0 -66 6 -81 13 -40 88 -138
	115 -151 12 -6 54 -26 92 -44 l70 -33 945 -2 c520 -1 975 2 1012 7 64 8 191
	50 231 76 11 7 33 34 50 60 22 34 42 51 65 58 l32 9 0 1101 0 1102 -32 9 c-21
	7 -44 26 -64 55 -60 84 -77 97 -140 110 -44 9 -76 10 -127 2 -59 -9 -77 -17
	-134 -62 -37 -28 -172 -155 -301 -281 -129 -127 -249 -237 -267 -245 -25 -10
	-41 -11 -71 -2 -58 15 -112 45 -124 69 -6 11 -35 35 -64 54 -28 18 -58 41 -66
	50 -8 9 -41 35 -75 58 -33 22 -77 56 -99 75 -21 18 -64 46 -95 61 -31 14 -73
	39 -93 55 -20 15 -70 40 -110 55 -40 15 -97 44 -127 64 -29 21 -78 44 -107 53
	-30 8 -77 31 -105 51 -42 28 -73 39 -173 60 -68 14 -154 39 -196 58 -95 43
	-131 51 -343 76 -209 24 -242 32 -279 70 l-30 29 -328 0 c-312 0 -330 -1 -339
	-19z"></path>
	<path d="M254 2875 c-89 -16 -107 -26 -145 -78 -32 -44 -62 -66 -91 -67 -17 0
	-18 -61 -18 -1140 l0 -1140 24 0 c16 0 41 -17 72 -50 40 -42 61 -55 117 -72
	l69 -21 82 23 c44 12 96 30 114 39 18 9 148 132 290 272 141 141 267 261 279
	268 51 26 86 14 176 -61 32 -26 62 -48 66 -48 5 0 36 -25 70 -55 34 -30 74
	-61 89 -69 15 -8 37 -28 50 -45 12 -17 50 -45 84 -62 34 -17 78 -44 98 -60 19
	-16 61 -37 93 -48 32 -11 81 -37 107 -56 27 -20 76 -45 109 -56 33 -12 75 -31
	93 -44 62 -45 93 -58 191 -82 54 -12 130 -37 168 -54 68 -29 180 -58 226 -59
	62 0 183 -64 183 -96 0 -12 88 -14 639 -14 l639 0 12 30 c18 44 76 66 233 89
	89 14 160 30 200 47 34 15 106 42 159 60 54 18 112 44 130 57 47 35 85 52 146
	67 29 7 76 28 105 48 29 20 77 48 107 63 30 15 66 39 80 54 14 15 50 40 81 56
	31 15 78 46 104 69 26 22 61 46 79 54 17 7 43 26 56 42 14 16 41 41 60 56 64
	48 380 362 408 405 15 23 40 51 55 63 15 12 36 38 46 58 11 21 37 57 58 82 22
	25 49 62 62 83 13 20 38 56 57 78 19 23 50 74 69 113 19 39 46 86 59 104 14
	18 34 62 46 98 12 36 32 77 45 92 31 38 60 97 80 167 9 33 26 76 37 95 29 50
	47 103 68 206 10 52 32 117 51 155 29 56 33 74 34 140 0 94 -10 108 -101 138
	-61 20 -83 21 -463 21 -226 0 -421 -4 -451 -10 -63 -12 -86 -30 -110 -85 -10
	-22 -33 -63 -52 -92 -21 -31 -42 -80 -53 -123 -11 -44 -32 -93 -56 -128 -20
	-32 -47 -83 -59 -115 -12 -32 -37 -77 -56 -100 -19 -23 -50 -65 -69 -94 -19
	-29 -44 -57 -54 -63 -11 -5 -29 -27 -42 -47 -52 -85 -234 -277 -300 -315 -25
	-15 -53 -38 -62 -51 -9 -14 -42 -39 -74 -57 -32 -18 -75 -48 -95 -66 -21 -18
	-59 -44 -85 -58 -26 -13 -72 -40 -100 -59 -35 -24 -78 -41 -128 -52 -47 -11
	-99 -31 -139 -56 -69 -42 -94 -49 -391 -110 -245 -51 -425 -66 -595 -50 -168
	16 -230 27 -330 61 -47 16 -123 35 -170 44 -98 17 -123 25 -172 58 -20 14 -71
	37 -114 53 -44 15 -95 40 -115 56 -20 16 -70 42 -110 59 -40 16 -88 45 -108
	63 -20 19 -55 46 -78 61 -24 14 -49 35 -55 47 -7 11 -34 33 -60 49 -50 31 -65
	61 -53 102 4 13 130 147 281 298 236 238 277 283 299 335 15 32 35 71 46 86
	12 18 19 44 19 76 0 42 -8 63 -53 138 -92 151 11 139 -1207 141 -798 2 -1030
	0 -1086 -11z"></path>
	</g>
</svg>
`,loop_svg=svg$4,svg$3=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-play-svg">
    <g>
    <polygon points="4 0 23 12.5 4 25"/>
    </g>
</svg>
`,play_svg=svg$3,svg$2=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25" class="abcjs-pause-svg">
  <g>
    <rect width="8.23" height="25"/>
    <rect width="8.23" height="25" x="17"/>
  </g>
</svg>
`,pause_svg=svg$2,svg$1=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" class="abcjs-loading-svg">
    <circle cx="50" cy="50" fill="none" stroke-width="20" r="35" stroke-dasharray="160 55"></circle>
</svg>
`,loading_svg=svg$1,svg=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25">
  <g>
    <polygon points="5 12.5 24 0 24 25"/>
    <rect width="3" height="25" x="0" y="0"/>
  </g>
</svg>
`,reset_svg=svg,supportsAudio$2=supportsAudio_1,registerAudioContext$1=registerAudioContext_1,activeAudioContext$3=activeAudioContext_1,parseCommon$1=abc_common,loopImage=loop_svg,playImage=play_svg,pauseImage=pause_svg,loadingImage=loading_svg,resetImage=reset_svg;function CreateSynthControl$2(b,$){var _e=this;if(typeof b=="string"){var et=b;if(b=document.querySelector(et),!b)throw new Error('Cannot find element "'+et+'" in the DOM.')}else if(!(b instanceof HTMLElement))throw new Error("The first parameter must be a valid element or selector in the DOM.");if(_e.parent=b,_e.options={},$&&(_e.options=parseCommon$1.clone($)),_e.options.ac&&registerAudioContext$1(_e.options.ac),buildDom(_e.parent,_e.options),attachListeners(_e),_e.disable=function(nt){var rt=_e.parent.querySelector(".abcjs-inline-audio");nt?rt.classList.add("abcjs-disabled"):rt.classList.remove("abcjs-disabled")},_e.setWarp=function(nt,rt){var ot=_e.parent.querySelector(".abcjs-midi-tempo");ot.value=Math.round(rt),_e.setTempo(nt)},_e.setTempo=function(nt){var rt=_e.parent.querySelector(".abcjs-midi-current-tempo");rt&&(rt.innerHTML=Math.round(nt))},_e.resetAll=function(){for(var nt=_e.parent.querySelectorAll(".abcjs-pushed"),rt=0;rt<nt.length;rt++){var ot=nt[rt];ot.classList.remove("abcjs-pushed")}},_e.pushPlay=function(nt){var rt=_e.parent.querySelector(".abcjs-midi-start");rt&&(nt?rt.classList.add("abcjs-pushed"):rt.classList.remove("abcjs-pushed"))},_e.pushLoop=function(nt){var rt=_e.parent.querySelector(".abcjs-midi-loop");rt&&(nt?rt.classList.add("abcjs-pushed"):rt.classList.remove("abcjs-pushed"))},_e.setProgress=function(nt,rt){var ot=_e.parent.querySelector(".abcjs-midi-progress-background"),st=_e.parent.querySelector(".abcjs-midi-progress-indicator");if(!(!ot||!st)){var ct=ot.clientWidth,lt=ct*nt;st.style.left=lt+"px";var at=_e.parent.querySelector(".abcjs-midi-clock");if(at){var it=rt*nt/1e3,ut=Math.floor(it/60),dt=Math.floor(it%60),ht=dt<10?"0"+dt:dt;at.innerHTML=ut+":"+ht}}},_e.options.afterResume){var tt=!1;_e.options.ac?tt=_e.options.ac.state!=="suspended":activeAudioContext$3()&&(tt=activeAudioContext$3().state!=="suspended"),tt&&_e.options.afterResume()}}function buildDom(b,$){var _e=!!$.loopHandler,et=!!$.restartHandler,tt=!!$.playHandler||!!$.playPromiseHandler,nt=!!$.progressHandler,rt=!!$.warpHandler,ot=$.hasClock!==!1,st=`<div class="abcjs-inline-audio">
`;if(_e){var ct=$.repeatTitle?$.repeatTitle:"Click to toggle play once/repeat.",lt=$.repeatAria?$.repeatAria:ct;st+='<button type="button" class="abcjs-midi-loop abcjs-btn" title="'+ct+'" aria-label="'+lt+'">'+loopImage+`</button>
`}if(et){var at=$.restartTitle?$.restartTitle:"Click to go to beginning.",it=$.restartAria?$.restartAria:at;st+='<button type="button" class="abcjs-midi-reset abcjs-btn" title="'+at+'" aria-label="'+it+'">'+resetImage+`</button>
`}if(tt){var ut=$.playTitle?$.playTitle:"Click to play/pause.",dt=$.playAria?$.playAria:ut;st+='<button type="button" class="abcjs-midi-start abcjs-btn" title="'+ut+'" aria-label="'+dt+'">'+playImage+pauseImage+loadingImage+`</button>
`}if(nt){var ht=$.randomTitle?$.randomTitle:"Click to change the playback position.",ft=$.randomAria?$.randomAria:ht;st+='<button type="button" class="abcjs-midi-progress-background" title="'+ht+'" aria-label="'+ft+`"><span class="abcjs-midi-progress-indicator"></span></button>
`}if(ot&&(st+=`<span class="abcjs-midi-clock"></span>
`),rt){var pt=$.warpTitle?$.warpTitle:"Change the playback speed.",mt=$.warpAria?$.warpAria:pt,gt=$.bpm?$.bpm:"BPM";st+='<span class="abcjs-tempo-wrapper"><label><input class="abcjs-midi-tempo" type="number" min="1" max="300" value="100" title="'+pt+'" aria-label="'+mt+'">%</label><span>&nbsp;(<span class="abcjs-midi-current-tempo"></span> '+gt+`)</span></span>
`}st+='<div class="abcjs-css-warning" style="font-size: 12px;color:red;border: 1px solid red;text-align: center;width: 300px;margin-top: 4px;font-weight: bold;border-radius: 4px;">CSS required: load abcjs-audio.css</div>',st+=`</div>
`,b.innerHTML=st}function acResumerMiddleWare(b,$,_e,et,tt){var nt=!0;if(activeAudioContext$3()?nt=activeAudioContext$3().state==="suspended":registerAudioContext$1(),!supportsAudio$2())throw{status:"NotSupported",message:"This browser does not support audio."};(nt||tt)&&_e&&_e.classList.add("abcjs-loading"),nt?activeAudioContext$3().resume().then(function(){et?et().then(function(rt){doNext(b,$,_e,tt)}):doNext(b,$,_e,tt)}):doNext(b,$,_e,tt)}function doNext(b,$,_e,et){et?b($).then(function(){_e&&_e.classList.remove("abcjs-loading")}):(b($),_e&&_e.classList.remove("abcjs-loading"))}function attachListeners(b){var $=!!b.options.loopHandler,_e=!!b.options.restartHandler,et=!!b.options.playHandler||!!b.options.playPromiseHandler,tt=!!b.options.progressHandler,nt=!!b.options.warpHandler,rt=b.parent.querySelector(".abcjs-midi-start");$&&b.parent.querySelector(".abcjs-midi-loop").addEventListener("click",function(ot){acResumerMiddleWare(b.options.loopHandler,ot,rt,b.options.afterResume)}),_e&&b.parent.querySelector(".abcjs-midi-reset").addEventListener("click",function(ot){acResumerMiddleWare(b.options.restartHandler,ot,rt,b.options.afterResume)}),et&&rt.addEventListener("click",function(ot){acResumerMiddleWare(b.options.playPromiseHandler||b.options.playHandler,ot,rt,b.options.afterResume,!!b.options.playPromiseHandler)}),tt&&b.parent.querySelector(".abcjs-midi-progress-background").addEventListener("click",function(ot){acResumerMiddleWare(b.options.progressHandler,ot,rt,b.options.afterResume)}),nt&&b.parent.querySelector(".abcjs-midi-tempo").addEventListener("change",function(ot){acResumerMiddleWare(b.options.warpHandler,ot,rt,b.options.afterResume)})}var createSynthControl=CreateSynthControl$2,SynthSequence$1=synthSequence,CreateSynth$2=createSynth,activeAudioContext$2=activeAudioContext_1;function playEvent$1(b,$,_e,et,tt){for(var nt=new SynthSequence$1,rt=0;rt<b.length;rt++){var ot=b[rt],st=nt.addTrack();if(nt.setInstrument(st,ot.instrument),rt===0&&$)for(var ct=0;ct<$.length;ct++){var lt=$[ct];nt.appendNote(st,lt.pitch,1/64,lt.volume,lt.cents)}nt.appendNote(st,ot.pitch,ot.duration,ot.volume,ot.cents)}var at=activeAudioContext$2();return at.state==="suspended"?at.resume().then(function(){return doPlay(nt,_e,et,tt)}):doPlay(nt,_e,et,tt)}function doPlay(b,$,_e,et){var tt=new CreateSynth$2;return tt.init({sequence:b,millisecondsPerMeasure:$,options:{soundFontUrl:_e},debugCallback:et}).then(function(){return tt.prime()}).then(function(){return tt.start(),Promise.resolve()})}var playEvent_1=playEvent$1,CreateSynthControl$1=createSynthControl,CreateSynth$1=createSynth,TimingCallbacks=abc_timing_callbacks,activeAudioContext$1=activeAudioContext_1;function SynthController$2(){var b=this;b.warp=100,b.cursorControl=null,b.visualObj=null,b.timer=null,b.midiBuffer=null,b.options=null,b.currentTempo=null,b.control=null,b.isLooping=!1,b.isStarted=!1,b.isLoaded=!1,b.isLoading=!1,b.load=function(_e,et,tt){tt||(tt={}),tt.displayPlay===void 0&&(tt.displayPlay=!0),tt.displayProgress===void 0&&(tt.displayProgress=!0),b.control=new CreateSynthControl$1(_e,{loopHandler:tt.displayLoop?b.toggleLoop:void 0,restartHandler:tt.displayRestart?b.restart:void 0,playPromiseHandler:tt.displayPlay?b.play:void 0,progressHandler:tt.displayProgress?b.randomAccess:void 0,warpHandler:tt.displayWarp?b.onWarp:void 0,afterResume:b.init}),b.cursorControl=et,b.disable(!0)},b.disable=function(_e){b.control&&b.control.disable(_e)},b.setTune=function(_e,et,tt){return b.visualObj=_e,b.disable(!1),b.options=tt||{},b.control&&(b.pause(),b.setProgress(0,1),b.control.resetAll(),b.restart(),b.isStarted=!1),b.isLooping=!1,et?b.go():Promise.resolve({status:"no-audio-context"})},b.go=function(){b.isLoading=!0;var _e=b.visualObj.millisecondsPerMeasure()*100/b.warp;b.currentTempo=Math.round(b.visualObj.getBeatsPerMeasure()/_e*6e4),b.control&&b.control.setTempo(b.currentTempo),b.percent=0;var et;return b.midiBuffer||(b.midiBuffer=new CreateSynth$1),activeAudioContext$1().resume().then(function(tt){return b.midiBuffer.init({visualObj:b.visualObj,options:b.options,millisecondsPerMeasure:_e})}).then(function(tt){return et=tt,b.midiBuffer.prime()}).then(function(){var tt=16;return b.cursorControl&&b.cursorControl.beatSubdivisions!==void 0&&parseInt(b.cursorControl.beatSubdivisions,10)>=1&&parseInt(b.cursorControl.beatSubdivisions,10)<=64&&(tt=parseInt(b.cursorControl.beatSubdivisions,10)),b.timer=new TimingCallbacks(b.visualObj,{beatCallback:b.beatCallback,eventCallback:b.eventCallback,lineEndCallback:b.lineEndCallback,qpm:b.currentTempo,extraMeasuresAtBeginning:b.cursorControl?b.cursorControl.extraMeasuresAtBeginning:void 0,lineEndAnticipation:b.cursorControl?b.cursorControl.lineEndAnticipation:0,beatSubdivisions:tt}),b.cursorControl&&b.cursorControl.onReady&&typeof b.cursorControl.onReady=="function"&&b.cursorControl.onReady(b),b.isLoaded=!0,b.isLoading=!1,Promise.resolve({status:"created",notesStatus:et})})},b.destroy=function(){b.timer&&(b.timer.reset(),b.timer.stop(),b.timer=null),b.midiBuffer&&(b.midiBuffer.stop(),b.midiBuffer=null),b.setProgress(0,1),b.control&&b.control.resetAll()},b.play=function(){return b.runWhenReady(b._play,void 0)};function $(_e){return new Promise(function(et){setTimeout(et,_e)})}b.runWhenReady=function(_e,et){return b.visualObj?b.isLoading?$(500).then(function(){return b.isLoading?b.runWhenReady(_e,et):_e(et)}):b.isLoaded?_e(et):b.go().then(function(){return _e(et)}):Promise.resolve({status:"loading"})},b._play=function(){return activeAudioContext$1().resume().then(function(){return b.isStarted=!b.isStarted,b.isStarted?(b.cursorControl&&b.cursorControl.onStart&&typeof b.cursorControl.onStart=="function"&&b.cursorControl.onStart(),b.midiBuffer.start(),b.timer.start(b.percent),b.control&&b.control.pushPlay(!0)):b.pause(),Promise.resolve({status:"ok"})})},b.pause=function(){b.timer&&(b.timer.pause(),b.midiBuffer.pause(),b.control&&b.control.pushPlay(!1))},b.toggleLoop=function(){b.isLooping=!b.isLooping,b.control&&b.control.pushLoop(b.isLooping)},b.restart=function(){b.timer&&(b.timer.setProgress(0),b.midiBuffer.seek(0))},b.randomAccess=function(_e){return b.runWhenReady(b._randomAccess,_e)},b._randomAccess=function(_e){var et=_e.target.classList.contains("abcjs-midi-progress-indicator")?_e.target.parentNode:_e.target,tt=(_e.x-et.getBoundingClientRect().left)/et.offsetWidth;return tt<0&&(tt=0),tt>1&&(tt=1),b.seek(tt),Promise.resolve({status:"ok"})},b.seek=function(_e,et){b.timer&&b.midiBuffer&&(b.timer.setProgress(_e,et),b.midiBuffer.seek(_e,et))},b.setWarp=function(_e){if(parseInt(_e,10)>0){b.warp=parseInt(_e,10);var et=b.isStarted,tt=b.percent;return b.destroy(),b.isStarted=!1,b.go().then(function(){return b.setProgress(tt,b.midiBuffer.duration*1e3),b.control&&b.control.setWarp(b.currentTempo,b.warp),et?b.play().then(function(){return b.seek(tt),Promise.resolve()}):(b.seek(tt),Promise.resolve())})}return Promise.resolve()},b.onWarp=function(_e){var et=_e.target.value;return b.setWarp(et)},b.setProgress=function(_e,et){b.percent=_e,b.control&&b.control.setProgress(_e,et)},b.finished=function(){if(b.timer.reset(),b.isLooping)return b.timer.start(0),b.midiBuffer.finished(),b.midiBuffer.start(),"continue";b.timer.stop(),b.isStarted&&(b.control&&b.control.pushPlay(!1),b.isStarted=!1,b.midiBuffer.finished(),b.cursorControl&&b.cursorControl.onFinished&&typeof b.cursorControl.onFinished=="function"&&b.cursorControl.onFinished(),b.setProgress(0,1))},b.beatCallback=function(_e,et,tt,nt){var rt=_e/et;b.setProgress(rt,tt),b.cursorControl&&b.cursorControl.onBeat&&typeof b.cursorControl.onBeat=="function"&&b.cursorControl.onBeat(_e,et,tt,nt)},b.eventCallback=function(_e){if(_e)b.cursorControl&&b.cursorControl.onEvent&&typeof b.cursorControl.onEvent=="function"&&b.cursorControl.onEvent(_e);else return b.finished()},b.lineEndCallback=function(_e,et){b.cursorControl&&b.cursorControl.onLineEnd&&typeof b.cursorControl.onLineEnd=="function"&&b.cursorControl.onLineEnd(_e,et)},b.getUrl=function(){return b.midiBuffer.download()},b.download=function(_e){var et=b.getUrl(),tt=document.createElement("a");document.body.appendChild(tt),tt.setAttribute("style","display: none;"),tt.href=et,tt.download=_e||"output.wav",tt.click(),window.URL.revokeObjectURL(et),document.body.removeChild(tt)}}var synthController=SynthController$2,centsToFactor=centsToFactor_1,rendererFactory$1;(function(){function b(lt,at){for(var it in at)at.hasOwnProperty(it)&&lt.setAttribute(it,at[it]);return lt}function $(){this.trackstrings="",this.trackcount=0,this.noteOnAndChannel="%90",this.noteOffAndChannel="%80"}$.prototype.setTempo=function(lt){this.trackcount===0&&(this.startTrack(),this.track+="%00%FF%51%03"+ot(Math.round(6e7/lt),6),this.endTrack())},$.prototype.setGlobalInfo=function(lt,at,it,ut){if(this.trackcount===0){this.startTrack();var dt=Math.round(6e7/lt);this.track+="%00%FF%51%03"+ot(dt,6),it&&(this.track+=tt(it)),ut&&(this.track+=nt(ut)),at&&(this.track+=et(at,"%01")),this.endTrack()}},$.prototype.startTrack=function(){this.noteWarped={},this.track="",this.trackName="",this.trackInstrument="",this.silencelength=0,this.trackcount++,this.instrument&&this.setInstrument(this.instrument)},$.prototype.endTrack=function(){this.track=this.trackName+this.trackInstrument+this.track;var lt=ot(this.track.length/3+4,8);this.track="MTrk"+lt+this.track+"%00%FF%2F%00",this.trackstrings+=this.track},$.prototype.setText=function(lt,at){switch(lt){case"name":this.trackName=et(at,"%03");break}},$.prototype.setInstrument=function(lt){this.trackInstrument="%00%C0"+ot(lt,2),this.instrument=lt},$.prototype.setChannel=function(lt,at){this.channel=lt;var it="%00%B"+this.channel.toString(16);this.track+=it+"%79%00",this.track+=it+"%40%00",this.track+=it+"%5B%30",at||(at=0),at=Math.round((at+1)*64),this.track+=it+"%0A"+ot(at,2),this.track+=it+"%07%64",this.noteOnAndChannel="%9"+this.channel.toString(16),this.noteOffAndChannel="%8"+this.channel.toString(16)};var _e=4096;$.prototype.startNote=function(lt,at,it){if(this.track+=ct(this.silencelength),this.silencelength=0,it){this.track+="%e"+this.channel.toString(16);var ut=Math.round(centsToFactor(it)*_e);this.track+=st(8192+ut),this.track+=ct(0),this.noteWarped[lt]=!0}this.track+=this.noteOnAndChannel,this.track+="%"+lt.toString(16)+ot(at,2)},$.prototype.endNote=function(lt){this.track+=ct(this.silencelength),this.silencelength=0,this.noteWarped[lt]&&(this.track+="%e"+this.channel.toString(16),this.track+=st(8192),this.track+=ct(0),this.noteWarped[lt]=!1),this.track+=this.noteOffAndChannel,this.track+="%"+lt.toString(16)+"%00"},$.prototype.addRest=function(lt){this.silencelength+=lt,this.silencelength<0&&(this.silencelength=0)},$.prototype.getData=function(){return"data:audio/midi,MThd%00%00%00%06%00%01"+ot(this.trackcount,4)+"%01%e0"+this.trackstrings},$.prototype.embed=function(lt,at){var it=this.getData(),ut=b(document.createElement("a"),{href:it});if(ut.innerHTML="download midi",lt.insertBefore(ut,lt.firstChild),!at){var dt=b(document.createElement("embed"),{src:it,type:"video/quicktime",controller:"true",autoplay:"false",loop:"false",enablejavascript:"true",style:"display:block; height: 20px;"});lt.insertBefore(dt,lt.firstChild)}};function et(lt,at){for(var it="",ut=0;ut<lt.length;ut++)it+=ot(lt.charCodeAt(ut),2);return"%00%FF"+at+ot(it.length/3,2)+it}function tt(lt){if(!lt||!lt.accidentals)return"";for(var at="%00%FF%59%02",it=0,ut=256,dt=0;dt<lt.accidentals.length;dt++)lt.accidentals[dt].acc==="sharp"?it++:lt.accidentals[dt].acc==="flat"&&ut--;var ht=ot(ut!==256?ut:it,2),ft=lt.mode==="m"?"%01":"%00";return at+ht+ft}function nt(lt){var at="%00%FF%58%04"+ot(lt.num,2),it={1:0,2:1,4:2,8:3,16:4,32:5},ut=it[lt.den];if(!ut)return"";at+=ot(ut,2);var dt;switch(lt.num+"/"+lt.den){case"2/4":case"3/4":case"4/4":case"5/4":dt=24;break;case"6/4":dt=72;break;case"2/2":case"3/2":case"4/2":dt=48;break;case"3/8":case"6/8":case"9/8":case"12/8":dt=36;break}return dt?(at+=ot(dt,2),at+"%08"):""}function rt(lt){for(var at="",it=0;it<lt.length;it+=2)at+="%",at+=lt.substr(it,2);return at}function ot(lt,at){var it=lt.toString(16);for(it=it.split(".")[0];it.length<at;)it="0"+it;return it.length>at&&(it=it.substring(0,at)),rt(it)}function st(lt){lt=Math.round(lt);var at=lt%128,it=lt-at;return ot(it*2+at,4)}function ct(lt){var at=0,it=[];for(lt=Math.round(lt);lt!==0;)it.push(lt&127),lt=lt>>7;for(var ut=it.length-1;ut>=0;ut--){at=at<<8;var dt=it[ut];ut!==0&&(dt=dt|128),at=at|dt}var ht=at.toString(16).length;return ht+=ht%2,ot(at,ht)}rendererFactory$1=function(){return new $}})();var abc_midi_renderer=rendererFactory$1,rendererFactory=abc_midi_renderer,create;(function(){var b=1920;create=function(_e,et){et===void 0&&(et={});var tt=_e.setUpAudio(et),nt=rendererFactory(),rt=_e.metaText?_e.metaText.title:void 0;rt&&rt.length>128&&(rt=rt.substring(0,124)+"...");var ot=_e.getKeySignature(),st=_e.getMeterFraction(),ct=tt.tempo/60;nt.setGlobalInfo(tt.tempo,rt,ot,st);for(var lt=0;lt<tt.tracks.length;lt++){nt.startTrack();for(var at={},it=0;it<tt.tracks[lt].length;it++){var ut=tt.tracks[lt][it];switch(ut.cmd){case"text":nt.setText(ut.type,ut.text);break;case"program":var dt=0;et.pan&&et.pan.length>lt&&(dt=et.pan[lt]),ut.instrument===128?(nt.setChannel(9,dt),nt.setInstrument(0)):(nt.setChannel(ut.channel,dt),nt.setInstrument(ut.instrument));break;case"note":var ht=ut.gap*ct,ft=ut.start,pt=ft+ut.duration-ht;at[ft]||(at[ft]=[]),at[ft].push({pitch:ut.pitch,volume:ut.volume,cents:ut.cents}),at[pt]||(at[pt]=[]),at[pt].push({pitch:ut.pitch,volume:0});break;default:console.log("MIDI create Unknown: "+ut.cmd)}}$(nt,at,b),nt.endTrack()}return nt.getData()};function $(_e,et,tt){for(var nt=Object.keys(et),rt=0;rt<nt.length;rt++)nt[rt]=parseFloat(nt[rt]);nt.sort(function(ut,dt){return ut-dt});for(var ot=0,st=0;st<nt.length;st++){var ct=et[nt[st]];if(nt[st]>ot){var lt=(nt[st]-ot)*tt;_e.addRest(lt),ot=nt[st]}for(var at=0;at<ct.length;at++){var it=ct[at];it.volume?_e.startNote(it.pitch,it.volume,it.cents):_e.endNote(it.pitch)}}}})();var abc_midi_create=create,tunebook=abc_tunebook,midiCreate=abc_midi_create,getMidiFile$1=function(b,$){var _e={};if($)for(var et in $)$.hasOwnProperty(et)&&(_e[et]=$[et]);_e.generateInline=!1;function tt(nt,rt,ot){var st=midiCreate(rt,_e);switch(_e.midiOutputType){case"encoded":return st;case"binary":var ct=st.replace("data:audio/midi,","");ct=ct.replace(/MThd/g,"%4d%54%68%64"),ct=ct.replace(/MTrk/g,"%4d%54%72%6b");for(var lt=new ArrayBuffer(ct.length/3),at=new Uint8Array(lt),it=0;it<ct.length/3;it++){var ut=it*3+1,dt=parseInt(ct.substring(ut,ut+2),16);at[it]=dt}return at;case"link":default:return generateMidiDownloadLink(rt,_e,st,ot)}}return typeof b=="string"?tunebook.renderEngine(tt,"*",b,_e):tt(null,b,0)};function isFunction(b){var $={};return b&&$.toString.call(b)==="[object Function]"}var generateMidiDownloadLink=function(b,$,_e,et){var tt=["abcjs-download-midi","abcjs-midi-"+et];$.downloadClass&&tt.push($.downloadClass);var nt='<div class="'+tt.join(" ")+'">';$.preTextDownload&&(nt+=$.preTextDownload);var rt=b.metaText&&b.metaText.title?b.metaText.title:"Untitled",ot;$.downloadLabel&&isFunction($.downloadLabel)?ot=$.downloadLabel(b,et):$.downloadLabel?ot=$.downloadLabel.replace(/%T/,rt):ot='Download MIDI for "'+rt+'"',rt=rt.toLowerCase().replace(/'/g,"").replace(/\W/g,"_").replace(/__/g,"_");var st=$.fileName?$.fileName:rt+".midi";return nt+='<a download="'+st+'" href="'+_e+'">'+ot+"</a>",$.postTextDownload&&(nt+=$.postTextDownload),nt+"</div>"},getMidiFile_1=getMidiFile$1;try{if(typeof window.CustomEvent!="function"){var CustomEvent=function(b,$){$=$||{bubbles:!1,cancelable:!1,detail:void 0};var _e=document.createEvent("CustomEvent");return _e.initCustomEvent(b,$.bubbles,$.cancelable,$.detail),_e};CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent}}catch(b){}var EditArea$1=function(b){this.textarea=document.getElementById(b),this.initialText=this.textarea.value,this.isDragging=!1};EditArea$1.prototype.addSelectionListener=function(b){this.textarea.onmousemove=function($){this.isDragging&&b.fireSelectionChanged()}};EditArea$1.prototype.addChangeListener=function(b){this.changelistener=b,this.textarea.onkeyup=function(){b.fireChanged()},this.textarea.onmousedown=function(){this.isDragging=!0,b.fireSelectionChanged()},this.textarea.onmouseup=function(){this.isDragging=!1,b.fireChanged()},this.textarea.onchange=function(){b.fireChanged()}};EditArea$1.prototype.getSelection=function(){return{start:this.textarea.selectionStart,end:this.textarea.selectionEnd}};EditArea$1.prototype.setSelection=function(b,$){if(this.textarea.setSelectionRange)this.textarea.setSelectionRange(b,$);else if(this.textarea.createTextRange){var _e=this.textarea.createTextRange();_e.collapse(!0),_e.moveEnd("character",$),_e.moveStart("character",b),_e.select()}this.textarea.focus()};EditArea$1.prototype.getString=function(){return this.textarea.value};EditArea$1.prototype.setString=function(b){this.textarea.value=b,this.initialText=this.getString(),this.changelistener&&this.changelistener.fireChanged()};EditArea$1.prototype.getElem=function(){return this.textarea};var abc_editarea=EditArea$1,parseCommon=abc_common,SynthController$1=synthController,supportsAudio$1=supportsAudio_1,renderAbc=abc_tunebook_svg,EditArea=abc_editarea;function gatherAbcParams(b){var $={},_e;if(b.abcjsParams)for(_e in b.abcjsParams)b.abcjsParams.hasOwnProperty(_e)&&($[_e]=b.abcjsParams[_e]);if(b.midi_options)for(_e in b.midi_options)b.midi_options.hasOwnProperty(_e)&&($[_e]=b.midi_options[_e]);if(b.parser_options)for(_e in b.parser_options)b.parser_options.hasOwnProperty(_e)&&($[_e]=b.parser_options[_e]);if(b.render_options)for(_e in b.render_options)b.render_options.hasOwnProperty(_e)&&($[_e]=b.render_options[_e]);return $.tablature&&b.warnings_id&&($.tablature.warnings_id=b.warnings_id),$}var Editor=function(b,$){this.abcjsParams=gatherAbcParams($),$.indicate_changed&&(this.indicate_changed=!0),typeof b=="string"?this.editarea=new EditArea(b):this.editarea=b,this.editarea.addSelectionListener(this),this.editarea.addChangeListener(this),$.canvas_id?this.div=$.canvas_id:$.paper_id?this.div=$.paper_id:(this.div=document.createElement("DIV"),this.editarea.getElem().parentNode.insertBefore(this.div,this.editarea.getElem())),typeof this.div=="string"&&(this.div=document.getElementById(this.div)),$.selectionChangeCallback&&(this.selectionChangeCallback=$.selectionChangeCallback),this.clientClickListener=this.abcjsParams.clickListener,this.abcjsParams.clickListener=this.highlight.bind(this),$.synth&&supportsAudio$1()&&(this.synth={el:$.synth.el,cursorControl:$.synth.cursorControl,options:$.synth.options}),$.generate_midi&&(this.generate_midi=$.generate_midi,this.abcjsParams.generateDownload&&(typeof $.midi_download_id=="string"?this.downloadMidi=document.getElementById($.midi_download_id):$.midi_download_id&&(this.downloadMidi=$.midi_download_id)),this.abcjsParams.generateInline!==!1&&(typeof $.midi_id=="string"?this.inlineMidi=document.getElementById($.midi_id):$.midi_id&&(this.inlineMidi=$.midi_id))),$.warnings_id?typeof $.warnings_id=="string"?this.warningsdiv=document.getElementById($.warnings_id):this.warningsdiv=$.warnings_id:$.generate_warnings&&(this.warningsdiv=document.createElement("div"),this.div.parentNode.insertBefore(this.warningsdiv,this.div)),this.onchangeCallback=$.onchange,this.currentAbc="",this.tunes=[],this.bReentry=!1,this.parseABC(),this.modelChanged(),this.addClassName=function(_e,et){var tt=function(nt,rt){var ot=nt.className;return ot.length>0&&(ot===rt||new RegExp("(^|\\s)"+rt+"(\\s|$)").test(ot))};return tt(_e,et)||(_e.className+=(_e.className?" ":"")+et),_e},this.removeClassName=function(_e,et){return _e.className=parseCommon.strip(_e.className.replace(new RegExp("(^|\\s+)"+et+"(\\s+|$)")," ")),_e},this.setReadOnly=function(_e){var et="abc_textarea_readonly",tt=this.editarea.getElem();_e?(tt.setAttribute("readonly","yes"),this.addClassName(tt,et)):(tt.removeAttribute("readonly"),this.removeClassName(tt,et))}};Editor.prototype.redrawMidi=function(){if(this.generate_midi&&!this.midiPause){var b=new window.CustomEvent("generateMidi",{detail:{tunes:this.tunes,abcjsParams:this.abcjsParams,downloadMidiEl:this.downloadMidi,inlineMidiEl:this.inlineMidi,engravingEl:this.div}});window.dispatchEvent(b)}if(this.synth){var $=this.synth.synthControl;this.synth.synthControl||(this.synth.synthControl=new SynthController$1,this.synth.synthControl.load(this.synth.el,this.synth.cursorControl,this.synth.options)),this.synth.synthControl.setTune(this.tunes[0],$,this.synth.options)}};Editor.prototype.modelChanged=function(){if(!this.bReentry){this.bReentry=!0;try{this.timerId=null,this.synth&&this.synth.synthControl&&this.synth.synthControl.disable(!0),this.tunes=renderAbc(this.div,this.currentAbc,this.abcjsParams),this.tunes.length>0&&(this.warnings=this.tunes[0].warnings),this.redrawMidi()}catch(b){console.error("ABCJS error: ",b),this.warnings||(this.warnings=[]),this.warnings.push(b.message)}this.warningsdiv&&(this.warningsdiv.innerHTML=this.warnings?this.warnings.join("<br />"):"No errors"),this.updateSelection(),this.bReentry=!1}};Editor.prototype.paramChanged=function(b){if(b)for(var $ in b)b.hasOwnProperty($)&&(this.abcjsParams[$]=b[$]);this.currentAbc="",this.fireChanged()};Editor.prototype.synthParamChanged=function(b){if(this.synth){if(this.synth.options={},b)for(var $ in b)b.hasOwnProperty($)&&(this.synth.options[$]=b[$]);this.currentAbc="",this.fireChanged()}};Editor.prototype.parseABC=function(){var b=this.editarea.getString();return b===this.currentAbc?(this.updateSelection(),!1):(this.currentAbc=b,!0)};Editor.prototype.updateSelection=function(){var b=this.editarea.getSelection();try{this.tunes.length>0&&this.tunes[0].engraver&&this.tunes[0].engraver.rangeHighlight(b.start,b.end)}catch{}this.selectionChangeCallback&&this.selectionChangeCallback(b.start,b.end)};Editor.prototype.fireSelectionChanged=function(){this.updateSelection()};Editor.prototype.setDirtyStyle=function(b){if(this.indicate_changed!==void 0){var $=function(nt,rt){var ot=function(st,ct){var lt=st.className;return lt.length>0&&(lt===ct||new RegExp("(^|\\s)"+ct+"(\\s|$)").test(lt))};return ot(nt,rt)||(nt.className+=(nt.className?" ":"")+rt),nt},_e=function(nt,rt){return nt.className=parseCommon.strip(nt.className.replace(new RegExp("(^|\\s+)"+rt+"(\\s+|$)")," ")),nt},et="abc_textarea_dirty",tt=this.editarea.getElem();b?$(tt,et):_e(tt,et)}};Editor.prototype.fireChanged=function(){if(!this.bIsPaused&&this.parseABC()){var b=this;this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){b.modelChanged()},300);var $=this.isDirty();this.wasDirty!==$&&(this.wasDirty=$,this.setDirtyStyle($)),this.onchangeCallback&&this.onchangeCallback(this)}};Editor.prototype.setNotDirty=function(){this.editarea.initialText=this.editarea.getString(),this.wasDirty=!1,this.setDirtyStyle(!1)};Editor.prototype.isDirty=function(){return this.indicate_changed===void 0?!1:this.editarea.initialText!==this.editarea.getString()};Editor.prototype.highlight=function(b,$,_e,et,tt,nt){this.editarea.setSelection(b.startChar,b.endChar),this.selectionChangeCallback&&this.selectionChangeCallback(b.startChar,b.endChar),this.clientClickListener&&this.clientClickListener(b,$,_e,et,tt,nt)};Editor.prototype.pause=function(b){this.bIsPaused=b,b||this.fireChanged()};Editor.prototype.millisecondsPerMeasure=function(){return!this.synth||!this.synth.synthControl||!this.synth.synthControl.visualObj?0:this.synth.synthControl.visualObj.millisecondsPerMeasure()};Editor.prototype.pauseMidi=function(b){this.midiPause=b,b||this.redrawMidi()};var abc_editor=Editor,version=version_1,animation=abc_animation,tuneBook=abc_tunebook,sequence=abc_midi_sequencer,strTranspose=output,abcjs={};abcjs.signature="abcjs-basic v"+version;Object.keys(animation).forEach(function(b){abcjs[b]=animation[b]});Object.keys(tuneBook).forEach(function(b){abcjs[b]=tuneBook[b]});abcjs.renderAbc=abc_tunebook_svg;abcjs.TimingCallbacks=abc_timing_callbacks;var glyphs=glyphs_1;abcjs.setGlyph=glyphs.setSymbol;abcjs.strTranspose=strTranspose;var CreateSynth=createSynth,instrumentIndexToName=instrumentIndexToName_1,pitchToNoteName=pitchToNoteName_1,SynthSequence=synthSequence,CreateSynthControl=createSynthControl,registerAudioContext=registerAudioContext_1,activeAudioContext=activeAudioContext_1,supportsAudio=supportsAudio_1,playEvent=playEvent_1,SynthController=synthController,getMidiFile=getMidiFile_1,midiRenderer=abc_midi_renderer;abcjs.synth={CreateSynth,instrumentIndexToName,pitchToNoteName,SynthController,SynthSequence,CreateSynthControl,registerAudioContext,activeAudioContext,supportsAudio,playEvent,getMidiFile,sequence,midiRenderer};abcjs.Editor=abc_editor;abcjs.EditArea=abc_editarea;var abcjs_1=abcjs;const abcjs$1=getDefaultExportFromCjs(abcjs_1);function AbcViewer(b){useNavigate();const $=reactExports.useRef(null),_e=reactExports.useRef();function et(rt){$.current=rt}function tt(){nt()}reactExports.useEffect(()=>tt(),[b.abc]),reactExports.useEffect(()=>tt(),[]);function nt(rt){if(_e)try{var ot={add_classes:!0,responsive:"resize",generateDownload:!0,synth:{el:"#audio"}},st=abcjs$1.renderAbc(_e.current,b.abc,ot),ct=st&&st.length>0?st[0]:null;et(ct)}catch(lt){console.log("RENDER EXC",lt)}}return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx("div",{id:"abc_music_viewer",ref:_e})})})}function _getDefaults(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let _defaults=_getDefaults();function changeDefaults(b){_defaults=b}const escapeTest=/[&<>"']/,escapeReplace=new RegExp(escapeTest.source,"g"),escapeTestNoEncode=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode=new RegExp(escapeTestNoEncode.source,"g"),escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=b=>escapeReplacements[b];function escape$1(b,$){if($){if(escapeTest.test(b))return b.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test(b))return b.replace(escapeReplaceNoEncode,getEscapeReplacement);return b}const unescapeTest=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function unescape$1(b){return b.replace(unescapeTest,($,_e)=>(_e=_e.toLowerCase(),_e==="colon"?":":_e.charAt(0)==="#"?_e.charAt(1)==="x"?String.fromCharCode(parseInt(_e.substring(2),16)):String.fromCharCode(+_e.substring(1)):""))}const caret=/(^|[^\[])\^/g;function edit(b,$){let _e=typeof b=="string"?b:b.source;$=$||"";const et={replace:(tt,nt)=>{let rt=typeof nt=="string"?nt:nt.source;return rt=rt.replace(caret,"$1"),_e=_e.replace(tt,rt),et},getRegex:()=>new RegExp(_e,$)};return et}function cleanUrl(b){try{b=encodeURI(b).replace(/%25/g,"%")}catch{return null}return b}const noopTest={exec:()=>null};function splitCells(b,$){const _e=b.replace(/\|/g,(nt,rt,ot)=>{let st=!1,ct=rt;for(;--ct>=0&&ot[ct]==="\\";)st=!st;return st?"|":" |"}),et=_e.split(/ \|/);let tt=0;if(et[0].trim()||et.shift(),et.length>0&&!et[et.length-1].trim()&&et.pop(),$)if(et.length>$)et.splice($);else for(;et.length<$;)et.push("");for(;tt<et.length;tt++)et[tt]=et[tt].trim().replace(/\\\|/g,"|");return et}function rtrim(b,$,_e){const et=b.length;if(et===0)return"";let tt=0;for(;tt<et;){const nt=b.charAt(et-tt-1);if(nt===$&&!_e)tt++;else if(nt!==$&&_e)tt++;else break}return b.slice(0,et-tt)}function findClosingBracket(b,$){if(b.indexOf($[1])===-1)return-1;let _e=0;for(let et=0;et<b.length;et++)if(b[et]==="\\")et++;else if(b[et]===$[0])_e++;else if(b[et]===$[1]&&(_e--,_e<0))return et;return-1}function outputLink(b,$,_e,et){const tt=$.href,nt=$.title?escape$1($.title):null,rt=b[1].replace(/\\([\[\]])/g,"$1");if(b[0].charAt(0)!=="!"){et.state.inLink=!0;const ot={type:"link",raw:_e,href:tt,title:nt,text:rt,tokens:et.inlineTokens(rt)};return et.state.inLink=!1,ot}return{type:"image",raw:_e,href:tt,title:nt,text:escape$1(rt)}}function indentCodeCompensation(b,$){const _e=b.match(/^(\s+)(?:```)/);if(_e===null)return $;const et=_e[1];return $.split(`
`).map(tt=>{const nt=tt.match(/^\s+/);if(nt===null)return tt;const[rt]=nt;return rt.length>=et.length?tt.slice(et.length):tt}).join(`
`)}class _Tokenizer{constructor($){Hn(this,"options");Hn(this,"rules");Hn(this,"lexer");this.options=$||_defaults}space($){const _e=this.rules.block.newline.exec($);if(_e&&_e[0].length>0)return{type:"space",raw:_e[0]}}code($){const _e=this.rules.block.code.exec($);if(_e){const et=_e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:_e[0],codeBlockStyle:"indented",text:this.options.pedantic?et:rtrim(et,`
`)}}}fences($){const _e=this.rules.block.fences.exec($);if(_e){const et=_e[0],tt=indentCodeCompensation(et,_e[3]||"");return{type:"code",raw:et,lang:_e[2]?_e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):_e[2],text:tt}}}heading($){const _e=this.rules.block.heading.exec($);if(_e){let et=_e[2].trim();if(/#$/.test(et)){const tt=rtrim(et,"#");(this.options.pedantic||!tt||/ $/.test(tt))&&(et=tt.trim())}return{type:"heading",raw:_e[0],depth:_e[1].length,text:et,tokens:this.lexer.inline(et)}}}hr($){const _e=this.rules.block.hr.exec($);if(_e)return{type:"hr",raw:_e[0]}}blockquote($){const _e=this.rules.block.blockquote.exec($);if(_e){let et=_e[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);et=rtrim(et.replace(/^ *>[ \t]?/gm,""),`
`);const tt=this.lexer.state.top;this.lexer.state.top=!0;const nt=this.lexer.blockTokens(et);return this.lexer.state.top=tt,{type:"blockquote",raw:_e[0],tokens:nt,text:et}}}list($){let _e=this.rules.block.list.exec($);if(_e){let et=_e[1].trim();const tt=et.length>1,nt={type:"list",raw:"",ordered:tt,start:tt?+et.slice(0,-1):"",loose:!1,items:[]};et=tt?`\\d{1,9}\\${et.slice(-1)}`:`\\${et}`,this.options.pedantic&&(et=tt?et:"[*+-]");const rt=new RegExp(`^( {0,3}${et})((?:[	 ][^\\n]*)?(?:\\n|$))`);let ot="",st="",ct=!1;for(;$;){let lt=!1;if(!(_e=rt.exec($))||this.rules.block.hr.test($))break;ot=_e[0],$=$.substring(ot.length);let at=_e[2].split(`
`,1)[0].replace(/^\t+/,pt=>" ".repeat(3*pt.length)),it=$.split(`
`,1)[0],ut=0;this.options.pedantic?(ut=2,st=at.trimStart()):(ut=_e[2].search(/[^ ]/),ut=ut>4?1:ut,st=at.slice(ut),ut+=_e[1].length);let dt=!1;if(!at&&/^ *$/.test(it)&&(ot+=it+`
`,$=$.substring(it.length+1),lt=!0),!lt){const pt=new RegExp(`^ {0,${Math.min(3,ut-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),mt=new RegExp(`^ {0,${Math.min(3,ut-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),gt=new RegExp(`^ {0,${Math.min(3,ut-1)}}(?:\`\`\`|~~~)`),vt=new RegExp(`^ {0,${Math.min(3,ut-1)}}#`);for(;$;){const yt=$.split(`
`,1)[0];if(it=yt,this.options.pedantic&&(it=it.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),gt.test(it)||vt.test(it)||pt.test(it)||mt.test($))break;if(it.search(/[^ ]/)>=ut||!it.trim())st+=`
`+it.slice(ut);else{if(dt||at.search(/[^ ]/)>=4||gt.test(at)||vt.test(at)||mt.test(at))break;st+=`
`+it}!dt&&!it.trim()&&(dt=!0),ot+=yt+`
`,$=$.substring(yt.length+1),at=it.slice(ut)}}nt.loose||(ct?nt.loose=!0:/\n *\n *$/.test(ot)&&(ct=!0));let ht=null,ft;this.options.gfm&&(ht=/^\[[ xX]\] /.exec(st),ht&&(ft=ht[0]!=="[ ] ",st=st.replace(/^\[[ xX]\] +/,""))),nt.items.push({type:"list_item",raw:ot,task:!!ht,checked:ft,loose:!1,text:st,tokens:[]}),nt.raw+=ot}nt.items[nt.items.length-1].raw=ot.trimEnd(),nt.items[nt.items.length-1].text=st.trimEnd(),nt.raw=nt.raw.trimEnd();for(let lt=0;lt<nt.items.length;lt++)if(this.lexer.state.top=!1,nt.items[lt].tokens=this.lexer.blockTokens(nt.items[lt].text,[]),!nt.loose){const at=nt.items[lt].tokens.filter(ut=>ut.type==="space"),it=at.length>0&&at.some(ut=>/\n.*\n/.test(ut.raw));nt.loose=it}if(nt.loose)for(let lt=0;lt<nt.items.length;lt++)nt.items[lt].loose=!0;return nt}}html($){const _e=this.rules.block.html.exec($);if(_e)return{type:"html",block:!0,raw:_e[0],pre:_e[1]==="pre"||_e[1]==="script"||_e[1]==="style",text:_e[0]}}def($){const _e=this.rules.block.def.exec($);if(_e){const et=_e[1].toLowerCase().replace(/\s+/g," "),tt=_e[2]?_e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",nt=_e[3]?_e[3].substring(1,_e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):_e[3];return{type:"def",tag:et,raw:_e[0],href:tt,title:nt}}}table($){const _e=this.rules.block.table.exec($);if(!_e||!/[:|]/.test(_e[2]))return;const et=splitCells(_e[1]),tt=_e[2].replace(/^\||\| *$/g,"").split("|"),nt=_e[3]&&_e[3].trim()?_e[3].replace(/\n[ \t]*$/,"").split(`
`):[],rt={type:"table",raw:_e[0],header:[],align:[],rows:[]};if(et.length===tt.length){for(const ot of tt)/^ *-+: *$/.test(ot)?rt.align.push("right"):/^ *:-+: *$/.test(ot)?rt.align.push("center"):/^ *:-+ *$/.test(ot)?rt.align.push("left"):rt.align.push(null);for(const ot of et)rt.header.push({text:ot,tokens:this.lexer.inline(ot)});for(const ot of nt)rt.rows.push(splitCells(ot,rt.header.length).map(st=>({text:st,tokens:this.lexer.inline(st)})));return rt}}lheading($){const _e=this.rules.block.lheading.exec($);if(_e)return{type:"heading",raw:_e[0],depth:_e[2].charAt(0)==="="?1:2,text:_e[1],tokens:this.lexer.inline(_e[1])}}paragraph($){const _e=this.rules.block.paragraph.exec($);if(_e){const et=_e[1].charAt(_e[1].length-1)===`
`?_e[1].slice(0,-1):_e[1];return{type:"paragraph",raw:_e[0],text:et,tokens:this.lexer.inline(et)}}}text($){const _e=this.rules.block.text.exec($);if(_e)return{type:"text",raw:_e[0],text:_e[0],tokens:this.lexer.inline(_e[0])}}escape($){const _e=this.rules.inline.escape.exec($);if(_e)return{type:"escape",raw:_e[0],text:escape$1(_e[1])}}tag($){const _e=this.rules.inline.tag.exec($);if(_e)return!this.lexer.state.inLink&&/^<a /i.test(_e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(_e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(_e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(_e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:_e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:_e[0]}}link($){const _e=this.rules.inline.link.exec($);if(_e){const et=_e[2].trim();if(!this.options.pedantic&&/^</.test(et)){if(!/>$/.test(et))return;const rt=rtrim(et.slice(0,-1),"\\");if((et.length-rt.length)%2===0)return}else{const rt=findClosingBracket(_e[2],"()");if(rt>-1){const st=(_e[0].indexOf("!")===0?5:4)+_e[1].length+rt;_e[2]=_e[2].substring(0,rt),_e[0]=_e[0].substring(0,st).trim(),_e[3]=""}}let tt=_e[2],nt="";if(this.options.pedantic){const rt=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(tt);rt&&(tt=rt[1],nt=rt[3])}else nt=_e[3]?_e[3].slice(1,-1):"";return tt=tt.trim(),/^</.test(tt)&&(this.options.pedantic&&!/>$/.test(et)?tt=tt.slice(1):tt=tt.slice(1,-1)),outputLink(_e,{href:tt&&tt.replace(this.rules.inline.anyPunctuation,"$1"),title:nt&&nt.replace(this.rules.inline.anyPunctuation,"$1")},_e[0],this.lexer)}}reflink($,_e){let et;if((et=this.rules.inline.reflink.exec($))||(et=this.rules.inline.nolink.exec($))){const tt=(et[2]||et[1]).replace(/\s+/g," "),nt=_e[tt.toLowerCase()];if(!nt){const rt=et[0].charAt(0);return{type:"text",raw:rt,text:rt}}return outputLink(et,nt,et[0],this.lexer)}}emStrong($,_e,et=""){let tt=this.rules.inline.emStrongLDelim.exec($);if(!tt||tt[3]&&et.match(/[\p{L}\p{N}]/u))return;if(!(tt[1]||tt[2]||"")||!et||this.rules.inline.punctuation.exec(et)){const rt=[...tt[0]].length-1;let ot,st,ct=rt,lt=0;const at=tt[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(at.lastIndex=0,_e=_e.slice(-1*$.length+rt);(tt=at.exec(_e))!=null;){if(ot=tt[1]||tt[2]||tt[3]||tt[4]||tt[5]||tt[6],!ot)continue;if(st=[...ot].length,tt[3]||tt[4]){ct+=st;continue}else if((tt[5]||tt[6])&&rt%3&&!((rt+st)%3)){lt+=st;continue}if(ct-=st,ct>0)continue;st=Math.min(st,st+ct+lt);const it=[...tt[0]][0].length,ut=$.slice(0,rt+tt.index+it+st);if(Math.min(rt,st)%2){const ht=ut.slice(1,-1);return{type:"em",raw:ut,text:ht,tokens:this.lexer.inlineTokens(ht)}}const dt=ut.slice(2,-2);return{type:"strong",raw:ut,text:dt,tokens:this.lexer.inlineTokens(dt)}}}}codespan($){const _e=this.rules.inline.code.exec($);if(_e){let et=_e[2].replace(/\n/g," ");const tt=/[^ ]/.test(et),nt=/^ /.test(et)&&/ $/.test(et);return tt&&nt&&(et=et.substring(1,et.length-1)),et=escape$1(et,!0),{type:"codespan",raw:_e[0],text:et}}}br($){const _e=this.rules.inline.br.exec($);if(_e)return{type:"br",raw:_e[0]}}del($){const _e=this.rules.inline.del.exec($);if(_e)return{type:"del",raw:_e[0],text:_e[2],tokens:this.lexer.inlineTokens(_e[2])}}autolink($){const _e=this.rules.inline.autolink.exec($);if(_e){let et,tt;return _e[2]==="@"?(et=escape$1(_e[1]),tt="mailto:"+et):(et=escape$1(_e[1]),tt=et),{type:"link",raw:_e[0],text:et,href:tt,tokens:[{type:"text",raw:et,text:et}]}}}url($){var et;let _e;if(_e=this.rules.inline.url.exec($)){let tt,nt;if(_e[2]==="@")tt=escape$1(_e[0]),nt="mailto:"+tt;else{let rt;do rt=_e[0],_e[0]=((et=this.rules.inline._backpedal.exec(_e[0]))==null?void 0:et[0])??"";while(rt!==_e[0]);tt=escape$1(_e[0]),_e[1]==="www."?nt="http://"+_e[0]:nt=_e[0]}return{type:"link",raw:_e[0],text:tt,href:nt,tokens:[{type:"text",raw:tt,text:tt}]}}}inlineText($){const _e=this.rules.inline.text.exec($);if(_e){let et;return this.lexer.state.inRawBlock?et=_e[0]:et=escape$1(_e[0]),{type:"text",raw:_e[0],text:et}}}}const newline=/^(?: *(?:\n|$))+/,blockCode=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,bullet=/(?:[*+-]|\d{1,9}[.)])/,lheading=edit(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,bullet).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),_paragraph=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,blockText=/^[^\n]+/,_blockLabel=/(?!\s*\])(?:\\.|[^\[\]\\])+/,def=edit(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",_blockLabel).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),list=edit(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,bullet).getRegex(),_tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",_comment=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,html=edit("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",_comment).replace("tag",_tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),paragraph=edit(_paragraph).replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex(),blockquote=edit(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",paragraph).getRegex(),blockNormal={blockquote,code:blockCode,def,fences,heading,hr,html,lheading,list,newline,paragraph,table:noopTest,text:blockText},gfmTable=edit("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex(),blockGfm={...blockNormal,table:gfmTable,paragraph:edit(_paragraph).replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",gfmTable).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex()},blockPedantic={...blockNormal,html:edit(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",_comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(_paragraph).replace("hr",hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",lheading).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},escape$2=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,inlineCode=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br=/^( {2,}|\\)\n(?!\s*$)/,inlineText=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,_punctuation="\\p{P}\\p{S}",punctuation=edit(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,_punctuation).getRegex(),blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,emStrongLDelim=edit(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,_punctuation).getRegex(),emStrongRDelimAst=edit("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,_punctuation).getRegex(),emStrongRDelimUnd=edit("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,_punctuation).getRegex(),anyPunctuation=edit(/\\([punct])/,"gu").replace(/punct/g,_punctuation).getRegex(),autolink=edit(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),_inlineComment=edit(_comment).replace("(?:-->|$)","-->").getRegex(),tag=edit("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",_inlineComment).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),_inlineLabel=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,link=edit(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",_inlineLabel).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),reflink=edit(/^!?\[(label)\]\[(ref)\]/).replace("label",_inlineLabel).replace("ref",_blockLabel).getRegex(),nolink=edit(/^!?\[(ref)\](?:\[\])?/).replace("ref",_blockLabel).getRegex(),reflinkSearch=edit("reflink|nolink(?!\\()","g").replace("reflink",reflink).replace("nolink",nolink).getRegex(),inlineNormal={_backpedal:noopTest,anyPunctuation,autolink,blockSkip,br,code:inlineCode,del:noopTest,emStrongLDelim,emStrongRDelimAst,emStrongRDelimUnd,escape:escape$2,link,nolink,punctuation,reflink,reflinkSearch,tag,text:inlineText,url:noopTest},inlinePedantic={...inlineNormal,link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",_inlineLabel).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_inlineLabel).getRegex()},inlineGfm={...inlineNormal,escape:edit(escape$2).replace("])","~|])").getRegex(),url:edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},inlineBreaks={...inlineGfm,br:edit(br).replace("{2,}","*").getRegex(),text:edit(inlineGfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},block={normal:blockNormal,gfm:blockGfm,pedantic:blockPedantic},inline={normal:inlineNormal,gfm:inlineGfm,breaks:inlineBreaks,pedantic:inlinePedantic};class _Lexer{constructor($){Hn(this,"tokens");Hn(this,"options");Hn(this,"state");Hn(this,"tokenizer");Hn(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=$||_defaults,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const _e={block:block.normal,inline:inline.normal};this.options.pedantic?(_e.block=block.pedantic,_e.inline=inline.pedantic):this.options.gfm&&(_e.block=block.gfm,this.options.breaks?_e.inline=inline.breaks:_e.inline=inline.gfm),this.tokenizer.rules=_e}static get rules(){return{block,inline}}static lex($,_e){return new _Lexer(_e).lex($)}static lexInline($,_e){return new _Lexer(_e).inlineTokens($)}lex($){$=$.replace(/\r\n|\r/g,`
`),this.blockTokens($,this.tokens);for(let _e=0;_e<this.inlineQueue.length;_e++){const et=this.inlineQueue[_e];this.inlineTokens(et.src,et.tokens)}return this.inlineQueue=[],this.tokens}blockTokens($,_e=[]){this.options.pedantic?$=$.replace(/\t/g,"    ").replace(/^ +$/gm,""):$=$.replace(/^( *)(\t+)/gm,(ot,st,ct)=>st+"    ".repeat(ct.length));let et,tt,nt,rt;for(;$;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(ot=>(et=ot.call({lexer:this},$,_e))?($=$.substring(et.raw.length),_e.push(et),!0):!1))){if(et=this.tokenizer.space($)){$=$.substring(et.raw.length),et.raw.length===1&&_e.length>0?_e[_e.length-1].raw+=`
`:_e.push(et);continue}if(et=this.tokenizer.code($)){$=$.substring(et.raw.length),tt=_e[_e.length-1],tt&&(tt.type==="paragraph"||tt.type==="text")?(tt.raw+=`
`+et.raw,tt.text+=`
`+et.text,this.inlineQueue[this.inlineQueue.length-1].src=tt.text):_e.push(et);continue}if(et=this.tokenizer.fences($)){$=$.substring(et.raw.length),_e.push(et);continue}if(et=this.tokenizer.heading($)){$=$.substring(et.raw.length),_e.push(et);continue}if(et=this.tokenizer.hr($)){$=$.substring(et.raw.length),_e.push(et);continue}if(et=this.tokenizer.blockquote($)){$=$.substring(et.raw.length),_e.push(et);continue}if(et=this.tokenizer.list($)){$=$.substring(et.raw.length),_e.push(et);continue}if(et=this.tokenizer.html($)){$=$.substring(et.raw.length),_e.push(et);continue}if(et=this.tokenizer.def($)){$=$.substring(et.raw.length),tt=_e[_e.length-1],tt&&(tt.type==="paragraph"||tt.type==="text")?(tt.raw+=`
`+et.raw,tt.text+=`
`+et.raw,this.inlineQueue[this.inlineQueue.length-1].src=tt.text):this.tokens.links[et.tag]||(this.tokens.links[et.tag]={href:et.href,title:et.title});continue}if(et=this.tokenizer.table($)){$=$.substring(et.raw.length),_e.push(et);continue}if(et=this.tokenizer.lheading($)){$=$.substring(et.raw.length),_e.push(et);continue}if(nt=$,this.options.extensions&&this.options.extensions.startBlock){let ot=1/0;const st=$.slice(1);let ct;this.options.extensions.startBlock.forEach(lt=>{ct=lt.call({lexer:this},st),typeof ct=="number"&&ct>=0&&(ot=Math.min(ot,ct))}),ot<1/0&&ot>=0&&(nt=$.substring(0,ot+1))}if(this.state.top&&(et=this.tokenizer.paragraph(nt))){tt=_e[_e.length-1],rt&&tt.type==="paragraph"?(tt.raw+=`
`+et.raw,tt.text+=`
`+et.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=tt.text):_e.push(et),rt=nt.length!==$.length,$=$.substring(et.raw.length);continue}if(et=this.tokenizer.text($)){$=$.substring(et.raw.length),tt=_e[_e.length-1],tt&&tt.type==="text"?(tt.raw+=`
`+et.raw,tt.text+=`
`+et.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=tt.text):_e.push(et);continue}if($){const ot="Infinite loop on byte: "+$.charCodeAt(0);if(this.options.silent){console.error(ot);break}else throw new Error(ot)}}return this.state.top=!0,_e}inline($,_e=[]){return this.inlineQueue.push({src:$,tokens:_e}),_e}inlineTokens($,_e=[]){let et,tt,nt,rt=$,ot,st,ct;if(this.tokens.links){const lt=Object.keys(this.tokens.links);if(lt.length>0)for(;(ot=this.tokenizer.rules.inline.reflinkSearch.exec(rt))!=null;)lt.includes(ot[0].slice(ot[0].lastIndexOf("[")+1,-1))&&(rt=rt.slice(0,ot.index)+"["+"a".repeat(ot[0].length-2)+"]"+rt.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ot=this.tokenizer.rules.inline.blockSkip.exec(rt))!=null;)rt=rt.slice(0,ot.index)+"["+"a".repeat(ot[0].length-2)+"]"+rt.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ot=this.tokenizer.rules.inline.anyPunctuation.exec(rt))!=null;)rt=rt.slice(0,ot.index)+"++"+rt.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;$;)if(st||(ct=""),st=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(lt=>(et=lt.call({lexer:this},$,_e))?($=$.substring(et.raw.length),_e.push(et),!0):!1))){if(et=this.tokenizer.escape($)){$=$.substring(et.raw.length),_e.push(et);continue}if(et=this.tokenizer.tag($)){$=$.substring(et.raw.length),tt=_e[_e.length-1],tt&&et.type==="text"&&tt.type==="text"?(tt.raw+=et.raw,tt.text+=et.text):_e.push(et);continue}if(et=this.tokenizer.link($)){$=$.substring(et.raw.length),_e.push(et);continue}if(et=this.tokenizer.reflink($,this.tokens.links)){$=$.substring(et.raw.length),tt=_e[_e.length-1],tt&&et.type==="text"&&tt.type==="text"?(tt.raw+=et.raw,tt.text+=et.text):_e.push(et);continue}if(et=this.tokenizer.emStrong($,rt,ct)){$=$.substring(et.raw.length),_e.push(et);continue}if(et=this.tokenizer.codespan($)){$=$.substring(et.raw.length),_e.push(et);continue}if(et=this.tokenizer.br($)){$=$.substring(et.raw.length),_e.push(et);continue}if(et=this.tokenizer.del($)){$=$.substring(et.raw.length),_e.push(et);continue}if(et=this.tokenizer.autolink($)){$=$.substring(et.raw.length),_e.push(et);continue}if(!this.state.inLink&&(et=this.tokenizer.url($))){$=$.substring(et.raw.length),_e.push(et);continue}if(nt=$,this.options.extensions&&this.options.extensions.startInline){let lt=1/0;const at=$.slice(1);let it;this.options.extensions.startInline.forEach(ut=>{it=ut.call({lexer:this},at),typeof it=="number"&&it>=0&&(lt=Math.min(lt,it))}),lt<1/0&&lt>=0&&(nt=$.substring(0,lt+1))}if(et=this.tokenizer.inlineText(nt)){$=$.substring(et.raw.length),et.raw.slice(-1)!=="_"&&(ct=et.raw.slice(-1)),st=!0,tt=_e[_e.length-1],tt&&tt.type==="text"?(tt.raw+=et.raw,tt.text+=et.text):_e.push(et);continue}if($){const lt="Infinite loop on byte: "+$.charCodeAt(0);if(this.options.silent){console.error(lt);break}else throw new Error(lt)}}return _e}}class _Renderer{constructor($){Hn(this,"options");this.options=$||_defaults}code($,_e,et){var nt;const tt=(nt=(_e||"").match(/^\S*/))==null?void 0:nt[0];return $=$.replace(/\n$/,"")+`
`,tt?'<pre><code class="language-'+escape$1(tt)+'">'+(et?$:escape$1($,!0))+`</code></pre>
`:"<pre><code>"+(et?$:escape$1($,!0))+`</code></pre>
`}blockquote($){return`<blockquote>
${$}</blockquote>
`}html($,_e){return $}heading($,_e,et){return`<h${_e}>${$}</h${_e}>
`}hr(){return`<hr>
`}list($,_e,et){const tt=_e?"ol":"ul",nt=_e&&et!==1?' start="'+et+'"':"";return"<"+tt+nt+`>
`+$+"</"+tt+`>
`}listitem($,_e,et){return`<li>${$}</li>
`}checkbox($){return"<input "+($?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph($){return`<p>${$}</p>
`}table($,_e){return _e&&(_e=`<tbody>${_e}</tbody>`),`<table>
<thead>
`+$+`</thead>
`+_e+`</table>
`}tablerow($){return`<tr>
${$}</tr>
`}tablecell($,_e){const et=_e.header?"th":"td";return(_e.align?`<${et} align="${_e.align}">`:`<${et}>`)+$+`</${et}>
`}strong($){return`<strong>${$}</strong>`}em($){return`<em>${$}</em>`}codespan($){return`<code>${$}</code>`}br(){return"<br>"}del($){return`<del>${$}</del>`}link($,_e,et){const tt=cleanUrl($);if(tt===null)return et;$=tt;let nt='<a href="'+$+'"';return _e&&(nt+=' title="'+_e+'"'),nt+=">"+et+"</a>",nt}image($,_e,et){const tt=cleanUrl($);if(tt===null)return et;$=tt;let nt=`<img src="${$}" alt="${et}"`;return _e&&(nt+=` title="${_e}"`),nt+=">",nt}text($){return $}}class _TextRenderer{strong($){return $}em($){return $}codespan($){return $}del($){return $}html($){return $}text($){return $}link($,_e,et){return""+et}image($,_e,et){return""+et}br(){return""}}class _Parser{constructor($){Hn(this,"options");Hn(this,"renderer");Hn(this,"textRenderer");this.options=$||_defaults,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new _TextRenderer}static parse($,_e){return new _Parser(_e).parse($)}static parseInline($,_e){return new _Parser(_e).parseInline($)}parse($,_e=!0){let et="";for(let tt=0;tt<$.length;tt++){const nt=$[tt];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[nt.type]){const rt=nt,ot=this.options.extensions.renderers[rt.type].call({parser:this},rt);if(ot!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(rt.type)){et+=ot||"";continue}}switch(nt.type){case"space":continue;case"hr":{et+=this.renderer.hr();continue}case"heading":{const rt=nt;et+=this.renderer.heading(this.parseInline(rt.tokens),rt.depth,unescape$1(this.parseInline(rt.tokens,this.textRenderer)));continue}case"code":{const rt=nt;et+=this.renderer.code(rt.text,rt.lang,!!rt.escaped);continue}case"table":{const rt=nt;let ot="",st="";for(let lt=0;lt<rt.header.length;lt++)st+=this.renderer.tablecell(this.parseInline(rt.header[lt].tokens),{header:!0,align:rt.align[lt]});ot+=this.renderer.tablerow(st);let ct="";for(let lt=0;lt<rt.rows.length;lt++){const at=rt.rows[lt];st="";for(let it=0;it<at.length;it++)st+=this.renderer.tablecell(this.parseInline(at[it].tokens),{header:!1,align:rt.align[it]});ct+=this.renderer.tablerow(st)}et+=this.renderer.table(ot,ct);continue}case"blockquote":{const rt=nt,ot=this.parse(rt.tokens);et+=this.renderer.blockquote(ot);continue}case"list":{const rt=nt,ot=rt.ordered,st=rt.start,ct=rt.loose;let lt="";for(let at=0;at<rt.items.length;at++){const it=rt.items[at],ut=it.checked,dt=it.task;let ht="";if(it.task){const ft=this.renderer.checkbox(!!ut);ct?it.tokens.length>0&&it.tokens[0].type==="paragraph"?(it.tokens[0].text=ft+" "+it.tokens[0].text,it.tokens[0].tokens&&it.tokens[0].tokens.length>0&&it.tokens[0].tokens[0].type==="text"&&(it.tokens[0].tokens[0].text=ft+" "+it.tokens[0].tokens[0].text)):it.tokens.unshift({type:"text",text:ft+" "}):ht+=ft+" "}ht+=this.parse(it.tokens,ct),lt+=this.renderer.listitem(ht,dt,!!ut)}et+=this.renderer.list(lt,ot,st);continue}case"html":{const rt=nt;et+=this.renderer.html(rt.text,rt.block);continue}case"paragraph":{const rt=nt;et+=this.renderer.paragraph(this.parseInline(rt.tokens));continue}case"text":{let rt=nt,ot=rt.tokens?this.parseInline(rt.tokens):rt.text;for(;tt+1<$.length&&$[tt+1].type==="text";)rt=$[++tt],ot+=`
`+(rt.tokens?this.parseInline(rt.tokens):rt.text);et+=_e?this.renderer.paragraph(ot):ot;continue}default:{const rt='Token with "'+nt.type+'" type was not found.';if(this.options.silent)return console.error(rt),"";throw new Error(rt)}}}return et}parseInline($,_e){_e=_e||this.renderer;let et="";for(let tt=0;tt<$.length;tt++){const nt=$[tt];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[nt.type]){const rt=this.options.extensions.renderers[nt.type].call({parser:this},nt);if(rt!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(nt.type)){et+=rt||"";continue}}switch(nt.type){case"escape":{const rt=nt;et+=_e.text(rt.text);break}case"html":{const rt=nt;et+=_e.html(rt.text);break}case"link":{const rt=nt;et+=_e.link(rt.href,rt.title,this.parseInline(rt.tokens,_e));break}case"image":{const rt=nt;et+=_e.image(rt.href,rt.title,rt.text);break}case"strong":{const rt=nt;et+=_e.strong(this.parseInline(rt.tokens,_e));break}case"em":{const rt=nt;et+=_e.em(this.parseInline(rt.tokens,_e));break}case"codespan":{const rt=nt;et+=_e.codespan(rt.text);break}case"br":{et+=_e.br();break}case"del":{const rt=nt;et+=_e.del(this.parseInline(rt.tokens,_e));break}case"text":{const rt=nt;et+=_e.text(rt.text);break}default:{const rt='Token with "'+nt.type+'" type was not found.';if(this.options.silent)return console.error(rt),"";throw new Error(rt)}}}return et}}class _Hooks{constructor($){Hn(this,"options");this.options=$||_defaults}preprocess($){return $}postprocess($){return $}processAllTokens($){return $}}Hn(_Hooks,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var Br,qr,zr,Zr;class Marked{constructor(...$){Gr(this,Br);Gr(this,zr);Hn(this,"defaults",_getDefaults());Hn(this,"options",this.setOptions);Hn(this,"parse",Hr(this,Br,qr).call(this,_Lexer.lex,_Parser.parse));Hn(this,"parseInline",Hr(this,Br,qr).call(this,_Lexer.lexInline,_Parser.parseInline));Hn(this,"Parser",_Parser);Hn(this,"Renderer",_Renderer);Hn(this,"TextRenderer",_TextRenderer);Hn(this,"Lexer",_Lexer);Hn(this,"Tokenizer",_Tokenizer);Hn(this,"Hooks",_Hooks);this.use(...$)}walkTokens($,_e){var tt,nt;let et=[];for(const rt of $)switch(et=et.concat(_e.call(this,rt)),rt.type){case"table":{const ot=rt;for(const st of ot.header)et=et.concat(this.walkTokens(st.tokens,_e));for(const st of ot.rows)for(const ct of st)et=et.concat(this.walkTokens(ct.tokens,_e));break}case"list":{const ot=rt;et=et.concat(this.walkTokens(ot.items,_e));break}default:{const ot=rt;(nt=(tt=this.defaults.extensions)==null?void 0:tt.childTokens)!=null&&nt[ot.type]?this.defaults.extensions.childTokens[ot.type].forEach(st=>{const ct=ot[st].flat(1/0);et=et.concat(this.walkTokens(ct,_e))}):ot.tokens&&(et=et.concat(this.walkTokens(ot.tokens,_e)))}}return et}use(...$){const _e=this.defaults.extensions||{renderers:{},childTokens:{}};return $.forEach(et=>{const tt={...et};if(tt.async=this.defaults.async||tt.async||!1,et.extensions&&(et.extensions.forEach(nt=>{if(!nt.name)throw new Error("extension name required");if("renderer"in nt){const rt=_e.renderers[nt.name];rt?_e.renderers[nt.name]=function(...ot){let st=nt.renderer.apply(this,ot);return st===!1&&(st=rt.apply(this,ot)),st}:_e.renderers[nt.name]=nt.renderer}if("tokenizer"in nt){if(!nt.level||nt.level!=="block"&&nt.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const rt=_e[nt.level];rt?rt.unshift(nt.tokenizer):_e[nt.level]=[nt.tokenizer],nt.start&&(nt.level==="block"?_e.startBlock?_e.startBlock.push(nt.start):_e.startBlock=[nt.start]:nt.level==="inline"&&(_e.startInline?_e.startInline.push(nt.start):_e.startInline=[nt.start]))}"childTokens"in nt&&nt.childTokens&&(_e.childTokens[nt.name]=nt.childTokens)}),tt.extensions=_e),et.renderer){const nt=this.defaults.renderer||new _Renderer(this.defaults);for(const rt in et.renderer){if(!(rt in nt))throw new Error(`renderer '${rt}' does not exist`);if(rt==="options")continue;const ot=rt,st=et.renderer[ot],ct=nt[ot];nt[ot]=(...lt)=>{let at=st.apply(nt,lt);return at===!1&&(at=ct.apply(nt,lt)),at||""}}tt.renderer=nt}if(et.tokenizer){const nt=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(const rt in et.tokenizer){if(!(rt in nt))throw new Error(`tokenizer '${rt}' does not exist`);if(["options","rules","lexer"].includes(rt))continue;const ot=rt,st=et.tokenizer[ot],ct=nt[ot];nt[ot]=(...lt)=>{let at=st.apply(nt,lt);return at===!1&&(at=ct.apply(nt,lt)),at}}tt.tokenizer=nt}if(et.hooks){const nt=this.defaults.hooks||new _Hooks;for(const rt in et.hooks){if(!(rt in nt))throw new Error(`hook '${rt}' does not exist`);if(rt==="options")continue;const ot=rt,st=et.hooks[ot],ct=nt[ot];_Hooks.passThroughHooks.has(rt)?nt[ot]=lt=>{if(this.defaults.async)return Promise.resolve(st.call(nt,lt)).then(it=>ct.call(nt,it));const at=st.call(nt,lt);return ct.call(nt,at)}:nt[ot]=(...lt)=>{let at=st.apply(nt,lt);return at===!1&&(at=ct.apply(nt,lt)),at}}tt.hooks=nt}if(et.walkTokens){const nt=this.defaults.walkTokens,rt=et.walkTokens;tt.walkTokens=function(ot){let st=[];return st.push(rt.call(this,ot)),nt&&(st=st.concat(nt.call(this,ot))),st}}this.defaults={...this.defaults,...tt}}),this}setOptions($){return this.defaults={...this.defaults,...$},this}lexer($,_e){return _Lexer.lex($,_e??this.defaults)}parser($,_e){return _Parser.parse($,_e??this.defaults)}}Br=new WeakSet,qr=function($,_e){return(et,tt)=>{const nt={...tt},rt={...this.defaults,...nt};this.defaults.async===!0&&nt.async===!1&&(rt.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),rt.async=!0);const ot=Hr(this,zr,Zr).call(this,!!rt.silent,!!rt.async);if(typeof et>"u"||et===null)return ot(new Error("marked(): input parameter is undefined or null"));if(typeof et!="string")return ot(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(et)+", string expected"));if(rt.hooks&&(rt.hooks.options=rt),rt.async)return Promise.resolve(rt.hooks?rt.hooks.preprocess(et):et).then(st=>$(st,rt)).then(st=>rt.hooks?rt.hooks.processAllTokens(st):st).then(st=>rt.walkTokens?Promise.all(this.walkTokens(st,rt.walkTokens)).then(()=>st):st).then(st=>_e(st,rt)).then(st=>rt.hooks?rt.hooks.postprocess(st):st).catch(ot);try{rt.hooks&&(et=rt.hooks.preprocess(et));let st=$(et,rt);rt.hooks&&(st=rt.hooks.processAllTokens(st)),rt.walkTokens&&this.walkTokens(st,rt.walkTokens);let ct=_e(st,rt);return rt.hooks&&(ct=rt.hooks.postprocess(ct)),ct}catch(st){return ot(st)}}},zr=new WeakSet,Zr=function($,_e){return et=>{if(et.message+=`
Please report this to https://github.com/markedjs/marked.`,$){const tt="<p>An error occurred:</p><pre>"+escape$1(et.message+"",!0)+"</pre>";return _e?Promise.resolve(tt):tt}if(_e)return Promise.reject(et);throw et}};const markedInstance=new Marked;function marked(b,$){return markedInstance.parse(b,$)}marked.options=marked.setOptions=function(b){return markedInstance.setOptions(b),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.getDefaults=_getDefaults;marked.defaults=_defaults;marked.use=function(...b){return markedInstance.use(...b),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.walkTokens=function(b,$){return markedInstance.walkTokens(b,$)};marked.parseInline=markedInstance.parseInline;marked.Parser=_Parser;marked.parser=_Parser.parse;marked.Renderer=_Renderer;marked.TextRenderer=_TextRenderer;marked.Lexer=_Lexer;marked.lexer=_Lexer.lex;marked.Tokenizer=_Tokenizer;marked.Hooks=_Hooks;marked.parse=marked;marked.options;marked.setOptions;marked.use;marked.walkTokens;marked.parseInline;_Parser.parse;_Lexer.lex;function MarkdownViewer(b){let $=reactExports.useRef();return reactExports.useEffect(function(){$.current&&($.current.innerHTML=marked.parse(b.markdown))},[b.markdown]),jsxRuntimeExports.jsx("div",{ref:$})}function MessageEditorDialog({value:b,onChange:$}){const[_e,et]=reactExports.useState(!1),tt=useIcons(),nt=()=>{et(!1)},rt=()=>et(!0);return reactExports.useRef(),_e?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Modal$2,{dialogClassName:"fullwidthmodal",show:_e,onHide:nt,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{style:{marginRight:"2em"},children:"Edit Message"})}),jsxRuntimeExports.jsxs(Modal$2.Body,{style:{minHeight:"50em"},children:[jsxRuntimeExports.jsx("div",{style:{clear:"both"}}),jsxRuntimeExports.jsx(index$4,{minRows:"12",style:{width:"100%"},onChange:ot=>{$(ot.target.value)},value:b||""})]})]})}):jsxRuntimeExports.jsx(Button,{variant:"primary",style:{zIndex:0,float:"left",borderRight:"1px solid black",marginRight:"1px"},onClick:rt,children:tt.pencil})}function CodeViewer({pistonCodeRunnerEndpoint:b,language:$,code:_e,icons:et,runtimes:tt,submitForm:nt}){const[rt,ot]=reactExports.useState(""),[st,ct]=reactExports.useState(""),[lt,at]=reactExports.useState(!1);function it(){at(!0)}function ut(){at(!1)}function dt(ht,ft){console.log("RUIN",ht,ft);let pt=!1;if(tt&&Array.isArray(tt)&&tt.forEach(function(mt){(mt.language===ht||Array.isArray(mt.aliases)&&mt.aliases.indexOf(ht)!==-1)&&(pt=mt)}),pt){let mt={language:pt.language,version:pt.version,files:[{name:"sample code",content:ft}],stdin:"",args:[],compile_timeout:1e4,run_timeout:3e3,compile_memory_limit:-1,run_memory_limit:-1};ot("");try{it(),fetch(b+"/api/v2/piston/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(mt)}).then(function(gt){console.log("ai response",gt),gt.json().then(function(vt){console.log("CODE RESPONSE",vt),vt&&vt.compile&&vt.compile.stderr?ot(vt.compile.stderr):vt&&vt.run&&vt.run.stderr&&ot(vt.run.stderr),vt&&vt.run&&vt.run.stdout?ct(vt.run.stdout):ct("No response"),ut()})})}catch(gt){console.error("Speech generateion error:",gt)}}}return jsxRuntimeExports.jsxs("div",{style:{position:"relative"},children:[jsxRuntimeExports.jsxs("pre",{style:{border:"1px dashed green",padding:"0.3em"},children:[jsxRuntimeExports.jsx(Button,{style:{marginLeft:"0.3em",float:"right"},onClick:function(){navigator.clipboard.writeText(_e)},children:et.filecopy}),jsxRuntimeExports.jsx(Button,{variant:"success",style:{marginLeft:"0.3em",float:"right"},onClick:function(){dt($,_e)},children:et.play}),_e]}),rt&&jsxRuntimeExports.jsx("pre",{style:{border:"1px solid grey",color:"red"},children:rt}),st&&jsxRuntimeExports.jsx("pre",{children:st}),lt&&jsxRuntimeExports.jsx("b",{children:jsxRuntimeExports.jsx("img",{style:{height:"6em"},src:"/spinner.svg"})})]})}function CopyTextButton({text:b,icons:$}){const[_e,et]=reactExports.useState(!1),tt=reactExports.useRef(null);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{size:"sm",ref:tt,onClick:function(){b&&b.length>0&&(navigator.clipboard.writeText(b),et(!0),setTimeout(function(){et(!1)},2e3))},children:$.filecopy}),jsxRuntimeExports.jsx(Overlay,{target:tt.current,show:_e,placement:"left",children:({placement:nt,arrowProps:rt,show:ot,popper:st,hasDoneInitialMeasure:ct,...lt})=>jsxRuntimeExports.jsxs("div",{...lt,style:{position:"absolute",backgroundColor:"rgba(255, 100, 100, 0.95)",padding:"2px 10px",marginRight:"0.5em",color:"white",borderRadius:3,...lt.style},children:["Copied ",b&&b.length," letters"]})})]})}function CategoriesSelectorModal({defaultOptions:b,forceRefresh:$,onChange:_e,value:et,allowNew:tt,blockDeselectAll:nt}){const rt=useIcons(),[ot,st]=reactExports.useState(!1);reactExports.useState(!1);const[ct,lt]=reactExports.useState(""),[at,it]=reactExports.useState(b),ut=()=>{st(!1)},dt=()=>st(!0);function ht(bt){if(Array.isArray(bt)){var xt={};return bt.map(function(_t){return xt[_t]=!0,null}),Object.keys(xt)}else return[]}var ft=null;function pt(bt){lt(bt.target.value.toLowerCase()),bt.target.value?(ft&&clearTimeout(ft),ft=setTimeout(function(){let xt=Array.isArray(at)?at:[];it(xt.filter(function(_t){return _t.indexOf(bt.target.value)!==-1}))},500)):it(b)}function mt(bt){if(bt&&bt.trim()){var xt=Array.isArray(et)?et:[];xt.push(bt);var _t=ht(xt);lt(""),it(at),_e(_t)}}function gt(bt){var xt=Array.isArray(et)?et:[];xt.push(bt);var _t=ht(xt);lt(""),it(at),_e(_t)}function vt(bt){var xt=et.filter(function(_t){return _t!==bt});_e(xt)}var yt=Array.isArray(at)?at:[];return yt.sort(function(bt,xt){return bt>xt?1:-1}),ot?jsxRuntimeExports.jsx("span",{style:{float:"right"},children:jsxRuntimeExports.jsxs(Modal$2,{show:ot,onHide:ut,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{children:"Select Categories"})}),jsxRuntimeExports.jsxs(Modal$2.Body,{style:{minHeight:"800px"},children:[jsxRuntimeExports.jsx(Button,{onClick:function(){ut()},variant:"success",style:{float:"right",marginBottom:"0.3em"},children:"OK"}),jsxRuntimeExports.jsx("div",{children:Array.isArray(et)&&et.map(function(bt){return jsxRuntimeExports.jsxs(Button,{style:{marginRight:"0.2em"},variant:"info",onClick:function(xt){vt(bt)},children:[rt.bin," ",bt]},bt)})}),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginTop:"1em"}}),jsxRuntimeExports.jsx("input",{type:"search",value:ct,onChange:pt,onFocus:function(){},onBlur:function(){}}),tt&&jsxRuntimeExports.jsx(Button,{style:{marginLeft:"0.3em"},onClick:function(){mt(ct)},children:"New Category"},"newcategory"),jsxRuntimeExports.jsx(ListGroup$1,{style:{zIndex:"30",clear:"both",width:"100%"},children:yt.map(function(bt,xt){return jsxRuntimeExports.jsx(ListGroup$1.Item,{className:xt%2===0?"even":"odd",onClick:function(_t){gt(bt)},children:bt},xt)})})]}),jsxRuntimeExports.jsx(Modal$2.Footer,{style:{minHeight:"800px",verticalAlign:"top"}})]})}):jsxRuntimeExports.jsxs(ButtonGroup,{style:{height:"2.37em"},variant:"secondary",children:[!nt&&jsxRuntimeExports.jsx(Button,{size:"sm",variant:"dark",onClick:function(){_e([])},children:rt.close}),jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"secondary",onClick:dt,children:[jsxRuntimeExports.jsxs("span",{children:[" ",rt.tag]}),!nt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["   ",et&&Array.isArray(et)&&et.join(",")]})]})]})}function RoleList({onChange:b,chatHistoryId:$,roles:_e,deleteRole:et,setRoles:tt,loadRole:nt,importRoles:rt,exportRoles:ot,newRole:st,mini:ct,handleClose:lt,setCurrentRole:at,setCurrentTeam:it,categories:ut,duplicateRole:dt,forceRefresh:ht,categoryFilter:ft,setCategoryFilter:pt}){const mt=useIcons(),[gt,vt]=reactExports.useState("");reactExports.useRef();function yt(xt){if(gt.trim().length===0){let _t=_e[xt],wt=!0;return Array.isArray(ft)&&ft.length>0?(ft.forEach(function(At){Array.isArray(_t.category)&&_t.category.indexOf(At)!==-1||(wt=!1)}),wt):!0}else if(_e&&_e[xt]&&_e[xt].name&&_e[xt].name.toLowerCase().indexOf(gt.trim().toLowerCase())!==-1){let _t=_e[xt],wt=!0;return Array.isArray(ft)&&ft.length>0?(ft.forEach(function(At){Array.isArray(_t.category)&&_t.category.indexOf(At)!==-1||(wt=!1)}),wt):!0}else return!1}function bt(xt,_t){if(_e[xt].name)if(_e[_t].name){if(_e[xt].name.trim()<_e[_t].name.trim())return-1;if(_e[xt].name.trim()>_e[_t].name.trim())return 1;_e[xt].name.trim(),_e[_t].name.trim()}else return 1;else return-1}return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Link,{to:"/role",children:jsxRuntimeExports.jsx(Button,{variant:"success",style:{float:"left",borderRight:"1px solid black"},onClick:function(){st(),lt&&lt()},children:mt.plus})}),jsxRuntimeExports.jsx(Form$1.Control,{style:{width:"40%",float:"left",marginLeft:"1em"},placeholder:"Search",type:"input",value:gt,onChange:function(xt){vt(xt.target.value)}}),jsxRuntimeExports.jsx("span",{style:{float:"left",marginLeft:"1em"},children:jsxRuntimeExports.jsx(CategoriesSelectorModal,{allowNew:!1,value:ft,onChange:function(xt){pt(xt)},defaultOptions:ut?Object.keys(ut):[]})}),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginBottom:"0.4em"}}),jsxRuntimeExports.jsx(ListGroup$1,{children:_e&&Object.keys(_e).filter(yt).sort(bt).map(function(xt){let _t=_e[xt];return ct?jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsxs(ListGroup$1.Item,{children:[jsxRuntimeExports.jsxs(Button,{onClick:function(){b(xt)},variant:"outline-primary",style:{textAlign:"left"},children:[" ",_t.name," "]}),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginTop:"0.5em"},children:Array.isArray(_t.category)&&_t.category.map(function(wt){return jsxRuntimeExports.jsx(Badge,{variant:"secondary",size:"sm",onClick:function(At){return pt([wt]),At.stopPropagation(),!1},bg:"secondary",style:{marginLeft:"0.2em"},children:wt})})})]},xt)}):jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{style:{border:"1px solid blue",padding:"0.1em"},children:[jsxRuntimeExports.jsx(Link,{to:"/role/"+xt,onClick:function(){at(xt,$),it(null),ht()},children:jsxRuntimeExports.jsxs(Button,{variant:"outline-primary",style:{textAlign:"left"},children:[jsxRuntimeExports.jsxs(Badge,{children:[mt.palette," ",_t&&_t.samples?_t.samples.length:0]})," ",_t.name," "]})}),jsxRuntimeExports.jsxs(ButtonGroup,{style:{float:"right",marginLeft:"0.3em"},children:[jsxRuntimeExports.jsx(Button,{style:{textAlign:"right"},variant:"warning",onClick:function(){dt(xt)},children:mt.filecopy}),jsxRuntimeExports.jsx(Button,{style:{textAlign:"right"},variant:"danger",onClick:function(){et(xt)},children:mt.bin})]}),jsxRuntimeExports.jsx("span",{style:{clear:"both"},children:Array.isArray(_t.category)&&_t.category.map(function(wt){return jsxRuntimeExports.jsx(Badge,{variant:"secondary",size:"sm",onClick:function(At){return pt([wt]),At.stopPropagation(),!1},bg:"secondary",style:{float:"right",marginLeft:"0.2em"},children:wt})})})]})},xt)})})]})}function TeamList({onChange:b,chatHistoryId:$,teams:_e,setTeams:et,mini:tt,currentTeam:nt,setCurrentTeam:rt,categories:ot,deleteTeam:st,handleClose:ct,forceRefresh:lt,setCurrentRole:at,categoryFilter:it,setCategoryFilter:ut}){const dt=useIcons();reactExports.useRef();const[ht,ft]=reactExports.useState("");useUtils().generateRandomId();function mt(vt){if(ht.trim().length===0){let yt=_e[vt],bt=!0;return Array.isArray(it)&&it.length>0?(it.forEach(function(xt){Array.isArray(yt.category)&&yt.category.indexOf(xt)!==-1||(bt=!1)}),bt):!0}else if(_e&&_e[vt]&&_e[vt].name&&_e[vt].name.toLowerCase().indexOf(ht.trim().toLowerCase())!==-1){let yt=_e[vt],bt=!0;return Array.isArray(it)&&it.length>0?(it.forEach(function(xt){Array.isArray(yt.category)&&yt.category.indexOf(xt)!==-1||(bt=!1)}),bt):!0}else return!1}function gt(vt,yt){if(_e&&_e[vt]&&_e[yt])if(_e[vt].name)if(_e[yt].name){if(_e[vt].name.trim()<_e[yt].name.trim())return-1;if(_e[vt].name.trim()>_e[yt].name.trim())return 1;_e[vt].name.trim(),_e[yt].name.trim()}else return 1;else return-1;else return 1}return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Link,{to:"/team",children:jsxRuntimeExports.jsx(Button,{variant:"success",style:{float:"left",borderRight:"1px solid black"},onClick:function(){},children:dt.plus})}),jsxRuntimeExports.jsx(Form$1.Control,{style:{width:"20em",float:"left",marginLeft:"1em"},placeholder:"Search",type:"input",value:ht,onChange:function(vt){ft(vt.target.value)}}),jsxRuntimeExports.jsx("span",{style:{float:"left",marginLeft:"1em"},children:jsxRuntimeExports.jsx(CategoriesSelectorModal,{allowNew:!1,value:it,onChange:function(vt){ut(vt)},defaultOptions:ot?Object.keys(ot):[]})}),!tt&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginBottom:"0.4em"}}),jsxRuntimeExports.jsx(ListGroup$1,{children:_e&&Object.keys(_e).filter(mt).sort(gt).map(function(vt){let yt=_e[vt];return tt?jsxRuntimeExports.jsxs(ListGroup$1.Item,{children:[jsxRuntimeExports.jsxs(Button,{onClick:function(){b(vt)},variant:"outline-primary",style:{width:"70%",textAlign:"left"},children:[" ",yt.name]}),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginTop:"0.2em"},children:Array.isArray(yt.category)&&yt.category.map(function(bt){return jsxRuntimeExports.jsx(Badge,{variant:"secondary",size:"sm",onClick:function(xt){return ut([bt]),xt.stopPropagation(),!1},bg:"secondary",style:{marginLeft:"0.2em"},children:bt})})})]},vt):jsxRuntimeExports.jsxs(ListGroup$1.Item,{children:[jsxRuntimeExports.jsx(Button,{style:{float:"right"},variant:"danger",onClick:function(){st(vt)},children:dt.bin}),jsxRuntimeExports.jsx(Link,{to:"/team/"+vt,onClick:function(){rt(vt,$),ct&&ct(),lt()},children:jsxRuntimeExports.jsxs(Button,{variant:"outline-primary",style:{textAlign:"left"},children:[yt.name,"    ",jsxRuntimeExports.jsxs(Badge,{style:{float:"right",marginLeft:"0.5em"},children:[dt.palette," ",yt&&yt.samples?yt.samples.length:0]})]})}),jsxRuntimeExports.jsx("div",{style:{float:"right",marginTop:"0.2em",marginRight:"1em"},children:Array.isArray(yt.category)&&yt.category.map(function(bt){return jsxRuntimeExports.jsx(Badge,{variant:"secondary",size:"sm",onClick:function(xt){return ut([bt]),xt.stopPropagation(),!1},bg:"secondary",style:{marginLeft:"0.2em"},children:bt})})})]},vt)})})]})}function LoadRoleModal(b){const{chatHistoryId:$,roles:_e,setRoles:et,loadRole:tt,importRoles:nt,currentRole:rt,exportRoles:ot,newRole:st,setCurrentRole:ct,teams:lt,currentTeam:at,setCurrentTeam:it,categoryFilter:ut,setCategoryFilter:dt,forceRefresh:ht}=b,[ft,pt]=reactExports.useState(!1),mt=useIcons(),gt=()=>{pt(!1)},vt=()=>pt(!0);reactExports.useRef();let yt=lt&&at&&lt[at]?lt[at].name:_e&&_e[rt]?_e[rt].name:"";function bt(xt){ct(null),it(null),xt.preventDefault(),xt.stopPropagation()}return ft?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Modal$2,{show:ft,onHide:gt,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{style:{marginRight:"2em"},children:"Talk To"})}),jsxRuntimeExports.jsx(Modal$2.Body,{style:{minHeight:"50em"},children:jsxRuntimeExports.jsxs(Tabs,{defaultActiveKey:"roles",id:"uncontrolled-tab-example",className:"mb-3",children:[jsxRuntimeExports.jsx(Tab$1,{eventKey:"roles",title:"Persona",children:jsxRuntimeExports.jsx(RoleList,{...b,mini:!0,onChange:function(xt){console.log("onchange set role",xt),ct(xt,$),it(null),gt()},handleClose:gt,categories:b.categories,forceRefresh:ht})}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"teams",title:"Team",children:jsxRuntimeExports.jsx(TeamList,{...b,mini:!0,onChange:function(xt){console.log("onchange set team",xt),ct(null),it(xt,$),gt()},handleClose:gt,categories:b.categories,forceRefresh:ht})})]})})]})}):jsxRuntimeExports.jsxs(Button,{variant:"primary",onClick:vt,children:[mt.team," ",yt,(at||rt)&&jsxRuntimeExports.jsx(Badge,{style:{marginLeft:"1em"},onClick:bt,children:mt.close})]})}function AssistantSelector({forceRefresh:b,roles:$,currentRole:_e,newRole:et,importRoles:tt,exportRoles:nt,loadRole:rt,setRoles:ot,setCurrentRole:st,chatHistoryId:ct,categories:lt,setUserMessage:at,icons:it,teams:ut,setTeams:dt,currentTeam:ht,setCurrentTeam:ft,categoryFilter:pt,setCategoryFilter:mt}){let gt=null;return ht?gt=jsxRuntimeExports.jsxs(ButtonGroup,{style:{border:"1px solid blue",padding:"0.1em",float:"left",marginBottom:"0.3em"},children:[ht&&ut&&ut[ht]&&jsxRuntimeExports.jsx(Link,{style:{fborder:"1px solid blue"},className:"button",to:"/team/"+ht,children:jsxRuntimeExports.jsx(Button,{variant:"outline-none",children:it.pencil})}),jsxRuntimeExports.jsx(LoadRoleModal,{forceRefresh:b,categoryFilter:pt,setCategoryFilter:mt,roles:$,currentRole:_e,newRole:et,importRoles:tt,exportRoles:nt,loadRole:rt,setRoles:ot,setCurrentRole:st,chatHistoryId:ct,categories:lt,setUserMessage:at,icons:it,teams:ut,setTeams:dt,currentTeam:ht,setCurrentTeam:ft,teams:ut}),jsxRuntimeExports.jsx(SelectSampleModal,{setUserMessage:at,samples:ut&&ut[ht]&&Array.isArray(ut[ht].samples)?ut[ht].samples:[]})]}):gt=jsxRuntimeExports.jsxs(ButtonGroup,{style:{border:"1px solid blue",padding:"0.1em",float:"left",marginBottom:"0.3em"},children:[_e&&$&&$[_e]&&jsxRuntimeExports.jsx(Link,{style:{fborder:"1px solid blue"},className:"button",to:"/role/"+_e,children:jsxRuntimeExports.jsx(Button,{variant:"outline-none",children:it.pencil})}),jsxRuntimeExports.jsx(LoadRoleModal,{forceRefresh:b,categoryFilter:pt,setCategoryFilter:mt,roles:$,currentRole:_e,newRole:et,importRoles:tt,exportRoles:nt,loadRole:rt,setRoles:ot,setCurrentRole:st,chatHistoryId:ct,categories:lt,setUserMessage:at,icons:it,teams:ut,setTeams:dt,currentTeam:ht,setCurrentTeam:ft,teams:ut,chatHistoryId:ct}),jsxRuntimeExports.jsx(SelectSampleModal,{setUserMessage:at,samples:$&&$[_e]&&Array.isArray($[_e].samples)?$[_e].samples:[]})]}),jsxRuntimeExports.jsx("div",{children:gt})}var define_import_meta_env_default={VITE_GOOGLE_OAUTH_CLIENT_ID:"730767136065-vi1urlhhqo0pj0gcb0gtn1i3kj7mc4dl.apps.googleusercontent.com",VITE_GOOGLE_ANALYTICS_ID:"G-QTPXLSHQ31",VITE_GOOGLE_PICKER_API_KEY:"AIzaSyBL-F78yq6O8b_PoYM8V6-e3cr33EjKktY",VITE_GOOGLE_PICKER_CLIENT_ID:"730767136065-vi1urlhhqo0pj0gcb0gtn1i3kj7mc4dl.apps.googleusercontent.com",VITE_API_URL:"http://localhost",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function ChatPage({user:b,token:$,login:_e,logout:et,refresh:tt,doSave:nt,teamLlm:rt,aiUsage:ot,submitForm:st,stopAllPlaying:ct,stopLanguageModels:lt,aiLlm:at,selfHostedLlm:it,usingOpenAiTts:ut,usingSelfHostedTts:dt,usingWebSpeechTts:ht,usingMeSpeakTts:ft,usingTts:pt,usingStt:mt,usingOpenAiStt:gt,usingSelfHostedStt:vt,usingLocalStt:yt,queueSpeech:bt,getUrl:xt,playDataUri:_t,stopPlaying:wt,isPlaying:At,setIsPlaying:Pt,isMuted:jt,isMutedRef:kt,mute:St,unmute:Ct,category:Et,setCategory:Tt,exportRoles:$t,importRoles:Ot,setSystemMessage:Rt,systemMessage:Nt,setSystemConfig:Ft,systemConfig:Ht,init:zt,saveRole:an,loadRole:Jt,roles:Zt,setRoles:Qt,currentRole:qt,setCurrentRole:vn,newRole:Yt,utteranceQueue:rn,setUtteranceQueue:pn,mergeData:$n,setMergeData:on,lastLlmTrigger:Tn,autoStartMicrophone:kn,setAutoStartMicrophone:Bn,autoStopMicrophone:On,setAutoStopMicrophone:dn,refreshHash:wn,setRefreshHash:bn,forceRefresh:Sn,hasRequiredConfig:Pn,isSpeaking:In,setIsSpeaking:Ln,isWaiting:Xn,startWaiting:rr,stopWaiting:sr,userMessage:dr,userMessageRef:lr,setUserMessage:Gn,isReady:Ut,setIsReady:ln,config:gn,setConfig:Cn,llmEnabled:Fn,setLlmEnabled:Dn,icons:Un,configRef:or,utils:tr,newChat:Vt,addUserMessage:hn,addAssistantMessage:cn,setLastAssistantMessage:fn,getLastAssistantMessage:Gt,setLastUserMessage:An,getLastUserMessage:zn,chatHistoryId:Zn,chatHistoryIdRef:Vn,setChatHistoryId:Kn,chatHistories:Wn,setChatHistories:Qn,currentChatHistory:nr,revertChatHistory:ar,chatHistoryRoles:yr,setChatHistoryRoles:vr,getLastAssistantChatIndex:gr,categories:mr,configManager:qn,runtimes:Er,currentTeam:Sr,setCurrentTeam:Dr,teams:Yn,setTeams:en,accordionSelectedKey:Mn,setAccordionSelectedKey:Jn,simplifiedChat:ir,categoryFilter:_r,setCategoryFilter:wr}){let xr=0;function Tr(){Tn.current="",lt()}const kr=useNavigate();let fr=useParams();const $r=reactExports.useRef();reactExports.useEffect(function(){if(Wn||(Wn={}),fr.id)fr.id&&(Kn(fr.id),localStorage.setItem("voice2llm_last_chat",fr.id),Wn.hasOwnProperty(fr.id)?(yr||(yr={}),yr[fr.id]&&vn(yr[fr.id])):(Wn[fr.id]=[],Qn(Wn),yr||(yr={}),yr[fr.id]=qt));else{const It=localStorage.getItem("voice2llm_last_chat"),Kt=It||tr.generateRandomId();kr("/chat/"+Kt)}},[fr.id]);function Pr(It){lt(),Gn(ar(It)),at.isBusy.current=!1}let Mr=reactExports.useRef(),jr=nr();function Or(It){if(It){Tn.current="speech";let Kt=(lr.current?lr.current+" ":"")+It;if(Gn(Kt),console.log("transcript TO",It),Tn.current="speech",at.isBusy.current||it.isBusy.current||rt.isBusy.current){lt(!1),ar();let yn=(zn()?zn()+" ":"")+Kt;st(yn,gn)}else st(Kt,gn);gr("user"),gr("assistant"),Gt()}}const[Nr,Rr]=reactExports.useState(!1),Lt=reactExports.useRef(),Wt={border:"1px dashed blue",padding:"0.3em"};function Bt(It){return jsxRuntimeExports.jsx("div",{style:{position:"relative"},children:jsxRuntimeExports.jsx("pre",{style:Wt,children:It})})}function tn(It){It=String(It);let Kt=It&&It.split?It.split("```"):[],yn=[],xn=[];Object.values(Er).forEach(function(mn){xn.push(mn.language),Array.isArray(mn.aliases)&&mn.aliases.forEach(function(jn){xn.push(jn)})});for(let mn=0;mn<Kt.length;mn++){let jn=Kt[mn],cr=jn.split(`
`),pr=cr[0];mn%2===0?jn&&(jn.trim&&jn.trim().length>0||parseFloat(jn)!=NaN)&&yn.push(jsxRuntimeExports.jsx("div",{children:jn})):jn.startsWith("json")?yn.push(Bt(jn.slice(4))):jn.startsWith("mermaid")?(xr++,yn.push(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(MermaidViewer,{aiLlm:at,icons:Un,chart:jn.slice(7),submitForm:st,forceRefresh:Sn,elementId:"mermaidrenderer_"+xr})}))):jn.startsWith("abc")?yn.push(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(AbcViewer,{abc:jn.slice(3),forceRefresh:Sn})})):jn.startsWith("markdown")?yn.push(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(MarkdownViewer,{markdown:jn.slice(8)})})):jn.startsWith("python")?yn.push(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(CodeViewer,{submitForm:st,runtimes:Er,pistonCodeRunnerEndpoint:qn.codeRunnerEndpoint(),language:"python",code:jn.slice(6),icons:Un})})):jn.startsWith("javascript")?yn.push(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(CodeViewer,{submitForm:st,runtimes:Er,pistonCodeRunnerEndpoint:qn.codeRunnerEndpoint(),language:"javascript",code:jn.slice(9),icons:Un})})):xn.indexOf(pr)!==-1?yn.push(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(CodeViewer,{submitForm:st,runtimes:Er,pistonCodeRunnerEndpoint:qn.codeRunnerEndpoint(),language:pr,code:cr.slice(pr.length).join(`
`),icons:Un})})):yn.push(Bt(jn))}return yn}function sn(It){const Kt=It.target.files[0],yn=new FileReader;yn.onload=xn=>{const mn=xn.target.result;Gn(dr+mn)},yn.readAsText(Kt)}const Xt=jr?jr.filter(function(It){return It&&(It.role==="user"||It.role==="assistant")}):[];function _n(It,Kt,yn,xn){return Array.isArray(It)&&It.length>0?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{style:{marginTop:"1em"},children:jsxRuntimeExports.jsx(Accordion$1,{activeKey:yn,defaultActiveKey:yn,children:It.map(function(mn,jn){let cr=mn&&mn.log?ot.getLlmPrice(mn.log.model,mn.log.tokens_in,mn.log.tokens_out):{price_in:0,price_out:0,total:0};return jsxRuntimeExports.jsxs(Accordion$1.Item,{eventKey:jn,children:[jsxRuntimeExports.jsxs(Accordion$1.Header,{onClick:function(){xn(yn===jn?"":jn)},children:[jsxRuntimeExports.jsxs("span",{style:{width:"80%"},children:[mn&&mn.name," "]}),!ir&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Button,{style:{float:"right",marginRight:"1em"},variant:"outline-primary",children:[((mn&&mn.log?mn.log.duration:0)/1e3).toFixed(2),"s"]}),jsxRuntimeExports.jsxs(Button,{style:{float:"right",marginRight:"1em"},variant:"outline-primary",children:[mn&&mn.log?mn.log.tokens_in:0,"/",mn&&mn.log?mn.log.tokens_out:0,"     ",jsxRuntimeExports.jsxs("b",{children:["$",cr&&cr.total>0?cr.total.toFixed(4):0]})]})]})]}),jsxRuntimeExports.jsxs(Accordion$1.Body,{children:[jsxRuntimeExports.jsxs(ButtonGroup,{style:{float:"right",marginLeft:"1em"},children:[jsxRuntimeExports.jsx(MessageEditorDialog,{value:mn&&mn.content,onChange:function(pr){Vn.current&&Wn&&Wn[Vn.current]&&Wn[Vn.current][Kt]&&Wn[Vn.current][Kt].content&&Wn[Vn.current][Kt].content[jn]&&(Wn[Zn][Kt].content[jn].content=pr,Qn(Wn),Sn())}}),jsxRuntimeExports.jsx(CopyTextButton,{text:mn&&mn.content?mn.content:"",icons:Un})]}),mn&&tn(mn.content)]})]},jn)})})})}):null}const{openAiBillable:Rn,useLlm:Nn}=tr.summariseConfig(gn);let Dt=Zt&&qt&&Zt[qt]&&Zt[qt].config&&Zt[qt].config.welcomeMessage?Zt[qt].config.welcomeMessage:"";Sr&&(Dt=Yn&&Sr&&Yn[Sr]&&Yn[Sr].config&&Yn[Sr].config.welcomeMessage?Yn[Sr].config.welcomeMessage:"");const Mt=tr.generateRandomId();return jsxRuntimeExports.jsxs("div",{className:"App",id:wn,children:[jsxRuntimeExports.jsx(ConfirmDialog,{forceShow:Nr,setForceShow:Rr,title:"Revert Chat History",message:"Really discard chat messages after this and start with this message?",onCancel:function(){Rr(!1)},onConfirm:function(){Pr(Lt.current),Rr(!1)}}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{id:"menu",style:{zIndex:"9",backgroundColor:"lightgrey",border:"1px solid grey",position:"fixed",top:0,left:0,width:"100%",height:"3em"},children:[!ir&&jsxRuntimeExports.jsx("span",{style:{float:"left",marginTop:"0.2em",marginLeft:"0.2em"},children:jsxRuntimeExports.jsx(Link,{to:"/menu",children:jsxRuntimeExports.jsx(Button,{children:Un.menu})})}),ir&&jsxRuntimeExports.jsx("span",{style:{float:"left",marginTop:"0.2em",marginLeft:"0.2em"},children:jsxRuntimeExports.jsx(Link,{to:"/",onClick:function(){localStorage.setItem("voice2llm_last_chat",""),localStorage.setItem("voice2llm_last_role","")},children:jsxRuntimeExports.jsx(Button,{children:Un.home})})}),jsxRuntimeExports.jsx(Link,{to:"/chat/"+Mt,children:jsxRuntimeExports.jsx(Button,{onClick:lt,disabled:!Mt,style:{float:"left",marginTop:"0.2em",marginLeft:"0.2em"},variant:"primary",children:Un.newchat})}),jsxRuntimeExports.jsxs("span",{style:{float:"right",marginTop:"0.2em",marginRight:"0.2em"},children:[!ir&&pt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!ir&&!In&&!jt&&jsxRuntimeExports.jsx("button",{style:{marginRight:"0.2em",color:"black"},className:"btn  btn-success",id:"muteButton",onClick:function(){St(),ct()},title:"Mute",children:Un["volume-vibrate-fill"]}),!ir&&!In&&jt&&jsxRuntimeExports.jsx("button",{style:{marginRight:"0.2em",color:"black"},className:"btn btn-secondary",id:"unmuteButton",onClick:Ct,title:"UnMute",children:Un["volume-off-vibrate-fill"]}),!ir&&In&&jsxRuntimeExports.jsx("button",{style:{marginRight:"0.2em",color:"black"},className:"btn btn-success",id:"playingButton",onClick:wt,title:"Stop Playing",children:Un.speak})]}),mt&&jsxRuntimeExports.jsx(SpeechButton,{lastLlmTrigger:Tn,config:gn,aiUsage:ot,forceRefresh:Sn,stopLanguageModels:lt,autoStartMicrophone:kn,setAutoStartMicrophone:Bn,autoStopMicrophone:On,setAutoStopMicrophone:dn,isPlaying:At,allowRestart:!0,isWaiting:Xn,startWaiting:rr,stopWaiting:sr,onCancel:Tr,isReady:Ut,setIsReady:ln,onTranscript:Or,onPartialTranscript:function(It){Gn(It)}})]}),!ir&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("span",{style:{float:"right",marginTop:"0.3em",marginLeft:"0.2em",marginRight:"01em"},children:[$&&$.access_token&&jsxRuntimeExports.jsxs(Button,{onClick:function(){et()},variant:"danger",children:[!(b&&b.picture)&&Un.user_logout," ",b&&b.picture&&jsxRuntimeExports.jsx("img",{height:"28",width:"28",src:b.picture+"?access_token="+$.access_token+"&not-from-cache-please"})]}),!($&&$.access_token)&&jsxRuntimeExports.jsx(Button,{onClick:function(){_e()},variant:"success",children:Un.user})]}),jsxRuntimeExports.jsx(Link,{to:"/tokens",children:jsxRuntimeExports.jsxs("span",{style:{color:"black",float:"right",marginTop:"0.7em",marginRight:"1em"},children:[" ",jsxRuntimeExports.jsx("b",{children:ot.getTotal()})]})})]})]}),jsxRuntimeExports.jsx("div",{id:"body",style:{zIndex:"3",position:"fixed",top:"3em",left:0,width:"100%",paddingTop:"0.2em",backgroundColor:"white"},children:jsxRuntimeExports.jsxs("form",{onSubmit:function(It){return st(lr.current,gn),It.preventDefault(),!1},children:[!ir&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(AssistantSelector,{categoryFilter:_r,setCategoryFilter:wr,user:b,token:$,login:_e,logout:et,refresh:tt,doSave:nt,aiUsage:ot,submitForm:st,stopAllPlaying:ct,stopLanguageModels:lt,aiLlm:at,selfHostedLlm:it,usingOpenAiTts:ut,usingSelfHostedTts:dt,usingWebSpeechTts:ht,usingMeSpeakTts:ft,usingTts:pt,usingStt:mt,usingOpenAiStt:gt,usingSelfHostedStt:vt,usingLocalStt:yt,queueSpeech:bt,getUrl:xt,playDataUri:_t,stopPlaying:wt,isPlaying:At,setIsPlaying:Pt,isMuted:jt,isMutedRef:kt,mute:St,unmute:Ct,category:Et,setCategory:Tt,exportRoles:$t,importRoles:Ot,setSystemMessage:Rt,systemMessage:Nt,setSystemConfig:Ft,systemConfig:Ht,init:zt,saveRole:an,loadRole:Jt,roles:Zt,setRoles:Qt,currentRole:qt,setCurrentRole:vn,newRole:Yt,utteranceQueue:rn,setUtteranceQueue:pn,mergeData:$n,setMergeData:on,lastLlmTrigger:Tn,autoStartMicrophone:kn,setAutoStartMicrophone:Bn,autoStopMicrophone:On,setAutoStopMicrophone:dn,refreshHash:wn,setRefreshHash:bn,forceRefresh:Sn,hasRequiredConfig:Pn,isSpeaking:In,setIsSpeaking:Ln,isWaiting:Xn,startWaiting:rr,stopWaiting:sr,userMessage:dr,userMessageRef:lr,setUserMessage:Gn,isReady:Ut,setIsReady:ln,config:gn,setConfig:Cn,llmEnabled:Fn,setLlmEnabled:Dn,icons:Un,configRef:or,utils:tr,newChat:Vt,addUserMessage:hn,addAssistantMessage:cn,setLastAssistantMessage:fn,getLastAssistantMessage:Gt,setLastUserMessage:An,getLastUserMessage:zn,chatHistoryId:Zn,chatHistoryIdRef:Vn,setChatHistoryId:Kn,chatHistories:Wn,setChatHistories:Qn,currentChatHistory:nr,revertChatHistory:ar,chatHistoryRoles:yr,setChatHistoryRoles:vr,getLastAssistantChatIndex:gr,categories:mr,configManager:qn,runtimes:Er,currentTeam:Sr,setCurrentTeam:Dr,teams:Yn,setTeams:en})}),jsxRuntimeExports.jsx("div",{style:{clear:"both",float:"left"}}),jsxRuntimeExports.jsx(index$4,{tabIndex:"1",disabled:it.isBusy.current||at.isBusy.current||rt.isBusy.current||At.current||!Fn,maxRows:15,style:{minWidth:"65%",fontSize:"1em",float:"left"},type:"text",id:"usermessage",placeholder:"Message",onChange:function(It){Gn(It.target.value),Sn()},value:lr.current,onFocus:function(){clearTimeout(Mr.current)}}),jsxRuntimeExports.jsxs("span",{style:{float:"left"},children:[jsxRuntimeExports.jsxs("span",{style:{float:"right",marginLeft:"0.3em"},children:[jsxRuntimeExports.jsx(Form$1.Control,{accept:".txt, .js, .php, .py",type:"file",style:{display:"none"},ref:$r,onChange:sn}),jsxRuntimeExports.jsx(Button,{tabIndex:"3",size:"lg",variant:"outline-primary",as:"label",htmlFor:"formFile",onClick:function(){$r.current.click()},children:Un.attachment})]}),jsxRuntimeExports.jsxs("span",{style:{float:"right",marginLeft:"0.3em"},children:[!(it.isBusy.current||at.isBusy.current||rt.isBusy.current||At.current)&&jsxRuntimeExports.jsx(Button,{tabIndex:"2",size:"lg",id:"sendbutton",disabled:!Fn||!dr||dr.length===0,style:{float:"right",marginRight:"0.2em",color:"black"},className:"btn btn-primary",onClick:function(){return Tn.current="button",!1},type:"submit",title:"Send",children:Un["send-plane-line"]}),(it.isBusy.current||at.isBusy.current||rt.isBusy.current||At.current)&&jsxRuntimeExports.jsx(Button,{tabIndex:"2",size:"lg",disabled:!Fn,style:{float:"right",marginRight:"0.2em",color:"black"},className:"btn  btn-danger",id:"stopLMMButton",onClick:lt,title:"Stop",children:at.isBusy.current?Un["loader-line"]:Un["hexagon-fill"]})]})]}),!Nn&&jsxRuntimeExports.jsxs("div",{style:{color:"red"},children:["Language Model API is not configured. Fix in ",jsxRuntimeExports.jsx(Link,{to:"/settings",children:jsxRuntimeExports.jsxs(Button,{variant:"success",children:[Un.settings," Settings"]})})]})]})}),jsxRuntimeExports.jsxs("div",{id:"responseContainer",style:{marginTop:"10em",clear:"both",position:"relative",width:"98%",fontSize:"1em",marginLeft:"0.1em",marginRight:"0.1em"},children:[jsxRuntimeExports.jsx("div",{style:{fontWeight:"bold",textAlign:"left",width:"100%"},children:Array.isArray(jr)&&jr.filter(function(It){return It.role==="system"}).map(function(It){return It.content}).join("/n")}),jsxRuntimeExports.jsxs(ListGroup$1,{children:[Dt&&jsxRuntimeExports.jsxs(ListGroup$1.Item,{style:{backgroundColor:"green"},style:{textAlign:"left"},children:[jsxRuntimeExports.jsx("b",{style:{marginBottom:"2em"},children:"ASSISTANT:"})," ",Dt]},-1),Xt.map(function(It,Kt){let yn=0,xn=0,mn=It.content;return Array.isArray(mn)&&mn.length>0?mn.forEach(function(jn,cr){yn+=jn&&jn.log?jn.log.tokens_in:0,xn+=jn&&jn.log?jn.log.tokens_out:0}):(yn+=It&&It.log?It.log.tokens_in:0,xn+=It&&It.log?It.log.tokens_out:0),jsxRuntimeExports.jsxs(ListGroup$1.Item,{style:{backgroundColor:Kt%2===0?"green":"blue"},style:{textAlign:"left"},children:[jsxRuntimeExports.jsxs(ButtonGroup,{style:{float:"right",backgroundColor:"#0d6efd;",marginLeft:"1em"},children:[!Array.isArray(It.content)&&jsxRuntimeExports.jsx(MessageEditorDialog,{value:It.content,onChange:function(jn){Vn.current&&Wn&&Wn[Vn.current]&&Wn[Vn.current][Kt]&&(Wn[Zn][Kt].content=jn,Qn(Wn),Sn())}}),It.role==="user"&&jsxRuntimeExports.jsx(Button,{style:{borderRight:"1px solid black",marginRight:"1px"},size:"sm",variant:"primary",onClick:function(){(define_import_meta_env_default.NODE_ENV==="development"||window.confirm("Are you sure you want to DELETE the chat history and restart the conversation from here."))&&Pr(Kt)},children:Un.history}),jsxRuntimeExports.jsx(CopyTextButton,{text:It&&Array.isArray(It.content)?It.content.map(function(jn){return jn&&jn.content?jn.content:""}).join(`
`):It&&It.content?It.content:"",icons:Un})]}),jsxRuntimeExports.jsx("b",{style:{marginBottom:"2em"},children:It.role==="user"?"USER:":"ASSISTANT:"}),jsxRuntimeExports.jsxs("span",{children:[!ir&&It.role==="assistant"&&jsxRuntimeExports.jsxs(Button,{variant:"outline-primary",style:{fontSize:"1.1em",float:"right"},children:[jsxRuntimeExports.jsx("b",{children:"Cost"}),"  ",yn,"/",xn,"     ",jsxRuntimeExports.jsxs("b",{children:["$",parseFloat(ot.getLlmPrice(gn&&gn.llm&&gn.llm.openai_model?gn.llm.openai_model:"",yn,xn).total).toFixed(4)]})]}),!ir&&Array.isArray(It.content)&&It.role==="assistant"&&It&&It.log&&It.log.duration&&jsxRuntimeExports.jsx(Button,{style:{float:"right",marginRight:"0.5em"},variant:"outline-primary",children:It&&It.log&&It.log.duration?(It.log.duration/1e3).toFixed(2)+"s":""}),!ir&&It.role==="assistant"&&!Array.isArray(It.content)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[It&&It.log&&It.log.duration?jsxRuntimeExports.jsx(Button,{style:{float:"right",marginRight:"0.5em"},variant:"outline-primary",children:It&&It.log&&It.log.duration?(It.log.duration/1e3).toFixed(2)+"s":""}):null,tn(It.content)]}),jsxRuntimeExports.jsx("div",{style:{clear:"both"}}),Array.isArray(It.content)&&_n(It.content,Kt,Mn,Jn),It.role==="user"&&!Array.isArray(It.content)&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:tn(It.content)})]}),Kt===Xt.length-1&&(at.isBusy.current||it.isBusy.current||rt.isBusy.current)&&jsxRuntimeExports.jsx("b",{children:jsxRuntimeExports.jsx("img",{style:{height:"6em"},src:"/spinner.svg"})})]},Kt)})]}),jsxRuntimeExports.jsx("hr",{})]}),jsxRuntimeExports.jsx("div",{style:{position:"fixed",bottom:5,right:5,backgroundColor:"white",height:"2em",width:"2em",borderRadius:"50px"},children:jsxRuntimeExports.jsx("a",{target:"new",href:"https://github.com/syntithenai/syntithenai_agents",style:{color:"black"},children:Un.github})}),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20].map(function(It){return jsxRuntimeExports.jsx("div",{id:"mermaidrenderer_"+It,style:{position:"fixed",top:-1e3,left:-1e3,height:"200px",width:"200px",border:"2px solid green",zIndex:20}},It)})})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})]})}function FileEditorDialog({name:b,id:$,onChangeName:_e,onChangeData:et,fileManager:tt}){const[nt,rt]=reactExports.useState(!1),ot=useIcons();reactExports.useRef();const[st,ct]=reactExports.useState(""),lt=()=>{rt(!1)},at=()=>{tt.load($).then(function(it){ct(it.data),rt(!0)})};return nt?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Modal$2,{dialogClassName:"fullwidthmodal",show:nt,onHide:lt,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{style:{marginRight:"2em"},children:"Edit File"})}),jsxRuntimeExports.jsxs(Modal$2.Body,{style:{minHeight:"50em"},children:[jsxRuntimeExports.jsx("div",{style:{clear:"both"}}),jsxRuntimeExports.jsx(index$4,{minRows:"1",style:{width:"100%"},onChange:it=>{_e(it.target.value)},value:b||""}),jsxRuntimeExports.jsx(index$4,{minRows:"12",style:{width:"100%"},onChange:it=>{ct(it.target.value),et(it.target.value)},value:st})]})]})}):jsxRuntimeExports.jsx(Button,{variant:"primary",style:{zIndex:0,float:"left",borderRight:"1px solid black",marginRight:"1px"},onClick:at,children:ot.pencil})}var dist={},typeDefs={};Object.defineProperty(typeDefs,"__esModule",{value:!0});typeDefs.defaultConfiguration=void 0;typeDefs.defaultConfiguration={clientId:"",developerKey:"",viewId:"DOCS",callbackFunction:function(){return null}};var useInjectScript$1={};Object.defineProperty(useInjectScript$1,"__esModule",{value:!0});var react_1$1=reactExports,injectorState={queue:{},injectorMap:{},scriptMap:{}};function useInjectScript(b){var $=(0,react_1$1.useState)({loaded:!1,error:!1}),_e=$[0],et=$[1];return(0,react_1$1.useEffect)(function(){var tt,nt,rt,ot,st;if(!((tt=injectorState.injectorMap)===null||tt===void 0)&&tt[b]||(injectorState.injectorMap[b]="init"),injectorState.injectorMap[b]==="loaded"){et({loaded:!0,error:!1});return}if(injectorState.injectorMap[b]==="error"){et({loaded:!0,error:!0});return}var ct=function(at){var it,ut,dt,ht;at&&console.log("error loading the script"),(ut=(it=injectorState.queue)===null||it===void 0?void 0:it[b])===null||ut===void 0||ut.forEach(function(ft){return ft(at)}),at&&injectorState.scriptMap[b]?((ht=(dt=injectorState.scriptMap)===null||dt===void 0?void 0:dt[b])===null||ht===void 0||ht.remove(),injectorState.injectorMap[b]="error"):injectorState.injectorMap[b]="loaded",delete injectorState.scriptMap[b]},lt=function(at){et({loaded:!0,error:at})};return!((nt=injectorState.scriptMap)===null||nt===void 0)&&nt[b]||(injectorState.scriptMap[b]=document.createElement("script"),injectorState.scriptMap[b]&&(injectorState.scriptMap[b].src=b,injectorState.scriptMap[b].async=!0,document.body.append(injectorState.scriptMap[b]),injectorState.scriptMap[b].addEventListener("load",function(){return ct(!1)}),injectorState.scriptMap[b].addEventListener("error",function(){return ct(!0)}),injectorState.injectorMap[b]="loading")),!((rt=injectorState.queue)===null||rt===void 0)&&rt[b]?(st=(ot=injectorState.queue)===null||ot===void 0?void 0:ot[b])===null||st===void 0||st.push(lt):injectorState.queue[b]=[lt],function(){var at,it;injectorState.scriptMap[b]&&((at=injectorState.scriptMap[b])===null||at===void 0||at.removeEventListener("load",function(){return ct(!0)}),(it=injectorState.scriptMap[b])===null||it===void 0||it.removeEventListener("error",function(){return ct(!0)}))}},[b]),[_e.loaded,_e.error]}useInjectScript$1.default=useInjectScript;var __assign=commonjsGlobal&&commonjsGlobal.__assign||function(){return __assign=Object.assign||function(b){for(var $,_e=1,et=arguments.length;_e<et;_e++){$=arguments[_e];for(var tt in $)Object.prototype.hasOwnProperty.call($,tt)&&(b[tt]=$[tt])}return b},__assign.apply(this,arguments)},__spreadArray=commonjsGlobal&&commonjsGlobal.__spreadArray||function(b,$,_e){if(_e||arguments.length===2)for(var et=0,tt=$.length,nt;et<tt;et++)(nt||!(et in $))&&(nt||(nt=Array.prototype.slice.call($,0,et)),nt[et]=$[et]);return b.concat(nt||Array.prototype.slice.call($))},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(dist,"__esModule",{value:!0});var react_1=reactExports,typeDefs_1=typeDefs,useInjectScript_1=__importDefault(useInjectScript$1);function useDrivePicker(){var b=["https://www.googleapis.com/auth/drive.readonly"],$=(0,useInjectScript_1.default)("https://apis.google.com/js/api.js"),_e=$[0],et=$[1],tt=(0,useInjectScript_1.default)("https://accounts.google.com/gsi/client"),nt=tt[0],rt=tt[1],ot=(0,react_1.useState)(!1),st=ot[0],ct=ot[1],lt=(0,react_1.useState)(!1),at=lt[0],it=lt[1],ut=(0,react_1.useState)(!1);ut[0],ut[1];var dt=(0,react_1.useState)(typeDefs_1.defaultConfiguration),ht=dt[0],ft=dt[1],pt=(0,react_1.useState)(),mt=pt[0],gt=pt[1],vt;(0,react_1.useEffect)(function(){_e&&!et&&nt&&!rt&&!st&&bt()},[_e,et,nt,rt,st]),(0,react_1.useEffect)(function(){at&&ht.token&&_e&&!et&&nt&&!rt&&st&&(_t(ht),it(!1))},[at,ht.token,_e,et,nt,rt,st]);var yt=function(wt){if(ft(wt),!wt.token){var At=google.accounts.oauth2.initTokenClient({client_id:wt.clientId,scope:(wt.customScopes?__spreadArray(__spreadArray([],b,!0),wt.customScopes,!0):b).join(" "),callback:function(Pt){gt(Pt),_t(__assign(__assign({},wt),{token:Pt.access_token}))}});At.requestAccessToken()}if(wt.token&&_e&&!et&&st)return _t(wt)},bt=function(){window.gapi.load("auth"),window.gapi.load("picker",{callback:xt})},xt=function(){ct(!0)},_t=function(wt){var At=wt.token,Pt=wt.appId,jt=Pt===void 0?"":Pt,kt=wt.supportDrives,St=kt===void 0?!1:kt,Ct=wt.developerKey,Et=wt.viewId,Tt=Et===void 0?"DOCS":Et,$t=wt.disabled,Ot=wt.multiselect,Rt=wt.setOrigin,Nt=wt.showUploadView,Ft=Nt===void 0?!1:Nt,Ht=wt.showUploadFolders,zt=wt.setParentFolder,an=zt===void 0?"":zt,Jt=wt.viewMimeTypes,Zt=wt.customViews,Qt=wt.locale,qt=Qt===void 0?"en":Qt,vn=wt.setIncludeFolders,Yt=wt.setSelectFolderEnabled,rn=wt.disableDefaultView,pn=rn===void 0?!1:rn,$n=wt.callbackFunction;if($t)return!1;var on=new google.picker.DocsView(google.picker.ViewId[Tt]);Jt&&on.setMimeTypes(Jt),vn&&on.setIncludeFolders(!0),Yt&&on.setSelectFolderEnabled(!0);var Tn=new google.picker.DocsUploadView;return Jt&&Tn.setMimeTypes(Jt),Ht&&Tn.setIncludeFolders(!0),an&&Tn.setParent(an),an&&on.setParent(an),vt=new google.picker.PickerBuilder().setAppId(jt).setOAuthToken(At).setDeveloperKey(Ct).setLocale(qt).setCallback($n),Rt&&vt.setOrigin(Rt),pn||vt.addView(on),Zt&&Zt.map(function(kn){return vt.addView(kn)}),Ot&&vt.enableFeature(google.picker.Feature.MULTISELECT_ENABLED),Ft&&vt.addView(Tn),St&&vt.enableFeature(google.picker.Feature.SUPPORT_DRIVES),vt.build().setVisible(!0),!0};return[yt,mt]}var _default=dist.default=useDrivePicker;function GoogleDriverPickerButton({exportDocument:b}){const[$,_e]=_default(),et=()=>{$({clientId:"730767136065-vi1urlhhqo0pj0gcb0gtn1i3kj7mc4dl.apps.googleusercontent.com",developerKey:"AIzaSyBL-F78yq6O8b_PoYM8V6-e3cr33EjKktY",viewId:"DOCS",showUploadView:!0,showUploadFolders:!0,supportDrives:!0,multiselect:!0,callbackFunction:tt=>{tt.action==="cancel"&&console.log("User clicked cancel/close button"),console.log(tt),tt&&tt.action==="picked"&&tt.docs&&tt.docs[0]&&tt.docs[0].id&&(console.log("EXPORT",tt.docs[0].id),b(tt.docs[0].id).then(function(nt){console.log("DL",nt)}))}})};return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("button",{onClick:()=>et(),children:"Open Picker"})})}function FileList({files:b,fileManager:$,categoryFilter:_e,setCategoryFilter:et,mini:tt,categories:nt,onChange:rt,handleClose:Pt,forceRefresh:st,exportDocument:ct}){const lt=useIcons(),[at,it]=reactExports.useState(""),[ut,dt]=reactExports.useState(""),[ht,ft]=reactExports.useState([]),[pt,mt]=reactExports.useState([]),gt=reactExports.useRef();reactExports.useRef();const[vt,yt]=reactExports.useState("");function bt(){clearTimeout(gt.current),gt.current=setTimeout(function(){xt()},1e3)}reactExports.useEffect(function(){bt()},[at,ut]);function xt(){console.log("update filtered",ut,b),ut==="vector"?b&&$.searchVectorFiles(at,b).then(function(jt){console.log("VEERCTOR RES",jt),mt(jt)}):b&&ft(b.filter(wt).sort(At))}function _t(jt){$.load(jt.id).then(function(kt){yt(kt)})}function wt(jt){if(!jt||jt.deleted)return!1;if(at.trim().length===0){let kt=!0;return Array.isArray(_e)&&_e.length>0?(_e.forEach(function(St){Array.isArray(jt.category)&&jt.category.indexOf(St)!==-1||(kt=!1)}),kt):!0}else if(jt&&jt.name&&jt.name.toLowerCase().indexOf(at.trim().toLowerCase())!==-1){let kt=!0;return Array.isArray(_e)&&_e.length>0?(_e.forEach(function(St){Array.isArray(jt.category)&&jt.category.indexOf(St)!==-1||(kt=!1)}),kt):!0}else return!1}function At(jt,kt){if(jt.name)if(kt.name){if(jt.name.trim()<kt.name.trim())return-1;if(jt.name.trim()>kt.name.trim())return 1;if(jt.name.trim()===kt.name.trim())return 0}else return 1;else return-1}function Pt(){yt("")}return vt?jsxRuntimeExports.jsxs(Modal$2,{dialogClassName:"fullwidthmodal",show:!0,onHide:Pt,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsxs(Modal$2.Title,{style:{marginRight:"2em"},children:["Preview - ",vt.name]})}),jsxRuntimeExports.jsx(Modal$2.Body,{style:{minHeight:"50em"},children:jsxRuntimeExports.jsx("pre",{children:vt.data})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!$.isBusy&&jsxRuntimeExports.jsxs("span",{style:{marginLeft:"1em",border:"1px solid green",float:"right",width:"18em",height:"3em",padding:"0.5em",borderRadius:"5px",marginBottom:"0.5em"},children:[jsxRuntimeExports.jsx("b",{style:{marginRight:"1.5em"},children:"Add Files"}),!tt&&jsxRuntimeExports.jsxs(ButtonGroup,{children:[jsxRuntimeExports.jsx("span",{style:{marginRight:"1em",width:"4em",overflow:"hidden",float:"right"},children:jsxRuntimeExports.jsx("input",{multiple:!0,type:"file",className:"custom-file-input-button",accept:$&&Array.isArray($.allowMimeTypes)?$.allowMimeTypes.join(","):"*",onChange:$.filesSelected})}),jsxRuntimeExports.jsx(Button,{variant:"outline-success",size:"sm",onClick:$.pasteFiles,children:lt.filecopy}),jsxRuntimeExports.jsx(Button,{variant:"outline-success",size:"sm",onClick:function(){},children:lt.googledrive})]})]}),$.isBusy&&jsxRuntimeExports.jsx("span",{style:{marginLeft:"1em",border:"1px solid green",float:"right",width:"18em",height:"3em",padding:"0.5em",borderRadius:"5px",marginBottom:"0.5em"},children:jsxRuntimeExports.jsx("b",{children:jsxRuntimeExports.jsx("img",{style:{height:"2em"},src:"/spinner.svg"})})}),jsxRuntimeExports.jsx(GoogleDriverPickerButton,{exportDocument:ct}),jsxRuntimeExports.jsxs(Form$1.Select,{style:{width:"12em",marginLeft:"0.3em",float:"left"},value:ut,onChange:function(jt){dt(jt.target.value)},children:[jsxRuntimeExports.jsx("option",{value:"string",children:"Name Match"}),jsxRuntimeExports.jsx("option",{value:"vector",children:"Vector Similarity"})]}),jsxRuntimeExports.jsx(Form$1.Control,{style:{width:"40%",float:"left",marginLeft:"1em"},placeholder:"Search",type:"search",value:at,onChange:function(jt){it(jt.target.value)}}),ut!=="vector"&&jsxRuntimeExports.jsx("span",{style:{float:"left",marginLeft:"1em"},children:jsxRuntimeExports.jsx(CategoriesSelectorModal,{allowNew:!1,value:_e,onChange:function(jt){et(jt)},defaultOptions:nt?Object.keys(nt):[]})}),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginBottom:"0.4em"}}),ut==="vector"&&jsxRuntimeExports.jsx("b",{children:JSON.stringify(pt)}),ut!=="vector"&&jsxRuntimeExports.jsx(ListGroup$1,{children:ht.map(function(jt,kt){return tt?jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsxs(ListGroup$1.Item,{children:[jsxRuntimeExports.jsxs(Button,{onClick:function(){rt(kt)},variant:"outline-primary",style:{textAlign:"left"},children:[" ",jt.name," "]}),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginTop:"0.5em"},children:Array.isArray(jt.category)&&jt.category.map(function(St){return jsxRuntimeExports.jsx(Badge,{variant:"secondary",size:"sm",onClick:function(Ct){return et([St]),Ct.stopPropagation(),!1},bg:"secondary",style:{marginLeft:"0.2em"},children:St})})})]},kt)}):jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{style:{border:"1px solid blue",padding:"0.1em"},children:[jsxRuntimeExports.jsxs(ButtonGroup,{children:[jsxRuntimeExports.jsx(FileEditorDialog,{fileManager:$,name:jt.name,id:jt.id,onChangeName:function(St){jt.name=St,$.save(jt)},onChangeData:function(St){jt.data=St,$.save(jt)}}),jsxRuntimeExports.jsx(CategoriesSelectorModal,{blockDeselectAll:!0,allowNew:!1,value:jt.category,onChange:function(St){jt.category=St,$.save(jt)},defaultOptions:nt?Object.keys(nt):[]}),jsxRuntimeExports.jsxs(Button,{variant:"outline-primary",style:{textAlign:"left"},onClick:function(){_t(jt)},children:[jt&&jt.name," "]})]}),jsxRuntimeExports.jsx(ButtonGroup,{style:{float:"right",marginLeft:"0.3em"},children:jsxRuntimeExports.jsx(Button,{variant:"danger",onClick:function(){$.deleteFile(b[kt])},children:lt.bin})}),jsxRuntimeExports.jsx("span",{style:{clear:"both"},children:jt&&Array.isArray(jt.category)&&jt.category.map(function(St){return jsxRuntimeExports.jsx(Badge,{variant:"secondary",size:"sm",onClick:function(Ct){return et([St]),Ct.stopPropagation(),!1},bg:"secondary",style:{float:"right",marginLeft:"0.2em"},children:St})})})]})},kt)})})]})}function RolesPage(b){const{user:$,token:_e,login:et,logout:tt,refresh:nt,doSave:rt,aiUsage:ot,submitForm:st,stopAllPlaying:ct,stopLanguageModels:lt,aiLlm:at,usingOpenAiTts:it,usingSelfHostedTts:ut,usingWebSpeechTts:dt,usingMeSpeakTts:ht,usingTts:ft,usingStt:pt,usingOpenAiStt:mt,usingSelfHostedStt:gt,usingLocalStt:vt,queueSpeech:yt,getUrl:bt,playDataUri:xt,stopPlaying:_t,isPlaying:wt,setIsPlaying:At,isMuted:Pt,isMutedRef:jt,mute:kt,unmute:St,category:Ct,setCategory:Et,exportRoles:Tt,importRoles:$t,setSystemMessage:Ot,systemMessage:Rt,setSystemConfig:Nt,systemConfig:Ft,init:Ht,saveRole:zt,loadRole:an,roles:Jt,setRoles:Zt,currentRole:Qt,setCurrentRole:qt,newRole:vn,utteranceQueue:Yt,setUtteranceQueue:rn,mergeData:pn,setMergeData:$n,lastLlmTrigger:on,chatHistories:Tn,setChatHistories:kn,autoStartMicrophone:Bn,setAutoStartMicrophone:On,autoStopMicrophone:dn,setAutoStopMicrophone:wn,refreshHash:bn,setRefreshHash:Sn,forceRefresh:Pn,hasRequiredConfig:In,isSpeaking:Ln,setIsSpeaking:Xn,chatHistory:rr,setChatHistory:sr,isWaiting:dr,startWaiting:lr,stopWaiting:Gn,userMessage:Ut,userMessageRef:ln,setUserMessage:gn,isReady:Cn,setIsReady:Fn,config:Dn,setConfig:Un,llmEnabled:or,setLlmEnabled:tr,icons:Vt,configRef:hn,utils:cn,currentTeam:fn,currentTeamRef:Gt,teams:An,categoryFilter:zn,setCategoryFilter:Zn}=b,Vn=reactExports.useRef();function Kn(Qn){$t(Qn),Vn.current.value=""}let Wn=cn.getTeamMemberIndex(An[fn]);return cn.summariseConfig(Dn),jsxRuntimeExports.jsx("div",{className:"App",id:bn,children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{id:"menu",style:{zIndex:"9",backgroundColor:"lightgrey",border:"1px solid grey",position:"fixed",top:0,left:0,width:"100%",height:"3em"},children:[jsxRuntimeExports.jsxs("span",{style:{float:"left",marginTop:"0.2em",marginLeft:"0.2em"},children:[jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.1em"},to:"/menu",children:jsxRuntimeExports.jsx(Button,{children:Vt.menu})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/chat",children:jsxRuntimeExports.jsx(Button,{children:Vt.chat})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/roles",children:jsxRuntimeExports.jsx(Button,{children:Vt.teamlarge})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/settings",children:jsxRuntimeExports.jsx(Button,{children:Vt.settings})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/help",children:jsxRuntimeExports.jsx(Button,{children:Vt.question})})]}),jsxRuntimeExports.jsxs("span",{style:{float:"right",marginTop:"0.3em",marginLeft:"0.2em",marginRight:"0em"},children:[_e&&_e.access_token&&jsxRuntimeExports.jsxs(Button,{onClick:function(){tt()},variant:"danger",children:[!($&&$.picture)&&Vt.user_logout," ",$&&$.picture&&jsxRuntimeExports.jsx("img",{height:"28",width:"28",src:$.picture+"?access_token="+_e.access_token+"&not-from-cache-please"})]}),!(_e&&_e.access_token)&&jsxRuntimeExports.jsx(Button,{onClick:function(){et()},variant:"success",children:Vt.user})]}),jsxRuntimeExports.jsx(Link,{to:"/tokens",children:jsxRuntimeExports.jsxs("span",{style:{color:"black",float:"right",marginTop:"0.7em",marginRight:"0.1em"},children:[" ",jsxRuntimeExports.jsx("b",{children:ot.getTotal()})]})})]}),jsxRuntimeExports.jsxs("div",{id:"body",style:{paddingLeft:"0.3em",paddingRight:"0.3em",textAlign:"left",zIndex:"3",position:"relative",top:"3em",left:0,width:"100%",paddingTop:"0.2em",backgroundColor:"white"},children:[jsxRuntimeExports.jsxs("span",{style:{float:"right"},children:[jsxRuntimeExports.jsx(Button,{style:{float:"right",marginLeft:"1em"},variant:"primary",onClick:Tt,children:"Export"}),jsxRuntimeExports.jsxs("span",{style:{float:"right"},children:[jsxRuntimeExports.jsx(Form$1.Control,{type:"file",style:{display:"none"},ref:Vn,onChange:Kn}),jsxRuntimeExports.jsx(Button,{variant:"success",as:"label",htmlFor:"formFile",onClick:function(){Vn.current.click()},children:"Import"})]})]}),jsxRuntimeExports.jsxs(Tabs,{defaultActiveKey:"roles",id:"uncontrolled-tab-example",className:"mb-3",children:[jsxRuntimeExports.jsx(Tab$1,{eventKey:"roles",title:"Personas",children:jsxRuntimeExports.jsx(RoleList,{...b,teamIndex:Wn,forceRefresh:Pn})}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"teams",title:"Teams",children:jsxRuntimeExports.jsx(TeamList,{...b})}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"files",title:"Files",children:jsxRuntimeExports.jsx(FileList,{...b})})]})]}),jsxRuntimeExports.jsx("div",{style:{position:"fixed",bottom:5,right:5,backgroundColor:"white",height:"2em",width:"2em",borderRadius:"50px"},children:jsxRuntimeExports.jsx("a",{target:"new",href:"https://github.com/syntithenai/syntithenai_agents",style:{color:"black"},children:Vt.github})})]})})}function CategoriesSelector({defaultOptions:b,onChange:$,value:_e}){const et=useIcons();reactExports.useState(!1),reactExports.useState(!1);const[tt,nt]=reactExports.useState(""),[rt,ot]=reactExports.useState(b);reactExports.useEffect(function(){ot(b)},[b]);function st(pt){if(Array.isArray(pt)){var mt={};return pt.map(function(gt){return mt[gt]=!0,null}),Object.keys(mt)}else return[]}var ct=null;function lt(pt){nt(pt.target.value.toLowerCase()),pt.target.value?(ct&&clearTimeout(ct),ct=setTimeout(function(){let mt=Array.isArray(rt)?rt:[];ot(mt.filter(function(gt){return gt.indexOf(pt.target.value)!==-1}))},500)):ot(b)}function at(pt){if(pt&&pt.trim()){var mt=Array.isArray(_e)?_e:[];mt.push(pt);var gt=st(mt);nt(""),ot(rt),$(gt)}}function it(pt){var mt=Array.isArray(_e)?_e:[];mt.push(pt);var gt=st(mt);nt(""),ot(gt),$(gt)}function ut(pt){var mt=_e.filter(function(gt){return gt!==pt});$(mt)}const[dt,ht]=reactExports.useState(!1);var ft=Array.isArray(rt)?rt:[];return ft.sort(function(pt,mt){return pt>mt?1:-1}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{type:"search",value:tt,onChange:lt,onFocus:function(){ht(!0)},onBlur:function(){setTimeout(function(){ht(!1)},500)}}),rt.length===0&&jsxRuntimeExports.jsx(Button,{style:{marginLeft:"0.3em"},onClick:function(){at(tt)},children:et.add},"newcategory"),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginTop:"1em"}}),jsxRuntimeExports.jsx("div",{children:Array.isArray(_e)&&_e.map(function(pt){return jsxRuntimeExports.jsxs(Button,{style:{marginRight:"0.2em"},variant:"info",onClick:function(mt){ut(pt)},children:[et.bin," ",pt]},pt)})})]}),dt&&jsxRuntimeExports.jsx("div",{style:{position:"relative",top:"-40px",zIndex:10},children:jsxRuntimeExports.jsx(ListGroup$1,{style:{zIndex:"20",clear:"both",width:"100%"},children:ft.map(function(pt,mt){return jsxRuntimeExports.jsx(ListGroup$1.Item,{className:mt%2===0?"even":"odd",onClick:function(gt){it(pt)},children:pt},mt)})})})]})}function RoleForm({roleId:b,roles:$,rolesJSON:_e,setRoles:et,icons:tt,forceRefresh:nt,utils:rt,playSpeech:ot,config:st,categories:ct,setCategories:lt,files:at}){const[it,ut]=reactExports.useState({});let[dt,ht]=reactExports.useState(""),[ft,pt]=reactExports.useState([]);function mt(qt){pt(qt),yt("samples",qt)}let[gt,vt]=reactExports.useState("");reactExports.useState("");function yt(qt,vn){$&&b&&qt&&($.hasOwnProperty(b)||($[b]={}),$[b][qt]=vn,et($),ht(rt.generateRandomId()))}function bt(qt,vn){$||($={}),b&&qt&&($[b]||($[b]={}),$[b].config=$[b].config?$[b].config:{},$[b].config[qt]=vn,et($),ht(rt.generateRandomId()))}reactExports.useEffect(function(){ht(rt.generateRandomId()),nt(),ut($&&b?$[b]:null),mt($&&b&&$[b]&&Array.isArray($[b].samples)?$[b].samples:[])},[JSON.stringify($&&b?$[b]:{})]);const xt=(qt,vn)=>{bt(qt,vn.target.value)},_t=qt=>{yt("name",qt.target.value)},wt=qt=>{yt("category",qt);let vn=Array.isArray(qt)?qt:[];ct||(ct={}),vn.forEach(function(Yt){ct[Yt]=1}),lt(ct)},At=qt=>{yt("message",qt.target.value)},Pt=qt=>{yt("backStory",qt.target.value)},jt=qt=>{yt("skills",qt.target.value)},kt=qt=>{bt("maxTokens",qt.target.value)},St=qt=>{bt("outputType",qt.target.value)},Ct=qt=>{bt("outputExamples",qt.target.value)},Et=qt=>{bt("temperatureOpenAI",qt.target.value)},Tt=qt=>{bt("topPOpenAI",qt.target.value)},$t=qt=>{bt("presencePenalty",qt.target.value)},Ot=qt=>{bt("frequencyPenalty",qt.target.value)},Rt=qt=>{bt("preferredModel",qt.target.value)},Nt=qt=>{bt("ttsSpeed",qt.target.value)},Ft=qt=>{bt("ttsOaiVoice",qt.target.value)},Ht=qt=>{bt("schema",qt.target.value)},zt=qt=>{bt("ttsSelfHostedVoice",qt.target.value)};let[an,Jt]=reactExports.useState(it&&it.config&&it.config.stopTokens?it.config.stopTokens:[]),[Zt,Qt]=reactExports.useState("");return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Form$1,{id:dt,onSubmit:function(qt){return qt.preventDefault(),!1},children:[jsxRuntimeExports.jsx(Button,{onClick:function(){rt.downloadText(JSON.stringify($[b]),$[b].name+".js")},style:{float:"right"},variant:"success",children:tt.save}),jsxRuntimeExports.jsx("div",{className:"border p-3 mb-3",children:jsxRuntimeExports.jsxs(Tabs,{defaultActiveKey:"Basics",id:"uncontrolled-tab-example",className:"mb-3",children:[jsxRuntimeExports.jsxs(Tab$1,{eventKey:"Basics",title:"Info",children:[jsxRuntimeExports.jsxs(Row,{className:"mb-3",children:[jsxRuntimeExports.jsx(Form$1.Group,{as:Col,controlId:"openaiKey",children:jsxRuntimeExports.jsxs(Row,{className:"mb-3",children:[jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Name"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",onChange:qt=>_t(qt),value:it&&it.name?it.name:""})]}),jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Type"}),"     ",jsxRuntimeExports.jsxs(Form$1.Select,{style:{width:"10em",display:"inline",marginRight:"2em"},value:it&&it.config&&it.config.type?it.config.type:"inference",onChange:function(qt){bt("type",qt.target.value)},children:[jsxRuntimeExports.jsx("option",{value:"inference",children:"Inference"}),jsxRuntimeExports.jsx("option",{value:"algorithmic",children:"Algorithmic"})]})]}),jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Categories"}),jsxRuntimeExports.jsx(CategoriesSelector,{value:it&&typeof it.category=="string"?[it.category]:it&&Array.isArray(it.category)?it.category:[],onChange:qt=>wt(qt),defaultOptions:ct?Object.keys(ct):[]})]})]})}),jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Welcome Message"}),jsxRuntimeExports.jsx(index$4,{minRows:"1",style:{width:"100%"},onChange:qt=>xt("welcomeMessage",qt),value:it&&it.config&&it.config.welcomeMessage?it.config.welcomeMessage:""})]}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[(!it||!it.config||it.config.type!=="algorithmic")&&jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Instructions"}),jsxRuntimeExports.jsx(index$4,{minRows:"6",style:{width:"100%"},onChange:qt=>At(qt),value:it&&it.message?it.message:""})]}),jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"backstory",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Skills"}),jsxRuntimeExports.jsx(index$4,{minRows:it&&it.config&&it.config.type==="algorithmic"?"1":"6",style:{width:"100%"},onChange:qt=>jt(qt),value:it&&it.skills?it.skills:""})]}),(!it||!it.config||it.config.type!=="algorithmic")&&jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"backstory",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Back Story"}),jsxRuntimeExports.jsx(index$4,{minRows:"2",style:{width:"100%"},onChange:qt=>Pt(qt),value:it&&it.backStory?it.backStory:""})]})]})]}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsxs(Col,{children:[it&&it.config&&it.config.type==="algorithmic"&&jsxRuntimeExports.jsxs(Form$1.Group,{style:{float:"right"},controlId:"backstory",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Function Type"}),jsxRuntimeExports.jsxs(Form$1.Select,{style:{width:"20em",display:"inline",marginRight:"2em",marginLeft:"2em"},value:it&&it.config&&it.config.processingFunctionType?it.config.processingFunctionType:"evaljavascript",onChange:function(qt){bt("processingFunctionType",qt.target.value)},children:[jsxRuntimeExports.jsx("option",{value:"evaljavascript",children:"Local Javascript (eval)"}),jsxRuntimeExports.jsx("option",{value:"javascript",children:"Javascript"}),jsxRuntimeExports.jsx("option",{value:"python",children:"Python"})]})]}),it&&it.config&&it.config.type==="algorithmic"&&jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"backstory",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Processing Function"}),jsxRuntimeExports.jsx("div",{style:{fontSize:"1.2em",fontWeight:"bold"},children:"function(message, messages) {"}),jsxRuntimeExports.jsx(index$4,{minRows:"12",style:{width:"100%"},onChange:qt=>bt("processingFunction",qt.target.value),value:it&&it.config&&it.config.processingFunction?it.config.processingFunction:"return "}),jsxRuntimeExports.jsx("div",{style:{fontSize:"1.2em",fontWeight:"bold"},children:"}"})]})]})})]}),(!it||!it.config||it.config.type!=="algorithmic")&&jsxRuntimeExports.jsxs(Tab$1,{eventKey:"Output",title:"Output Format",children:[jsxRuntimeExports.jsx(Row,{className:"mb-3",children:jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Wrap Output As"}),"     ",jsxRuntimeExports.jsxs(Form$1.Select,{style:{width:"8em",display:"inline",marginRight:"2em"},value:"",onChange:function(qt){bt("wrapBefore","```"+qt.target.value),bt("wrapAfter","```")},children:[jsxRuntimeExports.jsx("option",{}),jsxRuntimeExports.jsx("option",{value:"json",children:"JSON"}),jsxRuntimeExports.jsx("option",{value:"mermaid",children:"Mermaid Chart"}),jsxRuntimeExports.jsx("option",{value:"markdown",children:"Markdown"}),jsxRuntimeExports.jsx("option",{value:"python",children:"Python"}),jsxRuntimeExports.jsx("option",{value:"javascript",children:"Javascript"}),jsxRuntimeExports.jsx("option",{value:"abc",children:"ABC Music Notation"}),jsxRuntimeExports.jsx("option",{value:"csv",children:"Comma Seperated Variables"})]}),jsxRuntimeExports.jsx(Form$1.Text,{children:" Before: "}),jsxRuntimeExports.jsx(index$4,{minRows:"1",style:{width:"30%",display:"inline"},onChange:qt=>xt("wrapBefore",qt),value:it&&it.config&&it.config.wrapBefore?it.config.wrapBefore:""}),jsxRuntimeExports.jsx(Form$1.Text,{children:" After: "}),jsxRuntimeExports.jsx(index$4,{minRows:"1",style:{width:"30%",display:"inline"},onChange:qt=>xt("wrapAfter",qt),value:it&&it.config&&it.config.wrapAfter?it.config.wrapAfter:""})]})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"modelType",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Output Format:"}),jsxRuntimeExports.jsxs(Form$1.Select,{value:it&&it.config&&it.config.outputType?it.config.outputType:"",onChange:St,children:[jsxRuntimeExports.jsx("option",{}),jsxRuntimeExports.jsx("option",{value:"json",children:"JSON"}),jsxRuntimeExports.jsx("option",{value:"choice",children:"Choice"}),jsxRuntimeExports.jsx("option",{value:"number",children:"Number"})]})]}),jsxRuntimeExports.jsx(Form$1.Group,{controlId:"outputexamples",children:it&&it.config&&(it.config.outputType===""||it.config.outputType==="json"||it.config.outputType==="choice")&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[it&&it.config&&it.config.outputType&&it.config.outputType==="json"?jsxRuntimeExports.jsx(Form$1.Label,{children:"Examples (single JSON per line)"}):it&&it.config&&it.config.outputType&&it.config.outputType==="choice"?jsxRuntimeExports.jsx(Form$1.Label,{children:"Choice Options (one per line)"}):jsxRuntimeExports.jsx(Form$1.Label,{children:"Examples"}),jsxRuntimeExports.jsx(index$4,{minRows:"12",style:{width:"100%"},onChange:qt=>{Ct(qt)},value:it&&it.config&&it.config.outputExamples?it.config.outputExamples:""}),it&&it.config&&it.config.outputType==="json"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Form$1.Label,{style:{marginRight:"4em",marginBottom:"2em"},children:"Schema"}),!1,!(it&&it.config&&it.config.outputExamples&&st&&st.llm&&st.llm.self_hosted_url)&&jsxRuntimeExports.jsx(Form$1.Text,{children:jsxRuntimeExports.jsx("span",{style:{display:"block",marginLeft:"0.3em",fontStyle:"italic",fontSize:"0.8em"},children:it&&it.config&&it.config.outputExamples&&jsxRuntimeExports.jsx("a",{href:"https://www.liquid-technologies.com/online-json-to-schema-converter",target:"_new",children:"Online Schema Generator"})})}),jsxRuntimeExports.jsx(index$4,{minRows:"12",style:{width:"100%"},onChange:qt=>{Ht(qt)},value:it&&it.config&&it.config.schema?it.config.schema:"",placeholder:it&&it.config&&it.config.schema?it.config.schema:JSON.stringify({title:"User",type:"object",properties:{name:{type:"string"},last_name:{type:"string"},id:{type:"integer"}}})})]})]})})]})})]}),(!it||!it.config||it.config.type!=="algorithmic")&&jsxRuntimeExports.jsxs(Tab$1,{eventKey:"Parameters",title:"Parameters",children:[jsxRuntimeExports.jsx(Row,{style:{borderBottom:"1px solid black",height:"1em"}}),jsxRuntimeExports.jsx("a",{href:"https://platform.openai.com/docs/api-reference/chat",target:"_new",children:jsxRuntimeExports.jsx(Button,{style:{float:"right"},children:tt.question})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"temperatureOpenAI",children:[jsxRuntimeExports.jsxs(Form$1.Label,{children:["Temperature: ",it&&it.config&&it.config.temperatureOpenAI?it.config.temperatureOpenAI:""]}),jsxRuntimeExports.jsx(Form$1.Control,{type:"range",min:0,max:2,step:.01,value:it&&it.config&&it.config.temperatureOpenAI?it.config.temperatureOpenAI:"",onChange:Et})]})})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"topPOpenAI",children:[jsxRuntimeExports.jsxs(Form$1.Label,{children:["Top P: ",it&&it.config&&it.config.topPOpenAI?it.config.topPOpenAI:""]}),jsxRuntimeExports.jsx(Form$1.Control,{type:"range",min:0,max:1,step:.01,value:it&&it.config&&it.config.topPOpenAI?it.config.topPOpenAI:"",onChange:Tt})]})})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"frequency_penalty",children:[jsxRuntimeExports.jsxs(Form$1.Label,{children:["Frequency Penalty: ",it&&it.config&&it.config.frequencyPenalty?it.config.frequencyPenalty:""]}),jsxRuntimeExports.jsx(Form$1.Control,{type:"range",min:-2,max:2,step:.01,value:it&&it.config&&it.config.frequencyPenalty?it.config.frequencyPenalty:"",onChange:Ot})]})})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"presence_penaly",children:[jsxRuntimeExports.jsxs(Form$1.Label,{children:["Presence Penalty: ",it&&it.config&&it.config.presencePenalty?it.config.presencePenalty:""]}),jsxRuntimeExports.jsx(Form$1.Control,{type:"range",min:-2,max:2,step:.01,value:it&&it.config&&it.config.presencePenalty?it.config.presencePenalty:"",onChange:$t})]})})})]}),it&&it.config&&it.config.type!=="algorithmic"&&jsxRuntimeExports.jsxs(Tab$1,{eventKey:"Tokens",title:"Limits",children:[jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"stopTokens",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Stop Tokens: "}),jsxRuntimeExports.jsx(Form$1.Control,{style:{width:"80%",display:"inline"},type:"text",value:Zt||"",onChange:function(qt){Qt(qt.target.value)}}),jsxRuntimeExports.jsx(Button,{disabled:an.length>3,style:{marginLeft:"0.3em",display:"inline"},variant:"success",onClick:function(){let qt=it&&it.config&&it.config.stopTokens?it.config.stopTokens:[];qt.push(Zt),Jt(qt),Qt(""),bt("stopTokens",qt)},children:"Add"}),it&&it.config&&it.config.stopTokens&&jsxRuntimeExports.jsx("div",{children:it.config.stopTokens.map(function(qt,vn){return jsxRuntimeExports.jsxs(Button,{style:{marginLeft:"0.2em"},variant:"warning",onClick:function(){let Yt=it.config.stopTokens;Yt.splice(vn,1),Jt(Yt),bt("stopTokens",Yt)},children:[jsxRuntimeExports.jsx(Badge,{bg:"warning",children:tt.close}),"    ",qt]},vn)})})]})})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"maxTokens",children:[jsxRuntimeExports.jsxs(Form$1.Label,{children:["Max Tokens: ",jsxRuntimeExports.jsx(Form$1.Control,{type:"text",value:it&&it.config&&it.config.maxTokens?it.config.maxTokens:"",onChange:kt})]}),jsxRuntimeExports.jsx(Form$1.Control,{type:"range",min:0,max:32e3,value:it&&it.config&&it.config.maxTokens?it.config.maxTokens:"",onChange:kt})]})})})]}),(!it||!it.config||it.config.type!=="algorithmic")&&jsxRuntimeExports.jsx(Tab$1,{eventKey:"model",title:"Model",children:jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"stopTokens",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Preferred Model"}),jsxRuntimeExports.jsxs(Form$1.Select,{value:it&&it.config&&it.config.preferredModel?it.config.preferredModel:"4",onChange:Rt,children:[jsxRuntimeExports.jsx("option",{value:"1",children:"Basic (under 2G RAM)"}),jsxRuntimeExports.jsx("option",{value:"2",children:"Small(2-4G RAM)"}),jsxRuntimeExports.jsx("option",{value:"3",children:"Medium(4-8G RAM)"}),jsxRuntimeExports.jsx("option",{value:"4",children:"Large (GPT3.5 equivalent (8-16G RAM)"}),jsxRuntimeExports.jsx("option",{value:"5",children:"Advanced (GPT4)"})]})]})})})}),jsxRuntimeExports.jsxs(Tab$1,{eventKey:"voice",title:"Voice",children:[jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"ttsspeed",children:[jsxRuntimeExports.jsxs(Form$1.Label,{children:["Speed: ",it&&it.config&&it.config.ttsSpeed?it.config.ttsSpeed:""]}),jsxRuntimeExports.jsx(Form$1.Control,{type:"range",min:50,max:200,value:it&&it.config&&it.config.ttsSpeed?it.config.ttsSpeed:"",onChange:Nt})]})})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"ttsoaivoice",children:[jsxRuntimeExports.jsx(Form$1.Label,{style:{display:"block"},children:"OpenAI Voice: "}),jsxRuntimeExports.jsxs(Form$1.Select,{style:{width:"85%",float:"left"},value:it&&it.config&&it.config.ttsOaiVoice?it.config.ttsOaiVoice:"",onChange:Ft,children:[jsxRuntimeExports.jsx("option",{}),jsxRuntimeExports.jsx("option",{children:"alloy"}),jsxRuntimeExports.jsx("option",{children:"echo"}),jsxRuntimeExports.jsx("option",{children:"fable"}),jsxRuntimeExports.jsx("option",{children:"onyx"}),jsxRuntimeExports.jsx("option",{children:"nova"}),jsxRuntimeExports.jsx("option",{children:"shimmer"})]}),jsxRuntimeExports.jsx(Button,{style:{float:"left",marginLeft:"1em"},onClick:function(){ot("this is a test","openai",it&&it.config&&it.config.ttsOaiVoice?it.config.ttsOaiVoice:"",it&&it.config&&it.config.ttsSpeed?it.config.ttsSpeed/100:"")},children:tt.play})]})})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"ttsselfhostedvoice",children:[jsxRuntimeExports.jsx(Form$1.Label,{style:{display:"block"},children:"Self Hosted Voice: "}),jsxRuntimeExports.jsxs(Form$1.Select,{style:{width:"85%",float:"left"},value:it&&it.config&&it.config.ttsSelfHostedVoice?it.config.ttsSelfHostedVoice:"",onChange:zt,children:[jsxRuntimeExports.jsx("option",{}),jsxRuntimeExports.jsx("option",{value:"p225",children:"p225"}),jsxRuntimeExports.jsx("option",{value:"p226",children:"p226"}),jsxRuntimeExports.jsx("option",{value:"p227",children:"p227"}),jsxRuntimeExports.jsx("option",{value:"p228",children:"p228"}),jsxRuntimeExports.jsx("option",{value:"p229",children:"p229"}),jsxRuntimeExports.jsx("option",{value:"p230",children:"p230"}),jsxRuntimeExports.jsx("option",{value:"p231",children:"p231"}),jsxRuntimeExports.jsx("option",{value:"p232",children:"p232"}),jsxRuntimeExports.jsx("option",{value:"p233",children:"p233"}),jsxRuntimeExports.jsx("option",{value:"p234",children:"p234"}),jsxRuntimeExports.jsx("option",{value:"p236",children:"p236"}),jsxRuntimeExports.jsx("option",{value:"p237",children:"p237"}),jsxRuntimeExports.jsx("option",{value:"p238",children:"p238"}),jsxRuntimeExports.jsx("option",{value:"p239",children:"p239"}),jsxRuntimeExports.jsx("option",{value:"p240",children:"p240"}),jsxRuntimeExports.jsx("option",{value:"p241",children:"p241"}),jsxRuntimeExports.jsx("option",{value:"p243",children:"p243"}),jsxRuntimeExports.jsx("option",{value:"p244",children:"p244"}),jsxRuntimeExports.jsx("option",{value:"p245",children:"p245"}),jsxRuntimeExports.jsx("option",{value:"p246",children:"p246"}),jsxRuntimeExports.jsx("option",{value:"p247",children:"p247"}),jsxRuntimeExports.jsx("option",{value:"p248",children:"p248"}),jsxRuntimeExports.jsx("option",{value:"p249",children:"p249"}),jsxRuntimeExports.jsx("option",{value:"p250",children:"p250"}),jsxRuntimeExports.jsx("option",{value:"p251",children:"p251"}),jsxRuntimeExports.jsx("option",{value:"p252",children:"p252"}),jsxRuntimeExports.jsx("option",{value:"p253",children:"p253"}),jsxRuntimeExports.jsx("option",{value:"p254",children:"p254"}),jsxRuntimeExports.jsx("option",{value:"p255",children:"p255"}),jsxRuntimeExports.jsx("option",{value:"p256",children:"p256"}),jsxRuntimeExports.jsx("option",{value:"p257",children:"p257"}),jsxRuntimeExports.jsx("option",{value:"p258",children:"p258"}),jsxRuntimeExports.jsx("option",{value:"p259",children:"p259"}),jsxRuntimeExports.jsx("option",{value:"p260",children:"p260"}),jsxRuntimeExports.jsx("option",{value:"p261",children:"p261"}),jsxRuntimeExports.jsx("option",{value:"p262",children:"p262"}),jsxRuntimeExports.jsx("option",{value:"p263",children:"p263"}),jsxRuntimeExports.jsx("option",{value:"p264",children:"p264"}),jsxRuntimeExports.jsx("option",{value:"p265",children:"p265"}),jsxRuntimeExports.jsx("option",{value:"p266",children:"p266"}),jsxRuntimeExports.jsx("option",{value:"p267",children:"p267"}),jsxRuntimeExports.jsx("option",{value:"p268",children:"p268"}),jsxRuntimeExports.jsx("option",{value:"p269",children:"p269"}),jsxRuntimeExports.jsx("option",{value:"p270",children:"p270"}),jsxRuntimeExports.jsx("option",{value:"p271",children:"p271"}),jsxRuntimeExports.jsx("option",{value:"p272",children:"p272"}),jsxRuntimeExports.jsx("option",{value:"p273",children:"p273"}),jsxRuntimeExports.jsx("option",{value:"p274",children:"p274"}),jsxRuntimeExports.jsx("option",{value:"p275",children:"p275"}),jsxRuntimeExports.jsx("option",{value:"p276",children:"p276"}),jsxRuntimeExports.jsx("option",{value:"p277",children:"p277"}),jsxRuntimeExports.jsx("option",{value:"p278",children:"p278"}),jsxRuntimeExports.jsx("option",{value:"p279",children:"p279"}),jsxRuntimeExports.jsx("option",{value:"p280",children:"p280"}),jsxRuntimeExports.jsx("option",{value:"p281",children:"p281"}),jsxRuntimeExports.jsx("option",{value:"p282",children:"p282"}),jsxRuntimeExports.jsx("option",{value:"p283",children:"p283"}),jsxRuntimeExports.jsx("option",{value:"p284",children:"p284"}),jsxRuntimeExports.jsx("option",{value:"p285",children:"p285"}),jsxRuntimeExports.jsx("option",{value:"p286",children:"p286"}),jsxRuntimeExports.jsx("option",{value:"p287",children:"p287"}),jsxRuntimeExports.jsx("option",{value:"p288",children:"p288"}),jsxRuntimeExports.jsx("option",{value:"p292",children:"p292"}),jsxRuntimeExports.jsx("option",{value:"p293",children:"p293"}),jsxRuntimeExports.jsx("option",{value:"p294",children:"p294"}),jsxRuntimeExports.jsx("option",{value:"p295",children:"p295"}),jsxRuntimeExports.jsx("option",{value:"p297",children:"p297"}),jsxRuntimeExports.jsx("option",{value:"p298",children:"p298"}),jsxRuntimeExports.jsx("option",{value:"p299",children:"p299"}),jsxRuntimeExports.jsx("option",{value:"p300",children:"p300"}),jsxRuntimeExports.jsx("option",{value:"p301",children:"p301"}),jsxRuntimeExports.jsx("option",{value:"p302",children:"p302"}),jsxRuntimeExports.jsx("option",{value:"p303",children:"p303"}),jsxRuntimeExports.jsx("option",{value:"p304",children:"p304"}),jsxRuntimeExports.jsx("option",{value:"p305",children:"p305"}),jsxRuntimeExports.jsx("option",{value:"p306",children:"p306"}),jsxRuntimeExports.jsx("option",{value:"p307",children:"p307"}),jsxRuntimeExports.jsx("option",{value:"p308",children:"p308"}),jsxRuntimeExports.jsx("option",{value:"p310",children:"p310"}),jsxRuntimeExports.jsx("option",{value:"p311",children:"p311"}),jsxRuntimeExports.jsx("option",{value:"p312",children:"p312"}),jsxRuntimeExports.jsx("option",{value:"p313",children:"p313"}),jsxRuntimeExports.jsx("option",{value:"p314",children:"p314"}),jsxRuntimeExports.jsx("option",{value:"p316",children:"p316"}),jsxRuntimeExports.jsx("option",{value:"p317",children:"p317"}),jsxRuntimeExports.jsx("option",{value:"p318",children:"p318"}),jsxRuntimeExports.jsx("option",{value:"p323",children:"p323"}),jsxRuntimeExports.jsx("option",{value:"p326",children:"p326"}),jsxRuntimeExports.jsx("option",{value:"p329",children:"p329"}),jsxRuntimeExports.jsx("option",{value:"p330",children:"p330"}),jsxRuntimeExports.jsx("option",{value:"p333",children:"p333"}),jsxRuntimeExports.jsx("option",{value:"p334",children:"p334"}),jsxRuntimeExports.jsx("option",{value:"p335",children:"p335"}),jsxRuntimeExports.jsx("option",{value:"p336",children:"p336"}),jsxRuntimeExports.jsx("option",{value:"p339",children:"p339"}),jsxRuntimeExports.jsx("option",{value:"p340",children:"p340"}),jsxRuntimeExports.jsx("option",{value:"p341",children:"p341"}),jsxRuntimeExports.jsx("option",{value:"p343",children:"p343"}),jsxRuntimeExports.jsx("option",{value:"p345",children:"p345"}),jsxRuntimeExports.jsx("option",{value:"p347",children:"p347"}),jsxRuntimeExports.jsx("option",{value:"p351",children:"p351"}),jsxRuntimeExports.jsx("option",{value:"p360",children:"p360"}),jsxRuntimeExports.jsx("option",{value:"p361",children:"p361"}),jsxRuntimeExports.jsx("option",{value:"p362",children:"p362"}),jsxRuntimeExports.jsx("option",{value:"p363",children:"p363"}),jsxRuntimeExports.jsx("option",{value:"p364",children:"p364"}),jsxRuntimeExports.jsx("option",{value:"p374",children:"p374"}),jsxRuntimeExports.jsx("option",{value:"p376",children:"p376"})]}),jsxRuntimeExports.jsx(Button,{style:{float:"left",marginLeft:"1em"},onClick:function(){ot("this is a test","self_hosted",it&&it.config&&it.config.ttsSelfHostedVoice?it.config.ttsSelfHostedVoice:"",it&&it.config&&it.config.ttsSpeed?it.config.ttsSpeed/100:"")},children:tt.play})]})})})]}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"Samples",title:"Examples",children:jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"samples",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Sample Queries: "}),jsxRuntimeExports.jsx(Form$1.Control,{style:{width:"80%",display:"inline"},type:"text",value:gt||"",onChange:function(qt){vt(qt.target.value)}}),jsxRuntimeExports.jsx(Button,{style:{marginLeft:"0.3em",display:"inline"},variant:"success",onClick:function(){ft.push(gt),mt(ft),vt(""),yt("samples",ft)},children:"Add"}),jsxRuntimeExports.jsx("div",{children:ft.map(function(qt,vn){return jsxRuntimeExports.jsxs(Button,{style:{marginLeft:"0.2em"},variant:"warning",children:[jsxRuntimeExports.jsx(Badge,{onClick:function(){ft.splice(vn,1),mt(ft),yt("samples",ft)},bg:"warning",children:tt.close}),"    ",qt]},vn)})})]})})})}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"Files",title:"Files",children:jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{})})})]})})]})})}function RolePage(b){const{chatHistoryRoles:$,setChatHistoryRoles:_e,user:et,token:tt,login:nt,logout:rt,refresh:ot,doSave:st,aiUsage:ct,submitForm:lt,stopAllPlaying:at,stopLanguageModels:it,aiLlm:ut,usingOpenAiTts:dt,usingSelfHostedTts:ht,usingWebSpeechTts:ft,usingMeSpeakTts:pt,usingTts:mt,usingStt:gt,usingOpenAiStt:vt,usingSelfHostedStt:yt,usingLocalStt:bt,queueSpeech:xt,getUrl:_t,playDataUri:wt,stopPlaying:At,isPlaying:Pt,setIsPlaying:jt,isMuted:kt,isMutedRef:St,mute:Ct,unmute:Et,category:Tt,setCategory:$t,exportRoles:Ot,importRoles:Rt,setSystemMessage:Nt,systemMessage:Ft,setSystemConfig:Ht,systemConfig:zt,init:an,saveRole:Jt,loadRole:Zt,roles:Qt,setRoles:qt,currentRole:vn,setCurrentRole:Yt,newRole:rn,utteranceQueue:pn,setUtteranceQueue:$n,mergeData:on,setMergeData:Tn,lastLlmTrigger:kn,chatHistories:Bn,setChatHistories:On,autoStartMicrophone:dn,setAutoStartMicrophone:wn,autoStopMicrophone:bn,setAutoStopMicrophone:Sn,refreshHash:Pn,setRefreshHash:In,forceRefresh:Ln,hasRequiredConfig:Xn,isSpeaking:rr,setIsSpeaking:sr,chatHistory:dr,setChatHistory:lr,isWaiting:Gn,startWaiting:Ut,stopWaiting:ln,userMessage:gn,userMessageRef:Cn,setUserMessage:Fn,isReady:Dn,setIsReady:Un,config:or,setConfig:tr,llmEnabled:Vt,setLlmEnabled:hn,icons:cn,configRef:fn,utils:Gt,playSpeech:An,chatHistoryId:zn,categories:Zn,setCategories:Vn}=b;let Kn=useParams(),Wn=useNavigate();return reactExports.useEffect(function(){let Qn=Qt||{};if(Kn.id)Kn.id&&(console.log("paramchange have id",Kn.id,Kn.category,Qn,Qn[Kn.id]),Yt(Kn.id),Kn.category&&(Qn[Kn.id].category=[Kn.category]),localStorage.setItem("voice2llm_last_role",Kn.id),Qn.hasOwnProperty(Kn.id)||(console.log("paramchange crate id",Kn.id,Kn.category),Qn[Kn.id]={id:Kn.id},Kn.category&&(Qn[Kn.id].category=[Kn.category]),qt(Qn)),qt(Qn));else{const nr=Gt.generateRandomId();Yt(nr);let ar=$;ar||(ar={}),ar[zn]=nr,_e(ar),Wn("/role/"+nr)}},[Kn.id]),Gt.summariseConfig(or),jsxRuntimeExports.jsx("div",{className:"App",id:Pn,children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{id:"menu",style:{zIndex:"9",backgroundColor:"lightgrey",border:"1px solid grey",position:"fixed",top:0,left:0,width:"100%",height:"3em"},children:[jsxRuntimeExports.jsxs("span",{style:{float:"left",marginTop:"0.2em",marginLeft:"0.2em"},children:[jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.1em"},to:"/menu",children:jsxRuntimeExports.jsx(Button,{children:cn.menu})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/chat",children:jsxRuntimeExports.jsx(Button,{children:cn.chat})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/roles",children:jsxRuntimeExports.jsx(Button,{children:cn.teamlarge})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/settings",children:jsxRuntimeExports.jsx(Button,{children:cn.settings})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/help",children:jsxRuntimeExports.jsx(Button,{children:cn.question})})]}),jsxRuntimeExports.jsxs("span",{style:{float:"right",marginTop:"0.3em",marginLeft:"0.2em",marginRight:"01em"},children:[tt&&tt.access_token&&jsxRuntimeExports.jsxs(Button,{onClick:function(){rt()},variant:"danger",children:[!(et&&et.picture)&&cn.user_logout," ",et&&et.picture&&jsxRuntimeExports.jsx("img",{height:"28",width:"28",src:et.picture+"?access_token="+tt.access_token+"&not-from-cache-please"})]}),!(tt&&tt.access_token)&&jsxRuntimeExports.jsx(Button,{onClick:function(){nt()},variant:"success",children:cn.user})]}),jsxRuntimeExports.jsx(Link,{to:"/tokens",children:jsxRuntimeExports.jsxs("span",{style:{color:"black",float:"right",marginTop:"0.7em",marginRight:"1em"},children:[" ",jsxRuntimeExports.jsx("b",{children:ct.getTotal()})]})})]}),jsxRuntimeExports.jsxs("div",{id:"body",style:{paddingLeft:"0.3em",paddingRight:"0.3em",textAlign:"left",zIndex:"3",position:"relative",top:"3em",left:0,width:"100%",paddingTop:"0.2em",backgroundColor:"white"},children:[jsxRuntimeExports.jsxs("h3",{children:["Edit Persona ",Qt&&vn&&Qt[vn]&&Qt[vn].name?" - "+Qt[vn].name:""]}),jsxRuntimeExports.jsx(RoleForm,{config:or,roleId:Kn.id,rolesJSON:JSON.stringify(Qt),roles:Qt,setRoles:qt,icons:cn,forceRefresh:Ln,utils:Gt,playSpeech:An,categories:Zn,setCategories:Vn})]}),jsxRuntimeExports.jsx("div",{style:{position:"fixed",bottom:5,right:5,backgroundColor:"white",height:"2em",width:"2em",borderRadius:"50px"},children:jsxRuntimeExports.jsx("a",{target:"new",href:"https://github.com/syntithenai/syntithenai_agents",style:{color:"black"},children:cn.github})})]})})}function HelpPage({refreshHash:b,icons:$,token:_e,logout:et,user:tt,login:nt,config:rt,utils:ot,aiUsage:st,forceRefresh:ct}){return ot.summariseConfig(rt),jsxRuntimeExports.jsxs("div",{className:"App",style:{textAlign:"left",marginLeft:"0.3em"},id:b,children:[jsxRuntimeExports.jsxs("div",{id:"menu",style:{zIndex:"9",backgroundColor:"lightgrey",border:"1px solid grey",position:"fixed",top:0,left:0,width:"100%",height:"3em"},children:[jsxRuntimeExports.jsxs("span",{style:{float:"left",marginTop:"0.2em",marginLeft:"0.2em"},children:[jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.1em"},to:"/menu",children:jsxRuntimeExports.jsx(Button,{children:$.menu})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/chat",children:jsxRuntimeExports.jsx(Button,{children:$.chat})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/roles",children:jsxRuntimeExports.jsx(Button,{children:$.teamlarge})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/settings",children:jsxRuntimeExports.jsx(Button,{children:$.settings})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/help",children:jsxRuntimeExports.jsx(Button,{children:$.question})})]}),jsxRuntimeExports.jsxs("span",{style:{float:"right",marginTop:"0.3em",marginLeft:"0.2em",marginRight:"01em"},children:[_e&&_e.access_token&&jsxRuntimeExports.jsxs(Button,{onClick:function(){et()},variant:"danger",children:[!(tt&&tt.picture)&&$.user_logout," ",tt&&tt.picture&&jsxRuntimeExports.jsx("img",{height:"28",width:"28",src:tt.picture+"?access_token="+_e.access_token+"&not-from-cache-please"})]}),!(_e&&_e.access_token)&&jsxRuntimeExports.jsx(Button,{onClick:function(){nt()},variant:"success",children:$.user})]}),jsxRuntimeExports.jsx(Link,{to:"/tokens",children:jsxRuntimeExports.jsxs("span",{style:{color:"black",float:"right",marginTop:"0.7em",marginRight:"1em"},children:[" ",jsxRuntimeExports.jsx("b",{children:st.getTotal()})]})})]}),jsxRuntimeExports.jsxs("div",{id:"body",style:{paddingLeft:"0.3em",paddingRight:"0.3em",textAlign:"left",zIndex:"3",position:"relative",top:"3em",left:0,width:"100%",paddingTop:"0.2em",backgroundColor:"white"},children:[jsxRuntimeExports.jsx("h3",{children:"Help"}),jsxRuntimeExports.jsx("h2",{children:"Overview"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("i",{children:"Syntithenai"})," (from ancient Greek synthesis) is a web application supporting the use of agentic workflows with language models."]}),jsxRuntimeExports.jsx("p",{children:"It is essentially a chat user interface to support asking questions of a language model."}),jsxRuntimeExports.jsx("p",{children:"By providing language models more context in the form of descriptive system prompts, responses can be made much more relevant. Management and application of Personas is provided to this end."}),jsxRuntimeExports.jsx("p",{children:"By chaining requests to language models and tools, complex flows of information and workflows can be built. Management and application of Teams is provided to this end."}),jsxRuntimeExports.jsx("p",{children:"The software provides for multiple data sources to be injected into prompt workflows including."}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Text and PDF files"}),jsxRuntimeExports.jsx("li",{children:"Web Search"}),jsxRuntimeExports.jsx("li",{children:"Google Documents"}),jsxRuntimeExports.jsx("li",{children:"Google Email"}),jsxRuntimeExports.jsx("li",{children:"Local Files Database"}),jsxRuntimeExports.jsx("li",{children:"Wikipedia"}),jsxRuntimeExports.jsx("li",{children:"TheSession.org tunes database"})]}),jsxRuntimeExports.jsx("p",{children:"This software provides many of the features of Langchain, the dominant solution for chained workflows with language models."}),jsxRuntimeExports.jsx("p",{children:"The software supports tool use and comes with tools for web search and code execution. The injection of recent hard data into the messages we send to language models significantly improves their truthfulness."}),jsxRuntimeExports.jsx("p",{children:"The software includes a File Manager that generates vector embeddings to be used with an integrated Retrieval Augmented Generation(RAG) system."}),jsxRuntimeExports.jsx("h2",{children:"UI Overview"}),jsxRuntimeExports.jsx("p",{children:'At the heart of the software is a chat interface. Most language models are trained on histories of conversations. Language models usually understand "chat history" well.'}),jsxRuntimeExports.jsx("h3",{children:"Menu Bar"}),jsxRuntimeExports.jsx("p",{children:"The three lines in the top left take the user to the list of chats that have been saved. It also opens additional menu items not available on the chat page including (left to right), the current chat session, admin of personas and teams, settings, and help."}),jsxRuntimeExports.jsx("h3",{children:"Chat Interface"}),jsxRuntimeExports.jsx("p",{children:"Message input and send buttons plus a paperclip button to load a file as the user message."}),jsxRuntimeExports.jsx("p",{children:'In the menu bar "New Chat" button.'}),jsxRuntimeExports.jsx("p",{children:"Assistant selector including:"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Pencil to edit current assistant"}),jsxRuntimeExports.jsx("li",{children:"Button with name that opens the assistant selector"}),jsxRuntimeExports.jsx("li",{children:"Button with examples showing how to use the assistant"})]}),jsxRuntimeExports.jsx("p",{children:"Edit, copy buttons per content section. It team flows shown in Accordion, edit and copy buttons per section."}),jsxRuntimeExports.jsx("p",{children:"Revert history (user messages only) will delete all chat history after this point and load the user message into the form for editing and resubmission."}),jsxRuntimeExports.jsx("p",{children:"Costs and duration are shown for assistant responses."}),jsxRuntimeExports.jsx("h3",{children:"Chat History"}),jsxRuntimeExports.jsx("p",{children:"Search filter at top of page."}),jsxRuntimeExports.jsx("p",{children:"List showing previous conversations with copy and delete buttons."}),jsxRuntimeExports.jsx("p",{children:"New chat button."}),jsxRuntimeExports.jsx("p",{children:"Clear all chat history button."}),jsxRuntimeExports.jsx("h2",{children:"Personas"}),jsxRuntimeExports.jsx("p",{children:"A persona is a collection of properties that define how a model should respond. In particular, a persona has form fields to edit:"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Name, category (admin)"}),jsxRuntimeExports.jsx("li",{children:"Instructions, skills, backstory (used for system prompt)"}),jsxRuntimeExports.jsx("li",{children:"Model settings including temperature and top_k"}),jsxRuntimeExports.jsx("li",{children:"Output limits including stop tokens, maximum tokens"}),jsxRuntimeExports.jsx("li",{children:"Output format limits - require JSON, choice, or number. Provide JSON/choice examples. Provide JSON schema (Generate schema from samples button)"}),jsxRuntimeExports.jsx("li",{children:"Voice (for text to speech)"}),jsxRuntimeExports.jsx("li",{children:"Samples (example messages to clarify how to use the persona)"})]}),jsxRuntimeExports.jsx("p",{children:'A persona can have the type "inference" in which case it uses language models to generate responses. A persona can also have the type "algorithmic" in which case it executes the code inside the editable function block to generate a response.'}),jsxRuntimeExports.jsx("p",{children:"The output format wrap as field allows the addition of text before and after the generated content. This can be useful to trigger a renderer (more below). The output wrapping is applied before tool use so it can also be useful in ensuring the correct wrapping to trigger tools use."}),jsxRuntimeExports.jsxs("p",{children:["It is possible to select a preferred model size. This allows the use of the fastest most cost-effective model for the task. This field is used to determine the best model to call when using this persona. The configuration will determine the actual available models. ",jsxRuntimeExports.jsx("strong",{children:"!!!This feature is not implemented at this time."})]}),jsxRuntimeExports.jsx("h2",{children:"Teams"}),jsxRuntimeExports.jsx("p",{children:"Teams enable flows of information between personas to generate a final output. Personas can be attached to teams as members or in a number of specialist roles. A team has a type that defines how the flow of information runs between the Personas associated with the team."}),jsxRuntimeExports.jsx("p",{children:"Types include:"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"Linear"}),jsxRuntimeExports.jsx("li",{children:"Linear collated"}),jsxRuntimeExports.jsx("li",{children:"Parallel"}),jsxRuntimeExports.jsx("li",{children:"Mixture of experts"}),jsxRuntimeExports.jsx("li",{children:"Role based"}),jsxRuntimeExports.jsx("li",{children:"Generator"})]}),jsxRuntimeExports.jsx("p",{children:"A linear team passes the question to each team member in turn, taking the result from the previous step and passing it along with the message to the next team member."}),jsxRuntimeExports.jsx(MermaidViewer,{forceRefresh:ct,elementId:"mermaidrenderer_1",chart:`flowchart LR
 IN --> A[Member 1] -->|member 1 data|B[Member 2] -->|member 2 data| C[Member 3] -->|member 3 data| Formatter -->OUT`}),jsxRuntimeExports.jsx("p",{children:"A linear collated team passes the results of all previous member personas to the next team member."}),jsxRuntimeExports.jsx(MermaidViewer,{forceRefresh:ct,elementId:"mermaidrenderer_2",chart:`flowchart LR
 IN --> A[Member 1] -->|member 2 data| B[Member 2] --> |member 1 and 2 data|C[Member 3] --> |member 1 and 2 and 3 data|Formatter -->OUT`}),jsxRuntimeExports.jsx("p",{children:"A parallel team passes the question to all the experts at the same time and collates and returns the results from each team member's response to the message."}),jsxRuntimeExports.jsx(MermaidViewer,{forceRefresh:ct,elementId:"mermaidrenderer_3",chart:`flowchart LR
 IN --> A[Member 1]
 A --> Formatter 
 IN -->  B[Member 2] 
 B  --> Formatter
 IN -->  C[Member 3]
 C --> Formatter
 Formatter --> OUT`}),jsxRuntimeExports.jsx("p",{children:"A mixture of experts (MOE) team starts by running a chooser persona to choose one or many expert personas to run in parallel. The default chooser uses the skill field of a persona to find the best responder to the message. It is also possible to use an arbitrary persona as the MOE chooser."}),jsxRuntimeExports.jsx(MermaidViewer,{forceRefresh:ct,elementId:"mermaidrenderer_4",chart:`flowchart LR
 IN --> Chooser[Expert Selector] --> A[Member 1] --> Formatter --> OUT 
 IN --> Chooser -->  C[Member 3] --> Formatter --> OUT`}),jsxRuntimeExports.jsx("p",{children:"In a role-based team, a fixed (but largely optional) cast of personas is used to implement a looping structure. First, a Blocker Persona is run and if it responds with FAIL, everything stops and the team responds with empty text. Then a Feeder Persona is run to populate the message context with data from an external source. Next, a Chain Of Thought Planner Persona is given the message and external context data and asked for a plan to respond to the message. Now we start looping around refining the response. The Planner (or Feeder if no planner) response and the original message are passed in turn to a Generator for an initial response. A generator is a required member of the team. The Generator response is fed to the Reducer to compress/summarize the response and finally to the Scorer. If the scorer does not respond with FAIL, the compressed response is fed to a final Formatter and returned. If the scorer does respond with FAIL, the responses from the Feeder, Planner, Generator, and Reducer are fed to a Rewriter and then back to the start of the loop to the Generator."}),jsxRuntimeExports.jsx(MermaidViewer,{forceRefresh:ct,elementId:"mermaidrenderer_6",chart:`flowchart LR
 IN --> Blocker
 Blocker --> Feeder
 Blocker --> OUT
 Feeder --> ct[Chain Of Thought Planner]
 ct  --> Generator 
 Generator --> tr[Text Reducer ]
 tr --> Scorer 
 Scorer --> Formatter 
 Formatter --> OUT 
 Scorer --> Rewriter 
 Rewriter -->  Generator
 `}),jsxRuntimeExports.jsx("p",{children:"A generator team starts by running a generator persona to expand the initial message. An example might be a generator that generates questions related to the original message. For each of the generated options, each team member is called in parallel. Being multiplicative this can lead to high token use or even rate limit restrictions. Be sure to keep the value for maximum iterations and the number of team members reasonable or your query will fail."}),jsxRuntimeExports.jsx(MermaidViewer,{forceRefresh:ct,elementId:"mermaidrenderer_5",chart:`flowchart LR
 IN --> Generator[Question Generator] -->|Generated Question 1| A[Member 1] --> tr[Text Reducer] --> Formatter --> OUT 
 Generator -->|Generated Question 1| B[Member 2] --> tr --> Formatter
 Generator -->|Generated Question 2| A[Member 1] --> tr --> Formatter
 Generator -->|Generated Question 2| B[Member 2] --> tr --> Formatter`}),jsxRuntimeExports.jsx("h4",{children:"Formatter Role"}),jsxRuntimeExports.jsx("p",{children:"Many of the team types also support a Formatter Persona which is given all the team results for manipulation before returning a response to the user."}),jsxRuntimeExports.jsx("h4",{children:"Nested Team Execution"}),jsxRuntimeExports.jsx("p",{children:"Team members and many of the role-based associations allow for the selection of a team instead of a persona. This opens the possibility for complex flows of information between highly capable and reusable teams."}),jsxRuntimeExports.jsx("h4",{children:"Team Compression"}),jsxRuntimeExports.jsx("p",{children:"A team can be compressed into a single query to a language model to save tokens and time. The user message is extended to ask the model to respond as each of the Personas and a list of Personas is provided with the prompt. This only applies to linear, parallel, and mixture of expert types."}),"`",jsxRuntimeExports.jsx("h2",{children:"Renderers"}),jsxRuntimeExports.jsxs("p",{children:["The software supports special rendering for various formats of information including music notation, graphs, and markdown content. Renderers are triggered by ensuring the response content is wrapped in ",jsxRuntimeExports.jsx("code",{children:"```formattype stuff here ```"})]}),jsxRuntimeExports.jsx("p",{children:"Valid format types include:"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("li",{children:"abc (music notation)"}),jsxRuntimeExports.jsx("li",{children:"mermaid (graph)"}),jsxRuntimeExports.jsx("li",{children:"markdown"}),jsxRuntimeExports.jsx("li",{children:"code - javascript, python"})]}),jsxRuntimeExports.jsxs("p",{children:["Any text inside ",jsxRuntimeExports.jsx("code",{children:"```"})," that does not match a valid format will be rendered in a preformatted box."]}),jsxRuntimeExports.jsx("h2",{children:"Tool Use"}),jsxRuntimeExports.jsxs("p",{children:["Tool use is triggered by ensuring the response content is wrapped in ",jsxRuntimeExports.jsx("code",{children:"```tool and ```"}),". For example:"]}),jsxRuntimeExports.jsx("pre",{children:jsxRuntimeExports.jsx("code",{children:"```tool google_search(they might be giants) ```"})}),jsxRuntimeExports.jsx("p",{children:"The output wrap settings can be useful here to ensure the correct wrapping before the tool is called. Alternatively, you can ask the model to intersperse wrapped tool calls with other text; however, it may take some reinforcement in the instructions field to ensure the formatting."}),jsxRuntimeExports.jsx("p",{children:"Tool calls are executed on every call to a language model, and the tool call is appended to the document immediately after the tool call trigger text."}),jsxRuntimeExports.jsx("h2",{children:"RAG Document Store"}),jsxRuntimeExports.jsx("p",{children:"Documents can be ..."}),jsxRuntimeExports.jsx("h2",{children:"Configuration"}),jsxRuntimeExports.jsx("p",{children:"The application supports any LLM host provider compatible with OpenAI."}),jsxRuntimeExports.jsx("h3",{children:"Language Model"}),jsxRuntimeExports.jsx("h3",{children:"Speech To Text"}),jsxRuntimeExports.jsx("h3",{children:"Text To Speech"}),jsxRuntimeExports.jsx("h3",{children:"Tools"})]}),jsxRuntimeExports.jsx("div",{style:{position:"fixed",bottom:0,right:0,backgroundColor:"white",height:"3em",width:"3em"},children:jsxRuntimeExports.jsx("a",{target:"new",href:"https://github.com/syntithenai/syntithenai_agents",style:{color:"black"},children:$.github})})]})}function PrivacyPage({refreshHash:b,icons:$,token:_e,logout:et,user:tt,login:nt}){let rt={marginTop:"0.5em"};return jsxRuntimeExports.jsxs("div",{className:"App",style:{textAlign:"left"},id:b,children:[jsxRuntimeExports.jsxs("div",{id:"menu",style:{zIndex:"9",backgroundColor:"lightgrey",border:"1px solid grey",position:"fixed",top:0,left:0,width:"100%",height:"3em"},children:[jsxRuntimeExports.jsxs("span",{style:{float:"left",marginTop:"0.2em",marginLeft:"0.2em"},children:[jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.1em"},to:"/menu",children:jsxRuntimeExports.jsx(Button,{children:$.menu})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/chat",children:jsxRuntimeExports.jsx(Button,{children:$.chat})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/roles",children:jsxRuntimeExports.jsx(Button,{children:$.teamlarge})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/settings",children:jsxRuntimeExports.jsx(Button,{children:$.settings})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/help",children:jsxRuntimeExports.jsx(Button,{children:$.question})})]}),jsxRuntimeExports.jsxs("span",{style:{float:"right",marginTop:"0.3em",marginLeft:"0.2em",marginRight:"01em"},children:[_e&&_e.access_token&&jsxRuntimeExports.jsxs(Button,{onClick:function(){et()},variant:"danger",children:[!(tt&&tt.picture)&&$.user_logout," ",tt&&tt.picture&&jsxRuntimeExports.jsx("img",{height:"28",width:"28",src:tt.picture+"?access_token="+_e.access_token+"&not-from-cache-please"})]}),!(_e&&_e.access_token)&&jsxRuntimeExports.jsx(Button,{onClick:function(){nt()},variant:"success",children:$.user})]}),jsxRuntimeExports.jsx(Link,{to:"/tokens",children:jsxRuntimeExports.jsxs("span",{style:{color:"black",float:"right",marginTop:"0.7em",marginRight:"1em"},children:[" ",jsxRuntimeExports.jsx("b",{children:aiUsage.getTotal()})]})})]}),jsxRuntimeExports.jsxs("div",{id:"body",style:{paddingLeft:"0.3em",paddingRight:"0.3em",textAlign:"left",zIndex:"3",position:"relative",top:"3em",left:0,width:"100%",paddingTop:"0.2em",backgroundColor:"white"},children:[jsxRuntimeExports.jsx("h3",{children:"Privacy"}),jsxRuntimeExports.jsx("div",{style:rt,children:"This website does not collect any information about you."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("div",{style:rt,children:"When you login with Google and backup to Google Drive, their terms and conditions apply."}),jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx("div",{style:{position:"fixed",bottom:5,right:5,backgroundColor:"white",height:"2em",width:"2em",borderRadius:"50px"},children:jsxRuntimeExports.jsx("a",{target:"new",href:"https://github.com/syntithenai/syntithenai_agents",style:{color:"black"},children:$.github})})]})}function TermsPage({refreshHash:b,icons:$,token:_e,logout:et,user:tt,login:nt}){let rt={marginTop:"0.5em"};return jsxRuntimeExports.jsxs("div",{className:"App",style:{textAlign:"left"},id:b,children:[jsxRuntimeExports.jsxs("div",{id:"menu",style:{zIndex:"9",backgroundColor:"lightgrey",border:"1px solid grey",position:"fixed",top:0,left:0,width:"100%",height:"3em"},children:[jsxRuntimeExports.jsxs("span",{style:{float:"left",marginTop:"0.2em",marginLeft:"0.2em"},children:[jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.1em"},to:"/menu",children:jsxRuntimeExports.jsx(Button,{children:$.menu})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/chat",children:jsxRuntimeExports.jsx(Button,{children:$.chat})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/roles",children:jsxRuntimeExports.jsx(Button,{children:$.teamlarge})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/settings",children:jsxRuntimeExports.jsx(Button,{children:$.settings})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/help",children:jsxRuntimeExports.jsx(Button,{children:$.question})})]}),jsxRuntimeExports.jsxs("span",{style:{float:"right",marginTop:"0.3em",marginLeft:"0.2em",marginRight:"01em"},children:[_e&&_e.access_token&&jsxRuntimeExports.jsxs(Button,{onClick:function(){et()},variant:"danger",children:[!(tt&&tt.picture)&&$.user_logout," ",tt&&tt.picture&&jsxRuntimeExports.jsx("img",{height:"28",width:"28",src:tt.picture+"?access_token="+_e.access_token+"&not-from-cache-please"})]}),!(_e&&_e.access_token)&&jsxRuntimeExports.jsx(Button,{onClick:function(){nt()},variant:"success",children:$.user})]}),jsxRuntimeExports.jsx(Link,{to:"/tokens",children:jsxRuntimeExports.jsxs("span",{style:{color:"black",float:"right",marginTop:"0.7em",marginRight:"1em"},children:[" ",jsxRuntimeExports.jsx("b",{children:aiUsage.getTotal()})]})})]}),jsxRuntimeExports.jsxs("div",{id:"body",style:{paddingLeft:"0.3em",paddingRight:"0.3em",textAlign:"left",zIndex:"3",position:"relative",top:"3em",left:0,width:"100%",paddingTop:"0.2em",backgroundColor:"white"},children:[jsxRuntimeExports.jsx("h3",{children:"Terms And Conditions"}),jsxRuntimeExports.jsx("div",{style:rt,children:"This software is provided as is without guarantees or warranties."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("div",{style:rt,children:["The software is open source MIT style license so you can modify and use it however you like without attribution. See ",jsxRuntimeExports.jsx("a",{href:"https://github.com/syntithenai/syntithenai_agents",target:"_new",children:"Github for details"})]}),jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx("div",{style:{position:"fixed",bottom:5,right:5,backgroundColor:"white",height:"2em",width:"2em",borderRadius:"50px"},children:jsxRuntimeExports.jsx("a",{target:"new",href:"https://github.com/syntithenai/syntithenai_agents",style:{color:"black",borderRadius:"50px"},children:$.github})})]})}function HelpDropdown({title:b,content:$,icons:_e,style:et}){const[tt,nt]=reactExports.useState(!1),rt=()=>{nt(!1)},ot=()=>nt(!0);return jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx(Button,{style:et,onClick:ot,variant:"outline-primary",children:_e.question}),jsxRuntimeExports.jsxs(Modal$2,{show:tt,onHide:rt,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{style:{marginRight:"2em"},children:b})}),jsxRuntimeExports.jsx(Modal$2.Body,{style:{minHeight:"50em"},children:$})]})]})}function RoleOrTeamSelector(b){const{teamId:$,defaultTeamOptions:_e,defaultOptions:et,onChange:tt,value:nt,single:rt,utils:ot,rolesOnly:st,categoryFilter:ct,setCategoryFilter:lt,roles:at,teams:it,currentTeam:ut}=b,dt=ot.generateRandomId(),[ht,ft]=reactExports.useState(!1),[pt,mt]=reactExports.useState(!1),gt=useIcons(),vt=()=>{xt(""),mt(!1)},yt=()=>mt(!0);reactExports.useRef();const[bt,xt]=reactExports.useState(""),[_t,wt]=reactExports.useState(et),[At,Pt]=reactExports.useState(_e);reactExports.useEffect(function(){wt(et)},[et]),reactExports.useEffect(function(){Pt(_e)},[_e]);var jt=null;function kt(Ht){xt(Ht.target.value.toLowerCase()),Ht.target.value?(jt&&clearTimeout(jt),jt=setTimeout(function(){let zt={},an={};Object.keys(et).map(function(Jt){Jt&&et&&et[Jt]&&et[Jt].name&&et[Jt].name.toLowerCase().indexOf(Ht.target.value.toLowerCase())!==-1&&(zt[Jt]=et[Jt])}),Object.keys(_e).map(function(Jt){Jt&&_e&&_e[Jt]&&_e[Jt].name&&_e[Jt].name.toLowerCase().indexOf(Ht.target.value.toLowerCase())!==-1&&(an[Jt]=_e[Jt])}),wt(zt),Pt(an)},5)):(wt(et),console.log("SETDEF",_e),Pt(_e))}function St(Ht){let zt=nt.length>Ht?nt[Ht]:"";nt[Ht]=nt[Ht-1],nt[Ht-1]=zt,tt(nt)}function Ct(Ht){let zt=nt.length>Ht?nt[Ht]:"";nt[Ht]=nt[Ht+1],nt[Ht+1]=zt,tt(nt)}function Et(Ht){return Ht>0}function Tt(Ht){return Array.isArray(nt)&&Ht<nt.length-1}function $t(Ht){if(rt)console.log("sel role single",[Ht]),tt([Ht]);else{var zt=Array.isArray(nt)?nt:[];zt.push(Ht),xt(""),tt(zt)}}function Ot(Ht){nt.splice(Ht,1),tt(nt)}let Rt=_e&&$&&_e[$]&&_e[$].category&&_e[$].category[0]?"/"+_e[$].category[0]:"";var Nt=_t?Object.keys(_t):[];Nt.sort(function(Ht,zt){return Ht&&zt&&_t[Ht]&&_t[zt]&&_t[Ht].name>_t[zt].name?1:-1});var Ft=At?Object.keys(At):[];return Ft.sort(function(Ht,zt){return Ht&&zt&&At[Ht]&&At[zt]&&At[Ht].name>At[zt].name?1:-1}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button,{variant:"primary",style:{marginBottom:"0.8em",marginLeft:"1em"},onClick:yt,children:gt.add}),jsxRuntimeExports.jsx("div",{children:Array.isArray(nt)&&nt.map(function(Ht,zt){return jsxRuntimeExports.jsxs(ButtonGroup,{style:{marginRight:"0.2em"},children:[Ht.startsWith("TEAM:::::")&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!rt&&Et(zt)&&jsxRuntimeExports.jsx(Button,{onClick:function(an){St(zt)},variant:"primary",children:gt.left}),_e&&_e[Ht.slice(9)]&&jsxRuntimeExports.jsx(Link,{to:"/team/"+Ht.slice(9),children:jsxRuntimeExports.jsx(Button,{variant:"primary",children:gt.pencil})}),jsxRuntimeExports.jsx(Button,{variant:"primary",onClick:function(an){Ot(zt)},children:gt.bin},Ht),jsxRuntimeExports.jsx(Button,{variant:"primary",children:_e&&_e[Ht.slice(9)]?_e[Ht.slice(9)].name:""}),!rt&&Tt(zt)&&jsxRuntimeExports.jsx(Button,{onClick:function(an){Ct(zt)},variant:"primary",children:gt.right})]}),!Ht.startsWith("TEAM:::::")&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!rt&&Et(zt)&&jsxRuntimeExports.jsx(Button,{onClick:function(an){St(zt)},variant:"info",children:gt.left}),et&&et[Ht]&&jsxRuntimeExports.jsx(Link,{to:"/role/"+Ht,children:jsxRuntimeExports.jsx(Button,{variant:"info",children:gt.pencil})}),jsxRuntimeExports.jsx(Button,{variant:"info",onClick:function(an){Ot(zt)},children:gt.bin},Ht),jsxRuntimeExports.jsx(Button,{variant:"info",children:et&&et[Ht]?et[Ht].name:""}),!rt&&Tt(zt)&&jsxRuntimeExports.jsx(Button,{onClick:function(an){Ct(zt)},variant:"info",children:gt.right})]})]},zt)})}),jsxRuntimeExports.jsxs(Modal$2,{show:pt,onHide:vt,children:[jsxRuntimeExports.jsx(Modal$2.Header,{closeButton:!0,children:jsxRuntimeExports.jsx(Modal$2.Title,{style:{marginRight:"2em"},children:"Select Persona Or Team"})}),jsxRuntimeExports.jsxs(Modal$2.Body,{style:{minHeight:"50em"},children:[jsxRuntimeExports.jsx("input",{type:"search",value:bt,onChange:kt,onFocus:function(){ft(!0)},onBlur:function(){setTimeout(function(){ft(!1)},500)}}),jsxRuntimeExports.jsx("div",{style:{clear:"both",marginTop:"1em"}}),jsxRuntimeExports.jsx("div",{style:{position:"relative",top:"-5px",zIndex:10,backgroundColor:"white"},children:jsxRuntimeExports.jsxs(Tabs,{defaultActiveKey:"roles",id:"uncontrolled-tab-example",className:"mb-3",children:[jsxRuntimeExports.jsxs(Tab$1,{eventKey:"roles",title:"Persona",children:[jsxRuntimeExports.jsx(Link,{onClick:function(){$t(dt)},to:"/role/"+dt+Rt,children:jsxRuntimeExports.jsx(Button,{style:{float:"right"},variant:"success",children:gt.add})}),jsxRuntimeExports.jsx(ListGroup$1,{style:{zIndex:"20",clear:"both",width:"100%"},children:Nt.map(function(Ht,zt){let an=_t[Ht];return jsxRuntimeExports.jsxs(ListGroup$1.Item,{className:zt%2===0?"even":"odd",onClick:function(Jt){$t(Ht),xt(""),vt()},children:[jsxRuntimeExports.jsx("span",{children:_t&&_t[an]&&Array.isArray(_t[an].category)&&_t[an].category.map(function(Jt){return jsxRuntimeExports.jsx(Button,{variant:"secondary",size:"sm",onClick:function(Zt){return lt([Jt]),Zt.stopPropagation(),!1},bg:"secondary",style:{float:"right",marginLeft:"0.2em"},children:Jt})})}),an.name]},zt)})})]}),!st&&jsxRuntimeExports.jsxs(Tab$1,{eventKey:"teams",title:"Team",children:[jsxRuntimeExports.jsx(Link,{onClick:function(){$t("TEAM:::::"+dt),vt()},to:"/team/"+dt+Rt,children:jsxRuntimeExports.jsx(Button,{style:{float:"right"},variant:"success",children:gt.add})}),jsxRuntimeExports.jsx(ListGroup$1,{style:{zIndex:"20",clear:"both",width:"100%"},children:Ft.map(function(Ht,zt){let an=At&&At[Ht];return jsxRuntimeExports.jsx(ListGroup$1.Item,{className:zt%2===0?"even":"odd",onClick:function(Jt){$t("TEAM:::::"+Ht),xt(""),vt()},children:an&&an.name},zt)})})]})]})})]})]})]})}function TeamForm({teamId:b,teams:$,teamsJSON:_e,setTeams:et,icons:tt,forceRefresh:nt,utils:rt,playSpeech:ot,config:st,categories:ct,setCategories:lt,roles:at}){const[it,ut]=reactExports.useState({});let[dt,ht]=reactExports.useState(""),[ft,pt]=reactExports.useState([]);function mt(kt){pt(kt),yt("samples",kt)}let[gt,vt]=reactExports.useState("");reactExports.useState("");function yt(kt,St){$&&b&&kt&&($.hasOwnProperty(b)||($[b]={type:"linear"}),$[b][kt]=St,et($),ht(rt.generateRandomId()))}function bt(kt,St){$||($={}),b&&kt&&($[b]||($[b]={}),$[b].config=$[b].config?$[b].config:{},$[b].config[kt]=St,et($),ht(rt.generateRandomId()))}reactExports.useEffect(function(){ht(rt.generateRandomId()),nt(),ut($&&b?$[b]:null),mt($&&b&&$[b]&&Array.isArray($[b].samples)?$[b].samples:[])},[JSON.stringify($&&b?$[b]:{})]);const xt=(kt,St)=>{yt(kt,St.target.checked)},_t=(kt,St)=>{yt(kt,St.target.value)},wt=kt=>{yt("category",kt);let St=Array.isArray(kt)?kt:[];ct||(ct={}),St.forEach(function(Ct){ct[Ct]=1}),lt(ct)};function At(kt){switch(kt){case"linear":return`flowchart LR
 IN --> A[Member 1] -->|member 1 data|B[Member 2] -->|member 2 data| C[Member 3] -->|member 3 data| Formatter -->OUT`;case"linearcollation":return`flowchart LR
 IN --> A[Member 1] -->|member 2 data| B[Member 2] --> |member 1 and 2 data|C[Member 3] --> |member 1 and 2 and 3 data|Formatter -->OUT`;case"parallel":return`flowchart LR
 IN --> A[Member 1]
 A --> Formatter 
 IN -->  B[Member 2] 
 B  --> Formatter
 IN -->  C[Member 3]
 C --> Formatter
 Formatter --> OUT
 `;case"mixtureofexperts":return`flowchart LR
 IN --> Chooser[Expert Selector] --> A[Member 1] --> Formatter --> OUT 
 IN --> Chooser -->  C[Member 3] --> Formatter --> OUT`;case"generator":return`flowchart LR
 IN --> Generator[Question Generator] -->|Generated Question 1| A[Member 1] --> tr[Text Reducer] --> Formatter --> OUT 
 Generator -->|Generated Question 1| B[Member 2] --> tr --> Formatter
 Generator -->|Generated Question 2| A[Member 1] --> tr --> Formatter
 Generator -->|Generated Question 2| B[Member 2] --> tr --> Formatter`;case"rolesbased":return`flowchart LR
 IN --> Blocker
 Blocker --> Feeder
 Blocker --> OUT
 Feeder --> ct[Chain Of Thought Planner]
 ct  --> Generator 
 Generator --> tr[Text Reducer ]
 tr --> Scorer 
 Scorer --> Formatter 
 Formatter --> OUT 
 Scorer --> Rewriter 
 Rewriter -->  Generator
 
 `}}const Pt=At(it&&it.type?it.type:"linear");function jt(){const kt=JSON.stringify(rt.exportTeam($,b,at));console.log(kt),rt.downloadText(kt,$[b].name+".js")}return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Form$1,{id:dt,onSubmit:function(kt){return kt.preventDefault(),!1},children:[jsxRuntimeExports.jsx(Button,{onClick:jt,style:{float:"right"},variant:"success",children:tt.save}),jsxRuntimeExports.jsx("div",{className:"border p-3 mb-3",children:jsxRuntimeExports.jsxs(Tabs,{defaultActiveKey:"Basics",id:"uncontrolled-tab-example",className:"mb-3",children:[jsxRuntimeExports.jsxs(Tab$1,{eventKey:"Basics",title:"Info",children:[jsxRuntimeExports.jsxs(Row,{className:"mb-3",children:[jsxRuntimeExports.jsx(Form$1.Group,{as:Col,controlId:"openaiKey",children:jsxRuntimeExports.jsxs(Row,{className:"mb-12",children:[jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Name"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",onChange:kt=>_t("name",kt),value:it&&it.name?it.name:""})]}),jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Category"}),jsxRuntimeExports.jsx(CategoriesSelector,{icons:tt,value:it&&typeof it.category=="string"?[it.category]:it&&Array.isArray(it.category)?it.category:[],onChange:kt=>wt(kt),defaultOptions:ct?Object.keys(ct):[]})]}),it&&it.type!=="rolesbased"&&jsxRuntimeExports.jsxs(Col,{style:{textAlign:"right"},children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Compress "}),jsxRuntimeExports.jsx(FormCheck$1,{style:{display:"inline",marginRight:"0.2em"},type:"checkbox",checked:!!(it&&it.compress),onChange:kt=>{xt("compress",kt)}})]})]})}),jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Welcome Message"}),jsxRuntimeExports.jsx(index$4,{minRows:"1",style:{width:"100%"},onChange:kt=>bt("welcomeMessage",kt.target.value),value:it&&it.config&&it.config.welcomeMessage?it.config.welcomeMessage:""})]}),jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Skills"}),jsxRuntimeExports.jsx(index$4,{minRows:"1",style:{width:"100%"},onChange:kt=>_t("skills",kt),value:it&&it.skills?it.skills:""})]})]}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Form$1.Group,{style:{clear:"both",marginBottom:"1em",borderBottom:"1px solid grey"},as:Col,controlId:"openaiKey",children:jsxRuntimeExports.jsxs(Row,{className:"mb-12",children:[jsxRuntimeExports.jsxs(Col,{children:[jsxRuntimeExports.jsxs(Form$1.Label,{children:["Type",jsxRuntimeExports.jsx(HelpDropdown,{style:{marginRight:"1em",float:"left"},title:"Team Type",content:jsxRuntimeExports.jsx("b",{children:"The flow of information between team members can be ..."}),icons:tt})]}),jsxRuntimeExports.jsxs(Form$1.Select,{value:it&&it.type?it.type:"linear",onChange:function(kt){_t("type",kt)},children:[jsxRuntimeExports.jsx("option",{value:"linear",children:"Linear"}),jsxRuntimeExports.jsx("option",{value:"linearcollation",children:"Linear (collate results)"}),jsxRuntimeExports.jsx("option",{value:"parallel",children:"Parallel"}),jsxRuntimeExports.jsx("option",{value:"mixtureofexperts",children:"Mixture Of Experts"}),jsxRuntimeExports.jsx("option",{value:"rolesbased",children:"Roles Based"}),jsxRuntimeExports.jsx("option",{value:"generator",children:"Question Generator"})]})]}),it&&it.type==="mixtureofexperts"&&jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Expert Selector "}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:b,rolesOnly:!0,single:!0,defaultTeamOptions:$,utils:rt,value:it&&Array.isArray(it.expert_selector)?it.expert_selector:[],onChange:kt=>yt("expert_selector",kt),defaultOptions:at})]})}),it&&it.type==="generator"&&jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Question Generator"}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:b,rolesOnly:!0,single:!0,defaultTeamOptions:$,utils:rt,value:it&&Array.isArray(it.question_generator)?it.question_generator:[],onChange:kt=>yt("question_generator",kt),defaultOptions:at})]})}),it&&it.type==="generator"&&jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Max Generated Items"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",onChange:kt=>_t("max_generated_items",kt),value:it&&it.max_generated_items?it.max_generated_items:"2"})]})}),Pt&&jsxRuntimeExports.jsx(MermaidViewer,{chart:Pt,forceRefresh:nt,elementId:"mermaidrenderer_1"})]})})}),jsxRuntimeExports.jsxs(Row,{children:[!(it&&it.type==="rolesbased")&&jsxRuntimeExports.jsxs(Form$1.Group,{style:{borderBottom:"1px solid grey",paddingBottom:"1em",marginBottom:"1em"},controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Members"}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:b,defaultTeamOptions:$,utils:rt,value:it&&Array.isArray(it.members)?it.members:[],onChange:kt=>yt("members",kt),defaultOptions:at})]}),jsxRuntimeExports.jsxs(Row,{className:"mb-12",children:[it&&it.type==="rolesbased"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Blocker"}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:b,rolesOnly:!0,single:!0,defaultTeamOptions:$,utils:rt,value:it&&Array.isArray(it.blocker)?it.blocker:[],onChange:kt=>yt("blocker",kt),defaultOptions:at})]})}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Feeder"}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:b,single:!0,defaultTeamOptions:$,utils:rt,value:it&&Array.isArray(it.feeder)?it.feeder:[],onChange:kt=>yt("feeder",kt),defaultOptions:at})]})}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Chain Of Thought Planner"}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:b,single:!0,defaultTeamOptions:$,utils:rt,value:it&&Array.isArray(it.planner)?it.planner:[],onChange:kt=>yt("planner",kt),defaultOptions:at})]})}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"generator",children:[jsxRuntimeExports.jsxs(Form$1.Label,{children:["Generator ",jsxRuntimeExports.jsx("b",{children:"(* required)"})]}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:b,single:!0,defaultTeamOptions:$,utils:rt,value:it&&Array.isArray(it.generator)?it.generator:[],onChange:kt=>yt("generator",kt),defaultOptions:at})]})}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Text Reducer"}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:b,rolesOnly:!0,single:!0,defaultTeamOptions:$,utils:rt,value:it&&Array.isArray(it.summariser)?it.summariser:[],onChange:kt=>yt("summariser",kt),defaultOptions:at})]})}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Scorer"}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:b,rolesOnly:!0,single:!0,defaultTeamOptions:$,utils:rt,value:it&&Array.isArray(it.scorer)?it.scorer:[],onChange:kt=>yt("scorer",kt),defaultOptions:at})]})}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"openaiKey",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Max Iterations"}),jsxRuntimeExports.jsx(Form$1.Control,{type:"text",onChange:kt=>_t("max_iterations",kt),value:it&&it.max_iterations?it.max_iterations:"2"})]})}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"rewriter",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Rewriter"}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:b,rolesOnly:!0,single:!0,defaultTeamOptions:$,utils:rt,value:it&&Array.isArray(it.rewriter)?it.rewriter:[],onChange:kt=>yt("rewriter",kt),defaultOptions:at})]})})]}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"rewriter",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Formatter"}),jsxRuntimeExports.jsx(RoleOrTeamSelector,{teamId:b,rolesOnly:!0,single:!0,defaultTeamOptions:$,utils:rt,value:it&&Array.isArray(it.formatter)?it.formatter:[],onChange:kt=>yt("formatter",kt),defaultOptions:at})]})})]})]})]}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"Samples",title:"Examples",children:jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsxs(Form$1.Group,{controlId:"samples",children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Sample Queries: "}),jsxRuntimeExports.jsx(Form$1.Control,{style:{width:"80%",display:"inline"},type:"text",value:gt||"",onChange:function(kt){vt(kt.target.value)}}),jsxRuntimeExports.jsx(Button,{style:{marginLeft:"0.3em",display:"inline"},variant:"success",onClick:function(){ft.push(gt),mt(ft),vt(""),yt("samples",ft)},children:"Add"}),jsxRuntimeExports.jsx("div",{children:ft.map(function(kt,St){return jsxRuntimeExports.jsxs(Button,{style:{marginLeft:"0.2em"},variant:"warning",children:[jsxRuntimeExports.jsx(Badge,{onClick:function(){ft.splice(St,1),mt(ft),yt("samples",ft)},bg:"warning",children:tt.close}),"    ",kt]},St)})})]})})})})]})})]})})}function TeamPage(b){const{aiUsage:$,teams:_e,setTeams:et,roles:tt,icons:nt,utils:rt,chatHistoryTeams:ot,setChatHistoryTeams:st,currentTeam:ct,setCurrentTeam:lt,forceRefresh:at,playSpeech:it,categories:ut,setCategories:dt,refreshHash:ht,user:ft,token:pt,login:mt,logout:gt,config:vt,chatHistoryId:yt}=b,bt=useParams();let xt=useNavigate();return reactExports.useEffect(function(){let _t=_e||{};if(bt.id)bt.id&&(lt(bt.id),bt.category&&(_t[bt.id].category=[bt.category]),_t.hasOwnProperty(bt.id)||(_t[bt.id]={id:bt.id},bt.category&&(_t[bt.id].category=[bt.category]),et(_t)));else{const wt=rt.generateRandomId();lt(wt);let At=ot;At||(At={}),At[yt]=wt,st(At),xt("/team/"+wt)}},[bt.id]),rt.summariseConfig(vt),jsxRuntimeExports.jsx("div",{className:"App",id:ht,children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{id:"menu",style:{zIndex:"9",backgroundColor:"lightgrey",border:"1px solid grey",position:"fixed",top:0,left:0,width:"100%",height:"3em"},children:[jsxRuntimeExports.jsxs("span",{style:{float:"left",marginTop:"0.2em",marginLeft:"0.2em"},children:[jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.1em"},to:"/menu",children:jsxRuntimeExports.jsx(Button,{children:nt.menu})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/chat",children:jsxRuntimeExports.jsx(Button,{children:nt.chat})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/roles",children:jsxRuntimeExports.jsx(Button,{children:nt.teamlarge})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/settings",children:jsxRuntimeExports.jsx(Button,{children:nt.settings})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/help",children:jsxRuntimeExports.jsx(Button,{children:nt.question})})]}),jsxRuntimeExports.jsxs("span",{style:{float:"right",marginTop:"0.3em",marginLeft:"0.2em",marginRight:"01em"},children:[pt&&pt.access_token&&jsxRuntimeExports.jsxs(Button,{onClick:function(){gt()},variant:"danger",children:[!(ft&&ft.picture)&&nt.user_logout," ",ft&&ft.picture&&jsxRuntimeExports.jsx("img",{height:"28",width:"28",src:ft.picture+"?access_token="+pt.access_token+"&not-from-cache-please"})]}),!(pt&&pt.access_token)&&jsxRuntimeExports.jsx(Button,{onClick:function(){mt()},variant:"success",children:nt.user})]}),jsxRuntimeExports.jsx(Link,{to:"/tokens",children:jsxRuntimeExports.jsxs("span",{style:{color:"black",float:"right",marginTop:"0.7em",marginRight:"1em"},children:[" ",jsxRuntimeExports.jsx("b",{children:$.getTotal()})]})})]}),jsxRuntimeExports.jsxs("div",{id:"body",style:{paddingLeft:"0.3em",paddingRight:"0.3em",textAlign:"left",zIndex:"3",position:"relative",top:"3em",left:0,width:"100%",paddingTop:"0.2em",backgroundColor:"white"},children:[jsxRuntimeExports.jsxs("h3",{children:["Edit Team ",_e&&ct&&_e[ct]&&_e[ct].name?" - "+_e[ct].name:""]}),jsxRuntimeExports.jsx(TeamForm,{config:vt,teamId:bt.id,teamsJSON:JSON.stringify(_e),teams:_e,setTeams:et,icons:nt,forceRefresh:at,utils:rt,playSpeech:it,categories:ut,setCategories:dt,roles:tt})]}),jsxRuntimeExports.jsx("div",{style:{position:"fixed",bottom:5,right:5,backgroundColor:"white",height:"2em",width:"2em",borderRadius:"50px"},children:jsxRuntimeExports.jsx("a",{target:"new",href:"https://github.com/syntithenai/syntithenai_agents",style:{color:"black"},children:nt.github})})]})})}function r(b){var $,_e,et="";if(typeof b=="string"||typeof b=="number")et+=b;else if(typeof b=="object")if(Array.isArray(b)){var tt=b.length;for($=0;$<tt;$++)b[$]&&(_e=r(b[$]))&&(et&&(et+=" "),et+=_e)}else for(_e in b)b[_e]&&(et&&(et+=" "),et+=_e);return et}function clsx(){for(var b,$,_e=0,et="",tt=arguments.length;_e<tt;_e++)(b=arguments[_e])&&($=r(b))&&(et&&(et+=" "),et+=$);return et}function isDate(b){return b instanceof Date||typeof b=="object"&&Object.prototype.toString.call(b)==="[object Date]"}function toDate(b){const $=Object.prototype.toString.call(b);return b instanceof Date||typeof b=="object"&&$==="[object Date]"?new b.constructor(+b):typeof b=="number"||$==="[object Number]"||typeof b=="string"||$==="[object String]"?new Date(b):new Date(NaN)}function isValid$1(b){if(!isDate(b)&&typeof b!="number")return!1;const $=toDate(b);return!isNaN(Number($))}const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=(b,$,_e)=>{let et;const tt=formatDistanceLocale[b];return typeof tt=="string"?et=tt:$===1?et=tt.one:et=tt.other.replace("{{count}}",$.toString()),_e!=null&&_e.addSuffix?_e.comparison&&_e.comparison>0?"in "+et:et+" ago":et};function buildFormatLongFn(b){return($={})=>{const _e=$.width?String($.width):b.defaultWidth;return b.formats[_e]||b.formats[b.defaultWidth]}}const dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=(b,$,_e,et)=>formatRelativeLocale[b];function buildLocalizeFn(b){return($,_e)=>{const et=_e!=null&&_e.context?String(_e.context):"standalone";let tt;if(et==="formatting"&&b.formattingValues){const rt=b.defaultFormattingWidth||b.defaultWidth,ot=_e!=null&&_e.width?String(_e.width):rt;tt=b.formattingValues[ot]||b.formattingValues[rt]}else{const rt=b.defaultWidth,ot=_e!=null&&_e.width?String(_e.width):b.defaultWidth;tt=b.values[ot]||b.values[rt]}const nt=b.argumentCallback?b.argumentCallback($):$;return tt[nt]}}const eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=(b,$)=>{const _e=Number(b),et=_e%100;if(et>20||et<10)switch(et%10){case 1:return _e+"st";case 2:return _e+"nd";case 3:return _e+"rd"}return _e+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:b=>b-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(b){return($,_e={})=>{const et=_e.width,tt=et&&b.matchPatterns[et]||b.matchPatterns[b.defaultMatchWidth],nt=$.match(tt);if(!nt)return null;const rt=nt[0],ot=et&&b.parsePatterns[et]||b.parsePatterns[b.defaultParseWidth],st=Array.isArray(ot)?findIndex(ot,at=>at.test(rt)):findKey(ot,at=>at.test(rt));let ct;ct=b.valueCallback?b.valueCallback(st):st,ct=_e.valueCallback?_e.valueCallback(ct):ct;const lt=$.slice(rt.length);return{value:ct,rest:lt}}}function findKey(b,$){for(const _e in b)if(Object.prototype.hasOwnProperty.call(b,_e)&&$(b[_e]))return _e}function findIndex(b,$){for(let _e=0;_e<b.length;_e++)if($(b[_e]))return _e}function buildMatchPatternFn(b){return($,_e={})=>{const et=$.match(b.matchPattern);if(!et)return null;const tt=et[0],nt=$.match(b.parsePattern);if(!nt)return null;let rt=b.valueCallback?b.valueCallback(nt[0]):nt[0];rt=_e.valueCallback?_e.valueCallback(rt):rt;const ot=$.slice(tt.length);return{value:rt,rest:ot}}}const matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:b=>parseInt(b,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:b=>b+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:0,firstWeekContainsDate:1}};let defaultOptions={};function getDefaultOptions$1(){return defaultOptions}const millisecondsInWeek=6048e5,millisecondsInDay=864e5,millisecondsInMinute=6e4,millisecondsInHour=36e5,millisecondsInSecond=1e3;function startOfDay(b){const $=toDate(b);return $.setHours(0,0,0,0),$}function getTimezoneOffsetInMilliseconds(b){const $=toDate(b),_e=new Date(Date.UTC($.getFullYear(),$.getMonth(),$.getDate(),$.getHours(),$.getMinutes(),$.getSeconds(),$.getMilliseconds()));return _e.setUTCFullYear($.getFullYear()),+b-+_e}function differenceInCalendarDays(b,$){const _e=startOfDay(b),et=startOfDay($),tt=+_e-getTimezoneOffsetInMilliseconds(_e),nt=+et-getTimezoneOffsetInMilliseconds(et);return Math.round((tt-nt)/millisecondsInDay)}function constructFrom(b,$){return b instanceof Date?new b.constructor($):new Date($)}function startOfYear(b){const $=toDate(b),_e=constructFrom(b,0);return _e.setFullYear($.getFullYear(),0,1),_e.setHours(0,0,0,0),_e}function getDayOfYear(b){const $=toDate(b);return differenceInCalendarDays($,startOfYear($))+1}function startOfWeek(b,$){var ot,st,ct,lt;const _e=getDefaultOptions$1(),et=($==null?void 0:$.weekStartsOn)??((st=(ot=$==null?void 0:$.locale)==null?void 0:ot.options)==null?void 0:st.weekStartsOn)??_e.weekStartsOn??((lt=(ct=_e.locale)==null?void 0:ct.options)==null?void 0:lt.weekStartsOn)??0,tt=toDate(b),nt=tt.getDay(),rt=(nt<et?7:0)+nt-et;return tt.setDate(tt.getDate()-rt),tt.setHours(0,0,0,0),tt}function startOfISOWeek(b){return startOfWeek(b,{weekStartsOn:1})}function getISOWeekYear(b){const $=toDate(b),_e=$.getFullYear(),et=constructFrom(b,0);et.setFullYear(_e+1,0,4),et.setHours(0,0,0,0);const tt=startOfISOWeek(et),nt=constructFrom(b,0);nt.setFullYear(_e,0,4),nt.setHours(0,0,0,0);const rt=startOfISOWeek(nt);return $.getTime()>=tt.getTime()?_e+1:$.getTime()>=rt.getTime()?_e:_e-1}function startOfISOWeekYear(b){const $=getISOWeekYear(b),_e=constructFrom(b,0);return _e.setFullYear($,0,4),_e.setHours(0,0,0,0),startOfISOWeek(_e)}function getISOWeek(b){const $=toDate(b),_e=+startOfISOWeek($)-+startOfISOWeekYear($);return Math.round(_e/millisecondsInWeek)+1}function getWeekYear(b,$){var lt,at,it,ut;const _e=toDate(b),et=_e.getFullYear(),tt=getDefaultOptions$1(),nt=($==null?void 0:$.firstWeekContainsDate)??((at=(lt=$==null?void 0:$.locale)==null?void 0:lt.options)==null?void 0:at.firstWeekContainsDate)??tt.firstWeekContainsDate??((ut=(it=tt.locale)==null?void 0:it.options)==null?void 0:ut.firstWeekContainsDate)??1,rt=constructFrom(b,0);rt.setFullYear(et+1,0,nt),rt.setHours(0,0,0,0);const ot=startOfWeek(rt,$),st=constructFrom(b,0);st.setFullYear(et,0,nt),st.setHours(0,0,0,0);const ct=startOfWeek(st,$);return _e.getTime()>=ot.getTime()?et+1:_e.getTime()>=ct.getTime()?et:et-1}function startOfWeekYear(b,$){var ot,st,ct,lt;const _e=getDefaultOptions$1(),et=($==null?void 0:$.firstWeekContainsDate)??((st=(ot=$==null?void 0:$.locale)==null?void 0:ot.options)==null?void 0:st.firstWeekContainsDate)??_e.firstWeekContainsDate??((lt=(ct=_e.locale)==null?void 0:ct.options)==null?void 0:lt.firstWeekContainsDate)??1,tt=getWeekYear(b,$),nt=constructFrom(b,0);return nt.setFullYear(tt,0,et),nt.setHours(0,0,0,0),startOfWeek(nt,$)}function getWeek$1(b,$){const _e=toDate(b),et=+startOfWeek(_e,$)-+startOfWeekYear(_e,$);return Math.round(et/millisecondsInWeek)+1}function addLeadingZeros(b,$){const _e=b<0?"-":"",et=Math.abs(b).toString().padStart($,"0");return _e+et}const lightFormatters={y(b,$){const _e=b.getFullYear(),et=_e>0?_e:1-_e;return addLeadingZeros($==="yy"?et%100:et,$.length)},M(b,$){const _e=b.getMonth();return $==="M"?String(_e+1):addLeadingZeros(_e+1,2)},d(b,$){return addLeadingZeros(b.getDate(),$.length)},a(b,$){const _e=b.getHours()/12>=1?"pm":"am";switch($){case"a":case"aa":return _e.toUpperCase();case"aaa":return _e;case"aaaaa":return _e[0];case"aaaa":default:return _e==="am"?"a.m.":"p.m."}},h(b,$){return addLeadingZeros(b.getHours()%12||12,$.length)},H(b,$){return addLeadingZeros(b.getHours(),$.length)},m(b,$){return addLeadingZeros(b.getMinutes(),$.length)},s(b,$){return addLeadingZeros(b.getSeconds(),$.length)},S(b,$){const _e=$.length,et=b.getMilliseconds(),tt=Math.trunc(et*Math.pow(10,_e-3));return addLeadingZeros(tt,$.length)}},dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(b,$,_e){const et=b.getFullYear()>0?1:0;switch($){case"G":case"GG":case"GGG":return _e.era(et,{width:"abbreviated"});case"GGGGG":return _e.era(et,{width:"narrow"});case"GGGG":default:return _e.era(et,{width:"wide"})}},y:function(b,$,_e){if($==="yo"){const et=b.getFullYear(),tt=et>0?et:1-et;return _e.ordinalNumber(tt,{unit:"year"})}return lightFormatters.y(b,$)},Y:function(b,$,_e,et){const tt=getWeekYear(b,et),nt=tt>0?tt:1-tt;if($==="YY"){const rt=nt%100;return addLeadingZeros(rt,2)}return $==="Yo"?_e.ordinalNumber(nt,{unit:"year"}):addLeadingZeros(nt,$.length)},R:function(b,$){const _e=getISOWeekYear(b);return addLeadingZeros(_e,$.length)},u:function(b,$){const _e=b.getFullYear();return addLeadingZeros(_e,$.length)},Q:function(b,$,_e){const et=Math.ceil((b.getMonth()+1)/3);switch($){case"Q":return String(et);case"QQ":return addLeadingZeros(et,2);case"Qo":return _e.ordinalNumber(et,{unit:"quarter"});case"QQQ":return _e.quarter(et,{width:"abbreviated",context:"formatting"});case"QQQQQ":return _e.quarter(et,{width:"narrow",context:"formatting"});case"QQQQ":default:return _e.quarter(et,{width:"wide",context:"formatting"})}},q:function(b,$,_e){const et=Math.ceil((b.getMonth()+1)/3);switch($){case"q":return String(et);case"qq":return addLeadingZeros(et,2);case"qo":return _e.ordinalNumber(et,{unit:"quarter"});case"qqq":return _e.quarter(et,{width:"abbreviated",context:"standalone"});case"qqqqq":return _e.quarter(et,{width:"narrow",context:"standalone"});case"qqqq":default:return _e.quarter(et,{width:"wide",context:"standalone"})}},M:function(b,$,_e){const et=b.getMonth();switch($){case"M":case"MM":return lightFormatters.M(b,$);case"Mo":return _e.ordinalNumber(et+1,{unit:"month"});case"MMM":return _e.month(et,{width:"abbreviated",context:"formatting"});case"MMMMM":return _e.month(et,{width:"narrow",context:"formatting"});case"MMMM":default:return _e.month(et,{width:"wide",context:"formatting"})}},L:function(b,$,_e){const et=b.getMonth();switch($){case"L":return String(et+1);case"LL":return addLeadingZeros(et+1,2);case"Lo":return _e.ordinalNumber(et+1,{unit:"month"});case"LLL":return _e.month(et,{width:"abbreviated",context:"standalone"});case"LLLLL":return _e.month(et,{width:"narrow",context:"standalone"});case"LLLL":default:return _e.month(et,{width:"wide",context:"standalone"})}},w:function(b,$,_e,et){const tt=getWeek$1(b,et);return $==="wo"?_e.ordinalNumber(tt,{unit:"week"}):addLeadingZeros(tt,$.length)},I:function(b,$,_e){const et=getISOWeek(b);return $==="Io"?_e.ordinalNumber(et,{unit:"week"}):addLeadingZeros(et,$.length)},d:function(b,$,_e){return $==="do"?_e.ordinalNumber(b.getDate(),{unit:"date"}):lightFormatters.d(b,$)},D:function(b,$,_e){const et=getDayOfYear(b);return $==="Do"?_e.ordinalNumber(et,{unit:"dayOfYear"}):addLeadingZeros(et,$.length)},E:function(b,$,_e){const et=b.getDay();switch($){case"E":case"EE":case"EEE":return _e.day(et,{width:"abbreviated",context:"formatting"});case"EEEEE":return _e.day(et,{width:"narrow",context:"formatting"});case"EEEEEE":return _e.day(et,{width:"short",context:"formatting"});case"EEEE":default:return _e.day(et,{width:"wide",context:"formatting"})}},e:function(b,$,_e,et){const tt=b.getDay(),nt=(tt-et.weekStartsOn+8)%7||7;switch($){case"e":return String(nt);case"ee":return addLeadingZeros(nt,2);case"eo":return _e.ordinalNumber(nt,{unit:"day"});case"eee":return _e.day(tt,{width:"abbreviated",context:"formatting"});case"eeeee":return _e.day(tt,{width:"narrow",context:"formatting"});case"eeeeee":return _e.day(tt,{width:"short",context:"formatting"});case"eeee":default:return _e.day(tt,{width:"wide",context:"formatting"})}},c:function(b,$,_e,et){const tt=b.getDay(),nt=(tt-et.weekStartsOn+8)%7||7;switch($){case"c":return String(nt);case"cc":return addLeadingZeros(nt,$.length);case"co":return _e.ordinalNumber(nt,{unit:"day"});case"ccc":return _e.day(tt,{width:"abbreviated",context:"standalone"});case"ccccc":return _e.day(tt,{width:"narrow",context:"standalone"});case"cccccc":return _e.day(tt,{width:"short",context:"standalone"});case"cccc":default:return _e.day(tt,{width:"wide",context:"standalone"})}},i:function(b,$,_e){const et=b.getDay(),tt=et===0?7:et;switch($){case"i":return String(tt);case"ii":return addLeadingZeros(tt,$.length);case"io":return _e.ordinalNumber(tt,{unit:"day"});case"iii":return _e.day(et,{width:"abbreviated",context:"formatting"});case"iiiii":return _e.day(et,{width:"narrow",context:"formatting"});case"iiiiii":return _e.day(et,{width:"short",context:"formatting"});case"iiii":default:return _e.day(et,{width:"wide",context:"formatting"})}},a:function(b,$,_e){const tt=b.getHours()/12>=1?"pm":"am";switch($){case"a":case"aa":return _e.dayPeriod(tt,{width:"abbreviated",context:"formatting"});case"aaa":return _e.dayPeriod(tt,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return _e.dayPeriod(tt,{width:"narrow",context:"formatting"});case"aaaa":default:return _e.dayPeriod(tt,{width:"wide",context:"formatting"})}},b:function(b,$,_e){const et=b.getHours();let tt;switch(et===12?tt=dayPeriodEnum.noon:et===0?tt=dayPeriodEnum.midnight:tt=et/12>=1?"pm":"am",$){case"b":case"bb":return _e.dayPeriod(tt,{width:"abbreviated",context:"formatting"});case"bbb":return _e.dayPeriod(tt,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return _e.dayPeriod(tt,{width:"narrow",context:"formatting"});case"bbbb":default:return _e.dayPeriod(tt,{width:"wide",context:"formatting"})}},B:function(b,$,_e){const et=b.getHours();let tt;switch(et>=17?tt=dayPeriodEnum.evening:et>=12?tt=dayPeriodEnum.afternoon:et>=4?tt=dayPeriodEnum.morning:tt=dayPeriodEnum.night,$){case"B":case"BB":case"BBB":return _e.dayPeriod(tt,{width:"abbreviated",context:"formatting"});case"BBBBB":return _e.dayPeriod(tt,{width:"narrow",context:"formatting"});case"BBBB":default:return _e.dayPeriod(tt,{width:"wide",context:"formatting"})}},h:function(b,$,_e){if($==="ho"){let et=b.getHours()%12;return et===0&&(et=12),_e.ordinalNumber(et,{unit:"hour"})}return lightFormatters.h(b,$)},H:function(b,$,_e){return $==="Ho"?_e.ordinalNumber(b.getHours(),{unit:"hour"}):lightFormatters.H(b,$)},K:function(b,$,_e){const et=b.getHours()%12;return $==="Ko"?_e.ordinalNumber(et,{unit:"hour"}):addLeadingZeros(et,$.length)},k:function(b,$,_e){let et=b.getHours();return et===0&&(et=24),$==="ko"?_e.ordinalNumber(et,{unit:"hour"}):addLeadingZeros(et,$.length)},m:function(b,$,_e){return $==="mo"?_e.ordinalNumber(b.getMinutes(),{unit:"minute"}):lightFormatters.m(b,$)},s:function(b,$,_e){return $==="so"?_e.ordinalNumber(b.getSeconds(),{unit:"second"}):lightFormatters.s(b,$)},S:function(b,$){return lightFormatters.S(b,$)},X:function(b,$,_e){const et=b.getTimezoneOffset();if(et===0)return"Z";switch($){case"X":return formatTimezoneWithOptionalMinutes(et);case"XXXX":case"XX":return formatTimezone(et);case"XXXXX":case"XXX":default:return formatTimezone(et,":")}},x:function(b,$,_e){const et=b.getTimezoneOffset();switch($){case"x":return formatTimezoneWithOptionalMinutes(et);case"xxxx":case"xx":return formatTimezone(et);case"xxxxx":case"xxx":default:return formatTimezone(et,":")}},O:function(b,$,_e){const et=b.getTimezoneOffset();switch($){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(et,":");case"OOOO":default:return"GMT"+formatTimezone(et,":")}},z:function(b,$,_e){const et=b.getTimezoneOffset();switch($){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(et,":");case"zzzz":default:return"GMT"+formatTimezone(et,":")}},t:function(b,$,_e){const et=Math.trunc(b.getTime()/1e3);return addLeadingZeros(et,$.length)},T:function(b,$,_e){const et=b.getTime();return addLeadingZeros(et,$.length)}};function formatTimezoneShort(b,$=""){const _e=b>0?"-":"+",et=Math.abs(b),tt=Math.trunc(et/60),nt=et%60;return nt===0?_e+String(tt):_e+String(tt)+$+addLeadingZeros(nt,2)}function formatTimezoneWithOptionalMinutes(b,$){return b%60===0?(b>0?"-":"+")+addLeadingZeros(Math.abs(b)/60,2):formatTimezone(b,$)}function formatTimezone(b,$=""){const _e=b>0?"-":"+",et=Math.abs(b),tt=addLeadingZeros(Math.trunc(et/60),2),nt=addLeadingZeros(et%60,2);return _e+tt+$+nt}const dateLongFormatter=(b,$)=>{switch(b){case"P":return $.date({width:"short"});case"PP":return $.date({width:"medium"});case"PPP":return $.date({width:"long"});case"PPPP":default:return $.date({width:"full"})}},timeLongFormatter=(b,$)=>{switch(b){case"p":return $.time({width:"short"});case"pp":return $.time({width:"medium"});case"ppp":return $.time({width:"long"});case"pppp":default:return $.time({width:"full"})}},dateTimeLongFormatter=(b,$)=>{const _e=b.match(/(P+)(p+)?/)||[],et=_e[1],tt=_e[2];if(!tt)return dateLongFormatter(b,$);let nt;switch(et){case"P":nt=$.dateTime({width:"short"});break;case"PP":nt=$.dateTime({width:"medium"});break;case"PPP":nt=$.dateTime({width:"long"});break;case"PPPP":default:nt=$.dateTime({width:"full"});break}return nt.replace("{{date}}",dateLongFormatter(et,$)).replace("{{time}}",timeLongFormatter(tt,$))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(b){return dayOfYearTokenRE.test(b)}function isProtectedWeekYearToken(b){return weekYearTokenRE.test(b)}function warnOrThrowProtectedError(b,$,_e){const et=message(b,$,_e);if(console.warn(et),throwTokens.includes(b))throw new RangeError(et)}function message(b,$,_e){const et=b[0]==="Y"?"years":"days of the month";return`Use \`${b.toLowerCase()}\` instead of \`${b}\` (in \`${$}\`) for formatting ${et} to the input \`${_e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp$1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp$2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp$1=/^'([^]*?)'?$/,doubleQuoteRegExp$1=/''/g,unescapedLatinCharacterRegExp$1=/[a-zA-Z]/;function format(b,$,_e){var lt,at,it,ut,dt,ht,ft,pt;const et=getDefaultOptions$1(),tt=(_e==null?void 0:_e.locale)??et.locale??enUS,nt=(_e==null?void 0:_e.firstWeekContainsDate)??((at=(lt=_e==null?void 0:_e.locale)==null?void 0:lt.options)==null?void 0:at.firstWeekContainsDate)??et.firstWeekContainsDate??((ut=(it=et.locale)==null?void 0:it.options)==null?void 0:ut.firstWeekContainsDate)??1,rt=(_e==null?void 0:_e.weekStartsOn)??((ht=(dt=_e==null?void 0:_e.locale)==null?void 0:dt.options)==null?void 0:ht.weekStartsOn)??et.weekStartsOn??((pt=(ft=et.locale)==null?void 0:ft.options)==null?void 0:pt.weekStartsOn)??0,ot=toDate(b);if(!isValid$1(ot))throw new RangeError("Invalid time value");let st=$.match(longFormattingTokensRegExp$2).map(mt=>{const gt=mt[0];if(gt==="p"||gt==="P"){const vt=longFormatters[gt];return vt(mt,tt.formatLong)}return mt}).join("").match(formattingTokensRegExp$1).map(mt=>{if(mt==="''")return{isToken:!1,value:"'"};const gt=mt[0];if(gt==="'")return{isToken:!1,value:cleanEscapedString$1(mt)};if(formatters[gt])return{isToken:!0,value:mt};if(gt.match(unescapedLatinCharacterRegExp$1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+gt+"`");return{isToken:!1,value:mt}});tt.localize.preprocessor&&(st=tt.localize.preprocessor(ot,st));const ct={firstWeekContainsDate:nt,weekStartsOn:rt,locale:tt};return st.map(mt=>{if(!mt.isToken)return mt.value;const gt=mt.value;(!(_e!=null&&_e.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(gt)||!(_e!=null&&_e.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(gt))&&warnOrThrowProtectedError(gt,$,String(b));const vt=formatters[gt[0]];return vt(ot,gt,tt.localize,ct)}).join("")}function cleanEscapedString$1(b){const $=b.match(escapedStringRegExp$1);return $?$[1].replace(doubleQuoteRegExp$1,"'"):b}function addMilliseconds(b,$){const _e=+toDate(b);return constructFrom(b,_e+$)}function addMinutes(b,$){return addMilliseconds(b,$*millisecondsInMinute)}function addHours(b,$){return addMilliseconds(b,$*millisecondsInHour)}function addDays(b,$){const _e=toDate(b);return isNaN($)?constructFrom(b,NaN):($&&_e.setDate(_e.getDate()+$),_e)}function addWeeks(b,$){const _e=$*7;return addDays(b,_e)}function addMonths(b,$){const _e=toDate(b);if(isNaN($))return constructFrom(b,NaN);if(!$)return _e;const et=_e.getDate(),tt=constructFrom(b,_e.getTime());tt.setMonth(_e.getMonth()+$+1,0);const nt=tt.getDate();return et>=nt?tt:(_e.setFullYear(tt.getFullYear(),tt.getMonth(),et),_e)}function addQuarters(b,$){const _e=$*3;return addMonths(b,_e)}function addYears(b,$){return addMonths(b,$*12)}function subDays(b,$){return addDays(b,-$)}function subWeeks(b,$){return addWeeks(b,-$)}function subMonths(b,$){return addMonths(b,-$)}function subQuarters(b,$){return addQuarters(b,-$)}function subYears(b,$){return addYears(b,-$)}function getSeconds(b){return toDate(b).getSeconds()}function getMinutes(b){return toDate(b).getMinutes()}function getHours(b){return toDate(b).getHours()}function getDay(b){return toDate(b).getDay()}function getDate(b){return toDate(b).getDate()}function getMonth(b){return toDate(b).getMonth()}function getQuarter(b){const $=toDate(b);return Math.trunc($.getMonth()/3)+1}function getYear(b){return toDate(b).getFullYear()}function getTime(b){return toDate(b).getTime()}function setSeconds(b,$){const _e=toDate(b);return _e.setSeconds($),_e}function setMinutes(b,$){const _e=toDate(b);return _e.setMinutes($),_e}function setHours(b,$){const _e=toDate(b);return _e.setHours($),_e}function getDaysInMonth(b){const $=toDate(b),_e=$.getFullYear(),et=$.getMonth(),tt=constructFrom(b,0);return tt.setFullYear(_e,et+1,0),tt.setHours(0,0,0,0),tt.getDate()}function setMonth(b,$){const _e=toDate(b),et=_e.getFullYear(),tt=_e.getDate(),nt=constructFrom(b,0);nt.setFullYear(et,$,15),nt.setHours(0,0,0,0);const rt=getDaysInMonth(nt);return _e.setMonth($,Math.min(tt,rt)),_e}function setQuarter(b,$){const _e=toDate(b),et=Math.trunc(_e.getMonth()/3)+1,tt=$-et;return setMonth(_e,_e.getMonth()+tt*3)}function setYear(b,$){const _e=toDate(b);return isNaN(+_e)?constructFrom(b,NaN):(_e.setFullYear($),_e)}function min$1(b){let $;return b.forEach(_e=>{const et=toDate(_e);(!$||$>et||isNaN(+et))&&($=et)}),$||new Date(NaN)}function max$1(b){let $;return b.forEach(function(_e){const et=toDate(_e);($===void 0||$<et||isNaN(Number(et)))&&($=et)}),$||new Date(NaN)}function differenceInCalendarMonths(b,$){const _e=toDate(b),et=toDate($),tt=_e.getFullYear()-et.getFullYear(),nt=_e.getMonth()-et.getMonth();return tt*12+nt}function differenceInCalendarYears(b,$){const _e=toDate(b),et=toDate($);return _e.getFullYear()-et.getFullYear()}function differenceInCalendarQuarters(b,$){const _e=toDate(b),et=toDate($),tt=_e.getFullYear()-et.getFullYear(),nt=getQuarter(_e)-getQuarter(et);return tt*4+nt}function startOfMonth(b){const $=toDate(b);return $.setDate(1),$.setHours(0,0,0,0),$}function startOfQuarter(b){const $=toDate(b),_e=$.getMonth(),et=_e-_e%3;return $.setMonth(et,1),$.setHours(0,0,0,0),$}function endOfDay(b){const $=toDate(b);return $.setHours(23,59,59,999),$}function endOfWeek(b,$){var ot,st;const _e=getDefaultOptions$1(),et=_e.weekStartsOn??((st=(ot=_e.locale)==null?void 0:ot.options)==null?void 0:st.weekStartsOn)??0,tt=toDate(b),nt=tt.getDay(),rt=(nt<et?-7:0)+6-(nt-et);return tt.setDate(tt.getDate()+rt),tt.setHours(23,59,59,999),tt}function endOfMonth(b){const $=toDate(b),_e=$.getMonth();return $.setFullYear($.getFullYear(),_e+1,0),$.setHours(23,59,59,999),$}function endOfYear(b){const $=toDate(b),_e=$.getFullYear();return $.setFullYear(_e+1,0,0),$.setHours(23,59,59,999),$}function isEqual$1(b,$){const _e=toDate(b),et=toDate($);return+_e==+et}function isSameDay$1(b,$){const _e=startOfDay(b),et=startOfDay($);return+_e==+et}function isSameMonth$1(b,$){const _e=toDate(b),et=toDate($);return _e.getFullYear()===et.getFullYear()&&_e.getMonth()===et.getMonth()}function isSameYear$1(b,$){const _e=toDate(b),et=toDate($);return _e.getFullYear()===et.getFullYear()}function isSameQuarter$1(b,$){const _e=startOfQuarter(b),et=startOfQuarter($);return+_e==+et}function isAfter(b,$){const _e=toDate(b),et=toDate($);return _e.getTime()>et.getTime()}function isBefore(b,$){const _e=toDate(b),et=toDate($);return+_e<+et}function isWithinInterval(b,$){const _e=+toDate(b),[et,tt]=[+toDate($.start),+toDate($.end)].sort((nt,rt)=>nt-rt);return _e>=et&&_e<=tt}function getDefaultOptions(){return Object.assign({},getDefaultOptions$1())}function transpose(b,$){const _e=$ instanceof Date?constructFrom($,0):new $(0);return _e.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),_e.setHours(b.getHours(),b.getMinutes(),b.getSeconds(),b.getMilliseconds()),_e}const TIMEZONE_UNIT_PRIORITY=10;class Setter{constructor(){Hn(this,"subPriority",0)}validate($,_e){return!0}}class ValueSetter extends Setter{constructor($,_e,et,tt,nt){super(),this.value=$,this.validateValue=_e,this.setValue=et,this.priority=tt,nt&&(this.subPriority=nt)}validate($,_e){return this.validateValue($,this.value,_e)}set($,_e,et){return this.setValue($,_e,this.value,et)}}class DateToSystemTimezoneSetter extends Setter{constructor(){super(...arguments);Hn(this,"priority",TIMEZONE_UNIT_PRIORITY);Hn(this,"subPriority",-1)}set(_e,et){return et.timestampIsSet?_e:constructFrom(_e,transpose(_e,Date))}}class Parser{run($,_e,et,tt){const nt=this.parse($,_e,et,tt);return nt?{setter:new ValueSetter(nt.value,this.validate,this.set,this.priority,this.subPriority),rest:nt.rest}:null}validate($,_e,et){return!0}}class EraParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",140);Hn(this,"incompatibleTokens",["R","u","t","T"])}parse(_e,et,tt){switch(et){case"G":case"GG":case"GGG":return tt.era(_e,{width:"abbreviated"})||tt.era(_e,{width:"narrow"});case"GGGGG":return tt.era(_e,{width:"narrow"});case"GGGG":default:return tt.era(_e,{width:"wide"})||tt.era(_e,{width:"abbreviated"})||tt.era(_e,{width:"narrow"})}}set(_e,et,tt){return et.era=tt,_e.setFullYear(tt,0,1),_e.setHours(0,0,0,0),_e}}const numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function mapValue(b,$){return b&&{value:$(b.value),rest:b.rest}}function parseNumericPattern(b,$){const _e=$.match(b);return _e?{value:parseInt(_e[0],10),rest:$.slice(_e[0].length)}:null}function parseTimezonePattern(b,$){const _e=$.match(b);if(!_e)return null;if(_e[0]==="Z")return{value:0,rest:$.slice(1)};const et=_e[1]==="+"?1:-1,tt=_e[2]?parseInt(_e[2],10):0,nt=_e[3]?parseInt(_e[3],10):0,rt=_e[5]?parseInt(_e[5],10):0;return{value:et*(tt*millisecondsInHour+nt*millisecondsInMinute+rt*millisecondsInSecond),rest:$.slice(_e[0].length)}}function parseAnyDigitsSigned(b){return parseNumericPattern(numericPatterns.anyDigitsSigned,b)}function parseNDigits(b,$){switch(b){case 1:return parseNumericPattern(numericPatterns.singleDigit,$);case 2:return parseNumericPattern(numericPatterns.twoDigits,$);case 3:return parseNumericPattern(numericPatterns.threeDigits,$);case 4:return parseNumericPattern(numericPatterns.fourDigits,$);default:return parseNumericPattern(new RegExp("^\\d{1,"+b+"}"),$)}}function parseNDigitsSigned(b,$){switch(b){case 1:return parseNumericPattern(numericPatterns.singleDigitSigned,$);case 2:return parseNumericPattern(numericPatterns.twoDigitsSigned,$);case 3:return parseNumericPattern(numericPatterns.threeDigitsSigned,$);case 4:return parseNumericPattern(numericPatterns.fourDigitsSigned,$);default:return parseNumericPattern(new RegExp("^-?\\d{1,"+b+"}"),$)}}function dayPeriodEnumToHours(b){switch(b){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function normalizeTwoDigitYear(b,$){const _e=$>0,et=_e?$:1-$;let tt;if(et<=50)tt=b||100;else{const nt=et+50,rt=Math.trunc(nt/100)*100,ot=b>=nt%100;tt=b+rt-(ot?100:0)}return _e?tt:1-tt}function isLeapYearIndex$1(b){return b%400===0||b%4===0&&b%100!==0}class YearParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",130);Hn(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(_e,et,tt){const nt=rt=>({year:rt,isTwoDigitYear:et==="yy"});switch(et){case"y":return mapValue(parseNDigits(4,_e),nt);case"yo":return mapValue(tt.ordinalNumber(_e,{unit:"year"}),nt);default:return mapValue(parseNDigits(et.length,_e),nt)}}validate(_e,et){return et.isTwoDigitYear||et.year>0}set(_e,et,tt){const nt=_e.getFullYear();if(tt.isTwoDigitYear){const ot=normalizeTwoDigitYear(tt.year,nt);return _e.setFullYear(ot,0,1),_e.setHours(0,0,0,0),_e}const rt=!("era"in et)||et.era===1?tt.year:1-tt.year;return _e.setFullYear(rt,0,1),_e.setHours(0,0,0,0),_e}}class LocalWeekYearParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",130);Hn(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(_e,et,tt){const nt=rt=>({year:rt,isTwoDigitYear:et==="YY"});switch(et){case"Y":return mapValue(parseNDigits(4,_e),nt);case"Yo":return mapValue(tt.ordinalNumber(_e,{unit:"year"}),nt);default:return mapValue(parseNDigits(et.length,_e),nt)}}validate(_e,et){return et.isTwoDigitYear||et.year>0}set(_e,et,tt,nt){const rt=getWeekYear(_e,nt);if(tt.isTwoDigitYear){const st=normalizeTwoDigitYear(tt.year,rt);return _e.setFullYear(st,0,nt.firstWeekContainsDate),_e.setHours(0,0,0,0),startOfWeek(_e,nt)}const ot=!("era"in et)||et.era===1?tt.year:1-tt.year;return _e.setFullYear(ot,0,nt.firstWeekContainsDate),_e.setHours(0,0,0,0),startOfWeek(_e,nt)}}class ISOWeekYearParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",130);Hn(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(_e,et){return parseNDigitsSigned(et==="R"?4:et.length,_e)}set(_e,et,tt){const nt=constructFrom(_e,0);return nt.setFullYear(tt,0,4),nt.setHours(0,0,0,0),startOfISOWeek(nt)}}class ExtendedYearParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",130);Hn(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(_e,et){return parseNDigitsSigned(et==="u"?4:et.length,_e)}set(_e,et,tt){return _e.setFullYear(tt,0,1),_e.setHours(0,0,0,0),_e}}class QuarterParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",120);Hn(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(_e,et,tt){switch(et){case"Q":case"QQ":return parseNDigits(et.length,_e);case"Qo":return tt.ordinalNumber(_e,{unit:"quarter"});case"QQQ":return tt.quarter(_e,{width:"abbreviated",context:"formatting"})||tt.quarter(_e,{width:"narrow",context:"formatting"});case"QQQQQ":return tt.quarter(_e,{width:"narrow",context:"formatting"});case"QQQQ":default:return tt.quarter(_e,{width:"wide",context:"formatting"})||tt.quarter(_e,{width:"abbreviated",context:"formatting"})||tt.quarter(_e,{width:"narrow",context:"formatting"})}}validate(_e,et){return et>=1&&et<=4}set(_e,et,tt){return _e.setMonth((tt-1)*3,1),_e.setHours(0,0,0,0),_e}}class StandAloneQuarterParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",120);Hn(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(_e,et,tt){switch(et){case"q":case"qq":return parseNDigits(et.length,_e);case"qo":return tt.ordinalNumber(_e,{unit:"quarter"});case"qqq":return tt.quarter(_e,{width:"abbreviated",context:"standalone"})||tt.quarter(_e,{width:"narrow",context:"standalone"});case"qqqqq":return tt.quarter(_e,{width:"narrow",context:"standalone"});case"qqqq":default:return tt.quarter(_e,{width:"wide",context:"standalone"})||tt.quarter(_e,{width:"abbreviated",context:"standalone"})||tt.quarter(_e,{width:"narrow",context:"standalone"})}}validate(_e,et){return et>=1&&et<=4}set(_e,et,tt){return _e.setMonth((tt-1)*3,1),_e.setHours(0,0,0,0),_e}}class MonthParser extends Parser{constructor(){super(...arguments);Hn(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Hn(this,"priority",110)}parse(_e,et,tt){const nt=rt=>rt-1;switch(et){case"M":return mapValue(parseNumericPattern(numericPatterns.month,_e),nt);case"MM":return mapValue(parseNDigits(2,_e),nt);case"Mo":return mapValue(tt.ordinalNumber(_e,{unit:"month"}),nt);case"MMM":return tt.month(_e,{width:"abbreviated",context:"formatting"})||tt.month(_e,{width:"narrow",context:"formatting"});case"MMMMM":return tt.month(_e,{width:"narrow",context:"formatting"});case"MMMM":default:return tt.month(_e,{width:"wide",context:"formatting"})||tt.month(_e,{width:"abbreviated",context:"formatting"})||tt.month(_e,{width:"narrow",context:"formatting"})}}validate(_e,et){return et>=0&&et<=11}set(_e,et,tt){return _e.setMonth(tt,1),_e.setHours(0,0,0,0),_e}}class StandAloneMonthParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",110);Hn(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(_e,et,tt){const nt=rt=>rt-1;switch(et){case"L":return mapValue(parseNumericPattern(numericPatterns.month,_e),nt);case"LL":return mapValue(parseNDigits(2,_e),nt);case"Lo":return mapValue(tt.ordinalNumber(_e,{unit:"month"}),nt);case"LLL":return tt.month(_e,{width:"abbreviated",context:"standalone"})||tt.month(_e,{width:"narrow",context:"standalone"});case"LLLLL":return tt.month(_e,{width:"narrow",context:"standalone"});case"LLLL":default:return tt.month(_e,{width:"wide",context:"standalone"})||tt.month(_e,{width:"abbreviated",context:"standalone"})||tt.month(_e,{width:"narrow",context:"standalone"})}}validate(_e,et){return et>=0&&et<=11}set(_e,et,tt){return _e.setMonth(tt,1),_e.setHours(0,0,0,0),_e}}function setWeek(b,$,_e){const et=toDate(b),tt=getWeek$1(et,_e)-$;return et.setDate(et.getDate()-tt*7),et}class LocalWeekParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",100);Hn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(_e,et,tt){switch(et){case"w":return parseNumericPattern(numericPatterns.week,_e);case"wo":return tt.ordinalNumber(_e,{unit:"week"});default:return parseNDigits(et.length,_e)}}validate(_e,et){return et>=1&&et<=53}set(_e,et,tt,nt){return startOfWeek(setWeek(_e,tt,nt),nt)}}function setISOWeek(b,$){const _e=toDate(b),et=getISOWeek(_e)-$;return _e.setDate(_e.getDate()-et*7),_e}class ISOWeekParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",100);Hn(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(_e,et,tt){switch(et){case"I":return parseNumericPattern(numericPatterns.week,_e);case"Io":return tt.ordinalNumber(_e,{unit:"week"});default:return parseNDigits(et.length,_e)}}validate(_e,et){return et>=1&&et<=53}set(_e,et,tt){return startOfISOWeek(setISOWeek(_e,tt))}}const DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP_YEAR=[31,29,31,30,31,30,31,31,30,31,30,31];class DateParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",90);Hn(this,"subPriority",1);Hn(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(_e,et,tt){switch(et){case"d":return parseNumericPattern(numericPatterns.date,_e);case"do":return tt.ordinalNumber(_e,{unit:"date"});default:return parseNDigits(et.length,_e)}}validate(_e,et){const tt=_e.getFullYear(),nt=isLeapYearIndex$1(tt),rt=_e.getMonth();return nt?et>=1&&et<=DAYS_IN_MONTH_LEAP_YEAR[rt]:et>=1&&et<=DAYS_IN_MONTH[rt]}set(_e,et,tt){return _e.setDate(tt),_e.setHours(0,0,0,0),_e}}class DayOfYearParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",90);Hn(this,"subpriority",1);Hn(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(_e,et,tt){switch(et){case"D":case"DD":return parseNumericPattern(numericPatterns.dayOfYear,_e);case"Do":return tt.ordinalNumber(_e,{unit:"date"});default:return parseNDigits(et.length,_e)}}validate(_e,et){const tt=_e.getFullYear();return isLeapYearIndex$1(tt)?et>=1&&et<=366:et>=1&&et<=365}set(_e,et,tt){return _e.setMonth(0,tt),_e.setHours(0,0,0,0),_e}}function setDay(b,$,_e){var at,it,ut,dt;const et=getDefaultOptions$1(),tt=(_e==null?void 0:_e.weekStartsOn)??((it=(at=_e==null?void 0:_e.locale)==null?void 0:at.options)==null?void 0:it.weekStartsOn)??et.weekStartsOn??((dt=(ut=et.locale)==null?void 0:ut.options)==null?void 0:dt.weekStartsOn)??0,nt=toDate(b),rt=nt.getDay(),st=($%7+7)%7,ct=7-tt,lt=$<0||$>6?$-(rt+ct)%7:(st+ct)%7-(rt+ct)%7;return addDays(nt,lt)}class DayParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",90);Hn(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(_e,et,tt){switch(et){case"E":case"EE":case"EEE":return tt.day(_e,{width:"abbreviated",context:"formatting"})||tt.day(_e,{width:"short",context:"formatting"})||tt.day(_e,{width:"narrow",context:"formatting"});case"EEEEE":return tt.day(_e,{width:"narrow",context:"formatting"});case"EEEEEE":return tt.day(_e,{width:"short",context:"formatting"})||tt.day(_e,{width:"narrow",context:"formatting"});case"EEEE":default:return tt.day(_e,{width:"wide",context:"formatting"})||tt.day(_e,{width:"abbreviated",context:"formatting"})||tt.day(_e,{width:"short",context:"formatting"})||tt.day(_e,{width:"narrow",context:"formatting"})}}validate(_e,et){return et>=0&&et<=6}set(_e,et,tt,nt){return _e=setDay(_e,tt,nt),_e.setHours(0,0,0,0),_e}}class LocalDayParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",90);Hn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(_e,et,tt,nt){const rt=ot=>{const st=Math.floor((ot-1)/7)*7;return(ot+nt.weekStartsOn+6)%7+st};switch(et){case"e":case"ee":return mapValue(parseNDigits(et.length,_e),rt);case"eo":return mapValue(tt.ordinalNumber(_e,{unit:"day"}),rt);case"eee":return tt.day(_e,{width:"abbreviated",context:"formatting"})||tt.day(_e,{width:"short",context:"formatting"})||tt.day(_e,{width:"narrow",context:"formatting"});case"eeeee":return tt.day(_e,{width:"narrow",context:"formatting"});case"eeeeee":return tt.day(_e,{width:"short",context:"formatting"})||tt.day(_e,{width:"narrow",context:"formatting"});case"eeee":default:return tt.day(_e,{width:"wide",context:"formatting"})||tt.day(_e,{width:"abbreviated",context:"formatting"})||tt.day(_e,{width:"short",context:"formatting"})||tt.day(_e,{width:"narrow",context:"formatting"})}}validate(_e,et){return et>=0&&et<=6}set(_e,et,tt,nt){return _e=setDay(_e,tt,nt),_e.setHours(0,0,0,0),_e}}class StandAloneLocalDayParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",90);Hn(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(_e,et,tt,nt){const rt=ot=>{const st=Math.floor((ot-1)/7)*7;return(ot+nt.weekStartsOn+6)%7+st};switch(et){case"c":case"cc":return mapValue(parseNDigits(et.length,_e),rt);case"co":return mapValue(tt.ordinalNumber(_e,{unit:"day"}),rt);case"ccc":return tt.day(_e,{width:"abbreviated",context:"standalone"})||tt.day(_e,{width:"short",context:"standalone"})||tt.day(_e,{width:"narrow",context:"standalone"});case"ccccc":return tt.day(_e,{width:"narrow",context:"standalone"});case"cccccc":return tt.day(_e,{width:"short",context:"standalone"})||tt.day(_e,{width:"narrow",context:"standalone"});case"cccc":default:return tt.day(_e,{width:"wide",context:"standalone"})||tt.day(_e,{width:"abbreviated",context:"standalone"})||tt.day(_e,{width:"short",context:"standalone"})||tt.day(_e,{width:"narrow",context:"standalone"})}}validate(_e,et){return et>=0&&et<=6}set(_e,et,tt,nt){return _e=setDay(_e,tt,nt),_e.setHours(0,0,0,0),_e}}function getISODay(b){let _e=toDate(b).getDay();return _e===0&&(_e=7),_e}function setISODay(b,$){const _e=toDate(b),et=getISODay(_e),tt=$-et;return addDays(_e,tt)}class ISODayParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",90);Hn(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(_e,et,tt){const nt=rt=>rt===0?7:rt;switch(et){case"i":case"ii":return parseNDigits(et.length,_e);case"io":return tt.ordinalNumber(_e,{unit:"day"});case"iii":return mapValue(tt.day(_e,{width:"abbreviated",context:"formatting"})||tt.day(_e,{width:"short",context:"formatting"})||tt.day(_e,{width:"narrow",context:"formatting"}),nt);case"iiiii":return mapValue(tt.day(_e,{width:"narrow",context:"formatting"}),nt);case"iiiiii":return mapValue(tt.day(_e,{width:"short",context:"formatting"})||tt.day(_e,{width:"narrow",context:"formatting"}),nt);case"iiii":default:return mapValue(tt.day(_e,{width:"wide",context:"formatting"})||tt.day(_e,{width:"abbreviated",context:"formatting"})||tt.day(_e,{width:"short",context:"formatting"})||tt.day(_e,{width:"narrow",context:"formatting"}),nt)}}validate(_e,et){return et>=1&&et<=7}set(_e,et,tt){return _e=setISODay(_e,tt),_e.setHours(0,0,0,0),_e}}class AMPMParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",80);Hn(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(_e,et,tt){switch(et){case"a":case"aa":case"aaa":return tt.dayPeriod(_e,{width:"abbreviated",context:"formatting"})||tt.dayPeriod(_e,{width:"narrow",context:"formatting"});case"aaaaa":return tt.dayPeriod(_e,{width:"narrow",context:"formatting"});case"aaaa":default:return tt.dayPeriod(_e,{width:"wide",context:"formatting"})||tt.dayPeriod(_e,{width:"abbreviated",context:"formatting"})||tt.dayPeriod(_e,{width:"narrow",context:"formatting"})}}set(_e,et,tt){return _e.setHours(dayPeriodEnumToHours(tt),0,0,0),_e}}class AMPMMidnightParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",80);Hn(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(_e,et,tt){switch(et){case"b":case"bb":case"bbb":return tt.dayPeriod(_e,{width:"abbreviated",context:"formatting"})||tt.dayPeriod(_e,{width:"narrow",context:"formatting"});case"bbbbb":return tt.dayPeriod(_e,{width:"narrow",context:"formatting"});case"bbbb":default:return tt.dayPeriod(_e,{width:"wide",context:"formatting"})||tt.dayPeriod(_e,{width:"abbreviated",context:"formatting"})||tt.dayPeriod(_e,{width:"narrow",context:"formatting"})}}set(_e,et,tt){return _e.setHours(dayPeriodEnumToHours(tt),0,0,0),_e}}class DayPeriodParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",80);Hn(this,"incompatibleTokens",["a","b","t","T"])}parse(_e,et,tt){switch(et){case"B":case"BB":case"BBB":return tt.dayPeriod(_e,{width:"abbreviated",context:"formatting"})||tt.dayPeriod(_e,{width:"narrow",context:"formatting"});case"BBBBB":return tt.dayPeriod(_e,{width:"narrow",context:"formatting"});case"BBBB":default:return tt.dayPeriod(_e,{width:"wide",context:"formatting"})||tt.dayPeriod(_e,{width:"abbreviated",context:"formatting"})||tt.dayPeriod(_e,{width:"narrow",context:"formatting"})}}set(_e,et,tt){return _e.setHours(dayPeriodEnumToHours(tt),0,0,0),_e}}class Hour1to12Parser extends Parser{constructor(){super(...arguments);Hn(this,"priority",70);Hn(this,"incompatibleTokens",["H","K","k","t","T"])}parse(_e,et,tt){switch(et){case"h":return parseNumericPattern(numericPatterns.hour12h,_e);case"ho":return tt.ordinalNumber(_e,{unit:"hour"});default:return parseNDigits(et.length,_e)}}validate(_e,et){return et>=1&&et<=12}set(_e,et,tt){const nt=_e.getHours()>=12;return nt&&tt<12?_e.setHours(tt+12,0,0,0):!nt&&tt===12?_e.setHours(0,0,0,0):_e.setHours(tt,0,0,0),_e}}class Hour0to23Parser extends Parser{constructor(){super(...arguments);Hn(this,"priority",70);Hn(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(_e,et,tt){switch(et){case"H":return parseNumericPattern(numericPatterns.hour23h,_e);case"Ho":return tt.ordinalNumber(_e,{unit:"hour"});default:return parseNDigits(et.length,_e)}}validate(_e,et){return et>=0&&et<=23}set(_e,et,tt){return _e.setHours(tt,0,0,0),_e}}class Hour0To11Parser extends Parser{constructor(){super(...arguments);Hn(this,"priority",70);Hn(this,"incompatibleTokens",["h","H","k","t","T"])}parse(_e,et,tt){switch(et){case"K":return parseNumericPattern(numericPatterns.hour11h,_e);case"Ko":return tt.ordinalNumber(_e,{unit:"hour"});default:return parseNDigits(et.length,_e)}}validate(_e,et){return et>=0&&et<=11}set(_e,et,tt){return _e.getHours()>=12&&tt<12?_e.setHours(tt+12,0,0,0):_e.setHours(tt,0,0,0),_e}}class Hour1To24Parser extends Parser{constructor(){super(...arguments);Hn(this,"priority",70);Hn(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(_e,et,tt){switch(et){case"k":return parseNumericPattern(numericPatterns.hour24h,_e);case"ko":return tt.ordinalNumber(_e,{unit:"hour"});default:return parseNDigits(et.length,_e)}}validate(_e,et){return et>=1&&et<=24}set(_e,et,tt){const nt=tt<=24?tt%24:tt;return _e.setHours(nt,0,0,0),_e}}class MinuteParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",60);Hn(this,"incompatibleTokens",["t","T"])}parse(_e,et,tt){switch(et){case"m":return parseNumericPattern(numericPatterns.minute,_e);case"mo":return tt.ordinalNumber(_e,{unit:"minute"});default:return parseNDigits(et.length,_e)}}validate(_e,et){return et>=0&&et<=59}set(_e,et,tt){return _e.setMinutes(tt,0,0),_e}}class SecondParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",50);Hn(this,"incompatibleTokens",["t","T"])}parse(_e,et,tt){switch(et){case"s":return parseNumericPattern(numericPatterns.second,_e);case"so":return tt.ordinalNumber(_e,{unit:"second"});default:return parseNDigits(et.length,_e)}}validate(_e,et){return et>=0&&et<=59}set(_e,et,tt){return _e.setSeconds(tt,0),_e}}class FractionOfSecondParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",30);Hn(this,"incompatibleTokens",["t","T"])}parse(_e,et){const tt=nt=>Math.trunc(nt*Math.pow(10,-et.length+3));return mapValue(parseNDigits(et.length,_e),tt)}set(_e,et,tt){return _e.setMilliseconds(tt),_e}}class ISOTimezoneWithZParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",10);Hn(this,"incompatibleTokens",["t","T","x"])}parse(_e,et){switch(et){case"X":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,_e);case"XX":return parseTimezonePattern(timezonePatterns.basic,_e);case"XXXX":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,_e);case"XXXXX":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,_e);case"XXX":default:return parseTimezonePattern(timezonePatterns.extended,_e)}}set(_e,et,tt){return et.timestampIsSet?_e:constructFrom(_e,_e.getTime()-getTimezoneOffsetInMilliseconds(_e)-tt)}}class ISOTimezoneParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",10);Hn(this,"incompatibleTokens",["t","T","X"])}parse(_e,et){switch(et){case"x":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,_e);case"xx":return parseTimezonePattern(timezonePatterns.basic,_e);case"xxxx":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,_e);case"xxxxx":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,_e);case"xxx":default:return parseTimezonePattern(timezonePatterns.extended,_e)}}set(_e,et,tt){return et.timestampIsSet?_e:constructFrom(_e,_e.getTime()-getTimezoneOffsetInMilliseconds(_e)-tt)}}class TimestampSecondsParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",40);Hn(this,"incompatibleTokens","*")}parse(_e){return parseAnyDigitsSigned(_e)}set(_e,et,tt){return[constructFrom(_e,tt*1e3),{timestampIsSet:!0}]}}class TimestampMillisecondsParser extends Parser{constructor(){super(...arguments);Hn(this,"priority",20);Hn(this,"incompatibleTokens","*")}parse(_e){return parseAnyDigitsSigned(_e)}set(_e,et,tt){return[constructFrom(_e,tt),{timestampIsSet:!0}]}}const parsers={G:new EraParser,y:new YearParser,Y:new LocalWeekYearParser,R:new ISOWeekYearParser,u:new ExtendedYearParser,Q:new QuarterParser,q:new StandAloneQuarterParser,M:new MonthParser,L:new StandAloneMonthParser,w:new LocalWeekParser,I:new ISOWeekParser,d:new DateParser,D:new DayOfYearParser,E:new DayParser,e:new LocalDayParser,c:new StandAloneLocalDayParser,i:new ISODayParser,a:new AMPMParser,b:new AMPMMidnightParser,B:new DayPeriodParser,h:new Hour1to12Parser,H:new Hour0to23Parser,K:new Hour0To11Parser,k:new Hour1To24Parser,m:new MinuteParser,s:new SecondParser,S:new FractionOfSecondParser,X:new ISOTimezoneWithZParser,x:new ISOTimezoneParser,t:new TimestampSecondsParser,T:new TimestampMillisecondsParser},formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp$1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,notWhitespaceRegExp=/\S/,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function parse(b,$,_e,et){var ht,ft,pt,mt,gt,vt,yt,bt;const tt=getDefaultOptions(),nt=(et==null?void 0:et.locale)??tt.locale??enUS,rt=(et==null?void 0:et.firstWeekContainsDate)??((ft=(ht=et==null?void 0:et.locale)==null?void 0:ht.options)==null?void 0:ft.firstWeekContainsDate)??tt.firstWeekContainsDate??((mt=(pt=tt.locale)==null?void 0:pt.options)==null?void 0:mt.firstWeekContainsDate)??1,ot=(et==null?void 0:et.weekStartsOn)??((vt=(gt=et==null?void 0:et.locale)==null?void 0:gt.options)==null?void 0:vt.weekStartsOn)??tt.weekStartsOn??((bt=(yt=tt.locale)==null?void 0:yt.options)==null?void 0:bt.weekStartsOn)??0;if($==="")return b===""?toDate(_e):constructFrom(_e,NaN);const st={firstWeekContainsDate:rt,weekStartsOn:ot,locale:nt},ct=[new DateToSystemTimezoneSetter],lt=$.match(longFormattingTokensRegExp$1).map(xt=>{const _t=xt[0];if(_t in longFormatters){const wt=longFormatters[_t];return wt(xt,nt.formatLong)}return xt}).join("").match(formattingTokensRegExp),at=[];for(let xt of lt){!(et!=null&&et.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(xt)&&warnOrThrowProtectedError(xt,$,b),!(et!=null&&et.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(xt)&&warnOrThrowProtectedError(xt,$,b);const _t=xt[0],wt=parsers[_t];if(wt){const{incompatibleTokens:At}=wt;if(Array.isArray(At)){const jt=at.find(kt=>At.includes(kt.token)||kt.token===_t);if(jt)throw new RangeError(`The format string mustn't contain \`${jt.fullToken}\` and \`${xt}\` at the same time`)}else if(wt.incompatibleTokens==="*"&&at.length>0)throw new RangeError(`The format string mustn't contain \`${xt}\` and any other token at the same time`);at.push({token:_t,fullToken:xt});const Pt=wt.run(b,xt,nt.match,st);if(!Pt)return constructFrom(_e,NaN);ct.push(Pt.setter),b=Pt.rest}else{if(_t.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_t+"`");if(xt==="''"?xt="'":_t==="'"&&(xt=cleanEscapedString(xt)),b.indexOf(xt)===0)b=b.slice(xt.length);else return constructFrom(_e,NaN)}}if(b.length>0&&notWhitespaceRegExp.test(b))return constructFrom(_e,NaN);const it=ct.map(xt=>xt.priority).sort((xt,_t)=>_t-xt).filter((xt,_t,wt)=>wt.indexOf(xt)===_t).map(xt=>ct.filter(_t=>_t.priority===xt).sort((_t,wt)=>wt.subPriority-_t.subPriority)).map(xt=>xt[0]);let ut=toDate(_e);if(isNaN(ut.getTime()))return constructFrom(_e,NaN);const dt={};for(const xt of it){if(!xt.validate(ut,st))return constructFrom(_e,NaN);const _t=xt.set(ut,dt,st);Array.isArray(_t)?(ut=_t[0],Object.assign(dt,_t[1])):ut=_t}return constructFrom(_e,ut)}function cleanEscapedString(b){return b.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}function parseISO(b,$){const et=splitDateString(b);let tt;if(et.date){const st=parseYear(et.date,2);tt=parseDate$1(st.restDateString,st.year)}if(!tt||isNaN(tt.getTime()))return new Date(NaN);const nt=tt.getTime();let rt=0,ot;if(et.time&&(rt=parseTime(et.time),isNaN(rt)))return new Date(NaN);if(et.timezone){if(ot=parseTimezone(et.timezone),isNaN(ot))return new Date(NaN)}else{const st=new Date(nt+rt),ct=new Date(0);return ct.setFullYear(st.getUTCFullYear(),st.getUTCMonth(),st.getUTCDate()),ct.setHours(st.getUTCHours(),st.getUTCMinutes(),st.getUTCSeconds(),st.getUTCMilliseconds()),ct}return new Date(nt+rt+ot)}const patterns={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dateRegex=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,timeRegex=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,timezoneRegex=/^([+-])(\d{2})(?::?(\d{2}))?$/;function splitDateString(b){const $={},_e=b.split(patterns.dateTimeDelimiter);let et;if(_e.length>2)return $;if(/:/.test(_e[0])?et=_e[0]:($.date=_e[0],et=_e[1],patterns.timeZoneDelimiter.test($.date)&&($.date=b.split(patterns.timeZoneDelimiter)[0],et=b.substr($.date.length,b.length))),et){const tt=patterns.timezone.exec(et);tt?($.time=et.replace(tt[1],""),$.timezone=tt[1]):$.time=et}return $}function parseYear(b,$){const _e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+$)+"})|(\\d{2}|[+-]\\d{"+(2+$)+"})$)"),et=b.match(_e);if(!et)return{year:NaN,restDateString:""};const tt=et[1]?parseInt(et[1]):null,nt=et[2]?parseInt(et[2]):null;return{year:nt===null?tt:nt*100,restDateString:b.slice((et[1]||et[2]).length)}}function parseDate$1(b,$){if($===null)return new Date(NaN);const _e=b.match(dateRegex);if(!_e)return new Date(NaN);const et=!!_e[4],tt=parseDateUnit(_e[1]),nt=parseDateUnit(_e[2])-1,rt=parseDateUnit(_e[3]),ot=parseDateUnit(_e[4]),st=parseDateUnit(_e[5])-1;if(et)return validateWeekDate($,ot,st)?dayOfISOWeekYear($,ot,st):new Date(NaN);{const ct=new Date(0);return!validateDate($,nt,rt)||!validateDayOfYearDate($,tt)?new Date(NaN):(ct.setUTCFullYear($,nt,Math.max(tt,rt)),ct)}}function parseDateUnit(b){return b?parseInt(b):1}function parseTime(b){const $=b.match(timeRegex);if(!$)return NaN;const _e=parseTimeUnit($[1]),et=parseTimeUnit($[2]),tt=parseTimeUnit($[3]);return validateTime(_e,et,tt)?_e*millisecondsInHour+et*millisecondsInMinute+tt*1e3:NaN}function parseTimeUnit(b){return b&&parseFloat(b.replace(",","."))||0}function parseTimezone(b){if(b==="Z")return 0;const $=b.match(timezoneRegex);if(!$)return 0;const _e=$[1]==="+"?-1:1,et=parseInt($[2]),tt=$[3]&&parseInt($[3])||0;return validateTimezone(et,tt)?_e*(et*millisecondsInHour+tt*millisecondsInMinute):NaN}function dayOfISOWeekYear(b,$,_e){const et=new Date(0);et.setUTCFullYear(b,0,4);const tt=et.getUTCDay()||7,nt=($-1)*7+_e+1-tt;return et.setUTCDate(et.getUTCDate()+nt),et}const daysInMonths=[31,null,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(b){return b%400===0||b%4===0&&b%100!==0}function validateDate(b,$,_e){return $>=0&&$<=11&&_e>=1&&_e<=(daysInMonths[$]||(isLeapYearIndex(b)?29:28))}function validateDayOfYearDate(b,$){return $>=1&&$<=(isLeapYearIndex(b)?366:365)}function validateWeekDate(b,$,_e){return $>=1&&$<=53&&_e>=0&&_e<=6}function validateTime(b,$,_e){return b===24?$===0&&_e===0:_e>=0&&_e<60&&$>=0&&$<60&&b>=0&&b<25}function validateTimezone(b,$){return $>=0&&$<=59}function addSeconds(b,$){return addMilliseconds(b,$*1e3)}function set(b,$){let _e=toDate(b);return isNaN(+_e)?constructFrom(b,NaN):($.year!=null&&_e.setFullYear($.year),$.month!=null&&(_e=setMonth(_e,$.month)),$.date!=null&&_e.setDate($.date),$.hours!=null&&_e.setHours($.hours),$.minutes!=null&&_e.setMinutes($.minutes),$.seconds!=null&&_e.setSeconds($.seconds),$.milliseconds!=null&&_e.setMilliseconds($.milliseconds),_e)}function _inheritsLoose(b,$){b.prototype=Object.create($.prototype),b.prototype.constructor=b,_setPrototypeOf$1(b,$)}function _setPrototypeOf$1(b,$){return _setPrototypeOf$1=Object.setPrototypeOf||function(et,tt){return et.__proto__=tt,et},_setPrototypeOf$1(b,$)}function _objectWithoutPropertiesLoose(b,$){if(b==null)return{};var _e={},et=Object.keys(b),tt,nt;for(nt=0;nt<et.length;nt++)tt=et[nt],!($.indexOf(tt)>=0)&&(_e[tt]=b[tt]);return _e}function _assertThisInitialized$1(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function isNodeFound(b,$,_e){return b===$?!0:b.correspondingElement?b.correspondingElement.classList.contains(_e):b.classList.contains(_e)}function findHighest(b,$,_e){if(b===$)return!0;for(;b.parentNode||b.host;){if(b.parentNode&&isNodeFound(b,$,_e))return!0;b=b.parentNode||b.host}return b}function clickedScrollbar(b){return document.documentElement.clientWidth<=b.clientX||document.documentElement.clientHeight<=b.clientY}var testPassiveEventSupport=function b(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var $=!1,_e=Object.defineProperty({},"passive",{get:function(){$=!0}}),et=function(){};return window.addEventListener("testPassiveEventSupport",et,_e),window.removeEventListener("testPassiveEventSupport",et,_e),$}};function autoInc(b){return b===void 0&&(b=0),function(){return++b}}var uid=autoInc(),passiveEventSupport,handlersMap={},enabledInstances={},touchEvents=["touchstart","touchmove"],IGNORE_CLASS_NAME="ignore-react-onclickoutside";function getEventHandlerOptions(b,$){var _e={},et=touchEvents.indexOf($)!==-1;return et&&passiveEventSupport&&(_e.passive=!b.props.preventDefault),_e}function onClickOutsideHOC(b,$){var _e,et,tt=b.displayName||b.name||"Component";return et=_e=function(nt){_inheritsLoose(rt,nt);function rt(st){var ct;return ct=nt.call(this,st)||this,ct.__outsideClickHandler=function(lt){if(typeof ct.__clickOutsideHandlerProp=="function"){ct.__clickOutsideHandlerProp(lt);return}var at=ct.getInstance();if(typeof at.props.handleClickOutside=="function"){at.props.handleClickOutside(lt);return}if(typeof at.handleClickOutside=="function"){at.handleClickOutside(lt);return}throw new Error("WrappedComponent: "+tt+" lacks a handleClickOutside(event) function for processing outside click events.")},ct.__getComponentNode=function(){var lt=ct.getInstance();return typeof lt.setClickOutsideRef=="function"?lt.setClickOutsideRef():reactDomExports.findDOMNode(lt)},ct.enableOnClickOutside=function(){if(!(typeof document>"u"||enabledInstances[ct._uid])){typeof passiveEventSupport>"u"&&(passiveEventSupport=testPassiveEventSupport()),enabledInstances[ct._uid]=!0;var lt=ct.props.eventTypes;lt.forEach||(lt=[lt]),handlersMap[ct._uid]=function(at){if(ct.componentNode!==null&&!(ct.initTimeStamp>at.timeStamp)&&(ct.props.preventDefault&&at.preventDefault(),ct.props.stopPropagation&&at.stopPropagation(),!(ct.props.excludeScrollbar&&clickedScrollbar(at)))){var it=at.composed&&at.composedPath&&at.composedPath().shift()||at.target;findHighest(it,ct.componentNode,ct.props.outsideClickIgnoreClass)===document&&ct.__outsideClickHandler(at)}},lt.forEach(function(at){document.addEventListener(at,handlersMap[ct._uid],getEventHandlerOptions(_assertThisInitialized$1(ct),at))})}},ct.disableOnClickOutside=function(){delete enabledInstances[ct._uid];var lt=handlersMap[ct._uid];if(lt&&typeof document<"u"){var at=ct.props.eventTypes;at.forEach||(at=[at]),at.forEach(function(it){return document.removeEventListener(it,lt,getEventHandlerOptions(_assertThisInitialized$1(ct),it))}),delete handlersMap[ct._uid]}},ct.getRef=function(lt){return ct.instanceRef=lt},ct._uid=uid(),ct.initTimeStamp=performance.now(),ct}var ot=rt.prototype;return ot.getInstance=function(){if(b.prototype&&!b.prototype.isReactComponent)return this;var ct=this.instanceRef;return ct.getInstance?ct.getInstance():ct},ot.componentDidMount=function(){typeof document>"u"||!document.createElement||(this.getInstance(),this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside())},ot.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},ot.componentWillUnmount=function(){this.disableOnClickOutside()},ot.render=function(){var ct=this.props;ct.excludeScrollbar;var lt=_objectWithoutPropertiesLoose(ct,["excludeScrollbar"]);return b.prototype&&b.prototype.isReactComponent?lt.ref=this.getRef:lt.wrappedRef=this.getRef,lt.disableOnClickOutside=this.disableOnClickOutside,lt.enableOnClickOutside=this.enableOnClickOutside,reactExports.createElement(b,lt)},rt}(reactExports.Component),_e.displayName="OnClickOutside("+tt+")",_e.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:!1,outsideClickIgnoreClass:IGNORE_CLASS_NAME,preventDefault:!1,stopPropagation:!1},_e.getClass=function(){return b.getClass?b.getClass():b},et}function getNodeName(b){return isNode(b)?(b.nodeName||"").toLowerCase():"#document"}function getWindow(b){var $;return(b==null||($=b.ownerDocument)==null?void 0:$.defaultView)||window}function getDocumentElement(b){var $;return($=(isNode(b)?b.ownerDocument:b.document)||window.document)==null?void 0:$.documentElement}function isNode(b){return b instanceof Node||b instanceof getWindow(b).Node}function isElement(b){return b instanceof Element||b instanceof getWindow(b).Element}function isHTMLElement(b){return b instanceof HTMLElement||b instanceof getWindow(b).HTMLElement}function isShadowRoot(b){return typeof ShadowRoot>"u"?!1:b instanceof ShadowRoot||b instanceof getWindow(b).ShadowRoot}function isOverflowElement(b){const{overflow:$,overflowX:_e,overflowY:et,display:tt}=getComputedStyle$1(b);return/auto|scroll|overlay|hidden|clip/.test($+et+_e)&&!["inline","contents"].includes(tt)}function isTableElement(b){return["table","td","th"].includes(getNodeName(b))}function isContainingBlock(b){const $=isWebKit(),_e=getComputedStyle$1(b);return _e.transform!=="none"||_e.perspective!=="none"||(_e.containerType?_e.containerType!=="normal":!1)||!$&&(_e.backdropFilter?_e.backdropFilter!=="none":!1)||!$&&(_e.filter?_e.filter!=="none":!1)||["transform","perspective","filter"].some(et=>(_e.willChange||"").includes(et))||["paint","layout","strict","content"].some(et=>(_e.contain||"").includes(et))}function getContainingBlock(b){let $=getParentNode(b);for(;isHTMLElement($)&&!isLastTraversableNode($);){if(isContainingBlock($))return $;$=getParentNode($)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(b){return["html","body","#document"].includes(getNodeName(b))}function getComputedStyle$1(b){return getWindow(b).getComputedStyle(b)}function getNodeScroll(b){return isElement(b)?{scrollLeft:b.scrollLeft,scrollTop:b.scrollTop}:{scrollLeft:b.pageXOffset,scrollTop:b.pageYOffset}}function getParentNode(b){if(getNodeName(b)==="html")return b;const $=b.assignedSlot||b.parentNode||isShadowRoot(b)&&b.host||getDocumentElement(b);return isShadowRoot($)?$.host:$}function getNearestOverflowAncestor(b){const $=getParentNode(b);return isLastTraversableNode($)?b.ownerDocument?b.ownerDocument.body:b.body:isHTMLElement($)&&isOverflowElement($)?$:getNearestOverflowAncestor($)}function getOverflowAncestors(b,$,_e){var et;$===void 0&&($=[]),_e===void 0&&(_e=!0);const tt=getNearestOverflowAncestor(b),nt=tt===((et=b.ownerDocument)==null?void 0:et.body),rt=getWindow(tt);return nt?$.concat(rt,rt.visualViewport||[],isOverflowElement(tt)?tt:[],rt.frameElement&&_e?getOverflowAncestors(rt.frameElement):[]):$.concat(tt,getOverflowAncestors(tt,[],_e))}const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=b=>({x:b,y:b}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(b,$,_e){return max(b,min($,_e))}function evaluate(b,$){return typeof b=="function"?b($):b}function getSide(b){return b.split("-")[0]}function getAlignment(b){return b.split("-")[1]}function getOppositeAxis(b){return b==="x"?"y":"x"}function getAxisLength(b){return b==="y"?"height":"width"}function getSideAxis(b){return["top","bottom"].includes(getSide(b))?"y":"x"}function getAlignmentAxis(b){return getOppositeAxis(getSideAxis(b))}function getAlignmentSides(b,$,_e){_e===void 0&&(_e=!1);const et=getAlignment(b),tt=getAlignmentAxis(b),nt=getAxisLength(tt);let rt=tt==="x"?et===(_e?"end":"start")?"right":"left":et==="start"?"bottom":"top";return $.reference[nt]>$.floating[nt]&&(rt=getOppositePlacement(rt)),[rt,getOppositePlacement(rt)]}function getExpandedPlacements(b){const $=getOppositePlacement(b);return[getOppositeAlignmentPlacement(b),$,getOppositeAlignmentPlacement($)]}function getOppositeAlignmentPlacement(b){return b.replace(/start|end/g,$=>oppositeAlignmentMap[$])}function getSideList(b,$,_e){const et=["left","right"],tt=["right","left"],nt=["top","bottom"],rt=["bottom","top"];switch(b){case"top":case"bottom":return _e?$?tt:et:$?et:tt;case"left":case"right":return $?nt:rt;default:return[]}}function getOppositeAxisPlacements(b,$,_e,et){const tt=getAlignment(b);let nt=getSideList(getSide(b),_e==="start",et);return tt&&(nt=nt.map(rt=>rt+"-"+tt),$&&(nt=nt.concat(nt.map(getOppositeAlignmentPlacement)))),nt}function getOppositePlacement(b){return b.replace(/left|right|bottom|top/g,$=>oppositeSideMap[$])}function expandPaddingObject(b){return{top:0,right:0,bottom:0,left:0,...b}}function getPaddingObject(b){return typeof b!="number"?expandPaddingObject(b):{top:b,right:b,bottom:b,left:b}}function rectToClientRect(b){const{x:$,y:_e,width:et,height:tt}=b;return{width:et,height:tt,top:_e,left:$,right:$+et,bottom:_e+tt,x:$,y:_e}}function computeCoordsFromPlacement(b,$,_e){let{reference:et,floating:tt}=b;const nt=getSideAxis($),rt=getAlignmentAxis($),ot=getAxisLength(rt),st=getSide($),ct=nt==="y",lt=et.x+et.width/2-tt.width/2,at=et.y+et.height/2-tt.height/2,it=et[ot]/2-tt[ot]/2;let ut;switch(st){case"top":ut={x:lt,y:et.y-tt.height};break;case"bottom":ut={x:lt,y:et.y+et.height};break;case"right":ut={x:et.x+et.width,y:at};break;case"left":ut={x:et.x-tt.width,y:at};break;default:ut={x:et.x,y:et.y}}switch(getAlignment($)){case"start":ut[rt]-=it*(_e&&ct?-1:1);break;case"end":ut[rt]+=it*(_e&&ct?-1:1);break}return ut}const computePosition$1=async(b,$,_e)=>{const{placement:et="bottom",strategy:tt="absolute",middleware:nt=[],platform:rt}=_e,ot=nt.filter(Boolean),st=await(rt.isRTL==null?void 0:rt.isRTL($));let ct=await rt.getElementRects({reference:b,floating:$,strategy:tt}),{x:lt,y:at}=computeCoordsFromPlacement(ct,et,st),it=et,ut={},dt=0;for(let ht=0;ht<ot.length;ht++){const{name:ft,fn:pt}=ot[ht],{x:mt,y:gt,data:vt,reset:yt}=await pt({x:lt,y:at,initialPlacement:et,placement:it,strategy:tt,middlewareData:ut,rects:ct,platform:rt,elements:{reference:b,floating:$}});lt=mt??lt,at=gt??at,ut={...ut,[ft]:{...ut[ft],...vt}},yt&&dt<=50&&(dt++,typeof yt=="object"&&(yt.placement&&(it=yt.placement),yt.rects&&(ct=yt.rects===!0?await rt.getElementRects({reference:b,floating:$,strategy:tt}):yt.rects),{x:lt,y:at}=computeCoordsFromPlacement(ct,it,st)),ht=-1)}return{x:lt,y:at,placement:it,strategy:tt,middlewareData:ut}};async function detectOverflow(b,$){var _e;$===void 0&&($={});const{x:et,y:tt,platform:nt,rects:rt,elements:ot,strategy:st}=b,{boundary:ct="clippingAncestors",rootBoundary:lt="viewport",elementContext:at="floating",altBoundary:it=!1,padding:ut=0}=evaluate($,b),dt=getPaddingObject(ut),ft=ot[it?at==="floating"?"reference":"floating":at],pt=rectToClientRect(await nt.getClippingRect({element:(_e=await(nt.isElement==null?void 0:nt.isElement(ft)))==null||_e?ft:ft.contextElement||await(nt.getDocumentElement==null?void 0:nt.getDocumentElement(ot.floating)),boundary:ct,rootBoundary:lt,strategy:st})),mt=at==="floating"?{x:et,y:tt,width:rt.floating.width,height:rt.floating.height}:rt.reference,gt=await(nt.getOffsetParent==null?void 0:nt.getOffsetParent(ot.floating)),vt=await(nt.isElement==null?void 0:nt.isElement(gt))?await(nt.getScale==null?void 0:nt.getScale(gt))||{x:1,y:1}:{x:1,y:1},yt=rectToClientRect(nt.convertOffsetParentRelativeRectToViewportRelativeRect?await nt.convertOffsetParentRelativeRectToViewportRelativeRect({elements:ot,rect:mt,offsetParent:gt,strategy:st}):mt);return{top:(pt.top-yt.top+dt.top)/vt.y,bottom:(yt.bottom-pt.bottom+dt.bottom)/vt.y,left:(pt.left-yt.left+dt.left)/vt.x,right:(yt.right-pt.right+dt.right)/vt.x}}const arrow$3=b=>({name:"arrow",options:b,async fn($){const{x:_e,y:et,placement:tt,rects:nt,platform:rt,elements:ot,middlewareData:st}=$,{element:ct,padding:lt=0}=evaluate(b,$)||{};if(ct==null)return{};const at=getPaddingObject(lt),it={x:_e,y:et},ut=getAlignmentAxis(tt),dt=getAxisLength(ut),ht=await rt.getDimensions(ct),ft=ut==="y",pt=ft?"top":"left",mt=ft?"bottom":"right",gt=ft?"clientHeight":"clientWidth",vt=nt.reference[dt]+nt.reference[ut]-it[ut]-nt.floating[dt],yt=it[ut]-nt.reference[ut],bt=await(rt.getOffsetParent==null?void 0:rt.getOffsetParent(ct));let xt=bt?bt[gt]:0;(!xt||!await(rt.isElement==null?void 0:rt.isElement(bt)))&&(xt=ot.floating[gt]||nt.floating[dt]);const _t=vt/2-yt/2,wt=xt/2-ht[dt]/2-1,At=min(at[pt],wt),Pt=min(at[mt],wt),jt=At,kt=xt-ht[dt]-Pt,St=xt/2-ht[dt]/2+_t,Ct=clamp(jt,St,kt),Et=!st.arrow&&getAlignment(tt)!=null&&St!==Ct&&nt.reference[dt]/2-(St<jt?At:Pt)-ht[dt]/2<0,Tt=Et?St<jt?St-jt:St-kt:0;return{[ut]:it[ut]+Tt,data:{[ut]:Ct,centerOffset:St-Ct-Tt,...Et&&{alignmentOffset:Tt}},reset:Et}}}),flip$2=function(b){return b===void 0&&(b={}),{name:"flip",options:b,async fn($){var _e,et;const{placement:tt,middlewareData:nt,rects:rt,initialPlacement:ot,platform:st,elements:ct}=$,{mainAxis:lt=!0,crossAxis:at=!0,fallbackPlacements:it,fallbackStrategy:ut="bestFit",fallbackAxisSideDirection:dt="none",flipAlignment:ht=!0,...ft}=evaluate(b,$);if((_e=nt.arrow)!=null&&_e.alignmentOffset)return{};const pt=getSide(tt),mt=getSide(ot)===ot,gt=await(st.isRTL==null?void 0:st.isRTL(ct.floating)),vt=it||(mt||!ht?[getOppositePlacement(ot)]:getExpandedPlacements(ot));!it&&dt!=="none"&&vt.push(...getOppositeAxisPlacements(ot,ht,dt,gt));const yt=[ot,...vt],bt=await detectOverflow($,ft),xt=[];let _t=((et=nt.flip)==null?void 0:et.overflows)||[];if(lt&&xt.push(bt[pt]),at){const jt=getAlignmentSides(tt,rt,gt);xt.push(bt[jt[0]],bt[jt[1]])}if(_t=[..._t,{placement:tt,overflows:xt}],!xt.every(jt=>jt<=0)){var wt,At;const jt=(((wt=nt.flip)==null?void 0:wt.index)||0)+1,kt=yt[jt];if(kt)return{data:{index:jt,overflows:_t},reset:{placement:kt}};let St=(At=_t.filter(Ct=>Ct.overflows[0]<=0).sort((Ct,Et)=>Ct.overflows[1]-Et.overflows[1])[0])==null?void 0:At.placement;if(!St)switch(ut){case"bestFit":{var Pt;const Ct=(Pt=_t.map(Et=>[Et.placement,Et.overflows.filter(Tt=>Tt>0).reduce((Tt,$t)=>Tt+$t,0)]).sort((Et,Tt)=>Et[1]-Tt[1])[0])==null?void 0:Pt[0];Ct&&(St=Ct);break}case"initialPlacement":St=ot;break}if(tt!==St)return{reset:{placement:St}}}return{}}}};async function convertValueToCoords(b,$){const{placement:_e,platform:et,elements:tt}=b,nt=await(et.isRTL==null?void 0:et.isRTL(tt.floating)),rt=getSide(_e),ot=getAlignment(_e),st=getSideAxis(_e)==="y",ct=["left","top"].includes(rt)?-1:1,lt=nt&&st?-1:1,at=evaluate($,b);let{mainAxis:it,crossAxis:ut,alignmentAxis:dt}=typeof at=="number"?{mainAxis:at,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...at};return ot&&typeof dt=="number"&&(ut=ot==="end"?dt*-1:dt),st?{x:ut*lt,y:it*ct}:{x:it*ct,y:ut*lt}}const offset$2=function(b){return b===void 0&&(b=0),{name:"offset",options:b,async fn($){var _e,et;const{x:tt,y:nt,placement:rt,middlewareData:ot}=$,st=await convertValueToCoords($,b);return rt===((_e=ot.offset)==null?void 0:_e.placement)&&(et=ot.arrow)!=null&&et.alignmentOffset?{}:{x:tt+st.x,y:nt+st.y,data:{...st,placement:rt}}}}};function getCssDimensions(b){const $=getComputedStyle$1(b);let _e=parseFloat($.width)||0,et=parseFloat($.height)||0;const tt=isHTMLElement(b),nt=tt?b.offsetWidth:_e,rt=tt?b.offsetHeight:et,ot=round(_e)!==nt||round(et)!==rt;return ot&&(_e=nt,et=rt),{width:_e,height:et,$:ot}}function unwrapElement(b){return isElement(b)?b:b.contextElement}function getScale(b){const $=unwrapElement(b);if(!isHTMLElement($))return createCoords(1);const _e=$.getBoundingClientRect(),{width:et,height:tt,$:nt}=getCssDimensions($);let rt=(nt?round(_e.width):_e.width)/et,ot=(nt?round(_e.height):_e.height)/tt;return(!rt||!Number.isFinite(rt))&&(rt=1),(!ot||!Number.isFinite(ot))&&(ot=1),{x:rt,y:ot}}const noOffsets=createCoords(0);function getVisualOffsets(b){const $=getWindow(b);return!isWebKit()||!$.visualViewport?noOffsets:{x:$.visualViewport.offsetLeft,y:$.visualViewport.offsetTop}}function shouldAddVisualOffsets(b,$,_e){return $===void 0&&($=!1),!_e||$&&_e!==getWindow(b)?!1:$}function getBoundingClientRect(b,$,_e,et){$===void 0&&($=!1),_e===void 0&&(_e=!1);const tt=b.getBoundingClientRect(),nt=unwrapElement(b);let rt=createCoords(1);$&&(et?isElement(et)&&(rt=getScale(et)):rt=getScale(b));const ot=shouldAddVisualOffsets(nt,_e,et)?getVisualOffsets(nt):createCoords(0);let st=(tt.left+ot.x)/rt.x,ct=(tt.top+ot.y)/rt.y,lt=tt.width/rt.x,at=tt.height/rt.y;if(nt){const it=getWindow(nt),ut=et&&isElement(et)?getWindow(et):et;let dt=it,ht=dt.frameElement;for(;ht&&et&&ut!==dt;){const ft=getScale(ht),pt=ht.getBoundingClientRect(),mt=getComputedStyle$1(ht),gt=pt.left+(ht.clientLeft+parseFloat(mt.paddingLeft))*ft.x,vt=pt.top+(ht.clientTop+parseFloat(mt.paddingTop))*ft.y;st*=ft.x,ct*=ft.y,lt*=ft.x,at*=ft.y,st+=gt,ct+=vt,dt=getWindow(ht),ht=dt.frameElement}}return rectToClientRect({width:lt,height:at,x:st,y:ct})}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(b){return topLayerSelectors.some($=>{try{return b.matches($)}catch{return!1}})}function convertOffsetParentRelativeRectToViewportRelativeRect(b){let{elements:$,rect:_e,offsetParent:et,strategy:tt}=b;const nt=tt==="fixed",rt=getDocumentElement(et),ot=$?isTopLayer($.floating):!1;if(et===rt||ot&&nt)return _e;let st={scrollLeft:0,scrollTop:0},ct=createCoords(1);const lt=createCoords(0),at=isHTMLElement(et);if((at||!at&&!nt)&&((getNodeName(et)!=="body"||isOverflowElement(rt))&&(st=getNodeScroll(et)),isHTMLElement(et))){const it=getBoundingClientRect(et);ct=getScale(et),lt.x=it.x+et.clientLeft,lt.y=it.y+et.clientTop}return{width:_e.width*ct.x,height:_e.height*ct.y,x:_e.x*ct.x-st.scrollLeft*ct.x+lt.x,y:_e.y*ct.y-st.scrollTop*ct.y+lt.y}}function getClientRects(b){return Array.from(b.getClientRects())}function getWindowScrollBarX(b){return getBoundingClientRect(getDocumentElement(b)).left+getNodeScroll(b).scrollLeft}function getDocumentRect(b){const $=getDocumentElement(b),_e=getNodeScroll(b),et=b.ownerDocument.body,tt=max($.scrollWidth,$.clientWidth,et.scrollWidth,et.clientWidth),nt=max($.scrollHeight,$.clientHeight,et.scrollHeight,et.clientHeight);let rt=-_e.scrollLeft+getWindowScrollBarX(b);const ot=-_e.scrollTop;return getComputedStyle$1(et).direction==="rtl"&&(rt+=max($.clientWidth,et.clientWidth)-tt),{width:tt,height:nt,x:rt,y:ot}}function getViewportRect(b,$){const _e=getWindow(b),et=getDocumentElement(b),tt=_e.visualViewport;let nt=et.clientWidth,rt=et.clientHeight,ot=0,st=0;if(tt){nt=tt.width,rt=tt.height;const ct=isWebKit();(!ct||ct&&$==="fixed")&&(ot=tt.offsetLeft,st=tt.offsetTop)}return{width:nt,height:rt,x:ot,y:st}}function getInnerBoundingClientRect(b,$){const _e=getBoundingClientRect(b,!0,$==="fixed"),et=_e.top+b.clientTop,tt=_e.left+b.clientLeft,nt=isHTMLElement(b)?getScale(b):createCoords(1),rt=b.clientWidth*nt.x,ot=b.clientHeight*nt.y,st=tt*nt.x,ct=et*nt.y;return{width:rt,height:ot,x:st,y:ct}}function getClientRectFromClippingAncestor(b,$,_e){let et;if($==="viewport")et=getViewportRect(b,_e);else if($==="document")et=getDocumentRect(getDocumentElement(b));else if(isElement($))et=getInnerBoundingClientRect($,_e);else{const tt=getVisualOffsets(b);et={...$,x:$.x-tt.x,y:$.y-tt.y}}return rectToClientRect(et)}function hasFixedPositionAncestor(b,$){const _e=getParentNode(b);return _e===$||!isElement(_e)||isLastTraversableNode(_e)?!1:getComputedStyle$1(_e).position==="fixed"||hasFixedPositionAncestor(_e,$)}function getClippingElementAncestors(b,$){const _e=$.get(b);if(_e)return _e;let et=getOverflowAncestors(b,[],!1).filter(ot=>isElement(ot)&&getNodeName(ot)!=="body"),tt=null;const nt=getComputedStyle$1(b).position==="fixed";let rt=nt?getParentNode(b):b;for(;isElement(rt)&&!isLastTraversableNode(rt);){const ot=getComputedStyle$1(rt),st=isContainingBlock(rt);!st&&ot.position==="fixed"&&(tt=null),(nt?!st&&!tt:!st&&ot.position==="static"&&!!tt&&["absolute","fixed"].includes(tt.position)||isOverflowElement(rt)&&!st&&hasFixedPositionAncestor(b,rt))?et=et.filter(lt=>lt!==rt):tt=ot,rt=getParentNode(rt)}return $.set(b,et),et}function getClippingRect(b){let{element:$,boundary:_e,rootBoundary:et,strategy:tt}=b;const rt=[..._e==="clippingAncestors"?isTopLayer($)?[]:getClippingElementAncestors($,this._c):[].concat(_e),et],ot=rt[0],st=rt.reduce((ct,lt)=>{const at=getClientRectFromClippingAncestor($,lt,tt);return ct.top=max(at.top,ct.top),ct.right=min(at.right,ct.right),ct.bottom=min(at.bottom,ct.bottom),ct.left=max(at.left,ct.left),ct},getClientRectFromClippingAncestor($,ot,tt));return{width:st.right-st.left,height:st.bottom-st.top,x:st.left,y:st.top}}function getDimensions(b){const{width:$,height:_e}=getCssDimensions(b);return{width:$,height:_e}}function getRectRelativeToOffsetParent(b,$,_e){const et=isHTMLElement($),tt=getDocumentElement($),nt=_e==="fixed",rt=getBoundingClientRect(b,!0,nt,$);let ot={scrollLeft:0,scrollTop:0};const st=createCoords(0);if(et||!et&&!nt)if((getNodeName($)!=="body"||isOverflowElement(tt))&&(ot=getNodeScroll($)),et){const at=getBoundingClientRect($,!0,nt,$);st.x=at.x+$.clientLeft,st.y=at.y+$.clientTop}else tt&&(st.x=getWindowScrollBarX(tt));const ct=rt.left+ot.scrollLeft-st.x,lt=rt.top+ot.scrollTop-st.y;return{x:ct,y:lt,width:rt.width,height:rt.height}}function isStaticPositioned(b){return getComputedStyle$1(b).position==="static"}function getTrueOffsetParent(b,$){return!isHTMLElement(b)||getComputedStyle$1(b).position==="fixed"?null:$?$(b):b.offsetParent}function getOffsetParent(b,$){const _e=getWindow(b);if(isTopLayer(b))return _e;if(!isHTMLElement(b)){let tt=getParentNode(b);for(;tt&&!isLastTraversableNode(tt);){if(isElement(tt)&&!isStaticPositioned(tt))return tt;tt=getParentNode(tt)}return _e}let et=getTrueOffsetParent(b,$);for(;et&&isTableElement(et)&&isStaticPositioned(et);)et=getTrueOffsetParent(et,$);return et&&isLastTraversableNode(et)&&isStaticPositioned(et)&&!isContainingBlock(et)?_e:et||getContainingBlock(b)||_e}const getElementRects=async function(b){const $=this.getOffsetParent||getOffsetParent,_e=this.getDimensions,et=await _e(b.floating);return{reference:getRectRelativeToOffsetParent(b.reference,await $(b.floating),b.strategy),floating:{x:0,y:0,width:et.width,height:et.height}}};function isRTL(b){return getComputedStyle$1(b).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function observeMove(b,$){let _e=null,et;const tt=getDocumentElement(b);function nt(){var ot;clearTimeout(et),(ot=_e)==null||ot.disconnect(),_e=null}function rt(ot,st){ot===void 0&&(ot=!1),st===void 0&&(st=1),nt();const{left:ct,top:lt,width:at,height:it}=b.getBoundingClientRect();if(ot||$(),!at||!it)return;const ut=floor(lt),dt=floor(tt.clientWidth-(ct+at)),ht=floor(tt.clientHeight-(lt+it)),ft=floor(ct),mt={rootMargin:-ut+"px "+-dt+"px "+-ht+"px "+-ft+"px",threshold:max(0,min(1,st))||1};let gt=!0;function vt(yt){const bt=yt[0].intersectionRatio;if(bt!==st){if(!gt)return rt();bt?rt(!1,bt):et=setTimeout(()=>{rt(!1,1e-7)},1e3)}gt=!1}try{_e=new IntersectionObserver(vt,{...mt,root:tt.ownerDocument})}catch{_e=new IntersectionObserver(vt,mt)}_e.observe(b)}return rt(!0),nt}function autoUpdate(b,$,_e,et){et===void 0&&(et={});const{ancestorScroll:tt=!0,ancestorResize:nt=!0,elementResize:rt=typeof ResizeObserver=="function",layoutShift:ot=typeof IntersectionObserver=="function",animationFrame:st=!1}=et,ct=unwrapElement(b),lt=tt||nt?[...ct?getOverflowAncestors(ct):[],...getOverflowAncestors($)]:[];lt.forEach(pt=>{tt&&pt.addEventListener("scroll",_e,{passive:!0}),nt&&pt.addEventListener("resize",_e)});const at=ct&&ot?observeMove(ct,_e):null;let it=-1,ut=null;rt&&(ut=new ResizeObserver(pt=>{let[mt]=pt;mt&&mt.target===ct&&ut&&(ut.unobserve($),cancelAnimationFrame(it),it=requestAnimationFrame(()=>{var gt;(gt=ut)==null||gt.observe($)})),_e()}),ct&&!st&&ut.observe(ct),ut.observe($));let dt,ht=st?getBoundingClientRect(b):null;st&&ft();function ft(){const pt=getBoundingClientRect(b);ht&&(pt.x!==ht.x||pt.y!==ht.y||pt.width!==ht.width||pt.height!==ht.height)&&_e(),ht=pt,dt=requestAnimationFrame(ft)}return _e(),()=>{var pt;lt.forEach(mt=>{tt&&mt.removeEventListener("scroll",_e),nt&&mt.removeEventListener("resize",_e)}),at==null||at(),(pt=ut)==null||pt.disconnect(),ut=null,st&&cancelAnimationFrame(dt)}}const offset$1=offset$2,flip$1=flip$2,arrow$2=arrow$3,computePosition=(b,$,_e)=>{const et=new Map,tt={platform,..._e},nt={...tt.platform,_c:et};return computePosition$1(b,$,{...tt,platform:nt})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(b,$){if(b===$)return!0;if(typeof b!=typeof $)return!1;if(typeof b=="function"&&b.toString()===$.toString())return!0;let _e,et,tt;if(b&&$&&typeof b=="object"){if(Array.isArray(b)){if(_e=b.length,_e!==$.length)return!1;for(et=_e;et--!==0;)if(!deepEqual(b[et],$[et]))return!1;return!0}if(tt=Object.keys(b),_e=tt.length,_e!==Object.keys($).length)return!1;for(et=_e;et--!==0;)if(!{}.hasOwnProperty.call($,tt[et]))return!1;for(et=_e;et--!==0;){const nt=tt[et];if(!(nt==="_owner"&&b.$$typeof)&&!deepEqual(b[nt],$[nt]))return!1}return!0}return b!==b&&$!==$}function getDPR(b){return typeof window>"u"?1:(b.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(b,$){const _e=getDPR(b);return Math.round($*_e)/_e}function useLatestRef(b){const $=reactExports.useRef(b);return index$1(()=>{$.current=b}),$}function useFloating$1(b){b===void 0&&(b={});const{placement:$="bottom",strategy:_e="absolute",middleware:et=[],platform:tt,elements:{reference:nt,floating:rt}={},transform:ot=!0,whileElementsMounted:st,open:ct}=b,[lt,at]=reactExports.useState({x:0,y:0,strategy:_e,placement:$,middlewareData:{},isPositioned:!1}),[it,ut]=reactExports.useState(et);deepEqual(it,et)||ut(et);const[dt,ht]=reactExports.useState(null),[ft,pt]=reactExports.useState(null),mt=reactExports.useCallback(Tt=>{Tt!==bt.current&&(bt.current=Tt,ht(Tt))},[]),gt=reactExports.useCallback(Tt=>{Tt!==xt.current&&(xt.current=Tt,pt(Tt))},[]),vt=nt||dt,yt=rt||ft,bt=reactExports.useRef(null),xt=reactExports.useRef(null),_t=reactExports.useRef(lt),wt=st!=null,At=useLatestRef(st),Pt=useLatestRef(tt),jt=reactExports.useCallback(()=>{if(!bt.current||!xt.current)return;const Tt={placement:$,strategy:_e,middleware:it};Pt.current&&(Tt.platform=Pt.current),computePosition(bt.current,xt.current,Tt).then($t=>{const Ot={...$t,isPositioned:!0};kt.current&&!deepEqual(_t.current,Ot)&&(_t.current=Ot,reactDomExports.flushSync(()=>{at(Ot)}))})},[it,$,_e,Pt]);index$1(()=>{ct===!1&&_t.current.isPositioned&&(_t.current.isPositioned=!1,at(Tt=>({...Tt,isPositioned:!1})))},[ct]);const kt=reactExports.useRef(!1);index$1(()=>(kt.current=!0,()=>{kt.current=!1}),[]),index$1(()=>{if(vt&&(bt.current=vt),yt&&(xt.current=yt),vt&&yt){if(At.current)return At.current(vt,yt,jt);jt()}},[vt,yt,jt,At,wt]);const St=reactExports.useMemo(()=>({reference:bt,floating:xt,setReference:mt,setFloating:gt}),[mt,gt]),Ct=reactExports.useMemo(()=>({reference:vt,floating:yt}),[vt,yt]),Et=reactExports.useMemo(()=>{const Tt={position:_e,left:0,top:0};if(!Ct.floating)return Tt;const $t=roundByDPR(Ct.floating,lt.x),Ot=roundByDPR(Ct.floating,lt.y);return ot?{...Tt,transform:"translate("+$t+"px, "+Ot+"px)",...getDPR(Ct.floating)>=1.5&&{willChange:"transform"}}:{position:_e,left:$t,top:Ot}},[_e,ot,Ct.floating,lt.x,lt.y]);return reactExports.useMemo(()=>({...lt,update:jt,refs:St,elements:Ct,floatingStyles:Et}),[lt,jt,St,Ct,Et])}const arrow$1=b=>{function $(_e){return{}.hasOwnProperty.call(_e,"current")}return{name:"arrow",options:b,fn(_e){const{element:et,padding:tt}=typeof b=="function"?b(_e):b;return et&&$(et)?et.current!=null?arrow$2({element:et.current,padding:tt}).fn(_e):{}:et?arrow$2({element:et,padding:tt}).fn(_e):{}}}},offset=(b,$)=>({...offset$1(b),options:[b,$]}),flip=(b,$)=>({...flip$1(b),options:[b,$]}),arrow=(b,$)=>({...arrow$1(b),options:[b,$]}),SafeReact={...React$1},useInsertionEffect=SafeReact.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(b=>b());function useEffectEvent(b){const $=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{$.current=b}),reactExports.useCallback(function(){for(var _e=arguments.length,et=new Array(_e),tt=0;tt<_e;tt++)et[tt]=arguments[tt];return $.current==null?void 0:$.current(...et)},[])}var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(b){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var et in _e)Object.prototype.hasOwnProperty.call(_e,et)&&(b[et]=_e[et])}return b},_extends$1.apply(this,arguments)}let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count++;function useFloatingId(){const[b,$]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index(()=>{b==null&&$(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),b}const useReactId=SafeReact.useId,useId=useReactId||useFloatingId,FloatingArrow=reactExports.forwardRef(function b($,_e){const{context:{placement:et,elements:{floating:tt},middlewareData:{arrow:nt}},width:rt=14,height:ot=7,tipRadius:st=0,strokeWidth:ct=0,staticOffset:lt,stroke:at,d:it,style:{transform:ut,...dt}={},...ht}=$,ft=useId();if(!tt)return null;const pt=ct*2,mt=pt/2,gt=rt/2*(st/-8+1),vt=ot/2*st/4,[yt,bt]=et.split("-"),xt=platform.isRTL(tt),_t=!!it,wt=yt==="top"||yt==="bottom",At=lt&&bt==="end"?"bottom":"top";let Pt=lt&&bt==="end"?"right":"left";lt&&xt&&(Pt=bt==="end"?"left":"right");const jt=(nt==null?void 0:nt.x)!=null?lt||nt.x:"",kt=(nt==null?void 0:nt.y)!=null?lt||nt.y:"",St=it||"M0,0"+(" H"+rt)+(" L"+(rt-gt)+","+(ot-vt))+(" Q"+rt/2+","+ot+" "+gt+","+(ot-vt))+" Z",Ct={top:_t?"rotate(180deg)":"",left:_t?"rotate(90deg)":"rotate(-90deg)",bottom:_t?"":"rotate(180deg)",right:_t?"rotate(-90deg)":"rotate(90deg)"}[yt];return reactExports.createElement("svg",_extends$1({},ht,{"aria-hidden":!0,ref:_e,width:_t?rt:rt+pt,height:rt,viewBox:"0 0 "+rt+" "+(ot>rt?ot:rt),style:{position:"absolute",pointerEvents:"none",[Pt]:jt,[At]:kt,[yt]:wt||_t?"100%":"calc(100% - "+pt/2+"px)",transform:""+Ct+(ut??""),...dt}}),pt>0&&reactExports.createElement("path",{clipPath:"url(#"+ft+")",fill:"none",stroke:at,strokeWidth:pt+(it?0:1),d:St}),reactExports.createElement("path",{stroke:pt&&!it?ht.fill:"none",d:St}),reactExports.createElement("clipPath",{id:ft},reactExports.createElement("rect",{x:-mt,y:mt*(_t?-1:1),width:rt+pt,height:rt})))});function createPubSub(){const b=new Map;return{emit($,_e){var et;(et=b.get($))==null||et.forEach(tt=>tt(_e))},on($,_e){b.set($,[...b.get($)||[],_e])},off($,_e){var et;b.set($,((et=b.get($))==null?void 0:et.filter(tt=>tt!==_e))||[])}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var b;return((b=reactExports.useContext(FloatingNodeContext))==null?void 0:b.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext);function useFloatingRootContext(b){const{open:$=!1,onOpenChange:_e,elements:et}=b,tt=useId(),nt=reactExports.useRef({}),[rt]=reactExports.useState(()=>createPubSub()),ot=useFloatingParentNodeId()!=null,[st,ct]=reactExports.useState(et.reference),lt=useEffectEvent((ut,dt,ht)=>{nt.current.openEvent=ut?dt:void 0,rt.emit("openchange",{open:ut,event:dt,reason:ht,nested:ot}),_e==null||_e(ut,dt,ht)}),at=reactExports.useMemo(()=>({setPositionReference:ct}),[]),it=reactExports.useMemo(()=>({reference:st||et.reference||null,floating:et.floating||null,domReference:et.reference}),[st,et.reference,et.floating]);return reactExports.useMemo(()=>({dataRef:nt,open:$,onOpenChange:lt,elements:it,events:rt,floatingId:tt,refs:at}),[$,lt,it,rt,tt,at])}function useFloating(b){b===void 0&&(b={});const{nodeId:$}=b,_e=useFloatingRootContext({...b,elements:{reference:null,floating:null,...b.elements}}),et=b.rootContext||_e,tt=et.elements,[nt,rt]=reactExports.useState(null),[ot,st]=reactExports.useState(null),lt=(tt==null?void 0:tt.reference)||nt,at=reactExports.useRef(null),it=useFloatingTree();index(()=>{lt&&(at.current=lt)},[lt]);const ut=useFloating$1({...b,elements:{...tt,...ot&&{reference:ot}}}),dt=reactExports.useCallback(gt=>{const vt=isElement(gt)?{getBoundingClientRect:()=>gt.getBoundingClientRect(),contextElement:gt}:gt;st(vt),ut.refs.setReference(vt)},[ut.refs]),ht=reactExports.useCallback(gt=>{(isElement(gt)||gt===null)&&(at.current=gt,rt(gt)),(isElement(ut.refs.reference.current)||ut.refs.reference.current===null||gt!==null&&!isElement(gt))&&ut.refs.setReference(gt)},[ut.refs]),ft=reactExports.useMemo(()=>({...ut.refs,setReference:ht,setPositionReference:dt,domReference:at}),[ut.refs,ht,dt]),pt=reactExports.useMemo(()=>({...ut.elements,domReference:lt}),[ut.elements,lt]),mt=reactExports.useMemo(()=>({...ut,...et,refs:ft,elements:pt,nodeId:$}),[ut,ft,pt,$,et]);return index(()=>{et.dataRef.current.floatingContext=mt;const gt=it==null?void 0:it.nodesRef.current.find(vt=>vt.id===$);gt&&(gt.context=mt)}),reactExports.useMemo(()=>({...ut,context:mt,refs:ft,elements:pt}),[ut,ft,pt,mt])}/*!
  react-datepicker v6.9.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/function _callSuper(b,$,_e){return $=_getPrototypeOf($),_possibleConstructorReturn(b,_isNativeReflectConstruct()?Reflect.construct($,_e||[],_getPrototypeOf(b).constructor):$.apply(b,_e))}function _isNativeReflectConstruct(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!b})()}function ownKeys(b,$){var _e=Object.keys(b);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(b);$&&(et=et.filter(function(tt){return Object.getOwnPropertyDescriptor(b,tt).enumerable})),_e.push.apply(_e,et)}return _e}function _objectSpread2(b){for(var $=1;$<arguments.length;$++){var _e=arguments[$]!=null?arguments[$]:{};$%2?ownKeys(Object(_e),!0).forEach(function(et){_defineProperty(b,et,_e[et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(_e)):ownKeys(Object(_e)).forEach(function(et){Object.defineProperty(b,et,Object.getOwnPropertyDescriptor(_e,et))})}return b}function _toPrimitive(b,$){if(typeof b!="object"||!b)return b;var _e=b[Symbol.toPrimitive];if(_e!==void 0){var et=_e.call(b,$||"default");if(typeof et!="object")return et;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(b)}function _toPropertyKey(b){var $=_toPrimitive(b,"string");return typeof $=="symbol"?$:$+""}function _typeof(b){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof(b)}function _classCallCheck(b,$){if(!(b instanceof $))throw new TypeError("Cannot call a class as a function")}function _defineProperties(b,$){for(var _e=0;_e<$.length;_e++){var et=$[_e];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(b,_toPropertyKey(et.key),et)}}function _createClass(b,$,_e){return $&&_defineProperties(b.prototype,$),_e&&_defineProperties(b,_e),Object.defineProperty(b,"prototype",{writable:!1}),b}function _defineProperty(b,$,_e){return $=_toPropertyKey($),$ in b?Object.defineProperty(b,$,{value:_e,enumerable:!0,configurable:!0,writable:!0}):b[$]=_e,b}function _extends(){return _extends=Object.assign?Object.assign.bind():function(b){for(var $=1;$<arguments.length;$++){var _e=arguments[$];for(var et in _e)Object.prototype.hasOwnProperty.call(_e,et)&&(b[et]=_e[et])}return b},_extends.apply(this,arguments)}function _inherits(b,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create($&&$.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),$&&_setPrototypeOf(b,$)}function _getPrototypeOf(b){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_e){return _e.__proto__||Object.getPrototypeOf(_e)},_getPrototypeOf(b)}function _setPrototypeOf(b,$){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(et,tt){return et.__proto__=tt,et},_setPrototypeOf(b,$)}function _assertThisInitialized(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function _possibleConstructorReturn(b,$){if($&&(typeof $=="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(b)}function _toConsumableArray(b){return _arrayWithoutHoles(b)||_iterableToArray(b)||_unsupportedIterableToArray(b)||_nonIterableSpread()}function _arrayWithoutHoles(b){if(Array.isArray(b))return _arrayLikeToArray(b)}function _iterableToArray(b){if(typeof Symbol<"u"&&b[Symbol.iterator]!=null||b["@@iterator"]!=null)return Array.from(b)}function _unsupportedIterableToArray(b,$){if(b){if(typeof b=="string")return _arrayLikeToArray(b,$);var _e=Object.prototype.toString.call(b).slice(8,-1);if(_e==="Object"&&b.constructor&&(_e=b.constructor.name),_e==="Map"||_e==="Set")return Array.from(b);if(_e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_e))return _arrayLikeToArray(b,$)}}function _arrayLikeToArray(b,$){($==null||$>b.length)&&($=b.length);for(var _e=0,et=new Array($);_e<$;_e++)et[_e]=b[_e];return et}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var DEFAULT_YEAR_ITEM_NUMBER=12,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function newDate(b){var $=b?typeof b=="string"||b instanceof String?parseISO(b):toDate(b):new Date;return isValid($)?$:null}function parseDate(b,$,_e,et,tt){var nt=null,rt=getLocaleObject(_e)||getLocaleObject(getDefaultLocale()),ot=!0;return Array.isArray($)?($.forEach(function(st){var ct=parse(b,st,new Date,{locale:rt,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});et&&(ot=isValid(ct,tt)&&b===formatDate(ct,st,_e)),isValid(ct,tt)&&ot&&(nt=ct)}),nt):(nt=parse(b,$,new Date,{locale:rt,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),et?ot=isValid(nt)&&b===formatDate(nt,$,_e):isValid(nt)||($=$.match(longFormattingTokensRegExp).map(function(st){var ct=st[0];if(ct==="p"||ct==="P"){var lt=longFormatters[ct];return rt?lt(st,rt.formatLong):ct}return st}).join(""),b.length>0&&(nt=parse(b,$.slice(0,b.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),isValid(nt)||(nt=new Date(b))),isValid(nt)&&ot?nt:null)}function isValid(b,$){return $=$||new Date("1/1/1000"),isValid$1(b)&&!isBefore(b,$)}function formatDate(b,$,_e){if(_e==="en")return format(b,$,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var et=getLocaleObject(_e);return _e&&!et&&console.warn('A locale object was not found for the provided string ["'.concat(_e,'"].')),!et&&getDefaultLocale()&&getLocaleObject(getDefaultLocale())&&(et=getLocaleObject(getDefaultLocale())),format(b,$,{locale:et||null,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function safeDateFormat(b,$){var _e=$.dateFormat,et=$.locale;return b&&formatDate(b,Array.isArray(_e)?_e[0]:_e,et)||""}function safeDateRangeFormat(b,$,_e){if(!b)return"";var et=safeDateFormat(b,_e),tt=$?safeDateFormat($,_e):"";return"".concat(et," - ").concat(tt)}function safeMultipleDatesFormat(b,$){if(!(b!=null&&b.length))return"";var _e=safeDateFormat(b[0],$);if(b.length===1)return _e;if(b.length===2){var et=safeDateFormat(b[1],$);return"".concat(_e,", ").concat(et)}var tt=b.length-1;return"".concat(_e," (+").concat(tt,")")}function setTime(b,$){var _e=$.hour,et=_e===void 0?0:_e,tt=$.minute,nt=tt===void 0?0:tt,rt=$.second,ot=rt===void 0?0:rt;return setHours(setMinutes(setSeconds(b,ot),nt),et)}function getWeek(b,$){return getDefaultLocale()&&getLocaleObject(getDefaultLocale()),getISOWeek(b)}function getDayOfWeekCode(b,$){return formatDate(b,"ddd",$)}function getStartOfDay(b){return startOfDay(b)}function getStartOfWeek(b,$,_e){var et=getLocaleObject($||getDefaultLocale());return startOfWeek(b,{locale:et,weekStartsOn:_e})}function getStartOfMonth(b){return startOfMonth(b)}function getStartOfYear(b){return startOfYear(b)}function getStartOfQuarter(b){return startOfQuarter(b)}function getStartOfToday(){return startOfDay(newDate())}function getEndOfWeek(b){return endOfWeek(b)}function isSameYear(b,$){return b&&$?isSameYear$1(b,$):!b&&!$}function isSameMonth(b,$){return b&&$?isSameMonth$1(b,$):!b&&!$}function isSameQuarter(b,$){return b&&$?isSameQuarter$1(b,$):!b&&!$}function isSameDay(b,$){return b&&$?isSameDay$1(b,$):!b&&!$}function isEqual(b,$){return b&&$?isEqual$1(b,$):!b&&!$}function isDayInRange(b,$,_e){var et,tt=startOfDay($),nt=endOfDay(_e);try{et=isWithinInterval(b,{start:tt,end:nt})}catch{et=!1}return et}function getDefaultLocale(){var b=typeof window<"u"?window:globalThis;return b.__localeId__}function getLocaleObject(b){if(typeof b=="string"){var $=typeof window<"u"?window:globalThis;return $.__localeData__?$.__localeData__[b]:null}else return b}function getFormattedWeekdayInLocale(b,$,_e){return $(formatDate(b,"EEEE",_e))}function getWeekdayMinInLocale(b,$){return formatDate(b,"EEEEEE",$)}function getWeekdayShortInLocale(b,$){return formatDate(b,"EEE",$)}function getMonthInLocale(b,$){return formatDate(setMonth(newDate(),b),"LLLL",$)}function getMonthShortInLocale(b,$){return formatDate(setMonth(newDate(),b),"LLL",$)}function getQuarterShortInLocale(b,$){return formatDate(setQuarter(newDate(),b),"QQQ",$)}function isDayDisabled(b){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=$.minDate,et=$.maxDate,tt=$.excludeDates,nt=$.excludeDateIntervals,rt=$.includeDates,ot=$.includeDateIntervals,st=$.filterDate;return isOutOfBounds(b,{minDate:_e,maxDate:et})||tt&&tt.some(function(ct){return isSameDay(b,ct.date?ct.date:ct)})||nt&&nt.some(function(ct){var lt=ct.start,at=ct.end;return isWithinInterval(b,{start:lt,end:at})})||rt&&!rt.some(function(ct){return isSameDay(b,ct)})||ot&&!ot.some(function(ct){var lt=ct.start,at=ct.end;return isWithinInterval(b,{start:lt,end:at})})||st&&!st(newDate(b))||!1}function isDayExcluded(b){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=$.excludeDates,et=$.excludeDateIntervals;return et&&et.length>0?et.some(function(tt){var nt=tt.start,rt=tt.end;return isWithinInterval(b,{start:nt,end:rt})}):_e&&_e.some(function(tt){return isSameDay(b,tt.date?tt.date:tt)})||!1}function isMonthDisabled(b){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=$.minDate,et=$.maxDate,tt=$.excludeDates,nt=$.includeDates,rt=$.filterDate;return isOutOfBounds(b,{minDate:startOfMonth(_e),maxDate:endOfMonth(et)})||tt&&tt.some(function(ot){return isSameMonth(b,ot)})||nt&&!nt.some(function(ot){return isSameMonth(b,ot)})||rt&&!rt(newDate(b))||!1}function isMonthInRange(b,$,_e,et){var tt=getYear(b),nt=getMonth(b),rt=getYear($),ot=getMonth($),st=getYear(et);if(tt===rt&&tt===st)return nt<=_e&&_e<=ot;if(tt<rt)return st===tt&&nt<=_e||st===rt&&ot>=_e||st<rt&&st>tt}function isQuarterDisabled(b){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=$.minDate,et=$.maxDate,tt=$.excludeDates,nt=$.includeDates,rt=$.filterDate;return isOutOfBounds(b,{minDate:_e,maxDate:et})||tt&&tt.some(function(ot){return isSameQuarter(b,ot)})||nt&&!nt.some(function(ot){return isSameQuarter(b,ot)})||rt&&!rt(newDate(b))||!1}function isYearInRange(b,$,_e){if(!isValid$1($)||!isValid$1(_e))return!1;var et=getYear($),tt=getYear(_e);return et<=b&&tt>=b}function isYearDisabled(b){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=$.minDate,et=$.maxDate,tt=$.excludeDates,nt=$.includeDates,rt=$.filterDate,ot=new Date(b,0,1);return isOutOfBounds(ot,{minDate:startOfYear(_e),maxDate:endOfYear(et)})||tt&&tt.some(function(st){return isSameYear(ot,st)})||nt&&!nt.some(function(st){return isSameYear(ot,st)})||rt&&!rt(newDate(ot))||!1}function isQuarterInRange(b,$,_e,et){var tt=getYear(b),nt=getQuarter(b),rt=getYear($),ot=getQuarter($),st=getYear(et);if(tt===rt&&tt===st)return nt<=_e&&_e<=ot;if(tt<rt)return st===tt&&nt<=_e||st===rt&&ot>=_e||st<rt&&st>tt}function isOutOfBounds(b){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=$.minDate,et=$.maxDate;return _e&&differenceInCalendarDays(b,_e)<0||et&&differenceInCalendarDays(b,et)>0}function isTimeInList(b,$){return $.some(function(_e){return getHours(_e)===getHours(b)&&getMinutes(_e)===getMinutes(b)&&getSeconds(_e)===getSeconds(b)})}function isTimeDisabled(b){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=$.excludeTimes,et=$.includeTimes,tt=$.filterTime;return _e&&isTimeInList(b,_e)||et&&!isTimeInList(b,et)||tt&&!tt(b)||!1}function isTimeInDisabledRange(b,$){var _e=$.minTime,et=$.maxTime;if(!_e||!et)throw new Error("Both minTime and maxTime props required");var tt=newDate();tt=setHours(tt,getHours(b)),tt=setMinutes(tt,getMinutes(b)),tt=setSeconds(tt,getSeconds(b));var nt=newDate();nt=setHours(nt,getHours(_e)),nt=setMinutes(nt,getMinutes(_e)),nt=setSeconds(nt,getSeconds(_e));var rt=newDate();rt=setHours(rt,getHours(et)),rt=setMinutes(rt,getMinutes(et)),rt=setSeconds(rt,getSeconds(et));var ot;try{ot=!isWithinInterval(tt,{start:nt,end:rt})}catch{ot=!1}return ot}function monthDisabledBefore(b){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=$.minDate,et=$.includeDates,tt=subMonths(b,1);return _e&&differenceInCalendarMonths(_e,tt)>0||et&&et.every(function(nt){return differenceInCalendarMonths(nt,tt)>0})||!1}function monthDisabledAfter(b){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=$.maxDate,et=$.includeDates,tt=addMonths(b,1);return _e&&differenceInCalendarMonths(tt,_e)>0||et&&et.every(function(nt){return differenceInCalendarMonths(tt,nt)>0})||!1}function quarterDisabledBefore(b){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=$.minDate,et=$.includeDates,tt=startOfYear(b),nt=subQuarters(tt,1);return _e&&differenceInCalendarQuarters(_e,nt)>0||et&&et.every(function(rt){return differenceInCalendarQuarters(rt,nt)>0})||!1}function quarterDisabledAfter(b){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=$.maxDate,et=$.includeDates,tt=endOfYear(b),nt=addQuarters(tt,1);return _e&&differenceInCalendarQuarters(nt,_e)>0||et&&et.every(function(rt){return differenceInCalendarQuarters(nt,rt)>0})||!1}function yearDisabledBefore(b){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=$.minDate,et=$.includeDates,tt=subYears(b,1);return _e&&differenceInCalendarYears(_e,tt)>0||et&&et.every(function(nt){return differenceInCalendarYears(nt,tt)>0})||!1}function yearsDisabledBefore(b){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=$.minDate,et=$.yearItemNumber,tt=et===void 0?DEFAULT_YEAR_ITEM_NUMBER:et,nt=getStartOfYear(subYears(b,tt)),rt=getYearsPeriod(nt,tt),ot=rt.endPeriod,st=_e&&getYear(_e);return st&&st>ot||!1}function yearDisabledAfter(b){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=$.maxDate,et=$.includeDates,tt=addYears(b,1);return _e&&differenceInCalendarYears(tt,_e)>0||et&&et.every(function(nt){return differenceInCalendarYears(tt,nt)>0})||!1}function yearsDisabledAfter(b){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_e=$.maxDate,et=$.yearItemNumber,tt=et===void 0?DEFAULT_YEAR_ITEM_NUMBER:et,nt=addYears(b,tt),rt=getYearsPeriod(nt,tt),ot=rt.startPeriod,st=_e&&getYear(_e);return st&&st<ot||!1}function getEffectiveMinDate(b){var $=b.minDate,_e=b.includeDates;if(_e&&$){var et=_e.filter(function(tt){return differenceInCalendarDays(tt,$)>=0});return min$1(et)}else return _e?min$1(_e):$}function getEffectiveMaxDate(b){var $=b.maxDate,_e=b.includeDates;if(_e&&$){var et=_e.filter(function(tt){return differenceInCalendarDays(tt,$)<=0});return max$1(et)}else return _e?max$1(_e):$}function getHightLightDaysMap(){for(var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",_e=new Map,et=0,tt=b.length;et<tt;et++){var nt=b[et];if(isDate(nt)){var rt=formatDate(nt,"MM.dd.yyyy"),ot=_e.get(rt)||[];ot.includes($)||(ot.push($),_e.set(rt,ot))}else if(_typeof(nt)==="object"){var st=Object.keys(nt),ct=st[0],lt=nt[st[0]];if(typeof ct=="string"&&lt.constructor===Array)for(var at=0,it=lt.length;at<it;at++){var ut=formatDate(lt[at],"MM.dd.yyyy"),dt=_e.get(ut)||[];dt.includes(ct)||(dt.push(ct),_e.set(ut,dt))}}}return _e}function arraysAreEqual(b,$){return b.length!==$.length?!1:b.every(function(_e,et){return _e===$[et]})}function getHolidaysMap(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--holidays",_e=new Map;return b.forEach(function(et){var tt=et.date,nt=et.holidayName;if(isDate(tt)){var rt=formatDate(tt,"MM.dd.yyyy"),ot=_e.get(rt)||{};if(!("className"in ot&&ot.className===$&&arraysAreEqual(ot.holidayNames,[nt]))){ot.className=$;var st=ot.holidayNames;ot.holidayNames=st?[].concat(_toConsumableArray(st),[nt]):[nt],_e.set(rt,ot)}}}),_e}function timesToInjectAfter(b,$,_e,et,tt){for(var nt=tt.length,rt=[],ot=0;ot<nt;ot++){var st=b;st=addHours(st,getHours(tt[ot])),st=addMinutes(st,getMinutes(tt[ot])),st=addSeconds(st,getSeconds(tt[ot]));var ct=addMinutes(b,(_e+1)*et);isAfter(st,$)&&isBefore(st,ct)&&rt.push(tt[ot])}return rt}function addZero(b){return b<10?"0".concat(b):"".concat(b)}function getYearsPeriod(b){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:DEFAULT_YEAR_ITEM_NUMBER,_e=Math.ceil(getYear(b)/$)*$,et=_e-($-1);return{startPeriod:et,endPeriod:_e}}function getHoursInDay(b){var $=new Date(b.getFullYear(),b.getMonth(),b.getDate()),_e=new Date(b.getFullYear(),b.getMonth(),b.getDate(),24);return Math.round((+_e-+$)/36e5)}function startOfMinute(b){var $=b.getSeconds(),_e=b.getMilliseconds();return toDate(b.getTime()-$*1e3-_e)}function isSameMinute(b,$){return startOfMinute(b).getTime()===startOfMinute($).getTime()}function getMidnightDate(b){if(!isDate(b))throw new Error("Invalid date");var $=new Date(b);return $.setHours(0,0,0,0),$}function isDateBefore(b,$){if(!isDate(b)||!isDate($))throw new Error("Invalid date received");var _e=getMidnightDate(b),et=getMidnightDate($);return isBefore(_e,et)}function isSpaceKeyDown(b){var $=" ";return b.key===$}function generateYears(b,$,_e,et){for(var tt=[],nt=0;nt<2*$+1;nt++){var rt=b+$-nt,ot=!0;_e&&(ot=getYear(_e)<=rt),et&&ot&&(ot=getYear(et)>=rt),ot&&tt.push(rt)}return tt}var YearDropdownOptions=function(b){function $(_e){var et;_classCallCheck(this,$),et=_callSuper(this,$,[_e]),_defineProperty(et,"renderOptions",function(){var ot=et.props.year,st=et.state.yearsList.map(function(at){return React.createElement("div",{className:ot===at?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:at,onClick:et.onChange.bind(et,at),"aria-selected":ot===at?"true":void 0},ot===at?React.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",at)}),ct=et.props.minDate?getYear(et.props.minDate):null,lt=et.props.maxDate?getYear(et.props.maxDate):null;return(!lt||!et.state.yearsList.find(function(at){return at===lt}))&&st.unshift(React.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:et.incrementYears},React.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!ct||!et.state.yearsList.find(function(at){return at===ct}))&&st.push(React.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:et.decrementYears},React.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),st}),_defineProperty(et,"onChange",function(ot){et.props.onChange(ot)}),_defineProperty(et,"handleClickOutside",function(){et.props.onCancel()}),_defineProperty(et,"shiftYears",function(ot){var st=et.state.yearsList.map(function(ct){return ct+ot});et.setState({yearsList:st})}),_defineProperty(et,"incrementYears",function(){return et.shiftYears(1)}),_defineProperty(et,"decrementYears",function(){return et.shiftYears(-1)});var tt=_e.yearDropdownItemNumber,nt=_e.scrollableYearDropdown,rt=tt||(nt?10:5);return et.state={yearsList:generateYears(et.props.year,rt,et.props.minDate,et.props.maxDate)},et.dropdownRef=reactExports.createRef(),et}return _inherits($,b),_createClass($,[{key:"componentDidMount",value:function(){var et=this.dropdownRef.current;if(et){var tt=et.children?Array.from(et.children):null,nt=tt?tt.find(function(rt){return rt.ariaSelected}):null;et.scrollTop=nt?nt.offsetTop+(nt.clientHeight-et.clientHeight)/2:(et.scrollHeight-et.clientHeight)/2}}},{key:"render",value:function(){var et=clsx({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return React.createElement("div",{className:et,ref:this.dropdownRef},this.renderOptions())}}])}(React.Component),WrappedYearDropdownOptions=onClickOutsideHOC(YearDropdownOptions),YearDropdown=function(b){function $(){var _e;_classCallCheck(this,$);for(var et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];return _e=_callSuper(this,$,[].concat(tt)),_defineProperty(_e,"state",{dropdownVisible:!1}),_defineProperty(_e,"renderSelectOptions",function(){for(var rt=_e.props.minDate?getYear(_e.props.minDate):1900,ot=_e.props.maxDate?getYear(_e.props.maxDate):2100,st=[],ct=rt;ct<=ot;ct++)st.push(React.createElement("option",{key:ct,value:ct},ct));return st}),_defineProperty(_e,"onSelectChange",function(rt){_e.onChange(rt.target.value)}),_defineProperty(_e,"renderSelectMode",function(){return React.createElement("select",{value:_e.props.year,className:"react-datepicker__year-select",onChange:_e.onSelectChange},_e.renderSelectOptions())}),_defineProperty(_e,"renderReadView",function(rt){return React.createElement("div",{key:"read",style:{visibility:rt?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(st){return _e.toggleDropdown(st)}},React.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),React.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},_e.props.year))}),_defineProperty(_e,"renderDropdown",function(){return React.createElement(WrappedYearDropdownOptions,{key:"dropdown",year:_e.props.year,onChange:_e.onChange,onCancel:_e.toggleDropdown,minDate:_e.props.minDate,maxDate:_e.props.maxDate,scrollableYearDropdown:_e.props.scrollableYearDropdown,yearDropdownItemNumber:_e.props.yearDropdownItemNumber})}),_defineProperty(_e,"renderScrollMode",function(){var rt=_e.state.dropdownVisible,ot=[_e.renderReadView(!rt)];return rt&&ot.unshift(_e.renderDropdown()),ot}),_defineProperty(_e,"onChange",function(rt){_e.toggleDropdown(),rt!==_e.props.year&&_e.props.onChange(rt)}),_defineProperty(_e,"toggleDropdown",function(rt){_e.setState({dropdownVisible:!_e.state.dropdownVisible},function(){_e.props.adjustDateOnChange&&_e.handleYearChange(_e.props.date,rt)})}),_defineProperty(_e,"handleYearChange",function(rt,ot){_e.onSelect(rt,ot),_e.setOpen()}),_defineProperty(_e,"onSelect",function(rt,ot){_e.props.onSelect&&_e.props.onSelect(rt,ot)}),_defineProperty(_e,"setOpen",function(){_e.props.setOpen&&_e.props.setOpen(!0)}),_e}return _inherits($,b),_createClass($,[{key:"render",value:function(){var et;switch(this.props.dropdownMode){case"scroll":et=this.renderScrollMode();break;case"select":et=this.renderSelectMode();break}return React.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},et)}}])}(React.Component),MonthDropdownOptions=function(b){function $(){var _e;_classCallCheck(this,$);for(var et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];return _e=_callSuper(this,$,[].concat(tt)),_defineProperty(_e,"isSelectedMonth",function(rt){return _e.props.month===rt}),_defineProperty(_e,"renderOptions",function(){return _e.props.monthNames.map(function(rt,ot){return React.createElement("div",{className:_e.isSelectedMonth(ot)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:rt,onClick:_e.onChange.bind(_e,ot),"aria-selected":_e.isSelectedMonth(ot)?"true":void 0},_e.isSelectedMonth(ot)?React.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",rt)})}),_defineProperty(_e,"onChange",function(rt){return _e.props.onChange(rt)}),_defineProperty(_e,"handleClickOutside",function(){return _e.props.onCancel()}),_e}return _inherits($,b),_createClass($,[{key:"render",value:function(){return React.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}])}(React.Component),WrappedMonthDropdownOptions=onClickOutsideHOC(MonthDropdownOptions),MonthDropdown=function(b){function $(){var _e;_classCallCheck(this,$);for(var et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];return _e=_callSuper(this,$,[].concat(tt)),_defineProperty(_e,"state",{dropdownVisible:!1}),_defineProperty(_e,"renderSelectOptions",function(rt){return rt.map(function(ot,st){return React.createElement("option",{key:st,value:st},ot)})}),_defineProperty(_e,"renderSelectMode",function(rt){return React.createElement("select",{value:_e.props.month,className:"react-datepicker__month-select",onChange:function(st){return _e.onChange(st.target.value)}},_e.renderSelectOptions(rt))}),_defineProperty(_e,"renderReadView",function(rt,ot){return React.createElement("div",{key:"read",style:{visibility:rt?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:_e.toggleDropdown},React.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),React.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},ot[_e.props.month]))}),_defineProperty(_e,"renderDropdown",function(rt){return React.createElement(WrappedMonthDropdownOptions,{key:"dropdown",month:_e.props.month,monthNames:rt,onChange:_e.onChange,onCancel:_e.toggleDropdown})}),_defineProperty(_e,"renderScrollMode",function(rt){var ot=_e.state.dropdownVisible,st=[_e.renderReadView(!ot,rt)];return ot&&st.unshift(_e.renderDropdown(rt)),st}),_defineProperty(_e,"onChange",function(rt){_e.toggleDropdown(),rt!==_e.props.month&&_e.props.onChange(rt)}),_defineProperty(_e,"toggleDropdown",function(){return _e.setState({dropdownVisible:!_e.state.dropdownVisible})}),_e}return _inherits($,b),_createClass($,[{key:"render",value:function(){var et=this,tt=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(rt){return getMonthShortInLocale(rt,et.props.locale)}:function(rt){return getMonthInLocale(rt,et.props.locale)}),nt;switch(this.props.dropdownMode){case"scroll":nt=this.renderScrollMode(tt);break;case"select":nt=this.renderSelectMode(tt);break}return React.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},nt)}}])}(React.Component);function generateMonthYears(b,$){for(var _e=[],et=getStartOfMonth(b),tt=getStartOfMonth($);!isAfter(et,tt);)_e.push(newDate(et)),et=addMonths(et,1);return _e}var MonthYearDropdownOptions=function(b){function $(_e){var et;return _classCallCheck(this,$),et=_callSuper(this,$,[_e]),_defineProperty(et,"renderOptions",function(){return et.state.monthYearsList.map(function(tt){var nt=getTime(tt),rt=isSameYear(et.props.date,tt)&&isSameMonth(et.props.date,tt);return React.createElement("div",{className:rt?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:nt,onClick:et.onChange.bind(et,nt),"aria-selected":rt?"true":void 0},rt?React.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",formatDate(tt,et.props.dateFormat,et.props.locale))})}),_defineProperty(et,"onChange",function(tt){return et.props.onChange(tt)}),_defineProperty(et,"handleClickOutside",function(){et.props.onCancel()}),et.state={monthYearsList:generateMonthYears(et.props.minDate,et.props.maxDate)},et}return _inherits($,b),_createClass($,[{key:"render",value:function(){var et=clsx({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return React.createElement("div",{className:et},this.renderOptions())}}])}(React.Component),WrappedMonthYearDropdownOptions=onClickOutsideHOC(MonthYearDropdownOptions),MonthYearDropdown=function(b){function $(){var _e;_classCallCheck(this,$);for(var et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];return _e=_callSuper(this,$,[].concat(tt)),_defineProperty(_e,"state",{dropdownVisible:!1}),_defineProperty(_e,"renderSelectOptions",function(){for(var rt=getStartOfMonth(_e.props.minDate),ot=getStartOfMonth(_e.props.maxDate),st=[];!isAfter(rt,ot);){var ct=getTime(rt);st.push(React.createElement("option",{key:ct,value:ct},formatDate(rt,_e.props.dateFormat,_e.props.locale))),rt=addMonths(rt,1)}return st}),_defineProperty(_e,"onSelectChange",function(rt){_e.onChange(rt.target.value)}),_defineProperty(_e,"renderSelectMode",function(){return React.createElement("select",{value:getTime(getStartOfMonth(_e.props.date)),className:"react-datepicker__month-year-select",onChange:_e.onSelectChange},_e.renderSelectOptions())}),_defineProperty(_e,"renderReadView",function(rt){var ot=formatDate(_e.props.date,_e.props.dateFormat,_e.props.locale);return React.createElement("div",{key:"read",style:{visibility:rt?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(ct){return _e.toggleDropdown(ct)}},React.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),React.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},ot))}),_defineProperty(_e,"renderDropdown",function(){return React.createElement(WrappedMonthYearDropdownOptions,{key:"dropdown",date:_e.props.date,dateFormat:_e.props.dateFormat,onChange:_e.onChange,onCancel:_e.toggleDropdown,minDate:_e.props.minDate,maxDate:_e.props.maxDate,scrollableMonthYearDropdown:_e.props.scrollableMonthYearDropdown,locale:_e.props.locale})}),_defineProperty(_e,"renderScrollMode",function(){var rt=_e.state.dropdownVisible,ot=[_e.renderReadView(!rt)];return rt&&ot.unshift(_e.renderDropdown()),ot}),_defineProperty(_e,"onChange",function(rt){_e.toggleDropdown();var ot=newDate(parseInt(rt));isSameYear(_e.props.date,ot)&&isSameMonth(_e.props.date,ot)||_e.props.onChange(ot)}),_defineProperty(_e,"toggleDropdown",function(){return _e.setState({dropdownVisible:!_e.state.dropdownVisible})}),_e}return _inherits($,b),_createClass($,[{key:"render",value:function(){var et;switch(this.props.dropdownMode){case"scroll":et=this.renderScrollMode();break;case"select":et=this.renderSelectMode();break}return React.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},et)}}])}(React.Component),Day=function(b){function $(){var _e;_classCallCheck(this,$);for(var et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];return _e=_callSuper(this,$,[].concat(tt)),_defineProperty(_e,"dayEl",React.createRef()),_defineProperty(_e,"handleClick",function(rt){!_e.isDisabled()&&_e.props.onClick&&_e.props.onClick(rt)}),_defineProperty(_e,"handleMouseEnter",function(rt){!_e.isDisabled()&&_e.props.onMouseEnter&&_e.props.onMouseEnter(rt)}),_defineProperty(_e,"handleOnKeyDown",function(rt){var ot=rt.key;ot===" "&&(rt.preventDefault(),rt.key="Enter"),_e.props.handleOnKeyDown(rt)}),_defineProperty(_e,"isSameDay",function(rt){return isSameDay(_e.props.day,rt)}),_defineProperty(_e,"isKeyboardSelected",function(){var rt;if(_e.props.disabledKeyboardNavigation)return!1;var ot=_e.props.selectsMultiple?(rt=_e.props.selectedDates)===null||rt===void 0?void 0:rt.some(function(st){return _e.isSameDayOrWeek(st)}):_e.isSameDayOrWeek(_e.props.selected);return!ot&&_e.isSameDayOrWeek(_e.props.preSelection)}),_defineProperty(_e,"isDisabled",function(){return isDayDisabled(_e.props.day,_e.props)}),_defineProperty(_e,"isExcluded",function(){return isDayExcluded(_e.props.day,_e.props)}),_defineProperty(_e,"isStartOfWeek",function(){return isSameDay(_e.props.day,getStartOfWeek(_e.props.day,_e.props.locale,_e.props.calendarStartDay))}),_defineProperty(_e,"isSameWeek",function(rt){return _e.props.showWeekPicker&&isSameDay(rt,getStartOfWeek(_e.props.day,_e.props.locale,_e.props.calendarStartDay))}),_defineProperty(_e,"isSameDayOrWeek",function(rt){return _e.isSameDay(rt)||_e.isSameWeek(rt)}),_defineProperty(_e,"getHighLightedClass",function(){var rt=_e.props,ot=rt.day,st=rt.highlightDates;if(!st)return!1;var ct=formatDate(ot,"MM.dd.yyyy");return st.get(ct)}),_defineProperty(_e,"getHolidaysClass",function(){var rt=_e.props,ot=rt.day,st=rt.holidays;if(!st)return!1;var ct=formatDate(ot,"MM.dd.yyyy");if(st.has(ct))return[st.get(ct).className]}),_defineProperty(_e,"isInRange",function(){var rt=_e.props,ot=rt.day,st=rt.startDate,ct=rt.endDate;return!st||!ct?!1:isDayInRange(ot,st,ct)}),_defineProperty(_e,"isInSelectingRange",function(){var rt,ot=_e.props,st=ot.day,ct=ot.selectsStart,lt=ot.selectsEnd,at=ot.selectsRange,it=ot.selectsDisabledDaysInRange,ut=ot.startDate,dt=ot.endDate,ht=(rt=_e.props.selectingDate)!==null&&rt!==void 0?rt:_e.props.preSelection;return!(ct||lt||at)||!ht||!it&&_e.isDisabled()?!1:ct&&dt&&(isBefore(ht,dt)||isEqual(ht,dt))?isDayInRange(st,ht,dt):lt&&ut&&(isAfter(ht,ut)||isEqual(ht,ut))||at&&ut&&!dt&&(isAfter(ht,ut)||isEqual(ht,ut))?isDayInRange(st,ut,ht):!1}),_defineProperty(_e,"isSelectingRangeStart",function(){var rt;if(!_e.isInSelectingRange())return!1;var ot=_e.props,st=ot.day,ct=ot.startDate,lt=ot.selectsStart,at=(rt=_e.props.selectingDate)!==null&&rt!==void 0?rt:_e.props.preSelection;return lt?isSameDay(st,at):isSameDay(st,ct)}),_defineProperty(_e,"isSelectingRangeEnd",function(){var rt;if(!_e.isInSelectingRange())return!1;var ot=_e.props,st=ot.day,ct=ot.endDate,lt=ot.selectsEnd,at=ot.selectsRange,it=(rt=_e.props.selectingDate)!==null&&rt!==void 0?rt:_e.props.preSelection;return lt||at?isSameDay(st,it):isSameDay(st,ct)}),_defineProperty(_e,"isRangeStart",function(){var rt=_e.props,ot=rt.day,st=rt.startDate,ct=rt.endDate;return!st||!ct?!1:isSameDay(st,ot)}),_defineProperty(_e,"isRangeEnd",function(){var rt=_e.props,ot=rt.day,st=rt.startDate,ct=rt.endDate;return!st||!ct?!1:isSameDay(ct,ot)}),_defineProperty(_e,"isWeekend",function(){var rt=getDay(_e.props.day);return rt===0||rt===6}),_defineProperty(_e,"isAfterMonth",function(){return _e.props.month!==void 0&&(_e.props.month+1)%12===getMonth(_e.props.day)}),_defineProperty(_e,"isBeforeMonth",function(){return _e.props.month!==void 0&&(getMonth(_e.props.day)+1)%12===_e.props.month}),_defineProperty(_e,"isCurrentDay",function(){return _e.isSameDay(newDate())}),_defineProperty(_e,"isSelected",function(){if(_e.props.selectsMultiple){var rt;return(rt=_e.props.selectedDates)===null||rt===void 0?void 0:rt.some(function(ot){return _e.isSameDayOrWeek(ot)})}return _e.isSameDayOrWeek(_e.props.selected)}),_defineProperty(_e,"getClassNames",function(rt){var ot=_e.props.dayClassName?_e.props.dayClassName(rt):void 0;return clsx("react-datepicker__day",ot,"react-datepicker__day--"+getDayOfWeekCode(_e.props.day),{"react-datepicker__day--disabled":_e.isDisabled(),"react-datepicker__day--excluded":_e.isExcluded(),"react-datepicker__day--selected":_e.isSelected(),"react-datepicker__day--keyboard-selected":_e.isKeyboardSelected(),"react-datepicker__day--range-start":_e.isRangeStart(),"react-datepicker__day--range-end":_e.isRangeEnd(),"react-datepicker__day--in-range":_e.isInRange(),"react-datepicker__day--in-selecting-range":_e.isInSelectingRange(),"react-datepicker__day--selecting-range-start":_e.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":_e.isSelectingRangeEnd(),"react-datepicker__day--today":_e.isCurrentDay(),"react-datepicker__day--weekend":_e.isWeekend(),"react-datepicker__day--outside-month":_e.isAfterMonth()||_e.isBeforeMonth()},_e.getHighLightedClass("react-datepicker__day--highlighted"),_e.getHolidaysClass())}),_defineProperty(_e,"getAriaLabel",function(){var rt=_e.props,ot=rt.day,st=rt.ariaLabelPrefixWhenEnabled,ct=st===void 0?"Choose":st,lt=rt.ariaLabelPrefixWhenDisabled,at=lt===void 0?"Not available":lt,it=_e.isDisabled()||_e.isExcluded()?at:ct;return"".concat(it," ").concat(formatDate(ot,"PPPP",_e.props.locale))}),_defineProperty(_e,"getTitle",function(){var rt=_e.props,ot=rt.day,st=rt.holidays,ct=st===void 0?new Map:st,lt=rt.excludeDates,at=formatDate(ot,"MM.dd.yyyy"),it=[];return ct.has(at)&&it.push.apply(it,_toConsumableArray(ct.get(at).holidayNames)),_e.isExcluded()&&it.push(lt==null?void 0:lt.filter(function(ut){return isSameDay(ut.date?ut.date:ut,ot)}).map(function(ut){return ut.message})),it.join(", ")}),_defineProperty(_e,"getTabIndex",function(rt,ot){var st=rt||_e.props.selected,ct=ot||_e.props.preSelection,lt=!(_e.props.showWeekPicker&&(_e.props.showWeekNumber||!_e.isStartOfWeek()))&&(_e.isKeyboardSelected()||_e.isSameDay(st)&&isSameDay(ct,st))?0:-1;return lt}),_defineProperty(_e,"handleFocusDay",function(){var rt,ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},st=!1;_e.getTabIndex()===0&&!ot.isInputFocused&&_e.isSameDay(_e.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(st=!0),_e.props.inline&&!_e.props.shouldFocusDayInline&&(st=!1),_e.props.containerRef&&_e.props.containerRef.current&&_e.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(st=!0),_e.props.monthShowsDuplicateDaysEnd&&_e.isAfterMonth()&&(st=!1),_e.props.monthShowsDuplicateDaysStart&&_e.isBeforeMonth()&&(st=!1)),st&&((rt=_e.dayEl.current)===null||rt===void 0||rt.focus({preventScroll:!0}))}),_defineProperty(_e,"renderDayContents",function(){return _e.props.monthShowsDuplicateDaysEnd&&_e.isAfterMonth()||_e.props.monthShowsDuplicateDaysStart&&_e.isBeforeMonth()?null:_e.props.renderDayContents?_e.props.renderDayContents(getDate(_e.props.day),_e.props.day):getDate(_e.props.day)}),_defineProperty(_e,"render",function(){return React.createElement("div",{ref:_e.dayEl,className:_e.getClassNames(_e.props.day),onKeyDown:_e.handleOnKeyDown,onClick:_e.handleClick,onMouseEnter:_e.props.usePointerEvent?void 0:_e.handleMouseEnter,onPointerEnter:_e.props.usePointerEvent?_e.handleMouseEnter:void 0,tabIndex:_e.getTabIndex(),"aria-label":_e.getAriaLabel(),role:"option",title:_e.getTitle(),"aria-disabled":_e.isDisabled(),"aria-current":_e.isCurrentDay()?"date":void 0,"aria-selected":_e.isSelected()||_e.isInRange()},_e.renderDayContents(),_e.getTitle()!==""&&React.createElement("span",{className:"overlay"},_e.getTitle()))}),_e}return _inherits($,b),_createClass($,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(et){this.handleFocusDay(et)}}])}(React.Component),WeekNumber=function(b){function $(){var _e;_classCallCheck(this,$);for(var et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];return _e=_callSuper(this,$,[].concat(tt)),_defineProperty(_e,"weekNumberEl",React.createRef()),_defineProperty(_e,"handleClick",function(rt){_e.props.onClick&&_e.props.onClick(rt)}),_defineProperty(_e,"handleOnKeyDown",function(rt){var ot=rt.key;ot===" "&&(rt.preventDefault(),rt.key="Enter"),_e.props.handleOnKeyDown(rt)}),_defineProperty(_e,"isKeyboardSelected",function(){return!_e.props.disabledKeyboardNavigation&&!isSameDay(_e.props.date,_e.props.selected)&&isSameDay(_e.props.date,_e.props.preSelection)}),_defineProperty(_e,"getTabIndex",function(){return _e.props.showWeekPicker&&_e.props.showWeekNumber&&(_e.isKeyboardSelected()||isSameDay(_e.props.date,_e.props.selected)&&isSameDay(_e.props.preSelection,_e.props.selected))?0:-1}),_defineProperty(_e,"handleFocusWeekNumber",function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ot=!1;_e.getTabIndex()===0&&!rt.isInputFocused&&isSameDay(_e.props.date,_e.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(ot=!0),_e.props.inline&&!_e.props.shouldFocusDayInline&&(ot=!1),_e.props.containerRef&&_e.props.containerRef.current&&_e.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(ot=!0)),ot&&_e.weekNumberEl.current&&_e.weekNumberEl.current.focus({preventScroll:!0})}),_e}return _inherits($,b),_createClass($,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(et){this.handleFocusWeekNumber(et)}},{key:"render",value:function(){var et=this.props,tt=et.weekNumber,nt=et.ariaLabelPrefix,rt=nt===void 0?"week ":nt,ot=et.onClick,st={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!ot,"react-datepicker__week-number--selected":!!ot&&isSameDay(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return React.createElement("div",{ref:this.weekNumberEl,className:clsx(st),"aria-label":"".concat(rt," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},tt)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}])}(React.Component),Week=function(b){function $(){var _e;_classCallCheck(this,$);for(var et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];return _e=_callSuper(this,$,[].concat(tt)),_defineProperty(_e,"handleDayClick",function(rt,ot){_e.props.onDayClick&&_e.props.onDayClick(rt,ot)}),_defineProperty(_e,"handleDayMouseEnter",function(rt){_e.props.onDayMouseEnter&&_e.props.onDayMouseEnter(rt)}),_defineProperty(_e,"handleWeekClick",function(rt,ot,st){typeof _e.props.onWeekSelect=="function"&&_e.props.onWeekSelect(rt,ot,st),_e.props.showWeekPicker&&_e.handleDayClick(rt,st),_e.props.shouldCloseOnSelect&&_e.props.setOpen(!1)}),_defineProperty(_e,"formatWeekNumber",function(rt){return _e.props.formatWeekNumber?_e.props.formatWeekNumber(rt):getWeek(rt)}),_defineProperty(_e,"renderDays",function(){var rt=_e.startOfWeek(),ot=[],st=_e.formatWeekNumber(rt);if(_e.props.showWeekNumber){var ct=_e.props.onWeekSelect||_e.props.showWeekPicker?_e.handleWeekClick.bind(_e,rt,st):void 0;ot.push(React.createElement(WeekNumber,{key:"W",weekNumber:st,date:rt,onClick:ct,selected:_e.props.selected,preSelection:_e.props.preSelection,ariaLabelPrefix:_e.props.ariaLabelPrefix,showWeekPicker:_e.props.showWeekPicker,showWeekNumber:_e.props.showWeekNumber,disabledKeyboardNavigation:_e.props.disabledKeyboardNavigation,handleOnKeyDown:_e.props.handleOnKeyDown,isInputFocused:_e.props.isInputFocused,containerRef:_e.props.containerRef}))}return ot.concat([0,1,2,3,4,5,6].map(function(lt){var at=addDays(rt,lt);return React.createElement(Day,{ariaLabelPrefixWhenEnabled:_e.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:_e.props.disabledDayAriaLabelPrefix,key:at.valueOf(),day:at,month:_e.props.month,onClick:_e.handleDayClick.bind(_e,at),usePointerEvent:_e.props.usePointerEvent,onMouseEnter:_e.handleDayMouseEnter.bind(_e,at),minDate:_e.props.minDate,maxDate:_e.props.maxDate,calendarStartDay:_e.props.calendarStartDay,excludeDates:_e.props.excludeDates,excludeDateIntervals:_e.props.excludeDateIntervals,includeDates:_e.props.includeDates,includeDateIntervals:_e.props.includeDateIntervals,highlightDates:_e.props.highlightDates,holidays:_e.props.holidays,selectingDate:_e.props.selectingDate,filterDate:_e.props.filterDate,preSelection:_e.props.preSelection,selected:_e.props.selected,selectsStart:_e.props.selectsStart,selectsEnd:_e.props.selectsEnd,selectsRange:_e.props.selectsRange,showWeekPicker:_e.props.showWeekPicker,showWeekNumber:_e.props.showWeekNumber,selectsDisabledDaysInRange:_e.props.selectsDisabledDaysInRange,selectsMultiple:_e.props.selectsMultiple,selectedDates:_e.props.selectedDates,startDate:_e.props.startDate,endDate:_e.props.endDate,dayClassName:_e.props.dayClassName,renderDayContents:_e.props.renderDayContents,disabledKeyboardNavigation:_e.props.disabledKeyboardNavigation,handleOnKeyDown:_e.props.handleOnKeyDown,isInputFocused:_e.props.isInputFocused,containerRef:_e.props.containerRef,inline:_e.props.inline,shouldFocusDayInline:_e.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:_e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:_e.props.monthShowsDuplicateDaysStart,locale:_e.props.locale})}))}),_defineProperty(_e,"startOfWeek",function(){return getStartOfWeek(_e.props.day,_e.props.locale,_e.props.calendarStartDay)}),_defineProperty(_e,"isKeyboardSelected",function(){return!_e.props.disabledKeyboardNavigation&&!isSameDay(_e.startOfWeek(),_e.props.selected)&&isSameDay(_e.startOfWeek(),_e.props.preSelection)}),_e}return _inherits($,b),_createClass($,[{key:"render",value:function(){var et={"react-datepicker__week":!0,"react-datepicker__week--selected":isSameDay(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return React.createElement("div",{className:clsx(et)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}])}(React.Component),FIXED_HEIGHT_STANDARD_WEEK_COUNT=6,MONTH_COLUMNS_LAYOUT={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},MONTH_COLUMNS=_defineProperty(_defineProperty(_defineProperty({},MONTH_COLUMNS_LAYOUT.TWO_COLUMNS,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),MONTH_COLUMNS_LAYOUT.THREE_COLUMNS,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),MONTH_COLUMNS_LAYOUT.FOUR_COLUMNS,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4}),MONTH_NAVIGATION_HORIZONTAL_OFFSET=1;function getMonthColumnsLayout(b,$){return b?MONTH_COLUMNS_LAYOUT.FOUR_COLUMNS:$?MONTH_COLUMNS_LAYOUT.TWO_COLUMNS:MONTH_COLUMNS_LAYOUT.THREE_COLUMNS}var Month=function(b){function $(){var _e;_classCallCheck(this,$);for(var et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];return _e=_callSuper(this,$,[].concat(tt)),_defineProperty(_e,"MONTH_REFS",_toConsumableArray(Array(12)).map(function(){return React.createRef()})),_defineProperty(_e,"QUARTER_REFS",_toConsumableArray(Array(4)).map(function(){return React.createRef()})),_defineProperty(_e,"isDisabled",function(rt){return isDayDisabled(rt,_e.props)}),_defineProperty(_e,"isExcluded",function(rt){return isDayExcluded(rt,_e.props)}),_defineProperty(_e,"handleDayClick",function(rt,ot){_e.props.onDayClick&&_e.props.onDayClick(rt,ot,_e.props.orderInDisplay)}),_defineProperty(_e,"handleDayMouseEnter",function(rt){_e.props.onDayMouseEnter&&_e.props.onDayMouseEnter(rt)}),_defineProperty(_e,"handleMouseLeave",function(){_e.props.onMouseLeave&&_e.props.onMouseLeave()}),_defineProperty(_e,"isRangeStartMonth",function(rt){var ot=_e.props,st=ot.day,ct=ot.startDate,lt=ot.endDate;return!ct||!lt?!1:isSameMonth(setMonth(st,rt),ct)}),_defineProperty(_e,"isRangeStartQuarter",function(rt){var ot=_e.props,st=ot.day,ct=ot.startDate,lt=ot.endDate;return!ct||!lt?!1:isSameQuarter(setQuarter(st,rt),ct)}),_defineProperty(_e,"isRangeEndMonth",function(rt){var ot=_e.props,st=ot.day,ct=ot.startDate,lt=ot.endDate;return!ct||!lt?!1:isSameMonth(setMonth(st,rt),lt)}),_defineProperty(_e,"isRangeEndQuarter",function(rt){var ot=_e.props,st=ot.day,ct=ot.startDate,lt=ot.endDate;return!ct||!lt?!1:isSameQuarter(setQuarter(st,rt),lt)}),_defineProperty(_e,"isInSelectingRangeMonth",function(rt){var ot,st=_e.props,ct=st.day,lt=st.selectsStart,at=st.selectsEnd,it=st.selectsRange,ut=st.startDate,dt=st.endDate,ht=(ot=_e.props.selectingDate)!==null&&ot!==void 0?ot:_e.props.preSelection;return!(lt||at||it)||!ht?!1:lt&&dt?isMonthInRange(ht,dt,rt,ct):at&&ut||it&&ut&&!dt?isMonthInRange(ut,ht,rt,ct):!1}),_defineProperty(_e,"isSelectingMonthRangeStart",function(rt){var ot;if(!_e.isInSelectingRangeMonth(rt))return!1;var st=_e.props,ct=st.day,lt=st.startDate,at=st.selectsStart,it=setMonth(ct,rt),ut=(ot=_e.props.selectingDate)!==null&&ot!==void 0?ot:_e.props.preSelection;return at?isSameMonth(it,ut):isSameMonth(it,lt)}),_defineProperty(_e,"isSelectingMonthRangeEnd",function(rt){var ot;if(!_e.isInSelectingRangeMonth(rt))return!1;var st=_e.props,ct=st.day,lt=st.endDate,at=st.selectsEnd,it=st.selectsRange,ut=setMonth(ct,rt),dt=(ot=_e.props.selectingDate)!==null&&ot!==void 0?ot:_e.props.preSelection;return at||it?isSameMonth(ut,dt):isSameMonth(ut,lt)}),_defineProperty(_e,"isInSelectingRangeQuarter",function(rt){var ot,st=_e.props,ct=st.day,lt=st.selectsStart,at=st.selectsEnd,it=st.selectsRange,ut=st.startDate,dt=st.endDate,ht=(ot=_e.props.selectingDate)!==null&&ot!==void 0?ot:_e.props.preSelection;return!(lt||at||it)||!ht?!1:lt&&dt?isQuarterInRange(ht,dt,rt,ct):at&&ut||it&&ut&&!dt?isQuarterInRange(ut,ht,rt,ct):!1}),_defineProperty(_e,"isWeekInMonth",function(rt){var ot=_e.props.day,st=addDays(rt,6);return isSameMonth(rt,ot)||isSameMonth(st,ot)}),_defineProperty(_e,"isCurrentMonth",function(rt,ot){return getYear(rt)===getYear(newDate())&&ot===getMonth(newDate())}),_defineProperty(_e,"isCurrentQuarter",function(rt,ot){return getYear(rt)===getYear(newDate())&&ot===getQuarter(newDate())}),_defineProperty(_e,"isSelectedMonth",function(rt,ot,st){return getMonth(st)===ot&&getYear(rt)===getYear(st)}),_defineProperty(_e,"isSelectedQuarter",function(rt,ot,st){return getQuarter(rt)===ot&&getYear(rt)===getYear(st)}),_defineProperty(_e,"renderWeeks",function(){for(var rt=[],ot=_e.props.fixedHeight,st=0,ct=!1,lt=getStartOfWeek(getStartOfMonth(_e.props.day),_e.props.locale,_e.props.calendarStartDay),at=_e.props.showWeekPicker?getStartOfWeek(_e.props.selected,_e.props.locale,_e.props.calendarStartDay):_e.props.selected,it=_e.props.showWeekPicker?getStartOfWeek(_e.props.preSelection,_e.props.locale,_e.props.calendarStartDay):_e.props.preSelection;rt.push(React.createElement(Week,{ariaLabelPrefix:_e.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:_e.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:_e.props.disabledDayAriaLabelPrefix,key:st,day:lt,month:getMonth(_e.props.day),onDayClick:_e.handleDayClick,usePointerEvent:_e.props.usePointerEvent,onDayMouseEnter:_e.handleDayMouseEnter,onWeekSelect:_e.props.onWeekSelect,formatWeekNumber:_e.props.formatWeekNumber,locale:_e.props.locale,minDate:_e.props.minDate,maxDate:_e.props.maxDate,excludeDates:_e.props.excludeDates,excludeDateIntervals:_e.props.excludeDateIntervals,includeDates:_e.props.includeDates,includeDateIntervals:_e.props.includeDateIntervals,inline:_e.props.inline,shouldFocusDayInline:_e.props.shouldFocusDayInline,highlightDates:_e.props.highlightDates,holidays:_e.props.holidays,selectingDate:_e.props.selectingDate,filterDate:_e.props.filterDate,preSelection:it,selected:at,selectsStart:_e.props.selectsStart,selectsEnd:_e.props.selectsEnd,selectsRange:_e.props.selectsRange,selectsDisabledDaysInRange:_e.props.selectsDisabledDaysInRange,selectsMultiple:_e.props.selectsMultiple,selectedDates:_e.props.selectedDates,showWeekNumber:_e.props.showWeekNumbers,showWeekPicker:_e.props.showWeekPicker,startDate:_e.props.startDate,endDate:_e.props.endDate,dayClassName:_e.props.dayClassName,setOpen:_e.props.setOpen,shouldCloseOnSelect:_e.props.shouldCloseOnSelect,disabledKeyboardNavigation:_e.props.disabledKeyboardNavigation,renderDayContents:_e.props.renderDayContents,handleOnKeyDown:_e.props.handleOnKeyDown,isInputFocused:_e.props.isInputFocused,containerRef:_e.props.containerRef,calendarStartDay:_e.props.calendarStartDay,monthShowsDuplicateDaysEnd:_e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:_e.props.monthShowsDuplicateDaysStart})),!ct;){st++,lt=addWeeks(lt,1);var ut=ot&&st>=FIXED_HEIGHT_STANDARD_WEEK_COUNT,dt=!ot&&!_e.isWeekInMonth(lt);if(ut||dt)if(_e.props.peekNextMonth)ct=!0;else break}return rt}),_defineProperty(_e,"onMonthClick",function(rt,ot){var st=setMonth(_e.props.day,ot);isMonthDisabled(st,_e.props)||_e.handleDayClick(getStartOfMonth(st),rt)}),_defineProperty(_e,"onMonthMouseEnter",function(rt){var ot=setMonth(_e.props.day,rt);isMonthDisabled(ot,_e.props)||_e.handleDayMouseEnter(getStartOfMonth(ot))}),_defineProperty(_e,"handleMonthNavigation",function(rt,ot){_e.isDisabled(ot)||_e.isExcluded(ot)||(_e.props.setPreSelection(ot),_e.MONTH_REFS[rt].current&&_e.MONTH_REFS[rt].current.focus())}),_defineProperty(_e,"onMonthKeyDown",function(rt,ot){var st=_e.props,ct=st.selected,lt=st.preSelection,at=st.disabledKeyboardNavigation,it=st.showTwoColumnMonthYearPicker,ut=st.showFourColumnMonthYearPicker,dt=st.setPreSelection,ht=st.handleOnMonthKeyDown,ft=rt.key;if(ft!=="Tab"&&rt.preventDefault(),!at){var pt=getMonthColumnsLayout(ut,it),mt=MONTH_COLUMNS[pt].verticalNavigationOffset,gt=MONTH_COLUMNS[pt].grid;switch(ft){case"Enter":_e.onMonthClick(rt,ot),dt(ct);break;case"ArrowRight":_e.handleMonthNavigation(ot===11?0:ot+MONTH_NAVIGATION_HORIZONTAL_OFFSET,addMonths(lt,MONTH_NAVIGATION_HORIZONTAL_OFFSET));break;case"ArrowLeft":_e.handleMonthNavigation(ot===0?11:ot-MONTH_NAVIGATION_HORIZONTAL_OFFSET,subMonths(lt,MONTH_NAVIGATION_HORIZONTAL_OFFSET));break;case"ArrowUp":_e.handleMonthNavigation(gt[0].includes(ot)?ot+12-mt:ot-mt,subMonths(lt,mt));break;case"ArrowDown":_e.handleMonthNavigation(gt[gt.length-1].includes(ot)?ot-12+mt:ot+mt,addMonths(lt,mt));break}}ht&&ht(rt)}),_defineProperty(_e,"onQuarterClick",function(rt,ot){var st=setQuarter(_e.props.day,ot);isQuarterDisabled(st,_e.props)||_e.handleDayClick(getStartOfQuarter(st),rt)}),_defineProperty(_e,"onQuarterMouseEnter",function(rt){var ot=setQuarter(_e.props.day,rt);isQuarterDisabled(ot,_e.props)||_e.handleDayMouseEnter(getStartOfQuarter(ot))}),_defineProperty(_e,"handleQuarterNavigation",function(rt,ot){_e.isDisabled(ot)||_e.isExcluded(ot)||(_e.props.setPreSelection(ot),_e.QUARTER_REFS[rt-1].current&&_e.QUARTER_REFS[rt-1].current.focus())}),_defineProperty(_e,"onQuarterKeyDown",function(rt,ot){var st=rt.key;if(!_e.props.disabledKeyboardNavigation)switch(st){case"Enter":_e.onQuarterClick(rt,ot),_e.props.setPreSelection(_e.props.selected);break;case"ArrowRight":_e.handleQuarterNavigation(ot===4?1:ot+1,addQuarters(_e.props.preSelection,1));break;case"ArrowLeft":_e.handleQuarterNavigation(ot===1?4:ot-1,subQuarters(_e.props.preSelection,1));break}}),_defineProperty(_e,"isMonthDisabled",function(rt){var ot=_e.props,st=ot.day,ct=ot.minDate,lt=ot.maxDate,at=ot.excludeDates,it=ot.includeDates,ut=setMonth(st,rt);return(ct||lt||at||it)&&isMonthDisabled(ut,_e.props)}),_defineProperty(_e,"getMonthClassNames",function(rt){var ot=_e.props,st=ot.day,ct=ot.startDate,lt=ot.endDate,at=ot.selected,it=ot.preSelection,ut=ot.monthClassName,dt=ut?ut(setMonth(st,rt)):void 0;return clsx("react-datepicker__month-text","react-datepicker__month-".concat(rt),dt,{"react-datepicker__month-text--disabled":_e.isMonthDisabled(rt),"react-datepicker__month-text--selected":_e.isSelectedMonth(st,rt,at),"react-datepicker__month-text--keyboard-selected":!_e.props.disabledKeyboardNavigation&&_e.isSelectedMonth(st,rt,it),"react-datepicker__month-text--in-selecting-range":_e.isInSelectingRangeMonth(rt),"react-datepicker__month-text--in-range":isMonthInRange(ct,lt,rt,st),"react-datepicker__month-text--range-start":_e.isRangeStartMonth(rt),"react-datepicker__month-text--range-end":_e.isRangeEndMonth(rt),"react-datepicker__month-text--selecting-range-start":_e.isSelectingMonthRangeStart(rt),"react-datepicker__month-text--selecting-range-end":_e.isSelectingMonthRangeEnd(rt),"react-datepicker__month-text--today":_e.isCurrentMonth(st,rt)})}),_defineProperty(_e,"getTabIndex",function(rt){var ot=getMonth(_e.props.preSelection),st=!_e.props.disabledKeyboardNavigation&&rt===ot?"0":"-1";return st}),_defineProperty(_e,"getQuarterTabIndex",function(rt){var ot=getQuarter(_e.props.preSelection),st=!_e.props.disabledKeyboardNavigation&&rt===ot?"0":"-1";return st}),_defineProperty(_e,"getAriaLabel",function(rt){var ot=_e.props,st=ot.chooseDayAriaLabelPrefix,ct=st===void 0?"Choose":st,lt=ot.disabledDayAriaLabelPrefix,at=lt===void 0?"Not available":lt,it=ot.day,ut=ot.locale,dt=setMonth(it,rt),ht=_e.isDisabled(dt)||_e.isExcluded(dt)?at:ct;return"".concat(ht," ").concat(formatDate(dt,"MMMM yyyy",ut))}),_defineProperty(_e,"getQuarterClassNames",function(rt){var ot=_e.props,st=ot.day,ct=ot.startDate,lt=ot.endDate,at=ot.selected,it=ot.minDate,ut=ot.maxDate,dt=ot.preSelection,ht=ot.disabledKeyboardNavigation;return clsx("react-datepicker__quarter-text","react-datepicker__quarter-".concat(rt),{"react-datepicker__quarter-text--disabled":(it||ut)&&isQuarterDisabled(setQuarter(st,rt),_e.props),"react-datepicker__quarter-text--selected":_e.isSelectedQuarter(st,rt,at),"react-datepicker__quarter-text--keyboard-selected":!ht&&_e.isSelectedQuarter(st,rt,dt),"react-datepicker__quarter-text--in-selecting-range":_e.isInSelectingRangeQuarter(rt),"react-datepicker__quarter-text--in-range":isQuarterInRange(ct,lt,rt,st),"react-datepicker__quarter-text--range-start":_e.isRangeStartQuarter(rt),"react-datepicker__quarter-text--range-end":_e.isRangeEndQuarter(rt)})}),_defineProperty(_e,"getMonthContent",function(rt){var ot=_e.props,st=ot.showFullMonthYearPicker,ct=ot.renderMonthContent,lt=ot.locale,at=ot.day,it=getMonthShortInLocale(rt,lt),ut=getMonthInLocale(rt,lt);return ct?ct(rt,it,ut,at):st?ut:it}),_defineProperty(_e,"getQuarterContent",function(rt){var ot=_e.props,st=ot.renderQuarterContent,ct=ot.locale,lt=getQuarterShortInLocale(rt,ct);return st?st(rt,lt):lt}),_defineProperty(_e,"renderMonths",function(){var rt=_e.props,ot=rt.showTwoColumnMonthYearPicker,st=rt.showFourColumnMonthYearPicker,ct=rt.day,lt=rt.selected,at=MONTH_COLUMNS[getMonthColumnsLayout(st,ot)].grid;return at.map(function(it,ut){return React.createElement("div",{className:"react-datepicker__month-wrapper",key:ut},it.map(function(dt,ht){return React.createElement("div",{ref:_e.MONTH_REFS[dt],key:ht,onClick:function(pt){_e.onMonthClick(pt,dt)},onKeyDown:function(pt){isSpaceKeyDown(pt)&&(pt.preventDefault(),pt.key="Enter"),_e.onMonthKeyDown(pt,dt)},onMouseEnter:_e.props.usePointerEvent?void 0:function(){return _e.onMonthMouseEnter(dt)},onPointerEnter:_e.props.usePointerEvent?function(){return _e.onMonthMouseEnter(dt)}:void 0,tabIndex:_e.getTabIndex(dt),className:_e.getMonthClassNames(dt),"aria-disabled":_e.isMonthDisabled(dt),role:"option","aria-label":_e.getAriaLabel(dt),"aria-current":_e.isCurrentMonth(ct,dt)?"date":void 0,"aria-selected":_e.isSelectedMonth(ct,dt,lt)},_e.getMonthContent(dt))}))})}),_defineProperty(_e,"renderQuarters",function(){var rt=_e.props,ot=rt.day,st=rt.selected,ct=[1,2,3,4];return React.createElement("div",{className:"react-datepicker__quarter-wrapper"},ct.map(function(lt,at){return React.createElement("div",{key:at,ref:_e.QUARTER_REFS[at],role:"option",onClick:function(ut){_e.onQuarterClick(ut,lt)},onKeyDown:function(ut){_e.onQuarterKeyDown(ut,lt)},onMouseEnter:_e.props.usePointerEvent?void 0:function(){return _e.onQuarterMouseEnter(lt)},onPointerEnter:_e.props.usePointerEvent?function(){return _e.onQuarterMouseEnter(lt)}:void 0,className:_e.getQuarterClassNames(lt),"aria-selected":_e.isSelectedQuarter(ot,lt,st),tabIndex:_e.getQuarterTabIndex(lt),"aria-current":_e.isCurrentQuarter(ot,lt)?"date":void 0},_e.getQuarterContent(lt))}))}),_defineProperty(_e,"getClassNames",function(){var rt=_e.props,ot=rt.selectingDate,st=rt.selectsStart,ct=rt.selectsEnd,lt=rt.showMonthYearPicker,at=rt.showQuarterYearPicker,it=rt.showWeekPicker;return clsx("react-datepicker__month",{"react-datepicker__month--selecting-range":ot&&(st||ct)},{"react-datepicker__monthPicker":lt},{"react-datepicker__quarterPicker":at},{"react-datepicker__weekPicker":it})}),_e}return _inherits($,b),_createClass($,[{key:"render",value:function(){var et=this.props,tt=et.showMonthYearPicker,nt=et.showQuarterYearPicker,rt=et.day,ot=et.ariaLabelPrefix,st=ot===void 0?"Month ":ot,ct=st?st.trim()+" ":"";return React.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(ct).concat(formatDate(rt,"MMMM, yyyy",this.props.locale)),role:"listbox"},tt?this.renderMonths():nt?this.renderQuarters():this.renderWeeks())}}])}(React.Component),Time=function(b){function $(){var _e;_classCallCheck(this,$);for(var et=arguments.length,tt=new Array(et),nt=0;nt<et;nt++)tt[nt]=arguments[nt];return _e=_callSuper(this,$,[].concat(tt)),_defineProperty(_e,"state",{height:null}),_defineProperty(_e,"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){_e.list&&(_e.list.scrollTop=_e.centerLi&&$.calcCenterPosition(_e.props.monthRef?_e.props.monthRef.clientHeight-_e.header.clientHeight:_e.list.clientHeight,_e.centerLi))})}),_defineProperty(_e,"handleClick",function(rt){(_e.props.minTime||_e.props.maxTime)&&isTimeInDisabledRange(rt,_e.props)||(_e.props.excludeTimes||_e.props.includeTimes||_e.props.filterTime)&&isTimeDisabled(rt,_e.props)||_e.props.onChange(rt)}),_defineProperty(_e,"isSelectedTime",function(rt){return _e.props.selected&&isSameMinute(_e.props.selected,rt)}),_defineProperty(_e,"isDisabledTime",function(rt){return(_e.props.minTime||_e.props.maxTime)&&isTimeInDisabledRange(rt,_e.props)||(_e.props.excludeTimes||_e.props.includeTimes||_e.props.filterTime)&&isTimeDisabled(rt,_e.props)}),_defineProperty(_e,"liClasses",function(rt){var ot=["react-datepicker__time-list-item",_e.props.timeClassName?_e.props.timeClassName(rt):void 0];return _e.isSelectedTime(rt)&&ot.push("react-datepicker__time-list-item--selected"),_e.isDisabledTime(rt)&&ot.push("react-datepicker__time-list-item--disabled"),_e.props.injectTimes&&(getHours(rt)*3600+getMinutes(rt)*60+getSeconds(rt))%(_e.props.intervals*60)!==0&&ot.push("react-datepicker__time-list-item--injected"),ot.join(" ")}),_defineProperty(_e,"handleOnKeyDown",function(rt,ot){rt.key===" "&&(rt.preventDefault(),rt.key="Enter"),(rt.key==="ArrowUp"||rt.key==="ArrowLeft")&&rt.target.previousSibling&&(rt.preventDefault(),rt.target.previousSibling.focus()),(rt.key==="ArrowDown"||rt.key==="ArrowRight")&&rt.target.nextSibling&&(rt.preventDefault(),rt.target.nextSibling.focus()),rt.key==="Enter"&&_e.handleClick(ot),_e.props.handleOnKeyDown(rt)}),_defineProperty(_e,"renderTimes",function(){for(var rt=[],ot=_e.props.format?_e.props.format:"p",st=_e.props.intervals,ct=_e.props.selected||_e.props.openToDate||newDate(),lt=getStartOfDay(ct),at=_e.props.injectTimes&&_e.props.injectTimes.sort(function(mt,gt){return mt-gt}),it=60*getHoursInDay(ct),ut=it/st,dt=0;dt<ut;dt++){var ht=addMinutes(lt,dt*st);if(rt.push(ht),at){var ft=timesToInjectAfter(lt,ht,dt,st,at);rt=rt.concat(ft)}}var pt=rt.reduce(function(mt,gt){return gt.getTime()<=ct.getTime()?gt:mt},rt[0]);return rt.map(function(mt,gt){return React.createElement("li",{key:gt,onClick:_e.handleClick.bind(_e,mt),className:_e.liClasses(mt),ref:function(yt){mt===pt&&(_e.centerLi=yt)},onKeyDown:function(yt){_e.handleOnKeyDown(yt,mt)},tabIndex:mt===pt?0:-1,role:"option","aria-selected":_e.isSelectedTime(mt)?"true":void 0,"aria-disabled":_e.isDisabledTime(mt)?"true":void 0},formatDate(mt,ot,_e.props.locale))})}),_e}return _inherits($,b),_createClass($,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var et=this,tt=this.state.height;return React.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},React.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(rt){et.header=rt}},React.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),React.createElement("div",{className:"react-datepicker__time"},React.createElement("div",{className:"react-datepicker__time-box"},React.createElement("ul",{className:"react-datepicker__time-list",ref:function(rt){et.list=rt},style:tt?{height:tt}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}])}(React.Component);_defineProperty(Time,"calcCenterPosition",function(b,$){return $.offsetTop-(b/2-$.clientHeight/2)});var VERTICAL_NAVIGATION_OFFSET=3,Year=function(b){function $(_e){var et;return _classCallCheck(this,$),et=_callSuper(this,$,[_e]),_defineProperty(et,"YEAR_REFS",_toConsumableArray(Array(et.props.yearItemNumber)).map(function(){return React.createRef()})),_defineProperty(et,"isDisabled",function(tt){return isDayDisabled(tt,et.props)}),_defineProperty(et,"isExcluded",function(tt){return isDayExcluded(tt,et.props)}),_defineProperty(et,"selectingDate",function(){var tt;return(tt=et.props.selectingDate)!==null&&tt!==void 0?tt:et.props.preSelection}),_defineProperty(et,"updateFocusOnPaginate",function(tt){var nt=(function(){this.YEAR_REFS[tt].current.focus()}).bind(et);window.requestAnimationFrame(nt)}),_defineProperty(et,"handleYearClick",function(tt,nt){et.props.onDayClick&&et.props.onDayClick(tt,nt)}),_defineProperty(et,"handleYearNavigation",function(tt,nt){var rt=et.props,ot=rt.date,st=rt.yearItemNumber,ct=getYearsPeriod(ot,st),lt=ct.startPeriod;et.isDisabled(nt)||et.isExcluded(nt)||(et.props.setPreSelection(nt),tt-lt<0?et.updateFocusOnPaginate(st-(lt-tt)):tt-lt>=st?et.updateFocusOnPaginate(Math.abs(st-(tt-lt))):et.YEAR_REFS[tt-lt].current.focus())}),_defineProperty(et,"isSameDay",function(tt,nt){return isSameDay(tt,nt)}),_defineProperty(et,"isCurrentYear",function(tt){return tt===getYear(newDate())}),_defineProperty(et,"isRangeStart",function(tt){return et.props.startDate&&et.props.endDate&&isSameYear(setYear(newDate(),tt),et.props.startDate)}),_defineProperty(et,"isRangeEnd",function(tt){return et.props.startDate&&et.props.endDate&&isSameYear(setYear(newDate(),tt),et.props.endDate)}),_defineProperty(et,"isInRange",function(tt){return isYearInRange(tt,et.props.startDate,et.props.endDate)}),_defineProperty(et,"isInSelectingRange",function(tt){var nt=et.props,rt=nt.selectsStart,ot=nt.selectsEnd,st=nt.selectsRange,ct=nt.startDate,lt=nt.endDate;return!(rt||ot||st)||!et.selectingDate()?!1:rt&&lt?isYearInRange(tt,et.selectingDate(),lt):ot&&ct||st&&ct&&!lt?isYearInRange(tt,ct,et.selectingDate()):!1}),_defineProperty(et,"isSelectingRangeStart",function(tt){if(!et.isInSelectingRange(tt))return!1;var nt=et.props,rt=nt.startDate,ot=nt.selectsStart,st=setYear(newDate(),tt);return ot?isSameYear(st,et.selectingDate()):isSameYear(st,rt)}),_defineProperty(et,"isSelectingRangeEnd",function(tt){if(!et.isInSelectingRange(tt))return!1;var nt=et.props,rt=nt.endDate,ot=nt.selectsEnd,st=nt.selectsRange,ct=setYear(newDate(),tt);return ot||st?isSameYear(ct,et.selectingDate()):isSameYear(ct,rt)}),_defineProperty(et,"isKeyboardSelected",function(tt){var nt=getStartOfYear(setYear(et.props.date,tt));return!et.props.disabledKeyboardNavigation&&!et.props.inline&&!isSameDay(nt,getStartOfYear(et.props.selected))&&isSameDay(nt,getStartOfYear(et.props.preSelection))}),_defineProperty(et,"onYearClick",function(tt,nt){var rt=et.props.date;et.handleYearClick(getStartOfYear(setYear(rt,nt)),tt)}),_defineProperty(et,"onYearKeyDown",function(tt,nt){var rt=tt.key,ot=et.props,st=ot.date,ct=ot.yearItemNumber,lt=ot.handleOnKeyDown;if(rt!=="Tab"&&tt.preventDefault(),!et.props.disabledKeyboardNavigation)switch(rt){case"Enter":et.onYearClick(tt,nt),et.props.setPreSelection(et.props.selected);break;case"ArrowRight":et.handleYearNavigation(nt+1,addYears(et.props.preSelection,1));break;case"ArrowLeft":et.handleYearNavigation(nt-1,subYears(et.props.preSelection,1));break;case"ArrowUp":{var at=getYearsPeriod(st,ct),it=at.startPeriod,ut=VERTICAL_NAVIGATION_OFFSET,dt=nt-ut;if(dt<it){var ht=ct%ut;nt>=it&&nt<it+ht?ut=ht:ut+=ht,dt=nt-ut}et.handleYearNavigation(dt,subYears(et.props.preSelection,ut));break}case"ArrowDown":{var ft=getYearsPeriod(st,ct),pt=ft.endPeriod,mt=VERTICAL_NAVIGATION_OFFSET,gt=nt+mt;if(gt>pt){var vt=ct%mt;nt<=pt&&nt>pt-vt?mt=vt:mt+=vt,gt=nt+mt}et.handleYearNavigation(gt,addYears(et.props.preSelection,mt));break}}lt&&lt(tt)}),_defineProperty(et,"getYearClassNames",function(tt){var nt=et.props,rt=nt.date,ot=nt.minDate,st=nt.maxDate,ct=nt.selected,lt=nt.excludeDates,at=nt.includeDates,it=nt.filterDate,ut=nt.yearClassName;return clsx("react-datepicker__year-text","react-datepicker__year-".concat(tt),ut?ut(setYear(rt,tt)):void 0,{"react-datepicker__year-text--selected":tt===getYear(ct),"react-datepicker__year-text--disabled":(ot||st||lt||at||it)&&isYearDisabled(tt,et.props),"react-datepicker__year-text--keyboard-selected":et.isKeyboardSelected(tt),"react-datepicker__year-text--range-start":et.isRangeStart(tt),"react-datepicker__year-text--range-end":et.isRangeEnd(tt),"react-datepicker__year-text--in-range":et.isInRange(tt),"react-datepicker__year-text--in-selecting-range":et.isInSelectingRange(tt),"react-datepicker__year-text--selecting-range-start":et.isSelectingRangeStart(tt),"react-datepicker__year-text--selecting-range-end":et.isSelectingRangeEnd(tt),"react-datepicker__year-text--today":et.isCurrentYear(tt)})}),_defineProperty(et,"getYearTabIndex",function(tt){if(et.props.disabledKeyboardNavigation)return"-1";var nt=getYear(et.props.preSelection);return tt===nt?"0":"-1"}),_defineProperty(et,"getYearContainerClassNames",function(){var tt=et.props,nt=tt.selectingDate,rt=tt.selectsStart,ot=tt.selectsEnd,st=tt.selectsRange;return clsx("react-datepicker__year",{"react-datepicker__year--selecting-range":nt&&(rt||ot||st)})}),_defineProperty(et,"getYearContent",function(tt){return et.props.renderYearContent?et.props.renderYearContent(tt):tt}),et}return _inherits($,b),_createClass($,[{key:"render",value:function(){for(var et=this,tt=[],nt=this.props,rt=nt.date,ot=nt.yearItemNumber,st=nt.onYearMouseEnter,ct=nt.onYearMouseLeave,lt=getYearsPeriod(rt,ot),at=lt.startPeriod,it=lt.endPeriod,ut=function(ft){tt.push(React.createElement("div",{ref:et.YEAR_REFS[ft-at],onClick:function(mt){et.onYearClick(mt,ft)},onKeyDown:function(mt){isSpaceKeyDown(mt)&&(mt.preventDefault(),mt.key="Enter"),et.onYearKeyDown(mt,ft)},tabIndex:et.getYearTabIndex(ft),className:et.getYearClassNames(ft),onMouseEnter:et.props.usePointerEvent?void 0:function(pt){return st(pt,ft)},onPointerEnter:et.props.usePointerEvent?function(pt){return st(pt,ft)}:void 0,onMouseLeave:et.props.usePointerEvent?void 0:function(pt){return ct(pt,ft)},onPointerLeave:et.props.usePointerEvent?function(pt){return ct(pt,ft)}:void 0,key:ft,"aria-current":et.isCurrentYear(ft)?"date":void 0},et.getYearContent(ft)))},dt=at;dt<=it;dt++)ut(dt);return React.createElement("div",{className:this.getYearContainerClassNames()},React.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},tt))}}])}(React.Component),inputTime=function(b){function $(_e){var et;return _classCallCheck(this,$),et=_callSuper(this,$,[_e]),_defineProperty(et,"onTimeChange",function(tt){et.setState({time:tt});var nt=et.props.date,rt=nt instanceof Date&&!isNaN(nt),ot=rt?nt:new Date;ot.setHours(tt.split(":")[0]),ot.setMinutes(tt.split(":")[1]),et.props.onChange(ot)}),_defineProperty(et,"renderTimeInput",function(){var tt=et.state.time,nt=et.props,rt=nt.date,ot=nt.timeString,st=nt.customTimeInput;return st?React.cloneElement(st,{date:rt,value:tt,onChange:et.onTimeChange}):React.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:tt,onChange:function(lt){et.onTimeChange(lt.target.value||ot)}})}),et.state={time:et.props.timeString},et}return _inherits($,b),_createClass($,[{key:"render",value:function(){return React.createElement("div",{className:"react-datepicker__input-time-container"},React.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),React.createElement("div",{className:"react-datepicker-time__input-container"},React.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(et,tt){return et.timeString!==tt.time?{time:et.timeString}:null}}])}(React.Component);function CalendarContainer(b){var $=b.showTimeSelectOnly,_e=$===void 0?!1:$,et=b.showTime,tt=et===void 0?!1:et,nt=b.className,rt=b.children,ot=_e?"Choose Time":"Choose Date".concat(tt?" and Time":"");return React.createElement("div",{className:nt,role:"dialog","aria-label":ot,"aria-modal":"true"},rt)}var DROPDOWN_FOCUS_CLASSNAMES=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],isDropdownSelect=function b(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_e=($.className||"").split(/\s+/);return DROPDOWN_FOCUS_CLASSNAMES.some(function(et){return _e.indexOf(et)>=0})},Calendar=function(b){function $(_e){var et;return _classCallCheck(this,$),et=_callSuper(this,$,[_e]),_defineProperty(et,"handleClickOutside",function(tt){et.props.onClickOutside(tt)}),_defineProperty(et,"setClickOutsideRef",function(){return et.containerRef.current}),_defineProperty(et,"handleDropdownFocus",function(tt){isDropdownSelect(tt.target)&&et.props.onDropdownFocus()}),_defineProperty(et,"getDateInView",function(){var tt=et.props,nt=tt.preSelection,rt=tt.selected,ot=tt.openToDate,st=getEffectiveMinDate(et.props),ct=getEffectiveMaxDate(et.props),lt=newDate(),at=ot||rt||nt;return at||(st&&isBefore(lt,st)?st:ct&&isAfter(lt,ct)?ct:lt)}),_defineProperty(et,"increaseMonth",function(){et.setState(function(tt){var nt=tt.date;return{date:addMonths(nt,1)}},function(){return et.handleMonthChange(et.state.date)})}),_defineProperty(et,"decreaseMonth",function(){et.setState(function(tt){var nt=tt.date;return{date:subMonths(nt,1)}},function(){return et.handleMonthChange(et.state.date)})}),_defineProperty(et,"handleDayClick",function(tt,nt,rt){et.props.onSelect(tt,nt,rt),et.props.setPreSelection&&et.props.setPreSelection(tt)}),_defineProperty(et,"handleDayMouseEnter",function(tt){et.setState({selectingDate:tt}),et.props.onDayMouseEnter&&et.props.onDayMouseEnter(tt)}),_defineProperty(et,"handleMonthMouseLeave",function(){et.setState({selectingDate:null}),et.props.onMonthMouseLeave&&et.props.onMonthMouseLeave()}),_defineProperty(et,"handleYearMouseEnter",function(tt,nt){et.setState({selectingDate:setYear(newDate(),nt)}),et.props.onYearMouseEnter&&et.props.onYearMouseEnter(tt,nt)}),_defineProperty(et,"handleYearMouseLeave",function(tt,nt){et.props.onYearMouseLeave&&et.props.onYearMouseLeave(tt,nt)}),_defineProperty(et,"handleYearChange",function(tt){et.props.onYearChange&&(et.props.onYearChange(tt),et.setState({isRenderAriaLiveMessage:!0})),et.props.adjustDateOnChange&&(et.props.onSelect&&et.props.onSelect(tt),et.props.setOpen&&et.props.setOpen(!0)),et.props.setPreSelection&&et.props.setPreSelection(tt)}),_defineProperty(et,"handleMonthChange",function(tt){et.handleCustomMonthChange(tt),et.props.adjustDateOnChange&&(et.props.onSelect&&et.props.onSelect(tt),et.props.setOpen&&et.props.setOpen(!0)),et.props.setPreSelection&&et.props.setPreSelection(tt)}),_defineProperty(et,"handleCustomMonthChange",function(tt){et.props.onMonthChange&&(et.props.onMonthChange(tt),et.setState({isRenderAriaLiveMessage:!0}))}),_defineProperty(et,"handleMonthYearChange",function(tt){et.handleYearChange(tt),et.handleMonthChange(tt)}),_defineProperty(et,"changeYear",function(tt){et.setState(function(nt){var rt=nt.date;return{date:setYear(rt,tt)}},function(){return et.handleYearChange(et.state.date)})}),_defineProperty(et,"changeMonth",function(tt){et.setState(function(nt){var rt=nt.date;return{date:setMonth(rt,tt)}},function(){return et.handleMonthChange(et.state.date)})}),_defineProperty(et,"changeMonthYear",function(tt){et.setState(function(nt){var rt=nt.date;return{date:setYear(setMonth(rt,getMonth(tt)),getYear(tt))}},function(){return et.handleMonthYearChange(et.state.date)})}),_defineProperty(et,"header",function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:et.state.date,nt=getStartOfWeek(tt,et.props.locale,et.props.calendarStartDay),rt=[];return et.props.showWeekNumbers&&rt.push(React.createElement("div",{key:"W",className:"react-datepicker__day-name"},et.props.weekLabel||"#")),rt.concat([0,1,2,3,4,5,6].map(function(ot){var st=addDays(nt,ot),ct=et.formatWeekday(st,et.props.locale),lt=et.props.weekDayClassName?et.props.weekDayClassName(st):void 0;return React.createElement("div",{key:ot,"aria-label":formatDate(st,"EEEE",et.props.locale),className:clsx("react-datepicker__day-name",lt)},ct)}))}),_defineProperty(et,"formatWeekday",function(tt,nt){return et.props.formatWeekDay?getFormattedWeekdayInLocale(tt,et.props.formatWeekDay,nt):et.props.useWeekdaysShort?getWeekdayShortInLocale(tt,nt):getWeekdayMinInLocale(tt,nt)}),_defineProperty(et,"decreaseYear",function(){et.setState(function(tt){var nt=tt.date;return{date:subYears(nt,et.props.showYearPicker?et.props.yearItemNumber:1)}},function(){return et.handleYearChange(et.state.date)})}),_defineProperty(et,"clearSelectingDate",function(){et.setState({selectingDate:null})}),_defineProperty(et,"renderPreviousButton",function(){if(!et.props.renderCustomHeader){var tt;switch(!0){case et.props.showMonthYearPicker:tt=yearDisabledBefore(et.state.date,et.props);break;case et.props.showYearPicker:tt=yearsDisabledBefore(et.state.date,et.props);break;case et.props.showQuarterYearPicker:tt=quarterDisabledBefore(et.state.date,et.props);break;default:tt=monthDisabledBefore(et.state.date,et.props);break}if(!(!et.props.forceShowMonthNavigation&&!et.props.showDisabledMonthNavigation&&tt||et.props.showTimeSelectOnly)){var nt=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],rt=["react-datepicker__navigation","react-datepicker__navigation--previous"],ot=et.decreaseMonth;(et.props.showMonthYearPicker||et.props.showQuarterYearPicker||et.props.showYearPicker)&&(ot=et.decreaseYear),tt&&et.props.showDisabledMonthNavigation&&(rt.push("react-datepicker__navigation--previous--disabled"),ot=null);var st=et.props.showMonthYearPicker||et.props.showQuarterYearPicker||et.props.showYearPicker,ct=et.props,lt=ct.previousMonthButtonLabel,at=ct.previousYearButtonLabel,it=et.props,ut=it.previousMonthAriaLabel,dt=ut===void 0?typeof lt=="string"?lt:"Previous Month":ut,ht=it.previousYearAriaLabel,ft=ht===void 0?typeof at=="string"?at:"Previous Year":ht;return React.createElement("button",{type:"button",className:rt.join(" "),onClick:ot,onKeyDown:et.props.handleOnKeyDown,"aria-label":st?ft:dt},React.createElement("span",{className:nt.join(" ")},st?et.props.previousYearButtonLabel:et.props.previousMonthButtonLabel))}}}),_defineProperty(et,"increaseYear",function(){et.setState(function(tt){var nt=tt.date;return{date:addYears(nt,et.props.showYearPicker?et.props.yearItemNumber:1)}},function(){return et.handleYearChange(et.state.date)})}),_defineProperty(et,"renderNextButton",function(){if(!et.props.renderCustomHeader){var tt;switch(!0){case et.props.showMonthYearPicker:tt=yearDisabledAfter(et.state.date,et.props);break;case et.props.showYearPicker:tt=yearsDisabledAfter(et.state.date,et.props);break;case et.props.showQuarterYearPicker:tt=quarterDisabledAfter(et.state.date,et.props);break;default:tt=monthDisabledAfter(et.state.date,et.props);break}if(!(!et.props.forceShowMonthNavigation&&!et.props.showDisabledMonthNavigation&&tt||et.props.showTimeSelectOnly)){var nt=["react-datepicker__navigation","react-datepicker__navigation--next"],rt=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];et.props.showTimeSelect&&nt.push("react-datepicker__navigation--next--with-time"),et.props.todayButton&&nt.push("react-datepicker__navigation--next--with-today-button");var ot=et.increaseMonth;(et.props.showMonthYearPicker||et.props.showQuarterYearPicker||et.props.showYearPicker)&&(ot=et.increaseYear),tt&&et.props.showDisabledMonthNavigation&&(nt.push("react-datepicker__navigation--next--disabled"),ot=null);var st=et.props.showMonthYearPicker||et.props.showQuarterYearPicker||et.props.showYearPicker,ct=et.props,lt=ct.nextMonthButtonLabel,at=ct.nextYearButtonLabel,it=et.props,ut=it.nextMonthAriaLabel,dt=ut===void 0?typeof lt=="string"?lt:"Next Month":ut,ht=it.nextYearAriaLabel,ft=ht===void 0?typeof at=="string"?at:"Next Year":ht;return React.createElement("button",{type:"button",className:nt.join(" "),onClick:ot,onKeyDown:et.props.handleOnKeyDown,"aria-label":st?ft:dt},React.createElement("span",{className:rt.join(" ")},st?et.props.nextYearButtonLabel:et.props.nextMonthButtonLabel))}}}),_defineProperty(et,"renderCurrentMonth",function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:et.state.date,nt=["react-datepicker__current-month"];return et.props.showYearDropdown&&nt.push("react-datepicker__current-month--hasYearDropdown"),et.props.showMonthDropdown&&nt.push("react-datepicker__current-month--hasMonthDropdown"),et.props.showMonthYearDropdown&&nt.push("react-datepicker__current-month--hasMonthYearDropdown"),React.createElement("div",{className:nt.join(" ")},formatDate(tt,et.props.dateFormat,et.props.locale))}),_defineProperty(et,"renderYearDropdown",function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!et.props.showYearDropdown||tt))return React.createElement(YearDropdown,{adjustDateOnChange:et.props.adjustDateOnChange,date:et.state.date,onSelect:et.props.onSelect,setOpen:et.props.setOpen,dropdownMode:et.props.dropdownMode,onChange:et.changeYear,minDate:et.props.minDate,maxDate:et.props.maxDate,year:getYear(et.state.date),scrollableYearDropdown:et.props.scrollableYearDropdown,yearDropdownItemNumber:et.props.yearDropdownItemNumber})}),_defineProperty(et,"renderMonthDropdown",function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!et.props.showMonthDropdown||tt))return React.createElement(MonthDropdown,{dropdownMode:et.props.dropdownMode,locale:et.props.locale,onChange:et.changeMonth,month:getMonth(et.state.date),useShortMonthInDropdown:et.props.useShortMonthInDropdown})}),_defineProperty(et,"renderMonthYearDropdown",function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!et.props.showMonthYearDropdown||tt))return React.createElement(MonthYearDropdown,{dropdownMode:et.props.dropdownMode,locale:et.props.locale,dateFormat:et.props.dateFormat,onChange:et.changeMonthYear,minDate:et.props.minDate,maxDate:et.props.maxDate,date:et.state.date,scrollableMonthYearDropdown:et.props.scrollableMonthYearDropdown})}),_defineProperty(et,"handleTodayButtonClick",function(tt){et.props.onSelect(getStartOfToday(),tt),et.props.setPreSelection&&et.props.setPreSelection(getStartOfToday())}),_defineProperty(et,"renderTodayButton",function(){if(!(!et.props.todayButton||et.props.showTimeSelectOnly))return React.createElement("div",{className:"react-datepicker__today-button",onClick:function(nt){return et.handleTodayButtonClick(nt)}},et.props.todayButton)}),_defineProperty(et,"renderDefaultHeader",function(tt){var nt=tt.monthDate,rt=tt.i;return React.createElement("div",{className:"react-datepicker__header ".concat(et.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},et.renderCurrentMonth(nt),React.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(et.props.dropdownMode),onFocus:et.handleDropdownFocus},et.renderMonthDropdown(rt!==0),et.renderMonthYearDropdown(rt!==0),et.renderYearDropdown(rt!==0)),React.createElement("div",{className:"react-datepicker__day-names"},et.header(nt)))}),_defineProperty(et,"renderCustomHeader",function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},nt=tt.monthDate,rt=tt.i;if(et.props.showTimeSelect&&!et.state.monthContainer||et.props.showTimeSelectOnly)return null;var ot=monthDisabledBefore(et.state.date,et.props),st=monthDisabledAfter(et.state.date,et.props),ct=yearDisabledBefore(et.state.date,et.props),lt=yearDisabledAfter(et.state.date,et.props),at=!et.props.showMonthYearPicker&&!et.props.showQuarterYearPicker&&!et.props.showYearPicker;return React.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:et.props.onDropdownFocus},et.props.renderCustomHeader(_objectSpread2(_objectSpread2({},et.state),{},{customHeaderCount:rt,monthDate:nt,changeMonth:et.changeMonth,changeYear:et.changeYear,decreaseMonth:et.decreaseMonth,increaseMonth:et.increaseMonth,decreaseYear:et.decreaseYear,increaseYear:et.increaseYear,prevMonthButtonDisabled:ot,nextMonthButtonDisabled:st,prevYearButtonDisabled:ct,nextYearButtonDisabled:lt})),at&&React.createElement("div",{className:"react-datepicker__day-names"},et.header(nt)))}),_defineProperty(et,"renderYearHeader",function(tt){var nt=tt.monthDate,rt=et.props,ot=rt.showYearPicker,st=rt.yearItemNumber,ct=getYearsPeriod(nt,st),lt=ct.startPeriod,at=ct.endPeriod;return React.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},ot?"".concat(lt," - ").concat(at):getYear(nt))}),_defineProperty(et,"renderHeader",function(tt){switch(!0){case et.props.renderCustomHeader!==void 0:return et.renderCustomHeader(tt);case(et.props.showMonthYearPicker||et.props.showQuarterYearPicker||et.props.showYearPicker):return et.renderYearHeader(tt);default:return et.renderDefaultHeader(tt)}}),_defineProperty(et,"renderMonths",function(){var tt;if(!(et.props.showTimeSelectOnly||et.props.showYearPicker)){for(var nt=[],rt=et.props.showPreviousMonths?et.props.monthsShown-1:0,ot=et.props.showMonthYearPicker||et.props.showQuarterYearPicker?addYears(et.state.date,rt):subMonths(et.state.date,rt),st=(tt=et.props.monthSelectedIn)!==null&&tt!==void 0?tt:rt,ct=0;ct<et.props.monthsShown;++ct){var lt=ct-st+rt,at=et.props.showMonthYearPicker||et.props.showQuarterYearPicker?addYears(ot,lt):addMonths(ot,lt),it="month-".concat(ct),ut=ct<et.props.monthsShown-1,dt=ct>0;nt.push(React.createElement("div",{key:it,ref:function(ft){et.monthContainer=ft},className:"react-datepicker__month-container"},et.renderHeader({monthDate:at,i:ct}),React.createElement(Month,{chooseDayAriaLabelPrefix:et.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:et.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:et.props.weekAriaLabelPrefix,ariaLabelPrefix:et.props.monthAriaLabelPrefix,onChange:et.changeMonthYear,day:at,dayClassName:et.props.dayClassName,calendarStartDay:et.props.calendarStartDay,monthClassName:et.props.monthClassName,onDayClick:et.handleDayClick,handleOnKeyDown:et.props.handleOnDayKeyDown,handleOnMonthKeyDown:et.props.handleOnKeyDown,usePointerEvent:et.props.usePointerEvent,onDayMouseEnter:et.handleDayMouseEnter,onMouseLeave:et.handleMonthMouseLeave,onWeekSelect:et.props.onWeekSelect,orderInDisplay:ct,formatWeekNumber:et.props.formatWeekNumber,locale:et.props.locale,minDate:et.props.minDate,maxDate:et.props.maxDate,excludeDates:et.props.excludeDates,excludeDateIntervals:et.props.excludeDateIntervals,highlightDates:et.props.highlightDates,holidays:et.props.holidays,selectingDate:et.state.selectingDate,includeDates:et.props.includeDates,includeDateIntervals:et.props.includeDateIntervals,inline:et.props.inline,shouldFocusDayInline:et.props.shouldFocusDayInline,fixedHeight:et.props.fixedHeight,filterDate:et.props.filterDate,preSelection:et.props.preSelection,setPreSelection:et.props.setPreSelection,selected:et.props.selected,selectsStart:et.props.selectsStart,selectsEnd:et.props.selectsEnd,selectsRange:et.props.selectsRange,selectsDisabledDaysInRange:et.props.selectsDisabledDaysInRange,selectsMultiple:et.props.selectsMultiple,selectedDates:et.props.selectedDates,showWeekNumbers:et.props.showWeekNumbers,startDate:et.props.startDate,endDate:et.props.endDate,peekNextMonth:et.props.peekNextMonth,setOpen:et.props.setOpen,shouldCloseOnSelect:et.props.shouldCloseOnSelect,renderDayContents:et.props.renderDayContents,renderMonthContent:et.props.renderMonthContent,renderQuarterContent:et.props.renderQuarterContent,renderYearContent:et.props.renderYearContent,disabledKeyboardNavigation:et.props.disabledKeyboardNavigation,showMonthYearPicker:et.props.showMonthYearPicker,showFullMonthYearPicker:et.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:et.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:et.props.showFourColumnMonthYearPicker,showYearPicker:et.props.showYearPicker,showQuarterYearPicker:et.props.showQuarterYearPicker,showWeekPicker:et.props.showWeekPicker,isInputFocused:et.props.isInputFocused,containerRef:et.containerRef,monthShowsDuplicateDaysEnd:ut,monthShowsDuplicateDaysStart:dt})))}return nt}}),_defineProperty(et,"renderYears",function(){if(!et.props.showTimeSelectOnly&&et.props.showYearPicker)return React.createElement("div",{className:"react-datepicker__year--container"},et.renderHeader({monthDate:et.state.date}),React.createElement(Year,_extends({onDayClick:et.handleDayClick,selectingDate:et.state.selectingDate,clearSelectingDate:et.clearSelectingDate,date:et.state.date},et.props,{onYearMouseEnter:et.handleYearMouseEnter,onYearMouseLeave:et.handleYearMouseLeave})))}),_defineProperty(et,"renderTimeSection",function(){if(et.props.showTimeSelect&&(et.state.monthContainer||et.props.showTimeSelectOnly))return React.createElement(Time,{selected:et.props.selected,openToDate:et.props.openToDate,onChange:et.props.onTimeChange,timeClassName:et.props.timeClassName,format:et.props.timeFormat,includeTimes:et.props.includeTimes,intervals:et.props.timeIntervals,minTime:et.props.minTime,maxTime:et.props.maxTime,excludeTimes:et.props.excludeTimes,filterTime:et.props.filterTime,timeCaption:et.props.timeCaption,todayButton:et.props.todayButton,showMonthDropdown:et.props.showMonthDropdown,showMonthYearDropdown:et.props.showMonthYearDropdown,showYearDropdown:et.props.showYearDropdown,withPortal:et.props.withPortal,monthRef:et.state.monthContainer,injectTimes:et.props.injectTimes,locale:et.props.locale,handleOnKeyDown:et.props.handleOnKeyDown,showTimeSelectOnly:et.props.showTimeSelectOnly})}),_defineProperty(et,"renderInputTimeSection",function(){var tt=new Date(et.props.selected),nt=isValid(tt)&&!!et.props.selected,rt=nt?"".concat(addZero(tt.getHours()),":").concat(addZero(tt.getMinutes())):"";if(et.props.showTimeInput)return React.createElement(inputTime,{date:tt,timeString:rt,timeInputLabel:et.props.timeInputLabel,onChange:et.props.onTimeChange,customTimeInput:et.props.customTimeInput})}),_defineProperty(et,"renderAriaLiveRegion",function(){var tt=getYearsPeriod(et.state.date,et.props.yearItemNumber),nt=tt.startPeriod,rt=tt.endPeriod,ot;return et.props.showYearPicker?ot="".concat(nt," - ").concat(rt):et.props.showMonthYearPicker||et.props.showQuarterYearPicker?ot=getYear(et.state.date):ot="".concat(getMonthInLocale(getMonth(et.state.date),et.props.locale)," ").concat(getYear(et.state.date)),React.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},et.state.isRenderAriaLiveMessage&&ot)}),_defineProperty(et,"renderChildren",function(){if(et.props.children)return React.createElement("div",{className:"react-datepicker__children-container"},et.props.children)}),et.containerRef=React.createRef(),et.state={date:et.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},et}return _inherits($,b),_createClass($,[{key:"componentDidMount",value:function(){var et=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){et.setState({monthContainer:et.monthContainer})}())}},{key:"componentDidUpdate",value:function(et){var tt=this;if(this.props.preSelection&&(!isSameDay(this.props.preSelection,et.preSelection)||this.props.monthSelectedIn!==et.monthSelectedIn)){var nt=!isSameMonth(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return nt&&tt.handleCustomMonthChange(tt.state.date)})}else this.props.openToDate&&!isSameDay(this.props.openToDate,et.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var et=this.props.container||CalendarContainer;return React.createElement("div",{style:{display:"contents"},ref:this.containerRef},React.createElement(et,{className:clsx("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:DEFAULT_YEAR_ITEM_NUMBER}}}])}(React.Component),CalendarIcon=function b($){var _e=$.icon,et=$.className,tt=et===void 0?"":et,nt=$.onClick,rt="react-datepicker__calendar-icon";return React.isValidElement(_e)?React.cloneElement(_e,{className:"".concat(_e.props.className||""," ").concat(rt," ").concat(tt),onClick:function(st){typeof _e.props.onClick=="function"&&_e.props.onClick(st),typeof nt=="function"&&nt(st)}}):typeof _e=="string"?React.createElement("i",{className:"".concat(rt," ").concat(_e," ").concat(tt),"aria-hidden":"true",onClick:nt}):React.createElement("svg",{className:"".concat(rt," ").concat(tt),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:nt},React.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},CalendarIcon$1=CalendarIcon,Portal=function(b){function $(_e){var et;return _classCallCheck(this,$),et=_callSuper(this,$,[_e]),et.el=document.createElement("div"),et}return _inherits($,b),_createClass($,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return ReactDOM.createPortal(this.props.children,this.el)}}])}(React.Component),focusableElementsSelector="[tabindex], a, button, input, select, textarea",focusableFilter=function b($){return!$.disabled&&$.tabIndex!==-1},TabLoop=function(b){function $(_e){var et;return _classCallCheck(this,$),et=_callSuper(this,$,[_e]),_defineProperty(et,"getTabChildren",function(){return Array.prototype.slice.call(et.tabLoopRef.current.querySelectorAll(focusableElementsSelector),1,-1).filter(focusableFilter)}),_defineProperty(et,"handleFocusStart",function(){var tt=et.getTabChildren();tt&&tt.length>1&&tt[tt.length-1].focus()}),_defineProperty(et,"handleFocusEnd",function(){var tt=et.getTabChildren();tt&&tt.length>1&&tt[0].focus()}),et.tabLoopRef=React.createRef(),et}return _inherits($,b),_createClass($,[{key:"render",value:function(){return this.props.enableTabLoop?React.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},React.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,React.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}])}(React.Component);function withFloating(b){var $=function(et){var tt=_objectSpread2(_objectSpread2({},et),{},{popperModifiers:et.popperModifiers||[],popperProps:et.popperProps||{},hidePopper:typeof et.hidePopper=="boolean"?et.hidePopper:!0}),nt=React.useRef(),rt=useFloating(_objectSpread2({open:!tt.hidePopper,whileElementsMounted:autoUpdate,placement:tt.popperPlacement,middleware:[flip({padding:15}),offset(10),arrow({element:nt})].concat(_toConsumableArray(tt.popperModifiers))},tt.popperProps));return React.createElement(b,_extends({},tt,{popperProps:_objectSpread2(_objectSpread2({},rt),{},{arrowRef:nt})}))};return $}var PopperComponent=function(b){function $(){return _classCallCheck(this,$),_callSuper(this,$,arguments)}return _inherits($,b),_createClass($,[{key:"render",value:function(){var et=this.props,tt=et.className,nt=et.wrapperClassName,rt=et.hidePopper,ot=et.popperComponent,st=et.targetComponent,ct=et.enableTabLoop,lt=et.popperOnKeyDown,at=et.portalId,it=et.portalHost,ut=et.popperProps,dt=et.showArrow,ht;if(!rt){var ft=clsx("react-datepicker-popper",tt);ht=React.createElement(TabLoop,{enableTabLoop:ct},React.createElement("div",{ref:ut.refs.setFloating,style:ut.floatingStyles,className:ft,"data-placement":ut.placement,onKeyDown:lt},ot,dt&&React.createElement(FloatingArrow,{ref:ut.arrowRef,context:ut.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(ht=React.createElement(this.props.popperContainer,{},ht)),at&&!rt&&(ht=React.createElement(Portal,{portalId:at,portalHost:it},ht));var pt=clsx("react-datepicker-wrapper",nt);return React.createElement(React.Fragment,null,React.createElement("div",{ref:ut.refs.setReference,className:pt},st),ht)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0}}}])}(React.Component),PopperComponent$1=withFloating(PopperComponent),outsideClickIgnoreClass="react-datepicker-ignore-onclickoutside",WrappedCalendar=onClickOutsideHOC(Calendar);function hasPreSelectionChanged(b,$){return b&&$?getMonth(b)!==getMonth($)||getYear(b)!==getYear($):b!==$}var INPUT_ERR_1="Date input not valid.",DatePicker=function(b){function $(_e){var et;return _classCallCheck(this,$),et=_callSuper(this,$,[_e]),_defineProperty(et,"getPreSelection",function(){return et.props.openToDate?et.props.openToDate:et.props.selectsEnd&&et.props.startDate?et.props.startDate:et.props.selectsStart&&et.props.endDate?et.props.endDate:newDate()}),_defineProperty(et,"modifyHolidays",function(){var tt;return(tt=et.props.holidays)===null||tt===void 0?void 0:tt.reduce(function(nt,rt){var ot=new Date(rt.date);return isValid$1(ot)?[].concat(_toConsumableArray(nt),[_objectSpread2(_objectSpread2({},rt),{},{date:ot})]):nt},[])}),_defineProperty(et,"calcInitialState",function(){var tt,nt=et.getPreSelection(),rt=getEffectiveMinDate(et.props),ot=getEffectiveMaxDate(et.props),st=rt&&isBefore(nt,startOfDay(rt))?rt:ot&&isAfter(nt,endOfDay(ot))?ot:nt;return{open:et.props.startOpen||!1,preventFocus:!1,preSelection:(tt=et.props.selectsRange?et.props.startDate:et.props.selected)!==null&&tt!==void 0?tt:st,highlightDates:getHightLightDaysMap(et.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),_defineProperty(et,"clearPreventFocusTimeout",function(){et.preventFocusTimeout&&clearTimeout(et.preventFocusTimeout)}),_defineProperty(et,"setFocus",function(){et.input&&et.input.focus&&et.input.focus({preventScroll:!0})}),_defineProperty(et,"setBlur",function(){et.input&&et.input.blur&&et.input.blur(),et.cancelFocusInput()}),_defineProperty(et,"setOpen",function(tt){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;et.setState({open:tt,preSelection:tt&&et.state.open?et.state.preSelection:et.calcInitialState().preSelection,lastPreSelectChange:PRESELECT_CHANGE_VIA_NAVIGATE},function(){tt||et.setState(function(rt){return{focused:nt?rt.focused:!1}},function(){!nt&&et.setBlur(),et.setState({inputValue:null})})})}),_defineProperty(et,"inputOk",function(){return isDate(et.state.preSelection)}),_defineProperty(et,"isCalendarOpen",function(){return et.props.open===void 0?et.state.open&&!et.props.disabled&&!et.props.readOnly:et.props.open}),_defineProperty(et,"handleFocus",function(tt){et.state.preventFocus||(et.props.onFocus(tt),!et.props.preventOpenOnFocus&&!et.props.readOnly&&et.setOpen(!0)),et.setState({focused:!0})}),_defineProperty(et,"sendFocusBackToInput",function(){et.preventFocusTimeout&&et.clearPreventFocusTimeout(),et.setState({preventFocus:!0},function(){et.preventFocusTimeout=setTimeout(function(){et.setFocus(),et.setState({preventFocus:!1})})})}),_defineProperty(et,"cancelFocusInput",function(){clearTimeout(et.inputFocusTimeout),et.inputFocusTimeout=null}),_defineProperty(et,"deferFocusInput",function(){et.cancelFocusInput(),et.inputFocusTimeout=setTimeout(function(){return et.setFocus()},1)}),_defineProperty(et,"handleDropdownFocus",function(){et.cancelFocusInput()}),_defineProperty(et,"handleBlur",function(tt){(!et.state.open||et.props.withPortal||et.props.showTimeInput)&&et.props.onBlur(tt),et.setState({focused:!1})}),_defineProperty(et,"handleCalendarClickOutside",function(tt){et.props.inline||et.setOpen(!1),et.props.onClickOutside(tt),et.props.withPortal&&tt.preventDefault()}),_defineProperty(et,"handleChange",function(){for(var tt=arguments.length,nt=new Array(tt),rt=0;rt<tt;rt++)nt[rt]=arguments[rt];var ot=nt[0];if(!(et.props.onChangeRaw&&(et.props.onChangeRaw.apply(et,nt),typeof ot.isDefaultPrevented!="function"||ot.isDefaultPrevented()))){et.setState({inputValue:ot.target.value,lastPreSelectChange:PRESELECT_CHANGE_VIA_INPUT});var st=parseDate(ot.target.value,et.props.dateFormat,et.props.locale,et.props.strictParsing,et.props.minDate);et.props.showTimeSelectOnly&&et.props.selected&&st&&!isSameDay(st,et.props.selected)&&(st=set(et.props.selected,{hours:getHours(st),minutes:getMinutes(st),seconds:getSeconds(st)})),(st||!ot.target.value)&&et.setSelected(st,ot,!0)}}),_defineProperty(et,"handleSelect",function(tt,nt,rt){if(et.props.shouldCloseOnSelect&&!et.props.showTimeSelect&&et.sendFocusBackToInput(),et.props.onChangeRaw&&et.props.onChangeRaw(nt),et.setSelected(tt,nt,!1,rt),et.props.showDateSelect&&et.setState({isRenderAriaLiveMessage:!0}),!et.props.shouldCloseOnSelect||et.props.showTimeSelect)et.setPreSelection(tt);else if(!et.props.inline){et.props.selectsRange||et.setOpen(!1);var ot=et.props,st=ot.startDate,ct=ot.endDate;st&&!ct&&(et.props.swapRange||!isDateBefore(tt,st))&&et.setOpen(!1)}}),_defineProperty(et,"setSelected",function(tt,nt,rt,ot){var st=tt;if(et.props.showYearPicker){if(st!==null&&isYearDisabled(getYear(st),et.props))return}else if(et.props.showMonthYearPicker){if(st!==null&&isMonthDisabled(st,et.props))return}else if(st!==null&&isDayDisabled(st,et.props))return;var ct=et.props,lt=ct.onChange,at=ct.selectsRange,it=ct.startDate,ut=ct.endDate,dt=ct.selectsMultiple,ht=ct.selectedDates,ft=ct.minTime,pt=ct.swapRange;if(!isEqual(et.props.selected,st)||et.props.allowSameDay||at||dt)if(st!==null&&(et.props.selected&&(!rt||!et.props.showTimeSelect&&!et.props.showTimeSelectOnly&&!et.props.showTimeInput)&&(st=setTime(st,{hour:getHours(et.props.selected),minute:getMinutes(et.props.selected),second:getSeconds(et.props.selected)})),!rt&&(et.props.showTimeSelect||et.props.showTimeSelectOnly)&&ft&&(st=setTime(st,{hour:ft.getHours(),minute:ft.getMinutes(),second:ft.getSeconds()})),et.props.inline||et.setState({preSelection:st}),et.props.focusSelectedMonth||et.setState({monthSelectedIn:ot})),at){var mt=!it&&!ut,gt=it&&!ut,vt=it&&ut;mt?lt([st,null],nt):gt&&(st===null?lt([null,null],nt):isDateBefore(st,it)?lt(pt?[st,it]:[st,null],nt):lt([it,st],nt)),vt&&lt([st,null],nt)}else if(dt)if(!(ht!=null&&ht.length))lt([st],nt);else{var yt=ht.some(function(xt){return isSameDay(xt,st)});if(yt){var bt=ht.filter(function(xt){return!isSameDay(xt,st)});lt(bt,nt)}else lt([].concat(_toConsumableArray(ht),[st]),nt)}else lt(st,nt);rt||(et.props.onSelect(st,nt),et.setState({inputValue:null}))}),_defineProperty(et,"setPreSelection",function(tt){var nt=typeof et.props.minDate<"u",rt=typeof et.props.maxDate<"u",ot=!0;if(tt){var st=startOfDay(tt);if(nt&&rt)ot=isDayInRange(tt,et.props.minDate,et.props.maxDate);else if(nt){var ct=startOfDay(et.props.minDate);ot=isAfter(tt,ct)||isEqual(st,ct)}else if(rt){var lt=endOfDay(et.props.maxDate);ot=isBefore(tt,lt)||isEqual(st,lt)}}ot&&et.setState({preSelection:tt})}),_defineProperty(et,"toggleCalendar",function(){et.setOpen(!et.state.open)}),_defineProperty(et,"handleTimeChange",function(tt){var nt=et.props.selected?et.props.selected:et.getPreSelection(),rt=et.props.selected?tt:setTime(nt,{hour:getHours(tt),minute:getMinutes(tt)});et.setState({preSelection:rt}),et.props.onChange(rt),et.props.shouldCloseOnSelect&&(et.sendFocusBackToInput(),et.setOpen(!1)),et.props.showTimeInput&&et.setOpen(!0),(et.props.showTimeSelectOnly||et.props.showTimeSelect)&&et.setState({isRenderAriaLiveMessage:!0}),et.setState({inputValue:null})}),_defineProperty(et,"onInputClick",function(){!et.props.disabled&&!et.props.readOnly&&et.setOpen(!0),et.props.onInputClick()}),_defineProperty(et,"onInputKeyDown",function(tt){et.props.onKeyDown(tt);var nt=tt.key;if(!et.state.open&&!et.props.inline&&!et.props.preventOpenOnFocus){(nt==="ArrowDown"||nt==="ArrowUp"||nt==="Enter")&&et.onInputClick();return}if(et.state.open){if(nt==="ArrowDown"||nt==="ArrowUp"){tt.preventDefault();var rt=et.props.showWeekPicker&&et.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':et.props.showFullMonthYearPicker||et.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',ot=et.calendar.componentNode&&et.calendar.componentNode.querySelector(rt);ot&&ot.focus({preventScroll:!0});return}var st=newDate(et.state.preSelection);nt==="Enter"?(tt.preventDefault(),et.inputOk()&&et.state.lastPreSelectChange===PRESELECT_CHANGE_VIA_NAVIGATE?(et.handleSelect(st,tt),!et.props.shouldCloseOnSelect&&et.setPreSelection(st)):et.setOpen(!1)):nt==="Escape"?(tt.preventDefault(),et.sendFocusBackToInput(),et.setOpen(!1)):nt==="Tab"&&et.setOpen(!1),et.inputOk()||et.props.onInputError({code:1,msg:INPUT_ERR_1})}}),_defineProperty(et,"onPortalKeyDown",function(tt){var nt=tt.key;nt==="Escape"&&(tt.preventDefault(),et.setState({preventFocus:!0},function(){et.setOpen(!1),setTimeout(function(){et.setFocus(),et.setState({preventFocus:!1})})}))}),_defineProperty(et,"onDayKeyDown",function(tt){et.props.onKeyDown(tt);var nt=tt.key,rt=tt.shiftKey,ot=newDate(et.state.preSelection);if(nt==="Enter")tt.preventDefault(),et.handleSelect(ot,tt),!et.props.shouldCloseOnSelect&&et.setPreSelection(ot);else if(nt==="Escape")tt.preventDefault(),et.setOpen(!1),et.inputOk()||et.props.onInputError({code:1,msg:INPUT_ERR_1});else if(!et.props.disabledKeyboardNavigation){var st;switch(nt){case"ArrowLeft":et.props.showWeekPicker?st=subWeeks(ot,1):st=subDays(ot,1);break;case"ArrowRight":et.props.showWeekPicker?st=addWeeks(ot,1):st=addDays(ot,1);break;case"ArrowUp":st=subWeeks(ot,1);break;case"ArrowDown":st=addWeeks(ot,1);break;case"PageUp":st=rt?subYears(ot,1):subMonths(ot,1);break;case"PageDown":st=rt?addYears(ot,1):addMonths(ot,1);break;case"Home":st=getStartOfWeek(ot,et.props.locale,et.props.calendarStartDay);break;case"End":st=getEndOfWeek(ot);break;default:st=null;break}if(!st){et.props.onInputError&&et.props.onInputError({code:1,msg:INPUT_ERR_1});return}if(tt.preventDefault(),et.setState({lastPreSelectChange:PRESELECT_CHANGE_VIA_NAVIGATE}),et.props.adjustDateOnChange&&et.setSelected(st),et.setPreSelection(st),et.props.inline){var ct=getMonth(ot),lt=getMonth(st),at=getYear(ot),it=getYear(st);ct!==lt||at!==it?et.setState({shouldFocusDayInline:!0}):et.setState({shouldFocusDayInline:!1})}}}),_defineProperty(et,"onPopperKeyDown",function(tt){var nt=tt.key;nt==="Escape"&&(tt.preventDefault(),et.sendFocusBackToInput())}),_defineProperty(et,"onClearClick",function(tt){tt&&tt.preventDefault&&tt.preventDefault(),et.sendFocusBackToInput(),et.props.selectsRange?et.props.onChange([null,null],tt):et.props.onChange(null,tt),et.setState({inputValue:null})}),_defineProperty(et,"clear",function(){et.onClearClick()}),_defineProperty(et,"onScroll",function(tt){typeof et.props.closeOnScroll=="boolean"&&et.props.closeOnScroll?(tt.target===document||tt.target===document.documentElement||tt.target===document.body)&&et.setOpen(!1):typeof et.props.closeOnScroll=="function"&&et.props.closeOnScroll(tt)&&et.setOpen(!1)}),_defineProperty(et,"renderCalendar",function(){return!et.props.inline&&!et.isCalendarOpen()?null:React.createElement(WrappedCalendar,{ref:function(nt){et.calendar=nt},locale:et.props.locale,calendarStartDay:et.props.calendarStartDay,chooseDayAriaLabelPrefix:et.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:et.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:et.props.weekAriaLabelPrefix,monthAriaLabelPrefix:et.props.monthAriaLabelPrefix,adjustDateOnChange:et.props.adjustDateOnChange,setOpen:et.setOpen,shouldCloseOnSelect:et.props.shouldCloseOnSelect,dateFormat:et.props.dateFormatCalendar,useWeekdaysShort:et.props.useWeekdaysShort,formatWeekDay:et.props.formatWeekDay,dropdownMode:et.props.dropdownMode,selected:et.props.selected,preSelection:et.state.preSelection,onSelect:et.handleSelect,onWeekSelect:et.props.onWeekSelect,openToDate:et.props.openToDate,minDate:et.props.minDate,maxDate:et.props.maxDate,selectsStart:et.props.selectsStart,selectsEnd:et.props.selectsEnd,selectsRange:et.props.selectsRange,selectsMultiple:et.props.selectsMultiple,selectedDates:et.props.selectedDates,startDate:et.props.startDate,endDate:et.props.endDate,excludeDates:et.props.excludeDates,excludeDateIntervals:et.props.excludeDateIntervals,filterDate:et.props.filterDate,onClickOutside:et.handleCalendarClickOutside,formatWeekNumber:et.props.formatWeekNumber,highlightDates:et.state.highlightDates,holidays:getHolidaysMap(et.modifyHolidays()),includeDates:et.props.includeDates,includeDateIntervals:et.props.includeDateIntervals,includeTimes:et.props.includeTimes,injectTimes:et.props.injectTimes,inline:et.props.inline,shouldFocusDayInline:et.state.shouldFocusDayInline,peekNextMonth:et.props.peekNextMonth,showMonthDropdown:et.props.showMonthDropdown,showPreviousMonths:et.props.showPreviousMonths,useShortMonthInDropdown:et.props.useShortMonthInDropdown,showMonthYearDropdown:et.props.showMonthYearDropdown,showWeekNumbers:et.props.showWeekNumbers,showYearDropdown:et.props.showYearDropdown,withPortal:et.props.withPortal,forceShowMonthNavigation:et.props.forceShowMonthNavigation,showDisabledMonthNavigation:et.props.showDisabledMonthNavigation,scrollableYearDropdown:et.props.scrollableYearDropdown,scrollableMonthYearDropdown:et.props.scrollableMonthYearDropdown,todayButton:et.props.todayButton,weekLabel:et.props.weekLabel,outsideClickIgnoreClass,fixedHeight:et.props.fixedHeight,monthsShown:et.props.monthsShown,monthSelectedIn:et.state.monthSelectedIn,onDropdownFocus:et.handleDropdownFocus,onMonthChange:et.props.onMonthChange,onYearChange:et.props.onYearChange,dayClassName:et.props.dayClassName,weekDayClassName:et.props.weekDayClassName,monthClassName:et.props.monthClassName,timeClassName:et.props.timeClassName,showDateSelect:et.props.showDateSelect,showTimeSelect:et.props.showTimeSelect,showTimeSelectOnly:et.props.showTimeSelectOnly,onTimeChange:et.handleTimeChange,timeFormat:et.props.timeFormat,timeIntervals:et.props.timeIntervals,minTime:et.props.minTime,maxTime:et.props.maxTime,excludeTimes:et.props.excludeTimes,filterTime:et.props.filterTime,timeCaption:et.props.timeCaption,className:et.props.calendarClassName,container:et.props.calendarContainer,yearItemNumber:et.props.yearItemNumber,yearDropdownItemNumber:et.props.yearDropdownItemNumber,previousMonthAriaLabel:et.props.previousMonthAriaLabel,previousMonthButtonLabel:et.props.previousMonthButtonLabel,nextMonthAriaLabel:et.props.nextMonthAriaLabel,nextMonthButtonLabel:et.props.nextMonthButtonLabel,previousYearAriaLabel:et.props.previousYearAriaLabel,previousYearButtonLabel:et.props.previousYearButtonLabel,nextYearAriaLabel:et.props.nextYearAriaLabel,nextYearButtonLabel:et.props.nextYearButtonLabel,timeInputLabel:et.props.timeInputLabel,disabledKeyboardNavigation:et.props.disabledKeyboardNavigation,renderCustomHeader:et.props.renderCustomHeader,popperProps:et.props.popperProps,renderDayContents:et.props.renderDayContents,renderMonthContent:et.props.renderMonthContent,renderQuarterContent:et.props.renderQuarterContent,renderYearContent:et.props.renderYearContent,onDayMouseEnter:et.props.onDayMouseEnter,onMonthMouseLeave:et.props.onMonthMouseLeave,onYearMouseEnter:et.props.onYearMouseEnter,onYearMouseLeave:et.props.onYearMouseLeave,selectsDisabledDaysInRange:et.props.selectsDisabledDaysInRange,showTimeInput:et.props.showTimeInput,showMonthYearPicker:et.props.showMonthYearPicker,showFullMonthYearPicker:et.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:et.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:et.props.showFourColumnMonthYearPicker,showYearPicker:et.props.showYearPicker,showQuarterYearPicker:et.props.showQuarterYearPicker,showWeekPicker:et.props.showWeekPicker,excludeScrollbar:et.props.excludeScrollbar,handleOnKeyDown:et.props.onKeyDown,handleOnDayKeyDown:et.onDayKeyDown,isInputFocused:et.state.focused,customTimeInput:et.props.customTimeInput,setPreSelection:et.setPreSelection,usePointerEvent:et.props.usePointerEvent,yearClassName:et.props.yearClassName},et.props.children)}),_defineProperty(et,"renderAriaLiveRegion",function(){var tt=et.props,nt=tt.dateFormat,rt=tt.locale,ot=et.props.showTimeInput||et.props.showTimeSelect,st=ot?"PPPPp":"PPPP",ct;return et.props.selectsRange?ct="Selected start date: ".concat(safeDateFormat(et.props.startDate,{dateFormat:st,locale:rt}),". ").concat(et.props.endDate?"End date: "+safeDateFormat(et.props.endDate,{dateFormat:st,locale:rt}):""):et.props.showTimeSelectOnly?ct="Selected time: ".concat(safeDateFormat(et.props.selected,{dateFormat:nt,locale:rt})):et.props.showYearPicker?ct="Selected year: ".concat(safeDateFormat(et.props.selected,{dateFormat:"yyyy",locale:rt})):et.props.showMonthYearPicker?ct="Selected month: ".concat(safeDateFormat(et.props.selected,{dateFormat:"MMMM yyyy",locale:rt})):et.props.showQuarterYearPicker?ct="Selected quarter: ".concat(safeDateFormat(et.props.selected,{dateFormat:"yyyy, QQQ",locale:rt})):ct="Selected date: ".concat(safeDateFormat(et.props.selected,{dateFormat:st,locale:rt})),React.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},ct)}),_defineProperty(et,"renderDateInput",function(){var tt,nt=clsx(et.props.className,_defineProperty({},outsideClickIgnoreClass,et.state.open)),rt=et.props.customInput||React.createElement("input",{type:"text"}),ot=et.props.customInputRef||"ref",st=typeof et.props.value=="string"?et.props.value:typeof et.state.inputValue=="string"?et.state.inputValue:et.props.selectsRange?safeDateRangeFormat(et.props.startDate,et.props.endDate,et.props):et.props.selectsMultiple?safeMultipleDatesFormat(et.props.selectedDates,et.props):safeDateFormat(et.props.selected,et.props);return React.cloneElement(rt,(tt={},_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(tt,ot,function(ct){et.input=ct}),"value",st),"onBlur",et.handleBlur),"onChange",et.handleChange),"onClick",et.onInputClick),"onFocus",et.handleFocus),"onKeyDown",et.onInputKeyDown),"id",et.props.id),"name",et.props.name),"form",et.props.form),_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(tt,"autoFocus",et.props.autoFocus),"placeholder",et.props.placeholderText),"disabled",et.props.disabled),"autoComplete",et.props.autoComplete),"className",clsx(rt.props.className,nt)),"title",et.props.title),"readOnly",et.props.readOnly),"required",et.props.required),"tabIndex",et.props.tabIndex),"aria-describedby",et.props.ariaDescribedBy),_defineProperty(_defineProperty(_defineProperty(tt,"aria-invalid",et.props.ariaInvalid),"aria-labelledby",et.props.ariaLabelledBy),"aria-required",et.props.ariaRequired)))}),_defineProperty(et,"renderClearButton",function(){var tt=et.props,nt=tt.isClearable,rt=tt.disabled,ot=tt.selected,st=tt.startDate,ct=tt.endDate,lt=tt.clearButtonTitle,at=tt.clearButtonClassName,it=at===void 0?"":at,ut=tt.ariaLabelClose,dt=ut===void 0?"Close":ut,ht=tt.selectedDates;return nt&&(ot!=null||st!=null||ct!=null||ht!=null&&ht.length)?React.createElement("button",{type:"button",className:clsx("react-datepicker__close-icon",it,{"react-datepicker__close-icon--disabled":rt}),disabled:rt,"aria-label":dt,onClick:et.onClearClick,title:lt,tabIndex:-1}):null}),et.state=et.calcInitialState(),et.preventFocusTimeout=null,et}return _inherits($,b),_createClass($,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(et,tt){et.inline&&hasPreSelectionChanged(et.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&et.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),et.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:getHightLightDaysMap(this.props.highlightDates)}),!tt.focused&&!isEqual(et.selected,this.props.selected)&&this.setState({inputValue:null}),tt.open!==this.state.open&&(tt.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),tt.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var et=this.props,tt=et.showIcon,nt=et.icon,rt=et.calendarIconClassname,ot=et.toggleCalendarOnIconClick,st=this.state.open;return React.createElement("div",{className:"react-datepicker__input-container".concat(tt?" react-datepicker__view-calendar-icon":"")},tt&&React.createElement(CalendarIcon$1,_extends({icon:nt,className:"".concat(rt," ").concat(st&&"react-datepicker-ignore-onclickoutside")},ot?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var et=this.renderCalendar();if(this.props.inline)return et;if(this.props.withPortal){var tt=this.state.open?React.createElement(TabLoop,{enableTabLoop:this.props.enableTabLoop},React.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},et)):null;return this.state.open&&this.props.portalId&&(tt=React.createElement(Portal,{portalId:this.props.portalId,portalHost:this.props.portalHost},tt)),React.createElement("div",null,this.renderInputContainer(),tt)}return React.createElement(PopperComponent$1,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:et,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop,showArrow:this.props.showPopperArrow})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:DEFAULT_YEAR_ITEM_NUMBER,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}}}])}(React.Component),PRESELECT_CHANGE_VIA_INPUT="input",PRESELECT_CHANGE_VIA_NAVIGATE="navigate";function TokensPage({icons:b,aiUsage:$,refreshHash:_e,token:et,user:tt,login:nt,logout:rt,utils:ot,config:st}){const ct=new Date;ct.setDate(ct.getDate()-14);const lt=new Date;lt.setDate(lt.getDate()+1);const[at,it]=reactExports.useState(ct),ut=reactExports.useRef();function dt(Pt){it(Pt),ut.current=Pt}const[ht,ft]=reactExports.useState(lt),pt=reactExports.useRef();function mt(Pt){ft(Pt),pt.current=Pt}const[gt,vt]=reactExports.useState([]),[yt,bt]=reactExports.useState([]),[xt,_t]=reactExports.useState([]);reactExports.useEffect(function(){At()},[]);let wt={};function At(){let Pt=$.collated(ut.current,pt.current);vt(Pt.logs),bt(Pt.tallies),_t(Pt.grandTotals)}return ot.summariseConfig(st),jsxRuntimeExports.jsxs("div",{className:"App",style:{marginLeft:"0.5em",textAlign:"left"},id:_e,children:[jsxRuntimeExports.jsxs("div",{id:"menu",style:{zIndex:"9",backgroundColor:"lightgrey",border:"1px solid grey",position:"fixed",top:0,left:0,width:"100%",height:"3em"},children:[jsxRuntimeExports.jsxs("span",{style:{float:"left",marginTop:"0.2em",marginLeft:"0.2em"},children:[jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.1em"},to:"/menu",children:jsxRuntimeExports.jsx(Button,{children:b.menu})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/chat",children:jsxRuntimeExports.jsx(Button,{children:b.chat})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/roles",children:jsxRuntimeExports.jsx(Button,{children:b.teamlarge})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/settings",children:jsxRuntimeExports.jsx(Button,{children:b.settings})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/help",children:jsxRuntimeExports.jsx(Button,{children:b.question})})]}),jsxRuntimeExports.jsxs("span",{style:{float:"right",marginTop:"0.3em",marginLeft:"0.2em",marginRight:"01em"},children:[et&&et.access_token&&jsxRuntimeExports.jsxs(Button,{onClick:function(){rt()},variant:"danger",children:[!(tt&&tt.picture)&&b.user_logout," ",tt&&tt.picture&&jsxRuntimeExports.jsx("img",{height:"28",width:"28",src:tt.picture+"?access_token="+et.access_token+"&not-from-cache-please"})]}),!(et&&et.access_token)&&jsxRuntimeExports.jsx(Button,{onClick:function(){nt()},variant:"success",children:b.user})]}),jsxRuntimeExports.jsx(Link,{to:"/tokens",children:jsxRuntimeExports.jsxs("span",{style:{color:"black",float:"right",marginTop:"0.7em",marginRight:"1em"},children:[" ",jsxRuntimeExports.jsx("b",{children:$.getTotal()})]})})]}),jsxRuntimeExports.jsx("div",{id:"body",style:{paddingLeft:"0.3em",paddingRight:"0.3em",textAlign:"left",zIndex:"3",position:"relative",top:"3em",left:0,width:"100%",paddingTop:"0.2em",backgroundColor:"white"},children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{style:{borderBottom:"2px solid black",marginBottom:"1em",paddingBottom:"1em"},children:[jsxRuntimeExports.jsx("h4",{children:"Search"}),jsxRuntimeExports.jsx("b",{children:"From:"})," ",jsxRuntimeExports.jsx(DatePicker,{selected:at,onChange:Pt=>{dt(Pt),At()}}),"   ",jsxRuntimeExports.jsx("b",{children:"To:"})," ",jsxRuntimeExports.jsx(DatePicker,{selected:ht,onChange:Pt=>{mt(Pt),At()}})]}),jsxRuntimeExports.jsx(Button,{style:{float:"right"},variant:"success",onClick:function(){ot.downloadText(JSON.stringify(gt),"statistics.json")},children:b.save}),jsxRuntimeExports.jsxs("div",{style:{borderBottom:"2px solid black",marginBottom:"1em",paddingBottom:"1em"},children:[jsxRuntimeExports.jsx("h4",{children:"Grand Totals"}),jsxRuntimeExports.jsxs("table",{children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Tokens In"}),jsxRuntimeExports.jsx("th",{children:"Tokens Out"}),jsxRuntimeExports.jsx("th",{children:"Total Tokens"}),jsxRuntimeExports.jsx("th",{children:"Cost In"}),jsxRuntimeExports.jsx("th",{children:"Cost Out"}),jsxRuntimeExports.jsx("th",{children:"Total Cost"})]})}),jsxRuntimeExports.jsx("tbody",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:xt.tokens_in>0?xt.tokens_in:0}),jsxRuntimeExports.jsx("td",{children:xt.tokens_out>0?xt.tokens_out:0}),jsxRuntimeExports.jsx("td",{children:xt.tokens_in+xt.tokens_in>0?xt.tokens_in+xt.tokens_in:0}),jsxRuntimeExports.jsx("td",{children:xt.cost_in>0?xt.cost_in:0}),jsxRuntimeExports.jsx("td",{children:xt.cost_out>0?xt.cost_out:0}),jsxRuntimeExports.jsx("td",{children:xt.cost_in+xt.cost_out>0?xt.cost_in+xt.cost_out:0})]})})]}),jsxRuntimeExports.jsx("br",{})]}),Object.keys(gt).map(function(Pt,jt){let kt=Pt.split(":::::"),St=kt[0];(kt&&kt.length)>0&&kt[1],wt[St]=wt[St]>0?wt[St]+1:1;let Ct={border:"1px solid black",paddingLeft:"0.3em"};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h5",{children:["Key: ",wt[St],"    ",St]}),jsxRuntimeExports.jsxs("table",{children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{children:"Date"}),jsxRuntimeExports.jsx("th",{children:"Tokens In"}),jsxRuntimeExports.jsx("th",{children:"Tokens Out"}),jsxRuntimeExports.jsx("th",{children:"Total Tokens"}),jsxRuntimeExports.jsx("th",{children:"Cost In"}),jsxRuntimeExports.jsx("th",{children:"Cost Out"}),jsxRuntimeExports.jsx("th",{children:"Total Cost"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[gt[Pt].map(function(Et,Tt){return jsxRuntimeExports.jsxs("tr",{style:{border:"1px solid black",backgroundColor:Tt%2===0?"lightgrey":"lightblue"},children:[jsxRuntimeExports.jsx("td",{style:Ct,children:new Date(Et.date).toLocaleString()}),jsxRuntimeExports.jsx("td",{style:Ct,children:Et.tokens_in}),jsxRuntimeExports.jsx("td",{style:Ct,children:Et.tokens_out}),jsxRuntimeExports.jsx("td",{style:Ct,children:Et.tokens_in+Et.tokens_out}),jsxRuntimeExports.jsx("td",{style:Ct,children:Et.price_in}),jsxRuntimeExports.jsx("td",{style:Ct,children:Et.price_out}),jsxRuntimeExports.jsx("td",{style:Ct,children:Et.price_in+Et.price_out})]},Tt)}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("b",{})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("b",{children:yt[Pt].tokens_in})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("b",{children:yt[Pt].tokens_out})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("b",{children:yt[Pt].tokens_out+yt[Pt].tokens_out})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("b",{children:yt[Pt].price_in})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("b",{children:yt[Pt].price_out})}),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("b",{children:yt[Pt].price_in+yt[Pt].price_out})})]})]})]})]},jt)})]})}),jsxRuntimeExports.jsx("div",{style:{position:"fixed",bottom:5,right:5,backgroundColor:"white",height:"2em",width:"2em",borderRadius:"50px"},children:jsxRuntimeExports.jsx("a",{target:"new",href:"https://github.com/syntithenai/syntithenai_agents",style:{color:"black",borderRadius:"50px"},children:b.github})})]})}function FilesPage(b){const{user:$,token:_e,login:et,logout:tt,refresh:nt,doSave:rt,aiUsage:ot,submitForm:st,stopAllPlaying:ct,stopLanguageModels:lt,aiLlm:at,usingOpenAiTts:it,usingSelfHostedTts:ut,usingWebSpeechTts:dt,usingMeSpeakTts:ht,usingTts:ft,usingStt:pt,usingOpenAiStt:mt,usingSelfHostedStt:gt,usingLocalStt:vt,queueSpeech:yt,getUrl:bt,playDataUri:xt,stopPlaying:_t,isPlaying:wt,setIsPlaying:At,isMuted:Pt,isMutedRef:jt,mute:kt,unmute:St,category:Ct,setCategory:Et,exportRoles:Tt,importRoles:$t,setSystemMessage:Ot,systemMessage:Rt,setSystemConfig:Nt,systemConfig:Ft,init:Ht,saveRole:zt,loadRole:an,roles:Jt,setRoles:Zt,currentRole:Qt,setCurrentRole:qt,newRole:vn,utteranceQueue:Yt,setUtteranceQueue:rn,mergeData:pn,setMergeData:$n,lastLlmTrigger:on,chatHistories:Tn,setChatHistories:kn,autoStartMicrophone:Bn,setAutoStartMicrophone:On,autoStopMicrophone:dn,setAutoStopMicrophone:wn,refreshHash:bn,setRefreshHash:Sn,forceRefresh:Pn,hasRequiredConfig:In,isSpeaking:Ln,setIsSpeaking:Xn,chatHistory:rr,setChatHistory:sr,isWaiting:dr,startWaiting:lr,stopWaiting:Gn,userMessage:Ut,userMessageRef:ln,setUserMessage:gn,isReady:Cn,setIsReady:Fn,config:Dn,setConfig:Un,llmEnabled:or,setLlmEnabled:tr,icons:Vt,configRef:hn,utils:cn,currentTeam:fn,currentTeamRef:Gt,teams:An,categoryFilter:zn,setCategoryFilter:Zn}=b;return reactExports.useRef(),cn.summariseConfig(Dn),jsxRuntimeExports.jsx("div",{className:"App",id:bn,children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{id:"menu",style:{zIndex:"9",backgroundColor:"lightgrey",border:"1px solid grey",position:"fixed",top:0,left:0,width:"100%",height:"3em"},children:[jsxRuntimeExports.jsxs("span",{style:{float:"left",marginTop:"0.2em",marginLeft:"0.2em"},children:[jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.1em"},to:"/menu",children:jsxRuntimeExports.jsx(Button,{children:Vt.menu})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/chat",children:jsxRuntimeExports.jsx(Button,{children:Vt.chat})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/roles",children:jsxRuntimeExports.jsx(Button,{children:Vt.teamlarge})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/settings",children:jsxRuntimeExports.jsx(Button,{children:Vt.settings})}),jsxRuntimeExports.jsx(Link,{style:{marginLeft:"0.2em"},to:"/help",children:jsxRuntimeExports.jsx(Button,{children:Vt.question})})]}),jsxRuntimeExports.jsxs("span",{style:{float:"right",marginTop:"0.3em",marginLeft:"0.2em",marginRight:"01em"},children:[_e&&_e.access_token&&jsxRuntimeExports.jsxs(Button,{onClick:function(){tt()},variant:"danger",children:[!($&&$.picture)&&Vt.user_logout," ",$&&$.picture&&jsxRuntimeExports.jsx("img",{height:"28",width:"28",src:$.picture+"?access_token="+_e.access_token+"&not-from-cache-please"})]}),!(_e&&_e.access_token)&&jsxRuntimeExports.jsx(Button,{onClick:function(){et()},variant:"success",children:Vt.user})]}),jsxRuntimeExports.jsx(Link,{to:"/tokens",children:jsxRuntimeExports.jsxs("span",{style:{color:"black",float:"right",marginTop:"0.7em",marginRight:"1em"},children:[" ",jsxRuntimeExports.jsx("b",{children:ot.getTotal()})]})})]}),jsxRuntimeExports.jsxs("div",{id:"body",style:{paddingLeft:"0.3em",paddingRight:"0.3em",textAlign:"left",zIndex:"3",position:"relative",top:"3em",left:0,width:"100%",paddingTop:"0.2em",backgroundColor:"white"},children:[jsxRuntimeExports.jsx("h3",{children:"Files"}),jsxRuntimeExports.jsx(FileList,{...b})]}),jsxRuntimeExports.jsx("div",{style:{position:"fixed",bottom:5,right:5,backgroundColor:"white",height:"2em",width:"2em",borderRadius:"50px"},children:jsxRuntimeExports.jsx("a",{target:"new",href:"https://github.com/syntithenai/syntithenai_agents",style:{color:"black"},children:Vt.github})})]})})}function wikipedia(b){async function $(tt){const nt=`https://en.wikipedia.org/w/api.php?action=query&list=search&srsearch=${encodeURIComponent(tt)}&utf8=&format=json&origin=*`;try{const rt=await fetch(nt),ot=await rt.json();if(console.log("WIKISEARCH DATA",rt,ot),ot.query.search.length>0)return"```\n"+ot.query.search.map(function(st){return st.title}).join(`
`)+"\n```"}catch(rt){return rt}}async function _e(tt){const nt=`https://en.wikipedia.org/w/api.php?action=query&prop=extracts&titles=${encodeURIComponent(tt)}&format=json&explaintext=true&origin=*`;try{const ot=await(await fetch(nt)).json();console.log("DD",ot);const st=Object.keys(ot.query.pages).length>0?Object.keys(ot.query.pages)[0]:null;return st?ot.query.pages[st].extract:""}catch(rt){return rt}}async function et(tt){let nt=await $(tt);if(console.log(nt),nt&&nt.slice&&(nt=nt.slice(3,nt.length-3).trim()),console.log(nt),nt&&nt.split(`
`).length>0)return _e(nt.split(`
`)[0])}return{wikipedia_search:$,wikipedia_load_page:_e,wikipedia_first_result:et}}function thesession(b){function $(tt){return new Promise(function(nt,rt){fetch("https://thesession.org/tunes/"+tt+"?format=json").then(function(ot){ot.json().then(function(st){let ct=[];if(st&&st.settings)for(let lt=0;lt<st.settings.length;lt++){let at=st.settings[lt];if(at&&at.abc){let it="```abc\n";it+="X:"+at.id+`
`,it+="T:"+st.name+`
`,it+=`C: 
`,it+="Z:"+(at.name?at.name:"")+`
`,it+="R:"+(at.type?at.type:"")+`
`,it+="K:"+(at.key?at.key:"")+`
`,it+=at.abc+`
`,it+="```",ct.push({content:it,log:{duration:0,tokens_in:0,tokens_out:0},name:"Setting "+(lt+1)})}}nt(ct)})}).catch(function(ot){nt("")})})}function _e(tt){return new Promise(function(nt,rt){fetch("https://thesession.org/tunes/search?format=json&q="+tt).then(function(ot){ot.json().then(function(st){st&&st.tunes&&st.tunes[0]&&st.tunes[0].id&&fetch("https://thesession.org/tunes/"+st.tunes[0].id+"?format=json").then(function(ct){ct.json().then(function(lt){let at="```abc\n";lt&&lt.settings&&lt.settings[0]&&(at+="X:"+lt.settings[0].id+`
`,at+="T:"+lt.name+`
`,at+=`C: 
`,at+="Z:"+(lt&&lt.settings&&lt.settings[0]&&lt.settings[0].member&&lt.settings[0].member.name?lt.settings[0].member.name:"")+`
`,at+="R:"+(lt&&lt.settings&&lt.settings[0]&&lt.settings[0].type?lt.settings[0].type:"")+`
`,at+="K:"+(lt&&lt.settings&&lt.settings[0]&&lt.settings[0].key?lt.settings[0].key:"")+`
`,at+=lt.settings[0].abc+`
`),at+="```",nt(at)})})})}).catch(function(ot){nt("")})})}function et(tt){return new Promise(function(nt,rt){fetch("https://thesession.org/tunes/search?format=json&q="+tt).then(function(ot){ot.json().then(function(st){let ct=st.tunes.map(function(lt){return lt.id+" "+lt.name}).join(`
`);nt("```"+ct+"```")})}).catch(function(ot){nt("")})})}return{thesession_search_list:et,thesession_search_single:_e,thesession_settings_by_id:$}}function coderunner({runtimes:b,config:$}){function _e(){return new Promise(function(nt,rt){fetch($.piston_url+"/runtimes",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(ot){ot.json().then(function(st){nt(st)})})})}function et(nt){return new Promise(function(rt,ot){if(nt){let st=nt.split("```");if(st.length>1){let ct=st[1].split(`
`),lt=ct[0].trim(),at=ct.slice(1).join(`
`);console.log("language",lt,at),tt(at,lt).then(function({response:it,error:ut}){rt(it+(ut?`
### ERROR 
`+ut:""))})}}})}function tt(nt,rt){return new Promise(function(ot,st){console.log("RUN code",rt,nt,$);let ct="",lt=!1;if(b&&Array.isArray(b)&&b.forEach(function(at){(at.language===rt||Array.isArray(at.aliases)&&at.aliases.indexOf(rt)!==-1)&&(lt=at)}),lt){let at={language:lt.language,version:lt.version,files:[{name:"sample code",content:nt}],stdin:"",args:[],compile_timeout:1e4,run_timeout:3e3,compile_memory_limit:-1,run_memory_limit:-1};ct="";try{fetch(($.tools&&$.tools.piston_url?$.tools.piston_url:"https://emkc.org/api/v2/piston")+"/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(at)}).then(function(it){console.log("ai response",it),it.json().then(function(ut){console.log("CODE RESPONSE",ut),ut&&ut.compile&&ut.compile.stderr?ct=ut.compile.stderr:ut&&ut.run&&ut.run.stderr&&(ct=ut.run.stderr),ut&&ut.run&&ut.run.stdout?it=ut.run.stdout:it="",ot({response:it,error:ct})})})}catch(it){let ut="";it=String(it),ot({response:ut,error:it}),console.error("Speech generateion error:",it)}}})}return{coderunner_load_runtimes:_e,coderunner_run:et,runCode:tt}}function websearch(b){async function $(et,tt=5){return b?(await fetch("http://localhost/websearch",{method:"POST",headers:{"Content-Type":"application/json","x-cors-api-key":b&&b.tools&&b.tools.cors_key?b.tools.cors_key:""},body:JSON.stringify({api_key:b&&b.tools&&b.tools.tavily_key?b.tools.tavily_key:"",query:et,search_depth:"basic",include_answer:!0,include_images:!1,include_raw_content:!0,max_results:tt,include_domains:[],exclude_domains:[]})})).json():""}function _e(et){return new Promise(function(tt,nt){$(et,5,b.controller?b.controller.signal:null).then(function(rt){try{let ot=[rt&&rt.answer?rt.answer:rt&&Array.isArray(rt.results)?rt.results.map(function(st){return st.content}).join(`
`):""];return tt(ot.join(`
`))}catch(ot){tt(String(ot))}tt("")}).catch(function(rt){tt("Failed web search, check your configuration and/or try again later.")})})}return{websearch_tavily:_e}}function tools({runtimes:b,config:$}){return{...wikipedia(),...thesession(),...coderunner({runtimes:b,config:$}),...websearch($)}}function useTools({runtimes:b,config:$}){return window.tools=tools({runtimes:b,config:$}),window.tools}function App({nlp:b}){function $(mn){let jn=localStorage.getItem("voice2llm_last_saved_id");jn&&mn&&mn.id===jn||bt(mn)}const _e=useUtils();var{user:et,token:tt,login:nt,logout:rt,refresh:ot,loadCurrentUser:st,loadUserImage:ct,breakLoginToken:lt}=useGoogleLogin({clientId:"730767136065-vi1urlhhqo0pj0gcb0gtn1i3kj7mc4dl.apps.googleusercontent.com",usePrompt:!1,loginButtonId:"google_login_button",scopes:["https://www.googleapis.com/auth/drive.file"]});reactExports.useEffect(function(){ot()},[]);const[at,it]=reactExports.useState(""),{save:ut,exportDocument:dt}=usePollingGoogleDocument({token:tt,logout:rt,refresh:ot,pollingInterval:1e4,onMerge:$,pausePolling:function(){},setGoogleDocumentId:it,googleDocumentId:at,googleFileName:"Voice2Llm"});function ht(){if(tt&&tt.access_token){let mn=localStorage.getItem("voice2llm_last_saved_id")?localStorage.getItem("voice2llm_last_saved_id"):pt();localStorage.setItem("voice2llm_last_saved_id",mn);let jn={id:mn,currentRole:fn,roles:Vt,chatHistoryId:wn,chatHistories:Pn,chatHistoryRoles:zn,chatHistoryTeams:Vn,currentTeam:Qn,config:Jt,logs:qn.logs,categories:rn,teams:gr};console.log("DOSAVE",mn,jn),ut(JSON.stringify(jn))}}const{scrollTo:ft,generateRandomId:pt}=useUtils(),{availableModels:mt,utteranceQueue:gt,setUtteranceQueue:vt,mergeData:yt,setMergeData:bt,lastLlmTrigger:xt,autoStartMicrophone:_t,setAutoStartMicrophone:wt,autoStopMicrophone:At,setAutoStopMicrophone:Pt,refreshHash:jt,setRefreshHash:kt,forceRefresh:St,hasRequiredConfig:Ct,isSpeaking:Et,setIsSpeaking:Tt,isWaiting:$t,startWaiting:Ot,stopWaiting:Rt,userMessage:Nt,userMessageRef:Ft,setUserMessage:Ht,isReady:zt,setIsReady:an,config:Jt,setConfig:Zt,llmEnabled:Qt,setLlmEnabled:qt,icons:vn,configRef:Yt,categories:rn,setCategories:pn,accordionSelectedKey:$n,setAccordionSelectedKey:on,categoryFilter:Tn,setCategoryFilter:kn}=useAppState({doSave:ht}),{files:Bn,fileManager:On}=useFileManager({storeName:"files",token:tt,logout:rt,allowMimeTypes:[".txt"],loadData:!1,onError:function(mn){window.alert(mn)},forceRefresh:St}),{chatHistoriesRef:dn,chatHistoryId:wn,chatHistoryIdRef:bn,setChatHistoryId:Sn,chatHistories:Pn,setChatHistories:In,newChatHistory:Ln,addUserMessage:Xn,addAssistantMessage:rr,setLastAssistantMessage:sr,setLastUserMessage:dr,getLastUserMessage:lr,currentChatHistory:Gn,revertChatHistory:Ut,deleteChatHistory:ln,duplicateChatHistory:gn,getLastAssistantChatIndex:Cn,getLastAssistantMessage:Fn}=useChatHistoryManager({utils:_e,forceRefresh:St,doSave:ht,utils:_e}),{deleteRole:Dn,exportRoles:Un,importRoles:or,init:tr,roles:Vt,rolesRef:hn,setRoles:cn,currentRole:fn,setCurrentRole:Gt,newRole:An,chatHistoryRoles:zn,setChatHistoryRoles:Zn,chatHistoryTeams:Vn,setChatHistoryTeams:Kn,currentRoleRef:Wn,currentTeam:Qn,currentTeamRef:nr,setCurrentTeam:ar,deleteTeam:yr,duplicateRole:vr,teams:gr,setTeams:mr}=useSystemMessageManager({forceRefresh:St,doSave:ht,chatHistoryId:wn,categories:rn,setCategories:pn}),qn=useOpenAiUsageLogger(),Er=useConfigManager({config:Jt}),{queueSpeech:Sr,getUrl:Dr,playDataUri:Yn,stopPlaying:en,isPlaying:Mn,setIsPlaying:Jn,isMuted:ir,isMutedRef:_r,mute:wr,unmute:xr,urlAudioPlayer:Tr}=useAudioPlayQueue({onStopPlaying:function(){St()},onStartPlaying:function(){St()},onFinishedPlaying:function(){console.log("on finish play",xt.current),xt.current==="speech"&&wt(!0),St()},onError:function(){St()},forceRefresh:St});function kr(){Kt(),(!Gn()||Gn().length>0)&&Ln()}const fr=useOpenAiTts({aiUsage:qn}),$r=useWebSpeechTts({forceRefresh:St}),Pr=useMeSpeakTts({}),[Mr,jr]=reactExports.useState({});reactExports.useEffect(()=>{try{fetch(Er.codeRunnerEndpoint()+"/api/v2/piston/runtimes",{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(mn){mn.json().then(function(jn){jr(jn)})}).catch(function(mn){console.log(mn)})}catch(mn){console.error("Speech generateion error:",mn)}},[]);const Or=useTools({runtimes:Mr,config:Jt});async function Nr(mn,jn="",cr="",pr=""){if(!(Vt&&Vt[fn]&&Vt[fn].config&&Vt[fn].config.outputType&&Vt[fn].config.outputType.trim().length>0))return Sr(mn,Jt,{aiTts:fr,webSpeechTts:$r,meSpeakTts:Pr},jn,cr,pr)}const{usingOpenAiTts:Rr,usingSelfHostedTts:Lt,usingWebSpeechTts:Wt,usingMeSpeakTts:Bt,usingTts:tn,usingStt:sn,usingOpenAiStt:Xt,usingSelfHostedStt:_n,usingLocalStt:Rn}=_e.summariseConfig(Jt),Nn=useSelfHostedLlm({url:Jt&&Jt.llm&&Jt.llm.self_hosted_url?Jt.llm.self_hosted_url:"",onReady:function(){console.log("aillm rfffready",Jt),qt(!0),St()},onStart:function(){rr(""),St(),_e.scrollTo("endofdocument")},onUpdate:function(mn,jn){sr(mn),St(),_e.scrollTo("endofdocument"),Nr(jn,"","",Vt&&Vt[fn]&&Vt[fn].config?Vt[fn].config.ttsSpeed/100:1).then(function(){})},onComplete:function(mn,jn){sr(mn),ht(),xt.current==="speech"&&wt(!0),St(),_e.scrollTo("endofdocument")},onError:function(mn){alert(mn),Kt(),Ut()},forceRefresh:St,currentChatHistory:Gn}),Dt=useLlm({url:Jt&&Jt.llm&&Jt.llm.openai_hosted_url?Jt.llm.openai_hosted_url:"https://api.openai.com",key:Jt&&Jt.llm&&Jt.llm.openai_key?Jt.llm.openai_key:"",model:Jt&&Jt.llm&&Jt.llm.openai_model?Jt.llm.openai_model:"",onReady:function(){qt(!0),St()},onStart:function(){rr(""),_e.scrollTo("endofdocument"),St()},onUpdate:function(mn,jn,cr){sr(mn,{duration:cr}),St(),_e.scrollTo("endofdocument"),Nr(jn,"","",Vt&&Vt[fn]&&Vt[fn].config?Vt[fn].config.ttsSpeed/100:1).then(function(){})},onComplete:function(mn,jn){console.log("LOCAL LLM complete",mn,jn),sr(mn,jn),ht(),xt.current==="speech"&&wt(!0),St(),_e.scrollTo("endofdocument")},onError:function(mn){alert(mn),Kt(),Ut()},forceRefresh:St,aiUsage:qn,currentChatHistory:Gn,tools:Or,nlp:b}),Mt=useTeamLlm({url:Jt&&Jt.llm&&Jt.llm.openai_hosted_url?Jt.llm.openai_hosted_url:"https://api.openai.com",key:Jt&&Jt.llm&&Jt.llm.openai_key?Jt.llm.openai_key:"",model:Jt&&Jt.llm&&Jt.llm.openai_model?Jt.llm.openai_model:"",teams:gr,roles:Vt,utils:_e,onReady:function(){qt(!0),St()},onStart:function(){rr(""),_e.scrollTo("endofdocument"),St()},onUpdate:function(mn,jn){console.log("TEAM LLM UPDATE",mn,jn),sr(mn,{duration:jn}),on(mn.length-1),St(),_e.scrollTo("endofdocument")},onComplete:function(mn,jn){console.log("TEAM LLM COMPLETE",mn,jn),sr(mn,jn),on(mn.length-1),ht(),St(),_e.scrollTo("endofdocument")},onError:function(mn){alert(mn),Kt();try{Ut()}catch{}},forceRefresh:St,aiUsage:qn,tools:Or});function It(){Tr.current&&Tr.current.pause(),en(),Pr.stop(),$r.stop(),St()}function Kt(mn=!0){console.log([Dt.isBusy,Nn.isBusy,Mt.isBusy,Mn]),console.log("STOP LANG MODELS",mn),It(),Dt.stop(),Nn.stop(),Mt.stop(),mn&&(Pt(!0),xt.current="button"),St(),console.log("D",Dt.isBusy,Nn.isBusy,Mt.isBusy,Mn)}reactExports.useEffect(function(){const{useOpenAi:mn,useSelfHosted:jn}=_e.summariseConfig(Jt);mn&&Dt.init(),jn&&Nn.init(),Qn&&Mt.init(),Yt.current=Jt},[JSON.stringify(Jt)]);function yn(mn){let jn=Yt.current;try{if(mn){Kt(!1),Xn(mn),Ht(""),ht();const{useLlm:cr,useOpenAi:pr,useSelfHosted:Ar,useGroq:Fr}=_e.summariseConfig(jn);let Lr=Wn.current&&Vt&&Vt[Wn.current]&&Vt[Wn.current].message?Vt[Wn.current].message:"";Wn.current&&Vt&&Vt[Wn.current]&&Vt[Wn.current].skills&&(Lr+=`

`+Vt[fn].skills),Wn.current&&Vt&&Vt[Wn.current]&&Vt[Wn.current].backStory&&(Lr+=`

`+Vt[Wn.current].backStory),Qn?(pr||Fr)&&Mt.start(mn,Qn,dn.current[bn.current]):(console.log("APP AI START",pr,Fr),(pr||Fr)&&Dt.start(Vt[fn],dn.current[bn.current])),St()}}catch(cr){console.log(cr)}return!1}let xn={teamLlm:Mt,chatHistoryRoles:zn,setChatHistoryRoles:Zn,chatHistoryTeams:Vn,setChatHistoryTeams:Kn,user:et,token:tt,login:nt,logout:rt,refresh:ot,doSave:ht,aiUsage:qn,submitForm:yn,stopAllPlaying:It,stopLanguageModels:Kt,aiLlm:Dt,selfHostedLlm:Nn,usingOpenAiTts:Rr,usingSelfHostedTts:Lt,usingWebSpeechTts:Wt,usingMeSpeakTts:Bt,usingTts:tn,usingStt:sn,usingOpenAiStt:Xt,usingSelfHostedStt:_n,usingLocalStt:Rn,queueSpeech:Sr,getUrl:Dr,playDataUri:Yn,stopPlaying:en,isPlaying:Mn,setIsPlaying:Jn,isMuted:ir,isMutedRef:_r,mute:wr,unmute:xr,deleteRole:Dn,exportRoles:Un,importRoles:or,init:tr,roles:Vt,setRoles:cn,currentRole:fn,setCurrentRole:Gt,newRole:An,utteranceQueue:gt,setUtteranceQueue:vt,mergeData:yt,setMergeData:bt,lastLlmTrigger:xt,autoStartMicrophone:_t,setAutoStartMicrophone:wt,autoStopMicrophone:At,setAutoStopMicrophone:Pt,refreshHash:jt,setRefreshHash:kt,forceRefresh:St,hasRequiredConfig:Ct,isSpeaking:Et,setIsSpeaking:Tt,isWaiting:$t,startWaiting:Ot,stopWaiting:Rt,userMessage:Nt,userMessageRef:Ft,setUserMessage:Ht,isReady:zt,setIsReady:an,config:Jt,setConfig:Zt,llmEnabled:Qt,setLlmEnabled:qt,icons:vn,configRef:Yt,utils:_e,newChat:kr,addUserMessage:Xn,addAssistantMessage:rr,setLastAssistantMessage:sr,setLastUserMessage:dr,getLastUserMessage:lr,chatHistoryId:wn,chatHistoryIdRef:bn,setChatHistoryId:Sn,chatHistories:Pn,setChatHistories:In,currentChatHistory:Gn,revertChatHistory:Ut,deleteChatHistory:ln,playSpeech:Nr,duplicateChatHistory:gn,configIn:Yt.current,chatHistoriesRef:dn,getLastAssistantChatIndex:Cn,getLastAssistantMessage:Fn,categories:rn,setCategories:pn,teams:gr,setTeams:mr,currentTeam:Qn,setCurrentTeam:ar,currentTeamRef:nr,deleteTeam:yr,configManager:Er,runtimes:Mr,duplicateRole:vr,accordionSelectedKey:$n,setAccordionSelectedKey:on,categoryFilter:Tn,setCategoryFilter:kn,fileManager:On,files:Bn,exportDocument:dt,availableModels:mt};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[yt&&jsxRuntimeExports.jsx(MergeWarningModal,{chatHistoryId:wn,chatHistories:Pn,setChatHistories:In,logs:qn.logs,setLogs:qn.setLogs,doSave:ht,config:Jt,setConfig:Zt,forceRefresh:St,mergeData:yt,setMergeData:bt,roles:Vt,setRoles:cn,currentRole:fn,setCurrentRole:Gt,setChatHistoryRoles:Zn,chatHistoryRoles:zn}),!yt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[!Ct(Jt)&&jsxRuntimeExports.jsx(OpenAiWizard,{login:nt,logout:rt,user:et,token:tt,config:Jt,setConfig:Zt,forceRefresh:St}),Ct(Jt)&&jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(ChatPage,{...xn})}),jsxRuntimeExports.jsx(Route,{path:"/menu",element:jsxRuntimeExports.jsx(ChatHistoryPage,{...xn})}),jsxRuntimeExports.jsx(Route,{path:"/help",element:jsxRuntimeExports.jsx(HelpPage,{...xn})}),jsxRuntimeExports.jsx(Route,{path:"/chat/:id",element:jsxRuntimeExports.jsx(ChatPage,{...xn})}),jsxRuntimeExports.jsx(Route,{path:"/chat",element:jsxRuntimeExports.jsx(ChatPage,{...xn})}),jsxRuntimeExports.jsx(Route,{path:"/simplechat/:id",element:jsxRuntimeExports.jsx(ChatPage,{...xn,simplifiedChat:!0})}),jsxRuntimeExports.jsx(Route,{path:"/simplechat",element:jsxRuntimeExports.jsx(ChatPage,{...xn,simplifiedChat:!0})}),jsxRuntimeExports.jsx(Route,{path:"/history",element:jsxRuntimeExports.jsx(ChatHistoryPage,{...xn})}),jsxRuntimeExports.jsx(Route,{path:"/settings",element:jsxRuntimeExports.jsx(SettingsPage,{...xn})}),jsxRuntimeExports.jsx(Route,{path:"/roles",element:jsxRuntimeExports.jsx(RolesPage,{...xn})}),jsxRuntimeExports.jsx(Route,{path:"/role/:id/:category",element:jsxRuntimeExports.jsx(RolePage,{...xn})}),jsxRuntimeExports.jsx(Route,{path:"/role/:id",element:jsxRuntimeExports.jsx(RolePage,{...xn})}),jsxRuntimeExports.jsx(Route,{path:"/role",element:jsxRuntimeExports.jsx(RolePage,{...xn})}),jsxRuntimeExports.jsx(Route,{path:"/privacy",element:jsxRuntimeExports.jsx(PrivacyPage,{...xn})}),jsxRuntimeExports.jsx(Route,{path:"/terms",element:jsxRuntimeExports.jsx(TermsPage,{...xn})}),jsxRuntimeExports.jsx(Route,{path:"/team/:id/:category",element:jsxRuntimeExports.jsx(TeamPage,{...xn})}),jsxRuntimeExports.jsx(Route,{path:"/team/:id",element:jsxRuntimeExports.jsx(TeamPage,{...xn})}),jsxRuntimeExports.jsx(Route,{path:"/team",element:jsxRuntimeExports.jsx(TeamPage,{...xn})}),jsxRuntimeExports.jsx(Route,{path:"/tokens",element:jsxRuntimeExports.jsx(TokensPage,{...xn})}),jsxRuntimeExports.jsx(Route,{path:"/files",element:jsxRuntimeExports.jsx(FilesPage,{...xn})})]})}),jsxRuntimeExports.jsx("div",{id:"endofdocument"}),jsxRuntimeExports.jsx("span",{style:{position:"fixed",bottom:3,right:40,backgroundColor:"white",height:"2em",width:"2em"},children:jsxRuntimeExports.jsxs("form",{action:"https://www.paypal.com/donate",method:"post",target:"_new",children:[jsxRuntimeExports.jsx("input",{type:"hidden",name:"hosted_button_id",value:"3YUZQ4TGLEVCE"}),jsxRuntimeExports.jsx("input",{type:"image",style:{transform:"rotate(20deg)",height:"30px",width:"25px"},src:"https://pics.paypal.com/00/s/OGVmNmM4NTQtMGQ0MS00NGVhLWI0NDgtNzMxYWRkMDY5NzIy/file.PNG",border:"0",name:"submit",title:"Buy me a beer!",alt:"Buy me a beer!"}),jsxRuntimeExports.jsx("img",{alt:"",border:"0",src:"https://www.paypal.com/en_AU/i/scr/pixel.gif",width:"1",height:"1"})]})})]})]})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{constant$1 as $,utils as A,rgba as B,setDiagramTitle as C,getDiagramTitle as D,clear as E,curveBasis as F,parseGenericTypes as G,setupGraphViewbox as H,random as I,define as J,extend$1 as K,Color$1 as L,rgbConvert as M,nogamma as N,hue as O,commonjsGlobal as P,getDefaultExportFromCjs as Q,Rgb as R,Selection$1 as S,dayjs as T,selectSvgElement as U,tau as V,defaultConfig$2 as W,cleanAndMerge as X,parseFontSize as Y,getThemeVariables$2 as Z,getConfig$1 as _,getAccDescription as a,Stack as a$,interpolateNumber as a0,color as a1,interpolateRgb as a2,interpolateString as a3,hasKatex as a4,calculateMathMLDimensions as a5,ZERO_WIDTH_SPACE as a6,generateId as a7,isObject$2 as a8,setToString as a9,epsilon as aA,sqrt as aB,min$2 as aC,abs$1 as aD,atan2 as aE,asin as aF,acos as aG,max$2 as aH,Utils as aI,Color as aJ,isObjectLike as aK,baseGetTag as aL,Symbol$1 as aM,arrayLikeKeys as aN,baseKeys as aO,memoize as aP,isArguments as aQ,copyObject as aR,getPrototype as aS,cloneArrayBuffer as aT,cloneTypedArray as aU,getTag as aV,nodeUtil as aW,copyArray as aX,isBuffer as aY,cloneBuffer as aZ,initCloneObject as a_,overRest as aa,baseRest as ab,isIterateeCall as ac,keysIn as ad,eq as ae,isArrayLike as af,isArray as ag,baseFor as ah,baseAssignValue as ai,identity as aj,isIndex as ak,assignValue as al,baseUnary as am,constant as an,merge$1 as ao,lineBreakRegex as ap,commonjsRequire as aq,defaultConfig as ar,commonDb as as,isDark as at,lighten as au,darken as av,pi as aw,cos as ax,sin as ay,halfPi as az,setAccDescription as b,MapCache as b0,Uint8Array$1 as b1,isTypedArray as b2,isLength as b3,Set$1 as b4,isArrayLikeObject as b5,isEmpty as b6,decodeEntities as b7,dedent as b8,getConfig as c,sanitizeText$2 as d,assignWithDepth$1 as e,calculateTextWidth as f,getAccTitle as g,select as h,configureSvgSize as i,common$1 as j,calculateTextHeight as k,log$1 as l,dist$1 as m,curveLinear as n,getStylesFromArray as o,evaluate$1 as p,interpolateToCurve as q,renderKatex as r,setAccTitle as s,setupGraphViewbox$1 as t,setConfig as u,root$1 as v,wrapLabel as w,array as x,isPlainObject as y,isFunction$1 as z};
